(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{406:function(e,t,n){},407:function(e,t,n){},454:function(e){e.exports=JSON.parse('{"login":{"rutField":"Rut","emailField":"E-mail","passwordField":"Password","loginButton":"Login","forgotPasswordText":"Forgot password.","forgotPasswordLink":"Click here."},"restorePassword":{"passwordField":"Password","confirmPasswordField":"Confirm Password","button":"Change Password","cancel":"Cancel"},"welcome":{"inspectionButton":"Inspection","assignmentButton":"Assignment","machinesButton":"M\xe1quinas","maintenanceButton":"Maintenance","reportsButton":"Reports","configurationButton":"Configuration"},"machines":{"title":"Select machine type"},"location":{"start":"Start","inspection":"Inspection","maintenance":"Maintenance","reports":"Reports","configuration":"Configuration"},"components":{"fields":{"filter":"Search"}}}')},455:function(e){e.exports=JSON.parse('{"login":{"rutField":"Rut","emailField":"E-mail","passwordField":"Contrase\xf1a","loginButton":"Ingresar","forgotPasswordText":"Olvid\xe9 mi contrase\xf1a.","forgotPasswordLink":"Click aqu\xed."},"restorePassword":{"passwordField":"Ingrese Contrase\xf1a","confirmPasswordField":"Confirme Contrase\xf1a","button":"Cambiar contrase\xf1a","cancel":"Cancelar"},"welcome":{"inspectionButton":"Inspecci\xf3n","assignmentButton":"Asignaciones","machinesButton":"M\xe1quinas","maintenanceButton":"Mantenci\xf3n","reportsButton":"Reportes","configurationButton":"Configuraci\xf3n","administrationButton":"Administraci\xf3n"},"admin":{"adminUsersButton":"Usuarios"},"roles":{"rolesUsersButton":"Roles"},"patterns":{"patternsButton":"Pautas"},"machines":{"title":"Selecciona tipo de m\xe1quina"},"location":{"start":"Inicio","inspection":"Inspecci\xf3n","maintenance":"Mantenci\xf3n","reports":"Reportes","configuration":"Configuraci\xf3n"},"components":{"fields":{"filter":"Buscar"}}}')},483:function(e,t,n){},504:function(e,t,n){},515:function(e,t,n){},519:function(e,t){},520:function(e,t){},528:function(e,t){},529:function(e,t){},530:function(e,t){},531:function(e,t){},532:function(e,t,n){},533:function(e,t,n){},547:function(e,t,n){},548:function(e,t,n){},571:function(e,t,n){},572:function(e,t,n){},573:function(e,t,n){},574:function(e,t,n){},591:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n(62),r=n.n(i),c=(n(483),n(4)),s=n(66),o=n(50),l=n(459),d=n(337),u=n(592),j=n(590),b=n(456),h=n(666),m=n.n(h),g=n(597),x=n(641),O=n(661),p=n(668),f=n(669),v=n(51),y=n(460),w=n(636),S=n(424),C=Object(y.a)({palette:{background:{default:"#fff"},primary:{light:"#DE0000",main:"#920000",dark:"#780000"}},overrides:{MuiCssBaseline:{"@global":{body:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"center",backgroundAttachment:"fixed","& ::-webkit-scrollbar":{width:"0.4em"},"& ::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"& ::-webkit-scrollbar-thumb":{borderRadius:10,backgroundColor:"rgb(160,160,160)"}}}},MuiOutlinedInput:{root:{borderRadius:20},input:{padding:10}},MuiInputLabel:{outlined:{transform:"translate(14px, 12px) scale(1)"}},MuiButton:{root:{}},MuiListItemIcon:{root:{justifyContent:"center"}}}},S.esES);window.matchMedia("(min-width: 660px)").matches;var A=Object(w.a)((function(e){return{pageContainer:Object(v.a)({},e.breakpoints.down("sm"),{padding:0}),backDrop:{zIndex:e.zIndex.drawer-1,marginTop:90,color:"#fff"}}})),k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:window.screen.width<500?"80%":"30%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},R={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:300,height:300,bgcolor:"transparent",boxShadow:10,p:4,textAlign:"center"},D={fontFamily:"Raleway",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",height:"90%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4,overflowY:"auto"},M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"100%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"100%",bgcolor:"#414646",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},B=function(e){return"superAdmin"===e?"Super Administrador":"admin"===e?"Administrador":"sapExecutive"===e?"Ejecutivo SAP":"inspectionWorker"===e?"Operario de Inspecci\xf3n":"maintenceOperator"===e?"Operario de Mantenci\xf3n":"shiftManager"===e?"Jefe de turno - Inspecci\xf3n y Mantenci\xf3n":"chiefMachinery"===e?"Jefe de maquinaria":"observer"===e?"Observador":void 0},T={storageURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL_STORAGE||"https://icvmantencion.blob.core.windows.net/plataforma-mantencion/",version:"versi\xf3n 2.9.1",storageApi:{account:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AZURE_ACCOUNT,accountKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).TOKEN_SAS_BLOB,url:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORAGE_URL,urlWithKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL_SAS_BLOB,accessKeys:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).ACCESS_KEYS}},N=T,z=function(e){if(e){var t,n=new Date(e).getDay()+1;1==n?t="Lunes":2==n?t="Martes":3==n?t="Miercoles":4==n?t="Jueves":5==n?t="Viernes":6==n?t="Sabado":7==n&&(t="Domingo");var a,i=new Date(e).getUTCDate(),r=new Date(e).getMonth();return 0==r?a="Enero":1==r?a="Febrero":2==r?a="Marzo":3==r?a="Abril":4==r?a="Mayo":5==r?a="Junio":6==r?a="Julio":7==r?a="Agosto":8==r?a="Septiembre":9==r?a="Octubre":10==r?a="Noviembre":11==r&&(a="Diciembre"),(t+" "+i+" DE "+a).toUpperCase()}return"Sin informaci\xf3n".toUpperCase()},F=function(e){var t=new Date(e).getUTCDate(),n=new Date(e).getMonth()+1,a=new Date(e).getFullYear();return n<10&&(n="0"+n),t<10&&(t="0"+t),e?t+"/"+n+"/"+a:"No informado"},P=function(e){var t=Date.now(),n=new Date(e).getHours(),a=new Date(e).getMinutes();n<10&&(n="0"+n),a<10&&(a="0"+a);var i,r=new Date(e).getDay();r==new Date(t).getDay()&&r<t-2592e5?i="Hoy":r==new Date(t).getDay()-1&&r<t-2592e5?i="Ayer":1==r?i="Lunes":2==r?i="Martes":3==r?i="Miercoles":4==r?i="Jueves":5==r?i="Viernes":6==r?i="Sabado":0==r&&(i="Domingo");var c,s=new Date(e).getDate(),o=new Date(e).getMonth();return 0==o?c="Enero":1==o?c="Febrero":2==o?c="Marzo":3==o?c="Abril":4==o?c="Mayo":5==o?c="Junio":6==o?c="Julio":7==o?c="Agosto":8==o?c="Septiembre":9==o?c="Octubre":10==o?c="Noviembre":11==o&&(c="Diciembre"),e?"Hoy"===i||"Ayer"===i?i+" "+n+":"+a:i+" "+s+" DE "+c+" "+n+":"+a:"Sin informaci\xf3n"},L=n(3),Y=n.n(L),G=n(9),U=n(34),W=n.n(U),Z=function(e,t){var n={user:{email:e,password:t}};return W.a.post("/auth/login",n)},H=function(e,t){var n={user:{rut:e,password:t}};return W.a.post("/auth/loginRut",n)},Q=function(e){var t={email:e};return W.a.post("/auth/forgotpassword",t)},q=function(e,t){var n={password:e};return W.a.post("/auth/resetpassword/".concat(t),n)},J=function(){return W.a.get("/machines/getMachinesOfProject")},V=function(){return W.a.get("/machines/readAllMachines")},X=function(e){var t={siteId:e};return W.a.post("/machines/getMachineBySiteId",t)},K=function(e){var t={machine:e};return W.a.post("/machines/saveMachineDataById",t)},_=function(){return W.a.get("/roles/getRoles")},$=function(e,t){var n={userData:e,password:t};return W.a.post("/users/createUser",n)},ee=function(e,t){var n={userData:e,id:t};return W.a.post("/users/editUser",n)},te=function(e,t){return W.a.post("/users/getUsers",{admin:e,isTest:t})},ne=function(e){var t={id:e};return W.a.post("/users/getUser",t)},ae=function(e){var t={id:e};return W.a.post("/users/deleteUser",t)},ie=function(e){var t={role:e};return W.a.post("/users/findByRole",t)},re=function(e){var t={id:e};return W.a.post("/users/getUserSign",t)},ce=function(e){var t={report:e};return W.a.post("/reports/createReport",t)},se=function(e){var t={report:e};return W.a.post("/reports/editReport",t)},oe=function(e){var t={report:e};return W.a.post("/reports/editReportById",t)},le=function(e){var t={id:e};return W.a.post("/reports/deleteReport",t)},de=function(){return W.a.get("/reports/getAllReports")},ue=function(e){var t={site:e};return W.a.post("/reports/getAllReportsbySite",t)},je=function(e,t){var n={userId:e,site:t};return W.a.post("/reports/findMyAssignations",n)},be=function(e){var t={equid:e};return W.a.post("/reports/getReportByEquid",t)},he=function(){return W.a.get("/reports/getTotalReportsToIndex")},me=function(e){var t={equid:e};return W.a.post("/machines/readMachineByEquid",t)},ge=function(e){var t={reportData:e};return W.a.post("/execution-report/getExecutionReportById",t)},xe=function(e){var t={reportData:e};return W.a.post("/execution-report/saveExecutionReport",t)},Oe=function(e,t,n){var a=new FormData;a.append("image",e,e.name),a.append("path",t),a.append("containerName",n);return W.a.post("/azure-storage/uploadImage",a,{headers:{"Content-Type":"multipart/form-data"}})},pe=function(e){var t={_id:e};return W.a.post("/internalMessagesData/get-messages-by-user",t)},fe=function(){return W.a.get("/internalMessagesData/getAllMessages")},ve=function(e){var t={message:e};return W.a.post("/internalMessagesData/sendMessage",t)},ye=function(e){var t={_id:e};return W.a.post("/internalMessagesData/removeMessage",t)},we=function(e,t,n,a,i){var r={pdfContent:e,nroOT:t,sapId:n,guide:a,numEquip:i};return W.a.post("/pdf-maker/createPdf",r)},Se=function(e){return W.a.post("/pdf-maker/createPdfDoc",{reportData:e})},Ce=function(e){var t={id:e};return W.a.post("/notifications/getNotificationsById",t)},Ae=function(e){var t={_id:e,state:!0};return W.a.post("/notifications/actualiceNotificationState",t)},ke=function(){return W.a.get("/patterns/getPatterns")},Re=function(e){return W.a.post("/patterns/savePattern",e)},De=function(){return W.a.get("/patterns/getPatternDetails")},Me=function(e){return W.a.post("/sites/getSiteById",{_id:e})},Ee=function(){return W.a.get("/sites/getSites")},Ie=n(426),Be=n.n(Ie),Te=function(e){return new Promise((function(t){new Be.a(e,{quality:.5,success:function(e){var n=new FileReader;n.onload=function(){t(n.result)},n.readAsDataURL(e)}})}))},Ne=function(e){return new Promise((function(t){var n=e.transaction(["Machines"],"readonly").objectStore("Machines");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){t(e.target.result)}}}))},ze={initDbMachines:function(){var e,t=window.indexedDB.open("Trucks",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Machines",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").add(e).onsuccess=function(){}},obtener:function(e,t){t.transaction(["Machines"],"readonly").objectStore("Machines").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Machines"],"readwrite").objectStore("Machines").put(e).onsuccess=function(){Ne(t).then((function(e){})),n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").delete(e).onsuccess=function(){Ne()}},consultar:Ne},Fe=function(e){var t=e.transaction(["pautas"],"readonly").objectStore("pautas"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Pe={initDbPMs:function(){var e,t=window.indexedDB.open("Pautas",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("pautas",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["pautas"],"readwrite").objectStore("pautas").add(e)},obtener:function(e,t){return new Promise((function(n){t.transaction(["pautas"],"readonly").objectStore("pautas").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["pautas"],"readwrite").objectStore("pautas").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["pautas"],"readwrite").objectStore("pautas").delete(e).onsuccess=function(){Fe()}},consultar:Fe,consultarPorDato:function(e,t){return new Promise((function(e){t.transaction(["pautas"],"readonly").objectStore("pautas").openCursor().onsuccess=function(e){}}))}},Le=function(e){var t=e.transaction(["Obras"],"readonly").objectStore("Obras"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Ye={initDbObras:function(){var e,t=window.indexedDB.open("Sites",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Obras",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").add(e)},obtener:function(e,t){t.transaction(["Obras"],"readonly").objectStore("Obras").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Obras"],"readwrite").objectStore("Obras").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").delete(e).onsuccess=function(){Le()}},consultar:Le},Ge=function(e){var t=e.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Ue={initDb3DFiles:function(){var e,t=window.indexedDB.open("3Ds",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){var a=(e=t.target.result).createObjectStore("3dFilesList",{keyPath:"id"});a.createIndex("model","model",{unique:!1}),a.createIndex("name","name",{unique:!1}),a.createIndex("type","type",{unique:!1}),a.createIndex("brand","brand",{unique:!1}),a.createIndex("nameModel","nameModel",{unique:!1}),a.transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){return new Promise((function(n){var a=t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").add(e);a.onsuccess=Object(G.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(t);case 2:e.sent&&n(!0);case 4:case"end":return e.stop()}}),e)}))),a.onerror=function(e){n(!1)}}))},obtener:function(e,t){return new Promise((function(n){t.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").put(e).onsuccess=Object(G.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);case 1:case"end":return e.stop()}}),e)})))}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").delete(e).onsuccess=function(){Ge()}},consultar:Ge,buscarPorNombreModelo:function(e,t){return new Promise((function(n){t.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList").index("nameModel").get(e).onsuccess=function(e){n(e.target.result)}}))}},We=function(e){return new Promise((function(t){var n=e.transaction(["Equips"],"readonly").objectStore("Equips");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){var n=new Array;n=e.target.result,t(n)}}}))},Ze={initDbMachines:function(){var e,t=window.indexedDB.open("Machines",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Equips",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Equips"],"readwrite").objectStore("Equips").add(e).onsuccess=function(){}},obtener:function(e,t){t.transaction(["Equips"],"readonly").objectStore("Equips").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Equips"],"readwrite").objectStore("Equips").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Equips"],"readwrite").objectStore("Equips").delete(e).onsuccess=function(){We()}},consultar:We},He=function(){var e,t=window.indexedDB.open("Documentation",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Reports",{keyPath:"idIndex"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},Qe=function(e,t){return new Promise((function(n){try{var a=t.transaction(["Reports"],"readwrite").objectStore("Reports").put(e);a.onsuccess=function(){n(!0)},a.onerror=function(e){console.log(e),n(!0)}}catch(i){console.log(i),n(!1)}}))},qe=function(e,t){return new Promise((function(n){var a=t.transaction(["Reports"],"readwrite").objectStore("Reports").delete(e);a.onsuccess=function(){n(!0)},a.onerror=function(){n(!1)}}))},Je=function(e){var t=e.transaction(["Reports"],"readonly").objectStore("Reports"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Ve=function(){var e,t=window.indexedDB.open("Executions",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Reports",{keyPath:"_id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},Xe=function(e,t){return new Promise((function(n){try{var a=t.transaction(["Reports"],"readwrite").objectStore("Reports").put(e);a.onsuccess=function(){n(!0)},a.onerror=function(){n(!1)}}catch(i){n(i)}}))},Ke=function(e){return new Promise((function(t){var n=e.transaction(["Reports"],"readonly").objectStore("Reports");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){var n=new Array;n=e.target.result,t(n)}}}))},_e=function(e){var t=e.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},$e={initDb:function(){var e,t=window.indexedDB.open("MachinesParts",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("MachinesPartsList",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){return new Promise((function(n){var a=t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").add(e);a.onsuccess=Object(G.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(t);case 2:e.sent&&n(!0);case 4:case"end":return e.stop()}}),e)}))),a.onerror=function(e){n(!1)}}))},obtener:function(e,t){return new Promise((function(n){t.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").put(e).onsuccess=Object(G.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);case 1:case"end":return e.stop()}}),e)})))}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").delete(e).onsuccess=function(){_e()}},consultar:_e,buscarPorNombreModelo:function(e,t){return new Promise((function(n){t.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList").index("nameModel").get(e).onsuccess=function(e){n(e.target.result)}}))}},et=function(){var e,t=window.indexedDB.open("Images",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("SinglesImages",{keyPath:"name"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},tt=function(e,t){return new Promise((function(n){try{t.transaction(["SinglesImages"],"readwrite").objectStore("SinglesImages").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},nt=function(e){var t=e.transaction(["myUser"],"readonly").objectStore("myUser"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},at={initDb:function(){var e,t=window.indexedDB.open("User",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("myUser",{keyPath:"_id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["myUser"],"readwrite").objectStore("myUser").add(e)},obtener:function(e,t){return new Promise((function(n){t.transaction(["myUser"],"readonly").objectStore("myUser").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["myUser"],"readwrite").objectStore("myUser").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["myUser"],"readwrite").objectStore("myUser").delete(e).onsuccess=function(){nt()}},consultar:nt,consultarPorDato:function(e,t){return new Promise((function(e){t.transaction(["myUser"],"readonly").objectStore("myUser").openCursor().onsuccess=function(e){}}))}},it=function(){var e,t=window.indexedDB.open("ReportesListos",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("reportesListos",{keyPath:"idIndex"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},rt=function(e){var t=e.transaction(["reportesListos"],"readonly").objectStore("reportesListos"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},ct=function(e){return new Promise(e?function(){var t=Object(G.a)(Y.a.mark((function t(n){var a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(e);case 2:(a=t.sent).data?n("".concat(a.data.name," ").concat(a.data.lastName)):n("Test Name");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}():function(e){e("Sin informaci\xf3n")})},st=function(){var e=Object(G.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(G.a)(Y.a.mark((function e(n){var a,i,r,c,s,o,l,d,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie("admin");case 2:return a=e.sent,e.next=5,ie("sapExecutive");case 5:return i=e.sent,e.next=8,ie("shiftManager");case 8:return r=e.sent,e.next=11,ie("chiefMachinery");case 11:c=e.sent,s=a.data,o=i.data,l=r.data,d=c.data,u=[],s.forEach((function(e,a){u.push(e.email),a==s.length-1&&o.forEach((function(e,a){u.push(e.email),a==o.length-1&&(1==t?l.forEach((function(e,t){u.push(e.email),t==l.length-1&&d.forEach((function(e,t){u.push(e.email),t==d.length-1&&n(u.toString())}))})):2==t?l.forEach((function(e,t){u.push(e.email),t==l.length-1&&n(u.toString())})):n(u.toString()))}))}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(G.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(G.a)(Y.a.mark((function e(n){var a,i,r,c,s,o,l,d,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie("admin");case 2:return a=e.sent,e.next=5,ie("sapExecutive");case 5:return i=e.sent,e.next=8,ie("shiftManager");case 8:return r=e.sent,e.next=11,ie("chiefMachinery");case 11:c=e.sent,s=new Array,o=new Array,s=a.data,o=i.data,l=r.data,d=c.data,u=new Array,u=[],s.forEach((function(e,a){u.push(e._id),a==s.length-1&&o.forEach((function(e,a){u.push(e._id),a==o.length-1&&(1==t?l.forEach((function(e,t){u.push(e._id),t==l.length-1&&(d.forEach((function(e,t){u.push(e._id)})),t==d.length-1&&n(u))})):2==t?l.forEach((function(e,t){u.push(e._id),t==l.length-1&&n(u)})):n(u))}))}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(e){return new Promise((function(t){navigator.onLine?me(e).then((function(e){t(e.data)})):Ze.initDbMachines().then((function(n){Ze.consultar(n.database).then((function(n){new Array;var a=n.filter((function(t){if(t.equid===e)return t}));t(a)}))}))}))},dt=function(e){return new Promise((function(t){ge(e).then((function(e){t(e.data)}))}))},ut=function(e){return new Promise((function(t){var n=new Image;n.setAttribute("crossOrigin","anonymous"),n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height,console.log(n.width,n.height);var a=e.getContext("2d");a.drawImage(n,0,0),console.log(a);var i=e.toDataURL("image/jpeg");t(i)},n.onerror=function(){console.log("error"),t(null)},n.src=e}))},jt=function(e){return new Promise(e?function(){var t=Object(G.a)(Y.a.mark((function t(n){var a,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(e);case 2:if(a=t.sent,console.log(a),!(a.data.length>0)){t.next=8;break}n(a.data),t.next=12;break;case 8:return t.next=10,ut("https://icvmantencion.blob.core.windows.net/plataforma-mantencion/assets/firma.jpg");case 10:i=t.sent,n(i);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}():function(e){e("Sin informaci\xf3n")})},bt=function(e){var t=new Date(e).getHours(),n=new Date(e).getMinutes();return t<10&&(t="0"+t),n<10&&(n="0"+n),e?t+":"+n:"Sin informaci\xf3n"},ht=n(20),mt=[{brand:"CATERPILLAR",model:"793-F",type:"camion",group:"camiones",files:[{name:"Preview"},{name:"Cabina"},{name:"Chasis"},{name:"Estructura"},{name:"Maza"},{name:"Motor"},{name:"Neumaticos"},{name:"Sistema_direccion"},{name:"Sistema_hidraulico"},{name:"Sistema_neumatico"},{name:"Suspension"},{name:"Transmision"}]},{brand:"KOMATSU",model:"PC5500",type:"pala",group:"palas",files:[{name:"Cabina"},{name:"Chasis"},{name:"Electrico"},{name:"Estructura"},{name:"Implemento"},{name:"Mando_de_giro"},{name:"Mando_final"},{name:"Motor"},{name:"Preview"},{name:"PTO"},{name:"Sistema_hidraulico"},{name:"Sistema_rodado"}]}],gt=function(){var e=Object(G.a)(Y.a.mark((function e(t,n,a,i){var r,c,s,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=Object(G.a)(Y.a.mark((function e(c,s,o){var l,d,u,j,b,h,m,g,x,O,p;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a("Modelos 3D deber\xe1n ser descargados."),l=Number(c),new Array,l!=s.length){e.next=8;break}setTimeout((function(){t&&t(100),a&&a("Recursos descargados"),setTimeout((function(){n&&(n(!1),localStorage.setItem("isLoading3D","nok")),setTimeout((function(){localStorage.getItem("version")||(i&&i(!0),localStorage.setItem("version",N.version))}),500)}),1e3)}),1e3),e.next=19;break;case 8:return d=s[l],u=d.model,j=d.brand,b=d.type,h=d.name,a&&a("Descargando modelo 3D de ".concat(h,", ").concat(j," ").concat(u)),e.next=12,fetch("".concat(N.storageURL).concat(s[l].url));case 12:m=e.sent,g=m.body.getReader(),x=+m.headers.get("Content-Length"),O=0,p=[],t&&t(0),setTimeout(Object(G.a)(Y.a.mark((function e(){var n,a,i,c,d,m,f,v;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,g.read();case 3:if(!(n=e.sent).done){e.next=22;break}a=new Uint8Array(O),i=0,c=Object(ht.a)(p);try{for(c.s();!(d=c.n()).done;)m=d.value,a.set(m,i),i+=m.length}catch(y){c.e(y)}finally{c.f()}if(f=new TextDecoder("utf-8").decode(a),!o){e.next=21;break}return e.next=13,Ue.actualizar({id:l,model:u,brand:j,type:b,name:h,nameModel:"".concat(h,"_").concat(u),data:f},o.database);case 13:if(!e.sent){e.next=21;break}return e.next=17,$e.initDb();case 17:v=e.sent,$e.actualizar({id:l,model:u,brand:j,type:b,name:h,nameModel:"".concat(h,"_").concat(u)},v.database),r(l+=1,s,o);case 21:return e.abrupt("break",27);case 22:p.push(n.value),O+=n.value.length,t&&t(100*O/x),e.next=0;break;case 27:case"end":return e.stop()}}),e)}))),1e3);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),c=function(){return new Promise((function(e){var t=new Array;t=mt;var n=new Array;n=[],t.forEach((function(a,i){a.files.forEach((function(e,t){var i="maquinas/".concat(a.group,"/").concat(a.brand.toUpperCase(),"/").concat(a.brand.toUpperCase(),"_").concat(a.model,"_").concat(e.name,".gltf");n.push({name:e.name,brand:a.brand,model:a.model,type:a.type,url:i})})),i===t.length-1&&e(n)}))}))},e.next=4,Ue.initDb3DFiles();case 4:return s=e.sent,e.next=7,Ue.consultar(s.database);case 7:if(!(e.sent.length>0)){e.next=13;break}a&&a("Modelos 3D descargados."),setTimeout((function(){t&&t(100),setTimeout((function(){n&&(n(!1),localStorage.setItem("isLoading3D","nok"))}),1e3)}),1e3),e.next=19;break;case 13:return o=new Array,e.next=16,c();case 16:o=e.sent,0,r(0,o,s);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new String;return console.log(e,t),"PC5500"===t?"Motor"===e||"Mando Final"===e||"Rodado"===e||"PTO"===e||"Neum\xe1ticos"===e||"Hidr\xe1ulico"===e||"Mando de Giro"===e||"Chassis"===e||"Cabina"===e||"Implementos"===e||"El\xe9ctrico"===e:"793-F"===t?"Motor"===e||"Transmisi\xf3n"===e||"Ejes"===e||"Neum\xe1ticos"===e||"Hidr\xe1ulico"===e||"Direcci\xf3n"===e||"Chassis"===e||"Cabina"===e||"Mazas"===e||"Sistema Neum\xe1tico"===e||"Suspensi\xf3n"===e:void 0},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String;return"Neum\xe1ticos"===e?"Neumaticos":"Chassis"===e?"Chasis":"Direcci\xf3n"===e?"Sistema_direccion":"Sistema Neum\xe1tico"===e?"Sistema_neumatico":"Hidr\xe1ulico"===e?"Sistema_hidraulico":"Suspensi\xf3n"===e?"Suspension":"Mazas"===e?"Maza":"Transmisi\xf3n"===e||"Ejes"===e?"Transmision":"Mando Final"===e?"Mando_final":"Mando de Giro"===e?"Mando_de_giro":"Rodado"===e?"Sistema_rodado":"El\xe9ctrico"===e?"Electrico":"Implementos"===e?"Implemento":e},pt=(n(504),n(43)),ft=n(465),vt=n(670),yt=n(638),wt=n(639),St=n(640),Ct=(window.indexedDB,n(321)),At=Object(Ct.a)(),kt=function(e,t){At.on("notification_".concat(e._id),(function(e){console.log(e),t(e)}))},Rt=function(e,t){At.on("nuevo_reporte_".concat(e._id),(function(e){t(e)}))},Dt=function(e){console.log("Revisando"),At.emit("isConnected",{id:e._id,frontVersion:N.version})},Mt=function(e,t,n,a,i,r,c){At.emit(e,{title:a,from:t,subtitle:i,message:r,id:n,url:c})},Et=function(e,t,n,a,i,r,c){At.emit(e,{title:n,from:t,subtitle:a,message:i,url:r,uid:c})},It=function(e,t,n,a,i,r){At.emit(e,{title:n,from:t,subtitle:a,message:i,url:r})},Bt=n(1),Tt=function(e){var t=e.open,n=e.report,i=e.closeModal,r=e.reportType,s=e.onlyClose,o=Mi(),l=(o.admin,o.userData),d=ir(),u=d.inspectors,j=d.maitenances,b=sr().sites,h=Zi().saveReport,m=Object(a.useState)(),g=Object(c.a)(m,2),x=g[0],O=g[1],p=Object(a.useState)(),f=Object(c.a)(p,2),v=f[0],y=f[1],w=n.idIndex,S=n.guide,C=n.state,A=n.usersAssigned,k=n.site,R=Object(a.useState)(!1),D=Object(c.a)(R,2),M=D[0],I=(D[1],Object(a.useState)("")),B=Object(c.a)(I,2),T=B[0],N=(B[1],Object(a.useState)(!1)),z=Object(c.a)(N,2),F=z[0],P=z[1],L=Object(a.useState)(),U=Object(c.a)(L,2),W=(U[0],U[1]),Z=Object(a.useState)(!0),H=Object(c.a)(Z,2),Q=H[0],q=H[1],J=Object(a.useState)(""),V=Object(c.a)(J,2),X=V[0],K=V[1],_=Object(a.useState)(""),$=Object(c.a)(_,2);$[0],$[1];Object(a.useEffect)((function(){t&&(ee(),O("Inspecci\xf3n"===r?u.sort((function(e,t){return e.name<t.name?-1:e.mane>t.name?1:0})):j.sort((function(e,t){return e.name<t.name?-1:e.mane>t.name?1:0}))))}),[t]),Object(a.useEffect)((function(){x&&x.length>0&&q(!1)}),[x]);var ee=function(){console.log(b);var e=b.filter((function(e){if(k===e.idobra)return e}));K(e[0].descripcion)},te=function(){var e=Object(G.a)(Y.a.mark((function e(t){var a,i,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length>0&&(a=x.filter((function(e){if(t===e._id)return e}))[0],window.confirm("Confirme que asignar\xe1 a ".concat(a.name," ").concat(a.lastName," a la OT ").concat(n.idIndex))&&((i=n).usersAssigned&&(r=i.usersAssigned,console.log(r),r&&r.length>0?(r.find((function(e,n){e===t&&r.splice(n,1)})),r.unshift(t)):r.push(t),i.usersAssigned=r,i.state="En proceso",i.level=0,h(i),Mt("nueva-asignacion","".concat(l._id),t,"Asignaciones","Se ha asignado nueva OT","OT ".concat(i.idIndex," asignada a usted"),"/assignment")),ne()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){F?i():s()};return Object(a.useEffect)((function(){W(A[0]),P(!1),"Asignar"===C?y("#DE4343"):"En proceso"===C?y("#F2994A"):"Por cerrar"===C?y("#F2C94C"):"Completadas"===C&&y("#27AE60")}),[S]),Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:E,children:[Object(Bt.jsxs)(yt.a,{style:{width:"100%",height:59,paddingLeft:0},children:[Object(Bt.jsxs)("h2",{children:["Asignar Pauta de ",r," ",S]}),Object(Bt.jsx)("div",{style:{position:"absolute",right:65,backgroundColor:v,paddingTop:3,borderRadius:5,width:100,height:20,textAlign:"center"},children:Object(Bt.jsx)("p",{style:{margin:0,fontSize:12},children:C.toUpperCase()})})]}),Object(Bt.jsxs)("div",{style:{width:"100%",height:90},children:[Object(Bt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[Object(Bt.jsx)("strong",{children:"Faena:"})," ",Object(Bt.jsx)("br",{}),X]}),Object(Bt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[Object(Bt.jsx)("strong",{children:"N\xfamero de orden:"})," ",Object(Bt.jsx)("br",{}),w]}),Object(Bt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[Object(Bt.jsx)("strong",{children:"Pauta:"})," ",Object(Bt.jsx)("br",{}),S]})]}),Object(Bt.jsx)("div",{style:{width:"100%",height:59},children:M&&Object(Bt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[Object(Bt.jsx)("strong",{children:T})," ",Object(Bt.jsx)("br",{})]})}),Object(Bt.jsxs)("div",{style:{width:"100%",height:59},children:[Object(Bt.jsx)("label",{children:"Asignar Pauta a:"}),Object(Bt.jsx)("br",{}),Object(Bt.jsxs)("select",{disabled:Q,value:A[0],onChange:function(e){te(e.target.value)},placeholder:"Seleccionar operario",style:{height:44,width:274,borderStyle:"solid",borderColor:"#C4C4C4",borderWidth:1,borderRadius:10},children:[Object(Bt.jsx)("option",{value:"",children:Q?"Leyendo operarios. Espere...":"Seleccionar operario"}),x&&x.map((function(e,t){if(e.obras[0].idobra===k)return Object(Bt.jsx)("option",{value:e._id,children:"".concat(e.name," ").concat(e.lastName)},t)}))]})]}),Object(Bt.jsx)(wt.a,{onClick:ne,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})]})})},Nt=n(642),zt=function(e){var t=e.open,n=e.progress,a=e.loadingData,i=e.withProgress;return Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsx)(vt.a,{sx:k,children:Object(Bt.jsxs)("div",{style:{height:300,textAlign:"center"},children:[i&&Object(Bt.jsx)(x.a,{variant:"determinate",size:200,value:Number(n)}),!i&&Object(Bt.jsx)(x.a,{size:200}),Object(Bt.jsx)("h2",{children:a})]})})})},Ft=function(e){var t=e.open;return Object(Bt.jsx)(ft.a,{open:t,children:Object(Bt.jsxs)(vt.a,{sx:R,children:[Object(Bt.jsx)(x.a,{size:300,color:"primary"}),Object(Bt.jsx)("img",{src:"../../assets/logo_icv_blanco.png",width:150,style:{position:"absolute",top:120,right:40}})]})})},Pt=n(30),Lt=n(29),Yt=function(e){var t=e.open,n=e.report,i=e.onlyClose,r=Object(a.useContext)(Ri).admin,o=qi().setReport,l=Object(a.useState)(),d=Object(c.a)(l,2),u=d[0],j=d[1],b=n.idIndex,h=n.guide,m=n.state,g=n.siteName,x=n.usersAssigned,O=n.sapId,p=Object(a.useState)(""),f=Object(c.a)(p,2),v=f[0],y=f[1],w=Object(a.useState)(""),S=Object(c.a)(w,2),C=S[0],A=S[1],k=Object(a.useState)(""),R=Object(c.a)(k,2),D=R[0],M=R[1],I=Object(a.useState)(""),B=Object(c.a)(I,2),T=B[0],N=B[1],z=Object(a.useState)(!1),F=Object(c.a)(z,2),L=F[0],U=F[1],W=Object(a.useState)(!1),Z=Object(c.a)(W,2),H=Z[0],Q=Z[1],q=Object(a.useState)(O),J=Object(c.a)(q,2),V=J[0],X=J[1],K=Object(s.useHistory)();Object(a.useEffect)((function(){console.log(n);return ct(n.chiefMachineryApprovedBy).then((function(e){M(e)})),ct(n.shiftManagerApprovedBy).then((function(e){A(e)})),ct(n.sapExecutiveApprovedBy).then((function(e){N(e)})),console.log(x[0]),ne(x[0]).then((function(e){var t=e.data;t&&y(t.name+" "+t.lastName)})),"Asignar"===m?j("#DE4343"):"En proceso"===m?j("#F2994A"):"Por cerrar"===m?j("#F2C94C"):"Completadas"===m&&j("#27AE60"),!1}),[]);var _=function(){Q(!H)},$=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(V.length<1)){e.next=4;break}alert("Debe agregar alg\xfan n\xfamero SAP"),e.next=15;break;case 4:return e.prev=4,t={_id:n._id,sapId:V},e.next=8,oe(t);case 8:a=e.sent,console.log(a),a&&(n.sapId=V,_()),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:E,children:[Object(Bt.jsxs)(yt.a,{style:{width:"100%",height:59,paddingLeft:0},children:[Object(Bt.jsxs)("h2",{children:["Mantenci\xf3n"===n.reportType?"Pauta de ".concat(n.reportType):""," ",h," SAP ",O||"N/A"]}),Object(Bt.jsx)("div",{style:{position:"absolute",right:65,backgroundColor:u,paddingTop:3,borderRadius:5,width:100,height:20,textAlign:"center"},children:Object(Bt.jsx)("p",{style:{margin:0,fontSize:12},children:m.toUpperCase()})})]}),Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsxs)(Nt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:[Object(Bt.jsx)("strong",{children:"Faena:"})," ",Object(Bt.jsx)("br",{}),g]}),Object(Bt.jsxs)(Nt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:[Object(Bt.jsx)("strong",{children:"N\xfamero de orden:"})," ",Object(Bt.jsx)("br",{}),b]}),Object(Bt.jsxs)(Nt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:[Object(Bt.jsx)("strong",{children:"ID de SAP:"})," ",Object(Bt.jsx)("br",{}),Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,children:H?Object(Bt.jsx)("input",{onChange:function(e){return X(e.target.value)},value:V}):V||"N/A"}),Object(Bt.jsx)(Nt.a,{item:!0,children:H?Object(Bt.jsx)("button",{style:{marginLeft:10},children:Object(Bt.jsx)(Pt.a,{icon:Lt.d,onClick:$})}):Object(Bt.jsx)("button",{style:{marginLeft:10},onClick:_,children:Object(Bt.jsx)(Pt.a,{icon:Lt.A})})})]})]})]}),Object(Bt.jsx)(Nt.a,{container:!0,children:Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(Bt.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[Object(Bt.jsx)("strong",{children:"Pauta:"})," ",Object(Bt.jsx)("br",{}),h]})})}),Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,md:6,xs:12,sm:12,lg:6,children:Object(Bt.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[Object(Bt.jsx)("div",{style:{width:"100%",height:59},children:Object(Bt.jsxs)("label",{children:["Pauta asignada a: ",Object(Bt.jsx)("b",{children:v||"No encontrado"})]})}),Object(Bt.jsx)("div",{style:{width:"100%",height:59},children:Object(Bt.jsxs)("label",{children:["Jefe de turno revisor: ",Object(Bt.jsx)("b",{children:C.length>1?C:"No encontrado"})]})}),Object(Bt.jsx)("div",{style:{width:"100%",height:59},children:Object(Bt.jsxs)("label",{children:["Jefe de maquinaria revisor: ",Object(Bt.jsx)("b",{children:D.length>1?D:"No encontrado"})]})}),Object(Bt.jsx)("div",{style:{width:"100%",height:59},children:Object(Bt.jsxs)("label",{children:["Ejecutivo SAP revisor: ",Object(Bt.jsx)("b",{children:T.length>1?T:"No encontrado"})]})})]})}),Object(Bt.jsx)(Nt.a,{item:!0,children:Object(Bt.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[Object(Bt.jsx)("div",{style:{width:"100%",height:59},children:Object(Bt.jsxs)("label",{children:["Creado: ",Object(Bt.jsx)("b",{children:P(n.createdAt)})]})}),Object(Bt.jsx)("div",{style:{width:"100%",height:59},children:Object(Bt.jsxs)("label",{children:["Inicio: ",Object(Bt.jsx)("b",{children:"Sin informaci\xf3n"===P(n.dateInit)?"No inicado":P(n.dateInit)})]})}),Object(Bt.jsx)("div",{style:{width:"100%",height:59},children:Object(Bt.jsxs)("label",{children:["Finalizado: ",Object(Bt.jsx)("b",{children:"Sin informaci\xf3n"===P(n.endReport)?"No finalizado":P(n.endReport)})]})}),Object(Bt.jsx)("div",{style:{width:"100%",height:59},children:Object(Bt.jsxs)("label",{children:["Cerrado: ",Object(Bt.jsx)("b",{children:"Sin informaci\xf3n"===P(n.dateClose)?"No cerrado":P(n.dateClose)})]})})]})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"right"}}),L&&Object(Bt.jsx)(Ft,{open:L})]}),Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:Object(Bt.jsx)("div",{style:{padding:10},children:Object(Bt.jsxs)("button",{style:{height:50,width:"100%",backgroundColor:"green",color:"#fff",fontSize:20},onClick:function(){o(n),K.push("/assignment/".concat(b))},children:[" ",Object(Bt.jsxs)("strong",{children:[" ",Object(Bt.jsx)(Pt.a,{icon:Lt.a})," Revisar OT ",b," "]})," "]})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:r&&Object(Bt.jsx)("div",{style:{padding:10},children:Object(Bt.jsxs)("button",{style:{height:50,width:"100%",backgroundColor:"red",color:"#fff",fontSize:20},onClick:function(){confirm("Se borrar\xe1 la OT ".concat(n.idIndex,". Su eliminaci\xf3n ser\xe1 permanente. \xbfDesea continuar?"))&&(U(!0),n.deleted=!0,se(n).then((function(){U(!1),location.reload()})))},children:[" ",Object(Bt.jsxs)("strong",{children:[" ",Object(Bt.jsx)(Pt.a,{icon:Lt.J})," Borrar OT ",b," "]})," "]})})})]}),Object(Bt.jsx)(wt.a,{onClick:i,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})]})})},Gt=n(596),Ut=n(643),Wt=function(e){var t=e.open,n=e.userModal,a=e.handleChange,i=e.checked,r=(e.permissionsReports,e.permissionsUsers,e.closeModal);return Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:k,children:[Object(Bt.jsx)("div",{style:{textAlign:"left",width:"100%"},children:Object(Bt.jsx)("h2",{children:"Datos del Usuario"})}),Object(Bt.jsxs)("div",{style:{width:"100%",height:"25vh"},children:[Object(Bt.jsxs)("div",{style:{float:"left",width:"30%"},children:[Object(Bt.jsx)("p",{children:Object(Bt.jsx)("strong",{children:"Nombre y Apellido"})}),Object(Bt.jsxs)("p",{children:[" ",n.name," ",n.lastName," "]}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("p",{children:Object(Bt.jsx)("strong",{children:"Rol del usuario"})}),Object(Bt.jsxs)("p",{children:[" ",n.roleTranslated," "]})]}),Object(Bt.jsxs)("div",{style:{float:"left",width:"30%"},children:[Object(Bt.jsx)("p",{children:Object(Bt.jsx)("strong",{children:"Email"})}),Object(Bt.jsxs)("p",{children:[" ",n.email]}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("p",{children:Object(Bt.jsx)("strong",{children:"RUN"})}),Object(Bt.jsxs)("p",{children:[" ",n.rut," "]})]}),Object(Bt.jsx)("div",{style:{float:"right",width:"30%"},children:Object(Bt.jsxs)(Gt.a,{children:[Object(Bt.jsx)(Ut.a,{onChange:a,checked:i}),i&&Object(Bt.jsx)("p",{children:"Usuario activo"}),!i&&Object(Bt.jsx)("p",{children:"Usuario inactivo"})]})})]}),Object(Bt.jsx)("div",{style:{width:"100%",height:"5vh",margin:10},children:Object(Bt.jsx)("button",{style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D",position:"absolute",right:30},children:"Editar usuario"})}),Object(Bt.jsx)(wt.a,{onClick:function(){return r(n)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})]})})},Zt=n(644),Ht=function(e){var t=e.open,n=e.closeModal;return Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:k,children:[Object(Bt.jsxs)("div",{style:{textAlign:"left",width:"100%"},children:[Object(Bt.jsxs)("h2",{children:["Versi\xf3n ",N.version]}),Object(Bt.jsx)("li",{children:"Mejoras por errores"})]}),Object(Bt.jsxs)("div",{style:{width:"100%",height:"25vh",overflowY:"auto"},children:[Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v2.9"}),Object(Bt.jsx)("li",{children:"Se mejora el rendimiento y repara errores de bugs producto de"}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v2.6.4"}),Object(Bt.jsx)("li",{children:"Cambios en Pautas. Ahora se pueden eliminar comentarios, fotos y el estado de ticket verde o amarillo a vac\xedo en caso de error."}),Object(Bt.jsx)("li",{children:"Se aplican filtros en OT de maquinaria."}),Object(Bt.jsx)("li",{children:"Otras modificaciones menores."}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v2.6.3"}),Object(Bt.jsx)("li",{children:"Se permite el borrado de mensajes a usuarios que crean los mensajes o Admins"}),Object(Bt.jsx)("li",{children:"Se agrega nueva vista de resumen de insumos o materiales, para ejecutivos SAP o Administradores"}),Object(Bt.jsx)("strong",{children:"v2.6.2"}),Object(Bt.jsx)("li",{children:"Reparaci\xf3n visualizaci\xf3n de pautas"}),Object(Bt.jsx)("li",{children:"Se agrega en opciones un bot\xf3n para ver las pautas descargadas en el dispositivo"}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v2.6.1"}),Object(Bt.jsx)("li",{children:"Se genera vista previa de la OT para Ejecutivo SAP y los administradores"}),Object(Bt.jsx)("li",{children:"Se crea bot\xf3n de eliminaci\xf3n de mensajes de tareas para OTs"}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v2.6"}),Object(Bt.jsx)("li",{children:"Reparaci\xf3n errore de carga de datos"}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v2.5.5"}),Object(Bt.jsx)("li",{children:"Nueva m\xe1quina Bulldozer Caterpillar D10-T2"}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v.2.5"}),Object(Bt.jsx)("li",{children:"Nuevas Obras y Nuevas m\xe1quinas."}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v.2.3.1"}),Object(Bt.jsx)("li",{children:"Reparaciones menores en lista de Ordenes"}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v.2.3.1"}),Object(Bt.jsx)("li",{children:"Error de login con R.U.N. resuelto"}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v.2.3"}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"Documentos PDF"}),Object(Bt.jsx)("li",{children:"Se agrega Nro de Pauta en t\xedtulo de la OT"}),Object(Bt.jsx)("li",{children:"Se agrega ID de Documento"}),Object(Bt.jsx)("li",{children:"Se corrige nombre de la pauta al descargar"}),Object(Bt.jsx)("strong",{children:"P\xe1gina Ordenes"}),Object(Bt.jsx)("li",{children:"Se agrega primeros filtros (ordenar por OT y ordenar por Nro de M\xe1quina)"}),Object(Bt.jsxs)("li",{children:["Se puede corregir n\xfamero SAP desde ventana emergente al presionar vot\xf3n ",Object(Bt.jsx)("button",{style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Ver"})]}),Object(Bt.jsx)("strong",{children:"M\xe1quinas"}),Object(Bt.jsxs)("li",{children:["Al ingresar a cada m\xe1quina, en el listado de las OT, puede ver un ",Object(Bt.jsx)("a",{href:"#",children:"Enlace Documento"})," en caso de existir documento PDF creado."]}),Object(Bt.jsx)("strong",{children:"Login"}),Object(Bt.jsx)("li",{children:"Login por defecto queda por R.U.N."}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v.2.2.1"}),Object(Bt.jsx)("li",{children:"Reparaci\xf3n de errores generados en versi\xf3n 2.2"}),Object(Bt.jsx)("strong",{children:"v.2.2"}),Object(Bt.jsx)("li",{children:"Se habilita multiusuarios."}),Object(Bt.jsx)("strong",{children:"v.2.1"}),Object(Bt.jsx)("li",{children:"Correcci\xf3n de errores al cierre de OT."}),Object(Bt.jsx)("li",{children:"Todo usuario que no sea operario, obtendr\xe1 la pauta desde la base de datos. Con esto se espera que se elimine la informaci\xf3n."}),Object(Bt.jsx)("p",{children:"Se ha actualizado la aplicaci\xf3n de servicios de Mantenimiento e Inspecci\xf3n."}),Object(Bt.jsx)("strong",{children:"v.2.0"}),Object(Bt.jsx)("li",{children:"Se agrega al servicio sistema de b\xfasqueda por Nombre, Rut y Correo Electr\xf3nico"}),Object(Bt.jsx)("li",{children:"Se elimina la posibilidad al Jefe de Maquinaria la posibilidad de comentar."}),Object(Bt.jsxs)("li",{children:["Se agrega al servicio restaurador de datos de ejecuci\xf3n de OT desde la cuenta de Operador o Mantenedor, utilizando bot\xf3n ",Object(Bt.jsx)("strong",{children:"Restaurar"}),"."]}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Bt.jsx)(wt.a,{color:"primary","aria-label":"add",children:Object(Bt.jsx)(Zt.a,{})})}),Object(Bt.jsx)("div",{style:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#ccc",paddingTop:0,marginBottom:50}}),Object(Bt.jsx)("strong",{children:"v.1.9.9"}),Object(Bt.jsx)("li",{children:"Modificaciones en vistas de Ordenes."}),Object(Bt.jsx)("li",{children:"Se habilita vista de Ordenes para Jefe de Maquinaria. Este perfil no puede generar nuevo documento PDF por estar fuera del flujo de actualizaciones de la OT."}),Object(Bt.jsx)("strong",{children:"v.1.9.8"}),Object(Bt.jsx)("li",{children:"Reparaci\xf3n de fallos al subir las AST."}),Object(Bt.jsx)("strong",{children:"v.1.9.7"}),Object(Bt.jsx)("li",{children:"Reparaci\xf3n de fallos PDF."}),Object(Bt.jsx)("strong",{children:"v.1.9.6"}),Object(Bt.jsx)("li",{children:"Inserta im\xe1genes de comentarios en PDF."}),Object(Bt.jsx)("strong",{children:"v.1.9.5"}),Object(Bt.jsx)("li",{children:"Cambios en la generaci\xf3n del documento PDF. Ahora se crea autom\xe1ticamente al cerrar la OT por parte del Ejecutivo SAP, Admin o Super Admin."}),Object(Bt.jsx)("li",{children:"Listado de OTs en p\xe1gina Ordenes, ordenados por Nro OT."}),Object(Bt.jsx)("strong",{children:"v.1.9"}),Object(Bt.jsx)("li",{children:"Se integra servicio Storage para im\xe1genes de la plataforma."}),Object(Bt.jsx)("strong",{children:"v.1.8.9"}),Object(Bt.jsx)("li",{children:"Cambios en forma de llenado de pauta, presionando el checkbox."}),Object(Bt.jsx)("li",{children:"Mejoras de rendimiento."}),Object(Bt.jsx)("strong",{children:"v.1.8.8"}),Object(Bt.jsx)("li",{children:"Reparaci\xf3n de notificaciones."}),Object(Bt.jsx)("li",{children:"Vista notificaciones de p\xe1gina de inicio se actualiza junto a la llegada de notificaciones push."}),Object(Bt.jsx)("strong",{children:"v.1.8.7"}),Object(Bt.jsx)("li",{children:"Cambios en los permisos de roles."}),Object(Bt.jsx)("li",{children:"Correo para creaci\xf3n de usuarios opcional."}),Object(Bt.jsx)("strong",{children:"v.1.8.6"}),Object(Bt.jsx)("li",{children:"Se agrega login usando RUT."}),Object(Bt.jsx)("li",{children:"Reparaci\xf3nes menores."}),Object(Bt.jsx)("strong",{children:"v.1.8.5"}),Object(Bt.jsx)("li",{children:"Reparaciones menores."}),Object(Bt.jsx)("strong",{children:"v.1.8"}),Object(Bt.jsx)("li",{children:"Modelo 3D de subsistema desde la OT."}),Object(Bt.jsx)("li",{children:"Etiquetado de Pala y Cami\xf3n."}),Object(Bt.jsx)("strong",{children:"v.1.7"}),Object(Bt.jsx)("li",{children:"Se posicionan etiquetas de Pala y Cami\xf3n de acuerdo a indicaciones."}),Object(Bt.jsx)("strong",{children:"v.1.6"}),Object(Bt.jsx)("li",{children:"Se habilita vista 3D de m\xe1quinas. Solo cambi\xf3n Caterpillar 793-F cuenta con etiquetas en las partes."}),Object(Bt.jsx)("li",{children:"Se habilita bot\xf3n de borrado del sistema en caso de requerir limpiar la memoria."}),Object(Bt.jsx)("strong",{children:"v.1.5"}),Object(Bt.jsx)("li",{children:"Se agrega elemento que permite borrar o cambiar la AST."}),Object(Bt.jsx)("strong",{children:"v.1.4"}),Object(Bt.jsx)("li",{children:"Optimizaciones. Cambios al proceso de flujo. Se corrige error al enviar OT finalizando sin conexi\xf3n."}),Object(Bt.jsx)("strong",{children:"v.1.3"}),Object(Bt.jsx)("li",{children:"Ajustes de usuarios. Correcci\xf3n en caso de cambios para la AST."}),Object(Bt.jsx)("li",{children:"Correcci\xf3n de errores."}),Object(Bt.jsx)("strong",{children:"v.1.2"}),Object(Bt.jsx)("li",{children:"Cambios de vistas. Se agrega foto AST en pautas."}),Object(Bt.jsx)("strong",{children:"v.1.1"}),Object(Bt.jsx)("li",{children:"Se agrega listado de OTs asignadas a cada m\xe1quina."}),Object(Bt.jsx)("li",{children:"Se ajustan cambios en pautas."}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:"v.1.0"}),Object(Bt.jsx)("li",{children:"Habilitado producci\xf3n."})]}),Object(Bt.jsx)(wt.a,{onClick:function(){return n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})]})})},Qt=(n(461),n(645)),qt=(n(515),n(430)),Jt=n.n(qt),Vt=n(188),Xt=function(e){var t=e.open,n=e.closeModal,i="/icv_web_model/model.json",r=["Pala","Cuerpo","Cabina_Pala","Oruga","Brazo","Balde","Trasero_Pala","Camion","Neumaticos","Tolva","Cabina_Camion","Parrilla","Trasero_Camion"],s=Object(a.useState)(null),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)(""),j=Object(c.a)(u,2),b=j[0],h=j[1],m=Object(a.useState)(!1),g=Object(c.a)(m,2),x=g[0],O=g[1],p=Object(a.useState)(!1),f=Object(c.a)(p,2),v=f[0],y=f[1];Object(a.useEffect)((function(){var e=!1;if(!e)return Vt.d(i).then((function(t){e||d(t)})),function(){e=!0}}),[]);var w=function(e,t,n){var a=e.naturalWidth,i=e.naturalHeight;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#000000",n.fillRect(0,0,t.width,t.height);var r=Math.min(t.width/e.naturalWidth,t.height/e.naturalHeight),c=Math.round(a*r),s=Math.round(i*r);n.drawImage(e,0,0,a,i,(t.width-c)/2,(t.height-s)/2,c,s)},S=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById("canvas"),a=n.getContext("2d"),w(t.target,n,a),i=Vt.e((function(){return Vt.c.resizeBilinear(Vt.a.fromPixels(n),[640,640]).div(255).expandDims(0)})),l&&i&&l.executeAsync(i).then((function(e){O(!1),y(!0);var t="16px sans-serif";a.font=t,a.textBaseline="top";var i,s=Object(c.a)(e,4),o=s[0],l=s[1],d=s[2],u=s[3],j=o.dataSync(),b=l.dataSync(),h=d.dataSync(),m=u.dataSync()[0];for(Vt.b(e),i=0;i<m;++i){var g=j.slice(4*i,4*(i+1)),x=Object(c.a)(g,4),p=x[0],f=x[1],v=x[2],w=x[3];p*=n.width,v*=n.width,f*=n.height;var S=v-p,C=(w*=n.height)-f,A=r[h[i]],k=b[i].toFixed(2);a.strokeStyle="#00FFFF",a.lineWidth=4,a.strokeRect(p,f,S,C),a.fillStyle="#00FFFF";var R=a.measureText(A+":"+k).width,D=parseInt(t,10);a.fillRect(p,f,R+4,D+4)}for(i=0;i<m;++i){var M=j.slice(4*i,4*(i+1)),E=Object(c.a)(M,3),I=E[0],B=E[1];I*=n.width,B*=n.height;var T=r[h[i]],N=b[i].toFixed(2);a.fillStyle="#000000",a.fillText(T+":"+N,I,B)}})).catch((function(e){O(!1),alert("Se detecta que la m\xe1quina no est\xe1 completa en la im\xe1gen. Por favor al\xe9jese de la m\xe1quina para que el sistema logre identificar todas las partes.")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:M,children:[Object(Bt.jsxs)("div",{className:"Dropzone-page",children:[Object(Bt.jsxs)("h3",{children:["Inserte su im\xe1gen. ",Object(Bt.jsx)("br",{})," Para cambiar solo vuelva a tocar el cuadrado."]}),l?Object(Bt.jsxs)(Jt.a,{className:"Dropzone",accept:"image/jpeg, image/png, .jpg, .jpeg, .png",multiple:!1,onDrop:function(e,t,n){v?(O(!0),Vt.d(i).then((function(t){d(t),setTimeout((function(){h(e[0].preview||n[0])}),2e3)}))):(O(!0),setTimeout((function(){h(e[0].preview||n[0])}),2e3))},children:[b?Object(Bt.jsx)("img",{alt:"upload preview",onLoad:S,className:"Dropzone-img",src:b}):Object(Bt.jsx)("h2",{children:"Presione para elegir una foto desde el archivo"}),Object(Bt.jsx)("canvas",{id:"canvas",width:"640",height:"640"})]}):Object(Bt.jsx)("div",{className:"Dropzone",children:"Cargando modelo..."})]}),Object(Bt.jsx)(zt,{open:x,withProgress:!1,loadingData:"Cargando datos..."}),Object(Bt.jsx)(wt.a,{onClick:function(){n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})]})})},Kt=(n(532),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAABpCAYAAADoScsPAAABVWlDQ1BEaXNwbGF5IFAzAAAoz2NgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGgkwMjB8uwYiGRgu64LMOiU1tUm1XsDXYqbw1YuvRJsY8AOulNTiZCD9B4hTkwuKSoBGpgDZyuUlBSB2B5AtUgR0FJA9B8ROh7A3gNhJEPYRsJqQIGcg+waQrZCckQg0g/EHkK2ThCSejsSG2gsC3C6ZxQU5iZUKAcYMVAclqRUlINo5v6CyKDM9o0TBERhKqQqeecl6OgpGBobmDAygMIeo/hwIDktGsTMIseb7DAy2+////78bIea1n4FhI1An106EmIYFA4MgNwPDiZ0FiUWJYCFmIGZKS2Ng+LScgYE3koFB+AJQT3RxmrERJPZ4nBgYWO/9//9ZjYGBfTIDw98J////XvT//9/FQM13GBgO5AEAFwJl7w8EHeAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAnOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5MzM4Y2ZlLWEyODctNDk2MC1iODcyLTk5YWY2YWRjYzYwYSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjJkZTFlNjU4LTg3NDEtYmY0YS05NzYyLTVlZjMxNzAxM2Q3YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyMjhiZDNiLWViZDEtNDM3Ny04N2UxLTkwNDMxNmNjZmIwOSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRpc3BsYXkgUDMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI4YmQzYi1lYmQxLTQzNzctODdlMS05MDQzMTZjY2ZiMDkiIHN0RXZ0OndoZW49IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTkzMzhjZmUtYTI4Ny00OTYwLWI4NzItOTlhZjZhZGNjNjBhIiBzdEV2dDp3aGVuPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjAwNjQ2MkNDRjBEN0QxMUI4RkYyRTQxQTc0NjAyQzRGPC9yZGY6bGk+IDxyZGY6bGk+MUMwODU5NjM2MTVEOTlDOEY4MDlEOEQ2MzEwNjk2MTI8L3JkZjpsaT4gPHJkZjpsaT4xQzYxNjVFODQwNTlBRjBCQUNFQzcwMUNFRUE4ODUzODwvcmRmOmxpPiA8cmRmOmxpPjU3NjEzM0IwMTc1ODM0QTM5OTRBQTA4RjYxRUJCQzE2PC9yZGY6bGk+IDxyZGY6bGk+NUZCQzczNEJBQzk2MzYxMDI0NzFDMkMxRDQzRkNENUU8L3JkZjpsaT4gPHJkZjpsaT44NEJFRkM1N0VDRjBBMkQ2MTFCRTM4QjIyODU0NDFFQjwvcmRmOmxpPiA8cmRmOmxpPkIxQkEyNkY5RDM3QzE4MTg3RjMwMzRBQTFCQkIzNUVBPC9yZGY6bGk+IDxyZGY6bGk+Q0JDOTNCMzBEQ0YxNkU3RDgzMzYyNDdBMDAyOTU4MzM8L3JkZjpsaT4gPHJkZjpsaT5GOEVEOEI3NEZGRkVDNkRBNDExNzZGRDUyNzY5NTk1NTwvcmRmOmxpPiA8cmRmOmxpPkZFNkJEMEJBNUJFQzE5RDQ3OTE0NEMxNTJDQkJDRUYyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDowMEMyNkRBQzI0MjA2ODExOERCQkQ4MzgxN0Q4NjVFNTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NjgyNWRjMjQtY2ZhOC00ODBlLWE5MmItMmUzNDM5ZThhNWQ0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo2OUQ3QUJCNDIxMjA2ODExOEY2MkVGRUNFNjdBQ0M0MzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QTZDNzJERDQwNzIwNjgxMTk1RkVDRDVERDFDODBCMTU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkQxQjVGNTREQTFDMjExRTFBQzZEQ0JBNUM5RDJGMjAwPC9yZGY6bGk+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"),_t=n.p+"static/media/check.f24c812a.png",$t=[],en=function(e,t){console.log("Creando Tabla");var n=[];return new Promise((function(a){t.forEach(function(){var i=Object(G.a)(Y.a.mark((function i(r,c){return Y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=[10,50,40,130,170,50,50,30,"*",35],i.next=3,ln(r,e[c],c);case 3:i.t1=i.sent,i.t2={widths:i.t0,body:i.t1},n[c]={style:"title",table:i.t2},c==t.length-1&&a(n);case 7:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}())}))},tn=function(e){console.log("Creando tabla de las AST");var t=[];return new Promise((function(n){console.log(e),e.forEach(function(){var a=Object(G.a)(Y.a.mark((function a(i,r){var c;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!i.imageUrl){a.next=4;break}return a.next=3,rn(i.imageUrl);case 3:c=a.sent;case 4:c&&(t[r]=[{image:c.image,width:500*c.width/c.height,height:500}]),r==e.length-1&&(console.log("Tabla AST lista"),n(t));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}))},nn=function(e){console.log("Creando tabla de historial");var t=[];return new Promise((function(n){e.sort((function(e,t){return e.id-t.id})),e.forEach(function(){var a=Object(G.a)(Y.a.mark((function a(i,r){return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0==r&&t.push({pageBreak:"before",text:"Historial de la OT\n\n",fontSize:16,bold:!0}),a.t0=t,a.t1="",!i.name){a.next=7;break}a.t2=i.name,a.next=10;break;case 7:return a.next=9,ct(i.userSendingData);case 9:a.t2=a.sent;case 10:a.t3=a.t2,a.t4=a.t1.concat.call(a.t1,a.t3,"\n"),a.t5=[a.t4],a.t6={text:a.t5,bold:!0,fontSize:8},a.t7={text:["Fecha: ".concat(z(i.id).toLowerCase(),"\n")],fontSize:8},a.t8={text:["Estado: "+"".concat("sending-to-next-level"===i.type?"Enviado":"Rechazado","\n")],color:"".concat("sending-to-next-level"===i.type?"#81E508":"#852F07"),fontSize:8},a.t9={text:"Mensaje: \n",fontSize:8},a.t10={text:[{text:"".concat(i.message,"\n"),italics:!0}],fontSize:8},a.t11={text:".................................\n"},a.t0.push.call(a.t0,a.t6,a.t7,a.t8,a.t9,a.t10,a.t11),r==e.length-1&&(console.log("Tabla historial lista"),n(t));case 21:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}))},an=function(e){return console.log("Creando im\xe1gen..."),new Promise(function(){var t=Object(G.a)(Y.a.mark((function t(n){var a,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.blob();case 5:i=t.sent,n(i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},rn=function(e){return new Promise((function(t){try{var n=new Image;n.setAttribute("crossOrigin","anonymous"),n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height,console.log(n.width,n.height);var a=e.getContext("2d");a.drawImage(n,0,0),console.log(a);var i=e.toDataURL("image/jpeg");t({image:i,width:n.width,height:n.height})},n.onerror=function(){console.log("error"),t(null)},n.src=e}catch(b){t(null)}}))},cn=0,sn=function(e){console.log("Creando tabla de im\xe1genes");var t=[];console.log($t);try{return new Promise((function(e){$t.forEach(function(){var n=Object(G.a)(Y.a.mark((function n(a,i){var r,c;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(a),r=a.namePicture.replace("Pregunta","Tarea"),!a.urlImageMessage){n.next=9;break}return n.next=5,rn(a.urlImageMessage);case 5:(c=n.sent)&&(cn+=1),n.next=10;break;case 9:c={image:a.urlBase64};case 10:t[i]=[{image:c.image,width:500*c.width/c.height,height:500},{width:100,alignment:"center",text:"Hoja: \n "+a.title+"\n \n Descripci\xf3n: \n "+a.descr+"\n \n Observaciones: \n "+a.obs+"\n \n Comentario id: \n "+a.id+'\n \n "'+r+'"\n \n  Im\xe1gen: \n '+P(a.id)+"\n \n Usuario: \n "+a.name+"\n \n \n \n __________________"}],i==$t.length-1&&on(i,t,e);case 12:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}))}catch(b){console.log(b)}},on=function e(t,n,a){return new Promise((function(i){setTimeout((function(){n.length==cn?(console.log("Tabla de im\xe1genes lista"),a(n),i(!0)):e(t,n,a)}),1e3)}))},ln=function(){var e=Object(G.a)(Y.a.mark((function e(t,n,a){var i,r,c,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Creando subtabla "+(n+1)),e.next=3,an(_t);case 3:return i=e.sent,e.next=6,an("data:image/png;base64,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");case 6:return r=e.sent,c=0==a?"none":"before",s=[[{colSpan:10,border:[!0,!0,!0,!0],text:"".concat(a,".- ").concat(n),fillColor:"#DADADA",pageBreak:c},{},{},{},{},{},{},{},{},{}]],e.abrupt("return",new Promise((function(e){t.forEach(function(){var n=Object(G.a)(Y.a.mark((function n(a,c){var o,l,d;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(a),a.writeCommits?(a.writeCommits.length>0&&a.writeCommits.forEach((function(e,t){(e.urlBase64||e.urlImageMessage)&&$t.push(e)})),o="".concat(a.writeCommits[0].userName,": ").concat(a.writeCommits[0].commit),l=F(a.writeCommits[0].id),d=bt(a.writeCommits[0].id)):a.readCommits?(a.readCommits.length>0&&a.readCommits.forEach((function(e,t){(e.urlBase64||e.urlImageMessage)&&$t.push(e)})),o="Observaci\xf3n: -- ".concat(a.readCommits[0].userName,": ").concat(a.readCommits[0].commit),l=F(a.readCommits[0].id),d=bt(a.readCommits[0].id)):a.messages&&(a.messages.length>0&&a.messages.forEach((function(e,t){(e.urlBase64||e.urlImageMessage)&&(console.log(e),e.title=a.strpmdesc,e.descr=a.taskdesc,e.obs=a.obs01,$t.push(e))})),a.isWarning?(o="Observaci\xf3n: -- ".concat(a.messages[0].name,": ").concat(a.messages[0].content),l=F(a.messages[0].id),d=bt(a.messages[0].id)):(console.log(a.messages[0]),o="".concat(a.messages[0]?a.messages[0].name:"N/A",": ").concat(a.messages[0]?a.messages[0].content:"N/A"),l=F(a.messages[0]?a.messages[0].id:"N/A"),d=bt(a.messages[0]?a.messages[0].id:"N/A"))),!a.isWarning){n.next=8;break}return n.next=5,Te(r);case 5:a.image=n.sent,n.next=11;break;case 8:return n.next=10,Te(i);case 10:a.image=n.sent;case 11:s[c+1]=[{alignment:"center",fontSize:8,text:c+1},{fontSize:8,text:"".concat(l," \n ").concat(d)},{fontSize:8,text:a.workteamdesc},{fontSize:8,text:a.taskdesc},{fontSize:8,text:a.obs01},{fontSize:8,text:"*"===a.partnumberUtl?"N/A":a.partnumberUtl},{fontSize:8,text:a.unidadData?"".concat(a.unidadData," ").concat(a.unidad):"N/A"},{fontSize:8,text:"*"===a.idtypeutlPartnumber?"N/A":"".concat(a.idtypeutlPartnumber)},{fontSize:8,text:o},{alignment:"center",image:a.image,width:15}],c==t.length-1&&(console.log(s),e(s));case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),dn=function(e,t,n,a,i,r){return console.log("Creando tabla de firmas"),console.log(e,t,n,a,i),[{columns:[{pageBreak:"before",text:"Responsables: ",margin:[0,50,0,0]},{pageBreak:"before",alignment:"right",margin:[0,50,0,0],width:"*",text:"Fecha: ".concat(F(Date.now())," \n Hora: ").concat(bt(Date.now()))}]},{columns:[{alignment:"center",margin:[0,100,0,10],width:200,height:100,image:e||null},{alignment:"center",margin:[0,100,0,10],width:200,height:100,image:t||null},{alignment:"center",margin:[0,100,0,10],width:200,height:100,image:n||null}]},{columns:[{alignment:"center",margin:[0,10,0,200],width:200,text:a+"\n Jefe de Maquinaria"},{alignment:"center",margin:[0,10,0,200],width:200,text:i+"\n Jefe de Turno"},{alignment:"center",margin:[0,10,0,200],width:200,text:r+"\n T\xe9cnico Inspecci\xf3n o Mantenimiento"}]}]},un=function(e){var t=e.open,n=e.reportData,i=e.close,r=Object(a.useState)(),s=Object(c.a)(r,2),o=s[0],l=s[1],d=Object(a.useState)(!1),u=Object(c.a)(d,2),j=u[0],b=u[1];Object(a.useEffect)(Object(G.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,lt(n.machine);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[n]);var h=function(){b(!0);try{(function(e,t,n){return console.log(e),new Promise(function(){var a=Object(G.a)(Y.a.mark((function a(i){var r,c,s,o,l,d,u,j,b,h,m,g,x;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n&&n("Detectando firmas de los usuarios"),a.next=3,ct(e.createdBy);case 3:return r=a.sent,a.next=6,ct(e.chiefMachineryApprovedBy);case 6:return c=a.sent,a.next=9,jt(e.chiefMachineryApprovedBy);case 9:return s=a.sent,a.next=12,ct(e.shiftManagerApprovedBy);case 12:return o=a.sent,a.next=15,jt(e.shiftManagerApprovedBy);case 15:return l=a.sent,a.next=18,ct(e.usersAssigned[0]);case 18:return d=a.sent,a.next=21,jt(e.usersAssigned[0]);case 21:return u=a.sent,a.next=24,dt(e);case 24:return j=a.sent,console.log(j),s&&console.log("Firma de jefe maquinaria"),l&&console.log("Firma de jefe de turno"),u&&console.log("Firma de operario"),e.testMode?(m=Object.keys(j[0].group),g=Object.values(j[0].group),b=[m[0],m[1]],h=[g[0],g[1]]):(b=Object.keys(j[0].group),h=Object.values(j[0].group)),n&&n("Generando Tablas"),a.t0={columns:[{alignment:"left",text:"DEPTO DE CONTROL Y GESTI\xd3N DE MAQUINARIA",style:"deptoInfo",width:100},{alignment:"center",text:"ORDEN DE TRABAJO ".concat(e.idIndex," \n PAUTA DE ").concat(e.reportType," ").concat(e.guide).toUpperCase(),style:"subheader",width:"*"},{width:100,columns:[{width:"*",text:""},{alignment:"right",image:Kt,width:60}]}]},a.t1={columns:[{width:200,style:"table",table:{body:[["Tipo","".concat(t.type)],["Marca","".concat(t.brand)],["Modelo","".concat(t.model)],["N\xb0","".concat(t.equ)]]}},{width:200,columns:[{width:50,style:"table",table:{body:[["Equipos","TODOS"],["Pauta","".concat(e.idPm)]]}},{width:"*",text:""}]},{width:200,columns:[{width:"*",text:""},{width:70,style:"table",table:{body:[["Fecha Creaci\xf3n: ","".concat(F(e.createdAt))],["Creado por: ","".concat(r)]]}},{width:"*",text:""}]},{width:250,columns:[{width:"*",text:""},{width:200,style:"table",table:{body:[["ID Documento: ","".concat(e.idPm,"-").concat(e.guide)]]}}]}]},a.t2={style:"title",table:{widths:[10,50,40,130,170,50,50,30,"*",35],body:[["N\xb0","Fecha","Personal Necesario","Descripci\xf3n de la tarea","Observaciones","N\xb0 Parte Utilizado","Cantidad Utilizada","Tipo Rpto","Comentarios","Trabajo Realizado"]]},layout:{fillColor:"#DADADA"}},a.next=36,en(b,h);case 36:if(a.t3=a.sent,!(e.history.length>0)){a.next=43;break}return a.next=40,nn(e.history);case 40:a.t4=a.sent,a.next=44;break;case 43:a.t4={};case 44:if(a.t5=a.t4,a.t6=dn(s,l,u,c,o,d),!(j[0].astList&&j[0].astList.length>0)){a.next=55;break}return a.t8=["*"],a.next=50,tn(j[0].astList);case 50:a.t9=a.sent,a.t10={alignment:"center",widths:a.t8,body:a.t9},a.t7={style:"title",table:a.t10},a.next=56;break;case 55:a.t7={};case 56:if(a.t11=a.t7,!($t.length>0)){a.next=66;break}return a.t13=["*",100],a.next=61,sn();case 61:a.t14=a.sent,a.t15={widths:a.t13,body:a.t14},a.t12={style:"title",table:a.t15},a.next=67;break;case 66:a.t12={};case 67:a.t16=a.t12,a.t17=[a.t0,a.t1,a.t2,a.t3,a.t5,a.t6,a.t11,a.t16],a.t18={imageTables:{fontSize:8,margin:[0,50,0,50]},header:{fontSize:18,bold:!0,margin:[0,0,0,10]},deptoInfo:{fontSize:8,bold:!1,margin:[10,10,10,10]},subheader:{fontSize:16,bold:!0,margin:[0,10,0,5]},table:{margin:[0,5,0,15],fontSize:6},title:{margin:[0,5,0,15],fontSize:8,bold:"true",alignment:"center"},historial:{margin:[0,5,0,15],fontSize:10,bold:!0,alignment:"justify"},tableHeader:{bold:!0,fontSize:13,color:"black"}},x={pageOrientation:"landscape",content:a.t17,styles:a.t18},console.log(x),n&&n("Detectando problemas en el documento"),x.content.length>6&&(x.content[6].table||x.content.splice(6,1)),console.log(x),n&&n("Enviando documento compilado al servidor..."),we(x,e.idIndex,e.sapId,"Pauta de Inspecci\xf3n"===e.guide?"PI":e.guide,e.number).then((function(e){console.log(e),setTimeout((function(){n&&n("Documento creado y guardado."),setTimeout((function(){i({url:e.data.state.data.url,state:!0})}),1e3)}),1e3)})).catch((function(e){alert("Error al descargar PDF"),console.log(e),n&&n("Error al crear el documento."),setTimeout((function(){i({state:!1})}),1e3)}));case 77:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())})(n,o[0]).then((function(e){console.log(e),n.urlPdf=e.url,b(!1),alert("PDF Generado."),i()}))}catch(e){console.log(e),alert("Error al descargar. Cerrando ventana."),b(!1),i()}};return Object(Bt.jsx)(ft.a,{open:t,children:Object(Bt.jsxs)(vt.a,{sx:k,children:[Object(Bt.jsx)("div",{style:{width:"100%",position:"absolute",top:0,left:0,textAlign:"right"},children:Object(Bt.jsx)(Qt.a,{style:{borderRadius:"50%",width:36,height:36},onClick:function(){return i()},children:Object(Bt.jsx)(St.a,{})})}),Object(Bt.jsx)("div",{style:{width:"100%",marginTop:10,textAlign:"center"},children:Object(Bt.jsxs)("button",{disabled:j,onClick:function(){return h()},style:{textAlign:"center"},children:[!j&&Object(Bt.jsx)(Pt.a,{icon:Lt.B,size:"5x",style:{color:"#888"}}),j&&Object(Bt.jsx)(x.a,{style:{height:66,width:66,color:"#888"}}),!j&&Object(Bt.jsx)("p",{style:{marginTop:10,marginBottom:0,fontSize:26,color:"#888"},children:"Generar PDF"}),j&&Object(Bt.jsx)("p",{style:{marginTop:10,marginBottom:0,fontSize:26,color:"#888"},children:"Generando..."})]})})]})})},jn=n(646),bn=n(598),hn=function(e){var t=e.open,n=(e.report,e.closeModal),i=Object(a.useState)([]),r=Object(c.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(""),u=Object(c.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(""),m=Object(c.a)(h,2),g=m[0],x=m[1],O=localStorage.getItem("_id"),p=Object(s.useHistory)();Object(a.useEffect)((function(){pe(O).then((function(e){l(e.data.reverse())}))}),[]);return Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:D,children:[Object(Bt.jsxs)(Nt.a,{container:!0,style:{paddingTop:50},children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:4,md:3,sm:2,xs:null}),Object(Bt.jsxs)(Nt.a,{item:!0,xl:4,md:6,sm:8,xs:12,children:[Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)("h1",{children:"Dejenos sus comentarios de la aplicaci\xf3n."}),Object(Bt.jsx)(jn.a,{value:g,onChange:function(e){x(e.target.value)},placeholder:"Asunto",style:{width:"100%",fontSize:18,fontFamily:"Raleway"}}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)(bn.a,{"aria-label":"empty textarea",placeholder:"Deje su comentario",minRows:10,maxRows:15,style:{width:"100%",fontSize:18,fontFamily:"Raleway"},value:j,onChange:function(e){b(e.target.value)}})]}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)(Qt.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){!function(){if(g.length>0&&j.length>1){var e={sendDate:Date.now(),message:j,from:localStorage.getItem("_id"),subject:g};navigator.onLine?ve(e).then((function(e){pe(O).then((function(e){l(e.data.reverse())})),alert("Mensaje enviado."),b(""),x("")})):alert("Error de red")}else alert("Asunto y comentario son obligatorios.")}()},children:"Enviar Mensaje"}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Bt.jsx)(Qt.a,{variant:"contained",color:"primary",style:{borderRadius:50,marginLeft:10},onClick:function(){n(),p.push("/internal-messages")},children:"Listado de mensajes"})]}),Object(Bt.jsx)(Nt.a,{item:!0,xl:4,md:3,sm:2,xs:null})]}),Object(Bt.jsxs)(Nt.a,{container:!0,style:{paddingTop:50},children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:4,md:3,sm:2,xs:null}),Object(Bt.jsx)(Nt.a,{item:!0,xl:4,md:6,sm:8,xs:12,children:Object(Bt.jsx)("div",{style:{overFlow:"auto",maxHeight:200,display:"block"},children:o.map((function(e,t){return e.answer||(e.answer="No hay respuesta."),Object(Bt.jsxs)("div",{style:{width:"100%",fontSize:16,padding:10,borderRadius:20,borderStyle:"solid",borderWidth:1,borderColor:"#000",marginBottom:30},children:[Object(Bt.jsx)("div",{style:{position:"relative",top:0,width:"100%"},children:Object(Bt.jsx)(wt.a,{onClick:function(){!function(e,t){navigator.onLine&&confirm("Confirme la eliminaci\xf3n de su consulta.")&&ye(e).then((function(e){var t=o.filter((function(t){if(t._id!==e.data._id)return t}));l(t),alert("Mensaje borrado.")}))}(e._id)},style:{position:"absolute",right:0,top:0,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})}),Object(Bt.jsx)("p",{children:Object(Bt.jsx)("b",{children:e.subject})}),Object(Bt.jsx)("p",{style:{whiteSpace:"pre-line"},children:e.message}),Object(Bt.jsxs)("p",{style:{textAlign:"right"},children:["Enviado ",P(e.sendDate)," "]}),Object(Bt.jsx)("p",{children:Object(Bt.jsx)("b",{children:"Respuesta:"})}),Object(Bt.jsx)("p",{children:e.answer})]},t)}))})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:4,md:3,sm:2,xs:null})]}),Object(Bt.jsx)(wt.a,{onClick:n,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})]})})},mn=function(e){var t=e.open,n=e.report,i=e.closeModal,r=e.messageType,s=Mi().userData,o=Object(a.useState)(""),l=Object(c.a)(o,2),d=l[0],u=l[1];return Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:D,children:[Object(Bt.jsxs)(Nt.a,{container:!0,style:{paddingTop:50},children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:4,md:3,sm:2,xs:null}),Object(Bt.jsxs)(Nt.a,{item:!0,xl:4,md:6,sm:8,xs:12,children:[Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)("h1",{children:"Deje un comentario."}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)(bn.a,{"aria-label":"empty textarea",placeholder:"Deje su comentario",minRows:10,maxRows:15,style:{width:"100%",fontSize:18,fontFamily:"Raleway"},value:d,onChange:function(e){u(e.target.value)}})]}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)(Qt.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){!function(){if(d.length>1){var e="rejectReport"===r?"reject-to-previous-level":"sending-to-next-level";n.history.push({id:Date.now(),userSendingData:s._id,type:e,message:d}),i(!0)}else alert("Por favor deje un comentario a la actividad.")}()},children:"Enviar Mensaje"})]}),Object(Bt.jsx)(Nt.a,{item:!0,xl:4,md:3,sm:2,xs:null})]}),Object(Bt.jsx)(wt.a,{onClick:function(){i(!1)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})]})})},gn=function(e){var t=e.open,n=e.close,i=e.report,r=(Mi().userData,Object(a.useState)([])),s=Object(c.a)(r,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){i.history.forEach(function(){var e=Object(G.a)(Y.a.mark((function e(t,n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=6;break}return e.next=3,ct(t.userSendingData);case 3:t.name=e.sent,e.next=7;break;case 6:t.name="Sin informaci\xf3n (fuera de red)";case 7:n==i.history.length-1&&l(i.history.sort((function(e,t){return t.id-e.id})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[]),Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:D,children:[Object(Bt.jsxs)(Nt.a,{container:!0,style:{paddingTop:50},children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:4,md:3,sm:2,xs:null}),Object(Bt.jsxs)(Nt.a,{item:!0,xl:4,md:6,sm:8,xs:12,children:[Object(Bt.jsx)("h1",{children:"Mensajes a las revisiones de la OT"}),Object(Bt.jsxs)("div",{style:{width:"100%",overflowY:"auto",height:"calc(100vh - 300px)"},children:[0==o.length&&Object(Bt.jsx)("p",{children:"No hay mensajes"}),o.length>0&&o.map((function(e,t){return Object(Bt.jsx)("div",{style:{width:"100%",padding:10},children:Object(Bt.jsxs)("div",{style:{borderRadius:20,backgroundColor:"#BE2E26",color:"#FFF",padding:10},children:[Object(Bt.jsx)("p",{style:{fontSize:18},children:Object(Bt.jsx)("strong",{children:e.name})}),Object(Bt.jsx)("p",{style:{fontSize:20,whiteSpace:"pre"},children:e.message}),Object(Bt.jsxs)("p",{style:{fontSize:12},children:["Fecha: ",P(e.id)]})]})},t)}))]})]}),Object(Bt.jsx)(Nt.a,{item:!0,xl:4,md:3,sm:2,xs:null})]}),Object(Bt.jsx)(wt.a,{onClick:function(){return n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})]})})},xn=n(452),On=n.n(xn),pn=function(e){var t=e.open,n=e.handleClose,i=e.astList,r=Object(a.useState)(screen.height),s=Object(c.a)(r,2),o=s[0],l=s[1],d=Object(a.useState)(screen.width),u=Object(c.a)(d,2),j=u[0],b=u[1];window.addEventListener("resize",(function(e){l(e.target.screen.availHeight),b(e.target.screen.availWidth)}));var h={width:j,height:o,facingMode:"user"};return Object(Bt.jsx)(ft.a,{open:t,style:{backgroundColor:"#ccc"},id:"cameraModal",children:Object(Bt.jsx)("div",{style:{textAlign:"center"},children:Object(Bt.jsx)(On.a,{audio:!1,height:o,screenshotFormat:"image/jpeg",width:j,videoConstraints:h,children:function(e){var t=e.getScreenshot;return Object(Bt.jsx)("div",{style:{position:"absolute",width:"100%",textAlign:"center",bottom:100},children:Object(Bt.jsx)(g.a,{onClick:function(){var e=t();i.push({id:Date.now(),image:e}),n()},children:Object(Bt.jsx)(Pt.a,{icon:Lt.f})})})}})})})},fn=n(647),vn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPkAAAD6CAYAAABj2+E+AAABVWlDQ1BEaXNwbGF5IFAzAAAoz2NgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGgkwMjB8uwYiGRgu64LMOiU1tUm1XsDXYqbw1YuvRJsY8AOulNTiZCD9B4hTkwuKSoBGpgDZyuUlBSB2B5AtUgR0FJA9B8ROh7A3gNhJEPYRsJqQIGcg+waQrZCckQg0g/EHkK2ThCSejsSG2gsC3C6ZxQU5iZUKAcYMVAclqRUlINo5v6CyKDM9o0TBERhKqQqeecl6OgpGBobmDAygMIeo/hwIDktGsTMIseb7DAy2+////78bIea1n4FhI1An106EmIYFA4MgNwPDiZ0FiUWJYCFmIGZKS2Ng+LScgYE3koFB+AJQT3RxmrERJPZ4nBgYWO/9//9ZjYGBfTIDw98J////XvT//9/FQM13GBgO5AEAFwJl7w8EHeAAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAnOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5MzM4Y2ZlLWEyODctNDk2MC1iODcyLTk5YWY2YWRjYzYwYSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjJkZTFlNjU4LTg3NDEtYmY0YS05NzYyLTVlZjMxNzAxM2Q3YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyMjhiZDNiLWViZDEtNDM3Ny04N2UxLTkwNDMxNmNjZmIwOSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRpc3BsYXkgUDMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI4YmQzYi1lYmQxLTQzNzctODdlMS05MDQzMTZjY2ZiMDkiIHN0RXZ0OndoZW49IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTkzMzhjZmUtYTI4Ny00OTYwLWI4NzItOTlhZjZhZGNjNjBhIiBzdEV2dDp3aGVuPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjAwNjQ2MkNDRjBEN0QxMUI4RkYyRTQxQTc0NjAyQzRGPC9yZGY6bGk+IDxyZGY6bGk+MUMwODU5NjM2MTVEOTlDOEY4MDlEOEQ2MzEwNjk2MTI8L3JkZjpsaT4gPHJkZjpsaT4xQzYxNjVFODQwNTlBRjBCQUNFQzcwMUNFRUE4ODUzODwvcmRmOmxpPiA8cmRmOmxpPjU3NjEzM0IwMTc1ODM0QTM5OTRBQTA4RjYxRUJCQzE2PC9yZGY6bGk+IDxyZGY6bGk+NUZCQzczNEJBQzk2MzYxMDI0NzFDMkMxRDQzRkNENUU8L3JkZjpsaT4gPHJkZjpsaT44NEJFRkM1N0VDRjBBMkQ2MTFCRTM4QjIyODU0NDFFQjwvcmRmOmxpPiA8cmRmOmxpPkIxQkEyNkY5RDM3QzE4MTg3RjMwMzRBQTFCQkIzNUVBPC9yZGY6bGk+IDxyZGY6bGk+Q0JDOTNCMzBEQ0YxNkU3RDgzMzYyNDdBMDAyOTU4MzM8L3JkZjpsaT4gPHJkZjpsaT5GOEVEOEI3NEZGRkVDNkRBNDExNzZGRDUyNzY5NTk1NTwvcmRmOmxpPiA8cmRmOmxpPkZFNkJEMEJBNUJFQzE5RDQ3OTE0NEMxNTJDQkJDRUYyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDowMEMyNkRBQzI0MjA2ODExOERCQkQ4MzgxN0Q4NjVFNTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NjgyNWRjMjQtY2ZhOC00ODBlLWE5MmItMmUzNDM5ZThhNWQ0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo2OUQ3QUJCNDIxMjA2ODExOEY2MkVGRUNFNjdBQ0M0MzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QTZDNzJERDQwNzIwNjgxMTk1RkVDRDVERDFDODBCMTU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkQxQjVGNTREQTFDMjExRTFBQzZEQ0JBNUM5RDJGMjAwPC9yZGY6bGk+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",yn=(n(533),n(172)),wn=n.n(yn),Sn=Object(w.a)((function(e){return{appbar:{height:80,width:"100%",backgroundColor:"#fff",borderBottomRightRadius:30,color:"#000"},locationIcon:{height:60,width:100,display:"flex",alignItems:"center",justifyContent:"center"},locationText:{display:"flex",flex:1,justifyContent:"flex-end",alignItems:"center",fontSize:"1rem"},languageSelector:{marginRight:15,"&.MuiInputBase-root":{color:"white"},"& .MuiSelect-icon":{color:"white"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}}}})),Cn=function(){var e=Sn(),t=Object(a.useContext)(Li).isOnline,n=Pi().navBarOpen,i=Mi(),r=i.isAuthenticated,c=i.userData,l=i.admin,d=i.site,u=Zi().message,j=Object(s.useHistory)();Object(a.useEffect)((function(){console.log("La red est\xe1 o no conectada: ",t),t||wn()({icon:vn,title:"Alerta",subtitle:"P\xe9rdida de conexi\xf3n",message:"El dispositivo no cuenta con conexi\xf3n a internet.",theme:"red",native:!0})}),[t]);return Object(Bt.jsx)(fn.a,{className:e.appbar,children:Object(Bt.jsx)("div",{className:"header-bar",children:Object(Bt.jsxs)(yt.a,{children:[!n&&Object(Bt.jsx)(o.b,{to:"/",children:Object(Bt.jsx)("img",{src:Kt,height:75})}),r&&c&&Object(Bt.jsx)(a.Fragment,{children:Object(Bt.jsx)("div",{className:"user-name",onClick:function(){j.push("/user-profile")},children:Object(Bt.jsxs)("dl",{children:[Object(Bt.jsx)("dt",{style:{margin:0},children:Object(Bt.jsxs)("div",{children:[" ",Object(Bt.jsxs)("p",{className:"nombre",children:[" ",c.name," ",c.lastName," "]})," "]})}),Object(Bt.jsxs)(Nt.a,{container:!0,children:[c.roles&&c.roles.map((function(e,t){return Object(Bt.jsxs)(Nt.a,{item:!0,style:{marginRight:10},children:[(n=e,"superAdmin"===n?"Super Administrador":"admin"===n?"Administrador":"sapExecutive"===n?"Ejecutivo SAP":"inspectionWorker"===n?"Operario de Inspecci\xf3n":"maintenceOperator"===n?"Operario de Mantenci\xf3n":"shiftManager"===n?"Jefe de turno - Inspecci\xf3n y Mantenci\xf3n":"chiefMachinery"===n?"Jefe de maquinaria":"observer"===n?"Observador":void 0)," |"]},t);var n})),Object(Bt.jsx)(Nt.a,{item:!0,children:d&&d.descripcion})]})]})})}),Object(Bt.jsxs)("div",{style:{position:"absolute",right:10},children:[l&&Object(Bt.jsx)("button",{onClick:function(){It("test",localStorage.getItem("_id"),"Env\xedo prueba","Todos los usuarios","Se env\xeda notificaci\xf3n de prueba a todos los usuarios.")},children:"Notif. Test"}),Object(Bt.jsxs)("p",{children:[" ",Object(Bt.jsx)("b",{children:u.length>0&&u})," ",Object(Bt.jsx)(Pt.a,{icon:Lt.i,color:t?"#2FB83F":"#B62800"})," ",t?"Online":"Offline"]}),!t&&Object(Bt.jsx)("p",{children:"Sin red"})]})]})})})},An=n(676),kn=n(651),Rn=n(173),Dn=Object(w.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}})),Mn=function(){var e=Ni().dictionary,t=Mi(),n=t.login,i=t.loginRut,r=Object(a.useState)(""),o=Object(c.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)(""),j=Object(c.a)(u,2),b=j[0],h=j[1],m=Object(a.useState)(""),x=Object(c.a)(m,2),O=x[0],p=x[1],f=Object(a.useState)("rut"),v=Object(c.a)(f,2),y=v[0],w=v[1],S=Object(a.useState)("email"),C=Object(c.a)(S,2),A=C[0],k=C[1],R=Dn(),D=Object(s.useHistory)(),M=Object(a.useState)("password"),E=Object(c.a)(M,2),I=E[0],B=E[1],T=function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"rut":return h(Object(Rn.format)(e.target.value));case"email":return d(e.target.value);case"password":return p(e.target.value)}};Object(a.useEffect)((function(){D.location.pathname.length>1&&D.replace("/")}),[]);var N=function(){var e=Object(G.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"email"!==y){e.next=8;break}return e.next=4,n(l,O);case 4:e.sent,e.next=13;break;case 8:if("rut"!==y){e.next=13;break}return e.next=11,i(b,O);case 11:e.sent;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Bt.jsx)(Nt.a,{container:!0,style:{padding:10,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("form",{onSubmit:N,children:Object(Bt.jsxs)(Nt.a,{container:!0,item:!0,spacing:2,children:["rut"===y&&Object(Bt.jsx)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Bt.jsx)(An.a,{type:"text",name:"rut",label:e.login.rutField,value:b,onChange:T,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),"email"===y&&Object(Bt.jsx)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Bt.jsx)(An.a,{type:"email",name:"email",label:e.login.emailField,value:l,onChange:T,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(Bt.jsxs)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:[Object(Bt.jsx)(An.a,{type:I,name:"password",label:e.login.passwordField,value:O,onChange:T,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}}),Object(Bt.jsxs)(g.a,{style:{width:0,position:"relative",right:25,zIndex:1,padding:0},onClick:function(){B("password"===I?"text":"password")},children:["password"===I&&Object(Bt.jsx)(Pt.a,{icon:Lt.q}),"text"===I&&Object(Bt.jsx)(Pt.a,{icon:Lt.r})]})]}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Bt.jsx)(Qt.a,{className:R.button,style:{marginBottom:20},type:"submit",variant:"contained",color:"primary",children:e.login.loginButton})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Bt.jsxs)(Qt.a,{className:R.button,variant:"contained",onClick:function(){"email"===y?(w("rut"),k("email")):(w("email"),k("rut"))},children:["Usar ",A]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",children:"rut"===A&&Object(Bt.jsxs)(kn.a,{href:"/reset-password",children:[" ",e.login.forgotPasswordText," "]})})]})})})},En=n(125),In=n(652),Bn=n(26),Tn=n.p+"static/media/Logologo_icv_1.5bb0a829.svg",Nn=n(224),zn=Object(w.a)((function(e){return{drawer:{width:250,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:330,maxWidth:"100vw",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},drawerClose:{width:"15vw",maxWidth:99,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:" hidden"},drawerPaper:{marginTop:0,backgroundColor:"#212121",border:"none",borderEndEndRadius:30,borderTopRightRadius:30},drawerContainer:{position:"relative"},drawerBottom:{position:"absolute",backgroundColor:"rgb(228, 228, 228)",width:"100%",display:"flex",bottom:0,padding:5},bottomButtons:{height:54,width:54},sideButtons:{width:"5vh",maxWidth:26,height:"2.5vh",color:"#FFFFFF"},sideButtonsCloseMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:100,paddingTop:40},sideButtonsOpenMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:20,paddingTop:40},divider:{width:"100%",backgroundColor:"rgba(255, 255, 255, 0.18)"},searchField:{"& .MuiFormLabel-root":{color:"white"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"},"& .fa-search":{color:"white"},"& .MuiInputBase-input":{color:"white"}},listItemText:{whiteSpace:"normal",color:"white",fontWeight:"bold"}}})),Fn=function(){var e,t,n=Mi(),i=n.isSapExecutive,r=n.isShiftManager,s=n.isChiefMachinery,l=n.admin,d=n.logout,u=Zi().getReports,j=zn(),b=Pi(),h=b.navBarOpen,m=b.handleNavBar,x=Object(a.useState)(""),O=Object(c.a)(x,2),p=O[0],f=O[1],y=Object(Nn.useLocation)(),w=Object(a.useState)(!0),S=Object(c.a)(w,2),C=S[0],A=S[1],k=Object(a.useState)(!0),R=Object(c.a)(k,2),D=R[0],M=R[1],E=Object(a.useState)(!1),I=Object(c.a)(E,2),B=I[0],T=I[1],N=Object(a.useState)(!1),z=Object(c.a)(N,2),F=z[0],P=z[1],L=Object(a.useState)(!1),Y=Object(c.a)(L,2),G=Y[0],U=Y[1],W=function(){h&&m()},Z={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return Z.Android()||Z.BlackBerry()||Z.iOS()||Z.Opera()||Z.Windows()},other:function(){return navigator.userAgent.match(/Mozilla/i)||navigator.userAgent.match(/AppleWebKit/i)||navigator.userAgent.match(/Chrome/i)||navigator.userAgent.match(/Safari/i)}};return Object(a.useEffect)((function(){l&&A(!1),(l||i||r||s)&&M(!1)}),[l,i,r,s]),Object(a.useEffect)((function(){y&&f(y.pathname)}),[y]),Object(Bt.jsx)("div",{children:Object(Bt.jsx)(En.a,{className:Object(Bn.a)(Object(Bn.a)(j.drawer,(e={},Object(v.a)(e,j.drawerOpen,h),Object(v.a)(e,j.drawerClose,!h),e))),variant:"permanent",classes:{paper:Object(Bn.a)(j.drawerPaper,(t={},Object(v.a)(t,j.drawerOpen,h),Object(v.a)(t,j.drawerClose,!h),t))},children:Object(Bt.jsxs)("div",{className:j.drawerContainer,children:[Object(Bt.jsx)(Nt.a,{container:!0,spacing:2,style:{padding:h?8:"8px 0 0 0"},children:Object(Bt.jsxs)(Nt.a,{item:!0,xs:12,container:!0,children:[Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"right":"center"},children:Object(Bt.jsx)(g.a,{title:h?"Cerrar Men\xfa":"Abrir Men\xfa",onClick:m,className:h?j.sideButtonsOpenMenu:j.sideButtonsCloseMenu,children:h?Object(Bt.jsx)(St.a,{}):Object(Bt.jsx)(In.a,{})})}),h&&Object(Bt.jsxs)("div",{style:{padding:10},children:[Object(Bt.jsx)("img",{height:60,src:Tn,alt:""}),Object(Bt.jsx)("p",{style:{color:"#fff",margin:0},children:"Ingenier\xeda Civil Vicente"})]}),Object(Bt.jsx)("div",{style:{height:1,backgroundColor:"#fff",width:"100%",marginRight:10,marginLeft:10}}),Object(Bt.jsx)("div",{style:{width:"100%",marginTop:40,textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Inicio",children:Object(Bt.jsxs)(o.b,{to:"/",className:j.sideButtons,style:{textDecoration:"none",color:"/"===p?"#BE2E26":"#FFFFFF"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.s})," ",h?" Inicio":""]})})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Listado Asignaciones",children:Object(Bt.jsxs)(o.b,{to:"/assignment",className:j.sideButtons,style:{color:p.includes("/assignment")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.v})," ",h?" Listado Asignaciones":""]})})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"M\xe1quinas",children:Object(Bt.jsxs)(o.b,{to:"/machines",className:j.sideButtons,style:{textDecoration:"none",color:p.match("/machines")?"#BE2E26":"#FFFFFF"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.K})," ",h?" M\xe1quinas":""]})})}),!C&&Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Obras",children:Object(Bt.jsxs)(o.b,{to:"/sites",className:j.sideButtons,style:{color:"/sites"===p?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.x})," ",h?" Obras":""]})})}),!D&&Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Ordenes de Trabajo",children:Object(Bt.jsxs)(o.b,{to:"/reports",className:j.sideButtons,style:{color:p.includes("/reports")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.k})," ",h?" Ordenes de Trabajo":""]})})}),!C&&Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Administraci\xf3n",children:Object(Bt.jsxs)(o.b,{to:"/administration",className:j.sideButtons,style:{color:p.includes("/administration")||p.includes("/users")||p.includes("/edit-user")||p.includes("/new-users")||p.includes("/patterns")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.M})," ",h?" Administraci\xf3n":""]})})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Perfil",children:Object(Bt.jsxs)(o.b,{to:"/user-profile",className:j.sideButtons,style:{color:p.includes("/user-profile")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.L})," ",h?" Perfil":""]})})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Actualizar",onClickCapture:function(){u()},children:Object(Bt.jsxs)("div",{className:j.sideButtons,style:{color:p.includes("/user-profile")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.H})," ",h?" Actualizar":""]})})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Int. Artificial",onClickCapture:function(){P(!0)},children:Object(Bt.jsxs)("div",{className:j.sideButtons,style:{color:"/pms"===p?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.C})," ",h?" Int. Artificial":""]})})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Mensajes App",onClickCapture:function(){U(!0)},children:Object(Bt.jsxs)("div",{className:j.sideButtons,style:{color:"/pms"===p?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.m})," ",h?" Mensajes App":""]})})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Informaci\xf3n",onClickCapture:function(){T(!0)},children:Object(Bt.jsxs)("div",{className:j.sideButtons,style:{color:"/information"===p?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.u})," ",h?" Informaci\xf3n":""]})})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Informaci\xf3n",onClickCapture:function(){Z.Android()?window.location.replace("market://details?id=org.opencascade.cadassistant"):alert("Su dispositivo no cuenta con el link a Cad Assistant")},children:Object(Bt.jsxs)("div",{className:j.sideButtons,style:{color:"/information"===p?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.o})," ",h?" Cad Assistant":""]})})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:W,title:"Opciones",children:Object(Bt.jsxs)(o.b,{to:"/options",className:j.sideButtons,style:{color:"/options"===p?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.G})," ",h?" Opciones":""]})})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:h?"left":"center"},children:Object(Bt.jsx)(g.a,{onClick:d,title:"Cerrar Sesi\xf3n",children:Object(Bt.jsxs)("div",{className:j.sideButtons,children:[Object(Bt.jsx)(Pt.a,{icon:Lt.F})," ",h?" Cerrar Sesi\xf3n":""]})})})]})}),B&&Object(Bt.jsx)(Ht,{open:B,closeModal:function(){T(!1)}}),F&&Object(Bt.jsx)(Xt,{open:F,closeModal:function(){P(!1)}}),G&&Object(Bt.jsx)(hn,{open:G,closeModal:function(){U(!1)}})]})})})},Pn=(n(675),Object(w.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}}))),Ln=function(){var e=Ni().dictionary,t=(Mi().login,Object(a.useState)("")),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)(!1),l=Object(c.a)(o,2),d=l[0],u=l[1],j=Pn(),b=Object(s.useHistory)(),h=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,m();case 4:n=e.sent,console.log(n),n.data.status?"no-email"===n.data.status&&(alert(n.data.message),u(!1)):(alert(n.data.message),u(!1),b.replace("/")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("No se pudo obtener el reset");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){return new Promise((function(e){Q(i).then((function(t){e(t)})).catch((function(t){e(t)}))}))};return Object(Bt.jsxs)(Nt.a,{container:!0,style:{padding:20,height:"50%"},alignItems:"center",justifyContent:"center",children:[Object(Bt.jsx)("form",{onSubmit:h,children:Object(Bt.jsxs)(Nt.a,{container:!0,item:!0,spacing:2,children:[Object(Bt.jsx)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Bt.jsx)(An.a,{type:"email",name:"email",label:e.login.emailField,value:i,onChange:function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"email":return r(e.target.value)}},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Bt.jsx)(Qt.a,{className:j.button,type:"submit",variant:"contained",color:"primary",children:"SOLICITAR"})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Bt.jsx)(Qt.a,{className:j.button,variant:"contained",color:"primary",onClick:function(){b.goBack()},children:"VOLVER"})})]})}),d&&Object(Bt.jsx)(zt,{open:d,loadingData:"Solicitando restablecer contrase\xf1a",withProgress:!1})]})},Yn=(n(547),Object(w.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}}))),Gn=function(e){var t=e.id,n=Ni().dictionary,i=Object(a.useState)(""),r=Object(c.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(""),u=Object(c.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(""),m=Object(c.a)(h,2),x=m[0],O=m[1],p=Object(a.useState)(!1),f=Object(c.a)(p,2),v=f[0],y=f[1],w=Object(a.useState)(!1),S=Object(c.a)(w,2),C=S[0],A=S[1],k=Yn(),R=Object(s.useHistory)(),D=Object(a.useState)("password"),M=Object(c.a)(D,2),E=M[0],I=M[1],B=Object(a.useState)("password"),T=Object(c.a)(B,2),N=T[0],z=T[1];Object(a.useEffect)((function(){O(t)}),[]);var F=function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"password":return l(e.target.value);case"confirmPassword":return b(e.target.value)}},P=function(){var e=Object(G.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o===j?o.length>5?q(o,x).then((function(e){alert("Contrase\xf1a cambiada con \xe9xito"),R.push("/")})).catch((function(e){alert("Error al crear contrase\xf1a. El correo utilizado est\xe1 vencido. Revise si le ha llegado un correo nuevo con la solicitud de restauraci\xf3n de contrase\xf1a actualizado o espere un m\xe1ximo de 10 minutos m\xe1s. Si el error persiste, contacte al administrador.")})):alert("Contrase\xf1a debe contener al menos 6 car\xe1cteres."):alert("Contrase\xf1as ingresadas no coinciden");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){y(o!==j),o.length<6?A(!0):A(!1)};return Object(Bt.jsx)(Nt.a,{container:!0,style:{padding:20,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("form",{children:Object(Bt.jsxs)(Nt.a,{container:!0,item:!0,spacing:2,children:[Object(Bt.jsxs)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",children:[Object(Bt.jsx)(An.a,{type:E,name:"password",label:n.restorePassword.passwordField,value:o,onChange:F,onBlur:function(e){return L()},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"},id:"password"}),Object(Bt.jsxs)(g.a,{style:{width:0,position:"relative",right:25,zIndex:1,padding:0},onClick:function(){I("password"===E?"text":"password")},children:["password"===E&&Object(Bt.jsx)(Pt.a,{icon:Lt.q}),"text"===E&&Object(Bt.jsx)(Pt.a,{icon:Lt.r})]})]}),Object(Bt.jsxs)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:[Object(Bt.jsx)(An.a,{type:N,name:"confirmPassword",label:n.restorePassword.confirmPasswordField,value:j,onChange:F,onBlur:function(e){return L()},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"},id:"c_password"}),Object(Bt.jsxs)(g.a,{style:{width:0,position:"relative",right:25,zIndex:1,padding:0},onClick:function(){z("password"===N?"text":"password")},children:["password"===N&&Object(Bt.jsx)(Pt.a,{icon:Lt.q}),"text"===N&&Object(Bt.jsx)(Pt.a,{icon:Lt.r})]})]}),C&&Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Bt.jsx)("p",{style:{color:"red"},children:Object(Bt.jsx)("strong",{children:"Contrase\xf1as deben ser de 6 car\xe1cteres m\xednimo"})})}),v&&Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Bt.jsx)("p",{style:{color:"red"},children:Object(Bt.jsx)("strong",{children:"Contrase\xf1as no coinciden"})})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:Object(Bt.jsx)(Qt.a,{className:k.button,variant:"contained",color:"primary",onClick:function(){P()},children:n.restorePassword.button})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:Object(Bt.jsx)(Qt.a,{className:k.button,variant:"contained",color:"primary",onClick:function(){R.replace("/")},children:n.restorePassword.cancel})})]})})})},Un=n(653),Wn=(Object(w.a)((function(e){return{}})),Object(w.a)((function(e){return{}})),n(593),n(548),n(654)),Zn=function(e,t){return console.log(e,t),"793-F"===t?"Sistema_direccion"===e?[{title:"Acumuladores",position:"1.3 3.5 3.3",normal:"0 0.05 0.69",orbit:"225deg 45deg 3m",target:"1.3m 2.7m 3.3m"},{title:"Sistema Hidraulico Direcci\xf3n",position:"0 1.93 2.5",normal:"0.73 0.05 0.69",orbit:"45deg 45deg 2.5m",target:"0m 1.7m 2.5m"},{title:"Cilindro Hidraulico 1",position:"-0.6 1.7 2.5",normal:"0.73 0.05 0.69",orbit:"45deg 45deg 2m",target:"-0.6m 1.5m 2.5m"},{title:"Cilindro Hidraulico 2",position:"0.6 1.7 2.5",normal:"0.73 0.05 0.69",orbit:"45deg 45deg 2m",target:"0.6m 1.5m 2.5m"},{title:"Bomba Direcci\xf3n",position:"-0.5 2.25 1",normal:"0.73 0.05 0.69",orbit:"10deg 80deg 2m",target:"-0.5m 1.9m 1m"}]:"Neumaticos"===e?[{title:"Neum\xe1tico",position:"2.6 2.5 2.5",normal:"0.73 0.05 0.69",orbit:"125deg 90deg 6m",target:"2.3m 1.45m 2.8m"},{title:"Aro",position:"2.6 1.93 2.5",normal:"0.73 0.05 0.69",orbit:"125deg 90deg 3m",target:"2.3m 1.45m 2.6m"}]:"Sistema_hidraulico"===e?[{title:"Filtros de Malla",position:"-0.4 2.7 -0.2",normal:"0 -0.05 -0.69",orbit:"200deg 90deg 1.5m",target:"-0.4m 2.4m -0.2m"},{title:"Cilindro de levante 1",position:"1.1 3.5 -0.7",normal:"0 -0.05 -0.69",orbit:"180deg 65deg 3m",target:"1.1m 2.8m -0.7m"},{title:"Cilindro de levante 2",position:"-1.1 3.5 -0.7",normal:"0 -0.05 -0.69",orbit:"240deg 65deg 3m",target:"-1.1m 2.8m -0.7m"},{title:"Enfriadores de aceite",position:"0.36 3 0.55",normal:"0 0.05 0.5",orbit:"20deg 65deg 3m",target:"0.36m 2m 0.55m"},{title:"Bomba de levante",position:"-0.4 2.35 0.55",normal:"0 0.05 0.5",orbit:"20deg 90deg 1.5m",target:"-0.4m 2.1m 0.55m"}]:"Estructura"===e?[{title:"AFEX",position:"-1.8 4.8 2.9",normal:"0.73 0.05 0.69",orbit:"45deg 60deg 1.5m",target:"-1.8m 4.4m 2.9m"},{title:"Filtro de Aire 4",position:"2.1 3 5.1",normal:"0.73 0.05 0.69",orbit:"45deg 90deg 2m",target:"2.1m 3.3m 5.2m"},{title:"Filtro de Aire 3",position:"1.6 3 5.1",normal:"0.73 0.05 0.69",orbit:"45deg 90deg 2m",target:"1.6m 3.3m 5.2m"},{title:"Filtro de Aire 2",position:"-1.6 3 5.1",normal:"0.73 0.05 0.69",orbit:"330deg 90deg 2m",target:"-1.6m 3.3m 5.2m"},{title:"Filtro de Aire 1",position:"-2.1 3 5.1",normal:"0.73 0.05 0.69",orbit:"330deg 90deg 2m",target:"-2.1m 3.3m 5.2m"}]:"Chasis"===e?[{title:"Articulaci\xf3n Eje Trasero",position:"0 0.7 -0.5",normal:"0 -0.05 -0.69",orbit:"250deg 100deg 3m",target:"0m 1m -0.5m"},{title:"Eslabones de suspenci\xf3n trasera",position:"0 1.5 -2",normal:"0 -0.05 -0.69",orbit:"225deg 100deg 2m",target:"0m 1.5m -2m"},{title:"Cross tube",position:"0 2.1 0",normal:"0 -0.05 -0.69",orbit:"0deg 180deg 3m",target:"0m 2.1m 0m"},{title:"Steering box",position:"0 1.8 2.6",normal:"0 0.05 0.69",orbit:"0deg 20deg 1.5m",target:"0m 1.7m 2.6m"},{title:"Pad tolva",position:"0.8 2.7 -1.5",normal:"0 -0.05 0.69",orbit:"0deg 20deg 2m",target:"0.8m 2.7m -1.5m"}]:"Maza"===e?[{title:"Maza derecha",position:"-1 1.93 2.5",normal:"0 0.05 -1",orbit:"-125deg 90deg 4m",target:"-2.3m 1.45m 2.6m"},{title:"Maza izquierda",position:"1 1.93 2.5",normal:"0 0.05 1",orbit:"125deg 90deg 4m",target:"2.3m 1.45m 2.6m"}]:"Sistema_neumatico"===e?[{title:"Condensador de aire",position:"-0.05 2.4 4.65",normal:"0 0.05 1",orbit:"0deg 90deg 4m",target:"-0.05m 2.35m 4.65m"},{title:"Compresor de aire acondocionado",position:"-0.7 2.15 4",normal:"0 0.05 -1",orbit:"-145deg 90deg 0.7m",target:"-0.7m 2.3m 4m"},{title:"Compresor de aire",position:"-0.45 2.2 4.2",normal:"0 0.05 -1",orbit:"125deg 75deg 1m",target:"-0.45m 2.35m 4.2m"}]:"Suspension"===e?[{title:"Suspensi\xf3n delantera 1",position:"-1.6 4 2.7",normal:"0 0.05 1",orbit:"0deg 55deg 4m",target:"-1.6m 3m 2.7m"},{title:"Suspensi\xf3n delantera 2",position:"1.6 4 2.7",normal:"0 0.05 1",orbit:"60deg 55deg 4m",target:"1.6m 3m 2.7m"},{title:"Suspensi\xf3n trasera 1",position:"-0.6 3 -3.2",normal:"0 0.05 1",orbit:"0deg 55deg 3m",target:"-0.6m 2m -3.2m"},{title:"Suspensi\xf3n trasera 2",position:"0.6 3 -3.25",normal:"0 0.05 1",orbit:"60deg 55deg 3m",target:"0.6m 2m -3.25m"}]:"Transmision"===e?[{title:"Caja de transferencia",position:"0 2.4 -1.2",normal:"0 -0.05 1",orbit:"300deg 55deg 1.5m",target:"0m 2.2m -1.2m"},{title:"Transmisi\xf3n",position:"0 2.2 -2",normal:"0 -0.05 1",orbit:"300deg 55deg 3m",target:"0m 1.7m -2m"},{title:"Mando Final Izquierdo",position:"2 2.2 -2",normal:"0 -0.05 1",orbit:"300deg 55deg 3m",target:"2m 1.7m -2m"},{title:"Mando Final Derecho",position:"-2 2.2 -2",normal:"0 -0.05 1",orbit:"300deg 55deg 3m",target:"-2m 1.7m -2m"},{title:"Uni\xf3n deslizante",position:"0 1.67 0",normal:"0 -0.05 -1",orbit:"10deg 55deg 3m",target:"0m 1.8m 0m"},{title:"Respiradero convertidor de torque",position:"0.5 3.5 1.4",normal:"0 0.05 1",orbit:"60deg 55deg 1m",target:"0.5m 3.2m 1.4m"},{title:"Convertidor de torque",position:"0 1.4 1.4",normal:"0 0.05 1",orbit:"60deg 120deg 3m",target:"0m 2m 1.4m"},{title:"P.T.O.",position:"-0.45 2.5 0.85",normal:"0 -0.05 -1",orbit:"240deg 50deg 1m",target:"-0.45m 2.25m 0.85m"}]:"Motor"===e?[{title:"Motor",position:"1 2.5 2",normal:"0 -0.05 2",orbit:"90deg 90deg 5m",target:"1 2.5 2"},{title:"Radiador",position:"0 4.5 4.7",normal:"0 0.05 1",orbit:"45deg 90deg 7m",target:"0m 3m 4.5m"},{title:"Tanque de Combustible",position:"2.3 3.5 0.5",normal:"-1 0.05 -1",orbit:"125deg 90deg 5m",target:"2.3m 2.5m 0.5m"},{title:"Filtro centr\xedfugo",position:"-0.3 3.1 1.5",normal:"-1 0.05 -1",orbit:"180deg 45deg 2m",target:"-0.3m 2.9m 1.5m"},{title:"Respiradero Motor 1",position:"0.3 3.1 2",normal:"-1 0.05 -1",orbit:"180deg 90deg 2m",target:"0.3m 2.9m 2m"},{title:"Respiradero Motor 2",position:"-0.3 3.1 2",normal:"-1 0.05 -1",orbit:"225deg 90deg 2m",target:"-0.3m 2.9m 2m"},{title:"Filtros de Combustible",position:"-0.3 1.5 3.7",normal:"-1 0.05 -1",orbit:"225deg 110deg 2m",target:"-0.3m 1.5m 3.7m"},{title:"Bomba de Agua Auxiliar Derecho",position:"-0.45 1.9 4.2",normal:"0 -0.05 2",orbit:"0deg 140deg 2m",target:"-0.45m 1.9m 4.5m"},{title:"Bomba de Agua Auxiliar Izquierdo",position:"0.45 1.9 4.2",normal:"0 -0.05 2",orbit:"0deg 140deg 2m",target:"0.45m 1.9m 4.2m"},{title:"Bomba de Aceite de Motor",position:"0.45 1.9 3.8",normal:"0.7 0.5 1",orbit:"90deg 120deg 1.5m",target:"0.45m 2.1m 3.8m"},{title:"Enfriadores de Aceite de Motor",position:"0.45 1.9 2.7",normal:"0.7 0.5 1",orbit:"90deg 90deg 1.5m",target:"0.45m 2m 2.7m"},{title:"V\xe1lvula Termost\xe1tica",position:"0.55 2.4 4.5",normal:"0.7 0.5 1",orbit:"120deg 90deg 1.5m",target:"0.55m 2.25m 4.5m"},{title:"Filtros de Autolimpieza",position:"-0.45 1.9 2.7",normal:"-1 0.05 -1",orbit:"225deg 110deg 2m",target:"-0.45m 2.1m 2.7m"},{title:"Turbos",position:"0 3.5 3.9",normal:"-1 0.05 -1",orbit:"225deg 45deg 2m",target:"0m 3.1m 3.9m"},{title:"Silenciadores",position:"-2.3 3.5 2",normal:"-1 0.05 -1",orbit:"225deg 90deg 2.5m",target:"-2.3m 4m 2m"},{title:"Ductos de escape",position:"-1.2 3.5 2",normal:"-1 0.05 -1",orbit:"180deg 90deg 2.5m",target:"-1.2m 4m 2m"}]:"Cabina"===e?[{title:"Cintur\xf3n de seguridad",position:"2.45 4.5 2.7",normal:"0 -0.05 2",orbit:"-45deg 90deg 0.7m",target:"2.45m 4.5m 2.7m"},{title:"Plumilla 1",position:"2.45 5 4",normal:"0 0.05 1",orbit:"45deg 90deg 1m",target:"2.45m 4.7m 4m"},{title:"Plumilla 2",position:"1.1 5 4",normal:"0 0.05 1",orbit:"-45deg 90deg 1m",target:"1.1m 4.7m 4m"},{title:"Manubrio",position:"2.2 4.5 3.5",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"2.2m 4.5m 3.5m"},{title:"Monitor Vims",position:"1.7 4.5 3.5",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"1.7m 4.5m 3.5m"},{title:"Selector de Marcha",position:"1.8 4.25 3.25",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"1.8m 4.25m 3.25m"},{title:"Control de Levante",position:"1.6 4.25 3.25",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"1.6m 4.25m 3.25m"},{title:"Asiento chofer",position:"2.2 4.45 3",normal:"0 0.05 1",orbit:"0deg 55deg 0.7m",target:"2.2m 4.45m 3m"},{title:"Asiento copiloto",position:"1.3 4.45 3",normal:"0 0.05 1",orbit:"0deg 55deg 0.7m",target:"1.3m 4.45m 3m"}]:[]:"PC5500"===t?"Chasis"===e?[{title:"Chasis",position:"0 3.1 -4",normal:"-0.7 -0.05 -0.69",orbit:"170deg 70deg 6.5m",target:"0m 3.1m -4m"},{title:"Corona de Giro",position:"-1.75 2.1 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 80deg 4m",target:"-1m 2.1m -2m"},{title:"Bastidor",position:"-2 1.7 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 4m",target:"-1m 1.7m -2m"}]:"Cabina"===e?[{title:"Controles de traslaci\xf3n",position:"2.2 4.85 0",normal:"0 -0.05 2",orbit:"-45deg 70deg 0.7m",target:"2.2m 4.85m -0.3m"},{title:"Joystick 1",position:"2.45 5.2 -0.55",normal:"0 0.05 1",orbit:"10deg 60deg 1m",target:"2.45m 5.2m -0.7m"},{title:"Joystick 2",position:"2.1 5.2 -0.55",normal:"0 0.05 1",orbit:"10deg 60deg 1m",target:"2.1m 5.2m -0.7m"}]:"Electrico"===e?[{title:"Gabinete el\xe9ctrico 1",position:"1.4 5.6 -4.6",normal:"0 -0.05 2",orbit:"-45deg 45deg 2m",target:"1.4m 5.3m -4.6m"},{title:"Gabinete el\xe9ctrico 2",position:"-1.6 5.4 -4",normal:"0 -0.05 2",orbit:"-45deg 65deg 1m",target:"-1.6m 5.1m -4m"},{title:"Gabinete el\xe9ctrico 3",position:"-2.1 5.4 -6",normal:"0.5 0.05 2",orbit:"80deg 65deg 2m",target:"-2.1m 5.1m -6m"},{title:"Sala El\xe9ctrica",position:"2.1 3.5 -1",normal:"-2 0.05 2",orbit:"-120deg 90deg 4m",target:"2.1m 3.5m -1m"},{title:"Bater\xedas",position:"2.2 2.6 -4.6",normal:"-2 0.05 2",orbit:"-100deg 70deg 3m",target:"2.1m 2m -4.6m"}]:"Estructura"===e?[{title:"Gabinete el\xe9ctrico 1",position:"1.4 5.6 -4.6",normal:"0 -0.05 2",orbit:"-45deg 45deg 2m",target:"1.4m 5.3m -4.6m"},{title:"Gabinete el\xe9ctrico 2",position:"-1.6 5.4 -4",normal:"0 -0.05 2",orbit:"-45deg 65deg 1m",target:"-1.6m 5.1m -4m"},{title:"Gabinete el\xe9ctrico 3",position:"-2.1 5.4 -6",normal:"0.5 0.05 2",orbit:"100deg 65deg 2m",target:"-2.1m 5.1m -6m"},{title:"Tanques sistema AFEX",position:"-1.4 5.6 -5",normal:"-0.04 0.07 0.9",orbit:"0deg 65deg 4m",target:"-1.4m 5.1m -5m"},{title:"Tubos de escape",position:"-1 6.1 -5",normal:"-0.04 0.07 0.9",orbit:"-45deg 65deg 4m",target:"-1m 5.7m -5m"},{title:"Caja de filtros",position:"0.8 6.1 -4.7",normal:"-0.04 0.07 0.9",orbit:"45deg 65deg 4m",target:"0.8m 5.7m -4.7m"},{title:"Bombas de engrase",position:"2 5.6 -5.5",normal:"-0.04 0.07 0.9",orbit:"45deg 65deg 4m",target:"2m 5.4m -5.5m"},{title:"Tanques de grasa",position:"2 4.9 -5.5",normal:"-0.04 0.07 0.9",orbit:"45deg 65deg 4m",target:"2m 4.7m -5.5m"}]:"Implemento"===e?[{title:"Boom",position:"0 6.5 2",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 6.3m 2m"},{title:"Cilindros Levante",position:"0 4.5 2",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 4.5m 2m"},{title:"Stick",position:"0 5 6",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 4.7m 6m"},{title:"Cilindros Stick",position:"0 8.5 6",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 8.3m 6m"},{title:"Cilindros Balde",position:"0 5 8",normal:"0.04 0.07 0.9",orbit:"45deg 90deg 6m",target:"0m 4.7m 8m"},{title:"Balde",position:"0 1 6",normal:"1 -0.5 0.9",orbit:"120deg 90deg 6m",target:"0m 1m 6m"}]:"Mando_de_giro"===e?[{title:"Corona de Giro",position:"-1 2.1 -1.5",normal:"0.7 -0.05 -0.69",orbit:"120deg 45deg 4m",target:"-1m 2.1m -1.5m"},{title:"Motores de Giro",position:"-1 3.5 -2.7",normal:"0.7 -0.05 -0.69",orbit:"100deg 70deg 2m",target:"-1m 3.5m -2.7m"},{title:"Reductores de Giro",position:"-1 2.5 -2.7",normal:"0.7 -0.05 -0.69",orbit:"100deg 70deg 2m",target:"-1m 2.5m -2.7m"}]:"Mando_final"===e?[{title:"Rotary",position:"-0 2.1 -2",normal:"0.7 -0.05 -0.69",orbit:"120deg 45deg 4m",target:"-0m 2.1m -2m"},{title:"Mando Final Derecho",position:"1.5 1 -3.7",normal:"0.7 0.05 0.69",orbit:"70deg 70deg 3m",target:"1.5m 1m -4.2m"},{title:"Mando Final Izquierdo",position:"-1.5 1 -3.7",normal:"0.7 0.05 0.69",orbit:"350deg 70deg 3m",target:"-1.5m 1m -4.2m"},{title:"Motores Hidr\xe1ulicos de Traslaci\xf3n Derecho",position:"0.7 0.5 -4",normal:"0.7 0.05 0.69",orbit:"350deg 120deg 3m",target:"0.7m 0.5m -4m"},{title:"Motores Hidr\xe1ulicos de Traslaci\xf3n Izquierdo",position:"-0.7 0.5 -4",normal:"0.7 0.05 0.69",orbit:"350deg 120deg 3m",target:"-0.7m 0.5m -4m"}]:"Motor"===e?[{title:"Compresor Aire Acondicionado (1 por motor)",position:"0.4 3.6 -6",normal:"-0.7 0.05 -0.69",orbit:"200deg 120deg 1m",target:"0.4m 3.5m -6m"},{title:"Motores de Partida (1 por motor)",position:"-0.7 3.6 -5.9",normal:"-0.7 0.05 -0.69",orbit:"180deg 120deg 1m",target:"-0.7m 3.5m -5.9m"},{title:"Ductos de Escape",position:"-0.7 4.8 -5.5",normal:"-0.7 0.05 -0.69",orbit:"190deg 45deg 4m",target:"-0.7m 4.5m -5.5m"},{title:"Ductos de Escape",position:"-0.7 4.8 -4.3",normal:"-0.7 0.05 -0.69",orbit:"300deg 45deg 4m",target:"-0.7m 4.5m -4.3m"},{title:"Tubos Motor 1",position:"0 4.5 -5.5",normal:"-0.7 0.05 -0.69",orbit:"190deg 45deg 4m",target:"0m 4.3m -5.5m"},{title:"Tubos Motor 2",position:"0 4.5 -4.3",normal:"-0.7 0.05 -0.69",orbit:"300deg 45deg 4m",target:"0m 4.3m -4.3m"},{title:"Filtro Eliminator (1 por motor)",position:"-0.4 3.5 -4",normal:"0.7 0.05 0.69",orbit:"320deg 70deg 2m",target:"-0.4m 3.5m -3.8m"},{title:"Bomba de Agua (1 por motor)",position:"0.2 3.5 -4",normal:"0.7 0.05 0.69",orbit:"320deg 70deg 2m",target:"0.2m 3.5m -3.7m"},{title:"Tanque de Expansi\xf3n del Radiador Motor 1",position:"1.5 4.5 -5.5",normal:"0.7 0.05 0.69",orbit:"300deg 80deg 1m",target:"1.5m 4.3m -5.5m"},{title:"Tanque de Expansi\xf3n del Radiador Motor 2",position:"1.5 4.5 -4.3",normal:"0.7 0.05 0.69",orbit:"300deg 80deg 1m",target:"1.5m 4.3m -4.3m"},{title:"Radiador Motor 1",position:"1.5 2.5 -5.5",normal:"-0.7 0.05 0.69",orbit:"300deg 120deg 4m",target:"1.5m 2.5m -5.5m"},{title:"Radiador Motor 2",position:"1.5 2.5 -4.3",normal:"-0.7 0.05 0.69",orbit:"300deg 120deg 4m",target:"1.5m 2.5m -4.3m"},{title:"Filtro Combustible Separador de Agua",position:"1.5 4.2 -6.6",normal:"0.7 0.05 0.69",orbit:"350deg 80deg 1m",target:"1.5m 4m -6.6m"}]:"PTO"===e?[{title:"Acople Flexible",position:"-1 3.8 -4.3",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 3m",target:"-1m 3.6m -4.3m"},{title:"Acople Flexible",position:"-1 3.8 -5.5",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 3m",target:"-1m 3.6m -5.5m"},{title:"Bomba Ventilador Enfriador de Aceite Hidr\xe1ulico",position:"-1.5 3.9 -4.55",normal:"-0.7 -0.05 -0.69",orbit:"270deg 70deg 1m",target:"-1.5m 3.7m -4.55m"},{title:"Bomba Ventilador Enfriador de Aceite Hidr\xe1ulico",position:"-1.5 3.9 -5.8",normal:"-0.7 -0.05 -0.69",orbit:"270deg 70deg 1m",target:"-1.5m 3.7m -5.8m"},{title:"Bombas Hidr\xe1ulicas Principales",position:"-1.5 3.5 -4.3",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.3m -4.3m"},{title:"Bombas Hidr\xe1ulicas Principales",position:"-1.5 3.5 -5.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.3m -5.5m"},{title:"Bomba Hidr\xe1ulica Ventilador, Radiador Motor 2",position:"-1.5 3.8 -4.3",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.6m -4.3m"},{title:"Bomba Hidr\xe1ulica Ventilador, Radiador Motor 1",position:"-1.5 3.8 -5.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.6m -5.5m"},{title:"Tanque de Succi\xf3n de Aceite",position:"-2 2.7 -4.9",normal:"-0.7 -0.05 -0.69",orbit:"270deg 70deg 2m",target:"-2m 2.5m -4.9m"}]:"Sistema_hidraulico"===e?[{title:"Respiraderos",position:"-2 5.2 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 2m",target:"-2m 5m -2m"},{title:"Motor Hidr\xe1ulico de Ventilador Superior",position:"-1.5 4.8 -1",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 3m",target:"-1.5m 4.3m -1m"},{title:"Motor Hidr\xe1ulico de Ventilador Inferior",position:"-1.5 3.9 -1",normal:"0.7 -0.05 -0.69",orbit:"90deg 70deg 2m",target:"-1.5m 3.5m -1m"},{title:"Enfriadores de aceite",position:"-2.5 4.8 -1",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 3m",target:"-2.5m 3.8m -1m"},{title:"Filtros de Aceite Sistema Hidr\xe1ulico",position:"-2 5 -2.",normal:"0.7 -0.05 -0.69",orbit:"150deg 70deg 2m",target:"-2m 4.8m -2.8m"},{title:"Tanque Hidr\xe1ulico",position:"-2.5 4 -2.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 4m",target:"-2.5m 4m -2.5m"},{title:"Tubo Recolector de Aceite de Retorno",position:"-1.5 4 -2.5",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 4m",target:"-1.5m 4m -2.5m"},{title:"V\xe1lbulas de Control",position:"0.1 4.6 -2.1",normal:"0.1 -0.9 0.9",orbit:"0deg 70deg 3m",target:"0.1m 4.5m -2.1m"}]:"Sistema_rodado"===e?[{title:"Rodillo Superior",position:"-2.5 1.9 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.8m -2m"},{title:"Rodillo Superior",position:"-2.5 1.9 0",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.8m 0m"},{title:"Rodillo Superior",position:"-2.5 1.9 -3.7",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.8m -3.7m"},{title:"Rodillo Inferior",position:"-2.5 0.6 0",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m 0m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -0.7",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -0.7m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -1.3",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -1.3m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -2m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -2.6",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -2.6m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -3.2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -3.2m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -3.7",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -3.7m"},{title:"Rueda Tensora",position:"-2.5 1 1",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1m 1m"},{title:"Bastidor",position:"-2.5 1.1 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.1m -2m"},{title:"Sprocket",position:"-2.5 1.5 -4.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.5m -4.5m"}]:[]:[]},Hn=function(e){var t=e.machine,n=e.subSistem,i=Object(a.useState)(),r=Object(c.a)(i,2),s=(r[0],r[1]),o=Object(a.useState)(),l=Object(c.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)(0),b=Object(c.a)(j,2),h=b[0],m=b[1],x=Object(a.useState)(!1),O=Object(c.a)(x,2),p=O[0],f=O[1],v=Object(a.useState)(!1),y=Object(c.a)(v,2),w=y[0],S=y[1],C=Object(a.useState)([]),A=Object(c.a)(C,2),k=A[0],R=A[1],D=Object(a.useState)(""),M=Object(c.a)(D,2),E=M[0],I=M[1],B=Object(a.useState)(""),T=Object(c.a)(B,2),N=T[0],z=T[1],F=Object(a.useState)(""),P=Object(c.a)(F,2),L=P[0],U=P[1],W=Object(a.useState)("45deg 81deg 100m"),Z=Object(c.a)(W,2),H=Z[0],Q=Z[1],q=Object(a.useState)("0.009 0.009 0.009"),J=Object(c.a)(q,2),V=J[0],X=J[1],K=Object(a.useState)("auto auto auto"),_=Object(c.a)(K,2),$=_[0],ee=_[1],te=Object(a.useState)(!1),ne=Object(c.a)(te,2),ae=ne[0],ie=ne[1],re=Object(a.useState)([]),ce=Object(c.a)(re,2),se=ce[0],oe=ce[1],le=Object(a.useState)("auto"),de=Object(c.a)(le,2),ue=de[0],je=(de[1],Object(a.useState)("auto")),be=Object(c.a)(je,2),he=be[0],me=(be[1],Object(a.useState)("auto")),ge=Object(c.a)(me,2),xe=ge[0];ge[1];Object(a.useEffect)((function(){if(oe([]),n){fe();var e=JSON.parse(n);setTimeout((function(){we(e.name,e.brand,e.model,e.nameModel)}),500)}else fe()}),[]);var Oe=function(){var e=Object(G.a)(Y.a.mark((function e(){var n,a,i,r,c,s,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z("primary"),f(!0),m(0),e.next=5,Ue.initDb3DFiles();case 5:if(!(n=e.sent)){e.next=15;break}return e.next=9,Ue.buscarPorNombreModelo("Preview_".concat(t.model),n.database);case 9:a=e.sent,i=a.data,r=new Blob([i]),c=URL.createObjectURL(r),u(c),I(pe("Preview"));case 15:return e.next=17,$e.initDb();case 17:if(!(s=e.sent)){e.next=25;break}return o=new Array,e.next=22,$e.consultar(s.database);case 22:(o=e.sent).forEach((function(e,t){e.isSelected=""})),R(o.filter((function(e){if(e.model===t.model&&"Preview"!=e.name)return e;e.name})));case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(e){return"Preview"===e?"Vista General ".concat(t.brand," ").concat(t.model):"Preview_Con_Texturas"===e?"Vista General ".concat(t.brand," ").concat(t.model," Color"):"Sistema_direccion"===e?"Sistema de Direcci\xf3n":"Sistema_hidraulico"===e?"Sistema Hidraulico":"Sistema_neumatico"===e?"Sistema Neumatico":"Mando_de_giro"===e?"Mando de Giro":"Mando_final"===e?"Mando Final":"Sistema_rodado"===e?"Sistema Rodado":e},fe=function(){var e=Object(G.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n||Oe(),s(document.querySelector("model-viewer#machine")),(t=document.querySelector("model-viewer#machine")).addEventListener("model-visibility",(function(e){})),t.addEventListener("load",(function(){f(!1),t.cameraControls=!0,document.getElementById("image").style.opacity="0",setTimeout((function(){document.getElementById("machine").style.opacity="1",document.getElementById("image").style.height="0px",document.getElementById("machine").style.height="100%"}),2e3)})),t.addEventListener("click",(function(e){})),t.addEventListener("error",(function(e){}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve="undefined"!==typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),ye=function(){S(!1)},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new String,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new String,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new String;if(I(pe(e)),"CATERPILLAR"===t)if("Preview_Con_Texturas"===e)m(0),f(!0);else{var i="../assets/transiciones/".concat(t,"/").concat(n,"/Pantalla_de_carga_").concat(e,".png");U(i),document.getElementById("machine").style.opacity="0",setTimeout((function(){document.getElementById("machine").style.height="0px",document.getElementById("image").style.height="80%",document.getElementById("image").style.opacity="1"}),500)}else m(0),f(!0);setTimeout(Object(G.a)(Y.a.mark((function t(){var i,r,c,s,o;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ue.initDb3DFiles();case 2:return i=t.sent,t.next=5,Ue.buscarPorNombreModelo(a,i.database);case 5:r=t.sent,c=r.data,s=new Blob([c]),o=URL.createObjectURL(s),oe(Zn(e,n)),u(o);case 11:case"end":return t.stop()}}),t)}))),4e3)},Se=function(){Q("45deg 81deg 100m"),X("0.009 0.009 0.009"),ee("".concat(ue," ").concat(he," ").concat(xe)),ie(!1)};return Object(Bt.jsxs)(vt.a,{style:{height:"100%",width:"100%"},id:"box",children:[!n&&Object(Bt.jsxs)(En.a,{sx:{width:"30%",backgroundColor:"transparent"},disableBackdropTransition:!ve,disableDiscovery:ve,variant:"persistent",anchor:"top",open:w,children:[Object(Bt.jsx)("div",{style:{width:"27vw",textAlign:"right"},children:Object(Bt.jsx)(g.a,{onClick:function(){return ye()},children:Object(Bt.jsx)(St.a,{})})}),Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Bt.jsx)(Qt.a,{color:N,style:{width:"90%",marginBottom:10},variant:"outlined",onClick:function(){f(!0),ye(),z("primary"),m(0),setTimeout((function(){Oe()}),1e3)},children:Object(Bt.jsx)("p",{children:pe("Preview")})})}),k.map((function(e,n){return Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Bt.jsxs)(Qt.a,{color:e.isSelected,style:{width:"90%",marginBottom:10},variant:"outlined",onClick:function(){!function(e,n){console.log(e,n),ye(),Se(),oe([]),setTimeout((function(){if(I(pe(e.name)),"CATERPILLAR"===e.brand)if("Preview_Con_Texturas"===e.name)m(0),f(!0);else{var a="../assets/transiciones/".concat(e.brand,"/").concat(e.model,"/Pantalla_de_carga_").concat(e.name,".png");U(a),document.getElementById("machine").style.opacity="0",setTimeout((function(){document.getElementById("machine").style.height="0px",document.getElementById("image").style.height="80%",document.getElementById("image").style.opacity="1"}),500)}else m(0),f(!0);k.forEach((function(e,t){e.isSelected=t===n?"primary":"",t===k.length-1&&R(k)})),setTimeout(Object(G.a)(Y.a.mark((function n(){var a,i,r,c,s;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ue.initDb3DFiles();case 2:return a=n.sent,n.next=5,Ue.buscarPorNombreModelo(e.nameModel,a.database);case 5:i=n.sent,r=i.data,c=new Blob([r]),s=URL.createObjectURL(c),console.log(t.model),oe(Zn(e.name,t.model)),u(s);case 12:case"end":return n.stop()}}),n)}))),4e3)}),1e3)}(e,n)},children:[Object(Bt.jsx)("img",{src:"../assets/no-image.png",style:{width:50,height:50,borderRadius:30,objectFit:"cover",position:"absolute",left:10},alt:""}),Object(Bt.jsx)("p",{children:pe(e.name)})]})},n)}))]})]}),Object(Bt.jsx)("img",{src:L,id:"image",className:"image",height:640,width:480}),Object(Bt.jsx)("model-viewer",{id:"machine",src:d,style:{height:"100%",width:"100%",backgroundColor:"#414646",opacity:1,transition:"opacity 0.5s"},"camera-target":$,"camera-orbit":H,scale:V,alt:"A Material Picking Example","touch-action":"none","min-field-of-view":"0deg","interpolation-decay":"200","min-camera-orbit":"auto auto 10%",oncontextmenu:"return false",children:se.map((function(e,t){return Object(Bt.jsx)("button",{onClick:function(){Q(e.orbit),ee(e.target),ie(!0)},className:"view-button",slot:"hotspot-".concat(t),"data-position":e.position,"data-normal":e.normal,"data-orbit":e.orbit,"data-target":e.target,children:e.title},t)}))}),Object(Bt.jsx)(zt,{open:p,progress:h,loadingData:"Preparando vista 3D...",withProgress:!0}),Object(Bt.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"transparent",textAlign:"center"},children:Object(Bt.jsxs)("div",{style:{width:"60%",backgroundColor:"transparent",textAlign:"center",marginLeft:"auto",marginRight:"auto"},children:[ae&&Object(Bt.jsxs)(g.a,{onClick:function(){return Se()},children:[Object(Bt.jsx)(Wn.a,{style:{color:"white",fontFamily:"Raleway",marginRight:10}})," ",Object(Bt.jsx)("p",{style:{color:"white",fontFamily:"Raleway"},children:"Centrar c\xe1mara"})]}),Object(Bt.jsx)("h2",{style:{color:"white",fontFamily:"Raleway"},children:E})]})}),!w&&!n&&Object(Bt.jsx)(wt.a,{onClick:function(){S(!0)},style:{position:"absolute",left:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:Object(Bt.jsx)(In.a,{})})]})},Qn=n(23),qn=n(338),Jn=n.n(qn),Vn=(n(401),n(402),n(673)),Xn=n(674),Kn=n(249),_n=n.n(Kn),$n=n(248),ea=n.n($n),ta=n(599),na=n(655),aa=n(658),ia=n(656),ra=n(659),ca=n(660),sa=Object(a.forwardRef)((function(e,t){return Object(Bt.jsx)(ta.a,Object(pt.a)({direction:"up",ref:t},e))})),oa=function(e){var t=e.handleClickOpen,n=e.open,a=e.handleClose,i=e.image;return Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)(Qt.a,{variant:"outlined",onClick:t,children:"Open full-screen dialog"}),Object(Bt.jsxs)(na.a,{fullScreen:!0,open:n,onClose:a,TransitionComponent:sa,children:[Object(Bt.jsx)(g.a,{style:{position:"absolute",top:20,right:20,backgroundColor:"#fff"},onClick:a,children:Object(Bt.jsx)(St.a,{})}),Object(Bt.jsx)("div",{style:{padding:30,textAlign:"center",height:"100vh"},children:Object(Bt.jsx)("img",{src:i,height:"100%"})})]})]})},la=n(97),da=n(346),ua=(n(566),n(567),Object(a.forwardRef)((function(e,t){return Object(Bt.jsx)(ta.a,Object(pt.a)({direction:"up",ref:t},e))}))),ja=function(e){e.handleClickOpen;var t=e.open,n=e.handleClose,i=e.images,r=e.setIsEdited;console.log(i);var s=Object(a.useState)(),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)(!1),j=Object(c.a)(u,2),b=j[0],h=j[1],m=Object(a.useState)(i),x=Object(c.a)(m,2),O=x[0],p=x[1],f=Object(a.useState)(),v=Object(c.a)(f,2),y=v[0],w=v[1],S=function(e){document.getElementById("astChange").click(),w(e)},C=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return h(!0),e.next=4,Te(t);case 4:n=e.sent,setTimeout((function(){n&&(y.image=n,h(!1),r(!0))}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Bt.jsxs)(na.a,{fullScreen:!0,open:t,onClose:n,TransitionComponent:ua,adaptiveHeight:!0,children:[Object(Bt.jsxs)(ia.a,{className:"dialog-content-ast",children:[Object(Bt.jsxs)(da.a,{grabCursor:!0,effect:"creative",creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}},zoom:!0,modules:[la.g,la.d,la.e,la.f,la.a,la.b,la.c],spaceBetween:50,slidesPerView:1,navigation:!0,keyboard:{enabled:!0},style:{"--swiper-navigation-color":"#be2e26","--swiper-pagination-color":"#be2e26"},className:"mySwiper",pagination:{clickable:!0},onSwiper:function(e){return d(e.activeIndex)},onSlideChange:function(e){return d(e.activeIndex)},children:[O.map((function(e,t){return console.log(e),Object(Bt.jsx)(da.b,{style:{height:"80vh",display:"block",width:"100%",textAlign:"center"},children:Object(Bt.jsx)("div",{className:"swiper-zoom-container",children:Object(Bt.jsx)("img",{src:e.image.length>0?e.image:e.imageUrl,style:{height:"85vh",textAlign:"center"}},t)})},t)})),Object(Bt.jsx)("input",{autoComplete:"off",type:"file",id:"astChange",accept:"image/x-png,image/jpeg",onChange:function(e){C(e.target.files[0])},hidden:!0})]}),Object(Bt.jsxs)("div",{style:{width:"100%",textAlign:"center",position:"absolute",bottom:10},children:[Object(Bt.jsxs)(Qt.a,{style:{backgroundColor:"#fff",borderStyle:"solid",borderWidth:1,borderColor:"green",color:"green",marginRight:10},onClick:function(){console.log(i[l]),S(i[l])},children:[Object(Bt.jsx)(Pt.a,{style:{fontSize:30,marginRight:10},icon:Lt.t})," Cambiar AST"]}),Object(Bt.jsxs)(Qt.a,{style:{backgroundColor:"#fff",borderStyle:"solid",borderWidth:1,borderColor:"red",color:"red"},onClick:function(){!function(){h(!0),console.log(i);var e=i.splice(l,1);console.log(e),p(i),setTimeout((function(){h(!1),r(!0)}),1e3)}()},children:[Object(Bt.jsx)(St.a,{style:{fontSize:30,marginRight:10}})," Borrar AST"]})]})]}),Object(Bt.jsx)(g.a,{style:{position:"absolute",zIndex:2,top:20,right:20,backgroundColor:"#fff"},onClick:n,children:Object(Bt.jsx)(St.a,{})}),Object(Bt.jsx)(Ft,{open:b})]})},ba=n(343),ha=n(657),ma=Object(a.forwardRef)((function(e,t){return Object(Bt.jsx)(ta.a,Object(pt.a)({direction:"up",ref:t},e))})),ga=function(e){var t=e.handleClickOpen,n=e.open,a=e.handleClose,i=e.message,r=e.inputMessage,c=e.saveMessage;return setTimeout((function(){document.getElementById("textField").focus()}),100),Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)(Qt.a,{variant:"outlined",onClick:t,children:"Open full-screen dialog"}),Object(Bt.jsxs)(na.a,{fullScreen:!0,open:n,onClose:a,TransitionComponent:ma,children:[Object(Bt.jsx)(g.a,{style:{position:"absolute",top:20,left:20,backgroundColor:"#fff"},onClick:a,children:Object(Bt.jsx)(St.a,{})}),Object(Bt.jsxs)(g.a,{style:{position:"absolute",top:20,right:20,backgroundColor:"#fff"},onClick:function(){c(),a()},children:["Enviar ",Object(Bt.jsx)(ha.a,{})]}),Object(Bt.jsx)("div",{style:{padding:30,textAlign:"center",height:"100vh"},children:Object(Bt.jsx)(An.a,{style:{width:"70%"},id:"textField",value:i,onChange:function(e){r(e.target.value)}})})]})]})},xa=Object(a.forwardRef)((function(e,t){return Object(Bt.jsx)(ta.a,Object(pt.a)({direction:"up",ref:t},e))})),Oa=function(e){var t=e.open,n=e.handleClose,i=e.item,r=e.index,s=e.executionReport,o=e.gruposKeys,l=(e.indexActivity,e.indexGroup),d=e.save,u=(e.setChecks,e.canEdit),j=Mi(),b=j.userData,h=j.admin,m=(j.isOperator,j.isSapExecutive,j.isShiftManager,j.isChiefMachinery,ir().usersFilteredBySite),x=qi().report,O=Gi().isOnline,p=Object(a.useState)(""),f=Object(c.a)(p,2),v=f[0],y=f[1],w=Object(a.useState)([]),S=Object(c.a)(w,2),C=S[0],A=S[1],k=Object(a.useState)(),R=Object(c.a)(k,2),D=R[0],M=R[1],E=Object(a.useState)(!1),I=Object(c.a)(E,2),B=I[0],T=I[1],N=Object(a.useState)(!1),z=Object(c.a)(N,2),F=z[0],L=z[1],U=Object(a.useState)(""),W=Object(c.a)(U,2),Z=W[0],H=W[1],Q=Object(a.useState)(!1),q=Object(c.a)(Q,2),J=q[0],V=(q[1],Object(a.useState)(!1)),X=Object(c.a)(V,2),K=X[0],_=X[1],$=Object(a.useState)(!1),ee=Object(c.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),ie=Object(c.a)(ae,2),re=ie[0],ce=ie[1],se=Object(a.useState)(!1),oe=Object(c.a)(se,2),le=(oe[0],oe[1]),de=Object(a.useState)(0),ue=Object(c.a)(de,2),je=ue[0],be=ue[1],he=Object(a.useState)(),me=Object(c.a)(he,2),ge=me[0],xe=me[1],pe=Object(a.useState)(!1),fe=Object(c.a)(pe,2),ve=(fe[0],fe[1]);Object(a.useEffect)((function(){console.log(x)}),[x]),Object(a.useEffect)((function(){if(o.map((function(e,t){e.data===l&&xe(t)})),s&&s.astList&&ce(s.astList),M(i.unidadData),i.messages){var e=[];i.messages.forEach(function(){var t=Object(G.a)(Y.a.mark((function t(n,a){var r;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=m.filter((function(e){if(e._id===n.user)return e}))[0],console.log(r),n.name=r?"".concat(r.name," ").concat(r.lastName):"User Test",n.urlBase64&&e.push(n),a==i.messages.length-1&&(be(e.length+1),A(i.messages));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),setTimeout((function(){document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),100)}}),[]),Object(a.useEffect)((function(){if(C.length>0){var e=!1,t=!1;Object(Qn.a)(C).forEach(function(){var n=Object(G.a)(Y.a.mark((function n(a,r){return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(a.urlBase64||a.urlImageMessage)&&(t=!0),"Se indica estado ejecutado sin dejar mensajes"===a.content||(e=!0),r===C.length-1&&(i.haveMessage=e,i.haveClip=t);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()),y(""),setTimeout((function(){document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),50)}}),[C]);var ye=function(e){y(e)},we=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return e.next=3,Te(t);case 3:if(n=e.sent,!O){e.next=12;break}return e.next=7,Oe(t,"".concat((new Date).getFullYear(),"/").concat(x.idIndex,"/").concat(l,"/").concat(Date.now()),"reports-test");case 7:a=e.sent,console.log(a.data.data.url),Se(n,"Imagen ".concat(Date.now()),a.data.data.url),e.next=13;break;case 12:Se(n,"Imagen ".concat(Date.now()),null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(G.a)(Y.a.mark((function e(t,n,a){var c,s,o,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(v.length>0||n)&&(c=je,t&&(i.haveClip=!0,be(c+=1)),s=n||v,o={id:Date.now(),namePicture:a?"".concat(ge,"_Tarea_").concat(r+1,"_Foto_").concat(c):null,content:s,name:"".concat(b.name," ").concat(b.lastName),user:b._id,urlBase64:t,urlImageMessage:a},(l=Object(Qn.a)(C)).push(o),A(l));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ce=function(e,t,a){a.messages=C,ve(!1),"*"!==a.unidad?D?(a.unidadData=D,d(e,t,a),s.offLineGuard=Date.now(),n()):alert("Debe ingresar el total utilizado. Si no utiliz\xf3 insumo o repuesto solicitado debe ingresar 0"):C.length>0?(d(e,t,a),s.offLineGuard=Date.now(),n()):alert("Debe dejar un comentario")};return Object(Bt.jsxs)(na.a,{open:t,TransitionComponent:xa,keepMounted:!0,disableEscapeKeyDown:!0,"aria-describedby":"alert-dialog-slide-description",children:[Object(Bt.jsx)("div",{style:{position:"absolute",right:50,top:10},children:Object(Bt.jsx)(g.a,{onClick:function(){n()},style:{position:"fixed"},children:Object(Bt.jsx)(St.a,{})})}),Object(Bt.jsx)(aa.a,{style:{marginTop:30},children:i.taskdesc}),Object(Bt.jsx)(ia.a,{children:Object(Bt.jsxs)(ra.a,{id:"alert-dialog-slide-description",style:{whiteSpace:"pre-line"},children:[i.obs01," ",Object(Bt.jsx)("br",{})]})}),"*"!==i.unidad&&Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:3,children:Object(Bt.jsxs)("div",{style:{marginLeft:24,marginBottom:16},children:[Object(Bt.jsx)("h3",{children:"Total utilizado"}),Object(Bt.jsx)(An.a,{id:"standard-basic",label:i.unidad,variant:"standard",type:"number",value:D,onChange:function(e){var t;t=e.target.value,M(t)}})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:2,lg:2,md:2,sm:2,children:Object(Bt.jsx)("div",{children:Object(Bt.jsxs)("p",{children:["Nro Parte: ",i.partnumberUtl]})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:4,lg:4,md:4,sm:4,children:Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:6,lg:6,md:6,sm:6,children:Object(Bt.jsx)("div",{children:Object(Bt.jsxs)("p",{children:["Cant. Utilizar: ",Object(Bt.jsx)("br",{})," ",i.cantidad," ",i.unidad]})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:6,lg:6,md:6,sm:6,children:Object(Bt.jsx)("div",{children:Object(Bt.jsxs)("p",{children:["Tipo Rpto: ",i.idtypeutlPartnumber]})})})]})})]}),Object(Bt.jsx)("div",{style:{paddingLeft:24,paddingRight:24,marginBottom:50},children:Object(Bt.jsxs)("div",{style:{width:"100%",height:250,borderWidth:2,borderStyle:"solid",borderColor:"#ccc",borderRadius:20,position:"relative"},children:[Object(Bt.jsxs)("div",{id:"commits",style:{width:"100%",height:190,overflowY:"auto",scrollBehavior:"smooth"},children:[0===C.length&&Object(Bt.jsx)("p",{children:"No hay mensajes"}),C.map((function(e,t){return console.log(e),Object(Bt.jsxs)("div",{style:{position:"relative",color:"#555",padding:5,margin:5,borderRadius:20,borderWidth:2,borderStyle:"solid",borderColor:"#dddddd",backgroundColor:"#F5F5F5"},children:[(b._id===e.user&&u||h)&&Object(Bt.jsx)(g.a,{onClick:function(){!function(e){if(confirm("\xbfConfirma borrar el mensaje?")){ve(!0);var t=[];C.forEach((function(n,a){if(e===a||t.push(n),a===C.length-1)if(A(t),i.messages=t,0===i.messages.length)i.haveMessage=!1,i.haveClip=!1;else{var r=!1,c=!1;i.messages.forEach((function(e,t){console.log(e),"Se indica estado ejecutado sin dejar mensajes"===e.content||(c=!0),(e.urlBase64||e.urlImageMessage)&&(r=!0),console.log("Clip",r),t===i.messages.length-1&&(i.haveClip=r,i.haveMessage=c)}))}}))}}(t)},style:{position:"absolute",top:10,right:10},children:Object(Bt.jsx)(St.a,{style:{fontSize:14,color:"black"}})}),Object(Bt.jsx)("p",{style:{marginBottom:0,fontSize:10},children:Object(Bt.jsx)("strong",{children:e.name})}),(e.urlBase64||e.urlImageMessage)&&Object(Bt.jsx)("img",{src:e.urlBase64?e.urlBase64:e.urlImageMessage,height:70,onClick:function(){return t=e.urlBase64.length>0?e.urlBase64:e.urlImageMessage,H(t),void T(!0);var t}}),Object(Bt.jsx)("p",{style:{marginBottom:20,whiteSpace:"pre-line"},children:e.content}),Object(Bt.jsx)("p",{style:{position:"absolute",fontSize:10,right:5,bottom:0},children:P(e.id)})]},t)}))]}),Object(Bt.jsx)("div",{style:{width:"100%",height:50,borderTopWidth:2,borderTopStyle:"solid",borderTopColor:"#ccc",position:"absolute",bottom:0,left:0,paddingLeft:10,paddingRight:10},children:Object(Bt.jsxs)("form",{children:[u&&Object(Bt.jsxs)("div",{style:{width:"70%",float:"left"},children:[!ba.isMobile&&Object(Bt.jsx)("textarea",{disabled:!u,value:v,placeholder:"Ingrese comentarios",type:"text",style:{width:"100%",borderColor:"transparent",resize:"none"},onChange:function(e){ye(e.target.value)}}),ba.isMobile&&Object(Bt.jsx)("textarea",{disabled:!u,id:"mobileTextArea",value:v,placeholder:"Ingrese comentarios",type:"text",style:{width:"100%",borderColor:"transparent",resize:"none"},onChange:function(e){console.log(e.target.value)},onClick:function(){_(!0),document.getElementById("mobileTextArea").blur()}})]}),Object(Bt.jsxs)("div",{style:{width:"30%",float:"right",textAlign:"right"},children:[u&&Object(Bt.jsx)(g.a,{onClick:function(){document.getElementById("foto").click(),le(!1)},children:Object(Bt.jsx)(Pt.a,{icon:Lt.t})}),u&&Object(Bt.jsx)(g.a,{onClick:function(){return Se()},children:Object(Bt.jsx)(Pt.a,{icon:Lt.c})}),Object(Bt.jsx)("input",{autoComplete:"off",type:"file",id:"foto",accept:"image/x-png,image/jpeg",onChange:function(e){we(e.target.files[0])},hidden:!0})]})]})})]})}),u&&Object(Bt.jsxs)(ca.a,{style:{minWidth:400},children:[Object(Bt.jsx)(Qt.a,{style:{backgroundColor:"#D5CC41",color:"#fff"},onClick:function(){Ce(r,!1,i)},children:"Guardar sin ejecutar"}),Object(Bt.jsx)(Qt.a,{style:{backgroundColor:"#9ACF26",color:"#fff"},onClick:function(){Ce(r,!0,i)},children:"Guardar ejecutado"})]}),B&&Object(Bt.jsx)(oa,{open:B,image:Z,handleClose:function(){T(!1)}}),F&&Object(Bt.jsx)(ja,{open:F,images:re,handleClose:function(){L(!1)},setIsEdited:ve}),K&&Object(Bt.jsx)(ga,{open:K,handleClose:function(){_(!1)},saveMessage:Se,message:v,inputMessage:ye}),J&&Object(Bt.jsx)(zt,{open:J,withProgress:!1,loadingData:"Cargando im\xe1gen"}),te&&Object(Bt.jsx)(pn,{open:te,handleClose:function(){ne(!1)},astList:re})]})},pa=Object(a.forwardRef)((function(e,t){return Object(Bt.jsx)(ta.a,Object(pt.a)({direction:"up",ref:t},e))})),fa=function(e){var t=e.handleClickOpen,n=e.open,a=e.handleClose,i=e.report,r=Object(s.useHistory)();return Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)(Qt.a,{variant:"outlined",onClick:t,children:"Open full-screen dialog"}),Object(Bt.jsxs)(na.a,{open:n,onClose:a,TransitionComponent:pa,children:[Object(Bt.jsx)(g.a,{style:{position:"absolute",top:20,right:20,backgroundColor:"#fff"},onClick:a,children:Object(Bt.jsx)(St.a,{})}),Object(Bt.jsxs)("div",{style:{padding:30,textAlign:"center",height:"50vh"},children:[Object(Bt.jsxs)("h1",{children:["N\xb0 de OT: ",i.idIndex]}),Object(Bt.jsxs)("h2",{children:["N\xb0 SAP",i.sapId]}),Object(Bt.jsxs)("h3",{children:["Tipo de reporte: ",i.reportType]}),Object(Bt.jsxs)("h3",{children:["Pauta: ",i.guide]}),i.testMode&&Object(Bt.jsx)("p",{style:{width:"100%",backgroundColor:"red",color:"white"},children:"OT creada para testing."}),Object(Bt.jsx)("div",{style:{textAlign:"justify"},children:Object(Bt.jsxs)("p",{children:["Fecha programado: ",P(i.datePrev),Object(Bt.jsx)("br",{}),"Fecha de inicio: ",P(i.dateInit),Object(Bt.jsx)("br",{}),"Fecha \xfaltima actualizaci\xf3n: ",P(i.updatedAt)]})}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Bt.jsx)("button",{onClick:function(){return r.push("/assignment/".concat(i.idIndex))},children:"Abrir reporte"})})]})]})]})},va=function(e){var t=e.height,n=e.reportAssigned,i=e.setProgress,r=(e.resultThisItemProgress,e.canEdit),s=e.executionReport,o=e.report,l=Gi().isOnline,d=Mi(),u=d.userData,j=(d.isOperator,Object(a.useState)(!0)),b=Object(c.a)(j,2),h=(b[0],b[1]),m=Object(a.useState)([]),x=Object(c.a)(m,2),O=x[0],p=x[1],f=Object(a.useState)([]),v=Object(c.a)(f,2),y=v[0],w=v[1],S=Object(a.useState)([]),C=Object(c.a)(S,2),A=(C[0],C[1]),k=Object(a.useState)(),R=Object(c.a)(k,2),D=R[0],M=R[1],E=Object(a.useState)(),I=Object(c.a)(E,2),B=I[0],T=I[1],N=Object(a.useState)(!1),z=Object(c.a)(N,2),F=z[0],P=z[1],L=Object(a.useState)(),U=Object(c.a)(L,2),W=U[0],Z=U[1],H=Object(a.useState)(),Q=Object(c.a)(H,2),q=Q[0],J=Q[1],V=Object(a.useState)(!1),X=Object(c.a)(V,2),K=X[0],_=(X[1],function(e){var t=e.className,n=(e.style,e.onClick);return Object(Bt.jsx)("div",{className:t,style:{color:"black",background:"grey",borderRadius:20},onClick:n})}),$={infinite:!1,speed:500,slidesToShow:7,slidesToScroll:7,nextArrow:Object(Bt.jsx)(_,{}),prevArrow:Object(Bt.jsx)(_,{})};Object(a.useEffect)((function(){var e=[];console.log(s),s._id&&(Object.keys(s.group).forEach((function(t,n){var a={data:t,state:!1};0==n&&(a.state=!0,T(t)),e.push(a)})),p(o.testMode?[e[0],e[1],e[2]]:e),console.log(Object.values(s.group)[0]),w(Object.values(s.group)[0]))}),[s]),Object(a.useEffect)((function(){if(console.log(y),l&&y&&s._id){var e=[];y.forEach((function(t){t.isChecked&&e.push(t)}));var t=[],n=[];Object.values(s.group).forEach((function(e){e.forEach((function(e){t.push(e),e.isChecked&&n.push(e)}))}));var a=(100*e.length/y.length).toFixed(0),r=(100*n.length/t.length).toFixed(0);i({progressPage:a,globalProgress:r}),h(!1)}}),[y,s,O,l]),Object(a.useEffect)((function(){console.log(B)}),[B]);var ee=function(){var e=Object(G.a)(Y.a.mark((function e(t,n,a){var i,r,c,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(Qn.a)(y),a.isChecked=!0,a.isWarning=!n,i[t]=a,(r=s).group[B]=i,w(i),e.next=9,Ve();case 9:return c=e.sent,o=c.database,e.next=13,Xe(r,o);case 13:if(!l){e.next=16;break}return e.next=16,xe(r);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(G.a)(Y.a.mark((function e(t,n){var a,i,r,c,o,d;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isChecked){e.next=4;break}confirm("\xbfDesea indicar estado ejecutado, sin dejar un mensaje?")&&(a=[{content:"Se indica estado ejecutado sin dejar mensajes",id:Date.now(),name:"".concat(u.name," ").concat(u.lastName),namePicture:null,urlBase64:void 0,user:u._id}],t.isChecked=!0,t.isWarning=!1,t.messages=a,ee(n,!0,t)),e.next=22;break;case 4:if(!confirm("Confirme que desea desmarcar la tarea")){e.next=22;break}return(i=Object(Qn.a)(y))[n].isChecked=!1,r=0,i[n].messages.forEach((function(e,t){"Se indica estado ejecutado sin dejar mensajes"===e&&(r=t)})),i[n].messages[r]=null,w(i),(c=s).group[B]=i,e.next=15,Ve();case 15:return o=e.sent,d=o.database,e.next=19,Xe(c,d);case 19:if(!l){e.next=22;break}return e.next=22,xe(c);case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)("div",{style:{height:70,borderColor:"#ccc",borderWidth:2,borderStyle:"solid",borderRadius:10},children:Object(Bt.jsx)(Jn.a,Object(pt.a)(Object(pt.a)({},$),{},{children:O.map((function(e,t){return Object(Bt.jsxs)("div",{style:{textAlign:"center",height:"100%"},children:[Object(Bt.jsx)(Qt.a,{style:{textAlign:"center",width:"100%",height:70},onClick:function(){return function(e,t){T(t),w(Object.values(s.group)[e]);var n=Object(Qn.a)(O);n.forEach((function(e){e.state=!1})),n[e].state=!0,p(n)}(t,e.data)},children:Object(Bt.jsx)("p",{style:{margin:0},children:e.data})}),e.state&&Object(Bt.jsx)("div",{style:{width:"100%",height:6,backgroundColor:"#BB2D2D",position:"relative",bottom:5,borderRadius:5}})]},t)}))}))}),Object(Bt.jsxs)("div",{style:{position:"relative"},children:[Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",md:"auto",children:Object(Bt.jsxs)("p",{style:{margin:0,textAlign:"center",width:30},children:[" ",Object(Bt.jsx)("strong",{children:"N\xb0"})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,md:1,children:Object(Bt.jsxs)("p",{style:{margin:0,textAlign:"center"},children:[" ",Object(Bt.jsxs)("strong",{children:["Personal ",Object(Bt.jsx)("br",{})," Necesario"]})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",md:"auto",children:Object(Bt.jsxs)("p",{style:{margin:0,textAlign:"center",width:150},children:[" ",Object(Bt.jsx)("strong",{children:"Descripcion De Tarea"})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"Mantenci\xf3n"===o.reportType?3:5,md:"Mantenci\xf3n"===o.reportType?3:5,sm:4,children:Object(Bt.jsxs)("p",{style:{margin:0,textAlign:"center"},children:[" ",Object(Bt.jsx)("strong",{children:"Observaciones"})," "]})}),Object(Bt.jsxs)(Vn.a,{mdDown:!0,children:["Mantenci\xf3n"===o.reportType&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",md:"auto",children:Object(Bt.jsxs)("p",{style:{margin:0,textAlign:"center",width:100},children:[" ",Object(Bt.jsxs)("strong",{children:["N\xb0 Parte ",Object(Bt.jsx)("br",{})," a Utilizar"]})," "]})}),"Mantenci\xf3n"===o.reportType&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",md:"auto",children:Object(Bt.jsxs)("p",{style:{margin:0,textAlign:"center",width:100},children:[" ",Object(Bt.jsxs)("strong",{children:["Cantidad ",Object(Bt.jsx)("br",{})," a utilizar"]})," "]})}),"Mantenci\xf3n"===o.reportType&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",md:"auto",children:Object(Bt.jsxs)("p",{style:{margin:0,textAlign:"center",width:60},children:[" ",Object(Bt.jsxs)("strong",{children:["Cantidad ",Object(Bt.jsx)("br",{})," Utilizada"]})," "]})}),"Mantenci\xf3n"===o.reportType&&Object(Bt.jsx)(Nt.a,{item:!0,xl:1,md:1,children:Object(Bt.jsxs)("p",{style:{margin:0,textAlign:"center",width:100},children:[" ",Object(Bt.jsxs)("strong",{children:["Tipo ",Object(Bt.jsx)("br",{})," Rpto"]})," "]})})]}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,md:"auto",children:Object(Bt.jsxs)("p",{style:{margin:0,textAlign:"center",width:50},children:[" ",Object(Bt.jsx)("strong",{children:"Acci\xf3n"})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,md:1,children:Object(Bt.jsxs)("p",{style:{margin:0,textAlign:"center"},children:[" ",Object(Bt.jsx)("strong",{children:"Estado"})," "]})})]}),Object(Bt.jsx)("div",{style:{height:t,overflowY:"scroll"},children:y.map((function(e,t){return e.isChecked||(e.isChecked=!1),Object(Bt.jsxs)(Nt.a,{container:!0,style:{borderBottomStyle:"solid",borderBottomWidth:1,borderBottomColor:"#ccc"},children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",md:"auto",children:Object(Bt.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:30},children:[" ",Object(Bt.jsxs)("strong",{children:[t+1,".-"]})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,md:1,children:Object(Bt.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center"},children:[" ",e.workteamdesc,"   "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",md:"auto",children:Object(Bt.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"left",width:150},children:[" ",e.taskdesc," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"Mantenci\xf3n"===o.reportType?3:5,md:"Mantenci\xf3n"===o.reportType?3:5,sm:4,children:Object(Bt.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"justify"},children:[" ",e.obs01," "]})}),Object(Bt.jsxs)(Vn.a,{mdDown:!0,children:["Mantenci\xf3n"===o.reportType&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",md:"auto",children:"*"===e.partnumberUtl?Object(Bt.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:100},children:"N/A"}):Object(Bt.jsx)("p",{style:{padding:5,margin:0,textAlign:"center",width:100},children:e.partnumberUtl})}),"Mantenci\xf3n"===o.reportType&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",md:"auto",children:"*"===e.unidad?Object(Bt.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:100},children:"N/A"}):Object(Bt.jsxs)("p",{style:{padding:5,margin:0,textAlign:"center",width:100},children:[" ",e.cantidad," ",e.unidad]})}),"Mantenci\xf3n"===o.reportType&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",md:"auto",children:"*"===e.unidad?Object(Bt.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:60},children:"N/A"}):Object(Bt.jsxs)("p",{style:{padding:5,margin:0,textAlign:"center",width:60},children:[" ",e.unidadData?e.unidadData:"___"," ",e.unidad]})}),"Mantenci\xf3n"===o.reportType&&Object(Bt.jsx)(Nt.a,{item:!0,xl:1,md:1,children:"*"===e.idtypeutlPartnumber?Object(Bt.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:100},children:"N/A"}):Object(Bt.jsxs)("p",{style:{padding:5,margin:0,textAlign:"center",width:100},children:[" ",e.idtypeutlPartnumber]})})]}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,md:"auto",children:Object(Bt.jsx)("div",{style:{textAlign:"center",width:60},children:Object(Bt.jsx)(g.a,{style:{width:"5%",textAlign:"center"},onClick:function(){!function(e,t){J(t),Z(e),P(!0)}(e,t),M(t)},children:Object(Bt.jsx)(Pt.a,{icon:r?Lt.A:Lt.q})})})}),Object(Bt.jsxs)(Nt.a,{item:!0,xl:1,md:1,children:[!r&&(e.isChecked,Object(Bt.jsx)(Xn.a,{checked:e.isChecked,disabled:!0,style:{transform:"scale(1.2)"},icon:Object(Bt.jsx)(ea.a,{}),checkedIcon:Object(Bt.jsx)(_n.a,{style:{color:e.isWarning?"#EAD749":"#27AE60"}})})),r&&(e.isChecked,Object(Bt.jsx)(Xn.a,{value:e.isChecked,checked:e.isChecked,onClick:function(){te(e,t)},style:{transform:"scale(1.2)"},icon:Object(Bt.jsx)(ea.a,{}),checkedIcon:Object(Bt.jsx)(_n.a,{style:{color:e.isWarning?"#EAD749":"#27AE60"}})})),e.haveMessage&&Object(Bt.jsx)(g.a,{style:{padding:5},disabled:!0,children:Object(Bt.jsx)(Pt.a,{icon:Lt.n})}),!e.messages&&Object(Bt.jsx)(g.a,{style:{padding:5},disabled:!0,children:Object(Bt.jsx)(Pt.a,{style:{color:"transparent"},icon:Lt.n})}),e.haveClip&&Object(Bt.jsx)(g.a,{style:{padding:5},disabled:!0,children:Object(Bt.jsx)(Pt.a,{icon:Lt.z})}),!e.haveClip&&Object(Bt.jsx)(g.a,{style:{padding:5},disabled:!0,children:Object(Bt.jsx)(Pt.a,{style:{color:"transparent"},icon:Lt.z})})]})]},t)}))}),F&&Object(Bt.jsx)(Oa,{open:F,handleClose:function(){P(!1),Z(null)},report:n,item:W,index:q,executionReport:s,gruposKeys:O,indexActivity:D,indexGroup:B,save:ee,setChecks:A,canEdit:r}),K&&Object(Bt.jsx)(Ft,{open:K})]})]})},ya=n(663),wa=function(e){var t=e.route,n=A(),i=Gi().isOnline,r=tr().machineSelected,o=qi(),l=o.loading,d=o.setLoading,u=Object(a.useState)(!1),j=Object(c.a)(u,2),b=j[0],h=j[1],m=Object(a.useState)([]),x=Object(c.a)(m,2),O=x[0],p=x[1],f=Object(a.useState)([]),v=Object(c.a)(f,2),y=v[0],w=v[1],S=Object(a.useState)(""),C=Object(c.a)(S,2),k=C[0],R=C[1],D=Object(a.useState)(!1),M=Object(c.a)(D,2),E=M[0],I=M[1],B=Object(a.useState)({}),T=Object(c.a)(B,2),N=T[0],z=T[1],F=Object(a.useState)(!1),P=Object(c.a)(F,2),L=P[0],U=P[1],W=Object(a.useState)(""),Z=Object(c.a)(W,2),H=Z[0],Q=Z[1],q=Object(a.useState)("Todos"),J=Object(c.a)(q,2),V=J[0],X=J[1],_=(Object(s.useParams)().id,Object(a.useState)({})),$=Object(c.a)(_,2),ee=$[0],te=$[1];new String;t.toString(),Object(a.useEffect)((function(){"inspection"===t?R("Inspecci\xf3n"):"maintenance"===t?R("Mantenci\xf3n"):"machines"===t&&R("M\xe1quinas")}),[t]),Object(a.useEffect)((function(){console.log(r),r&&(te(r),i?be(r.equid).then((function(e){e.data&&(console.log(e.data.reverse()),p(e.data.reverse()),w(e.data.reverse()),setTimeout((function(){}),500))})):alert("Dispoitivo sin conexi\xf3n a internet. No se podr\xe1 mostrar el hist\xf3rico.")),d(!1)}),[r]);var ne=Object(s.useHistory)(),ae=function(e){"all"===e?(X("Todos"),p(y.reverse())):"Mantenci\xf3n"===e||"Inspecci\xf3n"===e?(X(e),p(y.filter((function(t){if(t.reportType===e)return t})).reverse())):(X(e),p(y.filter((function(t){if(t.state===e)return t})).reverse()))},ie=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,Te(t);case 3:n=e.sent,setTimeout((function(){n&&(console.log(n),ee.image=n,K(ee))}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:n.pageContainer,item:!0,xs:12,children:Object(Bt.jsx)(Un.a,{elevation:0,className:"pageCard",children:Object(Bt.jsxs)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){ne.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsxs)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:[k,"/",ee.type," ",ee.brand," ",ee.model,"/N\xfamero interno: ",Object(Bt.jsx)("b",{children:ee.equ})]})]})})}),Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:8,md:6,lg:4,xl:4,children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsxs)("div",{style:{padding:15,borderTopLeftRadius:20,borderEndStartRadius:20,backgroundColor:"#F9F9F9",borderRadius:10,minHeight:400},children:[Object(Bt.jsx)("h3",{style:{marginTop:5,marginBottom:5},children:ee.type}),Object(Bt.jsxs)("div",{style:{width:"100%",backgroundColor:"transparent",textAlign:"center"},children:[Object(Bt.jsx)("img",{src:ee.image?ee.image:"/assets/".concat(ee.model,".png"),height:180,id:"imageMachine",onClick:function(){var e;e=ee.image?ee.image:"/assets/".concat(ee.model,".png"),Q(e),U(!0)}}),Object(Bt.jsx)("br",{}),Object(Bt.jsxs)("button",{onClick:function(){document.getElementById("fotoMaquina").click()},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.f,style:{marginRight:10}})," Cambiar imagen"]}),Object(Bt.jsx)("input",{autoComplete:"off",type:"file",id:"fotoMaquina",accept:"image/x-png,image/jpeg",onChange:function(e){ie(e.target.files[0])},hidden:!0})]}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)("p",{style:{marginTop:5,marginBottom:5},id:"machineData",children:[Object(Bt.jsx)("b",{children:"Marca: "})," ",ee.brand," "]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(Bt.jsx)("b",{children:"Modelo: "})," ",ee.model," "]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(Bt.jsx)("b",{children:"C\xf3digo: "})," ",ee.equid," "]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(Bt.jsx)("b",{children:"Hor\xf3metro Actual: "})," ",Number(ee.hourMeter)/36e5," hrs "]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(Bt.jsx)("b",{children:"N\xfamero Interno: "})," ",ee.equ," "]})})]})})}),Object(Bt.jsx)(Nt.a,{item:!0,sm:12,md:7,lg:8,xl:8,children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsxs)("div",{style:{padding:15,backgroundColor:"#F9F9F9",width:"100%",height:"calc(100vh - 220px)",position:"relative",borderRadius:10},children:[Object(Bt.jsxs)("div",{style:{position:"absolute",top:10,right:10},children:[Object(Bt.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){ae("Mantenci\xf3n")},children:"Mantenciones"}),Object(Bt.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){ae("Inspecci\xf3n")},children:"Inspecciones"}),Object(Bt.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){ae("all")},children:"Todos"}),Object(Bt.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){ae("Completadas")},children:"Completados"}),Object(Bt.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){ae("En proceso")},children:"En proceso"}),Object(Bt.jsx)("button",{style:{float:"left"},onClick:function(){ae("Asignar")},children:"Por asignar"})]}),Object(Bt.jsxs)("h3",{children:["Listado de mantenciones. ",Object(Bt.jsxs)("b",{style:{color:"red"},children:["Filtro: ",V]})]}),Object(Bt.jsxs)("div",{style:{overflowY:"auto",height:"calc(100vh - 300px)",width:"100%",padding:20},children:[navigator.onLine&&0===O.length&&Object(Bt.jsx)("p",{children:"No hay mantenciones"}),navigator.onLine&&O.length>0&&O.reverse().map((function(e,t){return Object(Bt.jsxs)("div",{style:{width:"95%",padding:10,margin:10,display:"block",height:100,borderBottomStyle:"solid",borderBottomColor:"#ccc",borderBottomWidth:2},children:[Object(Bt.jsxs)("div",{style:{float:"left"},children:[Object(Bt.jsxs)("h4",{style:{margin:0},children:["OT N\xb0",e.idIndex]}),Object(Bt.jsxs)("p",{style:{margin:0},children:["C\xf3digo SAP ",e.sapId]}),Object(Bt.jsxs)("p",{style:{margin:0},children:["Estado: ",e.state]}),"Completadas"===e.state&&Object(Bt.jsx)("a",{href:e.urlPdf,target:"_blank",children:"Imprimir OT"})]}),Object(Bt.jsx)("button",{style:{float:"right"},onClick:function(){return function(e){I(!0),z(e)}(e)},children:Object(Bt.jsx)(Pt.a,{icon:Lt.q})})]},t)})),!navigator.onLine&&Object(Bt.jsx)("p",{children:"Debe contar con conexi\xf3n a internet."})]})]})})}),Object(Bt.jsx)(ft.a,{open:b,close:!b,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsx)("div",{style:{height:"100%",width:"100%",backgroundColor:"#333"},children:Object(Bt.jsx)(wt.a,{onClick:function(){setTimeout((function(){h(!b)}),500)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})})}),E&&Object(Bt.jsx)(fa,{open:E,report:N,handleClose:function(){I(!1)}}),l&&Object(Bt.jsx)(Ft,{open:l}),L&&Object(Bt.jsx)(oa,{open:L,image:H,handleClose:function(){U(!1)}})]})]})})})})})},Sa=(n(571),function(e){var t=e.machine,n=e.route,a=Object(s.useHistory)(),i={brand:t.brand,id:t.id,model:t.model,pIDPM:t.pIDPM,type:t.type};return Object(Bt.jsxs)(Qt.a,{className:"buttonContent",style:{borderRadius:20},onClick:function(){a.push("/".concat(n,"/").concat(JSON.stringify(i)))},children:[Object(Bt.jsx)("img",{className:"imageMachine",src:"data:".concat(t.image.data),alt:t.model}),Object(Bt.jsx)("div",{style:{position:"absolute",bottom:5,width:"100%",textAlign:"center"},children:"".concat(t.type," ").concat(t.brand," ").concat(t.model)})]})}),Ca=(Object(w.a)((function(e){return{root:{display:"inline-block",textAlign:"center"},icon:{marginBottom:15},button:{minWidth:180}}})),Object(w.a)((function(e){return{root:{display:"inline-block",textAlign:"center",padding:10,width:"25%",backgroundColor:"transparent"},icon:{padding:20,width:"100%"},button:{minWidth:"100%"},buttonSelection:{backgroundColor:"#F9F9F9",color:"#505050",width:"100%",minHeight:340,borderRadius:20,fontFamily:"Raleway",textTransform:"none",margin:10},iconButton:{color:"#BE2E26"}}}))),Aa=function(e){var t=e.variant,n=e.disableButton,a=Ni().dictionary,i=Ca(),r=Object(s.useHistory)();return Object(Bt.jsx)(Qt.a,{onClick:function(){r.push("/".concat(t))},variant:"contained",className:i.buttonSelection,disabled:n,children:Object(Bt.jsxs)("div",{className:i.icon,children:[function(){switch(t){case"inspection":return Object(Bt.jsx)(Pt.a,{icon:Lt.E,size:"4x",className:i.iconButton});case"assignment":return Object(Bt.jsx)(Pt.a,{icon:Lt.v,size:"4x",className:i.iconButton});case"machines":return Object(Bt.jsx)(Pt.a,{icon:Lt.K,size:"4x",className:i.iconButton});case"maintenance":return Object(Bt.jsx)(Pt.a,{icon:Lt.I,size:"4x",className:i.iconButton});case"reports":return Object(Bt.jsx)(Pt.a,{icon:Lt.k,size:"4x",className:i.iconButton});case"administration":return Object(Bt.jsx)(Pt.a,{icon:Lt.M,size:"4x",className:i.iconButton});case"users":return Object(Bt.jsx)(Pt.a,{icon:Lt.N,size:"4x",className:i.iconButton});case"roles":return Object(Bt.jsx)(Pt.a,{icon:Lt.w,size:"4x",className:i.iconButton});case"patterns":return Object(Bt.jsx)(Pt.a,{icon:Lt.e,size:"4x",className:i.iconButton})}}(),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("p",{className:"button-font-size",children:function(){switch(t){case"inspection":return a.welcome.inspectionButton;case"assignment":return a.welcome.assignmentButton;case"machines":return a.welcome.machinesButton;case"maintenance":return a.welcome.maintenanceButton;case"reports":return a.welcome.reportsButton;case"administration":return a.welcome.administrationButton;case"users":return a.admin.adminUsersButton;case"roles":return a.roles.rolesUsersButton;case"patterns":return a.patterns.patternsButton}}()})]})})},ka=function(e){var t=e.route,n=A(),i=tr().machines,r=Object(s.useHistory)(),o=Object(a.useState)(),l=Object(c.a)(o,2),d=l[0],u=l[1];return Object(a.useEffect)((function(){"inspection"===t?u("Inspecci\xf3n"):"maintenance"===t?u("Mantenci\xf3n"):"machines"===t&&u("M\xe1quinas")}),[t]),Object(Bt.jsx)(vt.a,{height:"90%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:n.pageContainer,item:!0,xs:12,children:Object(Bt.jsx)("div",{className:"pageCard",children:Object(Bt.jsxs)(Nt.a,{container:!0,alignItems:"flex-start",justifyContent:"flex-start",children:[Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){r.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"".concat(d)})]})})}),Object(Bt.jsx)(Nt.a,{container:!0,spacing:5,justifyContent:"flex-start",style:{textAlign:"center",height:"75vh",overflowY:"auto"},children:i.map((function(e){return Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:4,lg:4,xl:4,children:Object(Bt.jsx)(Sa,{machine:e,route:t})},e.id)}))})]})})})})})},Ra=n(650),Da=function(){var e=A();return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Bt.jsx)(Un.a,{elevation:0,className:Object(Bn.a)("pageCard",e.noNavBarMargin),children:Object(Bt.jsx)(Nt.a,{container:!0,style:{height:"100%"},alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)(Nt.a,{container:!0,item:!0,spacing:8,justifyContent:"center",children:Object(Bt.jsx)(Nt.a,{item:!0,children:Object(Bt.jsx)(x.a,{size:200})})})})})})})})},Ma=function(e){var t=e.route,n=tr(),i=n.machinesBySite,r=n.setMachineSelected,o=Object(a.useState)(""),l=Object(c.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)([]),b=Object(c.a)(j,2),h=b[0],m=b[1],x=Object(a.useState)(!1),O=Object(c.a)(x,2),p=O[0],f=O[1],v=Object(a.useState)(!1),y=Object(c.a)(v,2),w=y[0],S=y[1],C=Object(a.useState)(),k=Object(c.a)(C,2),R=k[0],D=k[1],M=Object(s.useHistory)(),E=A(),B=Object(s.useParams)().id;Object(a.useEffect)((function(){D(JSON.parse(B))}),[]),Object(a.useEffect)((function(){"inspection"===t?u("Inspecci\xf3n"):"maintenance"===t?u("Mantenci\xf3n"):"machines"===t&&u("M\xe1quinas")}),[t]),Object(a.useEffect)((function(){if(i.length>0&&R){var e=i.filter((function(e){if(e.model===JSON.parse(B).model)return e})).sort((function(e,t){return e.equ-t.equ}));m(e),S(!0)}}),[i,R]);return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:E.pageContainer,item:!0,xs:12,children:Object(Bt.jsx)(Un.a,{elevation:0,className:"pageCard",children:R&&Object(Bt.jsxs)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){M.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:R&&"".concat(d,"/").concat(R.type," ").concat(R.brand," ").concat(R.model)})]})})}),Object(Bt.jsx)("div",{style:{width:"100%",paddingLeft:20,height:40,textAlign:"center"},children:("793-F"===R.model||"PC5500"===R.model)&&Object(Bt.jsx)("button",{style:{height:30,borderRadius:20,position:"relative",right:10,paddingLeft:30,paddingRight:30},onClick:function(){return openCloseModal()},children:Object(Bt.jsx)("strong",{children:"Ver modelo 3D de ".concat(R.type," ").concat(R.brand," ").concat(R.model)})})}),Object(Bt.jsxs)(Ra.a,{style:{width:"100vw",marginRight:11,overflowY:"scroll",maxHeight:"70vh",paddingLeft:20,paddingRight:20},children:[!w&&Object(Bt.jsx)(Da,{}),w&&h.map((function(e,t){return Object(Bt.jsxs)(Nt.a,{container:!0,style:{minHeight:148,marginBottom:20,padding:20,borderStyle:"solid",borderWidth:2,borderColor:"#CCC",borderRadius:20},children:[Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:3,lg:2,children:Object(Bt.jsx)("img",{src:e.image?e.image:"../assets/no-image.png",style:{height:120,width:"100%",objectFit:"cover"}})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:3,lg:2,children:Object(Bt.jsx)("div",{style:{padding:10},children:Object(Bt.jsxs)("h1",{style:{margin:0},children:[" ",Object(Bt.jsxs)("strong",{children:[e.type," ",e.equ]})," "]})})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:3,lg:3,children:Object(Bt.jsxs)("div",{style:{padding:10},children:[Object(Bt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Marca: ",e.brand.toUpperCase()]}),Object(Bt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Modelo: ",e.model]}),Object(Bt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["C\xf3digo: ",e.equid]})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:3,lg:3,children:Object(Bt.jsxs)("div",{style:{padding:10},children:[Object(Bt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Hor\xf3metro Actual: ",Number(e.hourMeter)/36e5]}),Object(Bt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["N\xfamero Interno: ",e.equ]}),Object(Bt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Serie motor: ",e.enginesnr]})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:12,lg:2,children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Bt.jsx)("button",{style:{width:100,height:30,borderRadius:20,marginLeft:6},onClick:function(){return r(t=e),void M.push("machine-detail/".concat(t.equid));var t},children:Object(Bt.jsx)("strong",{children:"Ver m\xe1s"})})})})]},t)})),0===h.length&&w&&Object(Bt.jsx)(Nt.a,{container:!0,style:{minHeight:148,marginBottom:20,padding:20,borderStyle:"solid",borderWidth:2,borderColor:"#CCC",borderRadius:20},children:Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(Bt.jsx)("p",{children:"Obra no gestiona m\xe1quina seleccionada."})})})]}),Object(Bt.jsx)("div",{children:Object(Bt.jsx)(ft.a,{open:p,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:I,children:[Object(Bt.jsx)(Hn,{machine:R}),Object(Bt.jsx)(wt.a,{onClick:function(){f(!1)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:Object(Bt.jsx)(St.a,{})})]})})})]})})})})})},Ea=n.p+"static/media/ICV-transparent.a120acf7.png",Ia=function(){var e=function(){return Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard noNavBarMargin",children:[Object(Bt.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(Bt.jsx)("img",{src:Ea,height:100,alt:""}),Object(Bt.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(Bt.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),Object(Bt.jsx)("p",{style:{fontSize:"2em",marginBottom:0},children:"Iniciar sesi\xf3n"}),Object(Bt.jsxs)("p",{style:{fontSize:10,marginTop:0},children:[" ",N.version," "]})]}),Object(Bt.jsx)(Mn,{})]})};Object(a.useEffect)((function(){t()}),[]);var t=function(){var e=Object(G.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent).length>0&&t.forEach((function(e,t){"3Ds"===e.name||"MachinesParts"===e.name||"Executions"===e.name||"Trucks"===e.name||"Pautas"===e.name||window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Bt.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(Bt.jsx)(Vn.a,{smDown:!0,children:Object(Bt.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:e()})}),Object(Bt.jsx)(Vn.a,{smDown:!0,children:Object(Bt.jsx)("div",{className:"loginBacgroundImage"})}),Object(Bt.jsx)(Vn.a,{mdUp:!0,children:Object(Bt.jsx)("div",{children:e()})})]})},Ba=(n(572),Object(a.createContext)()),Ta=function(e){var t=Mi(),n=t.userData,i=t.isAuthenticated,r=Object(a.useState)([]),s=Object(c.a)(r,2),o=s[0],l=s[1],d=Object(a.useState)(),u=Object(c.a)(d,2),j=u[0],b=u[1];Object(a.useEffect)((function(){n&&i&&(console.log(n._id,i),m())}),[n,i]);var h=function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)},m=function(){var e=Object(G.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(n._id);case 2:t=e.sent,console.log(t.data),l(t.data.sort(h)),b(t.data.sort(h)[0]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g={myNotifications:o,lastNotification:j,getNotifications:m};return Object(Bt.jsx)(Ba.Provider,Object(pt.a)({value:g},e))},Na=function(){return Object(a.useContext)(Ba)},za=function(e){e.readyToLoad;var t=Mi(),n=t.admin,i=t.isOperator,r=t.isSapExecutive,o=t.isShiftManager,l=t.isChiefMachinery,d=t.userData,u=_i(),j=u.date,b=u.hour,h=Na().lastNotification,m=Object(a.useState)(!1),g=Object(c.a)(m,2),x=g[0],O=(g[1],Object(a.useState)(!1)),p=Object(c.a)(O,2),f=p[0],v=p[1],y=Object(a.useState)(0),w=Object(c.a)(y,2),S=w[0],C=(w[1],Object(a.useState)("")),A=Object(c.a)(C,2),k=A[0],R=(A[1],Object(a.useState)(!1)),D=Object(c.a)(R,2),M=D[0],E=(D[1],Object(a.useState)(!0)),I=Object(c.a)(E,2),B=I[0],T=I[1],N=Object(a.useState)(!0),z=Object(c.a)(N,2),F=z[0],L=z[1],U=Object(a.useState)(!1),W=Object(c.a)(U,2),Z=(W[0],W[1],Object(a.useState)(!1)),H=Object(c.a)(Z,2),Q=(H[0],H[1],Object(a.useState)(!0)),q=Object(c.a)(Q,2),J=(q[0],q[1]),V=Object(a.useState)([]),X=Object(c.a)(V,2),K=(X[0],X[1],Object(a.useState)("Sin notificaciones pendientes")),_=Object(c.a)(K,2),$=(_[0],_[1]),ee=Object(a.useState)("Sin informaciones pendientes"),te=Object(c.a)(ee,2),ne=te[0],ae=te[1],ie=Object(a.useState)(!0),re=Object(c.a)(ie,2),ce=re[0],se=re[1];Object(a.useEffect)((function(){(n||r||o||l)&&T(!1),n&&L(!1)}),[n,i,r,o,l]);var oe=Object(s.useHistory)();window.addEventListener("online",(function(){J(!0);var e=Number(localStorage.getItem("timeOffline"));Date.now()<e+216e5&&(localStorage.setItem("revisado",!0),localStorage.removeItem("timeOffline"))}));window.addEventListener("offline",(function(){J(!1),localStorage.getItem("timeOffline")||le(Date.now())}));var le=function(e){localStorage.setItem("timeOffline",e),localStorage.setItem("revisado",!1)};Object(a.useEffect)(Object(G.a)(Y.a.mark((function e(){var t,n,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it();case 2:return t=e.sent,e.next=5,rt(t.database);case 5:return n=e.sent,de(n),ce&&(a=Object(Ct.a)(),navigator.onLine&&a.on("notification_".concat(d._id),(function(e){de()})),ue(),(i=new XMLHttpRequest).onload=Object(G.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new FileReader).onload=Object(G.a)(Y.a.mark((function e(){var n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:if(!(n=e.sent)){e.next=7;break}return a={name:"no-image-profile",data:t.result.replace("data:","")},e.next=7,tt(a,n.database);case 7:case"end":return e.stop()}}),e)}))),t.readAsDataURL(i.response);case 3:case"end":return e.stop()}}),e)}))),i.open("GET","../assets/no-profile-image.png"),i.responseType="blob",i.send()),e.abrupt("return",(function(){return se(!1)}));case 9:case"end":return e.stop()}}),e)}))),[ce]);var de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ce(localStorage.getItem("_id")).then((function(t){var n;(n=t.data.reverse()).length>0&&(n[0].state?$("Sin notificaciones pendientes"):$(n[0].message+". \n "+P(n[0].createdAt)),i&&(e.length>0?ae("Existen "+e.length+" Ordenes de trabajo listos a enviar."):ae("Sin OT listas a enviar")))}))},ue=function(){var e=Object(G.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Bt.jsxs)("div",{children:[Object(Bt.jsxs)("div",{className:"container",children:[Object(Bt.jsx)(Nt.a,{container:!0,spacing:5,children:Object(Bt.jsx)("div",{children:Object(Bt.jsxs)("p",{className:"titulo",children:["Hola ",localStorage.getItem("name")," \xbfPor d\xf3nde quieres comenzar hoy?"]})})}),Object(Bt.jsxs)(Nt.a,{container:!0,spacing:5,children:[Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(Bt.jsxs)("div",{className:"notificaciones reloj",children:[Object(Bt.jsxs)("p",{className:"reloj-fecha",children:[" ",j," "]}),Object(Bt.jsxs)("p",{className:"reloj-hora",children:[" ",b," hs "]})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(Bt.jsxs)("button",{className:"notificaciones alertas",onClick:function(){return oe.push("/notifications")},children:[Object(Bt.jsxs)("p",{className:"notificaciones-texto",children:[" ",Object(Bt.jsx)("b",{children:"\xdaltima Notificaci\xf3n:"})," "]}),Object(Bt.jsxs)("p",{className:"notificaciones-texto",children:[" ",h&&h.message," "]})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(Bt.jsxs)("button",{className:"notificaciones alertas",onClick:function(){return oe.push("/assignment")},children:[(i||"inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role"))&&Object(Bt.jsxs)("p",{className:"notificaciones-texto",children:[" ",Object(Bt.jsx)("b",{children:"OT Listas a enviar:"})," "]}),Object(Bt.jsxs)("p",{className:"notificaciones-texto",children:[" ",ne]})]})})]}),Object(Bt.jsx)("br",{}),Object(Bt.jsxs)(Nt.a,{container:!0,spacing:5,children:[Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(Bt.jsx)(Aa,{variant:"assignment",disableButton:M})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(Bt.jsx)(Aa,{variant:"machines",disableButton:M})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(Bt.jsx)(Aa,{variant:"reports",disableButton:B})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(Bt.jsx)(Aa,{variant:"administration",disableButton:F})})]})]}),Object(Bt.jsx)(zt,{open:x,progress:S,loadingData:k,withProgress:!0}),Object(Bt.jsx)(Ht,{open:f,closeModal:function(){v(!1)}})]})},Fa=n.p+"static/media/Iniciar sesio\u0301n-1.0c974736.png",Pa=function(){var e=A(),t=function(){return Object(Bt.jsxs)(Un.a,{elevation:0,className:Object(Bn.a)("pageCard",e.noNavBarMargin),children:[Object(Bt.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(Bt.jsx)("img",{src:Ea,height:100,alt:""}),Object(Bt.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(Bt.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),Object(Bt.jsx)("p",{style:{fontSize:"2em"},children:"Recuperar Contrase\xf1a"})]}),Object(Bt.jsx)(Ln,{})]})};return Object(Bt.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(Bt.jsx)(Vn.a,{smDown:!0,children:Object(Bt.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:t()})}),Object(Bt.jsx)(Vn.a,{smDown:!0,children:Object(Bt.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:Object(Bt.jsx)("img",{src:Fa,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(Bt.jsx)(Vn.a,{mdUp:!0,children:Object(Bt.jsx)("div",{children:t()})})]})},La=function(){var e=Object(s.useParams)().id,t=A(),n=function(){return Object(Bt.jsxs)(Un.a,{elevation:0,className:Object(Bn.a)("pageCard",t.noNavBarMargin),children:[Object(Bt.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(Bt.jsx)("img",{src:Ea,height:100,alt:""}),Object(Bt.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(Bt.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]})]}),Object(Bt.jsx)(Gn,{id:e})]})};return Object(Bt.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(Bt.jsx)(Vn.a,{smDown:!0,children:Object(Bt.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:n()})}),Object(Bt.jsx)(Vn.a,{smDown:!0,children:Object(Bt.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:Object(Bt.jsx)("img",{src:Fa,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(Bt.jsx)(Vn.a,{mdUp:!0,children:Object(Bt.jsx)("div",{children:n()})})]})},Ya=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=(t[0],t[1],Object(a.useState)([])),i=Object(c.a)(n,2),r=(i[0],i[1]);return Object(a.useEffect)((function(){J().then((function(e){e.data&&r(e.data)}))}),[]),Object(Bt.jsx)(vt.a,{children:Object(Bt.jsx)("div",{children:Object(Bt.jsx)("h1",{children:"Hello!!"})})})},Ga=(n(664),Object(w.a)((function(e){return{root:{"& :-webkit-autofill":{"-webkit-transition-delay":"9999s","-webkit-transition":"color 9999s ease-out, background-color 9999s ease-out"}},lightVariant:{"& .Mui-focused":{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}},"& .MuiInputBase-input":{color:"white"}},darkVariant:{"& .Mui-focused .MuiInputAdornment-root":{color:e.palette.primary.main}}}})),Object(w.a)((function(e){return{root:{padding:20,backgroundColor:"rgba(0, 0, 0, 0)",border:"5px solid gray",borderRadius:0,boxShadow:"none"},fichaText:{fontSize:"1.2rem",color:e.palette.primary.main},name:{fontWeight:"bold"}}})),n(680)),Ua=n(672),Wa=[{color:"#27AE60",name:"Completadas",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#DE4343",name:"Asignar",button:"Detalle",buttonColor:"#F9F9F9",number:null}],Za=[{color:"#27AE60",name:"Completadas",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#DE4343",name:"Asignar",button:"Detalle",buttonColor:"#F9F9F9",number:null}],Ha=(n(406),function(){var e=sr().sites,t=Mi(),n=t.admin,i=t.isSapExecutive,r=(t.isShiftManager,t.isChiefMachinery,Zi()),o=r.reports,l=r.setListSelected,d=r.listSelected,u=r.listSelectedCache,j=r.setListSelectedCache,b=r.getReports,h=r.loading,m=r.statusReports,x=r.pautas,O=Object(a.useState)([]),p=Object(c.a)(O,2),f=p[0],v=p[1],y=Object(a.useState)([]),w=Object(c.a)(y,2),S=w[0],C=w[1],A=Object(a.useState)([]),k=Object(c.a)(A,2),R=k[0],D=k[1],M=Object(a.useState)([]),E=Object(c.a)(M,2),I=E[0],B=E[1],T=Object(a.useState)(!1),N=Object(c.a)(T,2),z=N[0],F=N[1],P=Object(a.useState)(0),L=Object(c.a)(P,2),Y=(L[0],L[1],Object(a.useState)(0)),G=Object(c.a)(Y,2),U=G[0],W=(G[1],Object(a.useState)(0)),Z=Object(c.a)(W,2),H=(Z[0],Z[1],Object(a.useState)(0)),Q=Object(c.a)(H,2),q=Q[0],J=(Q[1],Object(a.useState)([])),V=Object(c.a)(J,2),X=(V[0],V[1],Object(a.useState)(!0)),K=Object(c.a)(X,2),_=K[0],$=K[1],ee=Object(a.useState)(10),te=Object(c.a)(ee,2),ne=te[0],ae=te[1],ie=Object(a.useState)(0),re=Object(c.a)(ie,2),ce=re[0],se=re[1],oe=Object(a.useState)([]),le=Object(c.a)(oe,2),de=le[0],ue=le[1],je=Object(a.useState)(0),be=Object(c.a)(je,2),he=be[0],me=be[1],ge=Object(a.useState)("nada"),xe=Object(c.a)(ge,2),Oe=xe[0],pe=xe[1],fe=Object(a.useState)(""),ve=Object(c.a)(fe,2),ye=ve[0],we=ve[1],Se=Object(s.useHistory)(),Ce=Object(a.useState)(Lt.d),Ae=Object(c.a)(Ce,2),ke=(Ae[0],Ae[1],Object(a.useState)(!1)),Re=Object(c.a)(ke,2),De=Re[0],Me=Re[1];Object(a.useEffect)((function(){0===x.length?Me(!1):Me(!0)}),[x]),Object(a.useEffect)((function(){d.length>0?Be():ue([])}),[d]),Object(a.useEffect)((function(){(n||i)&&F(!0)}),[n,i]),Object(a.useEffect)((function(){if(o.length>0){var e=o.filter((function(e){if("Inspecci\xf3n"===e.reportType)return e})),t=o.filter((function(e){if("Mantenci\xf3n"===e.reportType)return e}));D(Wa),B(Za),v(e),C(t)}}),[o]),Object(a.useEffect)((function(){if(f.length>0){var e=f.filter((function(e){if("Asignar"===e.state)return e})),t=f.filter((function(e){if(e.usersAssigned.length>0&&e.level<3&&e.level>0)return e})),n=f.filter((function(e){if(3===e.level)return e})),a=f.filter((function(e){if(4===e.level)return e})),i=Object(Qn.a)(Wa);i[0].number=a.length,i[1].number=n.length,i[2].number=t.length,i[3].number=e.length,i[0].lista=a,i[1].lista=n,i[2].lista=t,i[3].lista=e,D(i)}else{var r=Object(Qn.a)(Wa);r[0].number=0,r[1].number=0,r[2].number=0,r[3].number=0,r[0].lista=[],r[1].lista=[],r[2].lista=[],r[3].lista=[],D(r)}}),[f]),Object(a.useEffect)((function(){if(S.length>0){var e=S.filter((function(e){if("Asignar"===e.state)return e})),t=S.filter((function(e){if(e.usersAssigned.length>0&&"En proceso"===e.state&&e.level<3&&(e.level>0||!e.level))return e})),n=S.filter((function(e){if(3===e.level)return e})),a=S.filter((function(e){if(4===e.level)return e})),i=Object(Qn.a)(Za);i[0].number=a.length,i[1].number=n.length,i[2].number=t.length,i[3].number=e.length,i[0].lista=a,i[1].lista=n,i[2].lista=t,i[3].lista=e,B(i)}else{var r=Object(Qn.a)(Za);r[0].number=0,r[1].number=0,r[2].number=0,r[3].number=0,r[0].lista=[],r[1].lista=[],r[2].lista=[],r[3].lista=[],B(r)}}),[S]),Object(a.useEffect)((function(){(R.length>0||I.length>0)&&localStorage.getItem("buttonSelected")&&document.getElementById(localStorage.getItem("buttonSelected")).click()}),[R,I]);var Ee=function(e,t,n,a){we(a),localStorage.setItem("buttonSelected",t),Object(Qn.a)(R).forEach((function(e,t){document.getElementById("button_".concat(t,"_inspecciones")).style.backgroundColor=e.buttonColor})),Object(Qn.a)(I).forEach((function(e,t){document.getElementById("button_".concat(t,"_mantenciones")).style.backgroundColor=e.buttonColor})),document.getElementById(t).style.backgroundColor="#ccc",e.length>0?(l(e.sort(Ie)),j(e),$(!1)):$(!0)},Ie=function(e,t){return t.idIndex-e.idIndex},Be=function(){for(var e=[],t=0*ne;t<ne+0*ne;t++)if(d[t]&&e.push(d[t]),t===ne+0*ne-1){var n=[].concat(e).sort(Ie);ue(n),me(d.length)}};return Object(a.useEffect)((function(){var e=Object(Qn.a)(u);if("nada"===Oe)l(u),me(u.length);else{var t=[];e.forEach((function(n,a){n.site===Oe&&t.push(n),a===e.length-1&&(l(t),me(t.length))}))}}),[Oe]),Object(Bt.jsxs)("div",{className:"container-width",children:[Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){Se.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Ordenes"}),Object(Bt.jsxs)("button",{hidden:!z,onClick:function(){De?Se.push("/reports/create-report"):alert("Espere a que las pautas est\xe9n descargadas")},title:"Nuevo reporte",style:{position:"absolute",right:10,color:"#fff",backgroundColor:"#be2e26",paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,borderRadius:20,borderColor:"transparent"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.k,style:{marginRight:10}})," Nueva orden"]})]})})}),Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsxs)(Nt.a,{item:!0,xs:12,sm:12,md:4,lg:3,xl:3,children:[Object(Bt.jsxs)("div",{className:"menu-card",children:[Object(Bt.jsx)("h3",{children:"Inspecciones"}),Object(Bt.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(Bt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(Bt.jsx)("p",{style:{fontSize:32,margin:0},children:Wa[3].number})}),Object(Bt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(Bt.jsx)("p",{style:{fontSize:10,margin:0},children:"Inspecciones por asignar"})})]}),Object(Bt.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(Bt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(Bt.jsxs)("p",{style:{fontSize:32,margin:0},children:[U," "]})}),Object(Bt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(Bt.jsx)("p",{style:{fontSize:10,margin:0},children:"Inspecciones completadas en la semana"})})]}),Object(Bt.jsx)("div",{style:{paddingLeft:10,paddingRight:10,marginTop:"10vh"},children:R.map((function(e,t){return Object(Bt.jsxs)(Nt.a,{container:!0,style:{height:"5vh"},children:[Object(Bt.jsx)(Nt.a,{item:!0,style:{width:"15%"},children:Object(Bt.jsx)(Pt.a,{icon:Lt.i,size:"2x",style:{marginRight:10},color:e.color})}),Object(Bt.jsx)(Nt.a,{item:!0,style:{width:"30%"},children:Object(Bt.jsx)("p",{style:{margin:0,fontSize:12},children:e.name})}),Object(Bt.jsx)(Nt.a,{item:!0,style:{width:"15%"},children:Object(Bt.jsx)(Ga.a,{label:e.number,style:{marginLeft:10,marginRight:10}})}),Object(Bt.jsx)(Nt.a,{item:!0,style:{width:"40%",textAlign:"right"},children:Object(Bt.jsx)("button",{id:"button_".concat(t,"_inspecciones"),onClick:function(){return Ee(e.lista,"button_".concat(t,"_inspecciones"),0,e.name)},style:{position:"relative",right:5,width:80,height:30,borderRadius:20,backgroundColor:e.buttonColor},children:e.button})})]},t)}))})]}),Object(Bt.jsxs)("div",{className:"menu-card",children:[Object(Bt.jsx)("h3",{children:"Mantenciones"}),Object(Bt.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(Bt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(Bt.jsx)("p",{style:{fontSize:32,margin:0},children:Za[3].number})}),Object(Bt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(Bt.jsx)("p",{style:{fontSize:10,margin:0},children:"Mantenciones por asignar"})})]}),Object(Bt.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(Bt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(Bt.jsxs)("p",{style:{fontSize:32,margin:0},children:[q," "]})}),Object(Bt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(Bt.jsx)("p",{style:{fontSize:10,margin:0},children:"Mantenciones completadas en la semana"})})]}),Object(Bt.jsx)("div",{style:{paddingLeft:10,paddingRight:10,marginTop:"10vh"},children:I.map((function(e,t){return Object(Bt.jsxs)(Nt.a,{container:!0,style:{height:"5vh"},children:[Object(Bt.jsx)(Nt.a,{item:!0,style:{width:"15%"},children:Object(Bt.jsx)(Pt.a,{icon:Lt.i,size:"2x",style:{marginRight:10},color:e.color})}),Object(Bt.jsx)(Nt.a,{item:!0,style:{width:"30%"},children:Object(Bt.jsx)("p",{style:{margin:0,fontSize:12},children:e.name})}),Object(Bt.jsx)(Nt.a,{item:!0,style:{width:"15%"},children:Object(Bt.jsx)(Ga.a,{label:e.number,style:{marginLeft:10,marginRight:10}})}),Object(Bt.jsx)(Nt.a,{item:!0,style:{width:"40%",textAlign:"right"},children:Object(Bt.jsx)("button",{id:"button_".concat(t,"_mantenciones"),onClick:function(){return Ee(e.lista,"button_".concat(t,"_mantenciones"),0,e.name)},style:{position:"relative",right:5,width:80,height:30,borderRadius:20,backgroundColor:e.buttonColor},children:e.button})})]},t)}))})]})]}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:8,lg:9,xl:9,children:_?Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)("img",{style:{margin:0,position:"absolute",top:"50%",left:"calc(100%/1.53)",msTransform:"translateY(-50%)",transform:"translateY(-50%)"},src:"../../assets/icons/Arrow.svg",alt:""}),Object(Bt.jsx)("div",{style:{textAlign:"center",position:"absolute",top:"55%",left:"calc(100%/1.6)"},children:Object(Bt.jsxs)("p",{children:["Selecciona una opci\xf3n ",Object(Bt.jsx)("br",{})," para ver el detalle"]})})]}):Object(Bt.jsxs)("div",{style:{height:"calc(100vh - 240px)",display:"block",overflowY:"auto"},children:[Object(Bt.jsx)("div",{style:{width:"100%",paddingLeft:10,paddingRight:10},children:Object(Bt.jsxs)(Nt.a,{container:!0,style:{width:"100%",borderBottomColor:"#ccc",borderBottomStyle:"solid",borderBottomWidth:1,paddingBottom:10},children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",children:Object(Bt.jsx)("p",{style:{width:80},children:"Filtros: "})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:3,children:Object(Bt.jsx)("input",{style:{marginRight:10,marginTop:14,marginBottom:14,width:300},placeholder:"Ingrese N\xb0 OT, M\xe1quina, Flota o C\xf3d. SAP",onChange:function(e){!function(e){console.log(e);var t=Object(Qn.a)(u);if(e.length>0){var a=[];t.forEach((function(i,r){0===r&&console.log(i),(i.idIndex.toString().match(Number(e).toString())||i.machineData.model.match(e)||i.machineData.equ.match(e)||i.sapId.match(e))&&("nada"===Oe||n&&i.idobra===Oe)&&a.push(i),r===t.length-1&&(l(a.sort(Ie)),me(a.length))}))}else l(u.sort(Ie)),me(d.length)}(e.target.value)}})}),n&&Object(Bt.jsxs)(Bt.Fragment,{children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",children:Object(Bt.jsx)("p",{style:{width:80},children:"Obra: "})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:2,children:Object(Bt.jsxs)("select",{style:{marginRight:10,marginTop:14,marginBottom:14,width:300},name:"select",onChange:function(e){var t;t=e.target.value,pe(t)},children:[Object(Bt.jsx)("option",{value:"nada",children:"SELECCIONE OBRA..."}),e.map((function(e,t){return Object(Bt.jsx)("option",{value:e.idobra,children:e.descripcion},t)}))]})})]}),Object(Bt.jsx)(Nt.a,{item:!0,sm:"auto",children:Object(Bt.jsx)("button",{disabled:h,style:{position:"absolute",right:10,color:"#fff",backgroundColor:h?"#ccc":"#be2e26",paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,borderRadius:20,borderColor:"transparent",marginRight:10},onClick:b,children:"Actualizar Listado"})})]})}),_?Object(Bt.jsx)(Bt.Fragment,{}):Object(Bt.jsx)(vi,{list:de,typeReportsSelected:ye,statusReports:m,getReports:b}),de.length>0?Object(Bt.jsx)(Ua.a,{component:"div",color:"primary",style:{position:"absolute",right:20,bottom:10,borderColor:"#ccc",borderWidth:1,borderStyle:"solid"},onPageChange:function(e,t){se(t);for(var n=[],a=t*ne;a<ne+t*ne;a++)if(d[a]&&n.push(d[a]),a===ne+t*ne-1){var i=[].concat(n).sort(Ie);ue(i)}},rowsPerPage:ne,onRowsPerPageChange:function(e){ae(parseInt(e.target.value,10)),se(0);for(var t=[],n=ce*parseInt(e.target.value,10);n<parseInt(e.target.value,10)+ce*parseInt(e.target.value,10);n++)d[n]&&t.push(d[n]),n===parseInt(e.target.value,10)+ce*parseInt(e.target.value,10)-1&&ue(t)},count:he,page:ce}):Object(Bt.jsx)(Bt.Fragment,{})]})})]})]})}),Qa=n(649),qa=function(){var e=Mi(),t=e.userData,n=e.admin,i=Zi().pautas,r=Object(a.useState)([]),o=Object(c.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)([]),j=Object(c.a)(u,2),b=j[0],h=j[1],m=Object(a.useState)([]),x=Object(c.a)(m,2),O=x[0],p=x[1],f=Object(a.useState)(""),y=Object(c.a)(f,2),w=y[0],S=y[1],C=Object(a.useState)(),k=Object(c.a)(C,2),R=k[0],D=k[1],M=Object(a.useState)(),E=Object(c.a)(M,2),I=E[0],B=E[1],T=Object(a.useState)(),N=Object(c.a)(T,2),z=N[0],F=N[1],P=Object(a.useState)(),L=Object(c.a)(P,2),U=L[0],W=L[1],Z=Object(a.useState)(),H=Object(c.a)(Z,2),Q=H[0],q=H[1],J=Object(a.useState)(!0),V=Object(c.a)(J,2),X=V[0],K=V[1],_=Object(a.useState)(!1),$=Object(c.a)(_,2),ee=$[0],te=($[1],Object(a.useState)(!0)),ne=Object(c.a)(te,2),ae=ne[0],ie=ne[1],re=Object(a.useState)(0),oe=Object(c.a)(re,2),de=oe[0],ue=oe[1],je=Object(a.useState)(""),be=Object(c.a)(je,2),me=be[0],ge=be[1],xe=Object(a.useState)(""),Oe=Object(c.a)(xe,2),pe=Oe[0],fe=Oe[1],ve=Object(a.useState)(""),ye=Object(c.a)(ve,2),we=ye[0],Se=ye[1],Ce=Object(a.useState)(""),Ae=Object(c.a)(Ce,2),ke=Ae[0],Re=Ae[1],De=Object(a.useState)(""),Me=Object(c.a)(De,2),Ee=Me[0],Ie=Me[1],Be=Object(a.useState)(""),Te=Object(c.a)(Be,2),Ne=Te[0],Fe=Te[1],Pe=Object(a.useState)(!0),Le=Object(c.a)(Pe,2),Ge=(Le[0],Le[1],Object(a.useState)("")),Ue=Object(c.a)(Ge,2),We=Ue[0],He=Ue[1],Qe=Object(a.useState)(!1),qe=Object(c.a)(Qe,2),Je=qe[0],Ve=qe[1],Xe=Object(a.useState)(""),Ke=Object(c.a)(Xe,2),_e=Ke[0],$e=Ke[1],et=Object(a.useState)([]),tt=Object(c.a)(et,2),nt=tt[0],at=tt[1],it=A(),rt=Object(s.useHistory)(),ct=Object(s.useParams)().id;Object(a.useEffect)((function(){t&&console.log(t)}),[t]);var st=function(e,t){return e.idpm>t.idpm?1:e.idpm<t.idpm?-1:e.typepm>t.typepm?1:e.typepm<t.typepm?-1:void 0};Object(a.useEffect)((function(){if(w&&lt(w),w&&z){var e=[];i.forEach((function(t,n){"error"!=t.header&&t.header.forEach((function(n){n.typeDataDesc===w&&e.push(t)}))}));var t=[],n=[];e.sort(st).forEach((function(e){console.log(e.typepm,z),"Inspecci\xf3n"===z?t.push(e):"Mantenci\xf3n"===z&&n.push(e)})),h("Inspecci\xf3n"===z?t:n)}}),[z,I,U,w]);var ot=function(){var e=Object(G.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log(U),U&&(lt(U),console.log(_e))}),[U]);var lt=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(t),console.log(t),e.next=4,Ze.initDbMachines();case 4:if(!(n=e.sent)){e.next=14;break}return e.next=8,Ze.consultar(n.database);case 8:return a=e.sent,console.log(a),e.next=12,a.filter((function(e){if(e.model===t&&e.idobra===_e)return e}));case 12:i=e.sent,p(i);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(G.a)(Y.a.mark((function e(){var n,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={createdBy:t._id,updatedBy:t._id,state:"Asignar",datePrev:Date.parse(me),endPrev:Date.parse(pe),machine:U,guide:R,reportType:z},Object(v.a)(n,"machine",JSON.parse(Q).equid),Object(v.a)(n,"site",_e),Object(v.a)(n,"sapId",Ne),Object(v.a)(n,"idPm",We),Object(v.a)(n,"testMode",Je),(a=n).machine&&a.sapId&&a.guide&&"Selecci\xf3n no cuenta con pautas."!==a.guide&&a.reportType&&"Seleccione..."!==a.reportType){e.next=5;break}alert("Falta informaci\xf3n"),e.next=9;break;case 5:return e.next=7,ce(a);case 7:(i=e.sent)&&(Mt("nuevo-reporte","".concat(t._id),t._id,"","","",""),alert("Reporte ".concat(i.data.idIndex,", para m\xe1quina modelo ").concat(i.data.machine," creado satisfactoriamente.")),rt.goBack());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={idIndex:de,updatedBy:localStorage.getItem("_id"),state:"Asignar",datePrev:Date.parse(me),machine:U,guide:R,reportType:z},Object(v.a)(t,"machine",JSON.parse(Q).equid),Object(v.a)(t,"site",_e),(n=t).machine&&n.guide&&"Selecci\xf3n no cuenta con pautas."!==n.guide&&n.reportType&&"Seleccione..."!==n.reportType){e.next=5;break}alert("Falta informaci\xf3n"),e.next=9;break;case 5:return e.next=7,se(n);case 7:(a=e.sent)&&(alert("Reporte ".concat(a.data.idIndex,", para m\xe1quina modelo ").concat(a.data.machine," editado satisfactoriamente.")),rt.goBack());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(){var e=Object(G.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:t=e.sent,ue(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){jt(),console.log(i),n?Ye.initDbObras().then(function(){var e=Object(G.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.consultar(t.database);case 2:n=e.sent,at(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):(console.log(t),$e(t.obras[0].idobra)),ze.initDbMachines().then(function(){var e=Object(G.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.consultar(t.database);case 2:n=e.sent,d(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),bt()}),[]);var bt=function(){var e=new Date(Date.now()),t=e.getMonth()+1,n=e.getDate(),a=e.getFullYear();t<10&&(t="0"+t.toString()),n<10&&(n="0"+n.toString()),Ie(a+"-"+t+"-"+n)};return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"root",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:it.pageContainer,item:!0,xs:12,children:Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard",children:[Object(Bt.jsxs)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Bt.jsx)("div",{className:"navigation-bar",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){rt.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:[ct&&"Ordenes / Editar orden de trabajo",!ct&&"Ordenes / Crear nueva orden de trabajo"]})]})})}),Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsxs)(Nt.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[n&&Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)(Qa.a,{children:[Object(Bt.jsx)("p",{style:{margin:5},children:"Seleccionar Obra"}),Object(Bt.jsxs)("select",{onBlur:function(){return ot(!0)},className:it.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){$e(e.target.value)},value:_e,children:[Object(Bt.jsx)("option",{children:"Seleccione..."}),nt.map((function(e,t){return Object(Bt.jsx)("option",{value:e.idobra,children:e.descripcion},t)}))]})]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)(Qa.a,{children:[Object(Bt.jsx)("p",{style:{margin:5},children:"N\xb0 OT"}),Object(Bt.jsx)("input",{disabled:!0,value:de,maxLength:12,onBlur:function(){return ot()},className:it.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)(Qa.a,{children:[Object(Bt.jsx)("p",{style:{margin:5},children:"ID SAP"}),Object(Bt.jsx)("input",{value:Ne,onChange:function(e){Fe(e.target.value)},maxLength:12,onBlur:function(){return ot()},className:it.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)(Qa.a,{children:[Object(Bt.jsx)("p",{style:{margin:5},children:"Fecha Inicio Programado"}),Object(Bt.jsx)("input",{value:me,onChange:function(e){ge(e.target.value)},maxLength:12,onBlur:function(){return ot()},className:it.inputsStyle,type:"date",min:Ee,style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)(Qa.a,{children:[Object(Bt.jsx)("p",{style:{margin:5},children:"Fecha T\xe9rmino Programado"}),Object(Bt.jsx)("input",{value:pe,onChange:function(e){fe(e.target.value)},maxLength:12,onBlur:function(){return ot()},className:it.inputsStyle,type:"date",min:me,disabled:!me,style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Bt.jsxs)("div",{style:{width:"100%"},children:[Object(Bt.jsx)("p",{style:{margin:5},children:"Seleccionar tipo de reporte"}),Object(Bt.jsx)(Qa.a,{children:Object(Bt.jsxs)("select",{className:it.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){var t;F(e.target.value),t=e.target.value,B(t)},value:z,children:[Object(Bt.jsx)("option",{children:"Seleccione..."}),Object(Bt.jsx)("option",{children:"Inspecci\xf3n"}),Object(Bt.jsx)("option",{children:"Mantenci\xf3n"})]})})]}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)(Qa.a,{children:[Object(Bt.jsx)("p",{style:{margin:5},children:"Seleccionar modelo de m\xe1quina"}),Object(Bt.jsxs)("select",{className:it.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){W(e.target.value),K(!1),lt(e.target.value)},value:U,children:[Object(Bt.jsx)("option",{children:"Seleccione..."}),l.map((function(e,t){return Object(Bt.jsxs)("option",{value:e.model,children:[e.type," ",e.brand," ",e.model]},t)}))]})]})})]}),Object(Bt.jsxs)(Nt.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)(Qa.a,{children:[Object(Bt.jsxs)("p",{style:{margin:0},children:["Seleccionar Pauta  ",X&&ee&&Object(Bt.jsx)("b",{children:"ESPERE..."})]}),Object(Bt.jsxs)("select",{disabled:X,className:it.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){D(e.target.value.split(",")[1]),ie(!1),He(e.target.value.split(",")[0])},value:[We,R],children:[Object(Bt.jsx)("option",{children:"Seleccione..."}),b.length>0&&b.map((function(e,t){return Object(Bt.jsxs)("option",{value:[e.idpm,e.typepm],children:[" ","SPM000787"===e.idpm?"Motor LMR":"Motor Est\xe1ndar"," - ",e.typepm," / ",e.header[1].typeDataDesc," ","Gen\xe9rico"===e.zone?"":"".concat([e.zone])," "]},t)})),0==b.length&&Object(Bt.jsx)("option",{children:" Selecci\xf3n no cuenta con pautas. "})]})]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)("p",{children:["Test: ",Object(Bt.jsx)(Ut.a,{checked:Je,onChange:function(e){return Ve(e.target.checked)}})]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)(Qa.a,{children:[Object(Bt.jsx)("p",{children:"Seleccionar m\xe1quina de obra"}),Object(Bt.jsxs)("select",{onBlur:function(){return ot()},className:it.inputsStyle,disabled:ae,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){"init"===e.target.value?(Se(""),Re(""),q("")):(q(e.target.value),Re(JSON.parse(e.target.value).equid),Se(JSON.parse(e.target.value).hourMeter/36e5))},value:Q,defaultValue:"init",children:[Object(Bt.jsx)("option",{value:"init",selected:!0,children:"Seleccione..."}),O.sort((function(e,t){return Number(e.equ)-Number(t.equ)})).map((function(e,t){return Object(Bt.jsxs)("option",{value:JSON.stringify(e),children:[" ",e.equ," / ",e.type," ",e.brand," - ",e.model," "]},t)}))]})]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)(Qa.a,{children:[Object(Bt.jsx)("p",{children:"Horas de operaci\xf3n"}),Object(Bt.jsx)("input",{disabled:!0,value:we,maxLength:12,onBlur:function(){return ot()},className:it.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)(Qa.a,{children:[Object(Bt.jsx)("p",{children:"Equipo ID"}),Object(Bt.jsx)("input",{disabled:!0,value:ke,maxLength:12,onBlur:function(){return ot()},className:it.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})]})]})]}),Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,lg:6,md:6,sm:!1,xs:!1}),Object(Bt.jsx)(Nt.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(Bt.jsxs)("div",{style:{width:"100%",paddingTop:30,textAlign:"center"},children:[ct&&Object(Bt.jsx)("button",{onClick:function(){return ut()},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Editar reporte"}),ct&&Object(Bt.jsx)("button",{onClick:function(){ct&&confirm("Se borrar\xe1 el reporte permanentemente. \xbfDesea continuar?")&&le(JSON.parse(ct)._id).then((function(e){alert("Reporte eliminado."),rt.goBack()}))},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Borrar reporte"}),!ct&&Object(Bt.jsx)("button",{onClick:function(){return dt()},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Agregar reporte"})]})})]})]})})})})},Ja=function(){var e=A();return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Bt.jsx)(Un.a,{elevation:0,className:"pageCard",children:[{id:0,description:"Actividad 1 programada",fecha:"12/10/2021"},{id:1,description:"Actividad 1 ejecutada",fecha:"13/10/2021"},{id:2,description:"Actividad 2 programada",fecha:"13/10/2021"},{id:3,description:"Actividad 3 programada",fecha:"14/10/2021"},{id:4,description:"Actividad 2 ejecutada",fecha:"15/10/2021"},{id:5,description:"Actividad 4 programada",fecha:"16/10/2021"},{id:6,description:"Actividad 3 ejecutada",fecha:"16/10/2021"},{id:7,description:"Actividad 4 ejecutada",fecha:"19/10/2021"},{id:8,description:"Actividad 5 programada",fecha:"20/10/2021"},{id:9,description:"Actividad 6 programada",fecha:"20/10/2021"}].reverse().filter((function(e){return e.toString()})).map((function(e){return Object(Bt.jsx)(Nt.a,{item:!0,style:{width:"100%",padding:5},children:Object(Bt.jsx)("div",{style:{borderRadius:20,backgroundColor:"#fff",padding:10},children:Object(Bt.jsxs)("h3",{children:[e.fecha," - ",e.description]})})},e.id)}))})})})})},Va=function(){var e=A();return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Bt.jsx)(Un.a,{elevation:0,className:"pageCard"})})})})},Xa=function(){var e=A();return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard",children:[Object(Bt.jsx)(Nt.a,{style:{flexShrink:0},children:Object(Bt.jsx)("div",{style:{width:"100%",color:"#fff"},children:Object(Bt.jsx)("h1",{children:"Configuraci\xf3n"})})}),Object(Bt.jsxs)(Nt.a,{container:!0,spacing:1,children:[Object(Bt.jsx)("div",{style:{width:"30%"},children:Object(Bt.jsxs)("div",{style:{textAlign:"left",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:[Object(Bt.jsx)(Gt.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(Bt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Perfil"})}),Object(Bt.jsx)(Gt.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(Bt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Notificaciones"})}),Object(Bt.jsx)(Gt.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(Bt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Informaci\xf3n"})}),Object(Bt.jsx)(Gt.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(Bt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Soporte"})})]})}),Object(Bt.jsx)("div",{style:{width:"70%",height:"35rem",overflowY:"auto"},children:Object(Bt.jsx)("div",{style:{textAlign:"left",height:"100%",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:Object(Bt.jsx)("div",{style:{height:"50%"}})})})]})]})})})})},Ka=function(){var e=Mi().setSite,t=A(),n=Object(a.useState)([]),i=Object(c.a)(n,2),r=i[0],s=i[1];Object(a.useEffect)((function(){o()}),[]);var o=function(){var e=Object(G.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ye.initDbObras().then(function(){var e=Object(G.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.consultar(t.database);case 2:n=e.sent,console.log(n),s(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:t.pageContainer,item:!0,xs:12,children:Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard",children:[Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsx)("h1",{children:"Para navegar en la plataforma debe seleccionar una obra."})}),Object(Bt.jsx)(Nt.a,{container:!0,style:{height:"75vh",overflowY:"auto"},alignItems:"center",justifyContent:"center",children:r.filter((function(e){return e.toString()})).map((function(t){return Object(Bt.jsx)(Nt.a,{item:!0,xl:3,lg:3,md:4,style:{width:"100%",padding:20},children:Object(Bt.jsxs)("div",{style:{padding:10,borderRadius:20,borderWidth:1,borderColor:"red",borderStyle:"solid",textAlign:"center"},children:[Object(Bt.jsx)("img",{src:t.image?t.image:"/logo_icv.png",width:100}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("p",{children:t.descripcion}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)(Qt.a,{onClick:function(){!function(t){window.confirm("Confirme que cambiar\xe1 la obra de navegaci\xf3n")&&(console.log(t),e(t))}(t)},variant:"contained",color:"primary",children:"Seleccionar"}),Object(Bt.jsx)("br",{})]})},t.id)}))})]})})})})},_a=function(){var e=A(),t=Object(s.useHistory)(),n="superAdmin"!==localStorage.getItem("role");return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard",children:[Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n"})]})})})}),Object(Bt.jsxs)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:6,lg:3,style:{padding:10},children:Object(Bt.jsx)(Aa,{variant:"users"})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:6,lg:3,style:{padding:10},children:Object(Bt.jsx)(Aa,{variant:"roles",disableButton:n})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:6,lg:3,style:{padding:10},children:Object(Bt.jsx)(Aa,{variant:"patterns"})})]})]})})})})},$a=(n(407),function(e){e.route;var t=Object(a.useState)(!1),n=Object(c.a)(t,2),i=n[0],r=n[1],o=A(),l=Object(s.useHistory)();return Object(a.useEffect)((function(){navigator.onLine?r(!0):r(!1)}),[]),Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"root",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:o.pageContainer,item:!0,xs:12,children:Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard",children:[Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){l.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / Administrar usuarios"})]})})})}),Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:20,overflowY:"auto",height:"calc(100vh - 195px)"},children:Object(Bt.jsx)(xi,{height:"calc(100vh - 500px)",hableButton:i})})})]})})})})}),ei={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},ti=function(){var e=ir().getUsers,t=A(),n=Object(s.useHistory)(),i=Object(a.useState)(!1),r=Object(c.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(!1),u=Object(c.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(""),m=Object(c.a)(h,2),x=(m[0],m[1]),O=Object(a.useState)(""),p=Object(c.a)(O,2),f=p[0],v=p[1],y=Object(a.useState)(),w=Object(c.a)(y,2),S=w[0],C=w[1],k=Object(a.useContext)(Ji),R=k.userData,D=k.setUserData,M=k.setChangeModule,E=(k.set,Object(s.useParams)().id),I=function(){var e;o?(e=!1,n.goBack(),T()):e=!0,setTimeout((function(){l(e)}),500)};Object(a.useEffect)((function(){E?(v("Editar usuario"),ne(E).then((function(e){console.log(e),"x@x.xx"===e.data.email&&(e.data.email=""),D(e.data),C(0)}))):(C(0),v("Nuevo usuario"))}),[]);var B=function(){var t=Object(G.a)(Y.a.mark((function t(){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b(!0),"Nuevo usuario"!==f){t.next=17;break}return t.prev=2,x("Inscribiendo nuevo usuario"),t.next=6,$(R,R.password);case 6:200==t.sent.status?(b(!1),I(),e()):(alert("Error al crear usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),b(!1),n.goBack()),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),alert("Error al crear usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),b(!1),n.goBack();case 15:t.next=31;break;case 17:if("Editar usuario"!==f){t.next=31;break}return t.prev=18,x("Editando usuario"),t.next=22,ee(R);case 22:200==t.sent.status?(b(!1),I(),e()):(alert("Error al editar usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),b(!1),n.goBack()),t.next=31;break;case 26:t.prev=26,t.t1=t.catch(18),alert("Error al crear usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),b(!1),n.goBack();case 31:case"end":return t.stop()}}),t,null,[[2,10],[18,26]])})));return function(){return t.apply(this,arguments)}}(),T=function(){localStorage.removeItem("userDataToSave"),localStorage.removeItem("listaPermisosReportes"),localStorage.removeItem("listaPermisosUsuarios")},N=function(){var e=Object(G.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R.rut?Object(Rn.validate)(R.rut)?R.name?R.lastName?R.obras.length>0?R.roles.length>0?E?C(S+1):R.password.length>5&&R.confirmPassword.length>5?R.confirmPassword===R.password?C(S+1):alert("Password y su confirmaci\xf3n deben ser iguales"):alert("Password debe contar con al menos 6 car\xe1cteres"):alert("Seleccione al menos un rol"):alert("Debe seleccionar una obra"):alert("Ingrese un apellido"):alert("Ingrese un nombre"):alert("Rut inv\xe1lido"):alert("Falta Rut");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:t.pageContainer,item:!0,xs:12,children:Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard",children:[Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){n.goBack(),T()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:["Administraci\xf3n / Administrar usuarios / ",f]})]})})})}),Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsxs)("div",{style:{width:"100%",textAlign:"left",padding:10,overflowY:"auto"},children:[0===S&&Object(Bt.jsx)(Oi,{typeDisplay:f,uData:R}),1===S&&Object(Bt.jsx)(pi,{width:"calc(100vw - 350px)",height:"calc(100vh - 320px)",typeDisplay:f,id:E}),Object(Bt.jsx)("div",{style:{position:"absolute",right:40,bottom:40},children:Object(Bt.jsx)("div",{style:{width:"100%"},children:Object(Bt.jsxs)("div",{style:{float:"right"},children:[1==S&&Object(Bt.jsx)("button",{onClick:function(){C(S-1),M(!1)},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Modificar Datos"}),Object(Bt.jsx)("button",{onClick:function(){n.goBack(),T()},style:{width:189,height:48,borderRadius:23,marginRight:17,fontSize:20,color:"#BB2D2D",borderColor:"#BB2D2D",borderWidth:2},children:"Cancelar"}),0==S&&Object(Bt.jsx)("button",{onClick:function(){return N()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Siguiente"}),S>0&&!E&&Object(Bt.jsx)("button",{onClick:function(){B()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Crear usuario"}),S>0&&E&&Object(Bt.jsx)("button",{onClick:function(){b(!0),setTimeout(Object(G.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("userDataToSave")),e.next=3,ee(t,E);case 3:e.sent&&(I(),b(!1));case 5:case"end":return e.stop()}}),e)}))),1e3)},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Editar usuario"})]})})})]})}),Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)(ft.a,{open:o,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:ei,children:[Object(Bt.jsxs)("div",{style:{textAlign:"center"},children:[Object(Bt.jsx)("img",{src:"../../assets/icons/check-green.svg",alt:""}),"Nuevo usuario"===f&&Object(Bt.jsx)("h1",{children:"Usuario creado con \xe9xito"}),"Editar usuario"===f&&Object(Bt.jsx)("h1",{children:"Usuario editado con \xe9xito"})]}),Object(Bt.jsx)(wt.a,{onClick:I,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})]})}),Object(Bt.jsx)(Ft,{open:j})]})]})})})})},ni=function(e){e.route;var t=Object(a.useContext)(Ri),n=t.userData,i=t.admin,r=Object(a.useState)([]),o=Object(c.a)(r,2),l=o[0],d=o[1],u=A(),j=Object(s.useHistory)();return Object(a.useEffect)((function(){var e=localStorage.getItem("_id");navigator.onLine?te(i).then(function(){var t=Object(G.a)(Y.a.mark((function t(n){var a,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=new Array,(a=n.data)&&(i=a.filter((function(t){if(t._id!=e&&"admin"!=t.role)return t})),d(i));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):setTimeout((function(){alert("Dispositivo sin conexi\xf3n. Revise si cuenta con internet e intente nuevamente."),j.goBack()}),100)}),[]),Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:u.pageContainer,item:!0,xs:12,children:Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard",children:[Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){j.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Perfil"})]})})})}),Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:n&&Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(Bt.jsx)("div",{style:{padding:20,textAlign:"right"},children:Object(Bt.jsx)("img",{src:n.imageUrl,style:{maxHeight:300,maxWidth:300,objectFit:"cover"},width:"100%",alt:""})})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:n&&Object(Bt.jsxs)("div",{style:{padding:20},children:[Object(Bt.jsxs)("h1",{children:[n.name," ",n.lastName]}),Object(Bt.jsx)("h3",{children:B(n.role)}),Object(Bt.jsx)("h3",{children:n.rut}),Object(Bt.jsx)("h3",{children:n.email}),Object(Bt.jsxs)("h3",{children:["+56",n.phone]}),Object(Bt.jsxs)("h3",{children:[n.sites?JSON.parse(n.sites).idobra:""," - ",n.sites?JSON.parse(n.sites).descripcion:""]}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Bt.jsxs)("div",{style:{width:200,height:200},children:[Object(Bt.jsx)("h3",{children:"Firma"}),Object(Bt.jsx)("img",{src:n.sign,width:200,height:200})]})})]})}),Object(Bt.jsxs)(Nt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:[Object(Bt.jsx)("div",{style:{padding:20},children:Object(Bt.jsx)("h1",{children:"Otros usuarios"})}),Object(Bt.jsx)("div",{style:{padding:20,maxHeight:"calc(100vh - 320px)",overflowY:"auto"},children:l.map((function(e,t){return e.imageUrl||(e.imageUrl="../assets/no-profile-image.png"),Object(Bt.jsxs)("div",{style:{width:"100%"},children:[Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xs:4,sm:3,lg:2,xl:2,children:Object(Bt.jsx)("img",{src:e.imageUrl,width:50,height:50,style:{objectFit:"cover",borderRadius:"50%"},alt:""})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:6,sm:4,lg:4,xl:4,children:Object(Bt.jsxs)("p",{children:[e.name," ",e.lastName]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:5,lg:4,xl:4,children:Object(Bt.jsx)("p",{children:B(e.role)})})]}),Object(Bt.jsx)("br",{})]},t)}))})]})]})})})]})})})})},ai=function(e){e.route;var t=Object(a.useState)(!1),n=Object(c.a)(t,2),i=(n[0],n[1]),r=A(),o=Object(s.useHistory)();return Object(a.useEffect)((function(){navigator.onLine?i(!0):i(!1)}),[]),Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"root",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:r.pageContainer,item:!0,xs:12,children:Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard",children:[Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){o.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / Administrar usuarios"})]})})})}),Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:20,overflowY:"auto",height:"calc(100vh - 200px)"}})})]})})})})},ii=function(e){var t=e.patterns;return Object(Bt.jsxs)("div",{style:{padding:10,width:"80%",height:"calc(100vh - 250px)",textAlign:"left",color:"#333",backgroundColor:"#F9F9F9",borderRadius:20},children:[Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:Object(Bt.jsx)("strong",{children:"ID"})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:2,lg:2,children:Object(Bt.jsx)("strong",{children:"Tipo"})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:Object(Bt.jsx)("strong",{children:"Marca"})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:Object(Bt.jsx)("strong",{children:"Modelo"})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:Object(Bt.jsx)("strong",{children:"PIDPM"})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:Object(Bt.jsx)("strong",{children:"Zona"})})]}),0===t.length?Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",paddingTop:50},children:"No hay pautas creadas"}):Object(Bt.jsx)("div",{style:{width:"100%",paddingTop:50,height:"calc(100vh - 400px)",overflowY:"auto"},children:t.map((function(e,t){return Object(Bt.jsxs)(Nt.a,{container:!0,style:{paddingTop:0===t?0:10,paddingBottom:10},children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:e.idPattern}),Object(Bt.jsx)(Nt.a,{item:!0,xl:2,lg:2,children:e.type}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:e.brand}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:e.model}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:e.pIDPM}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:e.zone})]},t)}))})]})},ri=function(e){e.roles;var t=A(),n=Object(s.useHistory)(),i=Object(a.useState)(!1),r=Object(c.a)(i,2),o=(r[0],r[1],Object(a.useState)(!1)),l=Object(c.a)(o,2),d=l[0],u=(l[1],Object(a.useState)("")),j=Object(c.a)(u,2),b=(j[0],j[1],Object(a.useState)("")),h=Object(c.a)(b,2),m=(h[0],h[1],Object(a.useState)([])),x=Object(c.a)(m,2),O=x[0],p=x[1],f=Object(a.useState)(!1),v=Object(c.a)(f,2),y=v[0],w=v[1];Object(a.useEffect)((function(){S()}),[]);var S=function(){var e=Object(G.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke();case 2:t=e.sent,p(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:t.pageContainer,item:!0,xs:12,children:Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard",children:[Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){n.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / Pautas"}),Object(Bt.jsxs)("button",{onClick:function(){w(!0)},title:"Nueva pauta",style:{position:"absolute",right:10,color:"#fff",backgroundColor:"#be2e26",paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,borderRadius:20,borderColor:"transparent"},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.k,style:{marginRight:10}})," Nueva pauta"]})]})})})}),Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10,overflowY:"auto",height:"calc(100vh - 195px)"},children:Object(Bt.jsx)(ii,{patterns:O})})}),Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)(Ft,{open:d}),Object(Bt.jsx)(Ai,{open:y,savedInfo:S,closeModal:function(){w(!1)}})]})]})})})})},ci=(n(678),n(671),n(665),function(){var e=A(),t=Object(a.useState)(),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(s.useHistory)(),l=Object(s.useParams)().id;return Object(a.useEffect)((function(){Pe.initDbPMs().then(function(){var e=Object(G.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.obtener(l,t.database);case 2:(n=e.sent)&&r(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(Bt.jsx)(vt.a,{children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Bt.jsx)(Un.a,{elevation:0,className:"pageCard",children:Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsx)("div",{style:{paddingLeft:0},children:Object(Bt.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){o.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:i&&"Listado Pautas / ".concat(i.typepm)})]}),Object(Bt.jsx)("div",{style:{height:"90%",width:"98%"},children:i&&Object(Bt.jsx)(va,{pauta:i})})]})})})})})})})})})}),si=function(){var e=A();Object(s.useHistory)();return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Bt.jsx)(Un.a,{elevation:0,className:"pageCard",children:Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("h1",{children:"Sin permiso de acceso"})})})})})})})},oi=n(71),li=n(662),di=function(){var e=A(),t=Object(s.useHistory)(),n=Object(a.useContext)(Ri),i=n.isOperator,r=n.isSapExecutive,o=n.isShiftManager,l=n.isChiefMachinery,d=n.admin,u=(Object(a.useContext)(Hi).setReport,Zi()),j=u.priorityAssignments,b=u.normalAssignments,h=Object(a.useState)(!0),m=Object(c.a)(h,2),O=m[0],p=(m[1],Object(oi.a)()),f=Object(li.a)(p.breakpoints.down("sm")),v=function(e){console.log(e),t.push("/assignment/".concat(e.idIndex))},y=function(e,t){return t.idIndex-e.idIndex};return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Bt.jsx)(Un.a,{elevation:0,className:"pageCard",children:Object(Bt.jsxs)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Actividades Asignadas"})]})})}),Object(Bt.jsxs)("div",{style:{width:"100%",padding:10},children:[Object(Bt.jsx)(Nt.a,{container:!0,direction:"column",children:Object(Bt.jsx)("div",{style:{width:"100%",borderRadius:10,borderStyle:"solid",borderWidth:1,borderColor:"#CCC",backgroundColor:"#CCC",marginBottom:10},children:Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Bt.jsx)("div",{style:{width:50,textAlign:"center"},children:Object(Bt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"N\xb0 OT"})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Bt.jsx)("div",{style:{width:50,textAlign:"center"},children:Object(Bt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"Gu\xeda"})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Bt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"SAP ID"})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsx)("p",{style:{fontSize:12,fontWeight:"bold",minWidth:200},children:"Inicio programado"})}),Object(Bt.jsx)(Nt.a,{item:!0,l:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsx)("p",{style:{fontSize:12,fontWeight:"bold",minWidth:200},children:"Inicio ejecuci\xf3n"})}),!f&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsx)("p",{style:{fontSize:12,fontWeight:"bold",minWidth:200},children:"T\xe9rmino programado"})}),!f&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsx)("p",{style:{fontSize:12,fontWeight:"bold",minWidth:200},children:"T\xe9rmino ejecuci\xf3n"})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:Object(Bt.jsx)("p",{style:{fontSize:12,fontWeight:"bold",textAlign:"center",minWidth:70},children:"Flota"})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsx)("p",{style:{fontSize:12,fontWeight:"bold",textAlign:"center",minWidth:70},children:"Nro M\xe1quina"})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:2,lg:2,md:2,sm:2,xs:2,style:{width:"100%",textAlign:"right",paddingRight:20},children:Object(Bt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"Acci\xf3n"})})]})})}),O&&Object(Bt.jsxs)(Nt.a,{container:!0,style:{overflowY:"auto",maxHeight:"calc(100vh - 295px)"},children:[(l||o)&&Object(Bt.jsxs)("div",{style:{width:"100%"},children:[Object(Bt.jsx)("h3",{className:"item-style",children:"Mis actividades pendientes"}),j.sort(y).map((function(e,t){return Object(Bt.jsx)("div",{className:"border-color-primary".concat(" item-style"),style:{width:"100%",borderRadius:10,marginBottom:10},children:Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Bt.jsx)("div",{style:{width:50,textAlign:"center"},children:Object(Bt.jsx)("p",{style:{fontSize:11},children:e.idIndex})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Bt.jsx)("div",{style:{textAlign:"center",width:50},children:Object(Bt.jsx)("p",{style:{fontSize:11},children:e._guide})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:Object(Bt.jsx)("div",{style:{textAlign:"center"},children:Object(Bt.jsx)("p",{style:{fontSize:11},children:e.sapId})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left"},children:Object(Bt.jsx)("p",{style:{fontSize:11,minWidth:200},children:z(e.datePrev)})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsx)("p",{style:{fontSize:11,minWidth:200},children:z(e.dateInit)})}),!f&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsxs)("p",{style:{fontSize:11,minWidth:200},children:[" ",z(e.endPrev)," "]})}),!f&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsxs)("p",{style:{fontSize:11,minWidth:200},children:[" ",z(e.endReport)," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:Object(Bt.jsxs)("p",{style:{fontSize:11,textAlign:"center",minWidth:70},children:[" ",e.machineData&&e.machineData.type," ",e.machineData&&e.machineData.model," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsxs)("p",{style:{fontSize:11,textAlign:"center",minWidth:70},children:[" N\xb0: ",e.machineData&&e.machineData.equ," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:2,lg:2,md:2,sm:2,xs:2,style:{width:"100%",textAlign:"right",paddingRight:20},children:Object(Bt.jsx)(Qt.a,{onClick:function(){v(e)},color:"primary",style:{borderRadius:30},children:"Ver"})})]})},t)}))]}),(l||o||r||i||d)&&Object(Bt.jsxs)("div",{style:{width:"100%"},children:[Object(Bt.jsx)("h3",{children:"Otras asignaciones"}),0===b.length&&O&&Object(Bt.jsx)("div",{children:Object(Bt.jsx)("p",{children:"Sin asignaciones"})}),b.sort(y).map((function(e,t){return Object(Bt.jsx)("div",{style:{width:"100%",borderRadius:10,borderStyle:"solid",borderWidth:1,borderColor:e.readyToSend?"#be2e26":"#CCC",marginBottom:10,backgroundColor:e.endReport?"#f2f2f2":"#fff"},children:Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Bt.jsx)("div",{style:{width:50,textAlign:"center"},children:Object(Bt.jsx)("p",{style:{fontSize:11},children:e.idIndex})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Bt.jsx)("div",{style:{width:50,textAlign:"center"},children:Object(Bt.jsx)("p",{style:{fontSize:11},children:e._guide})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:Object(Bt.jsx)("div",{style:{textAlign:"center"},children:Object(Bt.jsx)("p",{style:{fontSize:11},children:e.sapId})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left"},children:Object(Bt.jsx)("p",{style:{fontSize:11,minWidth:200},children:z(e.datePrev)})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsx)("p",{style:{fontSize:11,minWidth:200},children:z(e.dateInit)})}),!f&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsxs)("p",{style:{fontSize:11,minWidth:200},children:[" ",z(e.endPrev)," "]})}),!f&&Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left"},children:Object(Bt.jsx)("p",{style:{fontSize:11,minWidth:200},children:z(e.endReport)})})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:Object(Bt.jsxs)("p",{style:{fontSize:11,textAlign:"center",minWidth:70},children:[" ",e.machineData&&e.machineData.type," ",e.machineData&&e.machineData.model," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:Object(Bt.jsxs)("p",{style:{fontSize:11,textAlign:"center",minWidth:70},children:[" N\xb0: ",e.machineData&&e.machineData.equ," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:2,lg:2,md:2,sm:2,xs:2,style:{width:"100%",textAlign:"right",paddingRight:20},children:Object(Bt.jsx)(Qt.a,{onClick:function(){v(e)},color:"primary",style:{borderRadius:30},children:e.level&&e.level>0?"Ver":i||"inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role")?e.readyToSend?"Listo a enviar":"Ejecutar":"Ver"})})]})},t)}))]})]}),Object(Bt.jsx)(Nt.a,{children:!O&&Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center",height:100},children:Object(Bt.jsx)(x.a,{size:50})})})]})]})})})})})},ui=function(e,t,n,a){var i,r,c;"termino-orden-1"===e?(i="OT ".concat(t," deber\xe1 ser revisada por Jefe de Turno"),r="/assignment",c="Se ha terminado de ejecutar OT ".concat(t)):"termino-orden-2"===e?(i="OT ".concat(t," deber\xe1 ser revisada por Jefe de Maquinaria"),r="/assignment",c="Se ha terminado de ejecutar OT ".concat(t)):"termino-orden-3"===e?(i="OT ".concat(t," deber\xe1 ser revisada por Ejecutivo SAP"),r="/assignment",c="Se ha terminado de ejecutar OT ".concat(t)):"termino-orden-4"===e?(i="OT ".concat(t," Ha sido cerrada por Ejecutivo SAP"),r="/reports",c="Se ha terminado de ejecutar OT ".concat(t)):"rechazo-orden-0"===e?(i="OT ".concat(t," rechazada"),r="/assignment",c="Se ha rechazado ejecuci\xf3n de OT ".concat(t)):("rechazo-orden-1"===e||"rechazo-orden-2"===e)&&(i="OT ".concat(t," rechazada"),r="/assignment",c="Se requiere ajuste de OT ".concat(t)),Et(e,"".concat(a._id),"Ejecuciones OT",c,i,r,n)},ji=function(e){var t=e.open,n=e.data,a=e.closePreviewModal;return console.log(n),Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:D,children:[Object(Bt.jsx)("div",{children:Object(Bt.jsx)("h2",{children:"Resumen de Insumos y Materiales"})}),Object(Bt.jsx)("div",{style:{height:"calc(100vh - 290px)",overflowY:"auto",borderColor:"#ccc",borderWidth:1,borderStyle:"solid",borderRadius:20,padding:10,marginTop:50},children:n.map((function(e,t){return Object(Bt.jsxs)("div",{style:{width:"100%"},children:[Object(Bt.jsx)("h2",{children:e.nombre}),e.data.map((function(e,t){return Object(Bt.jsxs)("div",{style:{fontSize:16,marginLeft:20,borderBottomColor:"#ccc",borderBottomWidth:1,borderBottomStyle:"solid"},children:[Object(Bt.jsx)("p",{children:Object(Bt.jsx)("strong",{children:e.taskdesc})}),Object(Bt.jsxs)("p",{children:["Observaci\xf3n:",Object(Bt.jsx)("br",{}),Object(Bt.jsx)("strong",{children:e.obs01})]}),Object(Bt.jsxs)("p",{children:["Unidad de medida: ",Object(Bt.jsx)("strong",{children:e.unidad})]}),Object(Bt.jsxs)("p",{children:["Cantidad proyectada: ",Object(Bt.jsx)("strong",{children:e.cantidad})]}),Object(Bt.jsxs)("p",{children:["Cantidad usada: ",Object(Bt.jsx)("strong",{children:e.unidadData})]}),Object(Bt.jsxs)("p",{children:["Diferencia: ",Object(Bt.jsx)("strong",{children:e.diferencia})]})]},t)}))]},t)}))}),Object(Bt.jsx)(wt.a,{onClick:a,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})]})})},bi=function(){var e=Mi(),t=e.admin,n=e.isOperator,i=e.isSapExecutive,r=e.isShiftManager,o=e.isChiefMachinery,l=e.userData,d=Gi().isOnline,u=A(),j=Object(s.useHistory)(),b=Object(s.useParams)().id,h=qi(),m=h.report,x=h.executionReport,p=h.setOtIndex,f=h.sapId,v=h.serieEquipo,y=(h.setLoading,h.setLoadingMessage),w=h.reporteIniciado,S=Zi(),C=S.saveReportToData,k=(S.getReports,S.setStatusReports,S.getReportsOffline),R=Object(a.useState)(0),D=Object(c.a)(R,2),M=D[0],E=D[1],B=Object(a.useState)(0),T=Object(c.a)(B,2),N=T[0],z=T[1],F=Object(a.useState)(),P=Object(c.a)(F,2),L=P[0],U=(P[1],Object(a.useState)(!1)),W=Object(c.a)(U,2),Z=W[0],H=W[1],Q=Object(a.useState)(),q=Object(c.a)(Q,2),J=q[0],V=(q[1],Object(a.useState)(!1)),X=Object(c.a)(V,2),K=X[0],_=X[1],$=Object(a.useState)([]),ee=Object(c.a)($,2),te=(ee[0],ee[1]),ne=Object(a.useState)(!1),ae=Object(c.a)(ne,2),ie=ae[0],re=ae[1],ce=Object(a.useState)(!1),oe=Object(c.a)(ce,2),le=(oe[0],oe[1],Object(a.useState)(!1)),de=Object(c.a)(le,2),ue=(de[0],de[1],Object(a.useState)()),je=Object(c.a)(ue,2),be=je[0],he=je[1],me=Object(a.useState)(!1),ge=Object(c.a)(me,2),Oe=ge[0],pe=ge[1],fe=Object(a.useState)(!1),ve=Object(c.a)(fe,2),ye=ve[0],we=(ve[1],Object(a.useState)()),Ce=Object(c.a)(we,2),Ae=Ce[0],ke=(Ce[1],Object(a.useState)(!1)),Re=Object(c.a)(ke,2),De=Re[0],Me=Re[1],Ee=Object(a.useState)(),Ie=Object(c.a)(Ee,2),Be=Ie[0],Te=Ie[1],Ne=Object(a.useState)(!1),ze=Object(c.a)(Ne,2),Fe=ze[0],Pe=ze[1],Le=Object(a.useState)(),Ye=Object(c.a)(Le,2),Ge=(Ye[0],Ye[1]),Ue=Object(a.useState)(!1),We=Object(c.a)(Ue,2),Ze=We[0],Qe=We[1],Je=Object(a.useState)(),_e=Object(c.a)(Je,2),$e=_e[0],et=_e[1],tt=Object(a.useState)(!1),nt=Object(c.a)(tt,2),at=nt[0],it=nt[1];Object(a.useEffect)((function(){m?(console.log(i,m.level),n&&(0===m.level||!m.level)||r&&1===m.level||o&&2===m.level||i&&3===m.level?H(!0):H(!1)):(console.log("No report"),b&&p(b))}),[m,b,n,i,r,o]);var rt=function(){var e=Object(G.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he(at?"sendReport":"rejectReport"),_(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){d?(it(!0),rt()):alert("Dispositivo debe estar conectado a internet.")},lt=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=18;break}if(!window.confirm("Confirme que terminar\xe1 su jornada")){e.next=16;break}return re(!0),t=m,e.next=6,st(L);case 6:return n=e.sent,t.state="Asignar",t.emailing="termino-jornada",t.fullNameWorker="".concat(l.name," ").concat(l.lastName),t.emailsToSend=n,a=new Array,e.next=14,ot();case 14:(a=e.sent).forEach(function(){var e=Object(G.a)(Y.a.mark((function e(n,i){var r,c,s,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mt("termino-jornada","".concat(l._id),n,"Aviso general","T\xe9rmino de jornada","".concat(l.name," ").concat(l.lastName," ha terminado su jornada. Recuerde reasignar OT"),"/reports"),i!=a.length-1){e.next=17;break}return e.next=4,se(t);case 4:if(r=e.sent,console.log(r),!r){e.next=17;break}return e.next=9,He();case 9:return c=e.sent,s=c.database,e.next=13,qe(t.idIndex,s);case 13:o=e.sent,console.log(o),k(),setTimeout((function(){alert("Se ha actualizado su reporte. La orden desaparecer\xe1 de su listado."),j.goBack(),re(!1)}),500);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 16:e.next=20;break;case 18:re(!1),alert("Dispositivo no est\xe1 conectado a internet. Conecte a una red e intente nuevamente");case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!1),!t){e.next=61;break}if(re(!0),y("Guardando informaci\xf3n"),!(n=m).testMode){e.next=33;break}if(a=0,n.level&&0!==n.level?a=n.level+1:(a=1,n.endReport=new Date),n.emailing="termino-orden-".concat(a),2!==a){e.next=14;break}n.shiftManagerApprovedBy=l._id,n.shiftManagerApprovedDate=new Date,e.next=28;break;case 14:if(3!==a){e.next=20;break}n.chiefMachineryApprovedBy=l._id,n.chiefMachineryApprovedDate=new Date,n.state="Por cerrar",e.next=28;break;case 20:if(4!==a){e.next=28;break}return n.sapExecutiveApprovedBy=l._id,n.dateClose=new Date,n.state="Completadas",n.level=a,console.log(n),e.next=28,Se(n);case 28:n.level=a,ui(n.emailing,n.idIndex,n.history[n.history.length-1].userSendingData,l),ut(n),e.next=61;break;case 33:if(100!==N){e.next=59;break}if(i=0,i=n.level&&0!==n.level?n.level+1:1,n.emailing="termino-orden-".concat(i),2!==i){e.next=42;break}n.shiftManagerApprovedBy=l._id,n.shiftManagerApprovedDate=new Date,e.next=54;break;case 42:if(3!==i){e.next=48;break}n.chiefMachineryApprovedBy=l._id,n.chiefMachineryApprovedDate=new Date,n.state="Por cerrar",e.next=54;break;case 48:if(4!==i){e.next=54;break}return n.sapExecutiveApprovedBy=l._id,n.dateClose=new Date,n.state="Completadas",e.next=54,Se(n);case 54:n.level=i,ui(n.emailing,n.idIndex,n.history[n.history.length-1].userSendingData,l),ut(n),e.next=61;break;case 59:re(!1),alert("Reporte est\xe1 incompleto.");case 61:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(t),y("Guardando en bases de datos"),e.next=4,Ve();case 4:return n=e.sent,(a=x).offLineGuard=Date.now(),e.next=9,Xe(a,n.database);case 9:if(!d){e.next=12;break}return e.next=12,xe(a);case 12:alert(4===t.level?"Orden de trabajo cerrada correctamente":"Orden de trabajo enviado a revisi\xf3n"),j.replace("/assignment"),re(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(L>0)){e.next=13;break}return t=[],e.next=4,Ve();case 4:return n=e.sent,e.next=7,Ke(n.database);case 7:a=e.sent,i=a.filter((function(e){if(e.reportId===J._id)return e})),Object.keys(i[0].group).forEach((function(e,n){var a={nombre:e,data:[]};i[0].group[e].forEach((function(n,r){if("*"===n.unidad);else{var c={task:n.task,taskdesc:n.taskdesc,obs01:n.obs01,partnumberUtl:n.partnumberUtl,cantidad:n.cantidad,unidad:n.unidad,unidadData:n.unidadData?Number(n.unidadData):0,diferencia:parseFloat(n.cantidad.toString())-parseFloat(n.unidadData?n.unidadData.toString():"0")};a.data.push(c)}r===i[0].group[e].length-1&&a.data.length>0&&t.push(a)})),n===Object.keys(i[0].group).length-1&&et(t)})),Qe(!0),e.next=14;break;case 13:alert("Orden a\xfan no est\xe1 listo para revisar el listado de materiales o insumos.");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Bt.jsxs)(vt.a,{height:"80vh",children:[Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:u.pageContainer,item:!0,xs:12,children:Object(Bt.jsx)(Un.a,{elevation:0,className:"pageCard",children:Object(Bt.jsxs)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10,width:"100%"},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){j.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:["Actividades Asignadas / Detalle / OT ",b," ",Object(Bt.jsx)("strong",{children:m&&m.testMode?"Modo test":""})]})]})})}),Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:x?10:12,md:x?10:12,sm:12,children:Object(Bt.jsx)("div",{style:{padding:20},children:x&&x._id?Object(Bt.jsx)(va,{height:ye?"calc(100vh - 850px)":"calc(100vh - 360px)",report:m,setProgress:function(e){var t=e.progressPage,n=e.globalProgress;E(Number(t)),z(Number(n))},setIndexGroupToSend:te,resultThisItemProgress:z,selectionItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String,t=xt(e,Ae.model),n={name:Ot(e),brand:Ae.brand,model:Ae.model,nameModel:"".concat(Ot(e),"_").concat(Ae.model)};console.log(t),Te(JSON.stringify(n)),Me(t)},setUltimoGuardadoDispositivo:Ge,canEdit:Z,executionReport:x}):Object(Bt.jsx)("div",{style:{width:"100%",lineHeight:ye?"calc(100vh - 850px)":"calc(100vh - 360px)",height:ye?"calc(100vh - 850px)":"calc(100vh - 360px)",textAlign:"center"},children:Object(Bt.jsx)("p",{style:{lineHeight:" 1.5",display:"inline-block",verticalAlign:"middle",fontSize:25},children:w?"Descargando pauta...":"Reporte no iniciado"})})})}),m&&x&&Object(Bt.jsx)(Nt.a,{item:!0,xl:2,md:2,sm:12,children:Object(Bt.jsxs)("div",{style:{marginTop:20,padding:20,backgroundColor:"#F9F9F9",borderRadius:10,height:"71vh",overflowY:"auto"},children:[Object(Bt.jsxs)("div",{style:{textAlign:"center",width:"100%"},children:[Object(Bt.jsxs)("h2",{style:{margin:0},children:["OT ",b]}),Object(Bt.jsxs)("p",{style:{margin:0},children:["OM SAP: ",f&&f]}),Object(Bt.jsxs)("p",{style:{margin:0},children:["Serie Equipo: ",v&&v]}),Object(Bt.jsxs)("p",{style:{margin:0},children:["Tipo de pauta: ",Object(Bt.jsx)("strong",{children:m&&m.reportType})]}),Object(Bt.jsx)("p",{style:{backgroundColor:"red",color:"white",marginBottom:0},children:Object(Bt.jsx)("strong",{children:m&&m.testMode?"Modo test":""})}),Ae&&Object(Bt.jsxs)("p",{style:{margin:0},children:["Modelo M\xe1quina ",Ae.model,", N\xb0",Ae.equ]}),Object(Bt.jsx)("br",{}),De&&Object(Bt.jsx)(Qt.a,{variant:"contained",disabled:!De,style:{paddingLeft:20,paddingRight:20,paddingTop:10,paddingBottom:10},onClick:function(){Pe(!0)},children:Object(Bt.jsx)("strong",{children:"3D"})})]}),Object(Bt.jsxs)("h4",{style:{textAlign:"center"},children:["Avance en esta hoja: ",M,"%"]}),Object(Bt.jsx)(O.a,{variant:"determinate",value:M,style:{width:"100%"}}),Object(Bt.jsxs)("h4",{style:{textAlign:"center"},children:["Avance total: ",N,"%"]}),Object(Bt.jsx)(O.a,{variant:"determinate",value:N,style:{width:"100%"}}),Object(Bt.jsx)("br",{}),(n&&(!m.level||0===m.level)||r&&1===m.level||o&&2===m.level)&&Object(Bt.jsxs)(Qt.a,{variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},onClick:ct,children:[Object(Bt.jsx)(Pt.a,{icon:Lt.y,style:{marginRight:10}})," Enviar OT"]}),(i&&3===m.level||t)&&Object(Bt.jsxs)(Qt.a,{variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},onClick:ct,children:[Object(Bt.jsx)(Pt.a,{icon:Lt.y,style:{marginRight:10}})," Cerrar OT"]}),(i&&3===m.level||t)&&Object(Bt.jsxs)(Qt.a,{variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},onClick:jt,children:[Object(Bt.jsx)(Pt.a,{icon:Lt.q,style:{marginRight:10}})," Resumen Insumos/Materiales"]}),(r&&1===m.level||o&&2===m.level||i&&3===m.level)&&Object(Bt.jsxs)(Qt.a,{variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},onClick:function(){d?(it(!1),rt()):alert("Dispositivo debe estar conectado a internet.")},children:[Object(Bt.jsx)(St.a,{}),"Rechazar OT"]}),n&&(0===m.level||!m.level)&&Object(Bt.jsxs)(Qt.a,{onClick:lt,variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.l,style:{marginRight:10}})," Terminar Jornada"]}),Object(Bt.jsxs)(Qt.a,{variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:0},onClick:function(){pe(!0)},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.m,style:{marginRight:10}})," Mensajes de flujo"]})]})})]}),K&&Object(Bt.jsx)(mn,{canEdit:Z,open:K,closeModal:at?dt:function(e){if(_(!1),e){re(!0),console.log(m);var t=m;if(t.testMode){var n=t.level-1;t.level=n,t.emailing="rechazo-orden-".concat(n),2===n||3===n&&(t.state="En proceso"),console.log(t),ui(t.emailing,t.idIndex,t.history[t.history.length-1].userSendingData,l._id),ut(t)}else if(100===N){var a=t.level-1;t.level=a,t.emailing="rechazo-orden-".concat(a),2===a||3===a&&(t.state="En proceso"),console.log(t),ui(t.emailing,t.idIndex,t.history[t.history.length-1].userSendingData,l._id),ut(t)}else re(!1),alert("Reporte est\xe1 incompleto.")}},report:m,messageType:be}),Oe&&Object(Bt.jsx)(gn,{open:Oe,close:function(){pe(!1)},report:m})]})})})}),Ze&&Object(Bt.jsx)(ji,{open:Ze,data:$e,closePreviewModal:function(){Qe(!1)}}),ie&&Object(Bt.jsx)(Ft,{open:ie}),Object(Bt.jsx)(ft.a,{open:Fe,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:I,children:[Object(Bt.jsx)(Hn,{subSistem:Be}),Object(Bt.jsx)(wt.a,{onClick:function(){Pe(!1)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:Object(Bt.jsx)(St.a,{})})]})})]})},hi=function(){var e=Object(s.useHistory)(),t=A(),n=Object(a.useState)([]),i=Object(c.a)(n,2),r=i[0],o=i[1];return Object(a.useEffect)((function(){fe().then((function(e){e.data.forEach(function(){var t=Object(G.a)(Y.a.mark((function t(n,a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct(n.from);case 2:n.fullName=t.sent,n.index=a,a==e.data.length-1&&o(e.data.reverse());case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}))}),[]),Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:t.pageContainer,item:!0,xs:12,children:Object(Bt.jsx)(Un.a,{elevation:0,className:"pageCard",children:Object(Bt.jsxs)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){e.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Mensajes Internos"})]})})}),Object(Bt.jsx)("div",{style:{width:"100vw",marginRight:11,overflowY:"scroll",maxHeight:"70vh",paddingLeft:20,paddingRight:20},children:Object(Bt.jsx)(Ra.a,{children:r.length>0&&r.map((function(e,t){return Object(Bt.jsxs)("div",{children:[Object(Bt.jsxs)("h2",{children:[e.index+1,".- ",e.fullName,":"]}),Object(Bt.jsx)("p",{children:e.message}),Object(Bt.jsx)("br",{})]},t)}))})})]})})})})})},mi=function(){var e=Na(),t=e.myNotifications,n=e.getNotifications,i=Object(a.useState)(!1),r=Object(c.a)(i,2),o=r[0],l=r[1],d=A(),u=Object(s.useHistory)();return Object(Bt.jsx)(vt.a,{height:"100%",children:Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:d.pageContainer,item:!0,xs:12,children:Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard",children:[Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsxs)("div",{style:{width:"100%",position:"relative",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:[Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){u.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Notificaciones"})]}),Object(Bt.jsx)(Qt.a,{onClick:function(){l(!0),setTimeout((function(){var e=Object(Qn.a)(t);e.forEach((function(t,a){Ae(t._id),a==e.length-1&&(n(),l(!1))}))}),1e3)},style:{position:"absolute",right:10,top:10},children:"Indicar Todo Le\xeddo"})]})})}),Object(Bt.jsxs)(Nt.a,{alignItems:"center",justifyContent:"center",style:{padding:10,borderRadius:20},children:[Object(Bt.jsx)("div",{style:{height:"calc(100vh - 220px)",overflowY:"auto"},children:t.slice(0,20).map((function(e,t){return Object(Bt.jsxs)(Gt.a,{style:{backgroundColor:e.state?"#fff":"#F9F9F9"},children:[Object(Bt.jsxs)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:[Object(Bt.jsx)("h1",{children:e.title}),Object(Bt.jsx)("h2",{children:e.subtitle})]}),Object(Bt.jsx)("div",{style:{width:"20%",marginLeft:5,fontSize:12},children:Object(Bt.jsx)("p",{style:{fontSize:18},children:e.message})}),Object(Bt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:Object(Bt.jsx)("p",{style:{fontSize:18},children:P(e.createdAt)})}),Object(Bt.jsx)("div",{style:{width:"20%",marginLeft:5,fontSize:12},children:Object(Bt.jsx)("button",{style:{width:50,height:40,borderRadius:20,fontSize:20},onClick:function(){var t;u.push(e.url),t=e._id,Ae(t)},children:"Ir"})})]},t)}))}),o&&Object(Bt.jsx)(Ft,{open:o})]})]})})})})},gi=function(){var e=A(),t=Object(s.useHistory)(),n=Object(a.useState)(!1),i=Object(c.a)(n,2),r=i[0],o=i[1];return Object(Bt.jsxs)(vt.a,{height:"100%",children:[r&&Object(Bt.jsx)(ki,{open:r,closeModal:function(){o(!1)}}),Object(Bt.jsx)(Nt.a,{className:"pageRoot",container:!0,spacing:0,children:Object(Bt.jsx)(Nt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Bt.jsxs)(Un.a,{elevation:0,className:"pageCard",children:[Object(Bt.jsx)(Nt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Bt.jsx)("div",{style:{width:"100%",position:"relative",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Bt.jsxs)(yt.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Bt.jsx)(g.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(Bt.jsx)(ya.a,{style:{color:"#333",fontSize:16}})}),Object(Bt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Opciones"})]})})})}),Object(Bt.jsxs)(Nt.a,{alignItems:"center",justifyContent:"center",style:{padding:10,borderRadius:20},children:[Object(Bt.jsx)(Nt.a,{container:!0,children:Object(Bt.jsx)(Nt.a,{item:!0,children:Object(Bt.jsxs)(Nt.a,{container:!0,style:{borderBottomWidth:1,borderBottomColor:"#ccc",borderBottomStyle:"solid",padding:10},children:[Object(Bt.jsx)(Nt.a,{item:!0,children:Object(Bt.jsx)("div",{children:Object(Bt.jsx)("p",{children:Object(Bt.jsx)("strong",{children:"Ver pautas descargadas"})})})}),Object(Bt.jsx)(Nt.a,{item:!0,children:Object(Bt.jsx)("div",{style:{marginTop:10,marginLeft:15},children:Object(Bt.jsx)(Qt.a,{color:"primary",onClick:function(){o(!0)},children:"Abrir"})})})]})})}),Object(Bt.jsx)(Nt.a,{container:!0,children:Object(Bt.jsx)(Nt.a,{item:!0,children:Object(Bt.jsxs)(Nt.a,{container:!0,style:{borderBottomWidth:1,borderBottomColor:"#ccc",borderBottomStyle:"solid",padding:10},children:[Object(Bt.jsx)(Nt.a,{item:!0,children:Object(Bt.jsx)("div",{children:Object(Bt.jsxs)("p",{children:[Object(Bt.jsx)("strong",{children:"Borrar Cach\xe9"})," ",Object(Bt.jsx)("br",{})," (\xc9sta acci\xf3n borrar\xe1 toda la informaci\xf3n de la aplicaci\xf3n ",Object(Bt.jsx)("br",{})," en el dispositivo)"]})})}),Object(Bt.jsx)(Nt.a,{item:!0,children:Object(Bt.jsx)("div",{style:{marginTop:26,marginLeft:15},children:Object(Bt.jsx)(Qt.a,{color:"primary",onClick:function(){confirm("Limpiar\xe1 toda la data del sistema y cerrar\xe1 la sesi\xf3n. Una vez terminado vuelva a iniciar.")&&window.indexedDB.databases().then((function(e){console.log(e),e.forEach((function(t,n){window.indexedDB.deleteDatabase(t.name),n==e.length-1&&(window.localStorage.clear(),window.location.reload(),removeDatabases())}))}))},children:"Borrar"})})})]})})})]})]})})})]})},xi=function(e){var t=e.height,n=e.hableButton,i=ir().users,r=Object(a.useState)([]),s=Object(c.a)(r,2),l=s[0],d=s[1],u=Object(a.useState)([]),j=Object(c.a)(u,2),b=j[0],h=(j[1],Object(a.useState)(!1)),m=Object(c.a)(h,2),x=m[0],O=m[1],p=Object(a.useState)({}),f=Object(c.a)(p,2),v=f[0],y=f[1],w=Object(a.useState)(0),S=Object(c.a)(w,2),C=S[0],A=S[1],k=Object(a.useState)(!1),R=Object(c.a)(k,2),D=R[0],M=R[1],E=Object(a.useState)([]),I=Object(c.a)(E,2),T=I[0],N=I[1],z=Object(a.useState)([]),F=Object(c.a)(z,2),P=F[0],L=F[1],U=function(e){ee(e).then((function(e){}))};Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){console.log(l)}),[l]);var W={height:70,borderRadius:10,boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)",fontSize:14};return Object(Bt.jsx)("div",{style:{height:t},children:Object(Bt.jsxs)("div",{style:{height:t},children:[Object(Bt.jsxs)(Nt.a,{container:!0,spacing:5,children:[Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:8,lg:8,children:Object(Bt.jsx)(yt.a,{style:{width:"100%"},children:Object(Bt.jsx)("h1",{children:"Administrar usuarios"})})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"right"},children:Object(Bt.jsx)(o.b,{to:"/new-users",children:Object(Bt.jsxs)("button",{disabled:!n,style:{marginTop:15,width:171,height:38,borderRadius:23,fontSize:16},children:[Object(Bt.jsx)(Pt.a,{icon:Lt.L,style:{marginRight:10}}),"Crear usuario"]})})})})]}),Object(Bt.jsx)("div",{children:Object(Bt.jsxs)(Gt.a,{children:[Object(Bt.jsx)("div",{style:{width:"5%",marginLeft:5,fontSize:12}}),Object(Bt.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[Object(Bt.jsxs)("p",{style:{margin:0},children:[" ",Object(Bt.jsx)("strong",{children:"Nombre de usuario"})," "]}),Object(Bt.jsx)("input",{type:"text",placeholder:"Buscar por nombre",onChange:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String;if(console.log(e),e.length>3){var t=b.filter((function(t){return(t.name+" "+t.lastName).toLocaleUpperCase().match(e.toLocaleUpperCase())?t:null}));d(t)}else 0===e.length&&d(b)}(e.target.value)}})]}),Object(Bt.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[Object(Bt.jsxs)("p",{style:{margin:0},children:[" ",Object(Bt.jsx)("strong",{children:"Correo electr\xf3nico"})," "]}),Object(Bt.jsx)("input",{type:"text",placeholder:"Buscar por correo",onChange:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String;if(e.length>3){var t=b.filter((function(t){return t.email.toLocaleUpperCase().match(e.toLocaleUpperCase())?t:null}));d(t)}else 0===e.length&&d(b)}(e.target.value)}})]}),Object(Bt.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[Object(Bt.jsxs)("p",{style:{margin:0},children:[" ",Object(Bt.jsx)("strong",{children:"RUN"})," "]}),Object(Bt.jsx)("input",{style:{width:110},type:"text",placeholder:"Buscar por RUN",onChange:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String;if(e.length>3){var t=b.filter((function(t){return t.rut&&t.rut.match(e)?t:null}));d(t)}else 0===e.length&&d(b)}(e.target.value)}})]}),Object(Bt.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:Object(Bt.jsxs)("p",{style:{margin:0,marginBottom:22},children:[" ",Object(Bt.jsx)("strong",{children:"Rol"})," "]})}),Object(Bt.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:Object(Bt.jsxs)("p",{style:{margin:0,marginBottom:22},children:[" ",Object(Bt.jsx)("strong",{children:"Faena/Obra"})," "]})}),Object(Bt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:Object(Bt.jsxs)("p",{style:{margin:0,marginBottom:22},children:[" ",Object(Bt.jsx)("strong",{children:"Estado"})," "]})})]})}),n&&Object(Bt.jsxs)("div",{style:{overflowY:"auto",height:"calc(100vh - 350px)"},children:[0===i.length&&Object(Bt.jsx)(Da,{}),i.length>0&&i.map((function(e,t){return Object(Bt.jsxs)(Gt.a,{style:W,children:[Object(Bt.jsx)("div",{style:{width:"5%",marginLeft:5,fontSize:12},children:Object(Bt.jsx)("img",{style:{height:50,borderRadius:"50%",objectFit:"cover",width:50},src:e.imageUrl?e.imageUrl:"../assets/no-profile-image.png",alt:""})}),Object(Bt.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[e.name," ",e.lastName]}),Object(Bt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12,wordBreak:"break-all"},children:"x@x.xx"===e.email?"----":e.email}),Object(Bt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:e.rut}),Object(Bt.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12,overflowY:"auto",maxHeight:50},children:e.role&&e.role.length>0?B(e.role):e.roles.map((function(e,t){return Object(Bt.jsx)("p",{style:{margin:0},children:B(e)},t)}))}),Object(Bt.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:e.obras&&e.obras[0]?e.obras[0].descripcion:""}),Object(Bt.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[e.enabled&&Object(Bt.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#C3EBD4",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"ACTIVO"}),!e.enabled&&Object(Bt.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#F9F9F9",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"INACTIVO"})]}),Object(Bt.jsx)(g.a,{title:"Informaci\xf3n del usuario",onClick:function(){return a=t,y(n=e),M(n.enabled),N(n.permissionsReports),L(n.permissionsUsers),A(a),void O(!0);var n,a},children:Object(Bt.jsx)(Pt.a,{icon:Lt.u})}),Object(Bt.jsx)(o.b,{to:"/edit-user/".concat(e._id),children:Object(Bt.jsx)(g.a,{title:"Editar usuario",children:Object(Bt.jsx)(Pt.a,{icon:Lt.A})})}),Object(Bt.jsx)(g.a,{title:"Borrar usuario",onClick:function(){var t,n,a;t=e._id,n=e.name,a=e.lastName,"admin"===e.role?alert("No es posible eliminar un Administrador."):confirm("Remover\xe1 al usuario ".concat(n," ").concat(a,". Confirme la acci\xf3n."))&&ae(t).then(function(){var e=Object(G.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.t0=d,e.next=4,new Promise((function(e){te().then((function(t){e(t)}))}));case 4:e.t1=e.sent.data,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:Object(Bt.jsx)(Pt.a,{icon:Lt.J})})]},t)})),v&&Object(Bt.jsx)(Wt,{open:x,userModal:v,handleChange:function(e){M(e.target.checked),l[C].enabled=e.target.checked},checked:D,permissionsReports:T,permissionsUsers:P,closeModal:function(e){O(!1),U(e)}})]}),!n&&Object(Bt.jsx)("div",{style:{textAlign:"center",width:"100%",height:"50%",paddingTop:50},children:Object(Bt.jsx)("h1",{children:"Requiere conexi\xf3n a internet para administraci\xf3n de usuarios"})})]})})},Oi=(n(573),function(e){var t=e.typeDisplay,n=e.uData,i=sr(),r=i.sites,s=i.setSiteSelected,o=Object(a.useContext)(Ji),l=o.setUserData,d=o.userData,u=(o.rolesListSelectionCache,o.setRolesListSelectionCache),j=o.setChangeModule,b=Object(a.useState)("password"),h=Object(c.a)(b,2),m=h[0],x=h[1],O=Object(a.useState)("password"),p=Object(c.a)(O,2),f=p[0],v=p[1],y=Object(a.useState)([]),w=Object(c.a)(y,2),S=w[0],C=w[1],A=Object(a.useState)(!1),k=Object(c.a)(A,2),R=k[0],D=k[1],M=Object(a.useState)(!1),E=Object(c.a)(M,2),I=E[0],B=(E[1],Object(a.useState)()),T=Object(c.a)(B,2),N=T[0],z=T[1];Object(a.useEffect)((function(){F()}),[]);var F=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,n=[],t.data.forEach((function(e){e.selected=!1,"superAdmin"===e.dbName||n.push(e)})),0===d.roles.length?(u(n),C(n)):(n.forEach((function(e){e.selected=!1,d.roles.forEach((function(t){e.dbName===t&&(e.selected=!0)}))})),console.log(n),C(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(d.password&&d.confirmPassword&&d.password.length>5&&d.confirmPassword.length>5&&(d.password===d.confirmPassword?(D(!1),document.getElementById("passw").className="isValid",document.getElementById("c_passw").className="isValid"):(D(!0),document.getElementById("passw").className="isInvalid",document.getElementById("c_passw").className="isInvalid")),Object(Rn.validate)(d.rut)?document.getElementById("rut").className="isValid":document.getElementById("rut").className="isInvalid",d.roles.length>0){var e=Object(Qn.a)(S);e.forEach((function(e){d.roles.forEach((function(t){t===e.dbName&&(e.selected=!0)}))})),C(e),u(e)}}),[d]);var P=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(t);case 2:n=e.sent,z(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){console.log(S)}),[S]),Object(Bt.jsxs)("div",{style:{height:"calc(100vh-500px)",width:"100%"},children:["Nuevo usuario"===t&&Object(Bt.jsx)(Nt.a,{children:Object(Bt.jsx)("div",{children:Object(Bt.jsxs)("p",{children:["Para enrolar nuevo usuario debe ingresar todos los datos. ",Object(Bt.jsx)("br",{})," Foto de perfil se podr\xe1 cargar una vez creado."]})})}),Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:"Nuevo usuario"===t?"auto":3,lg:"Nuevo usuario"===t?"auto":3,md:12,sm:12,xs:12,hidden:"Nuevo usuario"===t,children:Object(Bt.jsxs)("div",{style:{textAlign:"center"},children:[Object(Bt.jsx)("p",{children:"Foto de perfil"}),Object(Bt.jsx)("button",{style:{height:224,width:190,borderRadius:8,objectFit:"cover"},onClick:function(){n._id?document.getElementById("profileImage").click():alert("Solo puede agregar foto una vez creado el usuario.")},children:N?Object(Bt.jsx)("img",{src:N,style:{objectFit:"cover",width:"100%"},height:"100%"}):Object(Bt.jsxs)("div",{children:[Object(Bt.jsx)(Pt.a,{icon:Lt.z,style:{fontSize:18}}),Object(Bt.jsx)("br",{}),Object(Bt.jsx)("br",{}),"CARGAR",Object(Bt.jsx)("br",{}),"FOTO"]})}),Object(Bt.jsx)("input",{autoComplete:"off",type:"file",id:"profileImage",onChange:function(e){P(e.target.files[0])},hidden:!0})]})}),Object(Bt.jsxs)(Nt.a,{item:!0,xl:"Nuevo usuario"===t?12:9,lg:"Nuevo usuario"===t?12:9,md:12,sm:12,xs:12,children:[Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:8,lg:8,children:Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:4,lg:4,md:6,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"RUT"}),Object(Bt.jsx)("input",{autoComplete:"off",required:!0,id:"rut",className:"inputClass",type:"text",minLength:11,maxLength:12,onInput:function(e){return t=e.target.value,void l("-"===t?Object(pt.a)(Object(pt.a)({},d),{},{rut:""}):Object(pt.a)(Object(pt.a)({},d),{},{rut:Object(Rn.format)(t)}));var t},value:d.rut,placeholder:"11.222.333-K",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:8,lg:8,md:12,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"Obra"}),Object(Bt.jsxs)("select",{required:!0,name:"site",id:"site",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){l(Object(pt.a)(Object(pt.a)({},d),{},{obras:[e.target.value]})),s(e.target.value)},value:d.obras[0],className:"inputClass",children:[Object(Bt.jsx)("option",{children:"Seleccione..."}),r.length>0&&r.map((function(e,t){return Object(Bt.jsx)("option",{value:e._id,children:e.descripcion},t)}))]})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"Obra"}),Object(Bt.jsxs)("select",{required:!0,name:"test",id:"test",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){return l(Object(pt.a)(Object(pt.a)({},d),{},{isTest:"true"===e.target.value}))},value:d.isTest,className:"inputClass",children:[Object(Bt.jsx)("option",{value:!1,children:"Seleccione..."}),Object(Bt.jsx)("option",{value:!0,children:"Modo Test"})]})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"Nombre"}),Object(Bt.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"name",onChange:function(e){return l(Object(pt.a)(Object(pt.a)({},d),{},{name:e.target.value}))},value:d.name,placeholder:"John",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"Apellido"}),Object(Bt.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"lastName",onChange:function(e){return l(Object(pt.a)(Object(pt.a)({},d),{},{lastName:e.target.value}))},value:d.lastName,placeholder:"Doe",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:8,lg:8,md:6,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"Correo electr\xf3nico"}),Object(Bt.jsx)("input",{autoComplete:"off",required:!0,id:"email",onChange:function(e){return l(Object(pt.a)(Object(pt.a)({},d),{},{email:e.target.value}))},value:d.email,placeholder:"nombre@correo.cl",type:"email",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:4,lg:4,md:6,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"N\xfamero de tel\xe9fono"}),Object(Bt.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"phone",minLength:9,onInput:function(e){e.target.value=e.target.value.slice(0,9)},onChange:function(e){return l(Object(pt.a)(Object(pt.a)({},d),{},{phone:e.target.value}))},value:d.phone,placeholder:"999998888",type:"phone",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),"Nuevo usuario"===t&&Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsxs)(Nt.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"Contrase\xf1a"}),Object(Bt.jsx)("div",{style:{float:"left",width:"100%",paddingRight:10},children:Object(Bt.jsx)("input",{autoComplete:"off",id:"passw",required:!0,className:"isInvalid",onChange:function(e){return l(Object(pt.a)(Object(pt.a)({},d),{},{password:e.target.value}))},value:d.password,minLength:6,placeholder:"Min 6 car\xe1cteres",type:m,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),Object(Bt.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:Object(Bt.jsxs)(g.a,{style:{width:40},onClick:function(){x("password"===m?"text":"password")},children:["password"===m&&Object(Bt.jsx)(Pt.a,{icon:Lt.q}),"text"===m&&Object(Bt.jsx)(Pt.a,{icon:Lt.r})]})})]}),Object(Bt.jsxs)(Nt.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"Confirmar contrase\xf1a"}),Object(Bt.jsx)("div",{style:{float:"left",width:"100%",paddingRight:10},children:Object(Bt.jsx)("input",{autoComplete:"off",id:"c_passw",required:!0,className:"isInvalid",onChange:function(e){return l(Object(pt.a)(Object(pt.a)({},d),{},{confirmPassword:e.target.value}))},value:d.confirmPassword,minLength:6,placeholder:"Repita contrase\xf1a",type:f,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),Object(Bt.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:Object(Bt.jsxs)(g.a,{style:{width:40},onClick:function(){v("password"===f?"text":"password")},children:["password"===f&&Object(Bt.jsx)(Pt.a,{icon:Lt.q}),"text"===f&&Object(Bt.jsx)(Pt.a,{icon:Lt.r})]})})]})]})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:4,lg:4,children:Object(Bt.jsx)(Nt.a,{container:!0,style:{height:"100%"},children:Object(Bt.jsxs)("div",{style:{padding:"0px 10px",borderLeftColor:"#ccc",borderLeftStyle:"solid",borderLeftWidth:1,height:"100%"},children:[Object(Bt.jsx)("div",{style:{marginTop:10,marginPadding:10},children:Object(Bt.jsx)("h2",{children:"Roles de usuario"})}),S.map((function(e,t){return Object(Bt.jsx)(Nt.a,{sm:12,item:!0,children:Object(Bt.jsxs)(Nt.a,{container:!0,children:[Object(Bt.jsx)(Nt.a,{item:!0,sm:1,children:Object(Bt.jsx)(Xn.a,{style:{padding:3},checked:e.selected,onChange:function(e){!function(e,t){var n=Object(Qn.a)(S),a=[];n.forEach((function(n,i){i===t&&(n.selected=e.target.checked,n.selected&&a.push(n.dbName))})),C(n),u(n),j(!0)}(e,t)}})}),Object(Bt.jsx)(Nt.a,{item:!0,sm:11,children:Object(Bt.jsx)("p",{style:{margin:"5px 0px 5px 10px"},children:e.name})})]})},t)}))]})})})]}),R&&Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Bt.jsx)("h3",{style:{color:"red"},children:"Contrase\xf1as no coinciden"})}),Object(Bt.jsx)(zt,{open:I,withProgress:!1,loadingData:"Espere..."})]})]})]})}),pi=function(e){e.width;var t=e.height,n=e.typeDisplay,i=(e.id,Object(a.useContext)(Ji)),r=i.userData,s=(i.setUserData,sr().siteSelected,Object(a.useState)("")),o=Object(c.a)(s,2),l=o[0],d=o[1];Object(a.useEffect)((function(){console.log(r),r.obras&&u()}),[r.obras]);var u=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",n=(t=r).obras[0]._id?t.obras[0]._id:t.obras[0],e.next=5,Me(n);case 5:a=e.sent,console.log(a),d(a.data.data.descripcion);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Bt.jsx)(Nt.a,{container:!0,style:{height:t},children:Object(Bt.jsx)(Nt.a,{item:!0,xl:12,md:12,style:{padding:20,marginRight:0,backgroundColor:"#F9F9F9",borderRadius:20,overflowY:"auto"},children:Object(Bt.jsxs)("div",{style:{textAlign:"center"},children:[Object(Bt.jsx)("h2",{children:"Resumen del usuario"}),Object(Bt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Bt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"RUT"}),Object(Bt.jsx)("p",{style:{margin:0,fontSize:16},children:r.rut})]}),Object(Bt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Bt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Nombre y Apellido"}),Object(Bt.jsxs)("p",{style:{margin:0,fontSize:16},children:[r.name," ",r.lastName]})]}),Object(Bt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Bt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tipo de usuario"}),r.roles.map((function(e,t){return Object(Bt.jsx)("p",{children:B(e)},t)}))]}),Object(Bt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Bt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Obra"}),Object(Bt.jsx)("p",{style:{margin:0,fontSize:16},children:l})]}),Object(Bt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Bt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Correo electr\xf3nico"}),Object(Bt.jsx)("p",{style:{margin:0,fontSize:16},children:r.email})]}),Object(Bt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Bt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tel\xe9fono"}),Object(Bt.jsxs)("p",{style:{margin:0,fontSize:16},children:["+56 ",r.phone]})]}),"Nuevo usuario"===n&&Object(Bt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Bt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Contrase\xf1a"}),Object(Bt.jsxs)("p",{style:{margin:0,fontSize:16},children:[r.password," "," "]})]})]})})})},fi=n(679),vi=(n(574),function(e){var t=e.list,n=e.typeReportsSelected,i=e.statusReports,r=(e.getReports,Object(a.useState)(null)),s=Object(c.a)(r,2),o=s[0],l=s[1],d=Object(a.useState)(null),u=Object(c.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(!1),m=Object(c.a)(h,2),g=m[0],x=m[1],O=Object(a.useState)(!1),p=Object(c.a)(O,2),f=p[0],v=p[1],y=Object(a.useState)(!1),w=Object(c.a)(y,2),S=w[0],C=w[1],A=Object(a.useState)([]),k=Object(c.a)(A,2),R=k[0],D=k[1],M=Object(a.useState)(!1),E=Object(c.a)(M,2),I=E[0],B=E[1],T=Object(a.useState)(null),N=Object(c.a)(T,2),z=N[0],P=N[1],L=Boolean(z),Y=L?"simple-popover":void 0;Object(a.useEffect)((function(){B(!1)}),[]);var G=function(){P(null)},U=function(e,t,n,a){if(0!==e&&e){if(1===e)return"Revisi\xf3n Supervisor";if(2===e)return"Revisi\xf3n J. Maquinaria";if(3===e)return"Revisi\xf3n SAP";if(4===e)return"Terminado"}else{if(!(t.length>0))return"Asignar";if("En proceso"===a)return"Ejecutando por operador";if(n&&"Asignar"===a)return"Reasignar"}};return Object(Bt.jsxs)("div",{style:{width:"100%",paddingLeft:10,paddingRight:10},children:[Object(Bt.jsxs)(Nt.a,{container:!0,style:{width:"100%",borderBottomColor:"#ccc",borderBottomStyle:"solid",borderBottomWidth:1},children:[Object(Bt.jsx)(Nt.a,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:Object(Bt.jsx)("p",{style:{textAlign:"center",width:50},children:Object(Bt.jsx)("strong",{children:"N\xb0 OT"})})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:Object(Bt.jsxs)("p",{style:{textAlign:"center",minWidth:70},children:[" ",Object(Bt.jsx)("strong",{children:"M\xe1quina"})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Bt.jsx)("strong",{children:"Pauta"})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Bt.jsxs)("strong",{children:["Fecha ",Object(Bt.jsx)("br",{})," Prevista"]})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Bt.jsxs)("strong",{children:["Fecha ",Object(Bt.jsx)("br",{})," Inicio"]})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Bt.jsxs)("strong",{children:["Fecha ",Object(Bt.jsx)("br",{})," T\xe9rmino"]})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Bt.jsx)("strong",{children:"Hor\xf3metro"})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Bt.jsx)("strong",{children:"Estado"})," "]})}),"Completadas"!==n?Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:2,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Bt.jsx)("strong",{children:"Responsable"})," "]})}):Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:2,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Bt.jsx)("strong",{children:"OM SAP"})," "]})}),I&&Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center",minWidth:70},children:[" ",Object(Bt.jsx)("strong",{children:"Obra"})," "]})}),"Completadas"===n&&Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center",minWidth:70},children:[" ",Object(Bt.jsx)("strong",{children:"Download"})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:Object(Bt.jsxs)("p",{style:{textAlign:"center",minWidth:70},children:[" ",Object(Bt.jsx)("strong",{children:"Flota"})," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"left"},children:[" ",Object(Bt.jsx)("strong",{children:"Acci\xf3n"})," "]})})]}),Object(Bt.jsx)("div",{children:0==t.length&&Object(Bt.jsx)(Nt.a,{container:!0,children:Object(Bt.jsxs)("div",{style:{width:"100%",textAlign:"center",height:"50vh"},children:[Object(Bt.jsx)("img",{style:{margin:0,top:"50%",left:"calc(100%/1.53)"},src:"../../assets/icons/Arrow.svg",alt:""}),Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center",top:"55%"},children:i?Object(Bt.jsxs)("p",{children:["Descargando la informaci\xf3n ",Object(Bt.jsx)("br",{})," Espere un momento."]}):Object(Bt.jsxs)("p",{children:["Selecciona otra opci\xf3n ",Object(Bt.jsx)("br",{})," El detalle no cuenta con lista de reportes."]})})]})})}),Object(Bt.jsx)("div",{style:{height:"calc(100vh - 370px)",overflowY:"auto"},children:t.map((function(e,t){return Object(Bt.jsxs)(Nt.a,{container:!0,style:{width:"100%",borderBottomColor:"#ccc",borderBottomStyle:"solid",borderBottomWidth:1},children:[Object(Bt.jsx)(Nt.a,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:Object(Bt.jsxs)("p",{style:{textAlign:"center",width:50},children:[" ",e.idIndex," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:Object(Bt.jsxs)("p",{style:{textAlign:"center",minWidth:70},children:[" ",e.machineData&&e.machineData.equ," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",e.guide," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",F(e.datePrev)," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",F(e.dateInit)," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",F(e.endPrev)," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",parseInt(e.machineData.hourMeter/1e3/60/60)," hrs "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsx)("div",{style:{textAlign:"center"},children:Object(Bt.jsxs)("p",{children:[" ",Object(Bt.jsx)("strong",{children:U(e.level,e.usersAssigned,e.dateInit,e.state)})," "]})})}),"Completadas"!==n?e.enabled?Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:2,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Bt.jsx)("button",{onClick:function(){return l(e),void x(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Asignar"})," "]})}):Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Bt.jsx)("button",{disabled:!0,style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Terminado"})," "]})}):Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",e.sapId," "]})}),I&&Object(Bt.jsxs)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,style:{textAlign:"center"},children:[Object(Bt.jsxs)(Qt.a,{"aria-describedby":Y,style:{textAlign:"center",minWidth:70,marginTop:5},onClick:function(t){!function(e,t){D(t),P(e.currentTarget)}(t,e.siteName)},children:[" ",e.site," "]}),Object(Bt.jsx)(fi.a,{id:Y,open:L,anchorEl:z,onClose:G,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(Bt.jsx)("div",{style:{padding:5},children:Object(Bt.jsx)("p",{children:R})})})]}),"Completadas"===n&&Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:e.urlPdf?Object(Bt.jsx)("p",{style:{textAlign:"center",minWidth:70},children:Object(Bt.jsx)("a",{href:"".concat(e.urlPdf),children:"Link"})}):Object(Bt.jsx)("p",{style:{textAlign:"center",minWidth:70},children:" Sin URL "})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:Object(Bt.jsxs)("p",{style:{textAlign:"center",minWidth:70},children:[" ",e.machineData&&e.machineData.model," "]})}),Object(Bt.jsx)(Nt.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Bt.jsx)(Nt.a,{container:!0,children:Object(Bt.jsx)(Nt.a,{item:!0,children:Object(Bt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Bt.jsx)("button",{onClick:function(){b(e),v(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Ver"})," "]})})})})]},t)}))}),o&&Object(Bt.jsx)(Tt,{open:g,report:o,reportType:o.reportType,onlyClose:function(){x(!1)},closeModal:function(){x(!1)}}),j&&Object(Bt.jsx)(Yt,{open:f,report:j,onlyClose:function(){b(null)}}),o&&Object(Bt.jsx)(un,{open:S,reportData:o,close:function(){C(!1)}})]})}),yi=n(453),wi=n.n(yi),Si=function(e){var t=e.width,n=e.height,a=e.setRefCanvas;e.disabled;return Object(Bt.jsx)(wi.a,{ref:function(e){a(e)},penColor:"black",canvasProps:{width:t,height:n,style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:20}}})},Ci=function(e){var t=e.openSign,n=e.styleModal,a=e.setRefCanvasFunction,i=e.getImage,r=e.clear;return Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:n,children:[Object(Bt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Bt.jsx)("h2",{children:"Para continuar deje su firma para la documentaci\xf3n. (Obligatorio)"})}),Object(Bt.jsxs)("div",{style:{width:"100%",textAlign:"center",position:"relative"},children:[Object(Bt.jsx)("div",{style:{position:"absolute",width:"100%",textAlign:"center",marginTop:10},children:Object(Bt.jsx)(Pt.a,{size:"lg",icon:Lt.A,color:"#333"})}),Object(Bt.jsx)(Si,{disabled:!0,width:300,height:300,setRefCanvas:a})]}),Object(Bt.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[Object(Bt.jsx)("div",{style:{width:"50%",textAlign:"center",float:"left"},children:Object(Bt.jsxs)(Qt.a,{onClick:function(){return r()},style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:10},children:[Object(Bt.jsx)(Pt.a,{size:"lg",icon:Lt.p,color:"#333",style:{marginRight:10}})," Borrar"]})}),Object(Bt.jsx)("div",{style:{width:"50%",textAlign:"center",float:"right"},children:Object(Bt.jsxs)(Qt.a,{onClick:function(){return i()},style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:10},children:[Object(Bt.jsx)(Pt.a,{size:"lg",icon:Lt.D,color:"#333",style:{marginRight:10}})," Guardar"]})})]})]})})},Ai=function(e){var t=e.open,n=e.closeModal,i=e.savedInfo,r=Object(a.useState)(""),s=Object(c.a)(r,2),o=s[0],l=s[1],d=Object(a.useState)(""),u=Object(c.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(""),m=Object(c.a)(h,2),g=m[0],x=m[1],O=Object(a.useState)(""),p=Object(c.a)(O,2),f=p[0],v=p[1],y=Object(a.useState)(""),w=Object(c.a)(y,2),S=w[0],C=w[1];Object(a.useEffect)((function(){}),[]);var A=function(){var e=Object(G.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:o,brand:j,model:g,pIDPM:f,zone:S},e.next=3,Re(t);case 3:e.sent&&(k(),i());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){n(),l(""),b(""),x(""),v(""),C("")};return Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:D,children:[Object(Bt.jsxs)(Nt.a,{container:!0,style:{paddingTop:50},children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"Marca"}),Object(Bt.jsxs)("select",{required:!0,name:"site",id:"site",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){return b(e.target.value)},value:j,className:"inputClass",children:[Object(Bt.jsx)("option",{value:"",children:"Seleccione..."}),["Caterpillar","Komatsu"].map((function(e,t){return Object(Bt.jsx)("option",{value:e,children:e},t)}))]})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"Tipo"}),Object(Bt.jsxs)("select",{required:!0,name:"site",id:"site",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){return l(e.target.value)},value:o,className:"inputClass",children:[Object(Bt.jsx)("option",{value:"",children:"Seleccione..."}),["Cami\xf3n","Pala","Cargador Frontal","Bulldozer"].map((function(e,t){return Object(Bt.jsx)("option",{value:e,children:e},t)}))]})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"Modelo"}),Object(Bt.jsxs)("select",{required:!0,name:"site",id:"site",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){return x(e.target.value)},value:g,className:"inputClass",children:[Object(Bt.jsx)("option",{value:"",children:"Seleccione..."}),["793-F","PC5500","789-D","994-K","D10-T2","D10-T"].map((function(e,t){return Object(Bt.jsx)("option",{value:e,children:e},t)}))]})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"Zona"}),Object(Bt.jsxs)("select",{required:!0,name:"site",id:"site",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){return C(e.target.value)},value:S,className:"inputClass",children:[Object(Bt.jsx)("option",{value:"",children:"Seleccione..."}),["Gen\xe9rico"].map((function(e,t){return Object(Bt.jsx)("option",{value:e,children:e},t)}))]})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:Object(Bt.jsxs)(Qa.a,{style:{width:"100%",paddingRight:10},children:[Object(Bt.jsx)("p",{style:{margin:0,marginTop:5},children:"PIDPM"}),Object(Bt.jsx)("input",{autoComplete:"off",required:!0,id:"rut",className:"inputClass",type:"text",minLength:11,maxLength:12,onInput:function(e){return v(e.target.value)},value:f,placeholder:"SPM000111",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,children:Object(Bt.jsx)(Qt.a,{onClick:A,children:"Guardar Pauta"})})]}),Object(Bt.jsx)(wt.a,{onClick:function(){return k()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Bt.jsx)(St.a,{style:{color:"#ccc"}})})]})})},ki=function(e){var t=e.open,n=e.closeModal,i=Object(a.useState)([]),r=Object(c.a)(i,2),s=r[0],o=r[1];Object(a.useEffect)((function(){l()}),[]);var l=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.initDbPMs();case 2:return t=e.sent,e.next=5,Pe.consultar(t.database);case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Bt.jsx)(ft.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Bt.jsxs)(vt.a,{sx:D,children:[Object(Bt.jsx)("div",{style:{width:"100%",position:"absolute",top:0,left:0,textAlign:"right"},children:Object(Bt.jsx)(Qt.a,{style:{borderRadius:"50%",width:36,height:36},onClick:n,children:Object(Bt.jsx)(St.a,{})})}),Object(Bt.jsx)(Nt.a,{container:!0,xl:12,lg:12,style:{width:"100%"},children:Object(Bt.jsx)(Nt.a,{item:!0,xl:12,lg:12,children:Object(Bt.jsxs)("h3",{children:["Pautas en dispositivo. Total descargadas: ",s.length]})})}),Object(Bt.jsxs)(Nt.a,{container:!0,xl:12,style:{width:"100%",paddingTop:30},children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:Object(Bt.jsx)("strong",{children:"N\xb0"})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:Object(Bt.jsx)("strong",{children:"Tipo PM"})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:2,lg:2,children:Object(Bt.jsx)("strong",{children:"ID PM"})}),Object(Bt.jsx)(Nt.a,{item:!0,xl:2,lg:2,children:Object(Bt.jsx)("strong",{children:"Acci\xf3n"})})]}),Object(Bt.jsx)("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 290px)"},children:s.map((function(e,t){return Object(Bt.jsxs)(Nt.a,{container:!0,style:{width:"100%",paddingTop:25,paddingBottom:25,maxHeight:"calc(100vh - 200px)",borderBottomColor:"#ccc",borderBottomWidth:1,borderBottomStyle:"solid"},children:[Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:t+1}),Object(Bt.jsx)(Nt.a,{item:!0,xl:1,lg:1,children:e.typepm}),Object(Bt.jsx)(Nt.a,{item:!0,xl:2,lg:2,children:e.idpm}),Object(Bt.jsx)(Nt.a,{item:!0,xl:2,lg:2,children:e.action})]},t)}))})]})})},Ri=Object(a.createContext)(),Di=function(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(JSON.parse(localStorage.getItem("user"))||void 0),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)(!1),j=Object(c.a)(u,2),b=j[0],h=j[1],m=Object(a.useState)([]),g=Object(c.a)(m,2),x=g[0],O=g[1],p=Object(a.useState)(),f=Object(c.a)(p,2),v=f[0],y=f[1],w=Object(a.useState)(!1),S=Object(c.a)(w,2),C=S[0],A=S[1],R=Object(a.useState)(!1),D=Object(c.a)(R,2),M=D[0],E=D[1],I=Object(a.useState)(!1),B=Object(c.a)(I,2),T=B[0],N=B[1],z=Object(a.useState)(!1),F=Object(c.a)(z,2),P=F[0],L=F[1],U=Object(a.useState)(),W=Object(c.a)(U,2),Q=W[0],q=W[1],J=Object(a.useState)(!1),V=Object(c.a)(J,2),X=V[0],K=V[1];Object(a.useEffect)((function(){console.log(Boolean(window.localStorage.getItem("isauthenticated"))),Boolean(window.localStorage.getItem("isauthenticated"))&&r(Boolean(window.localStorage.getItem("isauthenticated")))}),[]),Object(a.useEffect)((function(){i&&(Notification.requestPermission().then((function(e){})),l||te())}),[i]),Object(a.useEffect)((function(){l?((!l.sign||l.sign.length<1)&&setTimeout((function(){K(!0)}),500),l.roles.length>0&&l.roles.map((function(e){"admin"===e||"superAdmin"===e?(localStorage.setItem("isAdmin",!0),h(!0)):"inspectionWorker"===e||"maintenceOperator"===e?(localStorage.setItem("isOperator",!0),A(!0)):"sapExecutive"===e?(localStorage.setItem("isSapExecutive",!0),E(!0)):"shiftManager"===e?(localStorage.setItem("isShiftManager",!0),N(!0)):"chiefMachinery"===e?(localStorage.setItem("isChiefMachinery",!0),L(!0)):(localStorage.setItem("isAdmin",!1),h(!1))}))):te()}),[l]),Object(a.useEffect)((function(){l&&l.obras.length>0&&(y(l.obras[0]),window.localStorage.setItem("sitio",JSON.stringify(l.obras[0])))}),[l]),Object(a.useEffect)((function(){l&&i&&kt(l,_)}),[l,i]);var _=function(e){console.log(e),wn()({icon:vn,title:e.title,subtitle:e.subtitle,message:e.message,theme:"red",native:!0})},$=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at.initDb();case 2:return n=e.sent,a=n.database,e.next=6,at.actualizar(t,a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("obteniendo datos de usuario desde base de datos"),e.next=3,at.initDb();case 3:return t=e.sent,n=t.database,e.next=7,at.consultar(n);case 7:a=e.sent,d(a[0]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne={userData:l,isAuthenticated:i,admin:b,roles:x,site:v,setSite:y,isOperator:C,isSapExecutive:M,isShiftManager:T,isChiefMachinery:P,loginRut:function(e,t){return new Promise((function(n){console.log(e),H(e,t).then(function(){var e=Object(G.a)(Y.a.mark((function e(t){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,d(a),localStorage.setItem("user",JSON.stringify(a)),t.data.enabled?(O(a.roles),a.role&&a.role.length>0&&("admin"===a.role||"superAdmin"===a.role?(localStorage.setItem("isAdmin",!0),h(!0)):(localStorage.setItem("isAdmin",!1),h(!1))),localStorage.setItem("isauthenticated",!0),r(!0),n({state:!0,response:t})):(localStorage.setItem("isauthenticated",!1),r(!1),alert("Su cuenta no est\xe1 habilitada, debe confirmarla."),n({state:!1}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),localStorage.setItem("isauthenticated",!1),alert("Error de autenticaci\xf3n: "+e),r(!1)}))}))},login:function(e,t){return new Promise((function(n){Z(e,t).then(function(){var e=Object(G.a)(Y.a.mark((function e(t){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,d(a),localStorage.setItem("user",JSON.stringify(a)),t.data.enabled?(O(a.roles),a.role&&a.role.length>0&&("admin"===a.role||"superAdmin"===a.role?(localStorage.setItem("isAdmin",!0),h(!0)):(localStorage.setItem("isAdmin",!1),h(!1))),localStorage.setItem("isauthenticated",!0),r(!0),n({state:!0,response:t})):(localStorage.setItem("isauthenticated",!1),r(!1),alert("Su cuenta no est\xe1 habilitada, debe confirmarla."),n({state:!1}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){localStorage.setItem("isauthenticated",!1),alert("Error de autenticaci\xf3n: "+e),r(!1)}))}))},logout:function(){confirm("Confirme salida de la aplicaci\xf3n. Para volver a iniciar sesi\xf3n requiere contar con internet para validar las credenciales.")&&(window.localStorage.clear(),window.location.reload(),r(!1))}};return Object(Bt.jsxs)(Bt.Fragment,{children:[Object(Bt.jsx)(Ri.Provider,Object(pt.a)({value:ne},e)),Object(Bt.jsx)(Ci,{openSign:X,styleModal:k,setRefCanvasFunction:function(e){q(e)},getImage:function(){ee({sign:Q.toDataURL()},l._id).then(Object(G.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=l).sign=Q.toDataURL(),d(t),$(t),localStorage.setItem("user",JSON.stringify(t)),K(!1),alert("Muchas gracias. Su firma ha sido actualizada.");case 7:case"end":return e.stop()}}),e)}))))},clear:function(){Q.clear()}})]})},Mi=function(){return Object(a.useContext)(Ri)},Ei={en:n(454),es:n(455)},Ii={en:"English",es:"Espa\xf1ol"},Bi=Object(a.createContext)({userLanguage:"es",dictionary:Ei.es,languageOptions:Ii}),Ti=function(e){var t=window.localStorage.getItem("rcml-lang"),n=Object(a.useState)(t||"es"),i=Object(c.a)(n,2),r=i[0],s=i[1],o={userLanguage:r,dictionary:Ei[r],languageOptions:Ii,userLanguageChange:function(e){var t=Ii[e]?e:"es";s(t),window.localStorage.setItem("rcml-lang",t)}};return Object(Bt.jsx)(Bi.Provider,Object(pt.a)({value:o},e))},Ni=function(){return Object(a.useContext)(Bi)},zi=Object(a.createContext)(),Fi=function(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),i=n[0],r=n[1],o=Object(a.useState)(""),l=Object(c.a)(o,2),d=l[0],u=l[1],j=Object(s.useLocation)();Object(a.useEffect)((function(){var e,t=null===j||void 0===j||null===(e=j.pathname)||void 0===e?void 0:e.split("/")[1];u(t)}),[j]);var b={locationData:d,navBarOpen:i,handleNavBar:function(){return r(!i)}};return Object(Bt.jsx)(zi.Provider,Object(pt.a)({value:b},e))},Pi=function(){return Object(a.useContext)(zi)},Li=Object(a.createContext)(),Yi=function(e){var t=Object(a.useState)(!0),n=Object(c.a)(t,2),i=n[0],r=n[1];Object(a.useEffect)((function(){window.addEventListener("online",(function(){r(!0)})),window.addEventListener("offline",(function(){r(!1)}))}),[]),Object(a.useEffect)((function(){console.log("Network: ",i)}),[i]);var s={isOnline:i};return Object(Bt.jsx)(Li.Provider,Object(pt.a)({value:s},e))},Gi=function(){return Object(a.useContext)(Li)},Ui=Object(a.createContext)(),Wi=function(e){var t=Gi().isOnline,n=Mi(),i=n.admin,r=n.isSapExecutive,s=n.isShiftManager,o=n.isChiefMachinery,l=(n.roles,n.site),d=n.isOperator,u=n.isAuthenticated,j=n.userData,b=Object(a.useState)([]),h=Object(c.a)(b,2),m=h[0],g=h[1],x=Object(a.useState)([]),O=Object(c.a)(x,2),p=O[0],f=O[1],v=Object(a.useState)([]),y=Object(c.a)(v,2),w=y[0],S=y[1],C=Object(a.useState)([]),A=Object(c.a)(C,2),k=A[0],R=A[1],D=Object(a.useState)([]),M=Object(c.a)(D,2),E=M[0],I=M[1],B=Object(a.useState)([]),T=Object(c.a)(B,2),N=T[0],z=T[1],F=Object(a.useState)(!1),P=Object(c.a)(F,2),L=P[0],U=P[1],W=Object(a.useState)([]),Z=Object(c.a)(W,2),H=Z[0],Q=Z[1],q=Object(a.useState)([]),J=Object(c.a)(q,2),V=J[0],X=J[1],K=Object(a.useState)("Descargando reportes"),_=Object(c.a)(K,2),$=_[0],ee=_[1],te=Object(a.useState)(!1),ne=Object(c.a)(te,2),ae=ne[0],ie=ne[1],re=Object(a.useState)(!0),ce=Object(c.a)(re,2),se=ce[0],le=ce[1];Object(a.useEffect)((function(){(H||V)&&ee("")}),[H,V]),Object(a.useEffect)((function(){t&&j&&me()}),[j,t]);var be=function(e){console.log(e),Ce()},he=function(e){console.log(e),Ce()},me=function(){var e=Object(G.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rt(j,he),kt(j,be);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){m.length>0?(console.log("Guardando reporte"),console.log(se),se?(ye(),le(!1)):I(N)):u&&(console.log("Guardando reporte"),ee("Descargando recursos"),fe(),f([]))}),[m,u]),Object(a.useEffect)((function(){t||le(!0)}),[t]),Object(a.useEffect)((function(){E.length>0&&(ee("Guardando pautas"),pe())}),[E]);var ge=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n,a,i,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee("Guardando reportes"),n=Object(Qn.a)(m),e.next=4,oe(t);case 4:a=e.sent,console.log(a),i=a.data,r=n.find((function(e,t){if(e._id===i._id)return t})),n[r]=i,g(n),console.log("reporte asignado"),alert("reporte asignado"),U(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n,a,i,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee("Guardando reportes"),n=Object(Qn.a)(m),e.next=4,oe(t);case 4:a=e.sent,console.log(a),i=a.data,r=n.find((function(e,t){if(e._id===i._id)return t})),n[r]=i,g(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.initDbPMs();case 2:t=e.sent,n=t.database,E.forEach(function(){var e=Object(G.a)(Y.a.mark((function e(t,a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.actualizar(t,n);case 2:a===E.length-1&&(ee(""),ve());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee("Descargando recursos"),e.next=3,He();case 3:return t=e.sent,n=t.database,e.next=7,Je(n);case 7:(a=e.sent).length>0?g(a):ee("");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(G.a)(Y.a.mark((function e(){var n,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee("Guardando datos en navegador"),console.log("init!!!!"),e.next=4,Ve();case 4:return n=e.sent,a=n.database,e.next=8,Pe.initDbPMs();case 8:i=e.sent,m.forEach(function(){var e=Object(G.a)(Y.a.mark((function e(n,r){var c,s,o,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d||!t){e.next=18;break}return ee("Guardando pauta de OT "+n.idIndex),e.next=4,Pe.consultar(i.database);case 4:return c=e.sent,s=c.filter((function(e){if(e.typepm===n.guide&&n.idPm===e.idpm)return e})),e.next=8,s[0].struct.reduce((function(e,t){return e[t.strpmdesc]=[].concat(Object(Qn.a)(e[t.strpmdesc]||[]),[t]),e}),{});case 8:return o=e.sent,l={reportId:n._id,createdBy:j._id,group:o,offLineGuard:null},e.next=12,xe(l);case 12:return e.next=14,Xe(l,a);case 14:if(n.dateInit){e.next=18;break}return n.dateInit=new Date,e.next=18,oe(n);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(ee("Guardando asignaciones"),E.length>0&&p.length>0)if(s){var e=[],t=[];p.forEach((function(n,a){"Pauta de Inspecci\xf3n"===n.guide?n._guide="PI":n._guide=n.guide,1===n.level?(n.isPrioritary=!0,e.push(n)):(n.isPrioritary=!1,t.push(n))})),Q(e),X(t)}else if(o){var n=[],a=[];p.forEach((function(e,t){"Pauta de Inspecci\xf3n"===e.guide?e._guide="PI":e._guide=e.guide,2===e.level?(e.isPrioritary=!0,n.push(e)):(e.isPrioritary=!1,a.push(e))})),Q(n),X(a)}else(d||i||r)&&(p.forEach((function(e,t){"Pauta de Inspecci\xf3n"===e.guide?e._guide="PI":e._guide=e.guide})),X(p));we()}),[p,E]),Object(a.useEffect)((function(){u&&l&&(ee("Descargando reportes"),(i||d||r||s||o)&&j&&Ce())}),[i,d,r,s,o,t,u,l,j]);var ye=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee("Descargando pautas"),e.next=3,Pe.initDbPMs();case 3:return t=e.sent,n=t.database,e.next=7,Pe.consultar(n);case 7:if(a=e.sent,console.log(a),!(a.length>0)){e.next=14;break}I(a),z(a),e.next=20;break;case 14:return e.next=16,De();case 16:i=e.sent,console.log("Pautas: ",i.data),I(i.data),z(i.data);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee("Actualizando OTs"),e.next=3,He();case 3:return t=e.sent,n=t.database,p.forEach(function(){var e=Object(G.a)(Y.a.mark((function e(t,a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=8,Je(n);case 8:e.sent.forEach(function(){var e=Object(G.a)(Y.a.mark((function e(t){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p.filter((function(e){if(t.idIndex===e.idIndex)return e})),console.log(a,t.idIndex),0!==a.length){e.next=5;break}return e.next=5,qe(t.idIndex,n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ee("Actualizando OTs"),U(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:return t=e.sent,n=t.database,e.next=6,Je(n);case 6:a=e.sent,f(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(G.a)(Y.a.mark((function e(){var n,a,c,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee("Sincronizando reportes"),ie(!0),!t||!se){e.next=41;break}if(console.log(d,j),!i){e.next=13;break}return e.next=7,de();case 7:n=e.sent,console.log(n),g(n.data),ie(!1),e.next=39;break;case 13:if(console.log(d,r,s,o),!d||r||s||o){e.next=24;break}return console.log(j._id,l.idobra),e.next=18,je(j._id,l.idobra);case 18:a=e.sent,console.log(a.data),g(a.data),ie(!1),e.next=39;break;case 24:if(!d||!(r||s||o)){e.next=32;break}return e.next=27,ue(l.idobra);case 27:c=e.sent,g(c.data),ie(!1),e.next=39;break;case 32:if(!(r||s||o)){e.next=39;break}return e.next=35,ue(l.idobra);case 35:u=e.sent,console.log("Reportes: ",u.data),g(u.data),ie(!1);case 39:e.next=43;break;case 41:Se(),ie(!1);case 43:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae={reports:m,setReports:g,assignments:p,listSelected:w,listSelectedCache:k,setListSelected:S,setListSelectedCache:R,loading:L,pautas:E,priorityAssignments:H,normalAssignments:V,saveReport:ge,saveReportToData:Oe,getReports:Ce,getReportsOffline:function(){Se()},message:$,setMessage:ee,statusReports:ae,setStatusReports:ie};return Object(Bt.jsx)(Bt.Fragment,{children:Object(Bt.jsx)(Ui.Provider,Object(pt.a)({value:Ae},e))})},Zi=function(){return Object(a.useContext)(Ui)},Hi=Object(a.createContext)(),Qi=function(e){var t=Mi(),n=t.isOperator,i=(t.admin,t.isSapExecutive,t.isShiftManager,t.isChiefMachinery,Gi().isOnline),r=Object(a.useContext)(Ui),s=r.reports,o=r.setMessage,l=(r.pautas,Object(a.useState)()),d=Object(c.a)(l,2),u=d[0],j=d[1],b=Object(a.useState)(),h=Object(c.a)(b,2),m=h[0],g=h[1],x=Object(a.useState)(),O=Object(c.a)(x,2),p=O[0],f=O[1],v=Object(a.useState)(),y=Object(c.a)(v,2),w=y[0],S=y[1],C=Object(a.useState)(),A=Object(c.a)(C,2),k=A[0],R=A[1],D=Object(a.useState)(),M=Object(c.a)(D,2),E=M[0],I=M[1],B=Object(a.useState)(!0),T=Object(c.a)(B,2),N=T[0],z=T[1],F=Object(a.useState)(0),P=Object(c.a)(F,2),L=P[0],U=P[1],W=Object(a.useState)(0),Z=Object(c.a)(W,2),H=Z[0],Q=Z[1],q=Object(a.useState)(!1),J=Object(c.a)(q,2),V=J[0],X=J[1],K=Object(a.useState)(""),_=Object(c.a)(K,2),$=(_[0],_[1]),ee=Object(a.useState)(!0),te=Object(c.a)(ee,2),ne=te[0],ae=te[1],ie=Object(Nn.useLocation)();Object(a.useEffect)((function(){ie.pathname.includes("assignment/")||(ae(!0),g(void 0),j(void 0))}),[ie]),Object(a.useEffect)((function(){m&&re()}),[m]);var re=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve();case 2:return t=e.sent,n=t.database,e.next=6,Xe(m,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){void 0!==u&&(f(u._id),S(u.idIndex),R(u.sapId),I(u.machine),z(u.testMode),o("Buscando Pauta"),se()),!u&&w&&ce()}),[u,w]);var ce=function(){var e=s.filter((function(e){if(e.idIndex===Number(w))return e}));j(e[0])},se=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,a,r,c,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(void 0),n||!i){e.next=11;break}return e.next=4,ge(u);case 4:t=e.sent,console.log(t.data),t.data._id?g(t.data):(o("OT no iniciado"),ae(!1)),X(!1),setTimeout((function(){o("")}),500),e.next=21;break;case 11:if(!n||!i){e.next=21;break}return e.next=14,Ve();case 14:return a=e.sent,r=a.database,e.next=18,Ke(r);case 18:c=e.sent,(s=c.filter((function(e){if(e.reportId===u._id)return e}))).length>0?g(s[0]):setTimeout((function(){o("")}),1e3);case 21:o("");case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe={report:u,setReport:j,executionReport:m,setExecutionReport:g,reportId:p,sapId:k,serieEquipo:E,modoTest:N,avanceHoja:L,avanceTotal:H,otIndex:w,setAvanceHoja:U,setAvanceTotal:Q,loading:V,setLoading:X,setOtIndex:S,setLoadingMessage:$,reporteIniciado:ne};return Object(Bt.jsx)(Bt.Fragment,{children:Object(Bt.jsx)(Hi.Provider,Object(pt.a)({value:oe},e))})},qi=function(){return Object(a.useContext)(Hi)},Ji=Object(a.createContext)(),Vi=function(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(!1),o=Object(c.a)(s,2),l=o[0],d=o[1],u={rut:"",name:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",sites:"",obras:[],roles:[],isTest:!1},j=Object(Nn.useLocation)(),b=Object(a.useState)({rut:"",name:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",sites:"",obras:[],roles:[],isTest:!1}),h=Object(c.a)(b,2),m=h[0],g=h[1];Object(a.useEffect)((function(){"/new-users"===j.pathname||g(u)}),[j]),Object(a.useEffect)((function(){if(l){var e=[];console.log(i),i.forEach((function(t){t.selected&&e.push(t.dbName)})),g(Object(pt.a)(Object(pt.a)({},m),{},{roles:e})),d(!1)}}),[l]);var x={userData:m,setUserData:g,rolesListSelectionCache:i,setRolesListSelectionCache:r,setChangeModule:d};return Object(Bt.jsx)(Ji.Provider,Object(pt.a)({value:x},e))},Xi=Object(a.createContext)(),Ki=function(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(""),o=Object(c.a)(s,2),l=o[0],d=o[1];Object(a.useEffect)((function(){r(z(Date.now()));var e=setInterval((function(){d(function(e){var t,n=new Date(e).getMinutes(),a=new Date(e).getHours();return t=n<10?"0"+n:n,"".concat(a<10?"0"+a:a,":").concat(t)}(Date.now()))}),100);return function(){return clearInterval(e)}}),[]);var u={date:i,hour:l};return Object(Bt.jsx)(Xi.Provider,Object(pt.a)({value:u},e))},_i=function(){return Object(a.useContext)(Xi)},$i=Object(a.createContext)(),er=function(e){var t=Mi(),n=t.isAuthenticated,i=t.site,r=t.admin,s=Object(a.useState)([]),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)([]),j=Object(c.a)(u,2),b=j[0],h=j[1],m=Object(a.useState)(),g=Object(c.a)(m,2),x=g[0],O=g[1],p=Gi().isOnline;Object(a.useEffect)((function(){n&&(p?w():(console.log("Machines offline"),y()))}),[n,p]),Object(a.useEffect)((function(){l.length>0&&(p?i&&f():v())}),[l,p,i]);var f=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||r){e.next=4;break}return e.next=3,X(i.idobra);case 3:t=e.sent;case 4:if(!r){e.next=8;break}return e.next=7,V();case 7:t=e.sent;case 8:return e.next=10,Ze.initDbMachines();case 10:n=e.sent,a=n.database,t.data.forEach(function(){var e=Object(G.a)(Y.a.mark((function e(t,n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=n,e.next=3,Ze.actualizar(t,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h(t.data);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze.initDbMachines();case 2:return t=e.sent,n=t.database,e.next=6,Ze.consultar(n);case 6:a=e.sent,h(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.initDbMachines();case 2:return t=e.sent,n=t.database,e.next=6,ze.consultar(n);case 6:a=e.sent,d(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return t=e.sent,e.next=5,ze.initDbMachines();case 5:n=e.sent,a=n.database,(i=Object(Qn.a)(t.data)).forEach(function(){var e=Object(G.a)(Y.a.mark((function e(t,n){var i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.id=n,(i=new XMLHttpRequest).onload=Object(G.a)(Y.a.mark((function e(){var r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FileReader).onload=Object(G.a)(Y.a.mark((function e(){var i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={id:n,data:r.result.replace("data:","")},t.image=i,e.next=4,ze.actualizar(t,a);case 4:case"end":return e.stop()}}),e)}))),r.readAsDataURL(i.response);case 3:case"end":return e.stop()}}),e)}))),i.open("GET","/assets/".concat(t.model,".png")),i.responseType="blob",i.send();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(i);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S={setMachines:d,machines:l,machinesBySite:b,machineSelected:x,setMachineSelected:O};return Object(Bt.jsx)($i.Provider,Object(pt.a)({value:S},e))},tr=function(){return Object(a.useContext)($i)},nr=Object(a.createContext)(),ar=function(e){var t=Mi(),n=t.isAuthenticated,i=t.admin,r=t.userData,s=t.site,o=Object(a.useState)([]),l=Object(c.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)([]),b=Object(c.a)(j,2),h=b[0],m=b[1],g=Object(a.useState)([]),x=Object(c.a)(g,2),O=x[0],p=x[1],f=Object(a.useState)([]),v=Object(c.a)(f,2),y=v[0],w=v[1];Object(a.useEffect)((function(){n&&S()}),[n]),Object(a.useEffect)((function(){if(!i&&d.length>0&&s){var e=d.filter((function(e){if(e.obras[0]&&e.obras[0].idobra===s.idobra)return e}));m(e)}}),[d,s]),Object(a.useEffect)((function(){var e=[],t=[];(i&&d.length>0||h.length>0)&&((i?d:h).forEach((function(n){n.roles.forEach((function(a){"inspectionWorker"===a&&e.push(n),"maintenceOperator"===a&&t.push(n)}))})),p(e),w(t))}),[h,i,d]);var S=function(){var e=Object(G.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(i,r.isTest);case 2:t=e.sent,u(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C={users:d,setUsers:u,getUsers:S,usersFilteredBySite:h,inspectors:O,maitenances:y};return Object(Bt.jsx)(nr.Provider,Object(pt.a)({value:C},e))},ir=function(){return Object(a.useContext)(nr)},rr=Object(a.createContext)(),cr=function(e){var t=Mi().isAuthenticated,n=Gi().isOnline,i=Object(a.useState)([]),r=Object(c.a)(i,2),s=r[0],o=r[1],l=Object(a.useState)(),d=Object(c.a)(l,2),u=d[0],j=d[1];Object(a.useEffect)((function(){t&&(n?b():h())}),[t]);var b=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee();case 2:return t=e.sent,e.next=5,Ye.initDbObras();case 5:n=e.sent,a=n.database,t.data.data.forEach(function(){var e=Object(G.a)(Y.a.mark((function e(t,n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=n,e.next=3,Ye.actualizar(t,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),o(t.data.data);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(G.a)(Y.a.mark((function e(){var t,n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.initDbObras();case 2:return t=e.sent,n=t.database,e.next=6,Ye.consultar(n);case 6:a=e.sent,o(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m={sites:s,siteSelected:u,setSiteSelected:j};return Object(Bt.jsx)(rr.Provider,Object(pt.a)({value:m},e))},sr=function(){return Object(a.useContext)(rr)},or=Object(b.a)((function(e){var t=e.networkError;null===t||void 0===t||t.statusCode})),lr=m()({uri:"/graphql",credentials:"include"}),dr=l.ApolloLink.from([or,lr]),ur=new d.a({link:dr,cache:new u.a}),jr=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(0),o=Object(c.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)(""),j=Object(c.a)(u,2),b=j[0],h=j[1],m=Mi(),p=m.userData,f=m.loading,v=m.admin,y=m.isOperator,w=m.isSapExecutive,S=m.isShiftManager,C=m.isChiefMachinery,A=m.isAuthenticated,k=function(){R()},R=function(){console.log("Iniciado 3D"),D()};Object(a.useEffect)((function(){console.log(A),A&&Dt(p)}),[A]);var D=function(){i(!0),localStorage.setItem("isLoading3D","ok"),gt(d,i,h,null)};return Object(Bt.jsxs)("div",{style:{fontFamily:"Roboto"},children:[A&&Object(Bt.jsxs)(s.Route,{path:["/"],children:[A&&!f&&Object(Bt.jsx)(Fn,{})," ",A&&!f&&Object(Bt.jsx)(Cn,{})]}),Object(Bt.jsxs)(s.Switch,{children:[!A&&Object(Bt.jsx)(s.Route,{exact:!0,path:["/reset-password"],render:function(){return Object(Bt.jsx)(Pa,{})}}),!A&&Object(Bt.jsx)(s.Route,{exact:!0,path:["/restore-password/:id"],render:function(){return Object(Bt.jsx)(La,{})}}),!A&&Object(Bt.jsx)(s.Route,{path:["/"],render:function(){return Object(Bt.jsx)(Ia,{})}}),f&&Object(Bt.jsx)(s.Route,{path:["/"],render:function(){return Object(Bt.jsx)(Da,{})}}),Object(Bt.jsx)(s.Route,{exact:!0,path:["/","/welcome"],render:function(){return Object(Bt.jsx)(za,{readyToLoad:k})}}),(v||"superAdmin"===localStorage.getItem("role")||w)&&Object(Bt.jsx)(s.Route,{path:["/internal-messages"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/internal-messages",children:Object(Bt.jsx)(hi,{route:"internal-messages"})})})}),Object(Bt.jsx)(s.Route,{path:["/reports"],children:Object(Bt.jsxs)(s.Switch,{children:[Object(Bt.jsx)(s.Route,{exact:!0,path:"/reports",children:Object(Bt.jsx)(Ha,{route:"reports"})}),Object(Bt.jsx)(s.Route,{exact:!0,path:"/reports/create-report",children:Object(Bt.jsx)(qa,{route:"reports"})}),Object(Bt.jsx)(s.Route,{exact:!0,path:"/reports/edit-report/:id",children:Object(Bt.jsx)(qa,{route:"reports"})})]})}),Object(Bt.jsx)(s.Route,{path:["/alerts"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/alerts",children:Object(Bt.jsx)(Ja,{route:"alerts"})})})}),Object(Bt.jsx)(s.Route,{path:["/user-profile"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/user-profile",children:Object(Bt.jsx)(ni,{route:"user-profile"})})})}),Object(Bt.jsx)(s.Route,{path:["/info"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/info",children:Object(Bt.jsx)(Va,{route:"info"})})})}),Object(Bt.jsx)(s.Route,{path:["/machines"],children:Object(Bt.jsxs)(s.Switch,{children:[Object(Bt.jsx)(s.Route,{exact:!0,path:"/machines",children:Object(Bt.jsx)(ka,{route:"machines"})}),Object(Bt.jsx)(s.Route,{exact:!0,path:"/machines/:id",children:Object(Bt.jsx)(Ma,{route:"machines"})}),Object(Bt.jsx)(s.Route,{exact:!0,path:"/machines/machine-detail/:id",children:Object(Bt.jsx)(wa,{route:"machines/machine-detail"})})]})}),!y&&Object(Bt.jsx)(s.Route,{path:["/maintenance"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/maintenance",children:Object(Bt.jsx)(si,{route:"maintenance"})})})}),(w||v||"superAdmin"===localStorage.getItem("role"))&&Object(Bt.jsx)(s.Route,{path:["/sites"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/sites",children:Object(Bt.jsx)(Ka,{route:"sites"})})})}),!w&&Object(Bt.jsx)(s.Route,{path:["/sites"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/sites",children:Object(Bt.jsx)(si,{route:"sites"})})})}),Object(Bt.jsx)(s.Route,{path:["/maintance"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/maintance",children:Object(Bt.jsx)(Ya,{route:"maintance"})})})}),Object(Bt.jsx)(s.Route,{path:["/configuration"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/configuration",children:Object(Bt.jsx)(Xa,{route:"configuration"})})})}),Object(Bt.jsx)(s.Route,{path:["/options"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/options",children:Object(Bt.jsx)(gi,{route:"options"})})})}),Object(Bt.jsx)(s.Route,{path:["/pauta-detail"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/pauta-detail/:id",children:Object(Bt.jsx)(ci,{route:"pauta-detail"})})})}),Object(Bt.jsx)(s.Route,{path:["/administration"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/administration",children:v?Object(Bt.jsx)(_a,{route:"administration"}):Object(Bt.jsx)(si,{route:"administration"})})})}),(w||v||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Bt.jsx)(s.Route,{path:["/users"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/users",children:Object(Bt.jsx)($a,{route:"users"})})})}),(y||S||C||"admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&Object(Bt.jsx)(s.Route,{path:["/users"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/users",children:Object(Bt.jsx)(si,{route:"users"})})})}),(w||v||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Bt.jsx)(s.Route,{path:["/new-users"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/new-users",children:Object(Bt.jsx)(ti,{route:"new-users"})})})}),(y||S||C||"admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&Object(Bt.jsx)(s.Route,{path:["/new-users"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/new-users",children:Object(Bt.jsx)(si,{route:"new-users"})})})}),(v||"superAdmin"===localStorage.getItem("role"))&&Object(Bt.jsx)(s.Route,{path:["/roles"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/roles",children:Object(Bt.jsx)(ai,{route:"roles"})})})}),Object(Bt.jsx)(s.Route,{path:["/patterns"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/patterns",children:Object(Bt.jsx)(ri,{route:"roles"})})})}),Object(Bt.jsx)(s.Route,{path:["/edit-user"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/edit-user/:id",children:Object(Bt.jsx)(ti,{route:"edit-user"})})})}),Object(Bt.jsxs)(s.Route,{path:["/assignment"],children:[Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{path:"/assignment/:id",children:Object(Bt.jsx)(bi,{route:"assignment"})})}),Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/assignment",children:Object(Bt.jsx)(di,{route:"assignment"})})})]}),Object(Bt.jsx)(s.Route,{path:["/notifications"],children:Object(Bt.jsx)(s.Switch,{children:Object(Bt.jsx)(s.Route,{exact:!0,path:"/notifications",children:Object(Bt.jsx)(mi,{route:"notifications"})})})})]}),navigator.onLine&&n&&Object(Bt.jsxs)("div",{style:{position:"absolute",bottom:20,right:20,width:300,paddingTop:50,paddingBottom:40,paddingLeft:20,paddingRight:20,borderRadius:20,backgroundColor:"#fff",borderColor:"#ccc",borderWidth:1,borderStyle:"solid",textAlign:"center",zIndex:2},children:[Object(Bt.jsx)(g.a,{style:{position:"absolute",top:10,right:10},onClick:function(){confirm("Confirme cierre de carga de elementos 3D. Posiblemente no pueda verlos. Para volver a cargarlos vuelva a iniciar sesi\xf3n.")&&i(!1)},children:Object(Bt.jsx)(St.a,{})}),!b&&Object(Bt.jsx)(x.a,{color:"primary"}),!b&&Object(Bt.jsx)("p",{style:{margin:0,marginTop:10},children:"Cargando datos..."}),b&&Object(Bt.jsx)(O.a,{variant:"determinate",value:l}),b&&Object(Bt.jsx)("p",{style:{margin:0,marginTop:10},children:b})]})]})},br=function(){return Object(Bt.jsxs)(o.a,{children:[Object(Bt.jsx)(yn.Notifications,{}),Object(Bt.jsx)(j.a,{client:ur,children:Object(Bt.jsx)(Yi,{children:Object(Bt.jsx)(Di,{children:Object(Bt.jsx)(Ta,{children:Object(Bt.jsx)(cr,{children:Object(Bt.jsx)(Ti,{children:Object(Bt.jsx)(Fi,{children:Object(Bt.jsx)(ar,{children:Object(Bt.jsx)(Wi,{children:Object(Bt.jsx)(Qi,{children:Object(Bt.jsx)(Vi,{children:Object(Bt.jsx)(Ki,{children:Object(Bt.jsx)(er,{children:Object(Bt.jsxs)(p.a,{theme:C,children:[Object(Bt.jsx)(f.a,{}),Object(Bt.jsx)(jr,{})]})})})})})})})})})})})})})})]})},hr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function mr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var gr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,683)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};r.a.render(Object(Bt.jsx)(br,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");hr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):mr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):mr(t,e)}))}}({onUpdate:function(e){var t=e.waiting;t&&(t.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.location.reload()})),t.postMessage({type:"SKIP_WAITING"}))}}),gr()}},[[591,1,2]]]);
//# sourceMappingURL=main.7341e0ec.chunk.js.map