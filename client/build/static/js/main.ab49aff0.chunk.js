(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{173:function(e){e.exports=JSON.parse('{"login":{"emailField":"E-mail","passwordField":"Password","loginButton":"Login","forgotPasswordText":"Forgot password.","forgotPasswordLink":"Click here."},"welcome":{"inspectionButton":"Inspection","maintenanceButton":"Maintenance","reportsButton":"Reports","configurationButton":"Configuration"},"machines":{"title":"Select machine type"},"location":{"start":"Start","inspection":"Inspection","maintenance":"Maintenance","reports":"Reports","configuration":"Configuration"},"components":{"fields":{"filter":"Search"}}}')},174:function(e){e.exports=JSON.parse('{"login":{"emailField":"E-mail","passwordField":"Contrase\xf1a","loginButton":"Ingresar","forgotPasswordText":"Olvid\xe9 mi contrase\xf1a.","forgotPasswordLink":"Click aqu\xed."},"welcome":{"inspectionButton":"Inspecci\xf3n","maintenanceButton":"Mantenci\xf3n","reportsButton":"Reportes","configurationButton":"Configuraci\xf3n","administrationButton":"Administraci\xf3n"},"admin":{"adminUsersButton":"Usuarios"},"machines":{"title":"Selecciona tipo de m\xe1quina"},"location":{"start":"Inicio","inspection":"Inspecci\xf3n","maintenance":"Mantenci\xf3n","reports":"Reportes","configuration":"Configuraci\xf3n"},"components":{"fields":{"filter":"Buscar"}}}')},200:function(e,t,n){},203:function(e,t,n){},262:function(e,t,n){"use strict";n.r(t);var i,a=n(1),r=n.n(a),c=n(24),s=n.n(c),o=(n(200),n(5)),l=n(27),d=n(17),j=n(107),u=n(129),b=n(264),h=n(261),O=n(178),g=n(328),x=n.n(g),p=n(332),f=n(330),m=n(331),v=n(35),y=n(181),w=n(305),S=n(171),C=(n.p,Object(y.a)({palette:{background:{default:"#fff"},primary:{light:"#DE0000",main:"#920000",dark:"#780000"}},overrides:{MuiCssBaseline:{"@global":{body:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"center",backgroundAttachment:"fixed","& ::-webkit-scrollbar":{width:"0.4em"},"& ::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"& ::-webkit-scrollbar-thumb":{borderRadius:10,backgroundColor:"rgb(160,160,160)"}}}},MuiOutlinedInput:{root:{borderRadius:20},input:{padding:10}},MuiInputLabel:{outlined:{transform:"translate(14px, 12px) scale(1)"}},MuiButton:{root:{paddingLeft:30,paddingRight:30}},MuiListItemIcon:{root:{justifyContent:"center"}}}},S.esES)),k=Object(w.a)((function(e){return{pageRoot:{fontFamily:"Raleway"},pageContainer:Object(v.a)({},e.breakpoints.down("sm"),{padding:10}),pageCard:{marginLeft:99,fontFamily:"Raleway",borderRadius:0,boxShadow:"none",padding:20,overflowY:"auto"},pageTitle:{padding:"40px 0px",textAlign:"center",textTransform:"uppercase",fontSize:"1.5rem",color:e.palette.primary.main},backDrop:{zIndex:e.zIndex.drawer-1,marginTop:90,color:"#fff"},noNavBarMargin:{marginLeft:0}}})),D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},R=function(e){return"superAdmin"===e?"Super Administrador":"sapExecutive"===e?"Ejecutivo SAP":"inspectionWorker"===e?"Operario de Inspecci\xf3n":"maintenceOperator"===e?"Operario de Mantenci\xf3n":"shiftManager"===e?"Jefe de turno - Inspecci\xf3n y Mantenci\xf3n":"chiefMachinery"===e?"Jefe de maquinaria":void 0},N={storageURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL_STORAGE||"https://icvmantencion.blob.core.windows.net/plataforma-mantencion/",version:"Beta 2.2"},I=N,A=(n(203),n(48)),B=n(336),M=n(74),T=n(76),E=Object(T.a)(i||(i=Object(M.a)(["\n    query Users {\n        self {\n            _id\n            email\n            name\n            lastName\n            fullName\n            enabled\n        }\n    }\n"]))),z={query:{GET_SELF:E}},L=n(22),F=n.n(L),P=function(e,t){var n={user:{email:e,password:t}};return F.a.post("/auth/login",n)},U=function(){return F.a.get("/machines/getMachinesOfProject")},W=function(e,t){var n={idobra:e,model:t};return F.a.post("/machines/getAllMachinesByModel",n)},Z=function(){return F.a.get("icv/getSites")},Y=function(){return F.a.get("/roles/getRoles")},G=function(){return F.a.get("/permisos/getPermisos")},J=function(e){var t={id:e};return F.a.post("/permisos/getPermisosByUser",t)},Q=function(e,t){var n={userData:e,password:t};return F.a.post("/users/createUser",n)},V=function(e){var t={userData:e};return F.a.post("/users/editUser",t)},H=function(){return F.a.get("/users/getUsers")},X=function(e){var t={id:e};return F.a.post("/users/getUser",t)},q=function(e){var t={id:e};return F.a.post("/users/deleteUser",t)},K=function(e){var t={report:e};return F.a.post("/reports/createReport",t)},_=function(){return F.a.get("/reports/getAllReports")},$=function(e,t){var n={state:e,reportType:t};return F.a.post("/reports/getReportByState",n)},ee=n(0),te=Object(a.createContext)(),ne=function(e){var t=Boolean(window.localStorage.getItem("isauthenticated")),n=Object(a.useState)(t||!1),i=Object(o.a)(n,2),r=i[0],c=i[1],s=Object(B.a)(z.query.GET_SELF),l=Object(o.a)(s,2),d=l[0],j=l[1],u=j.loading,b=j.error,h=j.data,O=Object(a.useState)({}),g=Object(o.a)(O,2),x=g[0],p=g[1];Object(a.useEffect)((function(){(null===h||void 0===h?void 0:h.self)&&p(h.self)}),[h]),Object(a.useEffect)((function(){b&&(c(!1),window.localStorage.setItem("isauthenticated",!1))}),[b]),Object(a.useEffect)((function(){d()}),[]);var f={userData:x,isAuthenticated:r,loading:u,error:b,login:function(e,t){return new Promise((function(n){P(e,t).then((function(e){console.log(e);var t=e.data;e.data.enabled?(localStorage.setItem("email",t.email),localStorage.setItem("fullName",t.fullName),localStorage.setItem("name",t.name),localStorage.setItem("lastName",t.lastName),localStorage.setItem("_id",t._id),localStorage.setItem("role",t.role),t.sites&&localStorage.setItem("sitio",t.sites),localStorage.setItem("isauthenticated",!0),c(!0),n({state:!0,response:e})):(c(!1),alert("Su cuenta no est\xe1 habilitada, debe confirmarla."),n({state:!1}))})).catch((function(e){alert("Error de autenticaci\xf3n: "+e),console.log(e),c(!1),localStorage.setItem("isauthenticated",!1)}))}))}};return Object(ee.jsx)(te.Provider,Object(A.a)({value:f},e))},ie=function(){return Object(a.useContext)(te)},ae=n(173),re=n(174),ce={en:ae,es:re},se={en:"English",es:"Espa\xf1ol"},oe=Object(a.createContext)({userLanguage:"es",dictionary:ce.es,languageOptions:se}),le=function(e){var t=window.localStorage.getItem("rcml-lang"),n=Object(a.useState)(t||"es"),i=Object(o.a)(n,2),r=i[0],c=i[1],s={userLanguage:r,dictionary:ce[r],languageOptions:se,userLanguageChange:function(e){var t=se[e]?e:"es";c(t),window.localStorage.setItem("rcml-lang",t)}};return Object(ee.jsx)(oe.Provider,Object(A.a)({value:s},e))},de=function(){return Object(a.useContext)(oe)},je=Object(a.createContext)(),ue=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(""),s=Object(o.a)(c,2),d=s[0],j=s[1],u=Object(l.g)();Object(a.useEffect)((function(){var e,t=null===u||void 0===u||null===(e=u.pathname)||void 0===e?void 0:e.split("/")[1];j(t)}),[u]);var b={locationData:d,navBarOpen:i,handleNavBar:function(){return r(!i)}};return Object(ee.jsx)(je.Provider,Object(A.a)({value:b},e))},be=function(){return Object(a.useContext)(je)},he=n(307),Oe=n(309),ge=n(310),xe=n(13),pe=n(14),fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAABpCAYAAADoScsPAAABVWlDQ1BEaXNwbGF5IFAzAAAoz2NgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGgkwMjB8uwYiGRgu64LMOiU1tUm1XsDXYqbw1YuvRJsY8AOulNTiZCD9B4hTkwuKSoBGpgDZyuUlBSB2B5AtUgR0FJA9B8ROh7A3gNhJEPYRsJqQIGcg+waQrZCckQg0g/EHkK2ThCSejsSG2gsC3C6ZxQU5iZUKAcYMVAclqRUlINo5v6CyKDM9o0TBERhKqQqeecl6OgpGBobmDAygMIeo/hwIDktGsTMIseb7DAy2+////78bIea1n4FhI1An106EmIYFA4MgNwPDiZ0FiUWJYCFmIGZKS2Ng+LScgYE3koFB+AJQT3RxmrERJPZ4nBgYWO/9//9ZjYGBfTIDw98J////XvT//9/FQM13GBgO5AEAFwJl7w8EHeAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAnOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5MzM4Y2ZlLWEyODctNDk2MC1iODcyLTk5YWY2YWRjYzYwYSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjJkZTFlNjU4LTg3NDEtYmY0YS05NzYyLTVlZjMxNzAxM2Q3YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyMjhiZDNiLWViZDEtNDM3Ny04N2UxLTkwNDMxNmNjZmIwOSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRpc3BsYXkgUDMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI4YmQzYi1lYmQxLTQzNzctODdlMS05MDQzMTZjY2ZiMDkiIHN0RXZ0OndoZW49IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTkzMzhjZmUtYTI4Ny00OTYwLWI4NzItOTlhZjZhZGNjNjBhIiBzdEV2dDp3aGVuPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjAwNjQ2MkNDRjBEN0QxMUI4RkYyRTQxQTc0NjAyQzRGPC9yZGY6bGk+IDxyZGY6bGk+MUMwODU5NjM2MTVEOTlDOEY4MDlEOEQ2MzEwNjk2MTI8L3JkZjpsaT4gPHJkZjpsaT4xQzYxNjVFODQwNTlBRjBCQUNFQzcwMUNFRUE4ODUzODwvcmRmOmxpPiA8cmRmOmxpPjU3NjEzM0IwMTc1ODM0QTM5OTRBQTA4RjYxRUJCQzE2PC9yZGY6bGk+IDxyZGY6bGk+NUZCQzczNEJBQzk2MzYxMDI0NzFDMkMxRDQzRkNENUU8L3JkZjpsaT4gPHJkZjpsaT44NEJFRkM1N0VDRjBBMkQ2MTFCRTM4QjIyODU0NDFFQjwvcmRmOmxpPiA8cmRmOmxpPkIxQkEyNkY5RDM3QzE4MTg3RjMwMzRBQTFCQkIzNUVBPC9yZGY6bGk+IDxyZGY6bGk+Q0JDOTNCMzBEQ0YxNkU3RDgzMzYyNDdBMDAyOTU4MzM8L3JkZjpsaT4gPHJkZjpsaT5GOEVEOEI3NEZGRkVDNkRBNDExNzZGRDUyNzY5NTk1NTwvcmRmOmxpPiA8cmRmOmxpPkZFNkJEMEJBNUJFQzE5RDQ3OTE0NEMxNTJDQkJDRUYyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDowMEMyNkRBQzI0MjA2ODExOERCQkQ4MzgxN0Q4NjVFNTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NjgyNWRjMjQtY2ZhOC00ODBlLWE5MmItMmUzNDM5ZThhNWQ0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo2OUQ3QUJCNDIxMjA2ODExOEY2MkVGRUNFNjdBQ0M0MzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QTZDNzJERDQwNzIwNjgxMTk1RkVDRDVERDFDODBCMTU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkQxQjVGNTREQTFDMjExRTFBQzZEQ0JBNUM5RDJGMjAwPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDpFMUI3NzlGNzM2MjA2ODExOTEwOUQyOEQxMkM0ODBCNzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6Y2Q3YzM4MWQtM2M1Yy00ZGYxLTg2NWEtODFkZDBlOWI5NDFhPC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HBn8IgAAB6ZJREFUeNrtnX1oVlUcx+82ddOardSYgmZTwwm+la0MbZQRNSlXWFLCUMOMslWGFma4CjQEUysqNGOlYLM/XBnRaqZh2RuhEZmVurQXZUZppqbLPX1P/CZPj8+9O+c+595z77m/Ax98u297fh/Pc8/b7zipVMphGFn4Q2BYGIaFYVgYhoVhWBiGYWEYFoZhYRgWhmFhGBaGYbQL01Fqa2uvBU3gGEiBPeAp0NPhEtliRBhIMY8kycZ3oB+HhoX5D8gwwUOWDj7k0LAwHcI0SwgjGMvhYWGEMMclhZnL4WFhhDCnJYVZwOFhYYQwuySFuZ3Dw8IIYR6VkKUVnMvhYWGEMEVgm4cs4ivrFg4NC5PeD1MM6kF7hiw/gioOCwtzVk8vidMPTAY1YDwo4JCwMK7CcGFhWBgWhoXhYr5ZfbgzwvoAcK9e4HIwBTxAz1dHzAf3iVYbHaPU1P9gxCWDwIMGuVT188A5XcA0F2pMCFMn03EXoCBDSIz14GfJTsQORKtuN1gLZoD+nXz4JeA4SBlikw9hJnlc7+1ECIPr9QWPg68VBZHhUzAbnOcSgHqDwggGKwqz0eNaE60WBte5DDSAtgBEyURMBHsBDMgIwHjDwixRkKU/OO1ynRaQb6UwOH8oeCMESbJxisS5MC0QOw0KcwgUSgqz0OM6j5h66Q1MGJxXCJ4MqUbpjD/ADRSIOYZrmTslZMkH+1zOPwn6WCUMzhkJvo2AKOnUUTB604duSpgtEsJUeZy/1mSzWrswOH46OBExWc4IQwFZZ7iWKe9EmA0e515lhTA4Lg8sjaAo2YSZYFiY5R6ylII2l/N2mO640yIMjukCXg0o0KLz8KhmYfLAboPC/A6KXISZ73HerNgLQzXLGg0BFUtaXgRTqQneM+M++aAPGAfuoSkZB/0IIxGYMKjJIosQeY/L8X+Cc2wQZkUOkoiALwLlPltiQtYrwOq0RXiywnhV/WGwLYswXl+Vz0ZhLCknYfBv9/oU5QCNC3XX2IN8Psl3QkYYiZfLMBie8TyFNITRQV7UBh99C4O/rwAnFUURUz6XBbkElyaCvSkpTJVhYZ6L22i1L2HESDFoUZTlV7GGO8SR7+kZ667qXDrI9hsU5qz3EluFWa4oy3ZQGvZ8EXp5PuAmDElTZ7iWuctqYfDnMQoL4ASbTWaBEAOQYJ+HMF6DfGHwue3CNCvI8qXbVIOQpRkMZnl0lr1juJYZbaUwlEdGpSVU6sSgIGDVhoVZaaswzQqtocq4zI2lqZAHDQpzFBRbJQzNa5GtXZbHbUI1ArbIcC0zyzZhlknK8kscU50hYGWGhdlhjTDUBS87Sbs2rss2xERtw9JU2CJMhcLYUPcYCzPFsDCrbRHmCcnjljgxLjSW85tBYcQymBIbhHlP8rhhTswLArbUcC1zmw3CHJE4psWxoIjpk4ZrmAtsEEaGlx1LCoK21ZAwr9jyDiPD3RYJU2NImDFJEqbSImF6gMMhy/KFTf0wMgx0LCpiclPIwkxLmjAllgkzKuRVBN2TJox1OfHEXJWQhFlq1Wh1EmsYEmZmFNOA2CJMfwuFKaapB0HK0uT3+eIuzDjHwoKArgpYmOqkCjPDUmEqApTlJ1CQVGGedywtCOpXAQmT0y4xURbmmMQxuywW5v4AZDklluvaKswWyePKLBUmiAycDbk+V5SFWewnQ4Jl0qzRLEylzcJcLXmcWD7bxVJhdGbg/EbHM0VZmALaaEvm2GkW1zK7NAkz22phxMPh15WSwohN0ossFeZhTWuQeiZBmNF+sz1ZJIyODJwv6XqeOKx8/ERSmL/BKEulWZ+jMCOSJEy1Qi3zQxQW4qc9e54mYXLJwPmRzp8pDsKIBW2fKUizCXSLgCyluvbepsSFe30KMzVRwtCHf43ikMEGk9LQHkxi55R6jV9LfjJwtoJuiROGgqCak/d9E+utcc9BlM41pVkYkYHzH0VhFuv++eIkTC+FfpkOxN4Dw0OU5UZwKO3+9TqvDwEaFWRpBwMTKwwF5HrF1GUpSok6F3QNUJRiShCdee8GzcJMVBBmYxA/axzz9C70ORViJ7W48jWK0o12Y3Or+Ro1C1NA81lkhKliYZwz6dxfz2EOzU5K8Nw7B1EG0L5MBzq5V6PugElm4BQtqnwW5v//s5tynHzVRunQFlArrK+HoGXgZhpB36FwjyCEuYjeT7yEmRfU12+cdzPpAd7VvIuJSMq8n2qh7yn3TC77MDUGEbROMnCKYYTeLIx7TbMuwvslBSXMrR7CvBZkSzD2O7JRT/BjPlpPcRamq0cGzrEsjJw41ynuZRRbYUiaxVlk2R50X5Ntu8qW0D5GUZBF7LryUIDCDM4izEwWxp8448E2kzULGBLCtIf0DJxHctmlJNHCpIlzE9gakiTt4C1wZYjzZO5IE2ZFGPe0Wpg0cUZS131rAKLspV3ZLg57oDMjA2c5C6N/zEdMLK8UqVrBxzRLT1WQv2h7nQWUSzjPMVggyjNgc1j3MyHMUBrT8SSk0eVCMZpN95xDPbkraPfYevr90zSUMEm8l+gci9IkzDAw2VphmGTCHwLDwjAsDMPCMCwMw8IwDAvDsDAMC8OwMAwLw7AwDOPGv3Wb5ZG6WpljAAAAAElFTkSuQmCC",me=Object(w.a)((function(e){return{appbar:{height:90,backgroundColor:"#fff",borderBottomRightRadius:30,color:"#000"},toolbar:{height:90},locationIcon:{height:60,width:100,display:"flex",alignItems:"center",justifyContent:"center"},locationText:{display:"flex",flex:1,justifyContent:"flex-end",alignItems:"center",fontSize:"1rem"},languageSelector:{marginRight:15,"&.MuiInputBase-root":{color:"white"},"& .MuiSelect-icon":{color:"white"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}}}})),ve=function(){var e=me(),t=be(),n=t.navBarOpen,i=(t.locationData,ie().isAuthenticated),r=(de().dictionary,{});if(r.name=window.localStorage.getItem("name"),r.lastName=window.localStorage.getItem("lastName"),i)return Object(ee.jsx)(a.Fragment,{children:Object(ee.jsx)(he.a,{position:"sticky",className:e.appbar,children:Object(ee.jsxs)(Oe.a,{className:e.toolbar,children:[!n&&Object(ee.jsx)(d.b,{to:"/",children:Object(ee.jsx)("img",{src:fe,height:75,style:{marginLeft:100}})}),n&&Object(ee.jsx)(d.b,{to:"/",children:Object(ee.jsx)("img",{src:fe,height:75,style:{marginLeft:330}})}),i&&Object(ee.jsx)(a.Fragment,{children:Object(ee.jsxs)("dl",{children:[Object(ee.jsx)("dt",{style:{margin:0},children:i&&Object(ee.jsxs)("div",{children:[" ",Object(ee.jsxs)("h2",{style:{margin:10},children:[" ",r.name," ",r.lastName," "]})," "]})}),Object(ee.jsx)("dt",{children:"ADMINISTRADOR"===window.localStorage.getItem("name")&&Object(ee.jsxs)("div",{children:[" ",Object(ee.jsx)("h5",{style:{margin:10},children:" Administrador "})," "]})})]})}),Object(ee.jsxs)(a.Fragment,{children:[Object(ee.jsx)("div",{className:e.locationText,children:Object(ee.jsx)(d.b,{to:"/info",children:Object(ee.jsx)(ge.a,{title:"Informaci\xf3n",children:Object(ee.jsx)(xe.a,{icon:pe.k,size:"2x"})})})}),Object(ee.jsx)("div",{className:e.locationIcon,children:Object(ee.jsx)(d.b,{to:"/alerts",children:Object(ee.jsx)(ge.a,{title:"Alertas",children:Object(ee.jsx)(xe.a,{icon:pe.a,size:"2x"})})})})]})]})})})},ye=n(3),we=n.n(ye),Se=n(7),Ce=n(311),ke=n(339),De=n(316),Re=Object(w.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}})),Ne=function(){var e=de().dictionary,t=ie().login,n=Object(a.useState)(""),i=Object(o.a)(n,2),r=i[0],c=i[1],s=Object(a.useState)(""),l=Object(o.a)(s,2),d=l[0],j=l[1],u=Re(),b=Object(a.useState)({}),h=Object(o.a)(b,2),O=(h[0],h[1],function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"email":return c(e.target.value);case"password":return j(e.target.value)}}),g=function(){var e=Object(Se.a)(we.a.mark((function e(n){var i;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(r,d);case 3:(i=e.sent)&&console.log(i.response.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ee.jsx)(Ce.a,{container:!0,style:{padding:10,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(ee.jsx)("form",{onSubmit:g,children:Object(ee.jsxs)(Ce.a,{container:!0,item:!0,spacing:2,children:[Object(ee.jsx)(Ce.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(ee.jsx)(ke.a,{type:"email",name:"email",label:e.login.emailField,value:r,onChange:O,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(ee.jsx)(Ce.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(ee.jsx)(ke.a,{type:"password",name:"password",label:e.login.passwordField,value:d,onChange:O,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(ee.jsx)(Ce.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(ee.jsx)(ge.a,{className:u.button,type:"submit",variant:"contained",color:"primary",children:e.login.loginButton})}),Object(ee.jsx)(Ce.a,{item:!0,xs:12,container:!0,justifyContent:"center",children:Object(ee.jsxs)(De.a,{href:"/reset-password",children:[" ",e.login.forgotPasswordText," "]})})]})})})},Ie=n(337),Ae=n(268),Be=n(317),Me=n(318),Te=n(8),Ee=n.p+"static/media/Logologo_icv_1.054cafd3.svg",ze=Object(w.a)((function(e){return{drawer:{width:250,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:330,maxWidth:"100vw",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},drawerClose:{width:99,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:" hidden"},drawerPaper:{marginTop:0,backgroundColor:"#212121",border:"none",borderEndEndRadius:30,borderTopRightRadius:30},drawerContainer:{position:"relative",height:"100%"},drawerBottom:{position:"absolute",backgroundColor:"rgb(228, 228, 228)",width:"100%",display:"flex",bottom:0,padding:5},bottomButtons:{height:54,width:54},sideButtons:{width:26,height:26,color:"#FFFFFF"},sideButtonsCloseMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:100,paddingTop:40},sideButtonsOpenMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:20,paddingTop:40},divider:{width:"100%",backgroundColor:"rgba(255, 255, 255, 0.18)"},searchField:{"& .MuiFormLabel-root":{color:"white"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"},"& .fa-search":{color:"white"},"& .MuiInputBase-input":{color:"white"}},listItemText:{whiteSpace:"normal",color:"white",fontWeight:"bold"}}})),Le=function(){var e,t,n=ze(),i=be(),r=i.navBarOpen,c=i.handleNavBar,s=(ie().userData,Object(a.useState)()),l=Object(o.a)(s,2),j=l[0],u=l[1],b=function(){var e=Object(Se.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.clear(),window.location.reload(),h();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(Se.a)(we.a.mark((function e(){var t;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent)&&t.forEach((function(e,t){window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){r&&c()};return Object(a.useEffect)((function(){u(!0);var e=setInterval((function(){localStorage.getItem("sitio")?(u(!0),clearInterval(e)):u(!1)}),1e3)}),[]),Object(ee.jsx)("div",{children:Object(ee.jsx)(Ie.a,{className:Object(Te.a)(Object(Te.a)(n.drawer,(e={},Object(v.a)(e,n.drawerOpen,r),Object(v.a)(e,n.drawerClose,!r),e))),variant:"permanent",classes:{paper:Object(Te.a)(n.drawerPaper,(t={},Object(v.a)(t,n.drawerOpen,r),Object(v.a)(t,n.drawerClose,!r),t))},children:Object(ee.jsx)("div",{className:n.drawerContainer,children:Object(ee.jsx)(Ce.a,{container:!0,spacing:2,style:{padding:r?8:"8px 0 0 0"},children:Object(ee.jsxs)(Ce.a,{item:!0,xs:12,container:!0,children:[Object(ee.jsx)("div",{style:{width:"100%",textAlign:r?"right":"center"},children:Object(ee.jsx)(Ae.a,{title:r?"Cerrar Men\xfa":"Abrir Men\xfa",onClick:c,className:r?n.sideButtonsOpenMenu:n.sideButtonsCloseMenu,children:r?Object(ee.jsx)(Be.a,{}):Object(ee.jsx)(Me.a,{})})}),r&&Object(ee.jsxs)("div",{style:{padding:10},children:[Object(ee.jsx)("img",{height:60,src:Ee,alt:""}),Object(ee.jsx)("p",{style:{color:"#fff",margin:0},children:"Ingenier\xeda Civil Vicente"})]}),Object(ee.jsx)("div",{style:{height:1,backgroundColor:"#fff",width:"100%",marginRight:10,marginLeft:10}}),Object(ee.jsx)("div",{style:{width:"100%",marginTop:40,textAlign:r?"left":"center"},children:Object(ee.jsx)(Ae.a,{onClick:O,title:"Inicio",children:Object(ee.jsxs)(d.b,{to:"/",className:n.sideButtons,style:{textDecoration:"none"},children:[Object(ee.jsx)(xe.a,{icon:pe.j})," ",r?" Inicio":""]})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role"))&&Object(ee.jsx)("div",{style:{width:"100%",textAlign:r?"left":"center"},children:Object(ee.jsx)(Ae.a,{onClick:O,title:"Obras",children:Object(ee.jsxs)(d.b,{to:"/sites",className:n.sideButtons,style:{textDecoration:"none"},children:[Object(ee.jsx)(xe.a,{icon:pe.m})," ",r?" Obras":""]})})}),Object(ee.jsxs)("div",{style:{width:"100%",textAlign:r?"left":"center"},children:[j&&Object(ee.jsx)(Ae.a,{onClick:O,title:"Inspecci\xf3n",children:Object(ee.jsxs)(d.b,{to:"/inspection",className:n.sideButtons,style:{textDecoration:"none"},children:[Object(ee.jsx)(xe.a,{icon:pe.p})," ",r?" Inspecci\xf3n":""]})}),!j&&Object(ee.jsxs)(Ae.a,{disabled:!0,onClick:O,title:"Inspecci\xf3n",children:[Object(ee.jsx)(xe.a,{icon:pe.p})," ",r?" Inspecci\xf3n":""]})]}),Object(ee.jsxs)("div",{style:{width:"100%",textAlign:r?"left":"center"},children:[j&&Object(ee.jsx)(Ae.a,{onClick:O,title:"Mantenci\xf3n",children:Object(ee.jsxs)(d.b,{to:"/maintenance",className:n.sideButtons,style:{textDecoration:"none"},children:[Object(ee.jsx)(xe.a,{icon:pe.r})," ",r?" Mantenci\xf3n":""]})}),!j&&Object(ee.jsxs)(Ae.a,{disabled:!0,onClick:O,title:"Mantenci\xf3n",children:[Object(ee.jsx)(xe.a,{icon:pe.r})," ",r?" Mantenci\xf3n":""]})]}),Object(ee.jsx)("div",{style:{width:"100%",textAlign:r?"left":"center"},children:Object(ee.jsx)(Ae.a,{onClick:O,title:"Reportes",children:Object(ee.jsxs)(d.b,{to:"/reports",className:n.sideButtons,style:{textDecoration:"none"},children:[Object(ee.jsx)(xe.a,{icon:pe.f})," ",r?" Reportes":""]})})}),Object(ee.jsx)("div",{style:{width:"100%",textAlign:r?"left":"center"},children:Object(ee.jsx)(Ae.a,{onClick:O,title:"Administraci\xf3n",children:Object(ee.jsxs)(d.b,{to:"/administration",className:n.sideButtons,style:{textDecoration:"none"},children:[Object(ee.jsx)(xe.a,{icon:pe.u})," ",r?" Administraci\xf3n":""]})})}),Object(ee.jsx)("div",{style:{width:"100%",textAlign:r?"left":"center"},children:Object(ee.jsx)(Ae.a,{onClick:O,title:"Listado Pautas",children:Object(ee.jsxs)(d.b,{to:"/pms",className:n.sideButtons,style:{textDecoration:"none"},children:[Object(ee.jsx)(xe.a,{icon:pe.l})," ",r?" Listado Pautas":""]})})}),Object(ee.jsx)("div",{style:{width:"100%",textAlign:r?"left":"center"},children:Object(ee.jsx)(Ae.a,{onClick:O,title:"Configuraci\xf3n",children:Object(ee.jsxs)(d.b,{to:"/configuration",className:n.sideButtons,style:{textDecoration:"none"},children:[Object(ee.jsx)(xe.a,{icon:pe.g})," ",r?" Configuraci\xf3n":""]})})}),Object(ee.jsx)("div",{style:{width:"100%",textAlign:r?"left":"center"},children:Object(ee.jsx)(Ae.a,{onClick:O,title:"Informaci\xf3n",children:Object(ee.jsxs)(d.b,{to:"/information",className:n.sideButtons,style:{textDecoration:"none"},children:[Object(ee.jsx)(xe.a,{icon:pe.k})," ",r?" Informaci\xf3n":""]})})}),Object(ee.jsx)("div",{style:{width:"100%",textAlign:r?"left":"center"},children:Object(ee.jsx)(Ae.a,{onClick:b,title:"Cerrar Sesi\xf3n",children:Object(ee.jsxs)("div",{className:n.sideButtons,children:[Object(ee.jsx)(xe.a,{icon:pe.q})," ",r?" Cerrar Sesi\xf3n":""]})})})]})})})})})},Fe=Object(w.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}})),Pe=function(){var e=de().dictionary,t=(ie().login,Object(a.useState)("")),n=Object(o.a)(t,2),i=n[0],r=n[1],c=Fe(),s=Object(l.f)(),d=function(){var e=Object(Se.a)(we.a.mark((function e(t){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j();case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){alert("Servicio no disponible.")};return Object(ee.jsx)(Ce.a,{container:!0,style:{padding:20,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(ee.jsx)("form",{onSubmit:d,children:Object(ee.jsxs)(Ce.a,{container:!0,item:!0,spacing:2,children:[Object(ee.jsx)(Ce.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(ee.jsx)(ke.a,{type:"email",name:"email",label:e.login.emailField,value:i,onChange:function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"email":return r(e.target.value)}},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(ee.jsx)(Ce.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(ee.jsx)(ge.a,{className:c.button,type:"submit",variant:"contained",color:"primary",children:"SOLICITAR"})}),Object(ee.jsx)(Ce.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(ee.jsx)(ge.a,{className:c.button,variant:"contained",color:"primary",onClick:function(){s.goBack()},children:"VOLVER"})})]})})})},Ue=n(319),We=(Object(w.a)((function(e){return{}})),Object(w.a)((function(e){return{}})),n(263),n(334)),Ze=n(320),Ye=function(e){var t=e.open,n=e.report,i=e.closeModal,r=Object(a.useState)([]),c=Object(o.a)(r,2),s=(c[0],c[1],Object(a.useState)()),l=Object(o.a)(s,2),d=l[0],j=l[1],u=n.reportType,b=n.idIndex,h=n.guide,O=n.state;return Object(a.useEffect)((function(){"Por asignar"===O?j("#E99797"):"En proceso"===O&&j("#F5C69C")}),[]),Object(ee.jsx)(We.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(ee.jsxs)(p.a,{sx:D,children:[Object(ee.jsxs)(Oe.a,{style:{width:"100%",height:59,paddingLeft:0},children:[Object(ee.jsxs)("h2",{children:["Asignar Pauta de ",u," ",h]}),Object(ee.jsx)("div",{style:{position:"absolute",right:65,backgroundColor:d,paddingTop:3,borderRadius:5,width:100,height:20,textAlign:"center"},children:Object(ee.jsx)("p",{style:{margin:0,fontSize:12},children:O.toUpperCase()})})]}),Object(ee.jsxs)("div",{style:{width:"100%",height:90},children:[Object(ee.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[Object(ee.jsx)("strong",{children:"Faena:"})," ",Object(ee.jsx)("br",{}),"Nombre Faena"]}),Object(ee.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[Object(ee.jsx)("strong",{children:"Sector:"})," ",Object(ee.jsx)("br",{}),"Nombre del sector"]}),Object(ee.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[Object(ee.jsx)("strong",{children:"N\xfamero de orden:"})," ",Object(ee.jsx)("br",{}),b]})]}),Object(ee.jsxs)("div",{style:{width:"100%",height:59},children:[Object(ee.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[Object(ee.jsx)("strong",{children:"Pauta:"})," ",Object(ee.jsx)("br",{}),h]}),Object(ee.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[Object(ee.jsx)("strong",{children:"Acciones:"})," ",Object(ee.jsx)("br",{})]})]}),Object(ee.jsxs)("div",{style:{width:"100%",height:59},children:[Object(ee.jsx)("label",{children:"Reasignar Pauta a:"}),Object(ee.jsx)("br",{}),Object(ee.jsxs)("select",{placeholder:"Seleccionar operario",style:{height:44,width:274,borderStyle:"solid",borderColor:"#C4C4C4",borderWidth:1,borderRadius:10},children:[Object(ee.jsx)("option",{value:"",children:"Seleccionar operario"}),Object(ee.jsx)("option",{value:"saab",children:"Saab"}),Object(ee.jsx)("option",{value:"mercedes",children:"Mercedes"}),Object(ee.jsx)("option",{value:"audi",children:"Audi"})]})]}),Object(ee.jsx)(Ze.a,{onClick:i,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(ee.jsx)(Be.a,{style:{color:"#ccc"}})})]})})},Ge=n(269),Je=n(321),Qe=function(e){var t=e.open,n=e.userModal,i=e.handleChange,a=e.checked,r=e.permissionsReports,c=e.permissionsUsers,s=e.closeModal;return Object(ee.jsx)(We.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(ee.jsxs)(p.a,{sx:D,children:[Object(ee.jsx)("div",{style:{textAlign:"left",width:"100%"},children:Object(ee.jsx)("h2",{children:"Datos del Usuario"})}),Object(ee.jsxs)("div",{style:{width:"100%",height:"25vh"},children:[Object(ee.jsxs)("div",{style:{float:"left",width:"30%"},children:[Object(ee.jsx)("p",{children:Object(ee.jsx)("strong",{children:"Nombre y Apellido"})}),Object(ee.jsxs)("p",{children:[" ",n.name," ",n.lastName," "]}),Object(ee.jsx)("br",{}),Object(ee.jsx)("p",{children:Object(ee.jsx)("strong",{children:"Rol del usuario"})}),Object(ee.jsxs)("p",{children:[" ",n.roleTranslated," "]})]}),Object(ee.jsxs)("div",{style:{float:"left",width:"30%"},children:[Object(ee.jsx)("p",{children:Object(ee.jsx)("strong",{children:"Email"})}),Object(ee.jsxs)("p",{children:[" ",n.email]}),Object(ee.jsx)("br",{}),Object(ee.jsx)("p",{children:Object(ee.jsx)("strong",{children:"RUN"})}),Object(ee.jsxs)("p",{children:[" ",n.rut," "]})]}),Object(ee.jsx)("div",{style:{float:"right",width:"30%"},children:Object(ee.jsxs)(Ge.a,{children:[Object(ee.jsx)(Je.a,{onChange:i,checked:a}),a&&Object(ee.jsx)("p",{children:"Usuario activo"}),!a&&Object(ee.jsx)("p",{children:"Usuario inactivo"})]})})]}),Object(ee.jsxs)("div",{style:{width:"100%"},children:[Object(ee.jsx)("p",{children:Object(ee.jsx)("strong",{children:"Permisos y accesos"})}),Object(ee.jsxs)("div",{style:{minHeight:"16.5vw",borderRadius:12,borderWidth:1,borderStyle:"solid",borderColor:"#C4C4C4",backgroundColor:"#F1F1F1"},children:[Object(ee.jsx)("div",{style:{margin:10,padding:10,width:"45%",float:"left"},children:r&&r.map((function(e,t){if(e.isChecked)return Object(ee.jsx)("div",{children:Object(ee.jsx)("p",{children:Object(ee.jsx)("strong",{children:e.name})})})}))}),Object(ee.jsx)("div",{style:{margin:10,padding:10,width:"45%",float:"right"},children:c.map((function(e,t){if(e.isChecked)return Object(ee.jsx)("div",{children:Object(ee.jsx)("p",{children:Object(ee.jsx)("strong",{children:e.name})})})}))})]})]}),Object(ee.jsx)("div",{style:{width:"100%",height:"5vh",margin:10},children:Object(ee.jsx)("button",{style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D",position:"absolute",right:30},children:"Editar usuario"})}),Object(ee.jsx)(Ze.a,{onClick:function(){return s(n)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(ee.jsx)(Be.a,{style:{color:"#ccc"}})})]})})},Ve=n(322),He=function(e){var t=e.open,n=e.progress,i=e.loadingData,r=e.withProgress;return Object(a.useEffect)((function(){}),[]),Object(ee.jsx)(We.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(ee.jsx)(p.a,{sx:D,children:Object(ee.jsxs)("div",{style:{height:300,textAlign:"center"},children:[r&&Object(ee.jsx)(Ve.a,{variant:"determinate",size:200,value:Number(n)}),!r&&Object(ee.jsx)(Ve.a,{size:200}),Object(ee.jsx)("h1",{children:i})]})})})},Xe=function(e){var t=e.open,n=e.closeModal;return Object(ee.jsx)(We.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(ee.jsxs)(p.a,{sx:D,children:[Object(ee.jsx)("div",{style:{textAlign:"left",width:"100%"},children:Object(ee.jsxs)("h2",{children:["Versi\xf3n ",I.version]})}),Object(ee.jsxs)("div",{style:{width:"100%",height:"25vh"},children:[Object(ee.jsx)("p",{children:"Se ha actualizado la aplicaci\xf3n de servicios de Mantenimiento e Inspecci\xf3n."}),Object(ee.jsxs)("p",{children:[Object(ee.jsx)("li",{children:"Los usuarios pueden navegar sin conexi\xf3n, de acuerdo a sus privilegios."}),Object(ee.jsx)("li",{children:"Los usuarios que intenten acceder a una URL de la aplicaci\xf3n a la que no cuente con permisos, aparecer\xe1 un mensaje indicando que no tiene acceso."}),Object(ee.jsx)("li",{children:"Se ejecuta l\xf3gica offline para m\xe1quinas 3D."}),Object(ee.jsx)("li",{children:"Los administradores pueden asignar obra al crear o editar usuarios."})]})]}),Object(ee.jsx)(Ze.a,{onClick:function(){return n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(ee.jsx)(Be.a,{style:{color:"#ccc"}})})]})})},qe=function(e){return new Promise((function(t){var n=e.transaction(["Machines"],"readonly").objectStore("Machines");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){t(e.target.result)}}}))},Ke={initDbMachines:function(){var e,t=window.indexedDB.open("Trucks",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Machines",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").add(e).onsuccess=function(){}},obtener:function(e,t){t.transaction(["Machines"],"readonly").objectStore("Machines").get(e).onsuccess=function(e){}},actualizar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").put(e).onsuccess=function(){}},eliminar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").delete(e).onsuccess=function(){qe()}},consultar:qe},_e=function(e){var t=e.transaction(["ItemList"],"readonly").objectStore("ItemList"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},$e={initDbPMs:function(){var e,t=window.indexedDB.open("PMs",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("ItemList",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["ItemList"],"readwrite").objectStore("ItemList").add(e)},obtener:function(e,t){return new Promise((function(n){t.transaction(["ItemList"],"readonly").objectStore("ItemList").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){t.transaction(["ItemList"],"readwrite").objectStore("ItemList").put(e).onsuccess=function(){}},eliminar:function(e,t){t.transaction(["ItemList"],"readwrite").objectStore("ItemList").delete(e).onsuccess=function(){_e()}},consultar:_e},et=function(e){var t=e.transaction(["Obras"],"readonly").objectStore("Obras"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},tt={initDbObras:function(){var e,t=window.indexedDB.open("Sites",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,console.log("Se crea BD"),n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){e=t.target.result,console.log("Se actualiza"),e.createObjectStore("Obras",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").add(e)},obtener:function(e,t){t.transaction(["Obras"],"readonly").objectStore("Obras").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Obras"],"readwrite").objectStore("Obras").put(e).onsuccess=function(){n(!0)}}catch(i){n(!1)}}))},eliminar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").delete(e).onsuccess=function(){et()}},consultar:et},nt=function(e){var t=e.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},it={initDb3DFiles:function(){var e,t=window.indexedDB.open("3Ds",1);return new Promise((function(n){t.onsuccess=function(){console.log("conectado"),e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("3dFilesList",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){return new Promise((function(n){var i=t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").add(e);i.onsuccess=Object(Se.a)(we.a.mark((function e(){var i;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(t);case 2:(i=e.sent)&&(console.log(i),n(!0));case 4:case"end":return e.stop()}}),e)}))),i.onerror=function(e){console.log(e),n(!1)}}))},obtener:function(e,t){return new Promise((function(n){t.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").put(e).onsuccess=Object(Se.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);case 1:case"end":return e.stop()}}),e)})))}catch(i){n(!1)}}))},eliminar:function(e,t){t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").delete(e).onsuccess=function(){nt()}},consultar:nt},at=function(e){var t=e.machine,n=Object(a.useState)(),i=Object(o.a)(n,2),r=i[0],c=i[1],s=Object(a.useState)(),l=Object(o.a)(s,2),d=l[0],j=l[1],u=Object(a.useState)(0),b=Object(o.a)(u,2),h=b[0],O=b[1],g=Object(a.useState)(!1),x=Object(o.a)(g,2),f=x[0],m=x[1],v=function(){var e=Object(Se.a)(we.a.mark((function e(){var n,i,a,r,c;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,it.initDb3DFiles();case 3:if(!(n=e.sent)){e.next=9;break}return e.next=7,it.consultar(n.database);case 7:(i=e.sent)&&(a=i[t.id].data,r=new Blob([a]),c=URL.createObjectURL(r),j(c));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(Se.a)(we.a.mark((function e(){var t;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(),c(document.querySelector("model-viewer#machine")),(t=document.querySelector("model-viewer#machine")).addEventListener("load",(function(e){m(!1);var n=function(){var e=Object(Se.a)(we.a.mark((function e(n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.materialFromPoint(n.clientX,n.clientY);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.addEventListener("click",n),setTimeout((function(){t.cameraControls=!0}),2e3)})),t.addEventListener("progress",(function(e){O(130*e.detail.totalProgress),1==e.detail.totalProgress&&(O(100),setTimeout((function(){m(!1)}),2e3))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){y()}),[]);return Object(ee.jsxs)(p.a,{style:{height:"100%",width:"100%"},id:"box",children:[Object(ee.jsx)("model-viewer",{id:"machine",src:d,style:{height:"100%",width:"80%",float:"left"},"camera-orbit":"45deg 90deg 2.5m",scale:"0.001 0.001 0.001",alt:"A Material Picking Example"}),Object(ee.jsx)(He,{open:f,progress:h,loadingData:"Preparando vista 3D...",withProgress:!0}),"Pala"===t.type&&Object(ee.jsxs)("div",{style:{float:"right",height:"100%",width:"20%",textAlign:"center",backgroundColor:"transparent",paddingTop:70},children:[Object(ee.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),r.cameraOrbit="45deg 90deg 2.5m",r.disableZoom=!1,r.cameraControls=!0}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Terminar"}),Object(ee.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),r.cameraOrbit="45deg 55deg -4m",r.disableZoom=!0,r.cameraControls=!1;var t=document.createElement("div");t.innerHTML="Cabina",t.id="letrero";var n=document.getElementById("box");Object.assign(t.style,{position:"absolute",top:"50%",left:"20%",color:"#000",backgroundColor:"#fff",fontSize:"30px",padding:"40px",borderRadius:"30px"}),n.appendChild(t)}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Cabina"}),Object(ee.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),r.cameraOrbit="10deg 120deg 3m",r.disableZoom=!0,r.cameraControls=!1;var t=document.createElement("div");t.innerHTML="Balde",t.id="letrero";var n=document.getElementById("box");Object.assign(t.style,{position:"absolute",top:"50%",left:"45%",color:"#000",backgroundColor:"#fff",fontSize:"30px",padding:"40px",borderRadius:"30px"}),n.appendChild(t)}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Balde"}),Object(ee.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),r.cameraOrbit="-40deg 80deg 2m",r.disableZoom=!0,r.cameraControls=!1;var t=document.createElement("div");t.innerHTML="Brazo",t.id="letrero";var n=document.getElementById("box");Object.assign(t.style,{position:"absolute",top:"50%",left:"40%",color:"#000",backgroundColor:"#fff",fontSize:"30px",padding:"40px",borderRadius:"30px"}),n.appendChild(t)}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Brazo"}),Object(ee.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),r.cameraOrbit="90deg 90deg 2m",r.disableZoom=!0,r.cameraControls=!1;var t=document.createElement("div");t.innerHTML="Cuerpo",t.id="letrero";var n=document.getElementById("box");Object.assign(t.style,{position:"absolute",top:"50%",left:"25%",color:"#000",backgroundColor:"#fff",fontSize:"30px",padding:"40px",borderRadius:"30px"}),n.appendChild(t)}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Cuerpo"}),Object(ee.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),r.cameraOrbit="-120deg 120deg 2m",r.disableZoom=!0,r.cameraControls=!1;var t=document.createElement("div");t.innerHTML="Orugas",t.id="letrero";var n=document.getElementById("box");Object.assign(t.style,{position:"absolute",top:"35%",left:"45%",color:"#000",backgroundColor:"#fff",fontSize:"30px",padding:"40px",borderRadius:"30px"}),n.appendChild(t)}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Oruga"})]})]})},rt=n(65),ct=n(175),st=n.n(ct),ot=(n(151),n(152),n(338)),lt=n(177),dt=n.n(lt),jt=n(176),ut=n.n(jt),bt=function(e){var t=e.height,n=e.pauta,i=Object(a.useState)([]),r=Object(o.a)(i,2),c=r[0],s=r[1],l=Object(a.useState)([]),d=Object(o.a)(l,2),j=d[0],u=d[1],b=Object(a.useState)([]),h=Object(o.a)(b,2),O=h[0],g=h[1];Object(a.useEffect)((function(){var e=n.struct.reduce((function(e,t){return e[t.strpmdesc]=[].concat(Object(rt.a)(e[t.strpmdesc]||[]),[t]),e}),{});if(e){s(e);var t=Object.keys(e),i=[];t.forEach((function(n,a){var r={data:n,state:!1};0==a&&(r.state=!0),i.push(r),a==t.length-1&&(u(i),g(e[i[0].data]))}))}}),[]);var x={height:70,borderRadius:10,boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)"};function p(e){var t=e.className,n=(e.style,e.onClick);return Object(ee.jsx)("div",{className:t,style:{color:"black",background:"grey",borderRadius:20},onClick:n})}var f={infinite:!1,speed:500,slidesToShow:7,slidesToScroll:7,nextArrow:Object(ee.jsx)(p,{}),prevArrow:Object(ee.jsx)(p,{})};return Object(ee.jsxs)("div",{style:{height:t},children:[Object(ee.jsx)("div",{style:{height:70,borderColor:"#ccc",borderWidth:2,borderStyle:"solid",borderRadius:10},children:Object(ee.jsx)(st.a,Object(A.a)(Object(A.a)({},f),{},{children:j&&j.map((function(e,t){return Object(ee.jsxs)("div",{style:{textAlign:"center",height:"100%"},children:[Object(ee.jsx)(ge.a,{style:{textAlign:"center",width:"100%",height:70},onClick:function(){return function(e,t){e.forEach((function(n,i){n.state=!1,i==e.length-1&&(g(c[t.data]),t.state=!0)}))}(j,e)},children:Object(ee.jsx)("p",{style:{margin:0},children:e.data})}),e.state&&Object(ee.jsx)("div",{style:{width:"100%",height:6,backgroundColor:"#BB2D2D",position:"relative",bottom:5,borderRadius:5}})]},t)}))}))}),Object(ee.jsxs)("div",{style:{height:t},children:[Object(ee.jsxs)(Ge.a,{children:[Object(ee.jsx)("div",{style:{width:"15%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Personal Necesario"})," "]})}),Object(ee.jsx)("div",{style:{width:"30%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Descripcion De Tarea"})," "]})}),Object(ee.jsx)("div",{style:{width:"40%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Observaciones"})," "]})}),Object(ee.jsx)("div",{style:{width:"15%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Acciones"})," "]})})]}),O&&Object(ee.jsx)("div",{style:{height:t,overflowY:"scroll"},children:O.map((function(e,t){return e.obs01||(e.obs01="Sin Observaciones"),Object(ee.jsxs)(Ge.a,{style:x,children:[Object(ee.jsx)("div",{style:{width:"15%",marginLeft:5},children:e.workteamdesc}),Object(ee.jsx)("div",{style:{width:"30%",marginLeft:5,overflowY:"scroll",textOverflow:"ellipsis",maxHeight:"100%"},children:e.taskdesc}),Object(ee.jsx)("div",{style:{width:"40%",marginLeft:5,overflowY:"scroll",textOverflow:"ellipsis",maxHeight:"100%"},children:e.obs01}),Object(ee.jsx)(Ae.a,{children:Object(ee.jsx)(xe.a,{icon:pe.h})}),Object(ee.jsx)(Ae.a,{children:Object(ee.jsx)(xe.a,{icon:pe.o})}),Object(ee.jsx)(ot.a,{style:{transform:"scale(1.2)"},icon:Object(ee.jsx)(ut.a,{}),checkedIcon:Object(ee.jsx)(dt.a,{style:{color:"#27AE60"}})})]},t)}))})]})]})},ht=function(e){var t=e.height,n=e.hableButton,i=Object(a.useState)([]),r=Object(o.a)(i,2),c=r[0],s=r[1],j=Object(a.useState)(!1),u=Object(o.a)(j,2),b=u[0],h=u[1],O=Object(a.useState)({}),g=Object(o.a)(O,2),x=g[0],p=g[1],f=Object(a.useState)(0),m=Object(o.a)(f,2),v=m[0],y=m[1],w=Object(a.useState)(!1),S=Object(o.a)(w,2),C=S[0],k=S[1],D=Object(a.useState)([]),N=Object(o.a)(D,2),I=N[0],A=N[1],B=Object(a.useState)([]),M=Object(o.a)(B,2),T=M[0],E=M[1],z=(Object(l.f)(),function(e){V(e).then((function(e){}))});Object(a.useEffect)((function(){L(),localStorage.removeItem("userDataToSave"),setTimeout((function(){}),1e3)}),[]);var L=function(){H().then((function(e){s(e.data),console.log(e.data)}))},F={height:70,borderRadius:10,boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)"};return Object(ee.jsx)("div",{style:{height:t},children:Object(ee.jsxs)("div",{style:{height:t},children:[Object(ee.jsxs)(Oe.a,{style:{width:"100%"},children:[Object(ee.jsx)("h1",{children:"Administrar usuarios"}),Object(ee.jsx)(d.b,{to:"/new-users",children:Object(ee.jsxs)("button",{disabled:!n,style:{position:"absolute",right:20,width:171,height:38,borderRadius:23,fontSize:16},children:[Object(ee.jsx)(xe.a,{icon:pe.t,style:{marginRight:10}}),"Crear usuario"]})})]}),Object(ee.jsx)("div",{children:Object(ee.jsxs)(Ge.a,{children:[Object(ee.jsx)("div",{style:{width:"15%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Nombre de usuario"})," "]})}),Object(ee.jsx)("div",{style:{width:"20%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Correo electr\xf3nico"})," "]})}),Object(ee.jsx)("div",{style:{width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"RUN"})," "]})}),Object(ee.jsx)("div",{style:{width:"20%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Rol"})," "]})}),Object(ee.jsx)("div",{style:{width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Faena/Obra"})," "]})}),Object(ee.jsx)("div",{style:{width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Estado"})," "]})})]})}),n&&Object(ee.jsxs)("div",{style:{overflowY:"auto"},children:[c.map((function(e,t){return e.roleTranslated=R(e.role),Object(ee.jsxs)(Ge.a,{style:F,children:[Object(ee.jsxs)("div",{style:{width:"15%",marginLeft:5},children:[e.name," ",e.lastName]}),Object(ee.jsx)("div",{style:{width:"20%",marginLeft:5,wordBreak:"break-all"},children:e.email}),Object(ee.jsx)("div",{style:{width:"10%",marginLeft:5},children:e.rut}),Object(ee.jsx)("div",{style:{width:"20%",marginLeft:5},children:e.roleTranslated}),Object(ee.jsx)("div",{style:{width:"10%",marginLeft:5}}),Object(ee.jsxs)("div",{style:{width:"10%",marginLeft:5},children:[e.enabled&&Object(ee.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#C3EBD4",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"ACTIVO"}),!e.enabled&&Object(ee.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#F9F9F9",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"INACTIVO"})]}),Object(ee.jsx)(Ae.a,{onClick:function(){return i=t,p(n=e),k(n.enabled),A(n.permissionsReports),E(n.permissionsUsers),y(i),void h(!0);var n,i},children:Object(ee.jsx)(xe.a,{icon:pe.k})}),Object(ee.jsx)(d.b,{to:"/edit-user/".concat(e._id),children:Object(ee.jsx)(Ae.a,{children:Object(ee.jsx)(xe.a,{icon:pe.o})})}),Object(ee.jsx)(Ae.a,{onClick:function(){var t,n,i;t=e._id,n=e.name,i=e.lastName,"admin"===e.role?alert("No es posible eliminar un Administrador."):confirm("Remover\xe1 al usuario ".concat(n," ").concat(i,". Confirme la acci\xf3n."))&&q(t).then((function(e){e&&L()}))},children:Object(ee.jsx)(xe.a,{icon:pe.s})})]},t)})),x&&Object(ee.jsx)(Qe,{open:b,userModal:x,handleChange:function(e){k(e.target.checked),c[v].enabled=e.target.checked},checked:C,permissionsReports:I,permissionsUsers:T,closeModal:function(e){h(!1),z(e)}})]}),!n&&Object(ee.jsx)("div",{style:{textAlign:"center",width:"100%",height:"50%",paddingTop:50},children:Object(ee.jsx)("h1",{children:"Requiere conexi\xf3n a internet para administraci\xf3n de usuarios"})})]})})},Ot=n(314),gt=n(117),xt=Object(w.a)((function(e){return{inputsStyle:{borderColor:"#C4C4C4"}}})),pt=function(e){var t=e.height,n=e.typeDisplay,i=Object(a.useState)([]),r=Object(o.a)(i,2),c=(r[0],r[1]),s=Object(a.useState)("password"),l=Object(o.a)(s,2),d=l[0],j=l[1],u=Object(a.useState)("password"),b=Object(o.a)(u,2),h=b[0],O=b[1],g=Object(a.useState)(""),x=Object(o.a)(g,2),f=x[0],m=x[1],v=Object(a.useState)(""),y=Object(o.a)(v,2),w=y[0],S=y[1],C=Object(a.useState)(""),k=Object(o.a)(C,2),D=k[0],R=k[1],N=Object(a.useState)(""),I=Object(o.a)(N,2),A=I[0],B=I[1],M=Object(a.useState)(""),T=Object(o.a)(M,2),E=T[0],z=T[1],L=Object(a.useState)(""),F=Object(o.a)(L,2),P=F[0],U=F[1],W=Object(a.useState)(""),Z=Object(o.a)(W,2),G=Z[0],J=Z[1],Q=Object(a.useState)(""),V=Object(o.a)(Q,2),H=V[0],X=V[1],q=Object(a.useState)(""),K=Object(o.a)(q,2),_=K[0],$=K[1],te=Object(a.useState)([]),ne=Object(o.a)(te,2),ie=ne[0],ae=ne[1],re=Object(a.useState)([]),ce=Object(o.a)(re,2),se=ce[0],oe=ce[1],le={name:f,lastName:w,rut:D,role:A,email:P,phone:G,password:H,sites:E,confirmPassword:_,createdBy:localStorage.getItem("_id")},de=function(){localStorage.setItem("userDataToSave",JSON.stringify(le)),console.log(JSON.parse(localStorage.getItem("userDataToSave")))},je=xt();return Object(a.useEffect)((function(){new Promise(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n,i;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.initDbObras();case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,tt.consultar(n.database);case 6:i=e.sent,oe(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),setTimeout((function(){var e=localStorage.getItem("userDataToSave");if(e){var t=JSON.parse(e);t.rut&&R(t.rut),t.name&&m(t.name),t.lastName&&S(t.lastName),t.email&&U(t.email),t.phone&&J(t.phone),t.role&&B(t.role),t.sites&&z(t.sites),t.password&&"Nuevo usuario"===n&&X(t.password),t.confirmPassword&&"Nuevo usuario"===n&&$(t.confirmPassword)}c(ie),new Promise(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:n=e.sent,ae(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),500)}),[]),Object(ee.jsx)(p.a,{children:Object(ee.jsx)("div",{style:{height:t,width:"100%"},children:Object(ee.jsxs)(Ce.a,{style:{height:t,padding:30,marginLeft:100},children:[Object(ee.jsxs)("div",{style:{float:"left",marginRight:10},children:[Object(ee.jsx)("p",{children:"Foto de perfil"}),Object(ee.jsxs)("button",{style:{height:224,width:190,borderRadius:8},onClick:function(){alert("No disponible.")},children:[Object(ee.jsx)(xe.a,{icon:pe.n,style:{fontSize:18}}),Object(ee.jsx)("br",{}),Object(ee.jsx)("br",{}),"CARGAR",Object(ee.jsx)("br",{}),"FOTO"]})]}),Object(ee.jsxs)("div",{style:{float:"left",width:"75%",marginRight:10,marginTop:0},children:[Object(ee.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(ee.jsx)("div",{style:{float:"left",marginRight:10},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)("p",{children:"RUT"}),Object(ee.jsx)("input",{maxLength:12,onBlur:function(){return de()},onInput:function(e){var t;""===(t=e.target.value)||R(Object(gt.format)(t))},value:D,className:je.inputsStyle,placeholder:"11.222.333-K",type:"text",style:{width:293,height:44,borderRadius:10,fontSize:20}})]})}),Object(ee.jsx)("div",{style:{float:"left"},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)("p",{children:"Tipo de usuario"}),Object(ee.jsxs)("select",{onBlur:function(){return de()},className:je.inputsStyle,name:"userType",id:"userType",style:{width:248,height:44,borderRadius:10,fontSize:20,marginRight:10},onChange:function(e){return B(e.target.value)},value:A,children:[Object(ee.jsx)("option",{value:"",children:"Seleccione..."},100),ie.filter((function(e,t){if(t>0)return e})).map((function(e,t){return Object(ee.jsx)("option",{value:e.dbName,children:e.name},t)}))]})]})}),Object(ee.jsx)("div",{style:{float:"left"},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)("p",{children:"Obra"}),Object(ee.jsxs)("select",{onBlur:function(){return de()},className:je.inputsStyle,name:"userType",id:"userType",style:{width:548,height:44,borderRadius:10,fontSize:20},onChange:function(e){return z(e.target.value)},value:E,children:[Object(ee.jsx)("option",{value:"",children:"Seleccione..."},100),se.map((function(e,t){return Object(ee.jsx)("option",{value:JSON.stringify(e),children:e.descripcion},t)}))]})]})})]}),Object(ee.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(ee.jsx)("div",{style:{float:"left",width:"45%",marginRight:10},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)("p",{children:"Nombre"}),Object(ee.jsx)("input",{onBlur:function(){return de()},onChange:function(e){return m(e.target.value)},value:f,className:je.inputsStyle,placeholder:"John",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(ee.jsx)("div",{style:{float:"left",width:"45%"},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)("p",{children:"Apellido"}),Object(ee.jsx)("input",{onBlur:function(){return de()},onChange:function(e){return S(e.target.value)},value:w,className:je.inputsStyle,placeholder:"Doe",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})]}),Object(ee.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(ee.jsx)("div",{style:{float:"left",width:"60%",marginRight:10},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)("p",{children:"Correo electr\xf3nico"}),Object(ee.jsx)("input",{onBlur:function(){return de()},onChange:function(e){return U(e.target.value)},value:P,className:je.inputsStyle,placeholder:"nombre@correo.cl",type:"email",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(ee.jsx)("div",{style:{float:"left",width:"30%"},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)("p",{children:"N\xfamero de tel\xe9fono"}),Object(ee.jsx)("input",{max:9,onBlur:function(){return de()},onInput:function(e){e.target.value=e.target.value.slice(0,9),console.log(e.target.value)},onChange:function(e){return J(e.target.value)},value:G,className:je.inputsStyle,placeholder:"999998888",type:"number",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})]}),"Nuevo usuario"===n&&Object(ee.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(ee.jsxs)("div",{style:{float:"left",width:"37%",marginRight:10},children:[Object(ee.jsx)("p",{children:"Contrase\xf1a"}),Object(ee.jsx)("div",{style:{float:"left",width:"100%"},children:Object(ee.jsx)("input",{onBlur:function(){return de()},onChange:function(e){return X(e.target.value)},value:H,maxLength:10,className:je.inputsStyle,placeholder:"Min 6 car\xe1cteres",type:d,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),Object(ee.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:Object(ee.jsxs)(Ae.a,{style:{width:40},onClick:function(){j("password"===d?"text":"password")},children:["password"===d&&Object(ee.jsx)(xe.a,{icon:pe.h}),"text"===d&&Object(ee.jsx)(xe.a,{icon:pe.i})]})})]}),Object(ee.jsxs)("div",{style:{float:"left",width:"37%"},children:[Object(ee.jsx)("p",{children:"Confirmar contrase\xf1a"}),Object(ee.jsx)("div",{style:{float:"left",width:"100%"},children:Object(ee.jsx)("input",{onBlur:function(){return de()},onChange:function(e){return $(e.target.value)},value:_,maxLength:10,className:je.inputsStyle,placeholder:"Repita contrase\xf1a",type:h,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),Object(ee.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:Object(ee.jsxs)(Ae.a,{style:{width:40},onClick:function(){O("password"===h?"text":"password")},children:["password"===h&&Object(ee.jsx)(xe.a,{icon:pe.h}),"text"===h&&Object(ee.jsx)(xe.a,{icon:pe.i})]})})]})]})]})]})})})},ft=Object(w.a)((function(e){return{inputsStyle:{borderColor:"#C4C4C4"}}})),mt=function(e){var t=e.height,n=e.typeDisplay,i=e.id,r=Object(a.useState)({}),c=Object(o.a)(r,2),s=c[0],l=c[1],d=Object(a.useState)(""),j=Object(o.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)(""),O=Object(o.a)(h,2),g=O[0],x=O[1],f=Object(a.useState)([]),m=Object(o.a)(f,2),v=m[0],y=m[1],w=Object(a.useState)([]),S=Object(o.a)(w,2),C=S[0],k=S[1];Object(a.useEffect)((function(){l(JSON.parse(localStorage.getItem("userDataToSave"))),x(JSON.parse(JSON.parse(localStorage.getItem("userDataToSave")).sites).descripcion),N(),I()}),[]);var D=function(e,t,n,i){n[t].isChecked=e,y([]),k([]),"reportes"===i?(y(n),localStorage.setItem("listaPermisosReportes",JSON.stringify(v)),setTimeout((function(){k(C)}),5)):"usuarios"===i&&(setTimeout((function(){y(v)}),5),localStorage.setItem("listaPermisosUsuarios",JSON.stringify(C)),k(n))},N=function(){var e=Object(Se.a)(we.a.mark((function e(){var t,a;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Nuevo usuario"!==n){e.next=7;break}return e.next=3,G();case 3:return t=e.sent,e.abrupt("return",new Promise((function(e){t.data.forEach((function(n,i){"reportes"===n.name?y(n.resources):"usuarios"===n.name&&k(n.resources),i==t.data.length-1&&e(!0)}))})));case 7:if("Editar usuario"!==n){e.next=13;break}return e.next=10,J(i);case 10:return a=e.sent,console.log(Object.keys(a.data)),e.abrupt("return",new Promise((function(e){Object.keys(a.data).map((function(t,n){"permissionsReports"===t?y(a.data[t]):"permissionsUsers"===t&&k(a.data[t]),n==Object.keys(a.data).length-1&&e(!0)}))})));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(Se.a)(we.a.mark((function e(){var t;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(JSON.parse(localStorage.getItem("userDataToSave")).role);case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ft();return Object(ee.jsx)(p.a,{children:Object(ee.jsx)("div",{style:{height:t,width:"100%"},children:Object(ee.jsx)(Ce.a,{style:{height:t,padding:30,marginLeft:100,width:"100%"},children:Object(ee.jsxs)("div",{style:{marginRight:10,width:"100%"},children:[s&&Object(ee.jsxs)("div",{style:{float:"left",padding:20,marginRight:50,backgroundColor:"#F9F9F9",borderRadius:20,width:293},children:[Object(ee.jsx)("h2",{children:"Datos del usuario"}),Object(ee.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(ee.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"RUT"}),Object(ee.jsx)("p",{style:{margin:0,fontSize:16},children:s.rut})]}),Object(ee.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(ee.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Nombre y Apellido"}),Object(ee.jsxs)("p",{style:{margin:0,fontSize:16},children:[s.name," ",s.lastName]})]}),Object(ee.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(ee.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tipo de usuario"}),u&&Object(ee.jsx)("p",{style:{margin:0,fontSize:16},children:u})]}),Object(ee.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(ee.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Obra"}),Object(ee.jsx)("p",{style:{margin:0,fontSize:16},children:g})]}),Object(ee.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(ee.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Correo electr\xf3nico"}),Object(ee.jsx)("p",{style:{margin:0,fontSize:16},children:s.email})]}),Object(ee.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(ee.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tel\xe9fono"}),Object(ee.jsxs)("p",{style:{margin:0,fontSize:16},children:["+56 ",s.phone]})]}),"Nuevo usuario"===n&&Object(ee.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(ee.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Contrase\xf1a"}),Object(ee.jsxs)("p",{style:{margin:0,fontSize:16},children:[s.password," ",Object(ee.jsx)(Ae.a,{style:{fontSize:16,padding:2},children:Object(ee.jsx)(xe.a,{icon:pe.i})})," "]})]})]}),Object(ee.jsx)("div",{style:{float:"left",paddingLeft:50,height:"100%",width:"60%",borderLeftColor:"#C4C4C4",borderLeftWidth:1,borderLeftStyle:"solid"},children:Object(ee.jsxs)("div",{style:{padding:20,width:"100%"},children:[Object(ee.jsx)("h2",{children:"Admininstrar permisos"}),Object(ee.jsx)("div",{style:{float:"left",width:"45%"},children:v.map((function(e,t,i){return"Nuevo usuario"===n&&("sapExecutive"===JSON.parse(localStorage.getItem("userDataToSave")).role?e.isChecked=!0:"inspectionWorker"===JSON.parse(localStorage.getItem("userDataToSave")).role||"maintenceOperator"===JSON.parse(localStorage.getItem("userDataToSave")).role?1==t&&(e.isChecked=!0):("shiftManager"===JSON.parse(localStorage.getItem("userDataToSave")).role||"chiefMachinery"===JSON.parse(localStorage.getItem("userDataToSave")).role)&&(1!=t&&2!=t&&3!=t&&4!=t||(e.isChecked=!0))),t==v.length-1&&localStorage.setItem("listaPermisosReportes",JSON.stringify(i)),Object(ee.jsxs)("div",{children:["Nuevo usuario"===n&&Object(ee.jsx)(ot.a,{edge:"start",checked:e.isChecked,onChange:function(e){return D(e.target.checked,t,i,"reportes")}}),"Editar usuario"===n&&Object(ee.jsx)(ot.a,{edge:"start",checked:e.isChecked,onChange:function(e){return D(e.target.checked,t,i,"reportes")}}),Object(ee.jsxs)("label",{children:[" ",e.name," "]})]},t)}))}),Object(ee.jsx)("div",{style:{float:"left",width:"45%"},children:C.map((function(e,t){return"Nuevo usuario"===n&&("sapExecutive"===JSON.parse(localStorage.getItem("userDataToSave")).role?e.isChecked=!0:"inspectionWorker"===JSON.parse(localStorage.getItem("userDataToSave")).role||"maintenceOperator"===JSON.parse(localStorage.getItem("userDataToSave")).role?1==t&&(e.isChecked=!0):("shiftManager"===JSON.parse(localStorage.getItem("userDataToSave")).role||"chiefMachinery"===JSON.parse(localStorage.getItem("userDataToSave")).role)&&(1!=t&&2!=t||(e.isChecked=!0))),t==C.length-1&&localStorage.setItem("listaPermisosUsuarios",JSON.stringify(C)),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(ot.a,{edge:"start",checked:e.isChecked,onChange:function(e){return D(e.target.checked,t,C,"usuarios")}}),Object(ee.jsxs)("label",{children:[" ",e.name," "]})]},t)}))})]})})]})})})})},vt=function(e){var t=e.height,n=e.reportsList,i=e.reportType,r=Object(a.useState)(null),c=Object(o.a)(r,2),s=c[0],l=c[1],d=Object(a.useState)(!1),j=Object(o.a)(d,2),u=j[0],b=j[1];Object(a.useEffect)((function(){}),[]);var h={height:70,borderRadius:10,boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)"};return Object(ee.jsx)("div",{style:{height:t},children:Object(ee.jsxs)("div",{style:{height:t},children:[Object(ee.jsx)(Oe.a,{style:{width:"100%"},children:Object(ee.jsxs)("h1",{children:[" ",i," "]})}),Object(ee.jsx)("div",{children:Object(ee.jsxs)(Ge.a,{children:[Object(ee.jsx)("div",{style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(ee.jsx)(ot.a,{defaultChecked:!0})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsxs)("strong",{children:["Fecha ",Object(ee.jsx)("br",{})," Prevista"]})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsxs)("strong",{children:["Fecha ",Object(ee.jsx)("br",{})," Inicio"]})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsxs)("strong",{children:["Fecha ",Object(ee.jsx)("br",{})," T\xe9rmino"]})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Hor\xf3metro"})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"ID#"})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"15%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Responsable"})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Ver"})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Descargar"})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:"Estado"})," "]})})]})}),Object(ee.jsxs)("div",{style:{overflowY:"auto"},children:[n.length>0&&n.map((function(e,t){return e.roleTranslated=R(e.role),console.log(e),Object(ee.jsxs)(Ge.a,{style:h,children:[Object(ee.jsx)("div",{style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(ee.jsx)(ot.a,{defaultChecked:!0})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsxs)("strong",{children:[new Date(e.datePrev).getDate()+1,"/",new Date(e.datePrev).getMonth()+1,"/",new Date(e.datePrev).getFullYear()]})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("strong",{children:e.idIndex})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"15%",marginLeft:5},children:Object(ee.jsxs)("p",{style:{margin:0},children:[" ",Object(ee.jsx)("button",{onClick:function(){return l(e),void b(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Asignar"})," "]})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(ee.jsx)("p",{style:{margin:0},children:" Link "})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsx)("p",{style:{margin:0},children:"  "})}),Object(ee.jsx)("div",{style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(ee.jsx)("p",{style:{margin:0},children:"  "})})]},t)})),s&&Object(ee.jsx)(Ye,{open:u,report:s,closeModal:function(){b(!1)}})]})]})})},yt=n(323),wt=function(e){var t=e.route,n=k(),i=Object(a.useState)(!1),r=Object(o.a)(i,2),c=r[0],s=r[1],d=Object(a.useState)(),j=Object(o.a)(d,2),u=j[0],b=j[1];console.log(t);var h=Object(l.h)().id,O=JSON.parse(h),g=JSON.parse(O.machineData),x={id:O.id,brand:O.brand,model:O.model,pIDPM:O.pIDPM,type:O.type};console.log(O),console.log(JSON.parse(O.machineData));var f=function(){setTimeout((function(){s(!c)}),500)};Object(a.useEffect)((function(){$e.initDbPMs().then(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,$e.obtener(O.id,t.database);case 3:(n=e.sent)&&(b(n),console.log(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var m,v=JSON.parse(localStorage.getItem("sitio")).descripcion,y=Object(l.f)();return v||y.goBack(),"inspection/machine-detail"===t?m="Inspecci\xf3n":"maintenance/machine-detail"===t&&(m="Mantenci\xf3n"),Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:n.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:n.pageContainer,item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:n.pageCard,children:Object(ee.jsxs)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(ee.jsxs)(Oe.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(ee.jsx)(Ae.a,{onClick:function(){return setTimeout((function(){y.goBack()}),500)},children:Object(ee.jsx)(yt.a,{style:{color:"#333",fontSize:16}})}),Object(ee.jsxs)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:[m,"/",v,"/",O.type," ",O.brand," ",O.model,"/",g.internalNumber]})]})})}),Object(ee.jsxs)(Ce.a,{container:!0,children:[Object(ee.jsx)("div",{style:{width:"30%",textAlign:"left",padding:10},children:Object(ee.jsxs)("div",{style:{padding:15,borderTopLeftRadius:20,borderEndStartRadius:20,backgroundColor:"#F9F9F9",borderRadius:10,minHeight:400},children:[Object(ee.jsx)("h3",{style:{marginTop:5,marginBottom:5},children:O.type}),Object(ee.jsx)("div",{style:{position:"relative",zIndex:"1",width:"100%",height:180,backgroundColor:"transparent",textAlign:"center"},children:Object(ee.jsx)("img",{src:"/assets/".concat(O.model,".png"),height:"100%"})}),Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(ee.jsx)("b",{children:"Marca: "})," ",O.brand," "]})}),Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(ee.jsx)("b",{children:"Modelo: "})," ",O.model," "]})}),Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(ee.jsx)("b",{children:"C\xf3digo: "})," ",g.id," "]})}),Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(ee.jsx)("b",{children:"Hor\xf3metro Actual: "})," 325,9 Km "]})}),Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(ee.jsx)("b",{children:"N\xfamero Interno: "})," ",g.internalNumber," "]})}),Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(ee.jsx)("b",{children:"Informaci\xf3n: "})," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua "]})}),Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(ee.jsx)("b",{children:"\xdaltima Mantenci\xf3n: "})," 12/10/2021 "]})}),Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(ee.jsx)("b",{children:"\xdaltimo Inspector: "})," Juan P\xe9rez "]})})]})}),Object(ee.jsxs)("div",{style:{width:"70%",padding:5},children:[Object(ee.jsx)("div",{style:{height:480,padding:5,borderEndEndRadius:20,borderTopRightRadius:20,backgroundColor:"#fff"},children:u&&Object(ee.jsx)(bt,{height:300,pauta:u})}),Object(ee.jsxs)("div",{style:{position:"relative",bottom:20,width:"100%"},children:[Object(ee.jsx)("div",{style:{float:"left",width:"50%",textAlign:"left"},children:Object(ee.jsx)("button",{onClick:f,style:{color:"#BB2D2D",borderColor:"#BB2D2D",height:48,width:160,borderRadius:23,borderWidth:2,fontSize:20},children:Object(ee.jsx)("strong",{children:"Ver 3D"})})}),Object(ee.jsx)("div",{style:{float:"left",width:"50%",textAlign:"right"},children:Object(ee.jsx)("button",{style:{borderColor:"#BB2D2D",backgroundColor:"#BB2D2D",color:"#fff",height:48,width:210,borderRadius:23,borderWidth:2,fontSize:20},children:"Finalizar Jornada"})})]})]}),Object(ee.jsx)("div",{children:Object(ee.jsx)(We.a,{open:c,close:!c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(ee.jsxs)("div",{style:{height:"100%",width:"100%",backgroundColor:"#333"},children:[Object(ee.jsx)(at,{machine:x}),Object(ee.jsx)(Ze.a,{onClick:f,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(ee.jsx)(Be.a,{style:{color:"#ccc"}})})]})})})]})]})})})})})},St=Object(w.a)((function(e){return{root:{display:"inline-block",height:220,width:220,border:"5px solid gray",padding:0,backgroundColor:"rgba(255,255,255,0.5)",boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)"},card:{boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)"},imageContainer:{width:"100%",height:250,display:"flex",alignItems:"center",justifyContent:"center"},image:{width:"70%",height:190,objectFit:"cover"},textContainer:{padding:5,color:"#505050",textTransform:"uppercase",fontWeight:"bold",textAlign:"center"}}})),Ct=function(e){e.image;var t=e.machine,n=e.route,i=St();console.log(n),console.log(t);var a={brand:t.brand,id:t.id,model:t.model,pIDPM:t.pIDPM,type:t.type};return Object(ee.jsx)(ge.a,{className:i.root,style:{borderRadius:20,height:"50%",width:"100%"},component:d.b,to:"/".concat(n,"/").concat(JSON.stringify(a)),children:Object(ee.jsxs)("div",{className:"overlay",children:[Object(ee.jsx)("div",{children:Object(ee.jsx)("img",{className:i.image,src:"data:".concat(t.image),alt:t.model})}),Object(ee.jsx)("div",{style:{position:"absolute",bottom:5,width:"100%",textAlign:"center"},children:"".concat(t.type," ").concat(t.brand," ").concat(t.model)})]})})},kt=(Object(w.a)((function(e){return{root:{display:"inline-block",textAlign:"center"},icon:{marginBottom:15},button:{minWidth:180}}})),Object(w.a)((function(e){return{root:{display:"inline-block",textAlign:"center",padding:10,width:"25%",backgroundColor:"transparent"},icon:{padding:20,width:"100%"},button:{minWidth:"100%"},buttonSelection:{backgroundColor:"#F9F9F9",color:"#505050",width:"100%",minHeight:340,borderRadius:20,fontFamily:"Raleway",textTransform:"none"},iconButton:{color:"#BE2E26"}}}))),Dt=function(e){var t=e.variant,n=e.disableButton,i=de().dictionary,a=kt(),r=Object(l.f)();return Object(ee.jsx)("div",{className:a.root,children:Object(ee.jsx)(ge.a,{onClick:function(){r.push("/".concat(t))},variant:"contained",className:a.buttonSelection,disabled:n,children:Object(ee.jsxs)("div",{className:a.icon,children:[function(){switch(t){case"inspection":return Object(ee.jsx)(xe.a,{icon:pe.p,size:"4x",className:a.iconButton});case"maintenance":return Object(ee.jsx)(xe.a,{icon:pe.r,size:"4x",className:a.iconButton});case"reports":return Object(ee.jsx)(xe.a,{icon:pe.f,size:"4x",className:a.iconButton});case"administration":return Object(ee.jsx)(xe.a,{icon:pe.u,size:"4x",className:a.iconButton});case"users":return Object(ee.jsx)(xe.a,{icon:pe.v,size:"4x",className:a.iconButton})}}(),Object(ee.jsx)("br",{}),Object(ee.jsx)("p",{style:{fontSize:"1.5vw",marginBottom:0,fontWeight:"bold"},children:function(){switch(t){case"inspection":return i.welcome.inspectionButton;case"maintenance":return i.welcome.maintenanceButton;case"reports":return i.welcome.reportsButton;case"administration":return i.welcome.administrationButton;case"users":return i.admin.adminUsersButton}}()})]})})})},Rt=function(e){var t=e.site,n=Object(a.useState)(!1),i=Object(o.a)(n,2);i[0],i[1];return Object(ee.jsxs)(Ce.a,{container:!0,style:{borderStyle:"solid",borderWidth:2,borderColor:"#505050",borderRadius:20,padding:20},children:[Object(ee.jsx)("div",{style:{margin:"auto",textAlign:"left"},children:Object(ee.jsxs)("h1",{children:[" ",t.descripcion," "]})}),Object(ee.jsx)("div",{style:{position:"relative",right:20,margin:"auto",marginRight:80,maxWidth:50,textAlign:"right"},children:Object(ee.jsx)(ge.a,{onClick:function(){localStorage.setItem("sitio",JSON.stringify(t)),alert(t.descripcion+" seleccionado.")},style:{borderStyle:"solid",borderWidth:2,backgroundColor:"#BE2E26",borderColor:"#BE2E26",color:"#FFF",borderRadius:20,padding:20},children:"Seleccionar"})})]})},Nt=function(e){var t=e.route,n=k(),i=(de().dictionary,Object(a.useState)([])),r=Object(o.a)(i,2),c=r[0],s=r[1];Object(a.useEffect)((function(){j()}),[]);var d,j=function(){var e=Object(Se.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ke.initDbMachines().then(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.consultar(t.database);case 2:n=e.sent,console.log(n),s(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=JSON.parse(localStorage.getItem("sitio")).descripcion,b=Object(l.f)();return u||b.goBack(),"inspection"===t?d="Inspecci\xf3n":"maintenance"===t&&(d="Mantenci\xf3n"),Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:n.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:n.pageContainer,item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:n.pageCard,children:Object(ee.jsxs)(Ce.a,{container:!0,alignItems:"flex-start",justifyContent:"flex-start",children:[Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(ee.jsxs)(Oe.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(ee.jsx)(Ae.a,{onClick:function(){return setTimeout((function(){b.goBack()}),500)},children:Object(ee.jsx)(yt.a,{style:{color:"#333",fontSize:16}})}),Object(ee.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"".concat(d,"/").concat(u)})]})})}),Object(ee.jsx)(Ce.a,{container:!0,item:!0,spacing:5,justifyContent:"flex-start",style:{textAlign:"center",height:"75vh"},children:c.filter((function(e){return e.toString()})).map((function(e){return Object(ee.jsx)(Ce.a,{item:!0,style:{width:"30%"},children:Object(ee.jsx)(Ct,{machine:e,image:e.image,route:t})},e.id)}))})]})})})})})},It=n(315),At=function(e){var t=e.route,n=Object(a.useState)(""),i=Object(o.a)(n,2),r=i[0],c=i[1],s=Object(a.useState)([]),d=Object(o.a)(s,2),j=d[0],u=d[1],b=Object(a.useState)(!1),h=Object(o.a)(b,2),O=h[0],g=h[1],x=Object(l.f)(),f=k(),m=JSON.parse(localStorage.getItem("sitio")).descripcion,v=JSON.parse(localStorage.getItem("sitio")).idobra,y=Object(l.h)().id,w=JSON.parse(y),S=function(){setTimeout((function(){g(!O)}),500)},C=function(e){var t={id:w.id,brand:w.brand,model:w.model,pIDPM:w.pIDPM,type:w.type,machineData:JSON.stringify(e)};x.replace("machine-detail/".concat(JSON.stringify(t)))};return Object(a.useEffect)((function(){var e;console.log(t),console.log(JSON.parse(y)),e=JSON.parse(y).model,W(v,e).then((function(e){console.log(e.data),u(e.data)})),m||x.goBack(),"inspection"===t?c("Inspecci\xf3n"):"maintenance"===t&&c("Mantenci\xf3n")}),[]),Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:f.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:f.pageContainer,item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:f.pageCard,children:Object(ee.jsxs)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(ee.jsx)("div",{style:{width:"100%",textAlign:"center",padding:10},children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"center",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(ee.jsxs)(Oe.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(ee.jsx)(Ae.a,{onClick:function(){return setTimeout((function(){x.goBack()}),500)},children:Object(ee.jsx)(yt.a,{style:{color:"#333",fontSize:16}})}),Object(ee.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"".concat(r,"/").concat(m,"/").concat(w.type," ").concat(w.brand," ").concat(w.model)})]})})}),Object(ee.jsx)(It.a,{style:{width:"100vw",marginRight:11,overflowY:"scroll",maxHeight:"70vh",paddingLeft:20,paddingRight:20},children:j.map((function(e,t){return Object(ee.jsxs)(Ge.a,{alignItems:"flex-start",style:{minHeight:148,marginBottom:20,padding:20,borderStyle:"solid",borderWidth:2,borderColor:"#CCC",borderRadius:20},children:[Object(ee.jsx)("div",{children:Object(ee.jsx)("img",{src:"../assets/no-image.png",style:{height:120,width:"20vw",objectFit:"cover"}})}),Object(ee.jsxs)("div",{style:{marginLeft:17,marginRight:17},children:[Object(ee.jsxs)("h1",{style:{margin:0},children:[" ",Object(ee.jsxs)("strong",{children:[e.type," ",e.equ]})," "]}),Object(ee.jsxs)("div",{style:{float:"left",minWidth:200},children:[Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Marca: ",e.brand.toUpperCase()]}),Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Modelo: ",e.model]}),Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["C\xf3digo: ",e.equid]})]}),Object(ee.jsxs)("div",{style:{float:"left",minWidth:200},children:[Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Hor\xf3metro Actual: ",e.hourMeter]}),Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["N\xfamero Interno: ",e.equ]}),Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Serie motor: ",e.enginesnr]})]}),Object(ee.jsx)("div",{style:{float:"left",minWidth:200},children:Object(ee.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Obra: ",m]})}),Object(ee.jsx)("div",{style:{float:"right",minWidth:200,height:80},children:Object(ee.jsxs)("div",{style:{position:"absolute",bottom:25},children:[Object(ee.jsx)("button",{style:{width:100,height:30,borderRadius:20},onClick:S,children:Object(ee.jsx)("strong",{children:"Ver 3D"})}),Object(ee.jsx)("button",{style:{width:100,height:30,borderRadius:20,marginLeft:6},onClick:function(){return C(e)},children:Object(ee.jsx)("strong",{children:"Ver m\xe1s"})})]})})]})]},t)}))}),Object(ee.jsx)("div",{children:Object(ee.jsx)(We.a,{open:O,close:!O,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(ee.jsxs)("div",{style:{height:"100%",width:"100%",backgroundColor:"#333"},children:[Object(ee.jsx)(at,{machine:w}),Object(ee.jsx)(Ze.a,{onClick:S,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:Object(ee.jsx)(Be.a,{})})]})})})]})})})})})},Bt=function(){var e=k();return Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:Object(Te.a)(e.pageCard,e.noNavBarMargin),children:Object(ee.jsx)(Ce.a,{container:!0,style:{height:"100%"},alignItems:"center",justifyContent:"center",children:Object(ee.jsx)(Ce.a,{container:!0,item:!0,spacing:8,justifyContent:"center",children:Object(ee.jsx)(Ce.a,{item:!0,children:Object(ee.jsx)(Ve.a,{size:200})})})})})})})})},Mt=n(335),Tt=n.p+"static/media/Iniciar sesio\u0301n-1.0c206597.png",Et=function(){var e=k(),t=function(){return Object(ee.jsxs)(Ue.a,{className:Object(Te.a)(e.pageCard,e.noNavBarMargin),children:[Object(ee.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(ee.jsx)("img",{src:fe,height:80,alt:""}),Object(ee.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(ee.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),Object(ee.jsx)("p",{style:{fontSize:"2em",marginBottom:0},children:"Iniciar sesi\xf3n"}),Object(ee.jsxs)("p",{style:{fontSize:10,marginTop:0},children:[" ",I.version," "]})]}),Object(ee.jsx)(Ne,{})]})};Object(a.useEffect)((function(){n()}),[]);var n=function(){var e=Object(Se.a)(we.a.mark((function e(){var t;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent).length>0&&t.forEach((function(e,t){window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(ee.jsx)(Mt.a,{smDown:!0,children:Object(ee.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:t()})}),Object(ee.jsx)(Mt.a,{smDown:!0,children:Object(ee.jsx)("div",{style:{float:"left",width:"50%",height:"100%",display:"block"},children:Object(ee.jsx)("img",{src:Tt,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(ee.jsx)(Mt.a,{mdUp:!0,children:Object(ee.jsx)("div",{children:t()})})]})},zt=n(12),Lt={notificaciones1:{float:"left",margin:10,height:"100%",width:"35vw",padding:30,backgroundColor:"#F9F9F9",borderRadius:20,textTransform:"none",verticalAlign:"middle"},notificaciones2:{float:"left",margin:10,height:"100%",width:"20vw",padding:30,backgroundColor:"#F9F9F9",borderRadius:20,textTransform:"none",verticalAlign:"middle"},date:{float:"left",margin:10,height:"100%",width:"25vw",padding:20,backgroundColor:"#F9F9F9",borderRadius:20,textTransform:"none",verticalAlign:"middle",textAlign:"center"}},Ft=function(){var e=k(),t=Object(a.useState)(""),n=Object(o.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(""),s=Object(o.a)(c,2),l=s[0],d=s[1],j=Object(a.useState)(!1),u=Object(o.a)(j,2),b=u[0],h=u[1],O=Object(a.useState)(!1),g=Object(o.a)(O,2),x=g[0],f=g[1],m=Object(a.useState)(0),v=Object(o.a)(m,2),y=v[0],w=v[1],S=Object(a.useState)(""),C=Object(o.a)(S,2),D=C[0],R=C[1],N=Object(a.useState)(!0),A=Object(o.a)(N,2),B=A[0],M=A[1],T=Object(a.useState)(!0),E=Object(o.a)(T,2),z=E[0],L=E[1],F=Object(a.useState)("Sin notificaciones"),P=Object(o.a)(F,2),W=P[0],Y=P[1],G=Object(a.useState)("Sin notificaciones"),J=Object(o.a)(G,2),Q=J[0],V=J[1];Object(a.useEffect)((function(){K(),localStorage.getItem("sitio")?M(!1):Y("Para navegar en la aplicaci\xf3n debe seleccionar una obra"),"admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")?L(!1):V('Solo Roles "Admin" o "Ejecutivo SAP" puede administrar usuarios.'),localStorage.getItem("version")&&localStorage.getItem("version")!=I.version&&(alert("Plataforma requiere actualizaci\xf3n. Se cerrar\xe1 sesi\xf3n para actualizar el servicio."),H()),localStorage.getItem("version")||(f(!0),localStorage.setItem("version",I.version)),r(function(e){var t,n=new Date(e).getDay();1==n?t="Lunes":2==n?t="Martes":3==n?t="Miercoles":4==n?t="Jueves":5==n?t="Viernes":6==n?t="Sabado":0==n&&(t="Domingo");var i,a=new Date(e).getDate(),r=new Date(e).getMonth();return 0==r?i="Enero":1==r?i="Febrero":2==r?i="Marzo":3==r?i="Abril":4==r?i="Mayo":5==r?i="Junio":6==r?i="Julio":7==r?i="Agosto":8==r?i="Septiembre":9==r?i="Octubre":10==r?i="Noviembre":11==r&&(i="Diciembre"),(t+" "+a+" DE "+i).toUpperCase()}(Date.now())),d(function(e){var t="",n="",i=new Date(e).getMinutes(),a=new Date(e).getHours();return n=i<10?"0"+i:i,t=a<10?"0"+a:a,setInterval((function(){var e=Date.now();i!=new Date(e).getMinutes()&&(i=new Date(e).getMinutes(),n=i<10?"0"+i:i),a!=new Date(e).getHours()&&(a=new Date(e).getHours(),t=a<10?"0"+a:a)}),1e3),"".concat(t,":").concat(n)}(Date.now()))}),[]);var H=function(){var e=Object(Se.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.clear(),window.location.reload(),X();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(Se.a)(we.a.mark((function e(){var t;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent)&&t.forEach((function(e,t){window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(Se.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n,i,a;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=15;break}return n=[],e.next=4,ae();case 4:return n=e.sent,e.next=7,tt.initDbObras();case 7:if(!(i=e.sent)){e.next=13;break}return e.next=11,tt.consultar(i.database);case 11:(a=e.sent)&&(n.length==a.length?t(!1):t(!0));case 13:e.next=16;break;case 15:t(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(Se.a)(we.a.mark((function e(){var t,n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:if(t=e.sent,console.log(t),!t){e.next=14;break}return h(!0),R("Descargando datos de las obras."),w(50),e.next=10,$();case 10:n=e.sent,setTimeout(Object(Se.a)(we.a.mark((function e(){var t;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}return console.log(n),R("Descargando datos de las m\xe1quinas."),w(100),e.next=6,te();case 6:(t=e.sent)&&(console.log(t),setTimeout(Object(Se.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0,e.next=3,_(0,t);case 3:case"end":return e.stop()}}),e)}))),1e3)),e.next=11;break;case 10:h(!1);case 11:case"end":return e.stop()}}),e)}))),1e3),e.next=15;break;case 14:h(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(Se.a)(we.a.mark((function e(t,n){var i,a,r,c,s,o,l,d,j,u,b;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!=n.length){e.next=4;break}setTimeout(Object(Se.a)(we.a.mark((function e(){var t,n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(100),R("Recursos descargados"),e.next=4,it.initDb3DFiles();case 4:if(!(t=e.sent)){e.next=10;break}return e.next=8,it.consultar(t.database);case 8:n=e.sent,console.log(n);case 10:setTimeout((function(){h(!1)}),1e3);case 11:case"end":return e.stop()}}),e)}))),1e3),e.next=21;break;case 4:return console.log(t,n),console.log(t,n.length),R("Descargando Modelo 3D "+(t+1)),e.next=9,re(n[t]);case 9:return i=e.sent,a=n[t],r=a.id,c=a.model,s=a.brand,o=a.type,console.log(i),e.next=14,fetch(i);case 14:l=e.sent,d=l.body.getReader(),j=+l.headers.get("Content-Length"),u=0,b=[],w(0),setTimeout(Object(Se.a)(we.a.mark((function e(){var i,a,l,h,O,g,x,p;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,d.read();case 3:if(!(i=e.sent).done){e.next=20;break}a=new Uint8Array(u),l=0,h=Object(zt.a)(b);try{for(h.s();!(O=h.n()).done;)g=O.value,a.set(g,l),l+=g.length}catch(f){h.e(f)}finally{h.f()}return x=new TextDecoder("utf-8").decode(a),e.next=12,it.initDb3DFiles();case 12:if(p=e.sent,console.log("Se actualiza"),!p){e.next=19;break}return e.next=17,it.actualizar({id:r,info:{model:c,brand:s,type:o},data:x},p.database);case 17:e.sent&&(console.log("Actualizada m\xe1quina id:"+t),_(t+=1,n));case 19:return e.abrupt("break",25);case 20:b.push(i.value),u+=i.value.length,w(100*u/j),e.next=0;break;case 25:case"end":return e.stop()}}),e)}))),1e3);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){return new Promise(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n,i;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,ae();case 3:return n=e.sent,e.next=6,tt.initDbObras();case 6:(i=e.sent)&&n.forEach(function(){var e=Object(Se.a)(we.a.mark((function e(a,r){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.id=r,e.next=3,tt.actualizar(a,i.database,i.database.version);case 3:if(r!==n.length-1){e.next=8;break}return e.next=6,tt.consultar(i.database);case 6:e.sent&&t(!0);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},te=function(){return new Promise(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n,i;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,ie();case 3:return n=e.sent,e.next=6,Ke.initDbMachines();case 6:(i=e.sent)&&n.forEach(function(){var e=Object(Se.a)(we.a.mark((function e(a,r){var c;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.id=r,(c=new XMLHttpRequest).onload=Object(Se.a)(we.a.mark((function e(){var s,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s=new FileReader).onload=Object(Se.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.image=s.result.replace("data:",""),console.log(a),a.image&&Ke.actualizar(a,i.database);case 3:case"end":return e.stop()}}),e)}))),s.readAsDataURL(c.response),r!==n.length-1){e.next=8;break}return e.next=6,ne(n);case 6:o=e.sent,t(o);case 8:case"end":return e.stop()}}),e)}))),c.open("GET","/assets/".concat(a.model,".png")),c.responseType="blob",c.send();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},ne=function(e){return new Promise(function(){var t=Object(Se.a)(we.a.mark((function t(n){var i,a;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ke.initDbMachines();case 2:i=t.sent;case 3:return t.next=5,Ke.consultar(i.database);case 5:a=t.sent,console.log(a);case 7:if(a.length<e.length){t.next=3;break}case 8:a.length===e.length&&n(a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},ie=function(){return new Promise((function(e){U().then((function(t){e(t.data)})).catch((function(e){}))}))},ae=function(){return new Promise((function(e){Z().then((function(t){"admin"!==localStorage.getItem("role")&&"sapExecutive"!==localStorage.getItem("role")||(localStorage.setItem("sitio",JSON.stringify(t.data[0])),setTimeout((function(){M(!1),Y("Sin notificaciones")}),500)),e(t.data)})).catch((function(e){}))}))},re=function(e){var t;return new Promise((function(n){"Cami\xf3n"===e.type?t=I.storageURL+"maquinas/camiones/"+e.brand.toUpperCase()+"/"+e.brand.toUpperCase()+"_"+e.model+"_Preview.gltf":"Pala"===e.type&&(t=I.storageURL+"maquinas/palas/"+e.brand.toUpperCase()+"/"+e.brand+"_"+e.model+"_Preview.gltf"),n(t)}))};return Object(ee.jsx)(p.a,{height:"100%",style:{fontFamily:"Raleway"},children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsxs)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:[Object(ee.jsxs)(Ue.a,{className:e.pageCard,children:[Object(ee.jsx)("div",{style:{height:70},children:Object(ee.jsxs)("p",{style:{fontSize:24},children:["Hola ",localStorage.getItem("name")," \xbfPor d\xf3nde quieres comenzar hoy?"]})}),Object(ee.jsxs)(Ce.a,{item:!0,style:{width:"100%",height:"14.5vh",margin:"auto"},children:[Object(ee.jsx)("div",{style:Lt.notificaciones1,children:Object(ee.jsxs)("p",{style:{fontSize:"1.4vw",margin:0},children:[" ",W," "]})}),Object(ee.jsx)("div",{style:Lt.notificaciones2,children:Object(ee.jsxs)("p",{style:{fontSize:"1.4vw",margin:0},children:[" ",Q]})}),Object(ee.jsxs)("div",{style:Lt.date,children:[Object(ee.jsxs)("p",{style:{fontSize:"1vw",margin:0},children:[" ",i," "]}),Object(ee.jsxs)("p",{style:{fontSize:"2.7vw",margin:0},children:[" ",l," hs "]})]})]}),Object(ee.jsxs)(Ce.a,{container:!0,spacing:2,children:[Object(ee.jsx)(Dt,{variant:"inspection",disableButton:B}),Object(ee.jsx)(Dt,{variant:"maintenance",disableButton:B}),Object(ee.jsx)(Dt,{variant:"reports"}),Object(ee.jsx)(Dt,{variant:"administration",disableButton:z})]})]}),Object(ee.jsx)(He,{open:b,progress:y,loadingData:D,withProgress:!0}),Object(ee.jsx)(Xe,{open:x,closeModal:function(){f(!1)}})]})})})},Pt=function(){var e=k(),t=function(){return Object(ee.jsxs)(Ue.a,{className:Object(Te.a)(e.pageCard,e.noNavBarMargin),children:[Object(ee.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(ee.jsx)("img",{src:fe,height:80,alt:""}),Object(ee.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(ee.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),Object(ee.jsx)("p",{style:{fontSize:"2em"},children:"Recuperar Contrase\xf1a"})]}),Object(ee.jsx)(Pe,{})]})};return Object(ee.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(ee.jsx)(Mt.a,{smDown:!0,children:Object(ee.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:t()})}),Object(ee.jsx)(Mt.a,{smDown:!0,children:Object(ee.jsx)("div",{style:{float:"left",width:"50%",height:"100%",display:"block"},children:Object(ee.jsx)("img",{src:Tt,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(ee.jsx)(Mt.a,{mdUp:!0,children:Object(ee.jsx)("div",{children:t()})})]})},Ut=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=(t[0],t[1],Object(a.useState)([])),i=Object(o.a)(n,2),r=(i[0],i[1]);Object(a.useEffect)((function(){U().then((function(e){console.log(e.data),e.data&&r(e.data)}))}),[]);return Object(ee.jsx)(p.a,{children:Object(ee.jsx)("div",{children:Object(ee.jsx)("h1",{children:"Hello!!"})})})},Wt=n(324),Zt=Object(w.a)((function(e){return{root:{"& :-webkit-autofill":{"-webkit-transition-delay":"9999s","-webkit-transition":"color 9999s ease-out, background-color 9999s ease-out"}},lightVariant:{"& .Mui-focused":{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}},"& .MuiInputBase-input":{color:"white"}},darkVariant:{"& .Mui-focused .MuiInputAdornment-root":{color:e.palette.primary.main}}}})),Yt=function(e){var t=e.value,n=e.onChange,i=e.lightVariant,a=e.fullWidth,r=de().dictionary,c=Zt();return Object(ee.jsx)(ke.a,{className:Object(Te.a)(c.root,i?c.lightVariant:c.darkVariant),fullWidth:a,type:"text",name:"filter",label:r.components.fields.filter.toLocaleUpperCase(),value:t,onChange:n,variant:"outlined",InputProps:{endAdornment:Object(ee.jsx)(Wt.a,{position:"end",children:Object(ee.jsx)(xe.a,{icon:pe.p})})}})},Gt=Object(w.a)((function(e){return{root:{padding:20,backgroundColor:"rgba(0, 0, 0, 0)",border:"5px solid gray",borderRadius:0,boxShadow:"none"},fichaText:{fontSize:"1.2rem",color:e.palette.primary.main},name:{fontWeight:"bold"}}})),Jt=function(){var e=k(),t=Gt(),n=Object(a.useState)(""),i=Object(o.a)(n,2),r=i[0],c=i[1];return Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:e.pageCard,children:Object(ee.jsxs)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(ee.jsx)(Ce.a,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:Object(ee.jsx)(Yt,{value:r,onChange:function(e){c(e.target.value)}})}),Object(ee.jsx)(Ce.a,{item:!0,xs:12,children:Object(ee.jsx)("div",{className:e.pageTitle,children:"DIVISIONES"})}),Object(ee.jsx)(Ce.a,{item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:t.root,children:Object(ee.jsxs)(Ce.a,{container:!0,item:!0,alignContent:"center",spacing:2,children:[Object(ee.jsxs)(Ce.a,{item:!0,xs:12,md:6,children:[Object(ee.jsx)("div",{className:Object(Te.a)(t.name,t.fichaText),children:"NOMBRE TIPO"}),Object(ee.jsx)("div",{className:t.fichaText,children:"MODELO"}),Object(ee.jsx)("div",{className:t.fichaText,children:"INFORMACI\xd3N"}),Object(ee.jsx)("div",{className:t.fichaText,children:"\xdaLTIMA INSPECCI\xd3N"})]}),Object(ee.jsx)(Ce.a,{item:!0,xs:12,md:6,children:Object(ee.jsx)("div",{style:{height:120,width:"100%"}})})]})})})]})})})})})},Qt=n(325),Vt=n(326),Ht=n(342),Xt=[{color:"#27AE60",name:"Completadas",button:"Detalle",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",number:null},{color:"#DE4343",name:"Por asignar",button:"Detalle",number:null}],qt=[{color:"#27AE60",name:"Completadas",button:"Detalle",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",number:null},{color:"#DE4343",name:"Por asignar",button:"Detalle",number:null}],Kt=(Object(w.a)((function(e){return{paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}}})),function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)([]),c=Object(o.a)(r,2),s=c[0],j=c[1],u=Object(a.useState)([]),b=Object(o.a)(u,2),h=b[0],O=b[1],g=Object(a.useState)(0),x=Object(o.a)(g,2),f=x[0],m=(x[1],Object(a.useState)(0)),v=Object(o.a)(m,2),y=v[0],w=(v[1],Object(a.useState)(0)),S=Object(o.a)(w,2),C=S[0],D=(S[1],Object(a.useState)(0)),R=Object(o.a)(D,2),N=R[0],I=(R[1],Object(a.useState)([])),A=Object(o.a)(I,2),B=A[0],M=A[1],T=Object(a.useState)(""),E=Object(o.a)(T,2),z=E[0],L=E[1],F=Object(a.useState)(!1),P=Object(o.a)(F,2),U=P[0],W=P[1],Z=k(),Y=(de().dictionary,Object(l.f)()),G=function(e,t){$(e,t).then((function(e){M(e.data),i(!1),L(t)}))};return Object(a.useEffect)((function(){Xt.forEach(function(){var e=Object(Se.a)(we.a.mark((function e(t,n){var i;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t.name,"Inspecci\xf3n");case 2:i=e.sent,t.number=i.data.length,n==Xt.length-1&&j(Xt);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),qt.forEach(function(){var e=Object(Se.a)(we.a.mark((function e(t,n){var i;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t.name,"Mantenci\xf3n");case 2:i=e.sent,t.number=i.data.length,n==qt.length-1&&O(qt);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),"admin"!==localStorage.getItem("role")&&"sapExecutive"!==localStorage.getItem("role")||W(!0)}),[]),Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:Z.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:Z.pageContainer,item:!0,xs:12,children:Object(ee.jsxs)(Ue.a,{className:Z.pageCard,children:[Object(ee.jsx)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(ee.jsxs)(Oe.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(ee.jsx)(Ae.a,{onClick:function(){return setTimeout((function(){Y.goBack()}),500)},children:Object(ee.jsx)(yt.a,{style:{color:"#333",fontSize:16}})}),Object(ee.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Reportes"})]})})})}),Object(ee.jsx)("div",{style:{display:"block",float:"left",width:"30%"},children:Object(ee.jsx)(Ce.a,{style:{margin:0,height:"70vh"},container:!0,spacing:1,children:Object(ee.jsxs)("div",{style:{backgroundColor:"#F9F9F9",marginLeft:10,borderRadius:20},children:[Object(ee.jsxs)("div",{style:{height:"calc(45%)",margin:10},children:[Object(ee.jsx)("h2",{children:"Inspecciones"}),Object(ee.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(ee.jsx)("div",{style:{float:"left",width:"40%"},children:Object(ee.jsx)("p",{style:{fontSize:32,margin:0},children:f})}),Object(ee.jsx)("div",{style:{float:"left",right:5,width:"40%"},children:Object(ee.jsx)("p",{style:{fontSize:8},children:"Inspecciones por asignar"})})]}),Object(ee.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(ee.jsx)("div",{style:{float:"left",width:"40%"},children:Object(ee.jsx)("p",{style:{fontSize:32,margin:0},children:y})}),Object(ee.jsx)("div",{style:{float:"left",right:5,width:"40%"},children:Object(ee.jsx)("p",{style:{fontSize:8},children:"Inspecciones completadas en la semana"})})]}),Object(ee.jsx)("div",{style:{paddingTop:80,width:"100%"},children:s.map((function(e,t){return Object(ee.jsxs)(Ge.a,{style:{width:"100%",paddingTop:0,paddingBottom:2},children:[Object(ee.jsx)(Qt.a,{children:Object(ee.jsx)(xe.a,{icon:pe.d,size:"2x",style:{marginRight:10},color:e.color})}),Object(ee.jsx)(Vt.a,{primary:e.name}),Object(ee.jsx)(Ht.a,{label:e.number,style:{marginLeft:10,marginRight:10}}),Object(ee.jsx)("button",{onClick:function(){return G(e.name,"Inspecci\xf3n")},style:{position:"relative",right:5,width:80,height:30,borderRadius:20},children:e.button})]},t)}))})]}),Object(ee.jsxs)("div",{style:{height:"calc(45%)",margin:10},children:[Object(ee.jsx)("h2",{children:"Mantenciones"}),Object(ee.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(ee.jsx)("div",{style:{float:"left",width:"40%"},children:Object(ee.jsx)("p",{style:{fontSize:32,margin:0},children:C})}),Object(ee.jsx)("div",{style:{float:"left",right:5,width:"40%"},children:Object(ee.jsx)("p",{style:{fontSize:8},children:"Mantenciones por asignar"})})]}),Object(ee.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(ee.jsx)("div",{style:{float:"left",width:"40%"},children:Object(ee.jsxs)("p",{style:{fontSize:32,margin:0},children:[N," "]})}),Object(ee.jsx)("div",{style:{float:"left",right:5,width:"40%"},children:Object(ee.jsx)("p",{style:{fontSize:8},children:"Mantenciones completadas en la semana"})})]}),Object(ee.jsx)("div",{style:{paddingTop:80,width:"100%"},children:h.map((function(e,t){return Object(ee.jsxs)(Ge.a,{style:{width:"100%",paddingTop:0,paddingBottom:2},children:[Object(ee.jsx)(Qt.a,{children:Object(ee.jsx)(xe.a,{icon:pe.d,size:"2x",style:{marginRight:10},color:e.color})}),Object(ee.jsx)(Vt.a,{primary:e.name}),Object(ee.jsx)(Ht.a,{label:e.number,style:{marginLeft:10,marginRight:10}}),Object(ee.jsx)("button",{onClick:function(){return G(e.name,"Mantenci\xf3n")},style:{position:"relative",right:5,width:80,height:30,borderRadius:20},children:e.button})]},t)}))})]})]})})}),Object(ee.jsxs)("div",{style:{height:"calc(100%/1.2)",width:"68%",float:"right"},children:[!n&&Object(ee.jsx)(vt,{height:"100%",reportsList:B,reportType:z}),n&&Object(ee.jsxs)("div",{children:[Object(ee.jsx)("img",{style:{margin:0,position:"absolute",top:"50%",left:"calc(100%/1.53)",msTransform:"translateY(-50%)",transform:"translateY(-50%)"},src:"../../assets/icons/Arrow.svg",alt:""}),Object(ee.jsx)("div",{style:{textAlign:"center",position:"absolute",top:"55%",left:"calc(100%/1.6)"},children:Object(ee.jsxs)("p",{children:["Selecciona una opci\xf3n ",Object(ee.jsx)("br",{})," para ver el detalle"]})})]})]}),U&&Object(ee.jsx)("div",{style:{height:"10vh",width:"60%",position:"absolute",bottom:10,right:10,textAlign:"right"},children:Object(ee.jsx)(d.b,{to:"/reports/create-report",children:Object(ee.jsx)("button",{style:{fontSize:20,color:"#BB2D2D",width:210,height:48,borderRadius:23,borderWidth:2,borderStyle:"solid",borderColor:"#BB2D2D",backgroundColor:"#F9F9F9"},children:"Crear Reporte"})})})]})})})})}),_t=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)([]),c=Object(o.a)(r,2),s=c[0],d=c[1],j=Object(a.useState)(),u=Object(o.a)(j,2),b=u[0],h=u[1],O=Object(a.useState)(),g=Object(o.a)(O,2),x=g[0],f=g[1],m=Object(a.useState)(),v=Object(o.a)(m,2),y=v[0],w=v[1],S=Object(a.useState)(),C=Object(o.a)(S,2),D=C[0],R=C[1],N=Object(a.useState)(!0),I=Object(o.a)(N,2),A=I[0],B=I[1],M=Object(a.useState)(0),T=Object(o.a)(M,2),E=T[0],z=T[1],L=Object(a.useState)(""),F=Object(o.a)(L,2),P=F[0],U=F[1],W=k(),Z=Object(l.f)(),Y=function(){var e=Object(Se.a)(we.a.mark((function e(){var t,n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t={createdBy:localStorage.getItem("_id"),updatedBy:localStorage.getItem("_id"),state:"Asignar",datePrev:P,machine:D,guide:b,reportType:y}).machine&&t.guide&&t.reportType){e.next=5;break}alert("Falta informaci\xf3n"),e.next=9;break;case 5:return e.next=7,K(t);case 7:(n=e.sent)&&(alert("Reporte ".concat(n.data.idIndex,", para m\xe1quina modelo ").concat(n.data.machine," creado satisfactoriamente.")),Z.goBack());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){$e.initDbPMs().then(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.consultar(t.database);case 2:n=e.sent,d(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},J=function(){var e=Object(Se.a)(we.a.mark((function e(){var t;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,console.log(t.data),z(t.data.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Ke.initDbMachines().then(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.consultar(t.database);case 2:n=e.sent,i(n),G();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J()}),[]);return Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:W.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:W.pageContainer,item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:W.pageCard,children:Object(ee.jsxs)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(ee.jsxs)(Oe.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(ee.jsx)(Ae.a,{onClick:function(){return setTimeout((function(){Z.goBack()}),500)},children:Object(ee.jsx)(yt.a,{style:{color:"#333",fontSize:16}})}),Object(ee.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Reportes / Crear nuevo reporte"})]})})}),Object(ee.jsxs)("div",{style:{float:"left",width:"75%",marginRight:10,marginTop:0},children:[Object(ee.jsx)("div",{style:{width:"70vw",height:"12vh"},children:Object(ee.jsx)("div",{style:{float:"left",marginRight:10,width:200},children:Object(ee.jsxs)(Ot.a,{children:[Object(ee.jsx)("p",{children:"#ID"}),Object(ee.jsx)("input",{disabled:!0,value:E,maxLength:12,onBlur:function(){},className:W.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})}),Object(ee.jsx)("div",{style:{width:"70vw",height:"12vh"},children:Object(ee.jsx)("div",{style:{float:"left",marginRight:10,width:300},children:Object(ee.jsxs)(Ot.a,{children:[Object(ee.jsx)("p",{children:"Fecha Prevista"}),Object(ee.jsx)("input",{value:P,onChange:function(e){U(e.target.value)},maxLength:12,onBlur:function(){},className:W.inputsStyle,type:"date",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})}),Object(ee.jsx)("div",{style:{width:"70vw",height:"12vh"},children:Object(ee.jsx)("div",{style:{float:"left"},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)("p",{children:"Seleccionar tipo de reporte"}),Object(ee.jsxs)("select",{onBlur:function(){},className:W.inputsStyle,name:"userType",id:"userType",style:{width:400,height:44,borderRadius:10,fontSize:20},onChange:function(e){var t;w(e.target.value),"Inspecci\xf3n"===(t=e.target.value)?f("PI"):"Mantenci\xf3n"===t&&f("PM")},children:[Object(ee.jsx)("option",{children:"Seleccione..."}),Object(ee.jsx)("option",{children:"Inspecci\xf3n"}),Object(ee.jsx)("option",{children:"Mantenci\xf3n"})]})]})})}),Object(ee.jsx)("div",{style:{width:"70vw",height:"12vh"},children:Object(ee.jsx)("div",{style:{float:"left"},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)("p",{children:"Seleccionar m\xe1quina"}),Object(ee.jsxs)("select",{onBlur:function(){},className:W.inputsStyle,name:"userType",id:"userType",style:{width:400,height:44,borderRadius:10,fontSize:20},onChange:function(e){R(e.target.value),B(!1)},children:[Object(ee.jsx)("option",{value:"",children:"Seleccione..."}),n.map((function(e,t){return Object(ee.jsxs)("option",{value:e.model,children:[e.type," ",e.brand," ",e.model]},t)}))]})]})})}),Object(ee.jsx)("div",{style:{width:"70vw",height:"12vh"},children:Object(ee.jsx)("div",{style:{float:"left"},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)("p",{children:"Seleccionar Pauta"}),Object(ee.jsxs)("select",{disabled:A,onBlur:function(){},className:W.inputsStyle,name:"userType",id:"userType",style:{width:500,height:44,borderRadius:10,fontSize:20},onChange:function(e){h(e.target.value)},children:[Object(ee.jsx)("option",{value:null,children:"Seleccione..."}),s.filter((function(e,t){if(e.header[3].typeDataDesc===D&&e.data.typepm.includes(x))return e})).map((function(e,t){return Object(ee.jsxs)("option",{value:e.data.typepm,children:[" ",e.data.idpm," - ",e.data.typepm," / ",e.header[1].typeDataDesc," "]},t)}))]})]})})})]}),Object(ee.jsx)("div",{style:{position:"absolute",right:40,bottom:40},children:Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsx)("div",{style:{float:"right"},children:Object(ee.jsx)("button",{onClick:function(){return Y()},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Agregar reporte"})})})})]})})})})})},$t=function(){var e=k();return Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:e.pageCard,children:[{id:0,description:"Actividad 1 programada",fecha:"12/10/2021"},{id:1,description:"Actividad 1 ejecutada",fecha:"13/10/2021"},{id:2,description:"Actividad 2 programada",fecha:"13/10/2021"},{id:3,description:"Actividad 3 programada",fecha:"14/10/2021"},{id:4,description:"Actividad 2 ejecutada",fecha:"15/10/2021"},{id:5,description:"Actividad 4 programada",fecha:"16/10/2021"},{id:6,description:"Actividad 3 ejecutada",fecha:"16/10/2021"},{id:7,description:"Actividad 4 ejecutada",fecha:"19/10/2021"},{id:8,description:"Actividad 5 programada",fecha:"20/10/2021"},{id:9,description:"Actividad 6 programada",fecha:"20/10/2021"}].reverse().filter((function(e){return e.toString()})).map((function(e){return Object(ee.jsx)(Ce.a,{item:!0,style:{width:"100%",padding:5},children:Object(ee.jsx)("div",{style:{borderRadius:20,backgroundColor:"#fff",padding:10},children:Object(ee.jsxs)("h3",{children:[e.fecha," - ",e.description]})})},e.id)}))})})})})},en=function(){var e=k();return Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:e.pageCard})})})})},tn=function(){var e=k();return Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:Object(ee.jsxs)(Ue.a,{className:e.pageCard,children:[Object(ee.jsx)(Ce.a,{style:{flexShrink:0},children:Object(ee.jsx)("div",{style:{width:"100%",color:"#fff"},children:Object(ee.jsx)("h1",{children:"Configuraci\xf3n"})})}),Object(ee.jsxs)(Ce.a,{container:!0,spacing:1,children:[Object(ee.jsx)("div",{style:{width:"30%"},children:Object(ee.jsxs)("div",{style:{textAlign:"left",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:[Object(ee.jsx)(Ge.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(ee.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Perfil"})}),Object(ee.jsx)(Ge.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(ee.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Notificaciones"})}),Object(ee.jsx)(Ge.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(ee.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Informaci\xf3n"})}),Object(ee.jsx)(Ge.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(ee.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Soporte"})})]})}),Object(ee.jsx)("div",{style:{width:"70%",height:"35rem",overflowY:"auto"},children:Object(ee.jsx)("div",{style:{textAlign:"left",height:"100%",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:Object(ee.jsx)("div",{style:{height:"50%"}})})})]})]})})})})},nn=function(){var e=k(),t=Object(a.useState)([]),n=Object(o.a)(t,2),i=n[0],r=n[1];Object(a.useEffect)((function(){c()}),[]);var c=function(){var e=Object(Se.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tt.initDbObras().then(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.consultar(t.database);case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:Object(ee.jsxs)(Ue.a,{className:e.pageCard,children:[Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsx)("h1",{children:"Para navegar en la plataforma debe seleccionar una obra."})}),Object(ee.jsx)(Ce.a,{container:!0,style:{height:"75vh"},alignItems:"center",justifyContent:"center",children:i.filter((function(e){return e.toString()})).map((function(e){return Object(ee.jsx)(Ce.a,{item:!0,style:{width:"100%",padding:20},children:Object(ee.jsx)(Rt,{site:e})},e.id)}))})]})})})})},an=function(){var e=k(),t=Object(l.f)();return Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:Object(ee.jsxs)(Ue.a,{className:e.pageCard,children:[Object(ee.jsx)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(ee.jsxs)(Oe.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(ee.jsx)(Ae.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(ee.jsx)(yt.a,{style:{color:"#333",fontSize:16}})}),Object(ee.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n"})]})})})}),Object(ee.jsx)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(ee.jsx)(Dt,{variant:"users"})})})]})})})})},rn=function(e){var t=e.route,n=Object(a.useState)(!1),i=Object(o.a)(n,2),r=i[0],c=i[1],s=k(),d=Object(l.f)();return Object(a.useEffect)((function(){navigator.onLine?c(!0):c(!1)}),[]),console.log(t),Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:s.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:s.pageContainer,item:!0,xs:12,children:Object(ee.jsxs)(Ue.a,{className:s.pageCard,children:[Object(ee.jsx)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(ee.jsxs)(Oe.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(ee.jsx)(Ae.a,{onClick:function(){return setTimeout((function(){d.goBack()}),500)},children:Object(ee.jsx)(yt.a,{style:{color:"#333",fontSize:16}})}),Object(ee.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / Administrar usuarios"})]})})})}),Object(ee.jsx)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10,overflowY:"scroll",height:"100vh"},children:Object(ee.jsx)(ht,{height:"100%",hableButton:r})})})]})})})})},cn=function(e){return new Promise((function(t){"name"===e?t("Nombre de usuario"):"lastName"===e?t("Apellido de usuario"):"rut"===e?t("RUT de usuario"):"role"===e?t("Tipo de usuario"):"email"===e?t("Email / Correo electr\xf3nico de usuario"):"phone"===e?t("Tel\xe9fono"):"password"===e?t("Contrase\xf1a"):"sites"===e?t("Obra"):"confirmPassword"===e&&t("Confirmaci\xf3n de la contrase\xf1a")}))},sn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},on=function(){var e=k(),t=Object(l.f)(),n=Object(a.useState)(!1),i=Object(o.a)(n,2),r=i[0],c=i[1],s=Object(a.useState)(!1),d=Object(o.a)(s,2),j=d[0],u=d[1],b=Object(a.useState)(""),h=Object(o.a)(b,2),O=h[0],g=h[1],x=Object(a.useState)(""),f=Object(o.a)(x,2),m=f[0],v=f[1],y=Object(a.useState)(0),w=Object(o.a)(y,2),S=w[0],C=w[1],D=Object(l.h)().id,R=function(){var e;r?(e=!1,t.goBack(),N()):e=!0,setTimeout((function(){c(e)}),500)};Object(a.useEffect)((function(){D?(v("Editar usuario"),X(D).then((function(e){localStorage.setItem("userDataToSave",JSON.stringify(e.data))}))):v("Nuevo usuario")}),[]);var N=function(){localStorage.removeItem("userDataToSave"),localStorage.removeItem("listaPermisosReportes"),localStorage.removeItem("listaPermisosUsuarios")};return Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:Object(ee.jsxs)(Ue.a,{className:e.pageCard,children:[Object(ee.jsx)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(ee.jsxs)(Oe.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(ee.jsx)(Ae.a,{onClick:function(){return setTimeout((function(){t.goBack(),N()}),500)},children:Object(ee.jsx)(yt.a,{style:{color:"#333",fontSize:16}})}),Object(ee.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:["Administraci\xf3n / Administrar usuarios / ",m]})]})})})}),Object(ee.jsx)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(ee.jsxs)("div",{style:{width:"100%",textAlign:"left",padding:10},children:[0===S&&Object(ee.jsx)(pt,{height:100,typeDisplay:m}),1===S&&Object(ee.jsx)(mt,{height:100,typeDisplay:m,id:D}),Object(ee.jsx)("div",{style:{position:"absolute",right:40,bottom:40},children:Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsxs)("div",{style:{float:"right"},children:[1==S&&Object(ee.jsx)("button",{onClick:function(){return C(S-1)},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Modificar Datos"}),Object(ee.jsx)("button",{onClick:function(){t.goBack(),N()},style:{width:189,height:48,borderRadius:23,marginRight:17,fontSize:20,color:"#BB2D2D",borderColor:"#BB2D2D",borderWidth:2},children:"Cancelar"}),0==S&&Object(ee.jsx)("button",{onClick:function(){return function(){var e=JSON.parse(localStorage.getItem("userDataToSave")),t=!0;if(e)if(e.rut)if(Object(gt.validate)(e.rut)){console.log(e);var n=[];Object.values(e).map(function(){var i=Object(Se.a)(we.a.mark((function i(a,r){return we.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a){i.next=8;break}return D||(t=!1),console.log(Object.keys(e)[r],a),i.t0=n,i.next=6,cn(Object.keys(e)[r]);case 6:i.t1=i.sent,i.t0.push.call(i.t0,i.t1);case 8:console.log(r,Object.values(e).length,Object.keys(e)[r]),r==Object.values(e).length-1&&(console.log(t),t?D||e.password===e.confirmPassword?C(S+1):alert("Contrase\xf1as no coinciden"):setTimeout((function(){console.log(JSON.stringify(n)),alert("Faltan datos: "+JSON.stringify(n))}),100));case 10:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}())}else alert("Rut inv\xe1lido. Revise los datos.");else alert("Falta RUT");else alert("Sin datos")}()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Siguiente"}),S>0&&!D&&Object(ee.jsx)("button",{onClick:function(){!function(){var e=JSON.parse(localStorage.getItem("userDataToSave")),t=JSON.parse(localStorage.getItem("listaPermisosReportes")),n=JSON.parse(localStorage.getItem("listaPermisosUsuarios"));t.forEach((function(i,a){i.isChecked||(i.isChecked=!1),a==t.length-1&&n.forEach(function(){var i=Object(Se.a)(we.a.mark((function i(a,r){return we.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a.isChecked||(a.isChecked=!1),r!=n.length-1){i.next=20;break}if(e.permissionsReports=t,e.permissionsUsers=n,e.confirmPassword=null,u(!0),"Nuevo usuario"!==m){i.next=14;break}return g("Inscribiendo nuevo usuario"),i.next=10,Q(e,e.password);case 10:200==i.sent.status&&(u(!1),R()),i.next=20;break;case 14:if("Editar usuario"!==m){i.next=20;break}return g("Editando usuario"),i.next=18,V(e);case 18:200==i.sent.status&&(u(!1),R());case 20:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}())}))}()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Crear usuario"}),S>0&&D&&Object(ee.jsx)("button",{onClick:function(){!function(){var e=JSON.parse(localStorage.getItem("userDataToSave")),t=JSON.parse(localStorage.getItem("listaPermisosReportes")),n=JSON.parse(localStorage.getItem("listaPermisosUsuarios"));t.forEach((function(i,a){i.isChecked||(i.isChecked=!1),a==t.length-1&&n.forEach(function(){var i=Object(Se.a)(we.a.mark((function i(a,r){return we.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a.isChecked||(a.isChecked=!1),r!=n.length-1){i.next=8;break}return e.permissionsReports=t,e.permissionsUsers=n,i.next=6,V(e);case 6:i.sent&&R();case 8:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}())}))}()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Editar usuario"})]})})})]})}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(We.a,{open:r,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(ee.jsxs)(p.a,{sx:sn,children:[Object(ee.jsxs)("div",{style:{textAlign:"center"},children:[Object(ee.jsx)("img",{src:"../../assets/icons/check-green.svg",alt:""}),"Nuevo usuario"===m&&Object(ee.jsx)("h1",{children:"Usuario creado con \xe9xito"}),"Editar usuario"===m&&Object(ee.jsx)("h1",{children:"Usuario editado con \xe9xito"})]}),Object(ee.jsx)(Ze.a,{onClick:R,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(ee.jsx)(Be.a,{style:{color:"#ccc"}})})]})}),Object(ee.jsx)(He,{open:j,loadingData:O,withProgress:!1})]})]})})})})},ln=n(341),dn=n(333),jn=n(327),un=function(){var e=k(),t=Object(l.f)(),n=Object(a.useState)([]),i=Object(o.a)(n,2),r=i[0],c=i[1],s=Object(a.useState)([]),j=Object(o.a)(s,2),u=j[0],b=j[1],h=Object(a.useState)(""),O=Object(o.a)(h,2),g=O[0],x=O[1],f=Object(a.useState)(),m=Object(o.a)(f,2),v=(m[0],m[1],function(e){x(e.target.value)});Object(a.useEffect)((function(){y()}),[]);var y=function(){var e=Object(Se.a)(we.a.mark((function e(){var t;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Hello!!!!"),!navigator.onLine){e.next=8;break}return e.next=4,w();case 4:t=e.sent,Ke.initDbMachines().then(function(){var e=Object(Se.a)(we.a.mark((function e(n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(){var e=Object(Se.a)(we.a.mark((function e(i,a){var r;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ke.actualizar(i,n.database),a!==t.length-1){e.next=6;break}return e.next=4,Ke.consultar(n.database);case 4:r=e.sent,b(r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9;break;case 8:Ke.initDbMachines().then(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.consultar(t.database);case 2:n=e.sent,b(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){return new Promise((function(e){U().then((function(t){console.log(t.data),e(t.data)})).catch((function(e){console.log("Error",e)}))}))};return Object(a.useEffect)((function(){$e.initDbPMs().then((function(e){$e.consultar(e.database).then((function(e){console.log(e),c(e)}))}))}),[]),Object(ee.jsx)(p.a,{children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:e.pageCard,children:Object(ee.jsxs)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(ee.jsx)("div",{style:{paddingLeft:0},children:Object(ee.jsxs)(Oe.a,{style:{paddingLeft:0,width:"100%",backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(ee.jsx)(Ae.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(ee.jsx)(yt.a,{style:{color:"#333",fontSize:16}})}),Object(ee.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Listado Pautas"})]})})})}),Object(ee.jsxs)(Ce.a,{container:!0,item:!0,spacing:5,justifyContent:"center",children:[Object(ee.jsx)("div",{style:{marginLeft:"20px",width:"40%",float:"left"},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)(ln.a,{children:"Tipo M\xe1quina"}),Object(ee.jsx)(dn.a,{id:"demo-simple-select",value:g,label:"Tipo M\xe1quina",onChange:v,children:u.map((function(e,t){return console.log(e),Object(ee.jsxs)(jn.a,{value:10,children:[e.type," ",e.brand," ",e.model]},t)}))})]})}),Object(ee.jsx)("div",{style:{marginLeft:"20px",width:"40%",float:"right"},children:Object(ee.jsxs)(Ot.a,{fullWidth:!0,children:[Object(ee.jsx)(ln.a,{id:"demo-simple-select-label",children:"Tipo Pauta"}),Object(ee.jsxs)(dn.a,{id:"demo-simple-select",value:g,label:"Tipo Pauta",onChange:v,children:[Object(ee.jsx)(jn.a,{value:10,children:"Inspecci\xf3n"}),Object(ee.jsx)(jn.a,{value:10,children:"Mantenci\xf3n"})]})]})}),Object(ee.jsxs)(Ce.a,{style:{margin:20,height:"65vh",overflowY:"scroll"},children:[Object(ee.jsx)("h2",{children:Object(ee.jsx)("strong",{children:"Pautas de Inspecci\xf3n"})}),r.filter((function(e){if(e.toString(),e.data.typepm.includes("PI"))return e})).map((function(e){return Object(ee.jsxs)(Ge.a,{style:{width:"100%"},children:[Object(ee.jsxs)("div",{style:{width:"100%"},children:[Object(ee.jsx)("div",{children:Object(ee.jsxs)("h3",{style:{margin:0},children:[e.data.typepm," ",e.header[2].typeDataDesc," ",e.header[3].typeDataDesc]})}),Object(ee.jsx)("div",{children:Object(ee.jsxs)("h4",{style:{margin:0},children:[e.header[1].typeData,": ",e.header[1].typeDataDesc," ",e.data.idpm," ",e.header[4].typeData,": ",e.header[4].typeDataDesc]})})]}),Object(ee.jsx)(Ae.a,{edge:"end",component:d.b,to:"/pauta-detail/".concat(JSON.stringify(e.id)),children:Object(ee.jsx)(xe.a,{icon:pe.c})})]},e.id)})),Object(ee.jsx)("h2",{children:Object(ee.jsx)("strong",{children:"Pautas de Mantenimiento"})}),r.filter((function(e){if(e.toString(),e.data.typepm.includes("PM"))return e})).map((function(e){return Object(ee.jsxs)(Ge.a,{style:{width:"100%"},children:[Object(ee.jsxs)("div",{style:{width:"100%"},children:[Object(ee.jsx)("div",{children:Object(ee.jsxs)("h3",{style:{margin:0},children:[e.data.typepm," ",e.header[2].typeDataDesc," ",e.header[3].typeDataDesc]})}),Object(ee.jsx)("div",{children:Object(ee.jsxs)("h4",{style:{margin:0},children:[e.header[1].typeData,": ",e.header[1].typeDataDesc," ",e.data.idpm," ",e.header[4].typeData,": ",e.header[4].typeDataDesc]})})]}),Object(ee.jsx)(Ae.a,{edge:"end",component:d.b,to:"/pauta-detail/".concat(JSON.stringify(e.id)),children:Object(ee.jsx)(xe.a,{icon:pe.c})})]},e.id)}))]})]})]})})})})})},bn=function(){var e=k(),t=Object(a.useState)(),n=Object(o.a)(t,2),i=n[0],r=n[1],c=Object(l.f)(),s=Object(l.h)().id;return console.log(s),Object(a.useEffect)((function(){$e.initDbPMs().then(function(){var e=Object(Se.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,$e.obtener(s,t.database);case 3:(n=e.sent)&&(r(n),console.log(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(ee.jsx)(p.a,{children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:e.pageCard,children:Object(ee.jsx)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(ee.jsx)("div",{style:{paddingLeft:0},children:Object(ee.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(ee.jsxs)(Oe.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(ee.jsx)(Ae.a,{onClick:function(){return setTimeout((function(){c.goBack()}),500)},children:Object(ee.jsx)(yt.a,{style:{color:"#333",fontSize:16}})}),Object(ee.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:i&&"Listado Pautas / ".concat(i.data.typepm)})]}),Object(ee.jsx)("div",{style:{height:"90%",width:"98%"},children:i&&Object(ee.jsx)(bt,{pauta:i})})]})})})})})})})})})},hn=function(){var e=k();Object(l.f)();return Object(ee.jsx)(p.a,{height:"100%",children:Object(ee.jsx)(Ce.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(ee.jsx)(Ce.a,{className:e.pageContainer,item:!0,xs:12,children:Object(ee.jsx)(Ue.a,{className:e.pageCard,children:Object(ee.jsx)(Ce.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(ee.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(ee.jsx)("h1",{children:"Sin permiso de acceso"})})})})})})})},On=Object(O.a)((function(e){e.graphQLErrors;var t=e.networkError;e.response;401===(null===t||void 0===t?void 0:t.statusCode)&&(console.log(t),console.log("[Network error]: ".concat(t.statusCode)))})),gn=x()({uri:"/graphql",credentials:"include"}),xn=j.ApolloLink.from([On,gn]),pn=new u.a({link:xn,cache:new b.a}),fn=function(){var e=ie(),t=e.isAuthenticated,n=e.loading,i=Object(a.useState)(!1),r=Object(o.a)(i,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){"admin"!==localStorage.getItem("role")&&"superAdmin"!==localStorage.getItem("role")||s(!0)}),[]),Object(ee.jsxs)(p.a,{height:"100vh",display:"flex",flexDirection:"column",style:{fontFamily:"Roboto"},children:[t&&Object(ee.jsxs)(l.a,{path:["/"],children:[t&&!n&&Object(ee.jsx)(Le,{})," ",t&&!n&&Object(ee.jsx)(ve,{})]}),Object(ee.jsxs)(l.c,{children:[!t&&Object(ee.jsx)(l.a,{exact:!0,path:["/reset-password"],render:function(){return Object(ee.jsx)(Pt,{})}}),!t&&Object(ee.jsx)(l.a,{path:["/"],render:function(){return Object(ee.jsx)(Et,{})}}),n&&Object(ee.jsx)(l.a,{path:["/"],render:function(){return Object(ee.jsx)(Bt,{})}}),Object(ee.jsx)(l.a,{exact:!0,path:["/","/welcome"],render:function(){return Object(ee.jsx)(Ft,{})}}),Object(ee.jsx)(l.a,{path:["/divisions"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/divisions",children:Object(ee.jsx)(Jt,{route:"divisions"})})})}),Object(ee.jsx)(l.a,{path:["/reports"],children:Object(ee.jsxs)(l.c,{children:[Object(ee.jsx)(l.a,{exact:!0,path:"/reports",children:Object(ee.jsx)(Kt,{route:"reports"})}),Object(ee.jsx)(l.a,{exact:!0,path:"/reports/create-report",children:Object(ee.jsx)(_t,{route:"reports"})})]})}),Object(ee.jsx)(l.a,{path:["/alerts"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/alerts",children:Object(ee.jsx)($t,{route:"alerts"})})})}),Object(ee.jsx)(l.a,{path:["/info"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/info",children:Object(ee.jsx)(en,{route:"info"})})})}),Object(ee.jsx)(l.a,{path:["/inspection"],children:Object(ee.jsxs)(l.c,{children:[Object(ee.jsx)(l.a,{exact:!0,path:"/inspection",children:Object(ee.jsx)(Nt,{route:"inspection"})}),Object(ee.jsx)(l.a,{exact:!0,path:"/inspection/:id",children:Object(ee.jsx)(At,{route:"inspection"})}),Object(ee.jsx)(l.a,{exact:!0,path:"/inspection/machine-detail/:id",children:Object(ee.jsx)(wt,{route:"inspection/machine-detail"})})]})}),Object(ee.jsx)(l.a,{path:["/maintenance"],children:Object(ee.jsxs)(l.c,{children:[Object(ee.jsx)(l.a,{exact:!0,path:"/maintenance",children:Object(ee.jsx)(Nt,{route:"maintenance"})}),Object(ee.jsx)(l.a,{exact:!0,path:"/maintenance/:id",children:Object(ee.jsx)(At,{route:"maintenance"})}),Object(ee.jsx)(l.a,{exact:!0,path:"/maintenance/machine-detail/:id",children:Object(ee.jsx)(wt,{route:"maintenance/machine-detail"})})]})}),c&&Object(ee.jsx)(l.a,{path:["/sites"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/sites",children:Object(ee.jsx)(nn,{route:"sites"})})})}),!c&&Object(ee.jsx)(l.a,{path:["/sites"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/sites",children:Object(ee.jsx)(hn,{route:"sites"})})})}),Object(ee.jsx)(l.a,{path:["/maintance"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/maintance",children:Object(ee.jsx)(Ut,{route:"maintance"})})})}),Object(ee.jsx)(l.a,{path:["/configuration"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/configuration",children:Object(ee.jsx)(tn,{route:"configuration"})})})}),Object(ee.jsx)(l.a,{path:["/pms"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/pms",children:Object(ee.jsx)(un,{route:"pms"})})})}),Object(ee.jsx)(l.a,{path:["/pauta-detail"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/pauta-detail/:id",children:Object(ee.jsx)(bn,{route:"pauta-detail"})})})}),c&&Object(ee.jsx)(l.a,{path:["/administration"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/administration",children:Object(ee.jsx)(an,{route:"administration"})})})}),!c&&Object(ee.jsx)(l.a,{path:["/administration"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/administration",children:Object(ee.jsx)(hn,{route:"administration"})})})}),c&&Object(ee.jsx)(l.a,{path:["/users"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/users",children:Object(ee.jsx)(rn,{route:"users"})})})}),!c&&Object(ee.jsx)(l.a,{path:["/users"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/users",children:Object(ee.jsx)(hn,{route:"users"})})})}),c&&Object(ee.jsx)(l.a,{path:["/new-users"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/new-users",children:Object(ee.jsx)(on,{route:"new-users"})})})}),!c&&Object(ee.jsx)(l.a,{path:["/new-users"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/new-users",children:Object(ee.jsx)(hn,{route:"new-users"})})})}),Object(ee.jsx)(l.a,{path:["/edit-user"],children:Object(ee.jsx)(l.c,{children:Object(ee.jsx)(l.a,{exact:!0,path:"/edit-user/:id",children:Object(ee.jsx)(on,{route:"edit-user"})})})})]})]})},mn=function(){return Object(ee.jsx)(d.a,{children:Object(ee.jsx)(h.a,{client:pn,children:Object(ee.jsx)(ne,{children:Object(ee.jsx)(le,{children:Object(ee.jsx)(ue,{children:Object(ee.jsxs)(f.a,{theme:C,children:[Object(ee.jsx)(m.a,{}),Object(ee.jsx)(fn,{})]})})})})})})},vn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function yn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var wn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,346)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))};s.a.render(Object(ee.jsx)(r.a.StrictMode,{children:Object(ee.jsx)(mn,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");vn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):yn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):yn(t,e)}))}}({onUpdate:function(e){var t=e.waiting;t&&(t.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.location.reload()})),t.postMessage({type:"SKIP_WAITING"}))}}),wn()}},[[262,1,2]]]);
//# sourceMappingURL=main.ab49aff0.chunk.js.map