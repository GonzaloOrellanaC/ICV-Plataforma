(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{387:function(e,t,n){},406:function(e){e.exports=JSON.parse('{"login":{"emailField":"E-mail","passwordField":"Password","loginButton":"Login","forgotPasswordText":"Forgot password.","forgotPasswordLink":"Click here."},"restorePassword":{"passwordField":"Password","confirmPasswordField":"Confirm Password","button":"Change Password","cancel":"Cancel"},"welcome":{"inspectionButton":"Inspection","maintenanceButton":"Maintenance","reportsButton":"Reports","configurationButton":"Configuration"},"machines":{"title":"Select machine type"},"location":{"start":"Start","inspection":"Inspection","maintenance":"Maintenance","reports":"Reports","configuration":"Configuration"},"components":{"fields":{"filter":"Search"}}}')},407:function(e){e.exports=JSON.parse('{"login":{"emailField":"E-mail","passwordField":"Contrase\xf1a","loginButton":"Ingresar","forgotPasswordText":"Olvid\xe9 mi contrase\xf1a.","forgotPasswordLink":"Click aqu\xed."},"restorePassword":{"passwordField":"Ingrese Contrase\xf1a","confirmPasswordField":"Confirme Contrase\xf1a","button":"Cambiar contrase\xf1a","cancel":"Cancelar"},"welcome":{"inspectionButton":"Inspecci\xf3n","maintenanceButton":"Mantenci\xf3n","reportsButton":"Reportes","configurationButton":"Configuraci\xf3n","administrationButton":"Administraci\xf3n"},"admin":{"adminUsersButton":"Usuarios"},"machines":{"title":"Selecciona tipo de m\xe1quina"},"location":{"start":"Inicio","inspection":"Inspecci\xf3n","maintenance":"Mantenci\xf3n","reports":"Reportes","configuration":"Configuraci\xf3n"},"components":{"fields":{"filter":"Buscar"}}}')},477:function(e,t,n){},480:function(e,t,n){},507:function(e,t,n){},513:function(e,t){},514:function(e,t){},522:function(e,t){},523:function(e,t){},524:function(e,t){},529:function(e,t){},531:function(e,t){},538:function(e,t,n){},558:function(e,t,n){},559:function(e,t,n){},560:function(e,t,n){},561:function(e,t,n){},562:function(e,t,n){},578:function(e,t,n){"use strict";n.r(t);var a,r=n(2),i=n.n(r),c=n(62),s=n.n(c),o=(n(477),n(66)),l=n(49),d=n(284),u=n(317),j=n(579),b=n(577),h=n(431),p=n(642),O=n.n(p),m=n(644),g=n(645),x=n(52),f=n(434),v=n(620),y=n(404),w=(n.p,Object(f.a)({palette:{background:{default:"#fff"},primary:{light:"#DE0000",main:"#920000",dark:"#780000"}},overrides:{MuiCssBaseline:{"@global":{body:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"center",backgroundAttachment:"fixed","& ::-webkit-scrollbar":{width:"0.4em"},"& ::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"& ::-webkit-scrollbar-thumb":{borderRadius:10,backgroundColor:"rgb(160,160,160)"}}}},MuiOutlinedInput:{root:{borderRadius:20},input:{padding:10}},MuiInputLabel:{outlined:{transform:"translate(14px, 12px) scale(1)"}},MuiButton:{root:{}},MuiListItemIcon:{root:{justifyContent:"center"}}}},y.esES));a=window.matchMedia("(min-width: 660px)").matches?99:"15vw";var S,C=Object(v.a)((function(e){return{pageRoot:{height:"90%",fontFamily:"Raleway",marginTop:70},pageContainer:Object(x.a)({},e.breakpoints.down("sm"),{padding:0}),pageCard:{marginLeft:a,fontFamily:"Raleway",borderRadius:0,boxShadow:"none",padding:20,overflowY:"auto"},pageTitle:{padding:"40px 0px",textAlign:"center",textTransform:"uppercase",fontSize:"1.5rem",color:e.palette.primary.main},backDrop:{zIndex:e.zIndex.drawer-1,marginTop:90,color:"#fff"},noNavBarMargin:{marginLeft:0}}})),k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:window.screen.width<500?"80%":"30%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"100%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40%",bgcolor:"#F9F9F9",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},R=function(e){return"superAdmin"===e||"admin"===e||""===e?"Super Administrador":"sapExecutive"===e?"Ejecutivo SAP":"inspectionWorker"===e?"Operario de Inspecci\xf3n":"maintenceOperator"===e?"Operario de Mantenci\xf3n":"shiftManager"===e?"Jefe de turno - Inspecci\xf3n y Mantenci\xf3n":"chiefMachinery"===e?"Jefe de maquinaria":void 0},B={storageURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL_STORAGE||"https://icvmantencion.blob.core.windows.net/plataforma-mantencion/",version:"Beta 3.4",storageApi:{account:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AZURE_ACCOUNT,accountKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).TOKEN_SAS_BLOB,url:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORAGE_URL,urlWithKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL_SAS_BLOB,accessKeys:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).ACCESS_KEYS}},E=B,A=function(e){var t,n=new Date(e).getDay()+1;1==n?t="Lunes":2==n?t="Martes":3==n?t="Miercoles":4==n?t="Jueves":5==n?t="Viernes":6==n?t="Sabado":0==n&&(t="Domingo");var a,r=new Date(e).getDate()+1,i=new Date(e).getMonth();return 0==i?a="Enero":1==i?a="Febrero":2==i?a="Marzo":3==i?a="Abril":4==i?a="Mayo":5==i?a="Junio":6==i?a="Julio":7==i?a="Agosto":8==i?a="Septiembre":9==i?a="Octubre":10==i?a="Noviembre":11==i&&(a="Diciembre"),(t+" "+r+" DE "+a).toUpperCase()},T=(n(480),n(118)),M=n(5),F=n(650),P=n(175),z=n(180),L=Object(z.a)(S||(S=Object(P.a)(["\n    query Users {\n        self {\n            _id\n            email\n            name\n            lastName\n            fullName\n            enabled\n        }\n    }\n"]))),W={query:{GET_SELF:L}},U=n(50),Y=n.n(U),G=function(e,t){var n={user:{email:e,password:t}};return Y.a.post("/auth/login",n)},Z=function(e){var t={email:e};return Y.a.post("/auth/forgotpassword",t)},J=function(){return Y.a.get("/machines/getMachinesOfProject")},Q=function(){return Y.a.get("/machines/readAllMachines")},q=function(e){var t={equid:e};return Y.a.post("/machines/readMachineByEquid",t)},V=function(){return Y.a.get("icv/getSites")},H=function(){return Y.a.get("icv/getPautas")},_=function(e){var t={idpm:e.idpm,typepm:e.typepm};return Y.a.post("icv/getHeaderPauta",t)},K=function(e){var t={idpm:e.idpm,typepm:e.typepm};return Y.a.post("icv/getStructsPauta",t)},X=function(){return Y.a.get("/roles/getRoles")},$=function(){return Y.a.get("/permisos/getPermisos")},ee=function(e){var t={id:e};return Y.a.post("/permisos/getPermisosByUser",t)},te=function(e,t){var n={userData:e,password:t};return Y.a.post("/users/createUser",n)},ne=function(e,t){var n={userData:e,id:t};return Y.a.post("/users/editUser",n)},ae=function(){return Y.a.get("/users/getUsers")},re=function(e){var t={id:e};return Y.a.post("/users/getUser",t)},ie=function(e){var t={id:e};return Y.a.post("/users/deleteUser",t)},ce=function(e){var t={report:e};return Y.a.post("/reports/createReport",t)},se=function(e){var t={report:e};return Y.a.post("/reports/editReport",t)},oe=function(){return Y.a.get("/reports/getAllReports")},le=function(e,t){var n={state:e,reportType:t};return Y.a.post("/reports/getReportByState",n)},de=function(e){var t={userId:e};return Y.a.post("/reports/findMyAssignations",t)},ue=function(e){var t={equid:e};return Y.a.post("/machines/readMachineByEquid",t)},je=function(e){var t={reportData:e};return Y.a.post("/execution-report/getExecutionReportById",t)},be=function(e){var t={reportData:e};return Y.a.post("/execution-report/saveExecutionReport",t)},he=n(1),pe=Object(r.createContext)(),Oe=function(e){var t=Boolean(window.localStorage.getItem("isauthenticated")),n=Boolean(window.localStorage.getItem("isAdmin")),a=Object(r.useState)(t||!1),i=Object(M.a)(a,2),c=i[0],s=i[1],o=Object(F.a)(W.query.GET_SELF),l=Object(M.a)(o,2),d=l[0],u=l[1],j=u.loading,b=u.error,h=u.data,p=Object(r.useState)({}),O=Object(M.a)(p,2),m=O[0],g=O[1],x=Object(r.useState)(n||!1),f=Object(M.a)(x,2),v=f[0],y=f[1];Object(r.useEffect)((function(){(null===h||void 0===h?void 0:h.self)&&g(h.self)}),[h]),Object(r.useEffect)((function(){}),[b]),Object(r.useEffect)((function(){d()}),[]);var w={userData:m,isAuthenticated:c,loading:j,error:b,admin:v,login:function(e,t){return new Promise((function(n){G(e,t).then((function(e){var t=e.data;e.data.enabled?(localStorage.setItem("email",t.email),localStorage.setItem("fullName",t.fullName),localStorage.setItem("name",t.name),localStorage.setItem("lastName",t.lastName),localStorage.setItem("_id",t._id),localStorage.setItem("role",t.role),"admin"===t.role||"sapExecutive"===t.role?(localStorage.setItem("isAdmin",!0),y(!0)):(localStorage.setItem("isAdmin",!1),y(!1)),t.sites&&localStorage.setItem("sitio",t.sites),localStorage.setItem("isauthenticated",!0),s(!0),n({state:!0,response:e})):(s(!1),alert("Su cuenta no est\xe1 habilitada, debe confirmarla."),n({state:!1}))})).catch((function(e){alert("Error de autenticaci\xf3n: "+e),console.log(e),s(!1),localStorage.setItem("isauthenticated",!1)}))}))}};return Object(he.jsx)(pe.Provider,Object(T.a)({value:w},e))},me=function(){return Object(r.useContext)(pe)},ge=n(406),xe=n(407),fe={en:ge,es:xe},ve={en:"English",es:"Espa\xf1ol"},ye=Object(r.createContext)({userLanguage:"es",dictionary:fe.es,languageOptions:ve}),we=function(e){var t=window.localStorage.getItem("rcml-lang"),n=Object(r.useState)(t||"es"),a=Object(M.a)(n,2),i=a[0],c=a[1],s={userLanguage:i,dictionary:fe[i],languageOptions:ve,userLanguageChange:function(e){var t=ve[e]?e:"es";c(t),window.localStorage.setItem("rcml-lang",t)}};return Object(he.jsx)(ye.Provider,Object(T.a)({value:s},e))},Se=function(){return Object(r.useContext)(ye)},Ce=Object(r.createContext)(),ke=function(e){var t=Object(r.useState)(!1),n=Object(M.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(""),s=Object(M.a)(c,2),l=s[0],d=s[1],u=Object(o.g)();Object(r.useEffect)((function(){var e,t=null===u||void 0===u||null===(e=u.pathname)||void 0===e?void 0:e.split("/")[1];d(t)}),[u]);var j={locationData:l,navBarOpen:a,handleNavBar:function(){return i(!a)}};return Object(he.jsx)(Ce.Provider,Object(T.a)({value:j},e))},Ie=function(){return Object(r.useContext)(Ce)},Ne=n(622),De=n(624),Re=n(41),Be=n(43),Ee=Object(v.a)((function(e){return{appbar:{height:80,width:"100%",backgroundColor:"#fff",borderBottomRightRadius:30,color:"#000"},locationIcon:{height:60,width:100,display:"flex",alignItems:"center",justifyContent:"center"},locationText:{display:"flex",flex:1,justifyContent:"flex-end",alignItems:"center",fontSize:"1rem"},languageSelector:{marginRight:15,"&.MuiInputBase-root":{color:"white"},"& .MuiSelect-icon":{color:"white"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}}}})),Ae=function(){var e=Ee(),t=Ie(),n=t.navBarOpen,a=(t.locationData,me().isAuthenticated),i=(Se().dictionary,Object(r.useState)(!0)),c=Object(M.a)(i,2),s=c[0],o=c[1],d={};if(d.name=window.localStorage.getItem("name"),d.lastName=window.localStorage.getItem("lastName"),window.localStorage.getItem("role")&&(d.role=R(window.localStorage.getItem("role"))),Object(r.useEffect)((function(){a&&(window.addEventListener("online",(function(){console.log("Became online"),o(!0)})),window.addEventListener("offline",(function(){console.log("Became offline"),o(!1)})))}),[]),a)return Object(he.jsx)(Ne.a,{className:e.appbar,children:Object(he.jsx)("div",{className:"header-bar",children:Object(he.jsxs)(De.a,{children:[!n&&Object(he.jsx)(l.b,{to:"/",children:Object(he.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAABpCAYAAADoScsPAAABVWlDQ1BEaXNwbGF5IFAzAAAoz2NgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGgkwMjB8uwYiGRgu64LMOiU1tUm1XsDXYqbw1YuvRJsY8AOulNTiZCD9B4hTkwuKSoBGpgDZyuUlBSB2B5AtUgR0FJA9B8ROh7A3gNhJEPYRsJqQIGcg+waQrZCckQg0g/EHkK2ThCSejsSG2gsC3C6ZxQU5iZUKAcYMVAclqRUlINo5v6CyKDM9o0TBERhKqQqeecl6OgpGBobmDAygMIeo/hwIDktGsTMIseb7DAy2+////78bIea1n4FhI1An106EmIYFA4MgNwPDiZ0FiUWJYCFmIGZKS2Ng+LScgYE3koFB+AJQT3RxmrERJPZ4nBgYWO/9//9ZjYGBfTIDw98J////XvT//9/FQM13GBgO5AEAFwJl7w8EHeAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAnOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5MzM4Y2ZlLWEyODctNDk2MC1iODcyLTk5YWY2YWRjYzYwYSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjJkZTFlNjU4LTg3NDEtYmY0YS05NzYyLTVlZjMxNzAxM2Q3YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyMjhiZDNiLWViZDEtNDM3Ny04N2UxLTkwNDMxNmNjZmIwOSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRpc3BsYXkgUDMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI4YmQzYi1lYmQxLTQzNzctODdlMS05MDQzMTZjY2ZiMDkiIHN0RXZ0OndoZW49IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTkzMzhjZmUtYTI4Ny00OTYwLWI4NzItOTlhZjZhZGNjNjBhIiBzdEV2dDp3aGVuPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjAwNjQ2MkNDRjBEN0QxMUI4RkYyRTQxQTc0NjAyQzRGPC9yZGY6bGk+IDxyZGY6bGk+MUMwODU5NjM2MTVEOTlDOEY4MDlEOEQ2MzEwNjk2MTI8L3JkZjpsaT4gPHJkZjpsaT4xQzYxNjVFODQwNTlBRjBCQUNFQzcwMUNFRUE4ODUzODwvcmRmOmxpPiA8cmRmOmxpPjU3NjEzM0IwMTc1ODM0QTM5OTRBQTA4RjYxRUJCQzE2PC9yZGY6bGk+IDxyZGY6bGk+NUZCQzczNEJBQzk2MzYxMDI0NzFDMkMxRDQzRkNENUU8L3JkZjpsaT4gPHJkZjpsaT44NEJFRkM1N0VDRjBBMkQ2MTFCRTM4QjIyODU0NDFFQjwvcmRmOmxpPiA8cmRmOmxpPkIxQkEyNkY5RDM3QzE4MTg3RjMwMzRBQTFCQkIzNUVBPC9yZGY6bGk+IDxyZGY6bGk+Q0JDOTNCMzBEQ0YxNkU3RDgzMzYyNDdBMDAyOTU4MzM8L3JkZjpsaT4gPHJkZjpsaT5GOEVEOEI3NEZGRkVDNkRBNDExNzZGRDUyNzY5NTk1NTwvcmRmOmxpPiA8cmRmOmxpPkZFNkJEMEJBNUJFQzE5RDQ3OTE0NEMxNTJDQkJDRUYyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDowMEMyNkRBQzI0MjA2ODExOERCQkQ4MzgxN0Q4NjVFNTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NjgyNWRjMjQtY2ZhOC00ODBlLWE5MmItMmUzNDM5ZThhNWQ0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo2OUQ3QUJCNDIxMjA2ODExOEY2MkVGRUNFNjdBQ0M0MzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QTZDNzJERDQwNzIwNjgxMTk1RkVDRDVERDFDODBCMTU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkQxQjVGNTREQTFDMjExRTFBQzZEQ0JBNUM5RDJGMjAwPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDpFMUI3NzlGNzM2MjA2ODExOTEwOUQyOEQxMkM0ODBCNzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6Y2Q3YzM4MWQtM2M1Yy00ZGYxLTg2NWEtODFkZDBlOWI5NDFhPC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HBn8IgAAB6ZJREFUeNrtnX1oVlUcx+82ddOardSYgmZTwwm+la0MbZQRNSlXWFLCUMOMslWGFma4CjQEUysqNGOlYLM/XBnRaqZh2RuhEZmVurQXZUZppqbLPX1P/CZPj8+9O+c+595z77m/Ax98u297fh/Pc8/b7zipVMphGFn4Q2BYGIaFYVgYhoVhWBiGYWEYFoZhYRgWhmFhGBaGYbQL01Fqa2uvBU3gGEiBPeAp0NPhEtliRBhIMY8kycZ3oB+HhoX5D8gwwUOWDj7k0LAwHcI0SwgjGMvhYWGEMMclhZnL4WFhhDCnJYVZwOFhYYQwuySFuZ3Dw8IIYR6VkKUVnMvhYWGEMEVgm4cs4ivrFg4NC5PeD1MM6kF7hiw/gioOCwtzVk8vidMPTAY1YDwo4JCwMK7CcGFhWBgWhoXhYr5ZfbgzwvoAcK9e4HIwBTxAz1dHzAf3iVYbHaPU1P9gxCWDwIMGuVT188A5XcA0F2pMCFMn03EXoCBDSIz14GfJTsQORKtuN1gLZoD+nXz4JeA4SBlikw9hJnlc7+1ECIPr9QWPg68VBZHhUzAbnOcSgHqDwggGKwqz0eNaE60WBte5DDSAtgBEyURMBHsBDMgIwHjDwixRkKU/OO1ynRaQb6UwOH8oeCMESbJxisS5MC0QOw0KcwgUSgqz0OM6j5h66Q1MGJxXCJ4MqUbpjD/ADRSIOYZrmTslZMkH+1zOPwn6WCUMzhkJvo2AKOnUUTB604duSpgtEsJUeZy/1mSzWrswOH46OBExWc4IQwFZZ7iWKe9EmA0e515lhTA4Lg8sjaAo2YSZYFiY5R6ylII2l/N2mO640yIMjukCXg0o0KLz8KhmYfLAboPC/A6KXISZ73HerNgLQzXLGg0BFUtaXgRTqQneM+M++aAPGAfuoSkZB/0IIxGYMKjJIosQeY/L8X+Cc2wQZkUOkoiALwLlPltiQtYrwOq0RXiywnhV/WGwLYswXl+Vz0ZhLCknYfBv9/oU5QCNC3XX2IN8Psl3QkYYiZfLMBie8TyFNITRQV7UBh99C4O/rwAnFUURUz6XBbkElyaCvSkpTJVhYZ6L22i1L2HESDFoUZTlV7GGO8SR7+kZ667qXDrI9hsU5qz3EluFWa4oy3ZQGvZ8EXp5PuAmDElTZ7iWuctqYfDnMQoL4ASbTWaBEAOQYJ+HMF6DfGHwue3CNCvI8qXbVIOQpRkMZnl0lr1juJYZbaUwlEdGpSVU6sSgIGDVhoVZaaswzQqtocq4zI2lqZAHDQpzFBRbJQzNa5GtXZbHbUI1ArbIcC0zyzZhlknK8kscU50hYGWGhdlhjTDUBS87Sbs2rss2xERtw9JU2CJMhcLYUPcYCzPFsDCrbRHmCcnjljgxLjSW85tBYcQymBIbhHlP8rhhTswLArbUcC1zmw3CHJE4psWxoIjpk4ZrmAtsEEaGlx1LCoK21ZAwr9jyDiPD3RYJU2NImDFJEqbSImF6gMMhy/KFTf0wMgx0LCpiclPIwkxLmjAllgkzKuRVBN2TJox1OfHEXJWQhFlq1Wh1EmsYEmZmFNOA2CJMfwuFKaapB0HK0uT3+eIuzDjHwoKArgpYmOqkCjPDUmEqApTlJ1CQVGGedywtCOpXAQmT0y4xURbmmMQxuywW5v4AZDklluvaKswWyePKLBUmiAycDbk+V5SFWewnQ4Jl0qzRLEylzcJcLXmcWD7bxVJhdGbg/EbHM0VZmALaaEvm2GkW1zK7NAkz22phxMPh15WSwohN0ossFeZhTWuQeiZBmNF+sz1ZJIyODJwv6XqeOKx8/ERSmL/BKEulWZ+jMCOSJEy1Qi3zQxQW4qc9e54mYXLJwPmRzp8pDsKIBW2fKUizCXSLgCyluvbepsSFe30KMzVRwtCHf43ikMEGk9LQHkxi55R6jV9LfjJwtoJuiROGgqCak/d9E+utcc9BlM41pVkYkYHzH0VhFuv++eIkTC+FfpkOxN4Dw0OU5UZwKO3+9TqvDwEaFWRpBwMTKwwF5HrF1GUpSok6F3QNUJRiShCdee8GzcJMVBBmYxA/axzz9C70ORViJ7W48jWK0o12Y3Or+Ro1C1NA81lkhKliYZwz6dxfz2EOzU5K8Nw7B1EG0L5MBzq5V6PugElm4BQtqnwW5v//s5tynHzVRunQFlArrK+HoGXgZhpB36FwjyCEuYjeT7yEmRfU12+cdzPpAd7VvIuJSMq8n2qh7yn3TC77MDUGEbROMnCKYYTeLIx7TbMuwvslBSXMrR7CvBZkSzD2O7JRT/BjPlpPcRamq0cGzrEsjJw41ynuZRRbYUiaxVlk2R50X5Ntu8qW0D5GUZBF7LryUIDCDM4izEwWxp8448E2kzULGBLCtIf0DJxHctmlJNHCpIlzE9gakiTt4C1wZYjzZO5IE2ZFGPe0Wpg0cUZS131rAKLspV3ZLg57oDMjA2c5C6N/zEdMLK8UqVrBxzRLT1WQv2h7nQWUSzjPMVggyjNgc1j3MyHMUBrT8SSk0eVCMZpN95xDPbkraPfYevr90zSUMEm8l+gci9IkzDAw2VphmGTCHwLDwjAsDMPCMCwMw8IwDAvDsDAMC8OwMAwLw7AwDOPGv3Wb5ZG6WpljAAAAAElFTkSuQmCC",height:75})}),a&&Object(he.jsx)(r.Fragment,{children:Object(he.jsxs)("dl",{children:[Object(he.jsx)("dt",{style:{margin:0},children:a&&Object(he.jsxs)("div",{children:[" ",Object(he.jsxs)("p",{className:"nombre",children:[" ",d.name," ",d.lastName," "]})," "]})}),Object(he.jsxs)("dt",{children:[" ",d.role," "]})]})}),Object(he.jsxs)("div",{style:{position:"absolute",right:10},children:[Object(he.jsxs)("p",{children:[Object(he.jsx)(Be.a,{icon:Re.c,color:s?"#2FB83F":"#B62800"})," ",s?"Online":"Offline"]}),!s&&Object(he.jsx)("p",{children:"Sin red"})]})]})})})},Te=n(3),Me=n.n(Te),Fe=n(10),Pe=n(625),ze=n(653),Le=n(630),We=n(631),Ue=Object(v.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}})),Ye=function(){var e=Se().dictionary,t=me().login,n=Object(r.useState)(""),a=Object(M.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)(""),l=Object(M.a)(s,2),d=l[0],u=l[1],j=Ue(),b=Object(r.useState)({}),h=Object(M.a)(b,2),p=(h[0],h[1],Object(o.f)()),O=function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"email":return c(e.target.value);case"password":return u(e.target.value)}};Object(r.useEffect)((function(){p.location.pathname.length>1&&p.replace("/")}),[]);var m=function(){var e=Object(Fe.a)(Me.a.mark((function e(n){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(i,d);case 3:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(he.jsx)(Pe.a,{container:!0,style:{padding:10,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(he.jsx)("form",{onSubmit:m,children:Object(he.jsxs)(Pe.a,{container:!0,item:!0,spacing:2,children:[Object(he.jsx)(Pe.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(he.jsx)(ze.a,{type:"email",name:"email",label:e.login.emailField,value:i,onChange:O,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(he.jsx)(ze.a,{type:"password",name:"password",label:e.login.passwordField,value:d,onChange:O,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(he.jsx)(Le.a,{className:j.button,type:"submit",variant:"contained",color:"primary",children:e.login.loginButton})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,container:!0,justifyContent:"center",children:Object(he.jsxs)(We.a,{href:"/reset-password",children:[" ",e.login.forgotPasswordText," "]})})]})})})},Ge=n(651),Ze=n(584),Je=n(633),Qe=n(636),qe=n(26),Ve=n.p+"static/media/Logologo_icv_1.054cafd3.svg",He=n(648),_e=n(646),Ke=n(632),Xe=function(e){var t=e.open,n=e.report,a=e.closeModal,i=e.reportType,c=Object(r.useState)([]),s=Object(M.a)(c,2),o=s[0],l=s[1],d=Object(r.useState)(),u=Object(M.a)(d,2),j=u[0],b=u[1],h=n.idIndex,p=n.guide,O=n.state,m=n.siteName,g=n.usersAssigned,x=Object(r.useState)(!1),f=Object(M.a)(x,2),v=f[0],y=f[1],w=Object(r.useState)(""),S=Object(M.a)(w,2),C=S[0],k=S[1],I=function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=10;break}return(a=new Array)[0]=t,k("Reporte sin asignaci\xf3n."),e.next=6,se({idIndex:h,state:"Asignar",usersAssigned:a});case 6:e.sent&&(n.usersAssigned=a,y(!0),setTimeout((function(){y(!1)}),1e3)),e.next=17;break;case 10:return k("Pauta asignada."),(r=new Array).push(t),e.next=15,se({idIndex:h,state:"En proceso",usersAssigned:r});case 15:e.sent&&(n.usersAssigned=r,y(!0),setTimeout((function(){y(!1)}),1e3));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){ae().then((function(e){var t=new Array,n=new Array;(t=e.data).forEach((function(e,a){var r=new Array;(r=e.permissionsReports).length>0&&r[1].isChecked&&n.push(e),a==t.length-1&&l(n)}))})),"Por asignar"===O?b("#E99797"):"En proceso"===O&&b("#F5C69C")}),[]),Object(he.jsx)(He.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(he.jsxs)(_e.a,{sx:D,children:[Object(he.jsxs)(De.a,{style:{width:"100%",height:59,paddingLeft:0},children:[Object(he.jsxs)("h2",{children:["Asignar Pauta de ",i," ",p]}),Object(he.jsx)("div",{style:{position:"absolute",right:65,backgroundColor:j,paddingTop:3,borderRadius:5,width:100,height:20,textAlign:"center"},children:Object(he.jsx)("p",{style:{margin:0,fontSize:12},children:O.toUpperCase()})})]}),Object(he.jsxs)("div",{style:{width:"100%",height:90},children:[Object(he.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[Object(he.jsx)("strong",{children:"Faena:"})," ",Object(he.jsx)("br",{}),m]}),Object(he.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[Object(he.jsx)("strong",{children:"N\xfamero de orden:"})," ",Object(he.jsx)("br",{}),h]}),Object(he.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[Object(he.jsx)("strong",{children:"Pauta:"})," ",Object(he.jsx)("br",{}),p]})]}),Object(he.jsx)("div",{style:{width:"100%",height:59},children:v&&Object(he.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[Object(he.jsx)("strong",{children:C})," ",Object(he.jsx)("br",{})]})}),Object(he.jsxs)("div",{style:{width:"100%",height:59},children:[Object(he.jsx)("label",{children:"Asignar Pauta a:"}),Object(he.jsx)("br",{}),Object(he.jsxs)("select",{value:g[0],onChange:function(e){I(e.target.value)},placeholder:"Seleccionar operario",style:{height:44,width:274,borderStyle:"solid",borderColor:"#C4C4C4",borderWidth:1,borderRadius:10},children:[Object(he.jsx)("option",{value:"",children:"Seleccionar operario"}),o.filter((function(e){if("Inspecci\xf3n"===i){if("inspectionWorker"===e.role)return e}else if("Mantenci\xf3n"===i&&"maintenceOperator"===e.role)return e})).map((function(e,t){return Object(he.jsx)("option",{value:e._id,children:"".concat(e.name," ").concat(e.lastName)},t)}))]})]}),Object(he.jsx)(Ke.a,{onClick:a,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(he.jsx)(Je.a,{style:{color:"#ccc"}})})]})})},$e=n(583),et=n(634),tt=function(e){var t=e.open,n=e.userModal,a=e.handleChange,r=e.checked,i=e.permissionsReports,c=e.permissionsUsers,s=e.closeModal;return Object(he.jsx)(He.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(he.jsxs)(_e.a,{sx:k,children:[Object(he.jsx)("div",{style:{textAlign:"left",width:"100%"},children:Object(he.jsx)("h2",{children:"Datos del Usuario"})}),Object(he.jsxs)("div",{style:{width:"100%",height:"25vh"},children:[Object(he.jsxs)("div",{style:{float:"left",width:"30%"},children:[Object(he.jsx)("p",{children:Object(he.jsx)("strong",{children:"Nombre y Apellido"})}),Object(he.jsxs)("p",{children:[" ",n.name," ",n.lastName," "]}),Object(he.jsx)("br",{}),Object(he.jsx)("p",{children:Object(he.jsx)("strong",{children:"Rol del usuario"})}),Object(he.jsxs)("p",{children:[" ",n.roleTranslated," "]})]}),Object(he.jsxs)("div",{style:{float:"left",width:"30%"},children:[Object(he.jsx)("p",{children:Object(he.jsx)("strong",{children:"Email"})}),Object(he.jsxs)("p",{children:[" ",n.email]}),Object(he.jsx)("br",{}),Object(he.jsx)("p",{children:Object(he.jsx)("strong",{children:"RUN"})}),Object(he.jsxs)("p",{children:[" ",n.rut," "]})]}),Object(he.jsx)("div",{style:{float:"right",width:"30%"},children:Object(he.jsxs)($e.a,{children:[Object(he.jsx)(et.a,{onChange:a,checked:r}),r&&Object(he.jsx)("p",{children:"Usuario activo"}),!r&&Object(he.jsx)("p",{children:"Usuario inactivo"})]})})]}),Object(he.jsxs)("div",{style:{width:"100%"},children:[Object(he.jsx)("p",{children:Object(he.jsx)("strong",{children:"Permisos y accesos"})}),Object(he.jsxs)("div",{style:{minHeight:"16.5vw",borderRadius:12,borderWidth:1,borderStyle:"solid",borderColor:"#C4C4C4",backgroundColor:"#F1F1F1"},children:[Object(he.jsx)("div",{style:{margin:10,padding:10,width:"45%",float:"left"},children:i&&i.map((function(e,t){if(e.isChecked)return Object(he.jsx)("div",{children:Object(he.jsx)("p",{children:Object(he.jsx)("strong",{children:e.name})})})}))}),Object(he.jsx)("div",{style:{margin:10,padding:10,width:"45%",float:"right"},children:c.map((function(e,t){if(e.isChecked)return Object(he.jsx)("div",{children:Object(he.jsx)("p",{children:Object(he.jsx)("strong",{children:e.name})})})}))})]})]}),Object(he.jsx)("div",{style:{width:"100%",height:"5vh",margin:10},children:Object(he.jsx)("button",{style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D",position:"absolute",right:30},children:"Editar usuario"})}),Object(he.jsx)(Ke.a,{onClick:function(){return s(n)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(he.jsx)(Je.a,{style:{color:"#ccc"}})})]})})},nt=n(635),at=function(e){var t=e.open,n=e.progress,a=e.loadingData,r=e.withProgress;return Object(he.jsx)(He.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(he.jsx)(_e.a,{sx:k,children:Object(he.jsxs)("div",{style:{height:300,textAlign:"center"},children:[r&&Object(he.jsx)(nt.a,{variant:"determinate",size:200,value:Number(n)}),!r&&Object(he.jsx)(nt.a,{size:200}),Object(he.jsx)("h2",{children:a})]})})})},rt=function(e){var t=e.open,n=e.closeModal;return Object(he.jsx)(He.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(he.jsxs)(_e.a,{sx:k,children:[Object(he.jsx)("div",{style:{textAlign:"left",width:"100%"},children:Object(he.jsxs)("h2",{children:["Versi\xf3n ",E.version]})}),Object(he.jsxs)("div",{style:{width:"100%",height:"25vh",overflowY:"auto"},children:[Object(he.jsx)("p",{children:"Se ha actualizado la aplicaci\xf3n de servicios de Mantenimiento e Inspecci\xf3n."}),Object(he.jsx)("strong",{children:"v.3.4"}),Object(he.jsx)("li",{children:"Se incorpora bot\xf3n Inteligencia Artificial en navegador para ingresar fotos de las m\xe1quinas, para que el sistema identifique sus partes m\xe1s importantes."}),Object(he.jsxs)("li",{children:["Se habilita llenado ",Object(he.jsx)("strong",{children:"solo online"})," de los reportes a Operarios de Inspecci\xf3n y Operarios de Mantenci\xf3n."]}),Object(he.jsx)("strong",{children:"v.3.3"}),Object(he.jsx)("li",{children:'Se habilita nuevo bot\xf3n en navegador lateral "Listado Asignaciones" para operarios'}),Object(he.jsx)("li",{children:"Indicador de conexi\xf3n a internet en Header, Parte superior, dereha. Tiempo m\xe1ximo de espera de aviso una vez desconactado de la red: 10 segundos."}),Object(he.jsx)("strong",{children:"v.3.2"}),Object(he.jsxs)("li",{children:["Se habilitan reportes. Se realizan para pruebas:",Object(he.jsxs)("ul",{children:[Object(he.jsx)("li",{children:"Creaci\xf3n"}),Object(he.jsx)("li",{children:"Edici\xf3n"}),Object(he.jsx)("li",{children:"Asignaci\xf3n por usuario Operario de Inspecci\xf3n y Operario de Mantenci\xf3n"}),Object(he.jsx)("li",{children:"Pautas solo se pueden ver para pruebas. No se ha habilitado para ser ejecutadas y guardadas."})]})]}),Object(he.jsx)("strong",{children:"v.2.9.4"}),Object(he.jsx)("li",{children:"Reparaciones en servicio de reset de contrase\xf1a."}),Object(he.jsx)("strong",{children:"v.2.9.3"}),Object(he.jsx)("li",{children:"Formulario de creaci\xf3n de usuarios con modificaciones. Se generan alertas y bordes rojos en inputs para identificar el estado del formulario."}),Object(he.jsx)("strong",{children:"v.2.9.2"}),Object(he.jsx)("li",{children:"Se corrige error de requerimiento obligado para obtener lista de todas las m\xe1quinas de las obras."}),Object(he.jsx)("strong",{children:"v.2.9.1"}),Object(he.jsx)("li",{children:"Se habilita color burdeo en navegaci\xf3n por barra lateral."}),Object(he.jsx)("li",{children:"Se corrige problemas de acceso a \xe1reas no permitidas, a pesar de contar con privilegios."}),Object(he.jsx)("strong",{children:"v.2.9"}),Object(he.jsx)("li",{children:"Se habilita restablecimiento de contrase\xf1a."}),Object(he.jsx)("li",{children:"Se agregan im\xe1genes en formatos SVG, JPG y PNG con mayor resoluci\xf3n."}),Object(he.jsx)("strong",{children:"v.2.5"}),Object(he.jsx)("li",{children:"Se actualiza para responsividad smartphone, excepto control de usuarios usando admin o Ejecutivo SAP y reportes."}),Object(he.jsx)("li",{children:"Se corrige error de redacci\xf3n de correo electr\xf3nico."}),Object(he.jsx)("strong",{children:"v.2.2"}),Object(he.jsx)("li",{children:"Los usuarios pueden navegar sin conexi\xf3n, de acuerdo a sus privilegios."}),Object(he.jsx)("li",{children:"Los usuarios que intenten acceder a una URL de la aplicaci\xf3n a la que no cuente con permisos, aparecer\xe1 un mensaje indicando que no tiene acceso."}),Object(he.jsx)("li",{children:"Se ejecuta l\xf3gica offline para m\xe1quinas 3D."}),Object(he.jsx)("li",{children:"Los administradores pueden asignar obra al crear o editar usuarios."})]}),Object(he.jsx)(Ke.a,{onClick:function(){return n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(he.jsx)(Je.a,{style:{color:"#ccc"}})})]})})},it=n(440),ct=function(e){var t=e.open,n=e.closeModal,a=e.activity,i=e.comm,c=Object(r.useState)(""),s=Object(M.a)(c,2),o=s[0],l=s[1],d=Object(r.useState)([]),u=Object(M.a)(d,2),j=u[0],b=u[1];Object(r.useEffect)((function(){b(i||[])}),[i]);return Object(he.jsx)(He.a,{onClose:function(){return b([])},keepMounted:!1,open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",container:function(){setTimeout((function(){document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),50)},children:Object(he.jsxs)(_e.a,{sx:N,children:[Object(he.jsxs)("div",{style:{width:"100%",overflowY:"auto"},children:[Object(he.jsxs)("div",{style:{width:"100%",borderBottomStyle:"solid",borderBottomColor:"#BDBDBD",borderBottomWidth:.5},children:[Object(he.jsx)("h2",{style:{marginBottom:0},children:a.strpmdesc}),Object(he.jsxs)("p",{style:{marginTop:0},children:["ID: ",a.secexec," "]})]}),Object(he.jsxs)("div",{style:{width:"100%"},children:[Object(he.jsxs)("div",{style:{width:"30%",float:"left"},children:[Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("b",{children:"Equipo responsable"})," "]}),Object(he.jsxs)("p",{children:[" ",a.workteam," ",a.workteamdesc," "]})]}),Object(he.jsxs)("div",{style:{width:"70%",float:"right"},children:[Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("b",{children:"Descripci\xf3n de la tarea"})," "]}),Object(he.jsxs)("p",{children:[" ",a.taskdesc," "]})]})]}),Object(he.jsxs)("div",{style:{width:"100%",height:"15vh",overflowY:"auto"},children:[Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("b",{children:"Observaciones"})," "]}),Object(he.jsxs)("p",{children:[" ",a.obs01," "]})]}),Object(he.jsxs)("div",{children:[Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("b",{children:"Comentarios"})," "]}),Object(he.jsxs)("div",{style:{borderRadius:20,zIndex:1,backgroundColor:"#fff",borderStyle:"solid",borderWidth:.5,borderColor:"#BDBDBD",height:"20vh",padding:0},children:[Object(he.jsx)("div",{id:"commits",style:{width:"100%",borderBottomStyle:"solid",borderBottomColor:"#BDBDBD",borderBottomWidth:.5,height:"14vh",maxHeight:"14vh",overflowY:"auto"},children:j.reverse().map((function(e,t){return Object(he.jsx)("div",{id:"message_".concat(t+1),style:{width:"100%",display:"inline-block",paddingLeft:20,paddingRight:20},children:Object(he.jsxs)("div",{style:{padding:5,margin:5,maxWidth:"80%",backgroundColor:"#F9F9F9",borderRadius:20},children:[Object(he.jsx)("div",{style:{float:"right"},children:Object(he.jsx)(Ke.a,{onClick:function(){return function(e){if(confirm("Se borrar\xe1 mensaje. Confirme.")){new Array;var t=j.filter((function(t){if(t.id!==e)return t}));a.readCommits=t,b(t)}}(e.id)},style:{boxShadow:"none",backgroundColor:"transparent"},children:Object(he.jsx)(Je.a,{style:{color:"#ccc",fontSize:14}})})}),Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("b",{children:e.userName})," "]}),Object(he.jsx)("p",{children:e.commit})]})},t)}))}),Object(he.jsx)("div",{style:{width:"100%",paddingLeft:10,paddingRight:10},children:Object(he.jsx)("div",{style:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:Object(he.jsx)(it.a,{style:{width:"100%"},placeholder:"Ingrese un comentario sobre la tarea",onChange:function(e){l(e.target.value)},value:o})})})]})]}),Object(he.jsxs)("div",{style:{width:"100%",paddingTop:10,display:"inline-block"},children:[Object(he.jsx)("div",{style:{width:"50%",float:"left"}}),Object(he.jsx)("div",{style:{width:"50%",float:"right",textAlign:"right"},children:Object(he.jsx)(Le.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){!function(){var e={user:localStorage.getItem("_id"),userName:"".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),id:Date.now(),commit:o};if(o.length>0){var t=j;t.push(e),b(t),setTimeout((function(){a.readCommits=j,l(""),document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),500)}}()},children:"Guardar mensaje"})})]})]}),Object(he.jsx)(Ke.a,{onClick:function(){n(a)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(he.jsx)(Je.a,{style:{color:"#ccc"}})})]})})},st=function(e){var t=e.open,n=e.closeWriteModal,a=e.activity,i=e.comm,c=Object(r.useState)(""),s=Object(M.a)(c,2),o=s[0],l=s[1],d=Object(r.useState)([]),u=Object(M.a)(d,2),j=u[0],b=u[1];Object(r.useEffect)((function(){b(i||[])}),[i]);return Object(he.jsx)(He.a,{onClose:function(){return b([])},keepMounted:!1,open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",container:function(){setTimeout((function(){document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),50)},children:Object(he.jsxs)(_e.a,{sx:N,children:[Object(he.jsxs)("div",{style:{width:"100%",overflowY:"auto"},children:[Object(he.jsxs)("div",{style:{width:"100%",borderBottomStyle:"solid",borderBottomColor:"#BDBDBD",borderBottomWidth:.5},children:[Object(he.jsx)("h2",{style:{marginBottom:0},children:a.strpmdesc}),Object(he.jsxs)("p",{style:{marginTop:0},children:["ID: ",a.secexec," "]})]}),Object(he.jsxs)("div",{style:{width:"100%"},children:[Object(he.jsxs)("div",{style:{width:"30%",float:"left"},children:[Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("b",{children:"Equipo responsable"})," "]}),Object(he.jsxs)("p",{children:[" ",a.workteam," ",a.workteamdesc," "]})]}),Object(he.jsxs)("div",{style:{width:"70%",float:"right"},children:[Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("b",{children:"Descripci\xf3n de la tarea"})," "]}),Object(he.jsxs)("p",{children:[" ",a.taskdesc," "]})]})]}),Object(he.jsxs)("div",{style:{width:"100%",height:"15vh",overflowY:"auto"},children:[Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("b",{children:"Observaciones"})," "]}),Object(he.jsxs)("p",{children:[" ",a.obs01," "]})]}),Object(he.jsxs)("div",{children:[Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("b",{children:"Comentarios"})," "]}),Object(he.jsxs)("div",{style:{borderRadius:20,zIndex:1,backgroundColor:"#fff",borderStyle:"solid",borderWidth:.5,borderColor:"#BDBDBD",height:"20vh",padding:0},children:[Object(he.jsx)("div",{id:"commits",style:{width:"100%",borderBottomStyle:"solid",borderBottomColor:"#BDBDBD",borderBottomWidth:.5,height:"14vh",maxHeight:"14vh",overflowY:"auto"},children:j.reverse().map((function(e,t){return Object(he.jsx)("div",{id:"message_".concat(t+1),style:{width:"100%",display:"inline-block",paddingLeft:20,paddingRight:20},children:Object(he.jsxs)("div",{style:{padding:5,margin:5,maxWidth:"80%",backgroundColor:"#F9F9F9",borderRadius:20},children:[Object(he.jsx)("div",{style:{float:"right"},children:Object(he.jsx)(Ke.a,{onClick:function(){return function(e){if(confirm("Se borrar\xe1 mensaje. Confirme.")){new Array;var t=j.filter((function(t){if(t.id!==e)return t}));a.writeCommits=t,b(t)}}(e.id)},style:{boxShadow:"none",backgroundColor:"transparent"},children:Object(he.jsx)(Je.a,{style:{color:"#ccc",fontSize:14}})})}),Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("b",{children:e.userName})," "]}),Object(he.jsx)("p",{children:e.commit})]})},t)}))}),Object(he.jsx)("div",{style:{width:"100%",paddingLeft:10,paddingRight:10},children:Object(he.jsx)("div",{style:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:Object(he.jsx)(it.a,{style:{width:"100%"},placeholder:"Ingrese un comentario sobre la tarea",onChange:function(e){l(e.target.value)},value:o})})})]})]}),Object(he.jsxs)("div",{style:{width:"100%",paddingTop:10,display:"inline-block"},children:[Object(he.jsx)("div",{style:{width:"50%",float:"left"}}),Object(he.jsx)("div",{style:{width:"50%",float:"right",textAlign:"right"},children:Object(he.jsx)(Le.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){!function(){var e={user:localStorage.getItem("_id"),userName:"".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),id:Date.now(),commit:o};if(o.length>0){var t=j;t.push(e),b(t),setTimeout((function(){a.writeCommits=j,l(""),document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),500)}}()},children:"Guardar mensaje"})})]}),Object(he.jsx)("div",{style:{width:"100%",paddingTop:10,display:"inline-block",textAlign:"center"},children:Object(he.jsx)(Le.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){j.length>0&&confirm("Guardar avance")&&(a.isChecked=!0,n())},children:"Indicar tarea terminada"})})]}),Object(he.jsx)(Ke.a,{onClick:function(){n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(he.jsx)(Je.a,{style:{color:"#ccc"}})})]})})},ot=(n(507),n(408)),lt=n.n(ot),dt=n(221),ut=(n(525),function(e){var t=e.open,n=e.closeModal,a="/icv_web_model/model.json",i=["Pala","Cuerpo","Cabina_Pala","Oruga","Brazo","Balde","Trasero_Pala","Camion","Neumaticos","Tolva","Cabina_Camion","Parrilla","Trasero_Camion"],c=Object(r.useState)(),s=Object(M.a)(c,2),o=s[0],l=s[1],d=Object(r.useState)(""),u=Object(M.a)(d,2),j=u[0],b=u[1];Object(r.useEffect)((function(){console.log(a),h()}),[a]);var h=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt.d(a);case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e,t,n){var a=e.naturalWidth,r=e.naturalHeight;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#000000",n.fillRect(0,0,t.width,t.height);var i=Math.min(t.width/e.naturalWidth,t.height/e.naturalHeight),c=Math.round(a*i),s=Math.round(r*i);n.drawImage(e,0,0,a,r,(t.width-c)/2,(t.height-s)/2,c,s)},O=function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n,a,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById("canvas"),a=n.getContext("2d"),p(t.target,n,a),r=dt.e((function(){return dt.c.resizeBilinear(dt.a.fromPixels(n),[640,640]).div(255).expandDims(0)})),o&&r&&o.executeAsync(r).then((function(e){console.log(e);var t="16px sans-serif";a.font=t,a.textBaseline="top";var r,c=Object(M.a)(e,4),s=c[0],o=c[1],l=c[2],d=c[3],u=s.dataSync(),j=o.dataSync(),b=l.dataSync(),h=d.dataSync()[0];for(dt.b(e),r=0;r<h;++r){var p=u.slice(4*r,4*(r+1)),O=Object(M.a)(p,4),m=O[0],g=O[1],x=O[2],f=O[3];m*=n.width,x*=n.width,g*=n.height;var v=x-m,y=(f*=n.height)-g,w=i[b[r]],S=j[r].toFixed(2);a.strokeStyle="#00FFFF",a.lineWidth=4,a.strokeRect(m,g,v,y),a.fillStyle="#00FFFF";var C=a.measureText(w+":"+S).width,k=parseInt(t,10);a.fillRect(m,g,C+4,k+4)}for(r=0;r<h;++r){var I=u.slice(4*r,4*(r+1)),N=Object(M.a)(I,3),D=N[0],R=N[1];D*=n.width,R*=n.height;var B=i[b[r]],E=j[r].toFixed(2);a.fillStyle="#000000",a.fillText(B+":"+E,D,R)}})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(he.jsx)(He.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(he.jsxs)(_e.a,{sx:I,children:[Object(he.jsxs)("div",{className:"Dropzone-page",children:[Object(he.jsxs)("h3",{children:["Inserte su im\xe1gen. ",Object(he.jsx)("br",{})," Para cambiar solo vuelva a tocar el cuadrado."]}),o?Object(he.jsxs)(lt.a,{className:"Dropzone",accept:"image/jpeg, image/png, .jpg, .jpeg, .png",multiple:!1,onDrop:function(e,t,n){console.log(e),b(e[0].preview||n[0])},children:[j?Object(he.jsx)("img",{alt:"upload preview",onLoad:O,className:"Dropzone-img",src:j}):Object(he.jsx)("h2",{children:"Presione para elegir una foto desde el archivo"}),Object(he.jsx)("canvas",{id:"canvas",width:"640",height:"640"})]}):Object(he.jsx)("div",{className:"Dropzone",children:"Cargando modelo..."})]}),Object(he.jsx)(Ke.a,{onClick:function(){n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(he.jsx)(Je.a,{style:{color:"#ccc"}})})]})})}),jt=Object(v.a)((function(e){return{drawer:{width:250,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:330,maxWidth:"100vw",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},drawerClose:{width:"15vw",maxWidth:99,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:" hidden"},drawerPaper:{marginTop:0,backgroundColor:"#212121",border:"none",borderEndEndRadius:30,borderTopRightRadius:30},drawerContainer:{position:"relative"},drawerBottom:{position:"absolute",backgroundColor:"rgb(228, 228, 228)",width:"100%",display:"flex",bottom:0,padding:5},bottomButtons:{height:54,width:54},sideButtons:{width:"5vh",maxWidth:26,height:"2.5vh",color:"#FFFFFF"},sideButtonsCloseMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:100,paddingTop:40},sideButtonsOpenMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:20,paddingTop:40},divider:{width:"100%",backgroundColor:"rgba(255, 255, 255, 0.18)"},searchField:{"& .MuiFormLabel-root":{color:"white"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"},"& .fa-search":{color:"white"},"& .MuiInputBase-input":{color:"white"}},listItemText:{whiteSpace:"normal",color:"white",fontWeight:"bold"}}})),bt=function(){var e,t,n=jt(),a=Ie(),i=a.navBarOpen,c=a.handleNavBar,s=(me().userData,Object(r.useState)()),d=Object(M.a)(s,2),u=d[0],j=d[1],b=Object(r.useState)(""),h=Object(M.a)(b,2),p=h[0],O=h[1],m=Object(o.f)(),g=Object(r.useState)(!0),f=Object(M.a)(g,2),v=f[0],y=f[1],w=Object(r.useState)(!1),S=Object(M.a)(w,2),C=S[0],k=S[1],I=Object(r.useState)(!1),N=Object(M.a)(I,2),D=N[0],R=N[1],B=function(){var e=Object(Fe.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:confirm("Confirme salida de la aplicaci\xf3n. Para volver a iniciar sesi\xf3n requiere contar con internet para validar las credenciales.")&&(window.localStorage.clear(),window.location.reload(),E());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent)&&t.forEach((function(e,t){window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){i&&c()};return Object(r.useEffect)((function(){"admin"!==localStorage.getItem("role")&&"superAdmin"!==localStorage.getItem("role")&&"sapExecutive"!==localStorage.getItem("role")||y(!1),O(m.location.pathname),m.listen((function(e){O(e.pathname)}))&&j(!0);var e=setInterval((function(){localStorage.getItem("sitio")?(j(!0),clearInterval(e)):j(!1)}),1e3)}),[]),Object(he.jsx)("div",{children:Object(he.jsx)(Ge.a,{className:Object(qe.a)(Object(qe.a)(n.drawer,(e={},Object(x.a)(e,n.drawerOpen,i),Object(x.a)(e,n.drawerClose,!i),e))),variant:"permanent",classes:{paper:Object(qe.a)(n.drawerPaper,(t={},Object(x.a)(t,n.drawerOpen,i),Object(x.a)(t,n.drawerClose,!i),t))},children:Object(he.jsxs)("div",{className:n.drawerContainer,children:[Object(he.jsx)(Pe.a,{container:!0,spacing:2,style:{padding:i?8:"8px 0 0 0"},children:Object(he.jsxs)(Pe.a,{item:!0,xs:12,container:!0,children:[Object(he.jsx)("div",{style:{width:"100%",textAlign:i?"right":"center"},children:Object(he.jsx)(Ze.a,{title:i?"Cerrar Men\xfa":"Abrir Men\xfa",onClick:c,className:i?n.sideButtonsOpenMenu:n.sideButtonsCloseMenu,children:i?Object(he.jsx)(Je.a,{}):Object(he.jsx)(Qe.a,{})})}),i&&Object(he.jsxs)("div",{style:{padding:10},children:[Object(he.jsx)("img",{height:60,src:Ve,alt:""}),Object(he.jsx)("p",{style:{color:"#fff",margin:0},children:"Ingenier\xeda Civil Vicente"})]}),Object(he.jsx)("div",{style:{height:1,backgroundColor:"#fff",width:"100%",marginRight:10,marginLeft:10}}),Object(he.jsx)("div",{style:{width:"100%",marginTop:40,textAlign:i?"left":"center"},children:Object(he.jsx)(Ze.a,{onClick:A,title:"Inicio",children:Object(he.jsxs)(l.b,{to:"/",className:n.sideButtons,style:{textDecoration:"none",color:"/"===p?"#BE2E26":"#FFFFFF"},children:[Object(he.jsx)(Be.a,{icon:Re.i})," ",i?" Inicio":""]})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role"))&&Object(he.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(he.jsx)(Ze.a,{onClick:A,title:"Obras",children:Object(he.jsxs)(l.b,{to:"/sites",className:n.sideButtons,style:{color:"/sites"===p?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(he.jsx)(Be.a,{icon:Re.l})," ",i?" Obras":""]})})}),Object(he.jsxs)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:[u&&Object(he.jsx)(Ze.a,{onClick:A,title:"Inspecci\xf3n",children:Object(he.jsxs)(l.b,{to:"/inspection",className:n.sideButtons,style:{color:p.includes("/inspection")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(he.jsx)(Be.a,{icon:Re.p})," ",i?" Inspecci\xf3n":""]})}),!u&&Object(he.jsxs)(Ze.a,{disabled:!0,onClick:A,title:"Inspecci\xf3n",children:[Object(he.jsx)(Be.a,{icon:Re.p})," ",i?" Inspecci\xf3n":""]})]}),Object(he.jsxs)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:[u&&Object(he.jsx)(Ze.a,{onClick:A,title:"Mantenci\xf3n",children:Object(he.jsxs)(l.b,{to:"/maintenance",className:n.sideButtons,style:{color:p.includes("/maintenance")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(he.jsx)(Be.a,{icon:Re.r})," ",i?" Mantenci\xf3n":""]})}),!u&&Object(he.jsxs)(Ze.a,{disabled:!0,onClick:A,title:"Mantenci\xf3n",children:[Object(he.jsx)(Be.a,{icon:Re.r})," ",i?" Mantenci\xf3n":""]})]}),!v&&Object(he.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(he.jsx)(Ze.a,{onClick:A,title:"Reportes",children:Object(he.jsxs)(l.b,{to:"/reports",className:n.sideButtons,style:{color:p.includes("/reports")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(he.jsx)(Be.a,{icon:Re.e})," ",i?" Reportes":""]})})}),!v&&Object(he.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(he.jsx)(Ze.a,{onClick:A,title:"Administraci\xf3n",children:Object(he.jsxs)(l.b,{to:"/administration",className:n.sideButtons,style:{color:p.includes("/administration")||p.includes("/users")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(he.jsx)(Be.a,{icon:Re.u})," ",i?" Administraci\xf3n":""]})})}),v&&Object(he.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(he.jsx)(Ze.a,{onClick:A,title:"Listado Asignaciones",children:Object(he.jsxs)(l.b,{to:"/activities",className:n.sideButtons,style:{color:p.includes("/activities")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(he.jsx)(Be.a,{icon:Re.k})," ",i?" Listado Asignaciones":""]})})}),Object(he.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(he.jsx)(Ze.a,{onClick:A,title:"Int. Artificial (Beta)",onClickCapture:function(){R(!0)},children:Object(he.jsxs)("div",{className:n.sideButtons,style:{color:"/pms"===p?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(he.jsx)(Be.a,{icon:Re.o})," ",i?" Int. Artificial (Beta)":""]})})}),Object(he.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(he.jsx)(Ze.a,{onClick:A,title:"Configuraci\xf3n",children:Object(he.jsxs)(l.b,{to:"/configuration",className:n.sideButtons,style:{color:"/configuration"===p?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(he.jsx)(Be.a,{icon:Re.f})," ",i?" Configuraci\xf3n":""]})})}),Object(he.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(he.jsx)(Ze.a,{onClick:A,title:"Informaci\xf3n",onClickCapture:function(){k(!0)},children:Object(he.jsxs)("div",{className:n.sideButtons,style:{color:"/information"===p?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(he.jsx)(Be.a,{icon:Re.j})," ",i?" Informaci\xf3n":""]})})}),Object(he.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(he.jsx)(Ze.a,{onClick:B,title:"Cerrar Sesi\xf3n",children:Object(he.jsxs)("div",{className:n.sideButtons,children:[Object(he.jsx)(Be.a,{icon:Re.q})," ",i?" Cerrar Sesi\xf3n":""]})})})]})}),Object(he.jsx)(rt,{open:C,closeModal:function(){k(!1)}}),Object(he.jsx)(ut,{open:D,closeModal:function(){R(!1)}})]})})})},ht=Object(v.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}})),pt=function(){var e=Se().dictionary,t=(me().login,Object(r.useState)("")),n=Object(M.a)(t,2),a=n[0],i=n[1],c=ht(),s=Object(o.f)(),l=function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,d();case 4:n=e.sent,console.log(n),n.data.status?"no-email"===n.data.status&&alert(n.data.message):(alert(n.data.message),s.replace("/")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("No se pudo obtener el reset");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){return new Promise((function(e){Z(a).then((function(t){e(t)})).catch((function(t){e(t)}))}))};return Object(he.jsx)(Pe.a,{container:!0,style:{padding:20,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(he.jsx)("form",{onSubmit:l,children:Object(he.jsxs)(Pe.a,{container:!0,item:!0,spacing:2,children:[Object(he.jsx)(Pe.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(he.jsx)(ze.a,{type:"email",name:"email",label:e.login.emailField,value:a,onChange:function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"email":return i(e.target.value)}},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(he.jsx)(Le.a,{className:c.button,type:"submit",variant:"contained",color:"primary",children:"SOLICITAR"})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(he.jsx)(Le.a,{className:c.button,variant:"contained",color:"primary",onClick:function(){s.goBack()},children:"VOLVER"})})]})})})},Ot=(n(538),Object(v.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}}))),mt=function(e){var t=e.id,n=Se().dictionary,a=Object(r.useState)(""),i=Object(M.a)(a,2),c=i[0],s=i[1],l=Object(r.useState)(""),d=Object(M.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(""),h=Object(M.a)(b,2),p=(h[0],h[1]),O=Object(r.useState)(!1),m=Object(M.a)(O,2),g=m[0],x=m[1],f=Object(r.useState)(!1),v=Object(M.a)(f,2),y=v[0],w=v[1],S=Ot(),C=Object(o.f)();Object(r.useEffect)((function(){p(t)}),[]);var k=function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"password":return s(e.target.value);case"confirmPassword":return j(e.target.value)}},I=function(){var e=Object(Fe.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c===u?c.length>5||alert("Contrase\xf1a debe contener al menos 6 car\xe1cteres."):alert("Contrase\xf1as ingresadas no coinciden");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){x(c!==u),c.length<6?w(!0):w(!1)};return Object(he.jsx)(Pe.a,{container:!0,style:{padding:20,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(he.jsx)("form",{children:Object(he.jsxs)(Pe.a,{container:!0,item:!0,spacing:2,children:[Object(he.jsx)(Pe.a,{item:!0,xs:12,container:!0,justifyContent:"center",children:Object(he.jsx)(ze.a,{type:"password",name:"password",label:n.restorePassword.passwordField,value:c,onChange:k,onBlur:function(e){return N()},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"},id:"password"})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:Object(he.jsx)(ze.a,{type:"password",name:"confirmPassword",label:n.restorePassword.confirmPasswordField,value:u,onChange:k,onBlur:function(e){return N()},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"},id:"c_password"})}),y&&Object(he.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(he.jsx)("p",{style:{color:"red"},children:Object(he.jsx)("strong",{children:"Contrase\xf1as deben ser de 6 car\xe1cteres m\xednimo"})})}),g&&Object(he.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(he.jsx)("p",{style:{color:"red"},children:Object(he.jsx)("strong",{children:"Contrase\xf1as no coinciden"})})}),Object(he.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[Object(he.jsx)("p",{children:"Nivel de seguridad"}),Object(he.jsx)("progress",{max:"100",value:"0",id:"meter"}),Object(he.jsx)("p",{children:"Si agrega a la contrse\xf1a letras may\xfasculas, n\xfameros y s\xedmbolos, el nivel de seguridad aumenta."})]}),Object(he.jsx)(Pe.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:Object(he.jsx)(Le.a,{className:S.button,variant:"contained",color:"primary",onClick:function(){I()},children:n.restorePassword.button})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:Object(he.jsx)(Le.a,{className:S.button,variant:"contained",color:"primary",onClick:function(){C.replace("/")},children:n.restorePassword.cancel})})]})})})},gt=n(637),xt=(Object(v.a)((function(e){return{}})),Object(v.a)((function(e){return{}})),n(539),function(e){return new Promise((function(t){var n=e.transaction(["Machines"],"readonly").objectStore("Machines");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){t(e.target.result)}}}))}),ft={initDbMachines:function(){var e,t=window.indexedDB.open("Trucks",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Machines",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").add(e).onsuccess=function(){}},obtener:function(e,t){t.transaction(["Machines"],"readonly").objectStore("Machines").get(e).onsuccess=function(e){}},actualizar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").put(e).onsuccess=function(){}},eliminar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").delete(e).onsuccess=function(){xt()}},consultar:xt},vt=function(e){var t=e.transaction(["pautas"],"readonly").objectStore("pautas"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},yt={initDbPMs:function(){var e,t=window.indexedDB.open("Pautas",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("pautas",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["pautas"],"readwrite").objectStore("pautas").add(e)},obtener:function(e,t){return new Promise((function(n){t.transaction(["pautas"],"readonly").objectStore("pautas").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["pautas"],"readwrite").objectStore("pautas").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["pautas"],"readwrite").objectStore("pautas").delete(e).onsuccess=function(){vt()}},consultar:vt,consultarPorDato:function(e,t){return new Promise((function(e){t.transaction(["pautas"],"readonly").objectStore("pautas").openCursor().onsuccess=function(e){console.log(e.target.result.value)}}))}},wt=function(e){var t=e.transaction(["Obras"],"readonly").objectStore("Obras"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},St={initDbObras:function(){var e,t=window.indexedDB.open("Sites",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Obras",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").add(e)},obtener:function(e,t){t.transaction(["Obras"],"readonly").objectStore("Obras").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Obras"],"readwrite").objectStore("Obras").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").delete(e).onsuccess=function(){wt()}},consultar:wt},Ct=function(e){var t=e.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},kt={initDb3DFiles:function(){var e,t=window.indexedDB.open("3Ds",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("3dFilesList",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){return new Promise((function(n){var a=t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").add(e);a.onsuccess=Object(Fe.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct(t);case 2:e.sent&&n(!0);case 4:case"end":return e.stop()}}),e)}))),a.onerror=function(e){console.log(e),n(!1)}}))},obtener:function(e,t){return new Promise((function(n){t.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").put(e).onsuccess=Object(Fe.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);case 1:case"end":return e.stop()}}),e)})))}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").delete(e).onsuccess=function(){Ct()}},consultar:Ct},It=function(e){return new Promise((function(t){var n=e.transaction(["Equips"],"readonly").objectStore("Equips");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){var n=new Array;n=e.target.result,t(n)}}}))},Nt={initDbMachines:function(){var e,t=window.indexedDB.open("Machines",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Equips",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Equips"],"readwrite").objectStore("Equips").add(e).onsuccess=function(){}},obtener:function(e,t){t.transaction(["Equips"],"readonly").objectStore("Equips").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Equips"],"readwrite").objectStore("Equips").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Equips"],"readwrite").objectStore("Equips").delete(e).onsuccess=function(){It()}},consultar:It},Dt=function(){var e,t=window.indexedDB.open("MachinesImages",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("EquipsImages",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},Rt=function(e,t){return new Promise((function(n){t.transaction(["EquipsImages"],"readonly").objectStore("EquipsImages").get(e).onsuccess=function(e){n(e.target.result)}}))},Bt=function(e,t){return new Promise((function(n){try{t.transaction(["EquipsImages"],"readwrite").objectStore("EquipsImages").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},Et=function(e){var t=e.transaction(["Reports"],"readonly").objectStore("Reports"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},At={initDbReports:function(){var e,t=window.indexedDB.open("Documentation",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Reports",{keyPath:"idDatabase"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Reports"],"readwrite").objectStore("Reports").add(e)},obtener:function(e,t){t.transaction(["Reports"],"readonly").objectStore("Reports").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Reports"],"readwrite").objectStore("Reports").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Reports"],"readwrite").objectStore("Reports").delete(e).onsuccess=function(){Et()}},consultar:Et},Tt=function(e){return new Promise((function(t){var n=e.transaction(["Reports"],"readonly").objectStore("Reports");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){var n=new Array;n=e.target.result,t(n)}}}))},Mt={initDb:function(){var e,t=window.indexedDB.open("Executions",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Reports",{keyPath:"_id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Reports"],"readwrite").objectStore("Reports").add(e).onsuccess=function(){}},obtener:function(e,t){return new Promise((function(n){t.transaction(["Reports"],"readonly").objectStore("Reports").get(e).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Reports"],"readwrite").objectStore("Reports").put(e).onsuccess=function(){n(!0)}}catch(a){n(a)}}))},eliminar:function(e,t){t.transaction(["Reports"],"readwrite").objectStore("Reports").delete(e).onsuccess=function(){Tt()}},consultar:Tt},Ft=function(e){var t=e.machine,n=Object(r.useState)(),a=Object(M.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)(),o=Object(M.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)(0),j=Object(M.a)(u,2),b=j[0],h=j[1],p=Object(r.useState)(!1),O=Object(M.a)(p,2),m=O[0],g=O[1],x=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var n,a,r,i,c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,kt.initDb3DFiles();case 3:if(!(n=e.sent)){e.next=9;break}return e.next=7,kt.consultar(n.database);case 7:(a=e.sent)&&(r=a[t.id].data,i=new Blob([r]),c=URL.createObjectURL(i),d(c));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(),c(document.querySelector("model-viewer#machine")),(t=document.querySelector("model-viewer#machine")).addEventListener("load",(function(e){g(!1);var n=function(){var e=Object(Fe.a)(Me.a.mark((function e(n){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.materialFromPoint(n.clientX,n.clientY);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.addEventListener("click",n),setTimeout((function(){t.cameraControls=!0}),2e3)})),t.addEventListener("progress",(function(e){h(130*e.detail.totalProgress),1==e.detail.totalProgress&&(h(100),setTimeout((function(){g(!1)}),2e3))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){f()}),[]);return Object(he.jsxs)(_e.a,{style:{height:"100%",width:"100%"},id:"box",children:[Object(he.jsx)("model-viewer",{id:"machine",src:l,style:{height:"100%",width:"80%",float:"left"},"camera-orbit":"45deg 90deg 2.5m",scale:"0.001 0.001 0.001",alt:"A Material Picking Example"}),Object(he.jsx)(at,{open:m,progress:b,loadingData:"Preparando vista 3D...",withProgress:!0}),"Pala"===t.type&&Object(he.jsxs)("div",{style:{float:"right",height:"100%",width:"20%",textAlign:"center",backgroundColor:"transparent",paddingTop:70},children:[Object(he.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),i.cameraOrbit="45deg 90deg 2.5m",i.disableZoom=!1,i.cameraControls=!0}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Terminar"}),Object(he.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),i.cameraOrbit="45deg 55deg -4m",i.disableZoom=!0,i.cameraControls=!1;var t=document.createElement("div");t.innerHTML="Cabina",t.id="letrero";var n=document.getElementById("box");Object.assign(t.style,{position:"absolute",top:"50%",left:"20%",color:"#000",backgroundColor:"#fff",fontSize:"30px",padding:"40px",borderRadius:"30px"}),n.appendChild(t)}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Cabina"}),Object(he.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),i.cameraOrbit="10deg 120deg 3m",i.disableZoom=!0,i.cameraControls=!1;var t=document.createElement("div");t.innerHTML="Balde",t.id="letrero";var n=document.getElementById("box");Object.assign(t.style,{position:"absolute",top:"50%",left:"45%",color:"#000",backgroundColor:"#fff",fontSize:"30px",padding:"40px",borderRadius:"30px"}),n.appendChild(t)}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Balde"}),Object(he.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),i.cameraOrbit="-40deg 80deg 2m",i.disableZoom=!0,i.cameraControls=!1;var t=document.createElement("div");t.innerHTML="Brazo",t.id="letrero";var n=document.getElementById("box");Object.assign(t.style,{position:"absolute",top:"50%",left:"40%",color:"#000",backgroundColor:"#fff",fontSize:"30px",padding:"40px",borderRadius:"30px"}),n.appendChild(t)}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Brazo"}),Object(he.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),i.cameraOrbit="90deg 90deg 2m",i.disableZoom=!0,i.cameraControls=!1;var t=document.createElement("div");t.innerHTML="Cuerpo",t.id="letrero";var n=document.getElementById("box");Object.assign(t.style,{position:"absolute",top:"50%",left:"25%",color:"#000",backgroundColor:"#fff",fontSize:"30px",padding:"40px",borderRadius:"30px"}),n.appendChild(t)}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Cuerpo"}),Object(he.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("letrero");e&&e.remove(),i.cameraOrbit="-120deg 120deg 2m",i.disableZoom=!0,i.cameraControls=!1;var t=document.createElement("div");t.innerHTML="Orugas",t.id="letrero";var n=document.getElementById("box");Object.assign(t.style,{position:"absolute",top:"35%",left:"45%",color:"#000",backgroundColor:"#fff",fontSize:"30px",padding:"40px",borderRadius:"30px"}),n.appendChild(t)}()},style:{minWidth:170,margin:10,padding:20,fontSize:20,borderRadius:30},children:"Oruga"})]})]})},Pt=n(24),zt=n(428),Lt=n.n(zt),Wt=(n(555),n(556),n(652)),Ut=n(430),Yt=n.n(Ut),Gt=n(429),Zt=n.n(Gt),Jt=function(e){var t=e.height,n=e.pauta,a=(e.setReportLocation,e.executionReport),i=e.setProgress,c=Object(r.useState)([]),s=Object(M.a)(c,2),o=s[0],l=s[1],d=Object(r.useState)([]),u=Object(M.a)(d,2),j=u[0],b=u[1],h=Object(r.useState)(""),p=Object(M.a)(h,2),O=p[0],m=p[1],g=Object(r.useState)([]),x=Object(M.a)(g,2),f=x[0],v=x[1],y=Object(r.useState)(!1),w=Object(M.a)(y,2),S=w[0],C=w[1],k=Object(r.useState)(!1),I=Object(M.a)(k,2),N=I[0],D=I[1],R=Object(r.useState)({}),B=Object(M.a)(R,2),E=B[0],A=B[1],F=Object(r.useState)(),P=Object(M.a)(F,2),z=P[0],L=P[1];Object(r.useEffect)((function(){W()}),[]);var W=function(){var e=n.struct.reduce((function(e,t){return e[t.strpmdesc]=[].concat(Object(Pt.a)(e[t.strpmdesc]||[]),[t]),e}),{});if(e){a.group||(a.group=e),l(a.group);var t=Object.keys(a.group),r=[];t.forEach((function(e,n){var c={data:e,state:!1};if(0==n&&(c.state=!0),r.push(c),n==t.length-1){var s=[];a.group[r[0].data].forEach((function(e,t){if(console.log(e.isChecked),e.obs01||(e.obs01="Sin Observaciones"),e.isChecked&&s.push(e),t==a.group[r[0].data].length-1){b(r),m(r[0].data),v(a.group[r[0].data]),console.log("("+s.length+"x100) / "+a.group[r[0].data].length);var n=100*s.length/a.group[r[0].data].length;i(n)}}))}}))}},U=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.updatedBy=localStorage.getItem("_id"),a.offLineGuard=Date.now(),e.next=4,Mt.initDb();case 4:if(!(t=e.sent)){e.next=10;break}return e.next=8,Mt.actualizar(a,t.database);case 8:e.sent&&(navigator.onLine&&be(a),C(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.updatedBy=localStorage.getItem("_id"),a.offLineGuard=Date.now(),e.next=4,Mt.initDb();case 4:if(!(t=e.sent)){e.next=10;break}return e.next=8,Mt.actualizar(a,t.database);case 8:e.sent&&(navigator.onLine&&be(a),D(!1),j[z]=E,b(j),j.forEach((function(e,t){if(e.state=!1,t==j.length-1){var n=[];o[O.data].forEach((function(e,t){if(e.isChecked&&n.push(e),t==o[O.data].length-1){var a=100*n.length/o[O.data].length;i(a)}}))}})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G={height:70,borderRadius:10,boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)"},Z=function(e){var t=e.className,n=(e.style,e.onClick);return Object(he.jsx)("div",{className:t,style:{color:"black",background:"grey",borderRadius:20},onClick:n})},J={infinite:!1,speed:500,slidesToShow:7,slidesToScroll:7,nextArrow:Object(he.jsx)(Z,{}),prevArrow:Object(he.jsx)(Z,{})};return Object(he.jsxs)("div",{children:[Object(he.jsx)("div",{style:{height:70,borderColor:"#ccc",borderWidth:2,borderStyle:"solid",borderRadius:10},children:Object(he.jsx)(Lt.a,Object(T.a)(Object(T.a)({},J),{},{children:j.map((function(e,t){return Object(he.jsxs)("div",{style:{textAlign:"center",height:"100%"},children:[Object(he.jsx)(Le.a,{style:{textAlign:"center",width:"100%",height:70},onClick:function(){return function(e,t){m(t),e.forEach((function(n,a){if(n.state=!1,a==e.length-1){var r=[];o[t.data].forEach((function(e,n){if(console.log(e),e.obs01||(e.obs01="Sin Observaciones"),e.isChecked&&r.push(e),n==o[t.data].length-1){v(o[t.data]),t.state=!0;var a=100*r.length/o[t.data].length;i(a)}}))}}))}(j,e)},children:Object(he.jsx)("p",{style:{margin:0},children:e.data})}),e.state&&Object(he.jsx)("div",{style:{width:"100%",height:6,backgroundColor:"#BB2D2D",position:"relative",bottom:5,borderRadius:5}})]},t)}))}))}),Object(he.jsxs)("div",{children:[Object(he.jsxs)($e.a,{children:[Object(he.jsx)("div",{style:{width:"15%",marginLeft:5},children:Object(he.jsxs)("p",{style:{margin:0},children:[" ",Object(he.jsx)("strong",{children:"Personal Necesario"})," "]})}),Object(he.jsx)("div",{style:{width:"30%",marginLeft:5},children:Object(he.jsxs)("p",{style:{margin:0},children:[" ",Object(he.jsx)("strong",{children:"Descripcion De Tarea"})," "]})}),Object(he.jsx)("div",{style:{width:"40%",marginLeft:5},children:Object(he.jsxs)("p",{style:{margin:0},children:[" ",Object(he.jsx)("strong",{children:"Observaciones"})," "]})}),Object(he.jsx)("div",{style:{width:"15%",marginLeft:5},children:Object(he.jsxs)("p",{style:{margin:0},children:[" ",Object(he.jsx)("strong",{children:"Acciones"})," "]})})]}),f&&Object(he.jsx)("div",{style:{height:t,overflowY:"scroll"},children:f.map((function(e,t){return Object(he.jsxs)($e.a,{style:G,children:[Object(he.jsx)("div",{style:{width:"15%",marginLeft:5},children:e.workteamdesc}),Object(he.jsx)("div",{style:{width:"30%",marginLeft:5,overflowY:"scroll",textOverflow:"ellipsis",maxHeight:"100%"},children:e.taskdesc}),Object(he.jsx)("div",{style:{width:"40%",marginLeft:5,overflowY:"scroll",textOverflow:"ellipsis",maxHeight:"100%"},children:e.obs01}),Object(he.jsx)(Ze.a,{onClick:function(){C(!0),A(e),L(t)},children:Object(he.jsx)(Be.a,{icon:Re.g})}),Object(he.jsx)(Ze.a,{onClick:function(){D(!0),A(e)},children:Object(he.jsx)(Be.a,{icon:Re.n})}),Object(he.jsx)(Wt.a,{checked:e.isChecked,disabled:!0,style:{transform:"scale(1.2)"},icon:Object(he.jsx)(Zt.a,{}),checkedIcon:Object(he.jsx)(Yt.a,{style:{color:"#27AE60"}})})]},t)}))}),S&&Object(he.jsx)(ct,{open:S,closeModal:U,activity:E,comm:E.readCommits}),N&&Object(he.jsx)(st,{open:N,closeWriteModal:Y,activity:E,comm:E.writeCommits})]})]})},Qt=function(e){var t=e.height,n=e.hableButton,a=Object(r.useState)([]),i=Object(M.a)(a,2),c=i[0],s=i[1],d=Object(r.useState)(!1),u=Object(M.a)(d,2),j=u[0],b=u[1],h=Object(r.useState)({}),p=Object(M.a)(h,2),O=p[0],m=p[1],g=Object(r.useState)(0),x=Object(M.a)(g,2),f=x[0],v=x[1],y=Object(r.useState)(!1),w=Object(M.a)(y,2),S=w[0],C=w[1],k=Object(r.useState)([]),I=Object(M.a)(k,2),N=I[0],D=I[1],B=Object(r.useState)([]),E=Object(M.a)(B,2),A=E[0],T=E[1],F=(Object(o.f)(),function(e){ne(e).then((function(e){}))});Object(r.useEffect)((function(){P(),localStorage.removeItem("userDataToSave"),setTimeout((function(){}),1e3)}),[]);var P=function(){ae().then((function(e){s(e.data)}))},z={height:70,borderRadius:10,boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)"};return Object(he.jsx)("div",{style:{height:t},children:Object(he.jsxs)("div",{style:{height:t},children:[Object(he.jsxs)(Pe.a,{container:!0,spacing:5,children:[Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:8,lg:8,children:Object(he.jsx)(De.a,{style:{width:"100%"},children:Object(he.jsx)("h1",{children:"Administrar usuarios"})})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"right"},children:Object(he.jsx)(l.b,{to:"/new-users",children:Object(he.jsxs)("button",{disabled:!n,style:{marginTop:20,width:171,height:38,borderRadius:23,fontSize:16},children:[Object(he.jsx)(Be.a,{icon:Re.t,style:{marginRight:10}}),"Crear usuario"]})})})})]}),Object(he.jsx)("div",{children:Object(he.jsxs)($e.a,{children:[Object(he.jsx)("div",{style:{width:"15%",marginLeft:5},children:Object(he.jsxs)("p",{style:{margin:0},children:[" ",Object(he.jsx)("strong",{children:"Nombre de usuario"})," "]})}),Object(he.jsx)("div",{style:{width:"20%",marginLeft:5},children:Object(he.jsxs)("p",{style:{margin:0},children:[" ",Object(he.jsx)("strong",{children:"Correo electr\xf3nico"})," "]})}),Object(he.jsx)("div",{style:{width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{style:{margin:0},children:[" ",Object(he.jsx)("strong",{children:"RUN"})," "]})}),Object(he.jsx)("div",{style:{width:"20%",marginLeft:5},children:Object(he.jsxs)("p",{style:{margin:0},children:[" ",Object(he.jsx)("strong",{children:"Rol"})," "]})}),Object(he.jsx)("div",{style:{width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{style:{margin:0},children:[" ",Object(he.jsx)("strong",{children:"Faena/Obra"})," "]})}),Object(he.jsx)("div",{style:{width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{style:{margin:0},children:[" ",Object(he.jsx)("strong",{children:"Estado"})," "]})})]})}),n&&Object(he.jsxs)("div",{style:{overflowY:"auto"},children:[c.map((function(e,t){return e.roleTranslated=R(e.role),Object(he.jsxs)($e.a,{style:z,children:[Object(he.jsxs)("div",{style:{width:"15%",marginLeft:5},children:[e.name," ",e.lastName]}),Object(he.jsx)("div",{style:{width:"20%",marginLeft:5,wordBreak:"break-all"},children:e.email}),Object(he.jsx)("div",{style:{width:"10%",marginLeft:5},children:e.rut}),Object(he.jsx)("div",{style:{width:"20%",marginLeft:5},children:e.roleTranslated}),Object(he.jsx)("div",{style:{width:"10%",marginLeft:5}}),Object(he.jsxs)("div",{style:{width:"10%",marginLeft:5},children:[e.enabled&&Object(he.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#C3EBD4",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"ACTIVO"}),!e.enabled&&Object(he.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#F9F9F9",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"INACTIVO"})]}),Object(he.jsx)(Ze.a,{onClick:function(){return a=t,m(n=e),C(n.enabled),D(n.permissionsReports),T(n.permissionsUsers),v(a),void b(!0);var n,a},children:Object(he.jsx)(Be.a,{icon:Re.j})}),Object(he.jsx)(l.b,{to:"/edit-user/".concat(e._id),children:Object(he.jsx)(Ze.a,{children:Object(he.jsx)(Be.a,{icon:Re.n})})}),Object(he.jsx)(Ze.a,{onClick:function(){var t,n,a;t=e._id,n=e.name,a=e.lastName,"admin"===e.role?alert("No es posible eliminar un Administrador."):confirm("Remover\xe1 al usuario ".concat(n," ").concat(a,". Confirme la acci\xf3n."))&&ie(t).then((function(e){e&&P()}))},children:Object(he.jsx)(Be.a,{icon:Re.s})})]},t)})),O&&Object(he.jsx)(tt,{open:j,userModal:O,handleChange:function(e){C(e.target.checked),c[f].enabled=e.target.checked},checked:S,permissionsReports:N,permissionsUsers:A,closeModal:function(e){b(!1),F(e)}})]}),!n&&Object(he.jsx)("div",{style:{textAlign:"center",width:"100%",height:"50%",paddingTop:50},children:Object(he.jsx)("h1",{children:"Requiere conexi\xf3n a internet para administraci\xf3n de usuarios"})})]})})},qt=n(628),Vt=n(236),Ht=(n(558),Object(v.a)((function(e){return{inputsStyle:{borderColor:"#C4C4C4"}}}))),_t=function(e){var t,n,a=e.width,i=e.height,c=e.typeDisplay,s=e.uData,o=Object(r.useState)([]),l=Object(M.a)(o,2),d=(l[0],l[1]),u=Object(r.useState)("password"),j=Object(M.a)(u,2),b=j[0],h=j[1],p=Object(r.useState)("password"),O=Object(M.a)(p,2),m=O[0],g=O[1],f=Object(r.useState)(""),v=Object(M.a)(f,2),y=v[0],w=v[1],S=Object(r.useState)(""),C=Object(M.a)(S,2),k=C[0],I=C[1],N=Object(r.useState)(""),D=Object(M.a)(N,2),R=D[0],B=D[1],E=Object(r.useState)(""),A=Object(M.a)(E,2),T=A[0],F=A[1],P=Object(r.useState)(""),z=Object(M.a)(P,2),L=z[0],W=z[1],U=Object(r.useState)(""),Y=Object(M.a)(U,2),G=Y[0],Z=Y[1],J=Object(r.useState)(""),Q=Object(M.a)(J,2),q=Q[0],V=Q[1],H=Object(r.useState)(""),_=Object(M.a)(H,2),K=_[0],$=_[1],ee=Object(r.useState)(""),te=Object(M.a)(ee,2),ne=te[0],ae=te[1],re=Object(r.useState)([]),ie=Object(M.a)(re,2),ce=ie[0],se=ie[1],oe=Object(r.useState)([]),le=Object(M.a)(oe,2),de=le[0],ue=le[1],je=Object(r.useState)(!1),be=Object(M.a)(je,2),pe=be[0],Oe=be[1],me=Object(r.useState)(!1),ge=Object(M.a)(me,2),xe=ge[0],fe=ge[1],ve={name:y,lastName:k,rut:R,role:T,email:G,phone:q,password:K,sites:L,confirmPassword:ne,createdBy:localStorage.getItem("_id")},ye=function(){if(ve.rut&&(Object(Vt.validate)(ve.rut)?document.getElementById("rut").className="isValid":document.getElementById("rut").className="isInvalid"),ve.email.length>0&&(ve.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?document.getElementById("rut").className="isValid":document.getElementById("rut").className="isInvalid"),ve.name.length>0)if(ve.name[0]==ve.name[0].toUpperCase());else{var e=ve.name[0].toUpperCase();ve.name=ve.name.slice(1),w("".concat(e).concat(ve.name))}if(ve.lastName.length>0)if(ve.lastName[0]==ve.lastName[0].toUpperCase());else{var t=ve.lastName[0].toUpperCase();ve.lastName=ve.lastName.slice(1),I("".concat(t).concat(ve.lastName))}"Nuevo usuario"===c&&(ve.password.length>0&&ve.password===ve.confirmPassword?(Oe(!1),document.getElementById("passw").className="isValid",document.getElementById("c_passw").className="isValid"):(Oe(!0),document.getElementById("passw").className="isInvalid",document.getElementById("c_passw").className="isInvalid")),ve.phone.length>0&&(9==ve.phone.length?document.getElementById("phone").className="isValid":document.getElementById("phone").className="isInvalid"),localStorage.setItem("userDataToSave",JSON.stringify(ve))};Ht();return Object(r.useEffect)((function(){new Promise(function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.initDbObras();case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,St.consultar(n.database);case 6:a=e.sent,ue(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var e=localStorage.getItem("userDataToSave");if(s){fe(!0);var t=s;t.rut&&B(t.rut),t.name&&w(t.name),t.lastName&&I(t.lastName),t.email&&Z(t.email),t.phone&&(V(t.phone),t.phone.length>0&&(9==s.phone.length?document.getElementById("phone").className="isValid":document.getElementById("phone").className="isInvalid")),t.role&&F(t.role),t.sites&&W(t.sites),t.password&&"Nuevo usuario"===c&&$(t.password),t.confirmPassword&&"Nuevo usuario"===c&&ae(t.confirmPassword),setTimeout((function(){localStorage.setItem("userDataToSave",JSON.stringify(s)),fe(!1)}),1e3)}e&&setTimeout((function(){var t=JSON.parse(e);t.rut&&B(t.rut),t.name&&w(t.name),t.lastName&&I(t.lastName),t.email&&Z(t.email),t.phone&&(V(t.phone),t.phone.length>0&&(9==ve.phone.length?document.getElementById("phone").className="isValid":document.getElementById("phone").className="isInvalid")),t.role&&F(t.role),t.sites&&W(t.sites),t.password&&"Nuevo usuario"===c&&$(t.password),t.confirmPassword&&"Nuevo usuario"===c&&ae(t.confirmPassword)}),500),d(ce),new Promise(function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:n=e.sent,se(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(he.jsxs)("div",{style:{height:i,width:a},children:[Object(he.jsx)(Pe.a,{children:Object(he.jsx)("div",{children:Object(he.jsx)("h2",{children:"Para enrolar nuevo usuario debe ingresar todos los datos."})})}),Object(he.jsxs)(Pe.a,{container:!0,style:{padding:0,marginLeft:100},children:[Object(he.jsxs)(Pe.a,{item:!0,style:{float:"left",marginRight:10},children:[Object(he.jsx)("p",{children:"Foto de perfil"}),Object(he.jsxs)("button",{style:{height:224,width:190,borderRadius:8},onClick:function(){alert("En desarrollo")},children:[Object(he.jsx)(Be.a,{icon:Re.m,style:{fontSize:18}}),Object(he.jsx)("br",{}),Object(he.jsx)("br",{}),"CARGAR",Object(he.jsx)("br",{}),"FOTO"]}),Object(he.jsx)("input",{autocomplete:"off",type:"file",id:"profileImage",onChange:function(e){e.target.files[0]},hidden:!0})]}),Object(he.jsxs)(Pe.a,{style:{float:"left",width:"75%",marginRight:10,marginTop:0},children:[Object(he.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(he.jsx)("div",{style:{float:"left",marginRight:10},children:Object(he.jsxs)(qt.a,{fullWidth:!0,children:[Object(he.jsx)("p",{children:"RUT"}),Object(he.jsx)("input",(t={autocomplete:"off",required:!0,id:"rut",className:"inputClass",type:"text",minLength:11,maxLength:12,onBlur:function(){return ye()},onInput:function(e){var t;""===(t=e.target.value)||B(Object(Vt.format)(t))},value:R,placeholder:"11.222.333-K"},Object(x.a)(t,"type","text"),Object(x.a)(t,"style",{width:293,height:44,borderRadius:10,fontSize:20}),t))]})}),Object(he.jsx)("div",{style:{float:"left"},children:Object(he.jsxs)(qt.a,{fullWidth:!0,children:[Object(he.jsx)("p",{children:"Tipo de usuario"}),Object(he.jsxs)("select",{onBlur:function(){return ye()},required:!0,name:"userType",id:"userType",style:{width:248,height:44,borderRadius:10,fontSize:20,marginRight:10},onChange:function(e){return F(e.target.value)},value:T,className:"inputClass",children:[Object(he.jsx)("option",{value:"",children:"Seleccione..."},100),ce.filter((function(e){if("superAdmin"!==e.dbName)return e})).map((function(e,t){return Object(he.jsx)("option",{value:e.dbName,children:e.name},t)}))]})]})}),Object(he.jsx)("div",{style:{float:"left"},children:Object(he.jsxs)(qt.a,{fullWidth:!0,children:[Object(he.jsx)("p",{children:"Obra"}),Object(he.jsxs)("select",(n={required:!0,onBlur:function(){return ye()}},Object(x.a)(n,"required",!0),Object(x.a)(n,"name","site"),Object(x.a)(n,"id","site"),Object(x.a)(n,"style",{width:548,height:44,borderRadius:10,fontSize:20}),Object(x.a)(n,"onChange",(function(e){return W(e.target.value)})),Object(x.a)(n,"value",L),Object(x.a)(n,"className","inputClass"),Object(x.a)(n,"children",[Object(he.jsx)("option",{value:"",children:"Seleccione..."},100),de.map((function(e,t){return Object(he.jsx)("option",{value:JSON.stringify(e),children:e.descripcion},t)}))]),n))]})})]}),Object(he.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(he.jsx)("div",{style:{float:"left",width:"45%",marginRight:10},children:Object(he.jsxs)(qt.a,{fullWidth:!0,children:[Object(he.jsx)("p",{children:"Nombre"}),Object(he.jsx)("input",{autocomplete:"off",required:!0,className:"inputClass",id:"name",onBlur:function(){return ye()},onChange:function(e){return w(e.target.value)},value:y,placeholder:"John",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(he.jsx)("div",{style:{float:"left",width:"45%"},children:Object(he.jsxs)(qt.a,{fullWidth:!0,children:[Object(he.jsx)("p",{children:"Apellido"}),Object(he.jsx)("input",{autocomplete:"off",required:!0,className:"inputClass",id:"lastName",onBlur:function(){return ye()},onChange:function(e){return I(e.target.value)},value:k,placeholder:"Doe",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})]}),Object(he.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(he.jsx)("div",{style:{float:"left",width:"60%",marginRight:10},children:Object(he.jsxs)(qt.a,{fullWidth:!0,children:[Object(he.jsx)("p",{children:"Correo electr\xf3nico"}),Object(he.jsx)("input",{autocomplete:"off",required:!0,className:"inputClass",id:"email",onBlur:function(){return ye()},onChange:function(e){return Z(e.target.value)},value:G,placeholder:"nombre@correo.cl",type:"email",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(he.jsx)("div",{style:{float:"left",width:"30%"},children:Object(he.jsxs)(qt.a,{fullWidth:!0,children:[Object(he.jsx)("p",{children:"N\xfamero de tel\xe9fono"}),Object(he.jsx)("input",{autocomplete:"off",required:!0,className:"inputClass",id:"phone",minLength:9,onBlur:function(){return ye()},onInput:function(e){e.target.value=e.target.value.slice(0,9),console.log(e.target.value)},onChange:function(e){return V(e.target.value)},value:q,placeholder:"999998888",type:"phone",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})]}),"Nuevo usuario"===c&&Object(he.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(he.jsxs)("div",{style:{float:"left",width:"37%",marginRight:10},children:[Object(he.jsx)("p",{children:"Contrase\xf1a"}),Object(he.jsx)("div",{style:{float:"left",width:"100%"},children:Object(he.jsx)("input",{autocomplete:"off",id:"passw",required:!0,className:"isInvalid",onBlur:function(){return ye()},onChange:function(e){return $(e.target.value)},value:K,minLength:6,placeholder:"Min 6 car\xe1cteres",type:b,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),Object(he.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:Object(he.jsxs)(Ze.a,{style:{width:40},onClick:function(){h("password"===b?"text":"password")},children:["password"===b&&Object(he.jsx)(Be.a,{icon:Re.g}),"text"===b&&Object(he.jsx)(Be.a,{icon:Re.h})]})})]}),Object(he.jsxs)("div",{style:{float:"left",width:"37%"},children:[Object(he.jsx)("p",{children:"Confirmar contrase\xf1a"}),Object(he.jsx)("div",{style:{float:"left",width:"100%"},children:Object(he.jsx)("input",{autocomplete:"off",id:"c_passw",required:!0,className:"isInvalid",onBlur:function(){return ye()},onChange:function(e){return ae(e.target.value)},value:ne,minLength:6,placeholder:"Repita contrase\xf1a",type:m,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),Object(he.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:Object(he.jsxs)(Ze.a,{style:{width:40},onClick:function(){g("password"===m?"text":"password")},children:["password"===m&&Object(he.jsx)(Be.a,{icon:Re.g}),"text"===m&&Object(he.jsx)(Be.a,{icon:Re.h})]})})]})]}),pe&&Object(he.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(he.jsx)("h3",{style:{color:"red"},children:"Contrase\xf1as no coinciden"})}),Object(he.jsx)(at,{open:xe,withProgress:!1,loadingData:"Espere..."})]})]})]})},Kt=Object(v.a)((function(e){return{inputsStyle:{borderColor:"#C4C4C4"}}})),Xt=function(e){e.width;var t=e.height,n=e.typeDisplay,a=e.id,i=Object(r.useState)({}),c=Object(M.a)(i,2),s=c[0],o=c[1],l=Object(r.useState)(""),d=Object(M.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(""),h=Object(M.a)(b,2),p=h[0],O=h[1],m=Object(r.useState)([]),g=Object(M.a)(m,2),x=g[0],f=g[1],v=Object(r.useState)([]),y=Object(M.a)(v,2),w=y[0],S=y[1];Object(r.useEffect)((function(){o(JSON.parse(localStorage.getItem("userDataToSave"))),O(JSON.parse(JSON.parse(localStorage.getItem("userDataToSave")).sites).descripcion),k(),I()}),[]);var C=function(e,t,n,a){n[t].isChecked=e,f([]),S([]),"reportes"===a?(f(n),localStorage.setItem("listaPermisosReportes",JSON.stringify(x)),setTimeout((function(){S(w)}),5)):"usuarios"===a&&(setTimeout((function(){f(x)}),5),localStorage.setItem("listaPermisosUsuarios",JSON.stringify(w)),S(n))},k=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Nuevo usuario"!==n){e.next=7;break}return e.next=3,$();case 3:return t=e.sent,e.abrupt("return",new Promise((function(e){t.data.forEach((function(n,a){"reportes"===n.name?f(n.resources):"usuarios"===n.name&&S(n.resources),a==t.data.length-1&&e(!0)}))})));case 7:if("Editar usuario"!==n){e.next=12;break}return e.next=10,ee(a);case 10:return r=e.sent,e.abrupt("return",new Promise((function(e){Object.keys(r.data).map((function(t,n){"permissionsReports"===t?f(r.data[t]):"permissionsUsers"===t&&S(r.data[t]),n==Object.keys(r.data).length-1&&e(!0)}))})));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(JSON.parse(localStorage.getItem("userDataToSave")).role);case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Kt();return Object(he.jsxs)(Pe.a,{container:!0,style:{height:t},children:[s&&Object(he.jsxs)(Pe.a,{item:!0,xl:3,md:4,style:{padding:20,marginRight:0,backgroundColor:"#F9F9F9",borderRadius:20,overflowY:"auto"},children:[Object(he.jsx)("h2",{children:"Datos del usuario"}),Object(he.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(he.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"RUT"}),Object(he.jsx)("p",{style:{margin:0,fontSize:16},children:s.rut})]}),Object(he.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(he.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Nombre y Apellido"}),Object(he.jsxs)("p",{style:{margin:0,fontSize:16},children:[s.name," ",s.lastName]})]}),Object(he.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(he.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tipo de usuario"}),u&&Object(he.jsx)("p",{style:{margin:0,fontSize:16},children:u})]}),Object(he.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(he.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Obra"}),Object(he.jsx)("p",{style:{margin:0,fontSize:16},children:p})]}),Object(he.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(he.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Correo electr\xf3nico"}),Object(he.jsx)("p",{style:{margin:0,fontSize:16},children:s.email})]}),Object(he.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(he.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tel\xe9fono"}),Object(he.jsxs)("p",{style:{margin:0,fontSize:16},children:["+56 ",s.phone]})]}),"Nuevo usuario"===n&&Object(he.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(he.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Contrase\xf1a"}),Object(he.jsxs)("p",{style:{margin:0,fontSize:16},children:[s.password," ",Object(he.jsx)(Ze.a,{style:{fontSize:16,padding:2},children:Object(he.jsx)(Be.a,{icon:Re.h})})," "]})]})]}),Object(he.jsx)(Pe.a,{item:!0,xl:9,md:8,style:{paddingLeft:20,height:"100%",borderLeftColor:"#C4C4C4",borderLeftWidth:1,borderLeftStyle:"solid"},children:Object(he.jsxs)("div",{style:{padding:20,width:"100%"},children:[Object(he.jsx)("h2",{children:"Admininstrar permisos"}),Object(he.jsx)("div",{style:{float:"left",width:"45%"},children:x.map((function(e,t,a){return"Nuevo usuario"===n&&("sapExecutive"===JSON.parse(localStorage.getItem("userDataToSave")).role?e.isChecked=!0:"inspectionWorker"===JSON.parse(localStorage.getItem("userDataToSave")).role||"maintenceOperator"===JSON.parse(localStorage.getItem("userDataToSave")).role?1==t&&(e.isChecked=!0):("shiftManager"===JSON.parse(localStorage.getItem("userDataToSave")).role||"chiefMachinery"===JSON.parse(localStorage.getItem("userDataToSave")).role)&&(1!=t&&2!=t&&3!=t&&4!=t||(e.isChecked=!0))),t==x.length-1&&localStorage.setItem("listaPermisosReportes",JSON.stringify(a)),Object(he.jsxs)("div",{children:["Nuevo usuario"===n&&Object(he.jsx)(Wt.a,{edge:"start",checked:e.isChecked,onChange:function(e){return C(e.target.checked,t,a,"reportes")}}),"Editar usuario"===n&&Object(he.jsx)(Wt.a,{edge:"start",checked:e.isChecked,onChange:function(e){return C(e.target.checked,t,a,"reportes")}}),Object(he.jsxs)("label",{children:[" ",e.name," "]})]},t)}))}),Object(he.jsx)("div",{style:{float:"left",width:"45%"},children:w.map((function(e,t){return"Nuevo usuario"===n&&("sapExecutive"===JSON.parse(localStorage.getItem("userDataToSave")).role?e.isChecked=!0:"inspectionWorker"===JSON.parse(localStorage.getItem("userDataToSave")).role||"maintenceOperator"===JSON.parse(localStorage.getItem("userDataToSave")).role?1==t&&(e.isChecked=!0):("shiftManager"===JSON.parse(localStorage.getItem("userDataToSave")).role||"chiefMachinery"===JSON.parse(localStorage.getItem("userDataToSave")).role)&&(1!=t&&2!=t||(e.isChecked=!0))),t==w.length-1&&localStorage.setItem("listaPermisosUsuarios",JSON.stringify(w)),Object(he.jsxs)("div",{children:[Object(he.jsx)(Wt.a,{edge:"start",checked:e.isChecked,onChange:function(e){return C(e.target.checked,t,w,"usuarios")}}),Object(he.jsxs)("label",{children:[" ",e.name," "]})]},t)}))})]})})]})},$t=(n(559),function(e){var t=e.list,n=Object(r.useState)(null),a=Object(M.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)(!1),l=Object(M.a)(s,2),d=l[0],u=l[1],j=Object(o.f)();console.log(t);t.forEach((function(e){e.date=e.datePrev.replace("T00:00:00.000Z",""),ue(e.machine).then((function(t){e.hourMeter=Number(t.data[0].hourMeter)/36e5}))}));var b=t.reverse();return Object(he.jsxs)("div",{style:{width:"100%"},className:"root",children:[Object(he.jsxs)(Pe.a,{container:!0,style:{width:"100%"},children:[Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("strong",{children:"Pauta"})," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsxs)("strong",{children:["Fecha ",Object(he.jsx)("br",{})," Prevista"]})," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsxs)("strong",{children:["Fecha ",Object(he.jsx)("br",{})," Inicio"]})," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsxs)("strong",{children:["Fecha ",Object(he.jsx)("br",{})," T\xe9rmino"]})," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("strong",{children:"Hor\xf3metro"})," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("strong",{children:"ID#"})," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"15%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("strong",{children:"Responsable"})," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("strong",{children:"Obra"})," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("strong",{children:"Ver"})," "]})})]}),0==b.length&&Object(he.jsx)(Pe.a,{container:!0,children:Object(he.jsxs)("div",{style:{width:"100%",textAlign:"center",height:"50vh"},children:[Object(he.jsx)("img",{style:{margin:0,top:"50%",left:"calc(100%/1.53)"},src:"../../assets/icons/Arrow.svg",alt:""}),Object(he.jsx)("div",{style:{width:"100%",textAlign:"center",top:"55%"},children:Object(he.jsxs)("p",{children:["Selecciona otra opci\xf3n ",Object(he.jsx)("br",{})," El detalle no cuenta con lista de reportes."]})})]})}),b.map((function(e,t){return Object(he.jsxs)(Pe.a,{container:!0,style:{width:"100%"},children:[Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",e.guide," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",e.date," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsx)("p",{children:"  "})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsx)("p",{children:"  "})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",e.hourMeter," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",e.idIndex," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"15%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("button",{onClick:function(){return c(e),void u(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Asignar"})," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("a",{title:e.siteName,children:e.site})," "]})}),Object(he.jsx)(Pe.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(he.jsxs)("p",{children:[" ",Object(he.jsx)("button",{onClick:function(){j.push("/reports/edit-report/".concat(JSON.stringify(e)))},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Ver"})," "]})})]},t)})),i&&Object(he.jsx)(Xe,{open:d,report:i,reportType:i.reportType,closeModal:function(){u(!1)}})]})}),en=n(639),tn=n(638),nn=function(e){var t=e.route,n=C(),a=Object(r.useState)(!1),i=Object(M.a)(a,2),c=i[0],s=i[1],l=Object(r.useState)(),d=Object(M.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(""),h=Object(M.a)(b,2),p=h[0],O=(h[1],Object(r.useState)(0)),m=Object(M.a)(O,2),g=m[0],x=(m[1],Object(o.h)().id),f=JSON.parse(x),v=JSON.parse(f.machineData),y=new String;y=t.toString();var w=new String;y.includes("inspection")?w="PI":y.includes("maintenance")&&(w="PM"),v.info||(v.info="Sin informaci\xf3n."),v.lastMant||(v.lastMant="Sin informaci\xf3n"),v.lastOper||(v.lastOper="Sin informaci\xf3n");var S={id:f.id,brand:f.brand,model:f.model,pIDPM:f.pIDPM,type:f.type},k=function(){setTimeout((function(){s(!c)}),500)};Object(r.useEffect)((function(){At.initDbReports().then(function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Array,e.next=3,At.consultar(t.database);case 3:n=e.sent,yt.initDbPMs().then(function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Array,e.next=3,yt.consultar(t.database);case 3:a=e.sent,n.forEach((function(e,t){v.equid===e.machine&&a.length>0&&a.forEach((function(t,n){t.typepm===e.guide&&t.typepm.includes(w)&&j(t)}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var I,N=JSON.parse(localStorage.getItem("sitio")).descripcion,D=Object(o.f)();N||D.goBack(),"inspection/machine-detail"===t?I="Inspecci\xf3n":"maintenance/machine-detail"===t&&(I="Mantenci\xf3n");return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:n.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:n.pageContainer,item:!0,xs:12,children:Object(he.jsx)(gt.a,{className:n.pageCard,children:Object(he.jsxs)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(he.jsxs)(De.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(he.jsx)(Ze.a,{onClick:function(){return setTimeout((function(){D.goBack()}),500)},children:Object(he.jsx)(tn.a,{style:{color:"#333",fontSize:16}})}),Object(he.jsxs)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:[I,"/",N,"/",f.type," ",f.brand," ",f.model,"/N\xfamero interno: ",Object(he.jsx)("b",{children:v.equ})]})]})})}),Object(he.jsxs)(Pe.a,{container:!0,children:[Object(he.jsx)(Pe.a,{item:!0,xl:2,lg:4,children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(he.jsxs)("div",{style:{padding:15,borderTopLeftRadius:20,borderEndStartRadius:20,backgroundColor:"#F9F9F9",borderRadius:10,minHeight:400},children:[Object(he.jsx)("h3",{style:{marginTop:5,marginBottom:5},children:f.type}),Object(he.jsx)("div",{style:{position:"relative",zIndex:"1",width:"100%",height:180,backgroundColor:"transparent",textAlign:"center"},children:Object(he.jsx)("img",{src:"/assets/".concat(f.model,".png"),height:"100%"})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(he.jsx)("b",{children:"Marca: "})," ",f.brand," "]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(he.jsx)("b",{children:"Modelo: "})," ",f.model," "]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(he.jsx)("b",{children:"C\xf3digo: "})," ",v.id," "]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(he.jsx)("b",{children:"Hor\xf3metro Actual: "})," ",(v.hourMeter/36e5).toFixed(2).toString().replace(".",",")," hrs "]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(he.jsx)("b",{children:"N\xfamero Interno: "})," ",v.equ," "]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(he.jsx)("b",{children:"Informaci\xf3n: "})," ",v.info," "]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(he.jsx)("b",{children:"\xdaltima Mantenci\xf3n: "})," ",v.lastMant," "]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(he.jsx)("b",{children:"\xdaltimo Inspector: "})," ",v.lastOper," "]})})]})})}),Object(he.jsx)(Pe.a,{item:!0,xl:10,lg:8,style:{height:"calc(100vh - 200px)",display:"block"},children:Object(he.jsxs)("div",{style:{height:"calc(100vh - 210px)",width:"100%",padding:5},children:[Object(he.jsx)("div",{style:{height:"100%",padding:5,borderEndEndRadius:20,borderTopRightRadius:20,backgroundColor:"#fff"},children:Object(he.jsxs)(Pe.a,{container:!0,children:[Object(he.jsxs)(Pe.a,{item:!0,lg:6,md:6,children:[u&&Object(he.jsxs)("h2",{children:["Pauta de ","PM"===w&&"Mantenci\xf3n"," ","PI"===w&&"Inspecci\xf3n"," ",u.typepm]}),!u&&Object(he.jsx)("h2",{children:"Sin asignaci\xf3n."})]}),Object(he.jsxs)(Pe.a,{item:!0,lg:6,md:6,children:[Object(he.jsx)("div",{style:{float:"left",width:"50%",textAlign:"right"},children:Object(he.jsx)("p",{children:p})}),Object(he.jsx)("div",{style:{float:"left",width:"30%",padding:10},children:Object(he.jsx)("p",{children:Object(he.jsx)(en.a,{variant:"determinate",value:g,style:{width:"100%"}})})}),Object(he.jsx)("div",{style:{float:"left",width:"20%",padding:5},children:Object(he.jsxs)("p",{children:[g,"%"]})})]})]})}),Object(he.jsxs)("div",{style:{position:"relative",bottom:20,width:"100%"},children:[Object(he.jsx)("div",{style:{float:"left",width:"50%",textAlign:"left"},children:Object(he.jsx)("button",{onClick:k,style:{color:"#BB2D2D",borderColor:"#BB2D2D",height:48,width:160,borderRadius:23,borderWidth:2,fontSize:20},children:Object(he.jsx)("strong",{children:"Ver 3D"})})}),Object(he.jsx)("div",{style:{float:"left",width:"50%",textAlign:"right"},children:Object(he.jsx)("button",{onClick:function(){alert("En desarrollo")},style:{borderColor:"#BB2D2D",backgroundColor:"#BB2D2D",color:"#fff",height:48,width:210,borderRadius:23,borderWidth:2,fontSize:20},children:"Finalizar Jornada"})})]})]})}),Object(he.jsx)("div",{children:Object(he.jsx)(He.a,{open:c,close:!c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(he.jsxs)("div",{style:{height:"100%",width:"100%",backgroundColor:"#333"},children:[Object(he.jsx)(Ft,{machine:S}),Object(he.jsx)(Ke.a,{onClick:k,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(he.jsx)(Je.a,{style:{color:"#ccc"}})})]})})})]})]})})})})})},an=(n(560),function(e){e.image;var t=e.machine,n=e.route,a=Object(o.f)(),r={brand:t.brand,id:t.id,model:t.model,pIDPM:t.pIDPM,type:t.type};return Object(he.jsxs)(Le.a,{className:"buttonContent",style:{borderRadius:20},onClick:function(){a.push("/".concat(n,"/").concat(JSON.stringify(r)))},children:[Object(he.jsx)("img",{className:"imageMachine",src:"data:".concat(t.image),alt:t.model}),Object(he.jsx)("div",{style:{position:"absolute",bottom:5,width:"100%",textAlign:"center"},children:"".concat(t.type," ").concat(t.brand," ").concat(t.model)})]})}),rn=(Object(v.a)((function(e){return{root:{display:"inline-block",textAlign:"center"},icon:{marginBottom:15},button:{minWidth:180}}})),Object(v.a)((function(e){return{root:{display:"inline-block",textAlign:"center",padding:10,width:"25%",backgroundColor:"transparent"},icon:{padding:20,width:"100%"},button:{minWidth:"100%"},buttonSelection:{backgroundColor:"#F9F9F9",color:"#505050",width:"100%",minHeight:340,borderRadius:20,fontFamily:"Raleway",textTransform:"none",margin:10},iconButton:{color:"#BE2E26"}}}))),cn=function(e){var t=e.variant,n=e.disableButton,a=Se().dictionary,r=rn(),i=Object(o.f)();return Object(he.jsx)(Le.a,{onClick:function(){i.push("/".concat(t))},variant:"contained",className:r.buttonSelection,disabled:n,children:Object(he.jsxs)("div",{className:r.icon,children:[function(){switch(t){case"inspection":return Object(he.jsx)(Be.a,{icon:Re.p,size:"4x",className:r.iconButton});case"maintenance":return Object(he.jsx)(Be.a,{icon:Re.r,size:"4x",className:r.iconButton});case"reports":return Object(he.jsx)(Be.a,{icon:Re.e,size:"4x",className:r.iconButton});case"administration":return Object(he.jsx)(Be.a,{icon:Re.u,size:"4x",className:r.iconButton});case"users":return Object(he.jsx)(Be.a,{icon:Re.v,size:"4x",className:r.iconButton})}}(),Object(he.jsx)("br",{}),Object(he.jsx)("p",{className:"button-font-size",children:function(){switch(t){case"inspection":return a.welcome.inspectionButton;case"maintenance":return a.welcome.maintenanceButton;case"reports":return a.welcome.reportsButton;case"administration":return a.welcome.administrationButton;case"users":return a.admin.adminUsersButton}}()})]})})},sn=function(e){var t=e.site,n=Object(r.useState)(!1),a=Object(M.a)(n,2);a[0],a[1];return Object(he.jsxs)(Pe.a,{container:!0,style:{borderStyle:"solid",borderWidth:2,borderColor:"#505050",borderRadius:20,padding:20},children:[Object(he.jsx)("div",{style:{margin:"auto",textAlign:"left"},children:Object(he.jsxs)("h1",{children:[" ",t.descripcion," "]})}),Object(he.jsx)("div",{style:{position:"relative",right:20,margin:"auto",marginRight:80,maxWidth:50,textAlign:"right"},children:Object(he.jsx)(Le.a,{onClick:function(){localStorage.setItem("sitio",JSON.stringify(t)),alert(t.descripcion+" seleccionado.")},style:{borderStyle:"solid",borderWidth:2,backgroundColor:"#BE2E26",borderColor:"#BE2E26",color:"#FFF",borderRadius:20,padding:20},children:"Seleccionar"})})]})},on=function(e){var t=e.route,n=C(),a=(Se().dictionary,Object(r.useState)([])),i=Object(M.a)(a,2),c=i[0],s=i[1];Object(r.useEffect)((function(){u()}),[]);var l,d,u=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt();case 2:t=e.sent,ft.initDbMachines().then(function(){var e=Object(Fe.a)(Me.a.mark((function e(n){var a,r,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.consultar(n.database);case 2:if(!(a=e.sent)){e.next=14;break}r=0;case 5:if(!(r<a.length)){e.next=14;break}return e.next=8,Rt(r,t.database);case 8:(i=e.sent)&&(a[r].image=i.data),r==a.length-1&&(console.log(a),s(a));case 11:r++,e.next=5;break;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=Object(o.f)();return localStorage.getItem("sitio")?l=JSON.parse(localStorage.getItem("sitio")).descripcion:j.replace("/"),"inspection"===t?d="Inspecci\xf3n":"maintenance"===t&&(d="Mantenci\xf3n"),Object(he.jsx)(_e.a,{height:"90%",children:Object(he.jsx)(Pe.a,{className:n.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:n.pageContainer,item:!0,xs:12,children:Object(he.jsx)("div",{className:n.pageCard,children:Object(he.jsxs)(Pe.a,{container:!0,alignItems:"flex-start",justifyContent:"flex-start",children:[Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(he.jsxs)(De.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(he.jsx)(Ze.a,{onClick:function(){return setTimeout((function(){j.goBack()}),500)},children:Object(he.jsx)(tn.a,{style:{color:"#333",fontSize:16}})}),Object(he.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"".concat(d,"/").concat(l)})]})})}),Object(he.jsx)(Pe.a,{container:!0,spacing:5,justifyContent:"flex-start",style:{textAlign:"center",height:"75vh",overflowY:"auto"},children:c.map((function(e){return console.log(e),Object(he.jsx)(Pe.a,{item:!0,style:{minWidth:"25%",margin:10},children:Object(he.jsx)(an,{machine:e,image:e.image,route:t})},e.id)}))})]})})})})})},ln=n(214),dn=n(629),un=function(e){var t=e.route,n=Object(r.useState)(""),a=Object(M.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)([]),l=Object(M.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(!1),b=Object(M.a)(j,2),h=b[0],p=b[1],O=Object(o.f)(),m=C(),g=JSON.parse(localStorage.getItem("sitio")).descripcion,x=(JSON.parse(localStorage.getItem("sitio")).idobra,Object(o.h)().id),f=JSON.parse(x),v=function(){setTimeout((function(){p(!h)}),500)},y=function(e){var t={id:f.id,brand:f.brand,model:f.model,pIDPM:f.pIDPM,type:f.type,machineData:JSON.stringify(e)};O.push("machine-detail/".concat(JSON.stringify(t)))},w=function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n,a,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.initDbMachines();case 2:if(!(n=e.sent)){e.next=11;break}return e.next=6,Nt.consultar(n.database);case 6:a=e.sent,Object(ln.a)(a),r=a,console.log(r),u(r.filter((function(e){if(e.model===t)return e})).sort((function(e,t){return e.equ-t.equ})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){w(JSON.parse(x).model),g||O.goBack(),"inspection"===t?c("Inspecci\xf3n"):"maintenance"===t&&c("Mantenci\xf3n")}),[]),Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:m.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:m.pageContainer,item:!0,xs:12,children:Object(he.jsx)(gt.a,{className:m.pageCard,children:Object(he.jsxs)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(he.jsx)("div",{style:{width:"100%",textAlign:"center",padding:10},children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"center",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(he.jsxs)(De.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(he.jsx)(Ze.a,{onClick:function(){return setTimeout((function(){O.goBack()}),500)},children:Object(he.jsx)(tn.a,{style:{color:"#333",fontSize:16}})}),Object(he.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"".concat(i,"/").concat(g,"/").concat(f.type," ").concat(f.brand," ").concat(f.model)})]})})}),Object(he.jsx)(dn.a,{style:{width:"100vw",marginRight:11,overflowY:"scroll",maxHeight:"70vh",paddingLeft:20,paddingRight:20},children:d.map((function(e,t){return Object(he.jsxs)(Pe.a,{container:!0,style:{minHeight:148,marginBottom:20,padding:20,borderStyle:"solid",borderWidth:2,borderColor:"#CCC",borderRadius:20},children:[Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:3,lg:2,children:Object(he.jsx)("img",{src:"../assets/no-image.png",style:{height:120,width:"100%",objectFit:"cover"}})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:3,lg:2,children:Object(he.jsx)("div",{style:{padding:10},children:Object(he.jsxs)("h1",{style:{margin:0},children:[" ",Object(he.jsxs)("strong",{children:[e.type," ",e.equ]})," "]})})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:3,lg:3,children:Object(he.jsxs)("div",{style:{padding:10},children:[Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Marca: ",e.brand.toUpperCase()]}),Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Modelo: ",e.model]}),Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["C\xf3digo: ",e.equid]})]})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:3,lg:3,children:Object(he.jsxs)("div",{style:{padding:10},children:[Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Hor\xf3metro Actual: ",e.hourMeter]}),Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["N\xfamero Interno: ",e.equ]}),Object(he.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Serie motor: ",e.enginesnr]})]})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:12,lg:2,children:Object(he.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[Object(he.jsx)("button",{style:{width:100,height:30,borderRadius:20},onClick:v,children:Object(he.jsx)("strong",{children:"Ver 3D"})}),Object(he.jsx)("button",{style:{width:100,height:30,borderRadius:20,marginLeft:6},onClick:function(){return y(e)},children:Object(he.jsx)("strong",{children:"Ver m\xe1s"})})]})})]},t)}))}),Object(he.jsx)("div",{children:Object(he.jsx)(He.a,{open:h,close:!h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(he.jsxs)("div",{style:{height:"100%",width:"100%",backgroundColor:"#333"},children:[Object(he.jsx)(Ft,{machine:f}),Object(he.jsx)(Ke.a,{onClick:v,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:Object(he.jsx)(Je.a,{})})]})})})]})})})})})},jn=function(){var e=C();return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsx)(gt.a,{className:Object(qe.a)(e.pageCard,e.noNavBarMargin),children:Object(he.jsx)(Pe.a,{container:!0,style:{height:"100%"},alignItems:"center",justifyContent:"center",children:Object(he.jsx)(Pe.a,{container:!0,item:!0,spacing:8,justifyContent:"center",children:Object(he.jsx)(Pe.a,{item:!0,children:Object(he.jsx)(nt.a,{size:200})})})})})})})})},bn=n(649),hn=n.p+"static/media/Iniciar sesio\u0301n-1.0c206597.png",pn=n.p+"static/media/ICV-transparent.a120acf7.png",On=function(){var e=C(),t=function(){return Object(he.jsxs)(gt.a,{className:Object(qe.a)(e.pageCard,e.noNavBarMargin),children:[Object(he.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(he.jsx)("img",{src:pn,height:100,alt:""}),Object(he.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(he.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),Object(he.jsx)("p",{style:{fontSize:"2em",marginBottom:0},children:"Iniciar sesi\xf3n"}),Object(he.jsxs)("p",{style:{fontSize:10,marginTop:0},children:[" ",E.version," "]})]}),Object(he.jsx)(Ye,{})]})};Object(r.useEffect)((function(){n()}),[]);var n=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent).length>0&&t.forEach((function(e,t){window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(he.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(he.jsx)(bn.a,{smDown:!0,children:Object(he.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:t()})}),Object(he.jsx)(bn.a,{smDown:!0,children:Object(he.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:Object(he.jsx)("img",{src:hn,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(he.jsx)(bn.a,{mdUp:!0,children:Object(he.jsx)("div",{children:t()})})]})},mn=(n(561),function(e){return new Promise((function(t){de(e).then((function(e){console.log(e.data),t(e.data)}))}))}),gn=function(e){return new Promise(function(){var t=Object(Fe.a)(Me.a.mark((function t(n){var a,r,i;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={reportId:e,createdBy:localStorage.getItem("_id")},t.next=3,je(a);case 3:return r=t.sent,t.next=6,Mt.initDb();case 6:if(!(i=t.sent)){t.next=10;break}return t.next=10,Mt.actualizar(r.data[0],i.database);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},xn=function(){return new Promise((function(e){H().then((function(t){e(t.data)})).catch((function(e){}))}))},fn=function(e){return new Promise((function(t){_(e).then((function(e){t(e.data)})).catch((function(e){}))}))},vn=function(e){return new Promise((function(t){K(e).then((function(e){t(e.data)})).catch((function(e){}))}))},yn=function(e,t){return new Promise((function(n){V().then((function(a){"admin"!==localStorage.getItem("role")&&"sapExecutive"!==localStorage.getItem("role")||(localStorage.setItem("sitio",JSON.stringify(a.data[0])),setTimeout((function(){e(!1),t("Sin notificaciones")}),500)),n(a.data)})).catch((function(e){}))}))},wn=function(){var e=Object(Fe.a)(Me.a.mark((function e(t,n){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(Fe.a)(Me.a.mark((function e(a){var r,i,c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=15;break}return r=[],e.next=4,yn(t,n);case 4:return r=e.sent,e.next=7,St.initDbObras();case 7:if(!(i=e.sent)){e.next=13;break}return e.next=11,St.consultar(i.database);case 11:(c=e.sent)&&(r.length==c.length?a(!1):a(!0));case 13:e.next=16;break;case 15:a(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Sn={getAssignments:function(e){return new Promise(function(){var t=Object(Fe.a)(Me.a.mark((function t(n){var a,r,i,c;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Array,t.next=3,mn(localStorage.getItem("_id"));case 3:return a=t.sent,console.log(a),r=0,i=100/a.length,t.next=9,At.initDbReports();case 9:(c=t.sent)&&a.forEach(function(){var t=Object(Fe.a)(Me.a.mark((function t(s,o){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(r+=i),console.log(s),s.idDatabase=o,At.actualizar(s,c.database),gn(s._id),console.log(o,a.length),o==a.length-1&&(e(100),console.log(!0),setTimeout((function(){n(!0)}),100));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},descargarPautas:function(e){return e(0),new Promise(function(){var t=Object(Fe.a)(Me.a.mark((function t(n){var a;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xn();case 2:a=t.sent,console.log("Pautas: ",a),a&&a.forEach(function(){var t=Object(Fe.a)(Me.a.mark((function t(r,i){var c,s,o;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=0,s=100/a.length/3,t.next=4,fn(r);case 4:o=t.sent,r.header=o,r.id=i,i==a.length-1&&(e(c+=s),a.forEach(function(){var t=Object(Fe.a)(Me.a.mark((function t(r,i){var o,l;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(c+=s),t.next=4,vn(r);case 4:if(o=t.sent,r.struct=o,i!=a.length-1){t.next=11;break}return t.next=9,yt.initDbPMs();case 9:(l=t.sent)&&a.forEach(function(){var t=Object(Fe.a)(Me.a.mark((function t(r,i){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(c+=s),t.next=4,yt.actualizar(r,l.database);case 4:i==a.length-1&&(e(100),n({progress:100,state:!0}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getSites:function(e,t,n){return e(0),new Promise(function(){var a=Object(Fe.a)(Me.a.mark((function a(r){var i,c,s,o;return Me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=[],a.next=3,yn(t,n);case 3:return i=a.sent,a.next=6,St.initDbObras();case 6:(c=a.sent)&&(s=0,o=100/i.length,i.forEach(function(){var t=Object(Fe.a)(Me.a.mark((function t(n,a){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(s+=o),n.id=a,t.next=5,St.actualizar(n,c.database,c.database.version);case 5:if(a!==i.length-1){t.next=10;break}return t.next=8,St.consultar(c.database);case 8:t.sent&&r(!0);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},getSitesList:yn,setIfNeedReadDataAgain:wn},Cn=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent)&&t.forEach((function(e,t){window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kn=function(e,t,n,a,r,i,c,s){localStorage.getItem("sitio")?e(!1):t("Para navegar en la aplicaci\xf3n debe seleccionar una obra"),"admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")?a(!1):(n('Solo Roles "Admin" o "Ejecutivo SAP" puede administrar usuarios.'),"maintenceOperator"===localStorage.getItem("role")?r(!1):r(!0),"inspectionWorker"===localStorage.getItem("role")?i(!1):i(!0)),localStorage.getItem("version")&&localStorage.getItem("version")!=E.version&&(alert("Plataforma requiere actualizaci\xf3n. Se cerrar\xe1 sesi\xf3n para actualizar el servicio."),window.localStorage.clear(),window.location.reload(),Cn()),s(function(e){var t,n=new Date(e).getDay();1==n?t="Lunes":2==n?t="Martes":3==n?t="Miercoles":4==n?t="Jueves":5==n?t="Viernes":6==n?t="Sabado":0==n&&(t="Domingo");var a,r=new Date(e).getDate(),i=new Date(e).getMonth();return 0==i?a="Enero":1==i?a="Febrero":2==i?a="Marzo":3==i?a="Abril":4==i?a="Mayo":5==i?a="Junio":6==i?a="Julio":7==i?a="Agosto":8==i?a="Septiembre":9==i?a="Octubre":10==i?a="Noviembre":11==i&&(a="Diciembre"),(t+" "+r+" DE "+a).toUpperCase()}(Date.now()));var o=setInterval((function(){c(function(e){var t,n=new Date(e).getMinutes(),a=new Date(e).getHours();return t=n<10?"0"+n:n,"".concat(a<10?"0"+a:a,":").concat(t)}(Date.now()))}),100);return function(){return clearInterval(o)}},In=n(21),Nn=function(e){var t;return new Promise((function(n){"Cami\xf3n"===e.type?t=E.storageURL+"maquinas/camiones/"+e.brand.toUpperCase()+"/"+e.brand.toUpperCase()+"_"+e.model+"_Preview.gltf":"Pala"===e.type&&(t=E.storageURL+"maquinas/palas/"+e.brand.toUpperCase()+"/"+e.brand+"_"+e.model+"_Preview.gltf"),n(t)}))},Dn=function(){var e=Object(Fe.a)(Me.a.mark((function e(t,n,a,r,i,c){var s,o,l,d,u,j,b,h,p,O,m;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!=n.length){e.next=4;break}setTimeout(Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(100),i("Recursos descargados"),e.next=4,kt.initDb3DFiles();case 4:if(!(t=e.sent)){e.next=8;break}return e.next=8,kt.consultar(t.database);case 8:setTimeout((function(){r(!1),setTimeout((function(){localStorage.getItem("version")||(c(!0),localStorage.setItem("version",E.version))}),500)}),1e3);case 9:case"end":return e.stop()}}),e)}))),1e3),e.next=18;break;case 4:return i("Descargando Modelo 3D "+(t+1)),e.next=7,Nn(n[t]);case 7:return s=e.sent,o=n[t],l=o.id,d=o.model,u=o.brand,j=o.type,e.next=11,fetch(s);case 11:b=e.sent,h=b.body.getReader(),p=+b.headers.get("Content-Length"),O=0,m=[],a(0),setTimeout(Object(Fe.a)(Me.a.mark((function e(){var s,o,b,g,x,f,v,y;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,h.read();case 3:if(!(s=e.sent).done){e.next=19;break}o=new Uint8Array(O),b=0,g=Object(In.a)(m);try{for(g.s();!(x=g.n()).done;)f=x.value,o.set(f,b),b+=f.length}catch(w){g.e(w)}finally{g.f()}return v=new TextDecoder("utf-8").decode(o),e.next=12,kt.initDb3DFiles();case 12:if(!(y=e.sent)){e.next=18;break}return e.next=16,kt.actualizar({id:l,info:{model:d,brand:u,type:j},data:v},y.database);case 16:e.sent&&Dn(t+=1,n,a,r,i,c);case 18:return e.abrupt("break",24);case 19:m.push(s.value),O+=s.value.length,a(100*O/p),e.next=0;break;case 24:case"end":return e.stop()}}),e)}))),1e3);case 18:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,c){return e.apply(this,arguments)}}(),Rn=Dn,Bn=function(){var e=Object(r.useState)(""),t=Object(M.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),c=Object(M.a)(i,2),s=c[0],o=c[1],l=Object(r.useState)(!1),d=Object(M.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(!1),h=Object(M.a)(b,2),p=h[0],O=h[1],m=Object(r.useState)(0),g=Object(M.a)(m,2),x=g[0],f=g[1],v=Object(r.useState)(""),y=Object(M.a)(v,2),w=y[0],S=y[1],C=Object(r.useState)(!0),k=Object(M.a)(C,2),I=k[0],N=k[1],D=Object(r.useState)(!0),R=Object(M.a)(D,2),B=R[0],E=R[1],A=Object(r.useState)(!1),T=Object(M.a)(A,2),F=T[0],P=T[1],z=Object(r.useState)(!1),L=Object(M.a)(z,2),W=L[0],U=L[1],Y=Object(r.useState)("Sin notificaciones"),G=Object(M.a)(Y,2),Z=G[0],q=G[1],V=Object(r.useState)("Sin notificaciones"),H=Object(M.a)(V,2),_=H[0],K=H[1];Object(r.useEffect)((function(){X(),kn(N,q,K,E,P,U,o,a)}),[]);var X=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,n,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn.setIfNeedReadDataAgain(N,q);case 2:if(t=e.sent,n=localStorage.getItem("role"),!t){e.next=27;break}if(j(!0),"admin"!==n&&"superAdmin"!==n&&"sapExecutive"!==n){e.next=14;break}return S("Descargando pautas de mantenimiento e inspecci\xf3n."),e.next=10,Sn.descargarPautas(f);case 10:e.sent.state&&setTimeout(Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("Descargando datos de las obras."),e.next=3,Sn.getSites(f,N,q);case 3:t=e.sent,setTimeout(Object(Fe.a)(Me.a.mark((function e(){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return S("Descargando datos de las m\xe1quinas."),f(65),e.next=5,ee();case 5:n=e.sent,console.log(n),setTimeout(Object(Fe.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=9;break}return S("Descargando lista de las m\xe1quinas de las obras."),f(100),e.next=5,$();case 5:e.sent&&(0,Rn(0,n,f,j,S,O)),e.next=10;break;case 9:j(!1);case 10:case"end":return e.stop()}}),e)}))),1e3),e.next=11;break;case 10:j(!1);case 11:case"end":return e.stop()}}),e)}))),1e3);case 5:case"end":return e.stop()}}),e)}))),1e3),e.next=25;break;case 14:return S("Actualizando asignaciones."),e.next=17,Sn.getAssignments(f);case 17:if(a=e.sent,console.log(a),!a){e.next=25;break}return S("Descargando pautas de mantenimiento e inspecci\xf3n."),e.next=23,Sn.descargarPautas(f);case 23:e.sent.state&&setTimeout(Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("Descargando datos de las obras."),e.next=3,Sn.getSites(f,N,q);case 3:t=e.sent,setTimeout(Object(Fe.a)(Me.a.mark((function e(){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return S("Descargando datos de las m\xe1quinas."),f(65),e.next=5,ee();case 5:n=e.sent,console.log(n),setTimeout(Object(Fe.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=9;break}return S("Descargando lista de las m\xe1quinas de las obras."),f(100),e.next=5,$();case 5:e.sent&&(0,Rn(0,n,f,j,S,O)),e.next=10;break;case 9:j(!1);case 10:case"end":return e.stop()}}),e)}))),1e3),e.next=11;break;case 10:j(!1);case 11:case"end":return e.stop()}}),e)}))),1e3);case 5:case"end":return e.stop()}}),e)}))),1e3);case 25:e.next=28;break;case 27:j(!1);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){return new Promise(function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,ae();case 3:return n=e.sent,e.next=6,Nt.initDbMachines();case 6:(a=e.sent)&&n.forEach(function(){var e=Object(Fe.a)(Me.a.mark((function e(r,i){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.id=i,e.next=3,Nt.actualizar(r,a.database);case 3:if(i!==n.length-1){e.next=8;break}return e.next=6,Nt.consultar(a.database);case 6:e.sent&&t(!0);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},ee=function(){return new Promise(function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,ne();case 3:return n=e.sent,e.next=6,ft.initDbMachines();case 6:(a=e.sent)&&n.forEach(function(){var e=Object(Fe.a)(Me.a.mark((function e(r,i){var c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.id=i,(c=new XMLHttpRequest).onload=Object(Fe.a)(Me.a.mark((function e(){var s,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s=new FileReader).onload=Object(Fe.a)(Me.a.mark((function e(){var t,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt();case 2:(t=e.sent)&&(n={id:i,data:s.result.replace("data:","")},Bt(n,t.database)),ft.actualizar(r,a.database);case 5:case"end":return e.stop()}}),e)}))),s.readAsDataURL(c.response),i!==n.length-1){e.next=8;break}return e.next=6,te(n);case 6:o=e.sent,t(o);case 8:case"end":return e.stop()}}),e)}))),c.open("GET","/assets/".concat(r.model,".png")),c.responseType="blob",c.send();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},te=function(e){return new Promise(function(){var t=Object(Fe.a)(Me.a.mark((function t(n){var a,r;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.initDbMachines();case 2:a=t.sent;case 3:return t.next=5,ft.consultar(a.database);case 5:r=t.sent;case 6:if(r.length<e.length){t.next=3;break}case 7:r.length===e.length&&n(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},ne=function(){return new Promise((function(e){J().then((function(t){e(t.data)})).catch((function(e){}))}))},ae=function(){return new Promise((function(e){Q().then((function(t){e(t.data)}))}))};return Object(he.jsxs)("div",{children:[Object(he.jsxs)("div",{className:"container",children:[Object(he.jsx)(Pe.a,{container:!0,spacing:5,children:Object(he.jsx)("div",{children:Object(he.jsxs)("p",{className:"titulo",children:["Hola ",localStorage.getItem("name")," \xbfPor d\xf3nde quieres comenzar hoy?"]})})}),Object(he.jsxs)(Pe.a,{container:!0,spacing:5,children:[Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(he.jsxs)("div",{className:"notificaciones reloj",children:[Object(he.jsxs)("p",{className:"reloj-fecha",children:[" ",n," "]}),Object(he.jsxs)("p",{className:"reloj-hora",children:[" ",s," hs "]})]})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(he.jsx)("div",{className:"notificaciones alertas",children:Object(he.jsxs)("p",{className:"notificaciones-texto",children:[" ",Z," "]})})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(he.jsx)("div",{className:"notificaciones alertas",children:Object(he.jsxs)("p",{className:"notificaciones-texto",children:[" ",_]})})})]}),Object(he.jsx)("br",{}),Object(he.jsxs)(Pe.a,{container:!0,spacing:5,children:[Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(he.jsx)(cn,{variant:"inspection",disableButton:I||W})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(he.jsx)(cn,{variant:"maintenance",disableButton:I||F})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(he.jsx)(cn,{variant:"reports",disableButton:B})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(he.jsx)(cn,{variant:"administration",disableButton:B})})]})]}),Object(he.jsx)(at,{open:u,progress:x,loadingData:w,withProgress:!0}),Object(he.jsx)(rt,{open:p,closeModal:function(){O(!1)}})]})},En=function(){var e=C(),t=function(){return Object(he.jsxs)(gt.a,{className:Object(qe.a)(e.pageCard,e.noNavBarMargin),children:[Object(he.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(he.jsx)("img",{src:pn,height:100,alt:""}),Object(he.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(he.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),Object(he.jsx)("p",{style:{fontSize:"2em"},children:"Recuperar Contrase\xf1a"})]}),Object(he.jsx)(pt,{})]})};return Object(he.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(he.jsx)(bn.a,{smDown:!0,children:Object(he.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:t()})}),Object(he.jsx)(bn.a,{smDown:!0,children:Object(he.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:Object(he.jsx)("img",{src:hn,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(he.jsx)(bn.a,{mdUp:!0,children:Object(he.jsx)("div",{children:t()})})]})},An=function(){var e=Object(o.h)().id,t=C(),n=function(){return Object(he.jsxs)(gt.a,{className:Object(qe.a)(t.pageCard,t.noNavBarMargin),children:[Object(he.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(he.jsx)("img",{src:pn,height:100,alt:""}),Object(he.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(he.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]})]}),Object(he.jsx)(mt,{id:e})]})};return Object(he.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(he.jsx)(bn.a,{smDown:!0,children:Object(he.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:n()})}),Object(he.jsx)(bn.a,{smDown:!0,children:Object(he.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:Object(he.jsx)("img",{src:hn,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(he.jsx)(bn.a,{mdUp:!0,children:Object(he.jsx)("div",{children:n()})})]})},Tn=function(){var e=Object(r.useState)([]),t=Object(M.a)(e,2),n=(t[0],t[1],Object(r.useState)([])),a=Object(M.a)(n,2),i=(a[0],a[1]);Object(r.useEffect)((function(){J().then((function(e){e.data&&i(e.data)}))}),[]);return Object(he.jsx)(_e.a,{children:Object(he.jsx)("div",{children:Object(he.jsx)("h1",{children:"Hello!!"})})})},Mn=n(640),Fn=Object(v.a)((function(e){return{root:{"& :-webkit-autofill":{"-webkit-transition-delay":"9999s","-webkit-transition":"color 9999s ease-out, background-color 9999s ease-out"}},lightVariant:{"& .Mui-focused":{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}},"& .MuiInputBase-input":{color:"white"}},darkVariant:{"& .Mui-focused .MuiInputAdornment-root":{color:e.palette.primary.main}}}})),Pn=function(e){var t=e.value,n=e.onChange,a=e.lightVariant,r=e.fullWidth,i=Se().dictionary,c=Fn();return Object(he.jsx)(ze.a,{className:Object(qe.a)(c.root,a?c.lightVariant:c.darkVariant),fullWidth:r,type:"text",name:"filter",label:i.components.fields.filter.toLocaleUpperCase(),value:t,onChange:n,variant:"outlined",InputProps:{endAdornment:Object(he.jsx)(Mn.a,{position:"end",children:Object(he.jsx)(Be.a,{icon:Re.p})})}})},zn=Object(v.a)((function(e){return{root:{padding:20,backgroundColor:"rgba(0, 0, 0, 0)",border:"5px solid gray",borderRadius:0,boxShadow:"none"},fichaText:{fontSize:"1.2rem",color:e.palette.primary.main},name:{fontWeight:"bold"}}})),Ln=function(){var e=C(),t=zn(),n=Object(r.useState)(""),a=Object(M.a)(n,2),i=a[0],c=a[1];return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsx)(gt.a,{className:e.pageCard,children:Object(he.jsxs)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(he.jsx)(Pe.a,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:Object(he.jsx)(Pn,{value:i,onChange:function(e){c(e.target.value)}})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,children:Object(he.jsx)("div",{className:e.pageTitle,children:"DIVISIONES"})}),Object(he.jsx)(Pe.a,{item:!0,xs:12,children:Object(he.jsx)(gt.a,{className:t.root,children:Object(he.jsxs)(Pe.a,{container:!0,item:!0,alignContent:"center",spacing:2,children:[Object(he.jsxs)(Pe.a,{item:!0,xs:12,md:6,children:[Object(he.jsx)("div",{className:Object(qe.a)(t.name,t.fichaText),children:"NOMBRE TIPO"}),Object(he.jsx)("div",{className:t.fichaText,children:"MODELO"}),Object(he.jsx)("div",{className:t.fichaText,children:"INFORMACI\xd3N"}),Object(he.jsx)("div",{className:t.fichaText,children:"\xdaLTIMA INSPECCI\xd3N"})]}),Object(he.jsx)(Pe.a,{item:!0,xs:12,md:6,children:Object(he.jsx)("div",{style:{height:120,width:"100%"}})})]})})})]})})})})})},Wn=n(656),Un=[{color:"#27AE60",name:"Completadas",button:"Detalle",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",number:null},{color:"#DE4343",name:"Asignar",button:"Detalle",number:null}],Yn=[{color:"#27AE60",name:"Completadas",button:"Detalle",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",number:null},{color:"#DE4343",name:"Asignar",button:"Detalle",number:null}],Gn=(n(387),function(){var e=Object(r.useState)([]),t=Object(M.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),c=Object(M.a)(i,2),s=c[0],l=c[1],d=Object(r.useState)(!1),u=Object(M.a)(d,2),j=(u[0],u[1]),b=Object(r.useState)(0),h=Object(M.a)(b,2),p=h[0],O=(h[1],Object(r.useState)(0)),m=Object(M.a)(O,2),g=m[0],x=(m[1],Object(r.useState)(0)),f=Object(M.a)(x,2),v=f[0],y=(f[1],Object(r.useState)(0)),w=Object(M.a)(y,2),S=w[0],k=(w[1],Object(r.useState)([])),I=Object(M.a)(k,2),N=I[0],D=I[1],R=Object(r.useState)(!0),B=Object(M.a)(R,2),E=B[0],A=B[1],T=Object(o.f)();C();Object(r.useEffect)((function(){F()}),[]);var F=function(){Un.forEach(function(){var e=Object(Fe.a)(Me.a.mark((function e(t,n){var r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t.name,"Inspecci\xf3n");case 2:(r=e.sent).data.length>0?r.data.forEach(function(){var e=Object(Fe.a)(Me.a.mark((function e(n,a){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(n.site);case 2:n.siteName=e.sent,ue(n.machine).then((function(e){n.hourMeter=Number(e.data[0].hourMeter)/36e5})),a==r.data.length-1&&(t.lista=r.data.reverse(),t.number=r.data.length);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):(t.lista=[],t.number=0),n==Un.length-1&&a(Un);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Yn.forEach(function(){var e=Object(Fe.a)(Me.a.mark((function e(t,n){var a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t.name,"Mantenci\xf3n");case 2:(a=e.sent).data.length>0?a.data.forEach(function(){var e=Object(Fe.a)(Me.a.mark((function e(n,r){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(n.site);case 2:n.siteName=e.sent,ue(n.machine).then((function(e){n.hourMeter=Number(e.data[0].hourMeter)/36e5})),r==a.data.length-1&&(t.lista=a.data.reverse(),t.number=a.data.length);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):(t.lista=[],t.number=0),n==Yn.length-1&&l(Yn);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),"admin"!==localStorage.getItem("role")&&"sapExecutive"!==localStorage.getItem("role")||j(!0)},P=function(e){return new Promise((function(t){St.initDbObras().then((function(n){St.consultar(n.database).then((function(n){n.forEach((function(n){n.idobra===e&&t(n.descripcion)}))}))}))}))},z=function(e){A(!1),D(e)};return Object(he.jsxs)("div",{className:"container-width",children:[Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(he.jsxs)(De.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(he.jsx)(Ze.a,{onClick:function(){return setTimeout((function(){T.goBack()}),500)},children:Object(he.jsx)(tn.a,{style:{color:"#333",fontSize:16}})}),Object(he.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Ordenes"}),Object(he.jsx)(Le.a,{onClick:function(){T.push("/reports/create-report")},title:"Nuevo reporte",style:{position:"absolute",right:10,color:"#333"},children:"Nueva orden"})]})})}),Object(he.jsxs)(Pe.a,{container:!0,children:[Object(he.jsxs)(Pe.a,{item:!0,xs:12,sm:12,md:5,lg:3,children:[Object(he.jsxs)("div",{className:"menu-card",children:[Object(he.jsx)("h3",{children:"Inspecciones"}),Object(he.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(he.jsx)("div",{style:{float:"left",width:"40%"},children:Object(he.jsx)("p",{style:{fontSize:32,margin:0},children:p})}),Object(he.jsx)("div",{style:{float:"left",right:5,width:"40%"},children:Object(he.jsx)("p",{style:{fontSize:8},children:"Inspecciones por asignar"})})]}),Object(he.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(he.jsx)("div",{style:{float:"left",width:"40%"},children:Object(he.jsxs)("p",{style:{fontSize:32,margin:0},children:[g," "]})}),Object(he.jsx)("div",{style:{float:"left",right:5,width:"40%"},children:Object(he.jsx)("p",{style:{fontSize:8},children:"Inspecciones completadas en la semana"})})]}),n.map((function(e,t){return Object(he.jsxs)(Pe.a,{container:!0,children:[Object(he.jsx)(Pe.a,{item:!0,style:{width:"15%"},children:Object(he.jsx)(Be.a,{icon:Re.c,size:"2x",style:{marginRight:10},color:e.color})}),Object(he.jsx)(Pe.a,{item:!0,style:{width:"30%"},children:Object(he.jsx)("p",{style:{margin:0},children:e.name})}),Object(he.jsx)(Pe.a,{item:!0,style:{width:"15%"},children:Object(he.jsx)(Wn.a,{label:e.number,style:{marginLeft:10,marginRight:10}})}),Object(he.jsx)(Pe.a,{item:!0,style:{width:"40%",textAlign:"right"},children:Object(he.jsx)("button",{onClick:function(){return z(e.lista)},style:{position:"relative",right:5,width:80,height:30,borderRadius:20},children:e.button})})]},t)}))]}),Object(he.jsxs)("div",{className:"menu-card",children:[Object(he.jsx)("h3",{children:"Mantenciones"}),Object(he.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(he.jsx)("div",{style:{float:"left",width:"40%"},children:Object(he.jsx)("p",{style:{fontSize:32,margin:0},children:v})}),Object(he.jsx)("div",{style:{float:"left",right:5,width:"40%"},children:Object(he.jsx)("p",{style:{fontSize:8},children:"Mantenciones por asignar"})})]}),Object(he.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(he.jsx)("div",{style:{float:"left",width:"40%"},children:Object(he.jsxs)("p",{style:{fontSize:32,margin:0},children:[S," "]})}),Object(he.jsx)("div",{style:{float:"left",right:5,width:"40%"},children:Object(he.jsx)("p",{style:{fontSize:8},children:"Mantenciones completadas en la semana"})})]}),s.map((function(e,t){return Object(he.jsxs)(Pe.a,{container:!0,children:[Object(he.jsx)(Pe.a,{item:!0,style:{width:"15%"},children:Object(he.jsx)(Be.a,{icon:Re.c,size:"2x",style:{marginRight:10},color:e.color})}),Object(he.jsx)(Pe.a,{item:!0,style:{width:"30%"},children:Object(he.jsx)("p",{style:{margin:0},children:e.name})}),Object(he.jsx)(Pe.a,{item:!0,style:{width:"15%"},children:Object(he.jsx)(Wn.a,{label:e.number,style:{marginLeft:10,marginRight:10}})}),Object(he.jsx)(Pe.a,{item:!0,style:{width:"40%",textAlign:"right"},children:Object(he.jsx)("button",{onClick:function(){return z(e.lista)},style:{position:"relative",right:5,width:80,height:30,borderRadius:20},children:e.button})})]},t)}))]})]}),Object(he.jsxs)(Pe.a,{item:!0,xs:12,sm:12,md:7,lg:9,children:[E&&Object(he.jsxs)("div",{children:[Object(he.jsx)("img",{style:{margin:0,position:"absolute",top:"50%",left:"calc(100%/1.53)",msTransform:"translateY(-50%)",transform:"translateY(-50%)"},src:"../../assets/icons/Arrow.svg",alt:""}),Object(he.jsx)("div",{style:{textAlign:"center",position:"absolute",top:"55%",left:"calc(100%/1.6)"},children:Object(he.jsxs)("p",{children:["Selecciona una opci\xf3n ",Object(he.jsx)("br",{})," para ver el detalle"]})})]}),!E&&Object(he.jsx)($t,{list:N})]})]})]})}),Zn=function(){var e=Object(r.useState)([]),t=Object(M.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),c=Object(M.a)(i,2),s=c[0],l=c[1],d=Object(r.useState)([]),u=Object(M.a)(d,2),j=u[0],b=u[1],h=Object(r.useState)(""),p=Object(M.a)(h,2),O=p[0],m=p[1],g=Object(r.useState)(),f=Object(M.a)(g,2),v=f[0],y=f[1],w=Object(r.useState)(),S=Object(M.a)(w,2),k=S[0],I=S[1],N=Object(r.useState)(),D=Object(M.a)(N,2),R=D[0],B=D[1],E=Object(r.useState)(),A=Object(M.a)(E,2),T=A[0],F=A[1],P=Object(r.useState)(),z=Object(M.a)(P,2),L=z[0],W=z[1],U=Object(r.useState)(!0),Y=Object(M.a)(U,2),G=Y[0],Z=Y[1],J=Object(r.useState)(!1),Q=Object(M.a)(J,2),V=Q[0],H=Q[1],_=Object(r.useState)(!0),K=Object(M.a)(_,2),X=K[0],$=K[1],ee=Object(r.useState)(0),te=Object(M.a)(ee,2),ne=te[0],ae=te[1],re=Object(r.useState)(""),ie=Object(M.a)(re,2),le=ie[0],de=ie[1],ue=Object(r.useState)(""),je=Object(M.a)(ue,2),be=je[0],pe=je[1],Oe=Object(r.useState)(""),me=Object(M.a)(Oe,2),ge=me[0],xe=me[1],fe=Object(r.useState)(""),ve=Object(M.a)(fe,2),ye=ve[0],we=ve[1],Se=C(),Ce=Object(o.f)(),ke=Object(o.h)().id,Ie=function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return Z(!0),H(!0),e.next=5,Ae();case 5:n=e.sent,a=n.filter((function(e,t){if(e.header[3].typeDataDesc===O&&e.typepm.includes(k))return e})),l(a),setTimeout((function(){Z(!1),H(!1)}),500);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){"Inspecci\xf3n"===e?I("PI"):"Mantenci\xf3n"===e&&I("PM")},Re=function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),e.next=3,Nt.initDbMachines();case 3:(n=e.sent)&&Nt.consultar(n.database).then((function(e){new Array;var n=e.filter((function(e){if(e.model===t)return e})).sort((function(e,t){return Number(e.equ)-Number(t.equ)}));b(n)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,n,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={createdBy:localStorage.getItem("_id"),updatedBy:localStorage.getItem("_id"),state:"Asignar",datePrev:Date.parse(le),machine:T,guide:v,reportType:R},Object(x.a)(t,"machine",JSON.parse(L).equid),Object(x.a)(t,"site",JSON.parse(localStorage.getItem("sitio")).idobra),(n=t).machine&&n.guide&&"Selecci\xf3n no cuenta con pautas."!==n.guide&&n.reportType&&"Seleccione..."!==n.reportType){e.next=5;break}alert("Falta informaci\xf3n"),e.next=9;break;case 5:return e.next=7,ce(n);case 7:(a=e.sent)&&(alert("Reporte ".concat(a.data.idIndex,", para m\xe1quina modelo ").concat(a.data.machine," creado satisfactoriamente.")),Ce.goBack());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,n,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={idIndex:ne,updatedBy:localStorage.getItem("_id"),state:"Asignar",datePrev:Date.parse(le),machine:T,guide:v,reportType:R},Object(x.a)(t,"machine",JSON.parse(L).equid),Object(x.a)(t,"site",JSON.parse(localStorage.getItem("sitio")).idobra),(n=t).machine&&n.guide&&"Selecci\xf3n no cuenta con pautas."!==n.guide&&n.reportType&&"Seleccione..."!==n.reportType){e.next=5;break}alert("Falta informaci\xf3n"),e.next=9;break;case 5:return e.next=7,se(n);case 7:(a=e.sent)&&(alert("Reporte ".concat(a.data.idIndex,", para m\xe1quina modelo ").concat(a.data.machine," editado satisfactoriamente.")),Ce.goBack());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){return new Promise((function(e){yt.initDbPMs().then(function(){var t=Object(Fe.a)(Me.a.mark((function t(n){var a;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt.consultar(n.database);case 2:a=t.sent,e(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},Te=function(){Z(!1)},ze=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:t=e.sent,ae(t.data.length);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){ft.initDbMachines().then(function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.consultar(t.database);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),We(ke),Le()}),[]);var Le=function(){var e=new Date(Date.now()),t=e.getMonth()+1,n=e.getDate(),a=e.getFullYear();t<10&&(t="0"+t.toString()),n<10&&(n="0"+n.toString()),we(a+"-"+t+"-"+n)},We=function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n,a,r,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:n=e.sent,t?(a=JSON.parse(t),c=a.reportType,I(r="Inspecci\xf3n"===c?"PI":"Mantenci\xf3n"===c?"PM":void 0),ae(a.idIndex),i=a.datePrev.toString().replace("T00:00:00.000Z",""),de(i),B(a.reportType),Ne(a.reportType),Z(!1),$(!1),Nt.initDbMachines().then((function(e){e&&Nt.consultar(e.database).then(function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var i,c,s,o,d;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te(),i=new Array,c=(i=t).filter((function(e){if(e.equid===a.machine)return e})),m(c[0].model),s=i.filter((function(e){if(e.model===c[0].model)return c})),o=n.filter((function(e,t){if(e.header[3].typeDataDesc===c[0].model&&e.typepm.includes(r))return e})),e.next=9,q(c[0].equid);case 9:d=e.sent,pe(Number(d.data[0].hourMeter)/36e5),xe(c[0].equid),b(s),F(c[0].model),W(JSON.stringify(c[0])),l(o),y(a.guide),b(s);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))):ze();case 4:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:"root",container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:Se.pageContainer,item:!0,xs:12,children:Object(he.jsxs)(gt.a,{className:Se.pageCard,children:[Object(he.jsxs)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(he.jsx)("div",{className:"navigation-bar",children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(he.jsxs)(De.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(he.jsx)(Ze.a,{onClick:function(){return setTimeout((function(){Ce.goBack()}),500)},children:Object(he.jsx)(tn.a,{style:{color:"#333",fontSize:16}})}),Object(he.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:[ke&&"Ordenes / Editar orden de trabajo",!ke&&"Ordenes / Crear nueva orden de trabajo"]})]})})}),Object(he.jsxs)(Pe.a,{container:!0,className:"form-container",children:[Object(he.jsxs)(Pe.a,{item:!0,lg:6,children:[Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)(qt.a,{children:[Object(he.jsx)("p",{children:"#ID"}),Object(he.jsx)("input",{disabled:!0,value:ne,maxLength:12,onBlur:function(){return Ie()},className:Se.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)(qt.a,{children:[Object(he.jsx)("p",{children:"Fecha Prevista"}),Object(he.jsx)("input",{value:le,onChange:function(e){de(e.target.value)},maxLength:12,onBlur:function(){return Ie()},className:Se.inputsStyle,type:"date",min:ye,style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)(qt.a,{children:[Object(he.jsx)("p",{children:"Seleccionar tipo de reporte"}),Object(he.jsxs)("select",{onBlur:function(){return Ie(!0)},className:Se.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){B(e.target.value),Ne(e.target.value)},value:R,children:[Object(he.jsx)("option",{value:null,children:"Seleccione..."}),Object(he.jsx)("option",{children:"Inspecci\xf3n"}),Object(he.jsx)("option",{children:"Mantenci\xf3n"})]})]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)(qt.a,{children:[Object(he.jsx)("p",{children:"Seleccionar modelo de m\xe1quina"}),Object(he.jsxs)("select",{onBlur:function(){return Ie(!0)},className:Se.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){F(e.target.value),Te(),Re(e.target.value)},value:T,children:[Object(he.jsx)("option",{value:"",children:"Seleccione..."}),n.map((function(e,t){return Object(he.jsxs)("option",{value:e.model,children:[e.type," ",e.brand," ",e.model]},t)}))]})]})})]}),Object(he.jsxs)(Pe.a,{item:!0,lg:6,children:[Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)(qt.a,{children:[Object(he.jsxs)("p",{children:["Seleccionar Pauta  ",G&&V&&Object(he.jsx)("b",{children:"ESPERE..."})]}),Object(he.jsxs)("select",{disabled:G,onBlur:function(){return Ie()},className:Se.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){y(e.target.value),$(!1)},value:v,children:[Object(he.jsx)("option",{value:null,children:"Seleccione..."}),s.length>0&&s.map((function(e,t){return Object(he.jsxs)("option",{value:e.typepm,children:[" ",e.idpm," - ",e.typepm," / ",e.header[1].typeDataDesc," "]},t)})),0==s.length&&Object(he.jsx)("option",{children:" Selecci\xf3n no cuenta con pautas. "})]})]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)(qt.a,{children:[Object(he.jsx)("p",{children:"Seleccionar m\xe1quina de obra"}),Object(he.jsxs)("select",{onBlur:function(){return Ie()},className:Se.inputsStyle,disabled:X,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){"no-select"===e.target.value?(pe(""),xe(""),W("")):(W(e.target.value),xe(JSON.parse(e.target.value).equid),pe(JSON.parse(e.target.value).hourMeter/36e5))},value:L,children:[Object(he.jsx)("option",{value:"no-select",children:"Seleccione..."}),j.sort((function(e,t){return Number(e.equ)-Number(t.equ)})).map((function(e,t){return Object(he.jsxs)("option",{value:JSON.stringify(e),children:[" ",e.equ," / ",e.type," ",e.brand," - ",e.model," "]},t)}))]})]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)(qt.a,{children:[Object(he.jsx)("p",{children:"Horas de operaci\xf3n"}),Object(he.jsx)("input",{disabled:!0,value:be,maxLength:12,onBlur:function(){return Ie()},className:Se.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)(qt.a,{children:[Object(he.jsx)("p",{children:"Equipo ID"}),Object(he.jsx)("input",{disabled:!0,value:ge,maxLength:12,onBlur:function(){return Ie()},className:Se.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})]})]})]}),Object(he.jsxs)(Pe.a,{container:!0,children:[Object(he.jsx)(Pe.a,{item:!0,lg:6,md:6,sm:!1,xs:!1}),Object(he.jsx)(Pe.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(he.jsxs)("div",{style:{width:"100%",paddingTop:30,textAlign:"center"},children:[ke&&Object(he.jsx)("button",{onClick:function(){return Ee()},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Editar reporte"}),!ke&&Object(he.jsx)("button",{onClick:function(){return Be()},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Agregar reporte"})]})})]})]})})})})},Jn=function(){var e=C();return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsx)(gt.a,{className:e.pageCard,children:[{id:0,description:"Actividad 1 programada",fecha:"12/10/2021"},{id:1,description:"Actividad 1 ejecutada",fecha:"13/10/2021"},{id:2,description:"Actividad 2 programada",fecha:"13/10/2021"},{id:3,description:"Actividad 3 programada",fecha:"14/10/2021"},{id:4,description:"Actividad 2 ejecutada",fecha:"15/10/2021"},{id:5,description:"Actividad 4 programada",fecha:"16/10/2021"},{id:6,description:"Actividad 3 ejecutada",fecha:"16/10/2021"},{id:7,description:"Actividad 4 ejecutada",fecha:"19/10/2021"},{id:8,description:"Actividad 5 programada",fecha:"20/10/2021"},{id:9,description:"Actividad 6 programada",fecha:"20/10/2021"}].reverse().filter((function(e){return e.toString()})).map((function(e){return Object(he.jsx)(Pe.a,{item:!0,style:{width:"100%",padding:5},children:Object(he.jsx)("div",{style:{borderRadius:20,backgroundColor:"#fff",padding:10},children:Object(he.jsxs)("h3",{children:[e.fecha," - ",e.description]})})},e.id)}))})})})})},Qn=function(){var e=C();return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsx)(gt.a,{className:e.pageCard})})})})},qn=function(){var e=C();return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsxs)(gt.a,{className:e.pageCard,children:[Object(he.jsx)(Pe.a,{style:{flexShrink:0},children:Object(he.jsx)("div",{style:{width:"100%",color:"#fff"},children:Object(he.jsx)("h1",{children:"Configuraci\xf3n"})})}),Object(he.jsxs)(Pe.a,{container:!0,spacing:1,children:[Object(he.jsx)("div",{style:{width:"30%"},children:Object(he.jsxs)("div",{style:{textAlign:"left",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:[Object(he.jsx)($e.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(he.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Perfil"})}),Object(he.jsx)($e.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(he.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Notificaciones"})}),Object(he.jsx)($e.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(he.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Informaci\xf3n"})}),Object(he.jsx)($e.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(he.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Soporte"})})]})}),Object(he.jsx)("div",{style:{width:"70%",height:"35rem",overflowY:"auto"},children:Object(he.jsx)("div",{style:{textAlign:"left",height:"100%",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:Object(he.jsx)("div",{style:{height:"50%"}})})})]})]})})})})},Vn=function(){var e=C(),t=Object(r.useState)([]),n=Object(M.a)(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e=Object(Fe.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:St.initDbObras().then(function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.consultar(t.database);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsxs)(gt.a,{className:e.pageCard,children:[Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsx)("h1",{children:"Para navegar en la plataforma debe seleccionar una obra."})}),Object(he.jsx)(Pe.a,{container:!0,style:{height:"75vh"},alignItems:"center",justifyContent:"center",children:a.filter((function(e){return e.toString()})).map((function(e){return Object(he.jsx)(Pe.a,{item:!0,style:{width:"100%",padding:20},children:Object(he.jsx)(sn,{site:e})},e.id)}))})]})})})})},Hn=function(){var e=C(),t=Object(o.f)();return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsxs)(gt.a,{className:e.pageCard,children:[Object(he.jsx)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(he.jsxs)(De.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(he.jsx)(Ze.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(he.jsx)(tn.a,{style:{color:"#333",fontSize:16}})}),Object(he.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n"})]})})})}),Object(he.jsx)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(he.jsx)(Pe.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(he.jsx)(cn,{variant:"users"})})})]})})})})},_n=(n(562),function(e){e.route;var t=Object(r.useState)(!1),n=Object(M.a)(t,2),a=n[0],i=n[1],c=C(),s=Object(o.f)();return Object(r.useEffect)((function(){navigator.onLine?i(!0):i(!1)}),[]),Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:"root",container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:c.pageContainer,item:!0,xs:12,children:Object(he.jsxs)(gt.a,{className:c.pageCard,children:[Object(he.jsx)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(he.jsxs)(De.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(he.jsx)(Ze.a,{onClick:function(){return setTimeout((function(){s.goBack()}),500)},children:Object(he.jsx)(tn.a,{style:{color:"#333",fontSize:16}})}),Object(he.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / Administrar usuarios"})]})})})}),Object(he.jsx)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:20,overflowY:"auto",height:"calc(100vh - 200px)"},children:Object(he.jsx)(Qt,{height:"100%",hableButton:a})})})]})})})})}),Kn=function(e){return new Promise((function(t){"name"===e?t("Nombre de usuario"):"lastName"===e?t("Apellido de usuario"):"rut"===e?t("RUT de usuario"):"role"===e?t("Tipo de usuario"):"email"===e?t("Email / Correo electr\xf3nico de usuario"):"phone"===e?t("Tel\xe9fono"):"password"===e?t("Contrase\xf1a"):"sites"===e?t("Obra"):"confirmPassword"===e&&t("Confirmaci\xf3n de la contrase\xf1a")}))},Xn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},$n=function(){var e=C(),t=Object(o.f)(),n=Object(r.useState)(!1),a=Object(M.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)(!1),l=Object(M.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(""),b=Object(M.a)(j,2),h=b[0],p=b[1],O=Object(r.useState)(""),m=Object(M.a)(O,2),g=m[0],x=m[1],f=Object(r.useState)(),v=Object(M.a)(f,2),y=v[0],w=v[1],S=Object(r.useState)({}),k=Object(M.a)(S,2),I=k[0],N=k[1],D=Object(o.h)().id,R=function(){var e;i?(e=!1,t.goBack(),B()):e=!0,setTimeout((function(){c(e)}),500)};Object(r.useEffect)((function(){D?(x("Editar usuario"),re(D).then((function(e){N(e.data),w(0)}))):(w(0),x("Nuevo usuario"))}),[]);var B=function(){localStorage.removeItem("userDataToSave"),localStorage.removeItem("listaPermisosReportes"),localStorage.removeItem("listaPermisosUsuarios")};return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsxs)(gt.a,{className:e.pageCard,children:[Object(he.jsx)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(he.jsxs)(De.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(he.jsx)(Ze.a,{onClick:function(){return setTimeout((function(){t.goBack(),B()}),500)},children:Object(he.jsx)(tn.a,{style:{color:"#333",fontSize:16}})}),Object(he.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:["Administraci\xf3n / Administrar usuarios / ",g]})]})})})}),Object(he.jsx)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(he.jsxs)("div",{style:{width:"100%",textAlign:"left",padding:10,overflowY:"auto"},children:[0===y&&Object(he.jsx)(_t,{width:"calc(100vw - 450px)",height:"calc(100vh - 320px)",typeDisplay:g,uData:I}),1===y&&Object(he.jsx)(Xt,{width:"calc(100vw - 350px)",height:"calc(100vh - 320px)",typeDisplay:g,id:D}),Object(he.jsx)("div",{style:{position:"absolute",right:40,bottom:40},children:Object(he.jsx)("div",{style:{width:"100%"},children:Object(he.jsxs)("div",{style:{float:"right"},children:[1==y&&Object(he.jsx)("button",{onClick:function(){return w(y-1)},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Modificar Datos"}),Object(he.jsx)("button",{onClick:function(){t.goBack(),B()},style:{width:189,height:48,borderRadius:23,marginRight:17,fontSize:20,color:"#BB2D2D",borderColor:"#BB2D2D",borderWidth:2},children:"Cancelar"}),0==y&&Object(he.jsx)("button",{onClick:function(){return function(){var e=JSON.parse(localStorage.getItem("userDataToSave")),t=!0;if(e)if(e.rut)if(Object(Vt.validate)(e.rut))if(new String,e.phone,e.phone){var n=[];Object.values(e).map(function(){var a=Object(Fe.a)(Me.a.mark((function a(r,i){return Me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r){a.next=7;break}return D||(t=!1),a.t0=n,a.next=5,Kn(Object.keys(e)[i]);case 5:a.t1=a.sent,a.t0.push.call(a.t0,a.t1);case 7:i==Object.values(e).length-2&&(t?D||e.password===e.confirmPassword?w(y+1):alert("Contrase\xf1as no coinciden"):setTimeout((function(){alert("Faltan datos: "+JSON.stringify(n))}),100));case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}else alert("Tel\xe9fono debe contar con al menos 9 car\xe1cteres");else alert("Rut inv\xe1lido. Revise los datos.");else alert("Falta RUT");else alert("Sin datos")}()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Siguiente"}),y>0&&!D&&Object(he.jsx)("button",{onClick:function(){!function(){var e=JSON.parse(localStorage.getItem("userDataToSave")),t=JSON.parse(localStorage.getItem("listaPermisosReportes")),n=JSON.parse(localStorage.getItem("listaPermisosUsuarios"));t.forEach((function(a,r){a.isChecked||(a.isChecked=!1),r==t.length-1&&n.forEach(function(){var a=Object(Fe.a)(Me.a.mark((function a(r,i){return Me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.isChecked||(r.isChecked=!1),i!=n.length-1){a.next=20;break}if(e.permissionsReports=t,e.permissionsUsers=n,e.confirmPassword=null,u(!0),"Nuevo usuario"!==g){a.next=14;break}return p("Inscribiendo nuevo usuario"),a.next=10,te(e,e.password);case 10:200==a.sent.status&&(u(!1),R()),a.next=20;break;case 14:if("Editar usuario"!==g){a.next=20;break}return p("Editando usuario"),a.next=18,ne(e);case 18:200==a.sent.status&&(u(!1),R());case 20:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}))}()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Crear usuario"}),y>0&&D&&Object(he.jsx)("button",{onClick:function(){!function(){var e=JSON.parse(localStorage.getItem("userDataToSave")),t=JSON.parse(localStorage.getItem("listaPermisosReportes")),n=JSON.parse(localStorage.getItem("listaPermisosUsuarios"));t.forEach((function(a,r){a.isChecked||(a.isChecked=!1),r==t.length-1&&n.forEach(function(){var a=Object(Fe.a)(Me.a.mark((function a(r,i){return Me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.isChecked||(r.isChecked=!1),i!=n.length-1){a.next=8;break}return e.permissionsReports=t,e.permissionsUsers=n,a.next=6,ne(e,D);case 6:a.sent&&R();case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}))}()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Editar usuario"})]})})})]})}),Object(he.jsxs)("div",{children:[Object(he.jsx)(He.a,{open:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(he.jsxs)(_e.a,{sx:Xn,children:[Object(he.jsxs)("div",{style:{textAlign:"center"},children:[Object(he.jsx)("img",{src:"../../assets/icons/check-green.svg",alt:""}),"Nuevo usuario"===g&&Object(he.jsx)("h1",{children:"Usuario creado con \xe9xito"}),"Editar usuario"===g&&Object(he.jsx)("h1",{children:"Usuario editado con \xe9xito"})]}),Object(he.jsx)(Ke.a,{onClick:R,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(he.jsx)(Je.a,{style:{color:"#ccc"}})})]})}),Object(he.jsx)(at,{open:d,loadingData:h,withProgress:!1})]})]})})})})},ea=(n(655),n(647),n(641),function(){var e=C(),t=Object(r.useState)(),n=Object(M.a)(t,2),a=n[0],i=n[1],c=Object(o.f)(),s=Object(o.h)().id;return Object(r.useEffect)((function(){yt.initDbPMs().then(function(){var e=Object(Fe.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.obtener(s,t.database);case 2:(n=e.sent)&&i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(he.jsx)(_e.a,{children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsx)(gt.a,{className:e.pageCard,children:Object(he.jsx)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(he.jsx)("div",{style:{paddingLeft:0},children:Object(he.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(he.jsxs)(De.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(he.jsx)(Ze.a,{onClick:function(){return setTimeout((function(){c.goBack()}),500)},children:Object(he.jsx)(tn.a,{style:{color:"#333",fontSize:16}})}),Object(he.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:a&&"Listado Pautas / ".concat(a.typepm)})]}),Object(he.jsx)("div",{style:{height:"90%",width:"98%"},children:a&&Object(he.jsx)(Jt,{pauta:a})})]})})})})})})})})})}),ta=function(){var e=C();Object(o.f)();return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsx)(gt.a,{className:e.pageCard,children:Object(he.jsx)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(he.jsx)("h1",{children:"Sin permiso de acceso"})})})})})})})},na=function(){var e=C(),t=Object(o.f)(),n=Object(r.useState)([]),a=Object(M.a)(n,2),i=a[0],c=a[1];Object(r.useEffect)((function(){s()}),[]);var s=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At.initDbReports();case 2:if(!(t=e.sent)){e.next=8;break}return e.next=6,At.consultar(t.database);case 6:(n=e.sent)&&n.forEach(function(){var e=Object(Fe.a)(Me.a.mark((function e(t,a){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.machine);case 2:t.getMachine=e.sent,"PC5500"===t.getMachine.model?t.machineType="Pala":"793-F"===t.getMachine.model&&(t.machineType="Cami\xf3n"),a==n.length-1&&c(n);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e){return new Promise(function(){var t=Object(Fe.a)(Me.a.mark((function t(n){var a,r,i;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nt.initDbMachines();case 2:if(!(a=t.sent)){t.next=8;break}return t.next=6,Nt.consultar(a.database);case 6:(r=t.sent)&&(i=r.filter((function(t){if(e===t.equid)return t})),n({number:i[0].equ,model:i[0].model}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};return Object(he.jsx)(_e.a,{height:"100%",children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsx)(gt.a,{className:e.pageCard,children:Object(he.jsxs)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(he.jsxs)(De.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(he.jsx)(Ze.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(he.jsx)(tn.a,{style:{color:"#333",fontSize:16}})}),Object(he.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Actividades Asignadas"})]})})}),Object(he.jsxs)("div",{style:{width:"100%",padding:10},children:[Object(he.jsx)(Pe.a,{container:!0,children:Object(he.jsx)("div",{style:{width:"100%",borderRadius:10,borderStyle:"solid",borderWidth:1,borderColor:"#CCC",backgroundColor:"#CCC",marginBottom:10},children:Object(he.jsxs)(Pe.a,{container:!0,children:[Object(he.jsx)(Pe.a,{item:!0,lg:1,children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(he.jsx)("h2",{children:"Gu\xeda"})})}),Object(he.jsx)(Pe.a,{item:!0,lg:2,children:Object(he.jsx)("h2",{children:"Inicio programado"})}),Object(he.jsx)(Pe.a,{item:!0,lg:1,children:Object(he.jsx)("h2",{children:"ID"})}),Object(he.jsx)(Pe.a,{item:!0,lg:2,children:Object(he.jsx)("h2",{children:"Inicio ejecuci\xf3n"})}),Object(he.jsx)(Pe.a,{item:!0,lg:3,children:Object(he.jsx)("h2",{children:"M\xe1quina"})}),Object(he.jsx)(Pe.a,{item:!0,lg:3,children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"right",paddingRight:20},children:Object(he.jsx)("h2",{children:"Acci\xf3n"})})})]})})}),Object(he.jsx)(Pe.a,{container:!0,style:{overflowY:"auto",maxHeight:"calc(100vh - 295px)"},children:i.map((function(e,n){return e.dateFormat=A(e.datePrev),e.dateInit?e.dateInitFormat=A(e.dateInit):e.dateInitFormat="No iniciado",Object(he.jsx)("div",{style:{width:"100%",borderRadius:10,borderStyle:"solid",borderWidth:1,borderColor:"#CCC",marginBottom:10},children:Object(he.jsxs)(Pe.a,{container:!0,children:[Object(he.jsx)(Pe.a,{item:!0,lg:1,children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(he.jsx)("h2",{children:e.guide})})}),Object(he.jsx)(Pe.a,{item:!0,lg:2,children:Object(he.jsx)("h4",{children:e.dateFormat})}),Object(he.jsx)(Pe.a,{item:!0,lg:1,children:Object(he.jsx)("h4",{children:e.idIndex})}),Object(he.jsx)(Pe.a,{item:!0,lg:2,children:Object(he.jsx)("h4",{children:e.dateInitFormat})}),Object(he.jsx)(Pe.a,{item:!0,lg:3,children:Object(he.jsxs)("h4",{children:[" ",e.machineType," ",e.getMachine.model," N\xfamero interno: ",e.getMachine.number," "]})}),Object(he.jsx)(Pe.a,{item:!0,lg:3,children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"right",paddingRight:20},children:Object(he.jsx)(Le.a,{onClick:function(){!function(e){t.push("/activities/".concat(JSON.stringify(e)))}(e)},color:"primary",style:{borderRadius:30},children:"Ver"})})})]})},n)}))})]})]})})})})})},aa=function(){var e=C(),t=Object(o.f)(),n=Object(o.h)().id,a=Object(r.useState)(),i=Object(M.a)(a,2),c=i[0],s=i[1],l=Object(r.useState)(),d=Object(M.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(0),h=Object(M.a)(b,2),p=h[0],O=h[1];Object(r.useEffect)((function(){m()}),[]);var m=function(){var e=Object(Fe.a)(Me.a.mark((function e(){var t,a,r,i,c,o,l;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.initDbPMs();case 2:if(!(t=e.sent)){e.next=19;break}return a=g(JSON.parse(n).getMachine.model),e.next=7,yt.consultar(t.database);case 7:if(!(r=e.sent)){e.next=19;break}return i=r.filter((function(e){if(e.typepm===JSON.parse(n).guide&&a===e.idpm)return e})),e.next=12,Mt.initDb();case 12:if(!(c=e.sent)){e.next=18;break}return e.next=16,Mt.consultar(c.database);case 16:(o=e.sent)&&(l=o.filter((function(e){if(JSON.parse(n)._id===e.reportId)return e})),j(l[0]));case 18:s(i[0]);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){return"793-F"===e?"SPM000787":"PC5500"===e?"SPM000445":void 0};return Object(he.jsx)(_e.a,{height:"80vh",children:Object(he.jsx)(Pe.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(he.jsx)(Pe.a,{className:e.pageContainer,item:!0,xs:12,children:Object(he.jsx)(gt.a,{className:e.pageCard,children:Object(he.jsxs)(Pe.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(he.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(he.jsxs)(De.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10,width:"100%"},children:[Object(he.jsx)(Ze.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(he.jsx)(tn.a,{style:{color:"#333",fontSize:16}})}),Object(he.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Actividades Asignadas / Detalle"}),Object(he.jsxs)("div",{style:{position:"absolute",right:10,width:"50%",textAlign:"right"},children:[Object(he.jsx)("div",{style:{float:"right",width:"5%",padding:5},children:Object(he.jsxs)("p",{children:[p.toFixed(0),"%"]})}),Object(he.jsx)("div",{style:{float:"right",width:"40%",padding:10},children:Object(he.jsx)("p",{children:Object(he.jsx)(en.a,{variant:"determinate",value:p,style:{width:"100%"}})})})]})]})})}),Object(he.jsx)("div",{style:{width:"98%"},children:c&&Object(he.jsx)(Jt,{height:"calc(100vh - 300px)",pauta:c,executionReport:u,setProgress:function(e){O(e)}})})]})})})})})},ra=Object(h.a)((function(e){e.graphQLErrors;var t=e.networkError;e.response;null===t||void 0===t||t.statusCode})),ia=O()({uri:"/graphql",credentials:"include"}),ca=d.ApolloLink.from([ra,ia]),sa=new u.a({link:ca,cache:new j.a}),oa=function(){var e=me(),t=e.isAuthenticated,n=e.loading;e.admin;return Object(he.jsxs)("div",{style:{fontFamily:"Roboto"},children:[t&&Object(he.jsxs)(o.a,{path:["/"],children:[t&&!n&&Object(he.jsx)(bt,{})," ",t&&!n&&Object(he.jsx)(Ae,{})]}),Object(he.jsxs)(o.c,{children:[!t&&Object(he.jsx)(o.a,{exact:!0,path:["/reset-password"],render:function(){return Object(he.jsx)(En,{})}}),!t&&Object(he.jsx)(o.a,{exact:!0,path:["/restore-password/:id"],render:function(){return Object(he.jsx)(An,{})}}),!t&&Object(he.jsx)(o.a,{path:["/"],render:function(){return Object(he.jsx)(On,{})}}),n&&Object(he.jsx)(o.a,{path:["/"],render:function(){return Object(he.jsx)(jn,{})}}),Object(he.jsx)(o.a,{exact:!0,path:["/","/welcome"],render:function(){return Object(he.jsx)(Bn,{})}}),Object(he.jsx)(o.a,{path:["/divisions"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/divisions",children:Object(he.jsx)(Ln,{route:"divisions"})})})}),Object(he.jsx)(o.a,{path:["/reports"],children:Object(he.jsxs)(o.c,{children:[Object(he.jsx)(o.a,{exact:!0,path:"/reports",children:Object(he.jsx)(Gn,{route:"reports"})}),Object(he.jsx)(o.a,{exact:!0,path:"/reports/create-report",children:Object(he.jsx)(Zn,{route:"reports"})}),Object(he.jsx)(o.a,{exact:!0,path:"/reports/edit-report/:id",children:Object(he.jsx)(Zn,{route:"reports"})})]})}),Object(he.jsx)(o.a,{path:["/alerts"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/alerts",children:Object(he.jsx)(Jn,{route:"alerts"})})})}),Object(he.jsx)(o.a,{path:["/info"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/info",children:Object(he.jsx)(Qn,{route:"info"})})})}),("inspectionWorker"===localStorage.getItem("role")||"admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/inspection"],children:Object(he.jsxs)(o.c,{children:[Object(he.jsx)(o.a,{exact:!0,path:"/inspection",children:Object(he.jsx)(on,{route:"inspection"})}),Object(he.jsx)(o.a,{exact:!0,path:"/inspection/:id",children:Object(he.jsx)(un,{route:"inspection"})}),Object(he.jsx)(o.a,{exact:!0,path:"/inspection/machine-detail/:id",children:Object(he.jsx)(nn,{route:"inspection/machine-detail"})})]})}),!("inspectionWorker"===localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/inspection"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/inspection",children:Object(he.jsx)(ta,{route:"inspection"})})})}),("maintenceOperator"===localStorage.getItem("role")||"admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/maintenance"],children:Object(he.jsxs)(o.c,{children:[Object(he.jsx)(o.a,{exact:!0,path:"/maintenance",children:Object(he.jsx)(on,{route:"maintenance"})}),Object(he.jsx)(o.a,{exact:!0,path:"/maintenance/:id",children:Object(he.jsx)(un,{route:"maintenance"})}),Object(he.jsx)(o.a,{exact:!0,path:"/maintenance/machine-detail/:id",children:Object(he.jsx)(nn,{route:"maintenance/machine-detail"})})]})}),!("maintenceOperator"===localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/maintenance"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/maintenance",children:Object(he.jsx)(ta,{route:"maintenance"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/sites"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/sites",children:Object(he.jsx)(Vn,{route:"sites"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/sites"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/sites",children:Object(he.jsx)(ta,{route:"sites"})})})}),Object(he.jsx)(o.a,{path:["/maintance"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/maintance",children:Object(he.jsx)(Tn,{route:"maintance"})})})}),Object(he.jsx)(o.a,{path:["/configuration"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/configuration",children:Object(he.jsx)(qn,{route:"configuration"})})})}),Object(he.jsx)(o.a,{path:["/pauta-detail"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/pauta-detail/:id",children:Object(he.jsx)(ea,{route:"pauta-detail"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/administration"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/administration",children:Object(he.jsx)(Hn,{route:"administration"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/administration"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/administration",children:Object(he.jsx)(ta,{route:"administration"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/users"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/users",children:Object(he.jsx)(_n,{route:"users"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/users"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/users",children:Object(he.jsx)(ta,{route:"users"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/new-users"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/new-users",children:Object(he.jsx)($n,{route:"new-users"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&Object(he.jsx)(o.a,{path:["/new-users"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/new-users",children:Object(he.jsx)(ta,{route:"new-users"})})})}),Object(he.jsx)(o.a,{path:["/edit-user"],children:Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/edit-user/:id",children:Object(he.jsx)($n,{route:"edit-user"})})})}),Object(he.jsxs)(o.a,{path:["/activities"],children:[Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/activities/:id",children:Object(he.jsx)(aa,{route:"activities"})})}),Object(he.jsx)(o.c,{children:Object(he.jsx)(o.a,{exact:!0,path:"/activities",children:Object(he.jsx)(na,{route:"activities"})})})]})]})]})},la=function(){return Object(he.jsx)(l.a,{children:Object(he.jsx)(b.a,{client:sa,children:Object(he.jsx)(Oe,{children:Object(he.jsx)(we,{children:Object(he.jsx)(ke,{children:Object(he.jsxs)(m.a,{theme:w,children:[Object(he.jsx)(g.a,{}),Object(he.jsx)(oa,{})]})})})})})})},da=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ua(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ja=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,660)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};s.a.render(Object(he.jsx)(i.a.StrictMode,{children:Object(he.jsx)(la,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");da?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ua(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ua(t,e)}))}}({onUpdate:function(e){var t=e.waiting;t&&(t.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.location.reload()})),t.postMessage({type:"SKIP_WAITING"}))}}),ja()}},[[578,1,2]]]);
//# sourceMappingURL=main.7f35200d.chunk.js.map