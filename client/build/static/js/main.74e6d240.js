/*! For license information please see main.74e6d240.js.LICENSE.txt */
!function(){var e={3361:function(e,t,n){"use strict";n.d(t,{Z:function(){return ae}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),a=Math.abs,i=String.fromCharCode,o=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function f(e){return e.length}function p(e,t){return t.push(e),e}var m=1,v=1,g=0,y=0,b=0,x="";function w(e,t,n,r,a,i,o){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:m,column:v,length:o,return:""}}function k(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=y>0?c(x,--y):0,v--,10===b&&(v=1,m--),b}function T(){return b=y<g?c(x,y++):0,v++,10===b&&(v=1,m++),b}function E(){return c(x,y)}function C(){return y}function _(e,t){return d(x,e,t)}function M(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return m=v=1,g=h(x=e),y=0,[]}function I(e){return x="",e}function N(e){return s(_(y-1,D(91===e?e+2:40===e?e+1:e)))}function R(e){for(;(b=E())&&b<33;)T();return M(e)>2||M(b)>3?"":" "}function O(e,t){for(;--t&&T()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return _(e,C()+(t<6&&32==E()&&32==T()))}function D(e){for(;T();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&D(b);break;case 40:41===e&&D(e);break;case 92:T()}return y}function P(e,t){for(;T()&&e+b!==57&&(e+b!==84||47!==E()););return"/*"+_(t,y-1)+"*"+i(47===e?e:T())}function L(e){for(;!M(E());)T();return _(e,y)}var F="-ms-",j="-moz-",z="-webkit-",B="comm",U="rule",W="decl",Z="@keyframes";function V(e,t){for(var n="",r=f(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case W:return e.return=e.return||e.value;case B:return"";case Z:return e.return=e.value+"{"+V(e.children,r)+"}";case U:e.value=e.props.join(",")}return h(n=V(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e){return I(q("",null,null,null,[""],e=A(e),0,[0],e))}function q(e,t,n,r,a,o,s,d,f){for(var m=0,v=0,g=s,y=0,b=0,x=0,w=1,k=1,_=1,M=0,A="",I=a,D=o,F=r,j=A;k;)switch(x=M,M=T()){case 40:if(108!=x&&58==c(j,g-1)){-1!=u(j+=l(N(M),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:j+=N(M);break;case 9:case 10:case 13:case 32:j+=R(x);break;case 92:j+=O(C()-1,7);continue;case 47:switch(E()){case 42:case 47:p(Y(P(T(),C()),t,n),f);break;default:j+="/"}break;case 123*w:d[m++]=h(j)*_;case 125*w:case 59:case 0:switch(M){case 0:case 125:k=0;case 59+v:-1==_&&(j=l(j,/\f/g,"")),b>0&&h(j)-g&&p(b>32?K(j+";",r,n,g-1):K(l(j," ","")+";",r,n,g-2),f);break;case 59:j+=";";default:if(p(F=X(j,t,n,m,v,a,d,A,I=[],D=[],g),o),123===M)if(0===v)q(j,t,F,F,I,o,g,d,D);else switch(99===y&&110===c(j,3)?100:y){case 100:case 108:case 109:case 115:q(e,F,F,r&&p(X(e,F,F,0,0,a,d,A,a,I=[],g),D),a,D,g,d,r?I:D);break;default:q(j,F,F,F,[""],D,0,d,D)}}m=v=b=0,w=_=1,A=j="",g=s;break;case 58:g=1+h(j),b=x;default:if(w<1)if(123==M)--w;else if(125==M&&0==w++&&125==S())continue;switch(j+=i(M),M*w){case 38:_=v>0?1:(j+="\f",-1);break;case 44:d[m++]=(h(j)-1)*_,_=1;break;case 64:45===E()&&(j+=N(T())),y=E(),v=g=h(A=j+=L(C())),M++;break;case 45:45===x&&2==h(j)&&(w=0)}}return o}function X(e,t,n,r,i,o,u,c,h,p,m){for(var v=i-1,g=0===i?o:[""],y=f(g),b=0,x=0,k=0;b<r;++b)for(var S=0,T=d(e,v+1,v=a(x=u[b])),E=e;S<y;++S)(E=s(x>0?g[S]+" "+T:l(T,/&\f/g,g[S])))&&(h[k++]=E);return w(e,t,n,0===i?U:c,h,p,m)}function Y(e,t,n){return w(e,t,n,B,i(b),d(e,2,-2),0)}function K(e,t,n,r){return w(e,t,n,W,d(e,0,r),d(e,r+1,-1),r)}var J=function(e,t,n){for(var r=0,a=0;r=a,a=E(),38===r&&12===a&&(t[n]=1),!M(a);)T();return _(e,y)},$=function(e,t){return I(function(e,t){var n=-1,r=44;do{switch(M(r)){case 0:38===r&&12===E()&&(t[n]=1),e[n]+=J(y-1,t,n);break;case 2:e[n]+=N(r);break;case 4:if(44===r){e[++n]=58===E()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=T());return e}(A(e),t))},Q=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Q.get(n))&&!r){Q.set(e,!0);for(var a=[],i=$(t,a),o=n.props,s=0,l=0;s<i.length;s++)for(var u=0;u<o.length;u++,l++)e.props[l]=a[s]?i[s].replace(/&\f/g,o[u]):o[u]+" "+i[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+j+e+F+e+e;case 6828:case 4268:return z+e+F+e+e;case 6165:return z+e+F+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+F+"flex-$1$2")+e;case 5443:return z+e+F+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+F+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+F+l(e,"shrink","negative")+e;case 5292:return z+e+F+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+F+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+j+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,h(e)-3-(~u(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===c(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return z+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+F+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+F+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case W:e.return=ne(e.value,e.length);break;case Z:return V([k(e,{value:l(e.value,"@","@"+z)})],r);case U:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return V([k(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return V([k(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),k(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),k(e,{props:[l(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ae=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var a=e.stylisPlugins||re;var i,o,s={},l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var u,c,d=[H,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],h=function(e){var t=f(e);return function(n,r,a,i){for(var o="",s=0;s<t;s++)o+=e[s](n,r,a,i)||"";return o}}([ee,te].concat(a,d));o=function(e,t,n,r){u=n,V(G(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return p.sheet.hydrate(l),p}},9797:function(e,t,n){"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{Z:function(){return r}})},2564:function(e,t,n){"use strict";n.d(t,{T:function(){return l},i:function(){return i},w:function(){return s}});var r=n(2791),a=n(3361),i=(n(9140),n(2561),!0),o=r.createContext("undefined"!==typeof HTMLElement?(0,a.Z)({key:"css"}):null);o.Provider;var s=function(e){return(0,r.forwardRef)((function(t,n){var a=(0,r.useContext)(o);return e(t,a,n)}))};i||(s=function(e){return function(t){var n=(0,r.useContext)(o);return null===n?(n=(0,a.Z)({key:"css"}),r.createElement(o.Provider,{value:n},e(t,n))):e(t,n)}});var l=r.createContext({})},9140:function(e,t,n){"use strict";n.d(t,{O:function(){return p}});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(9797),i=/[A-Z]|^ms/g,o=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},u=(0,a.Z)((function(e){return s(e)?e:e.replace(i,"-$&").toLowerCase()})),c=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(o,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=d(e,t,n[a])+";";else for(var i in n){var o=n[i];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=i+"{"+t[o]+"}":l(o)&&(r+=u(i)+":"+c(i,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=d(e,t,o);switch(i){case"animation":case"animationName":r+=u(i)+":"+s+";";break;default:r+=i+"{"+s+"}"}}else for(var h=0;h<o.length;h++)l(o[h])&&(r+=u(i)+":"+c(i,o[h])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=h,i=n(e);return h=a,d(e,t,i)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var h,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var p=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";h=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,a+=d(n,t,i)):a+=i[0];for(var o=1;o<e.length;o++)a+=d(n,t,e[o]),r&&(a+=i[o]);f.lastIndex=0;for(var s,l="";null!==(s=f.exec(a));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+l;return{name:u,styles:a,next:h}}},2561:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return o},j:function(){return s}});var a=n(2791),i=!!(r||(r=n.t(a,2))).useInsertionEffect&&(r||(r=n.t(a,2))).useInsertionEffect,o=i||function(e){return e()},s=i||a.useLayoutEffect},5438:function(e,t,n){"use strict";n.d(t,{My:function(){return i},fp:function(){return r},hC:function(){return a}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var a=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){a(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},8384:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),i=n(184),o=(0,a.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.Z=o},6378:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var a=r(n(5649)),i=n(184),o=(0,a.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4421)},6532:function(e,t){"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference")},8457:function(e,t,n){"use strict";n(6532)},7107:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=n(7462),a=n(3366),i=n(6187),o=n(2466),s=n(5080),l=n(7416),u=n(104),c=n(4942);function d(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,c.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,c.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var h=n(2065),f={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},m={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},b={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},x={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},w=["mode","contrastThreshold","tonalOffset"],k={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},S={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function T(e,t,n,r){var a=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,h.$n)(e.main,a):"dark"===t&&(e.dark=(0,h._j)(e.main,i)))}function E(e){var t=e.mode,n=void 0===t?"light":t,s=e.contrastThreshold,l=void 0===s?3:s,u=e.tonalOffset,c=void 0===u?.2:u,d=(0,a.Z)(e,w),E=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[200],light:y[50],dark:y[400]}:{main:y[700],light:y[400],dark:y[800]}}(n),C=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[500],light:m[300],dark:m[700]}}(n),_=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[500],light:v[300],dark:v[700]}:{main:v[700],light:v[400],dark:v[800]}}(n),M=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[700],light:b[500],dark:b[900]}}(n),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:x[400],light:x[300],dark:x[700]}:{main:x[800],light:x[500],dark:x[900]}}(n),I=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:"#ed6c02",light:g[500],dark:g[900]}}(n);function N(e){return(0,h.mi)(e,S.text.primary)>=l?S.text.primary:k.text.primary}var R=function(e){var t=e.color,n=e.name,a=e.mainShade,o=void 0===a?500:a,s=e.lightShade,l=void 0===s?300:s,u=e.darkShade,d=void 0===u?700:u;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,i.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,i.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return T(t,"light",l,c),T(t,"dark",d,c),t.contrastText||(t.contrastText=N(t.main)),t},O={dark:S,light:k};return(0,o.Z)((0,r.Z)({common:(0,r.Z)({},f),mode:n,primary:R({color:E,name:"primary"}),secondary:R({color:C,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:_,name:"error"}),warning:R({color:I,name:"warning"}),info:R({color:M,name:"info"}),success:R({color:A,name:"success"}),grey:p,contrastThreshold:l,getContrastText:N,augmentColor:R,tonalOffset:c},O[n]),d)}var C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var _={textTransform:"uppercase"},M='"Roboto", "Helvetica", "Arial", sans-serif';function A(e,t){var n="function"===typeof t?t(e):t,i=n.fontFamily,s=void 0===i?M:i,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,d=void 0===c?300:c,h=n.fontWeightRegular,f=void 0===h?400:h,p=n.fontWeightMedium,m=void 0===p?500:p,v=n.fontWeightBold,g=void 0===v?700:v,y=n.htmlFontSize,b=void 0===y?16:y,x=n.allVariants,w=n.pxToRem,k=(0,a.Z)(n,C);var S=u/14,T=w||function(e){return"".concat(e/b*S,"rem")},E=function(e,t,n,a,i){return(0,r.Z)({fontFamily:s,fontWeight:e,fontSize:T(t),lineHeight:n},s===M?{letterSpacing:"".concat((o=a/t,Math.round(1e5*o)/1e5),"em")}:{},i,x);var o},A={h1:E(d,96,1.167,-1.5),h2:E(d,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(m,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(m,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(m,14,1.75,.4,_),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,_),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,o.Z)((0,r.Z)({htmlFontSize:b,pxToRem:T,fontFamily:s,fontSize:u,fontWeightLight:d,fontWeightRegular:f,fontWeightMedium:m,fontWeightBold:g},A),k,{clone:!1})}function I(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var N=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)],R=["duration","easing","delay"],O={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function P(e){return"".concat(Math.round(e),"ms")}function L(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function F(e){var t=(0,r.Z)({},O,e.easing),n=(0,r.Z)({},D,e.duration);return(0,r.Z)({getAutoHeightDuration:L,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,o=void 0===i?n.standard:i,s=r.easing,l=void 0===s?t.easeInOut:s,u=r.delay,c=void 0===u?0:u;(0,a.Z)(r,R);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:P(o)," ").concat(l," ").concat("string"===typeof c?c:P(c))})).join(",")}},e,{easing:t,duration:n})}var j={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},z=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,c=e.palette,h=void 0===c?{}:c,f=e.transitions,p=void 0===f?{}:f,m=e.typography,v=void 0===m?{}:m,g=(0,a.Z)(e,z);if(e.vars)throw new Error((0,i.Z)(18));var y=E(h),b=(0,s.Z)(e),x=(0,o.Z)(b,{mixins:d(b.breakpoints,n),palette:y,shadows:N.slice(),typography:A(y,v),transitions:F(p),zIndex:(0,r.Z)({},j)});x=(0,o.Z)(x,g);for(var w=arguments.length,k=new Array(w>1?w-1:0),S=1;S<w;S++)k[S-1]=arguments[S];return(x=k.reduce((function(e,t){return(0,o.Z)(e,t)}),x)).unstable_sxConfig=(0,r.Z)({},l.Z,null==g?void 0:g.unstable_sxConfig),x.unstable_sx=function(e){return(0,u.Z)({sx:e,theme:this})},x}var U=B},6482:function(e,t,n){"use strict";var r=(0,n(7107).Z)();t.Z=r},988:function(e,t){"use strict";t.Z="$$material"},7630:function(e,t,n){"use strict";n.d(t,{ZP:function(){return _},FO:function(){return T},Dz:function(){return E}});var r=n(9439),a=n(3433),i=n(3366),o=n(7462),s=n(2421),l=n(2466),u=n(5080),c=n(1122),d=["variant"];function h(e){return 0===e.length}function f(e){var t=e.variant,n=(0,i.Z)(e,d),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?h(r)?e[t]:(0,c.Z)(e[t]):"".concat(h(r)?t:(0,c.Z)(t)).concat((0,c.Z)(e[t].toString()))})),r}var p=n(104),m=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];var v=function(e){var t=0,n={};return e&&e.forEach((function(e){var r="";"function"===typeof e.props?(r="callback".concat(t),t+=1):r=f(e.props),n[r]=e.style})),n},g=function(e,t,n){var r=e.ownerState,a=void 0===r?{}:r,i=[],s=0;return n&&n.forEach((function(n){var r=!0;if("function"===typeof n.props){var l=(0,o.Z)({},e,a);r=n.props(l)}else Object.keys(n.props).forEach((function(t){a[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)}));r&&("function"===typeof n.props?i.push(t["callback".concat(s)]):i.push(t[f(n.props)])),"function"===typeof n.props&&(s+=1)})),i};function y(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var b=(0,u.Z)();function x(e){var t,n=e.defaultTheme,r=e.theme,a=e.themeId;return t=r,0===Object.keys(t).length?n:r[a]||r}var w=function(e){var t,n=e.styledArg,r=e.props,i=e.defaultTheme,s=e.themeId,l=n((0,o.Z)({},r,{theme:x((0,o.Z)({},r,{defaultTheme:i,themeId:s}))}));if(l&&l.variants&&(t=l.variants,delete l.variants),t){var u=g(r,v(t),t);return[l].concat((0,a.Z)(u))}return l};var k=n(6482),S=n(988),T=function(e){return y(e)&&"classes"!==e},E=y,C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,u=void 0===n?b:n,c=e.rootShouldForwardProp,d=void 0===c?y:c,h=e.slotShouldForwardProp,f=void 0===h?y:h,k=function(e){return(0,p.Z)((0,o.Z)({},e,{theme:x((0,o.Z)({},e,{defaultTheme:u,themeId:t}))}))};return k.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.Co)(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var c,h,p=n.name,b=n.slot,S=n.skipVariantsResolver,T=n.skipSx,E=n.overridesResolver,C=void 0===E?(c=(h=b)?h.charAt(0).toLowerCase()+h.slice(1):h)?function(e,t){return t[c]}:null:E,_=(0,i.Z)(n,m),M=void 0!==S?S:b&&"Root"!==b&&"root"!==b||!1,A=T||!1;var I=y;"Root"===b||"root"===b?I=d:b?I=f:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(I=void 0);var N=(0,s.ZP)(e,(0,o.Z)({shouldForwardProp:I,label:undefined},_)),R=function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];var d,h=s?s.map((function(e){if("function"===typeof e&&e.__emotion_real!==e)return function(n){return w({styledArg:e,props:n,defaultTheme:u,themeId:t})};if((0,l.P)(e)){var n,r=e;return e&&e.variants&&(n=e.variants,delete r.variants,r=function(t){var r=e;return g(t,v(n),n).forEach((function(e){r=(0,l.Z)(r,e)})),r}),r}return e})):[],f=n;(0,l.P)(n)?n&&n.variants&&(d=n.variants,delete f.variants,f=function(e){var t=n;return g(e,v(d),d).forEach((function(e){t=(0,l.Z)(t,e)})),t}):"function"===typeof n&&n.__emotion_real!==n&&(f=function(e){return w({styledArg:n,props:e,defaultTheme:u,themeId:t})});p&&C&&h.push((function(e){var n=x((0,o.Z)({},e,{defaultTheme:u,themeId:t})),a=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(p,n);if(a){var i={};return Object.entries(a).forEach((function(t){var a=(0,r.Z)(t,2),s=a[0],l=a[1];i[s]="function"===typeof l?l((0,o.Z)({},e,{theme:n})):l})),C(e,i)}return null})),p&&!M&&h.push((function(e){var n=x((0,o.Z)({},e,{defaultTheme:u,themeId:t}));return function(e,t,n,r){var a,i=null==n||null==(a=n.components)||null==(a=a[r])?void 0:a.variants;return g(e,t,i)}(e,function(e,t){var n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),v(n)}(p,n),n,p)})),A||h.push(k);var m=h.length-s.length;if(Array.isArray(n)&&m>0){var y=new Array(m).fill("");(f=[].concat((0,a.Z)(n),(0,a.Z)(y))).raw=[].concat((0,a.Z)(n.raw),(0,a.Z)(y))}var b=N.apply(void 0,[f].concat((0,a.Z)(h)));return e.muiName&&(b.muiName=e.muiName),b};return N.withConfig&&(R.withConfig=N.withConfig),R}}({themeId:S.Z,defaultTheme:k.Z,rootShouldForwardProp:T}),_=C},3736:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(3073),a=n(418);var i=n(6482),o=n(988);function s(e){return function(e){var t=e.props,n=e.name,i=e.defaultTheme,o=e.themeId,s=(0,a.Z)(i);return o&&(s=s[o]||s),(0,r.Z)({theme:s,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:i.Z,themeId:o.Z})}},4036:function(e,t,n){"use strict";var r=n(1122);t.Z=r.Z},6189:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(7462),a=n(2791),i=n(3366),o=n(8182),s=n(4419),l=n(4036),u=n(3736),c=n(7630),d=n(5878),h=n(1217);function f(e){return(0,h.Z)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184),m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],v=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,l.Z)(n.color))],t["fontSize".concat((0,l.Z)(n.fontSize))]]}})((function(e){var t,n,r,a,i,o,s,l,u,c,d,h,f,p,m,v,g,y=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(a=r.duration)?void 0:a.shorter}),fontSize:{inherit:"inherit",small:(null==(i=y.typography)||null==(o=i.pxToRem)?void 0:o.call(i,20))||"1.25rem",medium:(null==(s=y.typography)||null==(l=s.pxToRem)?void 0:l.call(s,24))||"1.5rem",large:(null==(u=y.typography)||null==(c=u.pxToRem)?void 0:c.call(u,35))||"2.1875rem"}[b.fontSize],color:null!=(d=null==(h=(y.vars||y).palette)||null==(f=h[b.color])?void 0:f.main)?d:{action:null==(p=(y.vars||y).palette)||null==(m=p.action)?void 0:m.active,disabled:null==(v=(y.vars||y).palette)||null==(g=v.action)?void 0:g.disabled,inherit:void 0}[b.color]}})),g=a.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiSvgIcon"}),a=n.children,c=n.className,d=n.color,h=void 0===d?"inherit":d,g=n.component,y=void 0===g?"svg":g,b=n.fontSize,x=void 0===b?"medium":b,w=n.htmlColor,k=n.inheritViewBox,S=void 0!==k&&k,T=n.titleAccess,E=n.viewBox,C=void 0===E?"0 0 24 24":E,_=(0,i.Z)(n,m),M=(0,r.Z)({},n,{color:h,component:y,fontSize:x,instanceFontSize:e.fontSize,inheritViewBox:S,viewBox:C}),A={};S||(A.viewBox=C);var I=function(e){var t=e.color,n=e.fontSize,r=e.classes,a={root:["root","inherit"!==t&&"color".concat((0,l.Z)(t)),"fontSize".concat((0,l.Z)(n))]};return(0,s.Z)(a,f,r)}(M);return(0,p.jsxs)(v,(0,r.Z)({as:y,className:(0,o.Z)(I.root,c),focusable:"false",color:w,"aria-hidden":!T||void 0,role:T?"img":void 0,ref:t},A,_,{ownerState:M,children:[a,T?(0,p.jsx)("title",{children:T}):null]}))}));g.muiName="SvgIcon";var y=g;function b(e,t){function n(n,a){return(0,p.jsx)(y,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:a},n,{children:e}))}return n.muiName=y.muiName,a.memo(a.forwardRef(n))}},3199:function(e,t,n){"use strict";var r=n(2254);t.Z=r.Z},4421:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return a.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return o.Z},debounce:function(){return s.Z},deprecatedPropType:function(){return l},isMuiElement:function(){return u.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return h},setRef:function(){return f},unstable_ClassNameGenerator:function(){return w},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return m.Z},unsupportedProp:function(){return v},useControlled:function(){return g.Z},useEventCallback:function(){return y.Z},useForkRef:function(){return b.Z},useIsFocusVisible:function(){return x.Z}});var r=n(5902),a=n(4036),i=n(8949).Z,o=n(6189),s=n(3199);var l=function(e,t){return function(){return null}},u=n(9103),c=n(8301),d=n(7602);n(7462);var h=function(e,t){return function(){return null}},f=n(2971).Z,p=n(162),m=n(7384);var v=function(e,t,n,r,a){return null},g=n(5158),y=n(9683),b=n(2071),x=n(3031),w={configure:function(e){r.Z.configure(e)}}},9103:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791);var a=function(e,t){var n,a;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(a=e.type)||null==(a=a._payload)||null==(a=a.value)?void 0:a.muiName)}},8301:function(e,t,n){"use strict";var r=n(4913);t.Z=r.Z},7602:function(e,t,n){"use strict";var r=n(5202);t.Z=r.Z},5158:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9439),a=n(2791);var i=function(e){var t=e.controlled,n=e.default,i=(e.name,e.state,a.useRef(void 0!==t).current),o=a.useState(n),s=(0,r.Z)(o,2),l=s[0],u=s[1];return[i?t:l,a.useCallback((function(e){i||u(e)}),[])]}},162:function(e,t,n){"use strict";var r=n(2876);t.Z=r.Z},9683:function(e,t,n){"use strict";var r=n(7054);t.Z=r.Z},2071:function(e,t,n){"use strict";var r=n(6117);t.Z=r.Z},7384:function(e,t,n){"use strict";var r=n(8252);t.Z=r.Z},3031:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r,a=n(2791),i=!0,o=!1,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function u(){i=!1}function c(){"hidden"===this.visibilityState&&o&&(i=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var h=function(){var e=a.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",c,!0))}),[]),t=a.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},2421:function(e,t,n){"use strict";n.d(t,{ZP:function(){return y},Co:function(){return b}});var r=n(7462),a=n(2791),i=n(9797),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=(0,i.Z)((function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(2564),u=n(5438),c=n(9140),d=n(2561),h=s,f=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:f},m=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},v=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,u.hC)(t,n,r),(0,d.L)((function(){return(0,u.My)(t,n,r)})),null},g=function e(t,n){var i,o,s=t.__emotion_real===t,d=s&&t.__emotion_base||t;void 0!==n&&(i=n.label,o=n.target);var h=m(t,n,s),f=h||p(d),g=!f("as");return function(){var y=arguments,b=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&b.push("label:"+i+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{0,b.push(y[0][0]);for(var x=y.length,w=1;w<x;w++)b.push(y[w],y[0][w])}var k=(0,l.w)((function(e,t,n){var r=g&&e.as||d,i="",s=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=a.useContext(l.T)}"string"===typeof e.className?i=(0,u.fp)(t.registered,s,e.className):null!=e.className&&(i=e.className+" ");var x=(0,c.O)(b.concat(s),t.registered,m);i+=t.key+"-"+x.name,void 0!==o&&(i+=" "+o);var w=g&&void 0===h?p(r):f,k={};for(var S in e)g&&"as"===S||w(S)&&(k[S]=e[S]);return k.className=i,k.ref=n,a.createElement(a.Fragment,null,a.createElement(v,{cache:t,serialized:x,isStringTag:"string"===typeof r}),a.createElement(r,k))}));return k.displayName=void 0!==i?i:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",k.defaultProps=t.defaultProps,k.__emotion_real=k,k.__emotion_base=d,k.__emotion_styles=b,k.__emotion_forwardProp=h,Object.defineProperty(k,"toString",{value:function(){return"."+o}}),k.withComponent=function(t,a){return e(t,(0,r.Z)({},n,a,{shouldForwardProp:m(k,a,!0)})).apply(void 0,b)},k}}.bind();function y(e,t){return g(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var b=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return s},P$:function(){return l},VO:function(){return r},W8:function(){return o},k9:function(){return i}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function i(e,t,n){var i=e.theme||{};if(Array.isArray(t)){var o=i.breakpoints||a;return t.reduce((function(e,r,a){return e[o.up(o.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var s=i.breakpoints||a;return Object.keys(t).reduce((function(e,a){if(-1!==Object.keys(s.values||r).indexOf(a)){e[s.up(a)]=n(t[a],a)}else{var i=a;e[i]=t[i]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function s(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function l(e){var t,n=e.values,r=e.breakpoints,a=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),i=Object.keys(a);return 0===i.length?n:i.reduce((function(e,r,a){return Array.isArray(n)?(e[r]=null!=n[a]?n[a]:n[t],t=a):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e}),{})}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return d},Fq:function(){return u},_j:function(){return c},mi:function(){return l}});var r=n(6187);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var a,o=e.substring(t+1,e.length-1);if("color"===n){if(a=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a))throw new Error((0,r.Z)(10,a))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:a}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function s(e){var t="hsl"===(e=i(e)).type||"hsla"===e.type?i(function(e){var t=(e=i(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,s=r*Math.min(a,1-a),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),o({type:u,values:c})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e,t){return e=i(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function c(e,t){if(e=i(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function d(e,t){if(e=i(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7462),a=n(3366),i=n(2466),o=n(4942),s=["values","unit","step"],l=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})};var u={borderRadius:4},c=n(5682);var d=n(104),h=n(7416),f=["breakpoints","palette","spacing","shape"];var p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,p=void 0===o?{}:o,m=e.spacing,v=e.shape,g=void 0===v?{}:v,y=(0,a.Z)(e,f),b=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,i=e.unit,o=void 0===i?"px":i,u=e.step,c=void 0===u?5:u,d=(0,a.Z)(e,s),h=l(n),f=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function m(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(o,")")}function v(e,t){var r=f.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[f[r]]?n[f[r]]:t)-c/100).concat(o,")")}return(0,r.Z)({keys:f,values:h,up:p,down:m,between:v,only:function(e){return f.indexOf(e)+1<f.length?v(e,f[f.indexOf(e)+1]):p(e)},not:function(e){var t=f.indexOf(e);return 0===t?p(f[1]):t===f.length-1?m(f[t]):v(e,f[f.indexOf(e)+1]).replace("@media","@media not all and")},unit:o},d)}(n),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,c.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(m),w=(0,i.Z)({breakpoints:b,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},p),spacing:x,shape:(0,r.Z)({},u,g)},y),k=arguments.length,S=new Array(k>1?k-1:0),T=1;T<k;T++)S[T-1]=arguments[T];return(w=S.reduce((function(e,t){return(0,i.Z)(e,t)}),w)).unstable_sxConfig=(0,r.Z)({},h.Z,null==y?void 0:y.unstable_sxConfig),w.unstable_sx=function(e){return(0,d.Z)({sx:e,theme:this})},w}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return m},eI:function(){return p},NA:function(){return v},e6:function(){return b},o3:function(){return x}});var r=n(9439),a=n(1184),i=n(8529),o=n(8247);var s={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t=e.split(""),n=(0,r.Z)(t,2),a=n[0],i=n[1],o=s[a],c=l[i]||"";return Array.isArray(c)?c.map((function(e){return o+e})):[o+c]})),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],f=[].concat(d,h);function p(e,t,n,r){var a,o=null!=(a=(0,i.DW)(e,t,!1))?a:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function m(e){return p(e,"spacing",8)}function v(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=v(t,n),e}),{})}}(c(n),r),o=e[n];return(0,a.k9)(e,o,i)}function y(e,t){var n=m(e.theme);return Object.keys(e).map((function(r){return g(e,t,r,n)})).reduce(o.Z,{})}function b(e){return y(e,d)}function x(e){return y(e,h)}function w(e){return y(e,f)}b.propTypes={},b.filterProps=d,x.propTypes={},x.filterProps=h,w.propTypes={},w.filterProps=f},8529:function(e,t,n){"use strict";n.d(t,{DW:function(){return o},Jq:function(){return s}});var r=n(4942),a=n(1122),i=n(1184);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function s(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||a:o(e,n)||a,t&&(r=t(r,a,e)),r}t.ZP=function(e){var t=e.prop,n=e.cssProperty,l=void 0===n?e.prop:n,u=e.themeKey,c=e.transform,d=function(e){if(null==e[t])return null;var n=e[t],d=o(e.theme,u)||{};return(0,i.k9)(e,n,(function(e){var n=s(d,c,e);return e===n&&"string"===typeof e&&(n=s(d,c,"".concat(t).concat("default"===e?"":(0,a.Z)(e)),e)),!1===l?n:(0,r.Z)({},l,n)}))};return d.propTypes={},d.filterProps=[t],d}},7416:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(5682),a=n(8529),i=n(8247);var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),a=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,i.Z)(t,r[n](e)):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a},s=n(1184);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function u(e,t){return(0,a.ZP)({prop:e,themeKey:"borders",transform:t})}var c=u("border",l),d=u("borderTop",l),h=u("borderRight",l),f=u("borderBottom",l),p=u("borderLeft",l),m=u("borderColor"),v=u("borderTopColor"),g=u("borderRightColor"),y=u("borderBottomColor"),b=u("borderLeftColor"),x=u("outline",l),w=u("outlineColor"),k=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,r.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,s.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,r.NA)(t,e)}}))}return null};k.propTypes={},k.filterProps=["borderRadius"];o(c,d,h,f,p,m,v,g,y,b,k,x,w);var S=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,r.eI)(e.theme,"spacing",8,"gap");return(0,s.k9)(e,e.gap,(function(e){return{gap:(0,r.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["gap"];var T=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,r.eI)(e.theme,"spacing",8,"columnGap");return(0,s.k9)(e,e.columnGap,(function(e){return{columnGap:(0,r.NA)(t,e)}}))}return null};T.propTypes={},T.filterProps=["columnGap"];var E=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,r.eI)(e.theme,"spacing",8,"rowGap");return(0,s.k9)(e,e.rowGap,(function(e){return{rowGap:(0,r.NA)(t,e)}}))}return null};E.propTypes={},E.filterProps=["rowGap"];o(S,T,E,(0,a.ZP)({prop:"gridColumn"}),(0,a.ZP)({prop:"gridRow"}),(0,a.ZP)({prop:"gridAutoFlow"}),(0,a.ZP)({prop:"gridAutoColumns"}),(0,a.ZP)({prop:"gridAutoRows"}),(0,a.ZP)({prop:"gridTemplateColumns"}),(0,a.ZP)({prop:"gridTemplateRows"}),(0,a.ZP)({prop:"gridTemplateAreas"}),(0,a.ZP)({prop:"gridArea"}));function C(e,t){return"grey"===t?t:e}o((0,a.ZP)({prop:"color",themeKey:"palette",transform:C}),(0,a.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:C}),(0,a.ZP)({prop:"backgroundColor",themeKey:"palette",transform:C}));function _(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var M=(0,a.ZP)({prop:"width",transform:_}),A=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,s.k9)(e,e.maxWidth,(function(t){var n,r,a=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||s.VO[t];return a?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(a).concat(e.theme.breakpoints.unit)}:{maxWidth:a}:{maxWidth:_(t)}}))}return null};A.filterProps=["maxWidth"];var I=(0,a.ZP)({prop:"minWidth",transform:_}),N=(0,a.ZP)({prop:"height",transform:_}),R=(0,a.ZP)({prop:"maxHeight",transform:_}),O=(0,a.ZP)({prop:"minHeight",transform:_}),D=((0,a.ZP)({prop:"size",cssProperty:"width",transform:_}),(0,a.ZP)({prop:"size",cssProperty:"height",transform:_}),o(M,A,I,N,R,O,(0,a.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:k},color:{themeKey:"palette",transform:C},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:C},backgroundColor:{themeKey:"palette",transform:C},p:{style:r.o3},pt:{style:r.o3},pr:{style:r.o3},pb:{style:r.o3},pl:{style:r.o3},px:{style:r.o3},py:{style:r.o3},padding:{style:r.o3},paddingTop:{style:r.o3},paddingRight:{style:r.o3},paddingBottom:{style:r.o3},paddingLeft:{style:r.o3},paddingX:{style:r.o3},paddingY:{style:r.o3},paddingInline:{style:r.o3},paddingInlineStart:{style:r.o3},paddingInlineEnd:{style:r.o3},paddingBlock:{style:r.o3},paddingBlockStart:{style:r.o3},paddingBlockEnd:{style:r.o3},m:{style:r.e6},mt:{style:r.e6},mr:{style:r.e6},mb:{style:r.e6},ml:{style:r.e6},mx:{style:r.e6},my:{style:r.e6},margin:{style:r.e6},marginTop:{style:r.e6},marginRight:{style:r.e6},marginBottom:{style:r.e6},marginLeft:{style:r.e6},marginX:{style:r.e6},marginY:{style:r.e6},marginInline:{style:r.e6},marginInlineStart:{style:r.e6},marginInlineEnd:{style:r.e6},marginBlock:{style:r.e6},marginBlockStart:{style:r.e6},marginBlockEnd:{style:r.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:S},rowGap:{style:E},columnGap:{style:T},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_},maxWidth:{style:A},minWidth:{transform:_},height:{transform:_},maxHeight:{transform:_},minHeight:{transform:_},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},104:function(e,t,n){"use strict";var r=n(4942),a=n(1122),i=n(8247),o=n(8529),s=n(1184),l=n(7416);var u=function(){function e(e,t,n,i){var l,u=(l={},(0,r.Z)(l,e,t),(0,r.Z)(l,"theme",n),l),c=i[e];if(!c)return(0,r.Z)({},e,t);var d=c.cssProperty,h=void 0===d?e:d,f=c.themeKey,p=c.transform,m=c.style;if(null==t)return null;if("typography"===f&&"inherit"===t)return(0,r.Z)({},e,t);var v=(0,o.DW)(n,f)||{};if(m)return m(u);return(0,s.k9)(u,t,(function(t){var n=(0,o.Jq)(v,p,t);return t===n&&"string"===typeof t&&(n=(0,o.Jq)(v,p,"".concat(e).concat("default"===t?"":(0,a.Z)(t)),t)),!1===h?n:(0,r.Z)({},h,n)}))}return function t(n){var a,o=n||{},u=o.sx,c=o.theme,d=void 0===c?{}:c;if(!u)return null;var h=null!=(a=d.unstable_sxConfig)?a:l.Z;function f(n){var a=n;if("function"===typeof n)a=n(d);else if("object"!==typeof n)return n;if(!a)return null;var o=(0,s.W8)(d.breakpoints),l=Object.keys(o),u=o;return Object.keys(a).forEach((function(n){var o,l,c=(o=a[n],l=d,"function"===typeof o?o(l):o);if(null!==c&&void 0!==c)if("object"===typeof c)if(h[n])u=(0,i.Z)(u,e(n,c,d,h));else{var f=(0,s.k9)({theme:d},c,(function(e){return(0,r.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),a=new Set(r);return t.every((function(e){return a.size===Object.keys(e).length}))}(f,c)?u=(0,i.Z)(u,f):u[n]=t({sx:c,theme:d})}else u=(0,i.Z)(u,e(n,c,d,h))})),(0,s.L7)(l,u)}return Array.isArray(u)?u.map(f):f(u)}}();u.filterProps=["sx"],t.Z=u},418:function(e,t,n){"use strict";var r=n(5080),a=n(9120),i=(0,r.Z)();t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return(0,a.Z)(e)}},3073:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5735);function a(e){var t=e.theme,n=e.name,a=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,a):a}},9120:function(e,t,n){"use strict";var r=n(2791),a=n(2564);t.Z=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=r.useContext(a.T);return n&&(e=n,0!==Object.keys(e).length)?n:t}},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},1122:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(6187);function a(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(a){r[a]=e[a].reduce((function(e,r){if(r){var a=t(r);""!==a&&e.push(a),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},8949:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},2254:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,i)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{P:function(){return a},Z:function(){return o}});var r=n(7462);function a(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function i(e){if(!a(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=i(e[n])})),t}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},s=n.clone?(0,r.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e&&a(e[r])?s[r]=o(e[r],t[r],n):n.clone?s[r]=a(t[r])?i(t[r]):t[r]:s[r]=t[r])})),s}},6187:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5902),a={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i=a[t];return i?"".concat(n,"-").concat(i):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1217);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a={};return t.forEach((function(t){a[t]=(0,r.Z)(e,t,n)})),a}},4913:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},5202:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4913);function a(e){return(0,r.Z)(e).defaultView||window}},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7462);function a(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(i){if(i.toString().match(/^(components|slots)$/))n[i]=(0,r.Z)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){var o=e[i]||{},s=t[i];n[i]={},s&&Object.keys(s)?o&&Object.keys(o)?(n[i]=(0,r.Z)({},s),Object.keys(o).forEach((function(e){n[i][e]=a(o[e],s[e])}))):n[i]=s:n[i]=o}else void 0===n[i]&&(n[i]=e[i])})),n}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},2876:function(e,t,n){"use strict";var r=n(2791),a="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=a},7054:function(e,t,n){"use strict";var r=n(2791),a=n(2876);t.Z=function(e){var t=r.useRef(e);return(0,a.Z)((function(){t.current=e})),r.useRef((function(){return t.current.apply(void 0,arguments)})).current}},6117:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791),a=n(2971);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,a.Z)(t,e)}))}}),t)}},8252:function(e,t,n){"use strict";var r;n.d(t,{Z:function(){return l}});var a=n(9439),i=n(2791),o=0;var s=(r||(r=n.t(i,2)))["useId".toString()];function l(e){if(void 0!==s){var t=s();return null!=e?e:t}return function(e){var t=i.useState(e),n=(0,a.Z)(t,2),r=n[0],s=n[1],l=e||r;return i.useEffect((function(){null==r&&s("mui-".concat(o+=1))}),[r]),l}(e)}},3529:function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}t.Q=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},n.prototype.emitReserved=n.prototype.emit,n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),a=n(7297),i=n(9301),o=n(9774),s=n(1804),l=n(9145),u=n(5411),c=n(6467);e.exports=function(e){return new Promise((function(t,n){var d=e.data,h=e.headers;r.isFormData(d)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(p+":"+m)}var v=s(e.baseURL,e.url);if(f.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?l(f.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};a(t,n,i),f=null}},f.onabort=function(){f&&(n(c("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(c("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var g=(e.withCredentials||u(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;g&&(h[e.xsrfHeaderName]=g)}if("setRequestHeader"in f&&r.forEach(h,(function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete h[t]:f.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),e.responseType)try{f.responseType=e.responseType}catch(y){if("json"!==e.responseType)throw y}"function"===typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),n(e),f=null)})),d||(d=null),f.send(d)}))}},8036:function(e,t,n){"use strict";var r=n(3589),a=n(4049),i=n(3773),o=n(777);function s(e){var t=new i(e),n=a(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var l=s(n(221));l.Axios=i,l.create=function(e){return s(o(l.defaults,e))},l.Cancel=n(9346),l.CancelToken=n(6857),l.isCancel=n(5517),l.all=function(e){return Promise.all(e)},l.spread=n(8089),l.isAxiosError=n(9580),e.exports=l,e.exports.default=l},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function a(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),a=n(9774),i=n(7470),o=n(2733),s=n(777);function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},1804:function(e,t,n){"use strict";var r=n(4044),a=n(9549);e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,a,i){var o=new Error(e);return r(o,t,n,a,i)}},2733:function(e,t,n){"use strict";var r=n(3589),a=n(2693),i=n(5517),o=n(221);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=a(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={},a=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=l(void 0,e[a])):n[a]=l(e[a],t[a])}r.forEach(a,(function(e){r.isUndefined(t[e])||(n[e]=l(void 0,t[e]))})),r.forEach(i,u),r.forEach(o,(function(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=l(void 0,e[a])):n[a]=l(void 0,t[a])})),r.forEach(s,(function(r){r in t?n[r]=l(e[r],t[r]):r in e&&(n[r]=l(void 0,e[r]))}));var c=a.concat(i).concat(o).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return r.forEach(d,u),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),a=n(4341),i={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(i)})),e.exports=s},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(a(t)+"="+a(e))})))})),i=o.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(a)&&s.push("path="+a),r.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9580:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(o[t]&&a.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},3589:function(e,t,n){"use strict";var r=n(4049),a=Object.prototype.toString;function i(e){return"[object Array]"===a.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function l(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===a.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:l,isUndefined:o,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,a=arguments.length;r<a;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,a){e[a]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},8077:function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},8182:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.Z=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},5827:function(e){e.exports=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s={exports:{}};!function(e){"undefined"!==typeof window&&function(t){var n=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,r=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),a=r&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),i=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(r||i)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,n,s,l,u,c,d,h,f;if(!(t=e.match(o)))throw new Error("invalid data URI");for(n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),s=!!t[4],l=e.slice(t[0].length),u=s?atob(l):decodeURIComponent(l),c=new ArrayBuffer(u.length),d=new Uint8Array(c),h=0;h<u.length;h+=1)d[h]=u.charCodeAt(h);return r?new Blob([a?d:c],{type:n}):((f=new i).append(c),f.getBlob(n))};t.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(e,t,r){var a=this;setTimeout((function(){r&&n.toDataURL&&s?e(s(a.toDataURL(t,r))):e(a.mozGetAsFile("blob",t))}))}:n.toDataURL&&s&&(n.msToBlob?n.toBlob=function(e,t,r){var a=this;setTimeout((function(){(t&&"image/png"!==t||r)&&n.toDataURL&&s?e(s(a.toDataURL(t,r))):e(a.msToBlob(t))}))}:n.toBlob=function(e,t,n){var r=this;setTimeout((function(){e(s(r.toDataURL(t,n)))}))})),e.exports?e.exports=s:t.dataURLtoBlob=s}(window)}(s);var l=s.exports,u=function(e){return"undefined"!==typeof Blob&&(e instanceof Blob||"[object Blob]"===Object.prototype.toString.call(e))},c={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},d="undefined"!==typeof window&&"undefined"!==typeof window.document?window:{},h=function(e){return e>0&&e<1/0},f=Array.prototype.slice;function p(e){return Array.from?Array.from(e):f.call(e)}var m=/^image\/.+$/;function v(e){return m.test(e)}function g(e){var t=v(e)?e.substr(6):"";return"jpeg"===t&&(t="jpg"),".".concat(t)}var y=String.fromCharCode;function b(e,t,n){var r,a="";for(n+=t,r=t;r<n;r+=1)a+=y(e.getUint8(r));return a}var x=d.btoa;function w(e,t){for(var n=[],r=8192,a=new Uint8Array(e);a.length>0;)n.push(y.apply(null,p(a.subarray(0,r)))),a=a.subarray(r);return"data:".concat(t,";base64,").concat(x(n.join("")))}function k(e){var t,n=new DataView(e);try{var r,a,i;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var o=n.byteLength,s=2;s+1<o;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){a=s;break}s+=1}if(a){var l=a+10;if("Exif"===b(n,a+4,4)){var u=n.getUint16(l);if(((r=18761===u)||19789===u)&&42===n.getUint16(l+2,r)){var c=n.getUint32(l+4,r);c>=8&&(i=l+c)}}}if(i){var d,h,f=n.getUint16(i,r);for(h=0;h<f;h+=1)if(d=i+12*h+2,274===n.getUint16(d,r)){d+=8,t=n.getUint16(d,r),n.setUint16(d,1,r);break}}}catch(p){t=1}return t}function S(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:r}}var T=/\.\d*(?:0|9){12}\d*$/;function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return T.test(e)?Math.round(e*t)/t:e}function C(e){var t=e.aspectRatio,n=e.height,r=e.width,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",i=h(r),o=h(n);if(i&&o){var s=n*t;("contain"===a||"none"===a)&&s>r||"cover"===a&&s<r?n=r/t:r=n*t}else i?n=r/t:o&&(r=n*t);return{width:r,height:n}}var _=d.ArrayBuffer,M=d.FileReader,A=d.URL||d.webkitURL,I=/\.\w+$/,N=d.Compressor;return function(){function e(r,a){n(this,e),this.file=r,this.image=new Image,this.options=t(t({},c),a),this.aborted=!1,this.result=null,this.init()}return a(e,[{key:"init",value:function(){var e=this,t=this.file,n=this.options;if(u(t)){var r=t.type;if(v(r))if(A&&M)if(_||(n.checkOrientation=!1),A&&!n.checkOrientation)this.load({url:A.createObjectURL(t)});else{var a=new M,i=n.checkOrientation&&"image/jpeg"===r;this.reader=a,a.onload=function(n){var a=n.target.result,s={};if(i){var l=k(a);l>1||!A?(s.url=w(a,r),l>1&&o(s,S(l))):s.url=A.createObjectURL(t)}else s.url=a;e.load(s)},a.onabort=function(){e.fail(new Error("Aborted to read the image with FileReader."))},a.onerror=function(){e.fail(new Error("Failed to read the image with FileReader."))},a.onloadend=function(){e.reader=null},i?a.readAsArrayBuffer(t):a.readAsDataURL(t)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(e){var n=this,r=this.file,a=this.image;a.onload=function(){n.draw(t(t({},e),{},{naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight}))},a.onabort=function(){n.fail(new Error("Aborted to load the image."))},a.onerror=function(){n.fail(new Error("Failed to load the image."))},d.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(d.navigator.userAgent)&&(a.crossOrigin="anonymous"),a.alt=r.name,a.src=e.url}},{key:"draw",value:function(e){var t=this,n=e.naturalWidth,r=e.naturalHeight,a=e.rotate,i=void 0===a?0:a,o=e.scaleX,s=void 0===o?1:o,u=e.scaleY,c=void 0===u?1:u,d=this.file,f=this.image,p=this.options,m=document.createElement("canvas"),g=m.getContext("2d"),y=Math.abs(i)%180===90,b=("contain"===p.resize||"cover"===p.resize)&&h(p.width)&&h(p.height),x=Math.max(p.maxWidth,0)||1/0,w=Math.max(p.maxHeight,0)||1/0,k=Math.max(p.minWidth,0)||0,S=Math.max(p.minHeight,0)||0,T=n/r,_=p.width,M=p.height;if(y){var A=[w,x];x=A[0],w=A[1];var I=[S,k];k=I[0],S=I[1];var N=[M,_];_=N[0],M=N[1]}b&&(T=_/M);var R=C({aspectRatio:T,width:x,height:w},"contain");x=R.width,w=R.height;var O=C({aspectRatio:T,width:k,height:S},"cover");if(k=O.width,S=O.height,b){var D=C({aspectRatio:T,width:_,height:M},p.resize);_=D.width,M=D.height}else{var P=C({aspectRatio:T,width:_,height:M}),L=P.width;_=void 0===L?n:L;var F=P.height;M=void 0===F?r:F}var j=-(_=Math.floor(E(Math.min(Math.max(_,k),x))))/2,z=-(M=Math.floor(E(Math.min(Math.max(M,S),w))))/2,B=_,U=M,W=[];if(b){var Z=0,V=0,H=n,G=r,q=C({aspectRatio:T,width:n,height:r},{contain:"cover",cover:"contain"}[p.resize]);H=q.width,G=q.height,Z=(n-H)/2,V=(r-G)/2,W.push(Z,V,H,G)}if(W.push(j,z,B,U),y){var X=[M,_];_=X[0],M=X[1]}m.width=_,m.height=M,v(p.mimeType)||(p.mimeType=d.type);var Y="transparent";if(d.size>p.convertSize&&p.convertTypes.indexOf(p.mimeType)>=0&&(p.mimeType="image/jpeg"),"image/jpeg"===p.mimeType&&(Y="#fff"),g.fillStyle=Y,g.fillRect(0,0,_,M),p.beforeDraw&&p.beforeDraw.call(this,g,m),!this.aborted&&(g.save(),g.translate(_/2,M/2),g.rotate(i*Math.PI/180),g.scale(s,c),g.drawImage.apply(g,[f].concat(W)),g.restore(),p.drew&&p.drew.call(this,g,m),!this.aborted)){var K=function(e){t.aborted||t.done({naturalWidth:n,naturalHeight:r,result:e})};m.toBlob?m.toBlob(K,p.mimeType,p.quality):K(l(m.toDataURL(p.mimeType,p.quality)))}}},{key:"done",value:function(e){var t=e.naturalWidth,n=e.naturalHeight,r=e.result,a=this.file,i=this.image,o=this.options;if(A&&!o.checkOrientation&&A.revokeObjectURL(i.src),r)if(o.strict&&r.size>a.size&&o.mimeType===a.type&&!(o.width>t||o.height>n||o.minWidth>t||o.minHeight>n||o.maxWidth<t||o.maxHeight<n))r=a;else{var s=new Date;r.lastModified=s.getTime(),r.lastModifiedDate=s,r.name=a.name,r.name&&r.type!==a.type&&(r.name=r.name.replace(I,g(r.type)))}else r=a;this.result=r,o.success&&o.success.call(this,r)}},{key:"fail",value:function(e){var t=this.options;if(!t.error)throw e;t.error.call(this,e)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=N,e}},{key:"setDefaults",value:function(e){o(c,e)}}]),e}()}()},6421:function(e){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},2110:function(e,t,n){"use strict";var r=n(8309),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var a=f(n);a&&a!==p&&e(t,a,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),v=0;v<o.length;++v){var g=o[v];if(!i[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=h(n,g);try{u(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case i:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case v:case m:case l:return e;default:return t}}case a:return t}}}function k(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=v,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return k(e)||w(e)===c},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},9498:function(e,t,n){var r="__lodash_hash_undefined__",a="[object Function]",i="[object GeneratorFunction]",o=/^\[object .+?Constructor\]$/,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")();var c=Array.prototype,d=Function.prototype,h=Object.prototype,f=u["__core-js_shared__"],p=function(){var e=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),m=d.toString,v=h.hasOwnProperty,g=h.toString,y=RegExp("^"+m.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=c.splice,x=M(u,"Map"),w=M(Object,"create");function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function E(e,t){for(var n,r,a=e.length;a--;)if((n=e[a][0])===(r=t)||n!==n&&r!==r)return a;return-1}function C(e){if(!I(e)||(t=e,p&&p in t))return!1;var t,n=function(e){var t=I(e)?g.call(e):"";return t==a||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?y:o;return n.test(function(e){if(null!=e){try{return m.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function _(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function M(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return C(n)?n:void 0}function A(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o),o};return n.cache=new(A.Cache||T),n}function I(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}k.prototype.clear=function(){this.__data__=w?w(null):{}},k.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},k.prototype.get=function(e){var t=this.__data__;if(w){var n=t[e];return n===r?void 0:n}return v.call(t,e)?t[e]:void 0},k.prototype.has=function(e){var t=this.__data__;return w?void 0!==t[e]:v.call(t,e)},k.prototype.set=function(e,t){return this.__data__[e]=w&&void 0===t?r:t,this},S.prototype.clear=function(){this.__data__=[]},S.prototype.delete=function(e){var t=this.__data__,n=E(t,e);return!(n<0)&&(n==t.length-1?t.pop():b.call(t,n,1),!0)},S.prototype.get=function(e){var t=this.__data__,n=E(t,e);return n<0?void 0:t[n][1]},S.prototype.has=function(e){return E(this.__data__,e)>-1},S.prototype.set=function(e,t){var n=this.__data__,r=E(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},T.prototype.clear=function(){this.__data__={hash:new k,map:new(x||S),string:new k}},T.prototype.delete=function(e){return _(this,e).delete(e)},T.prototype.get=function(e){return _(this,e).get(e)},T.prototype.has=function(e){return _(this,e).has(e)},T.prototype.set=function(e,t){return _(this,e).set(e,t),this},A.Cache=T,e.exports=A},8987:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(E){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},i={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=i[e])?r:(n=l(e,(0|e)<0?-1:0,!0),o&&(i[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=l(e,e<0?-1:0,!1),o&&(a[e]=n),n)}function s(e,t){if(isNaN(e))return t?g:v;if(t){if(e<0)return g;if(e>=f)return k}else{if(e<=-p)return S;if(e+1>=p)return w}return e<0?s(-e,t).neg():l(e%h|0,e/h|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=s,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var a=s(u(n,8)),i=v,o=0;o<e.length;o+=8){var l=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+l),n);if(l<8){var h=s(u(n,l));i=i.mul(h).add(s(d))}else i=(i=i.mul(a)).add(s(d))}return i.unsigned=t,i}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?c(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var h=4294967296,f=h*h,p=f/2,m=o(1<<24),v=o(0);n.ZERO=v;var g=o(0,!0);n.UZERO=g;var y=o(1);n.ONE=y;var b=o(1,!0);n.UONE=b;var x=o(-1);n.NEG_ONE=x;var w=l(-1,2147483647,!1);n.MAX_VALUE=w;var k=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var S=l(0,-2147483648,!1);n.MIN_VALUE=S;var T=n.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=s(u(e,6),this.unsigned),i=this,o="";;){var l=i.div(a),c=(i.sub(l.mul(a)).toInt()>>>0).toString(e);if((i=l).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1===(1&this.low)},T.isEven=function(){return 0===(1&this.low)},T.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(y)},T.neg=T.negate,T.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,u=e.low>>>16,c=0,h=0,f=0,p=0;return f+=(p+=i+(65535&e.low))>>>16,h+=(f+=a+u)>>>16,c+=(h+=n+s)>>>16,c+=t+o,l((f&=65535)<<16|(p&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},T.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return v;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(S))return e.isOdd()?S:v;if(e.eq(S))return this.isOdd()?S:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,i=this.low>>>16,o=65535&this.low,u=e.high>>>16,c=65535&e.high,h=e.low>>>16,f=65535&e.low,p=0,g=0,y=0,b=0;return y+=(b+=o*f)>>>16,g+=(y+=i*f)>>>16,y&=65535,g+=(y+=o*h)>>>16,p+=(g+=a*f)>>>16,g&=65535,p+=(g+=i*h)>>>16,g&=65535,p+=(g+=o*c)>>>16,p+=n*f+a*h+i*c+o*u,l((y&=65535)<<16|(b&=65535),(p&=65535)<<16|(g&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,a,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return b;i=g}else{if(this.eq(S))return e.eq(y)||e.eq(x)?S:e.eq(S)?y:(n=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?y:x:(a=this.sub(e.mul(n)),i=n.add(a.div(e)));if(e.eq(S))return this.unsigned?g:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=v}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),c=o<=48?1:u(2,o-48),h=s(n),f=h.mul(e);f.isNegative()||f.gt(a);)f=(h=s(n-=c,this.unsigned)).mul(e);h.isZero()&&(h=y),i=i.add(h),a=a.sub(f)}return i},T.div=T.divide,T.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return l(~this.low,~this.high,this.unsigned)},T.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},5988:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,a=n.length;r<a;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},1176:function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var r=e,a=e.indexOf("["),i=e.indexOf("]");-1!=a&&-1!=i&&(e=e.substring(0,a)+e.substring(a,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=t.exec(e||""),s={},l=14;l--;)s[n[l]]=o[l]||"";return-1!=a&&-1!=i&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}},888:function(e,t,n){"use strict";var r=n(9047);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},173:function(e,t,n){"use strict";var r,a=n(2791),i=(r=a)&&"object"===typeof r&&"default"in r?r.default:r,o=n(1338),s=new o,l=s.getBrowser(),u=s.getCPU(),c=s.getDevice(),d=s.getEngine(),h=s.getOS(),f=s.getUA(),p=function(e){return s.setUA(e)},m=function(e){if(e){var t=new o(e);return{UA:t,browser:t.getBrowser(),cpu:t.getCPU(),device:t.getDevice(),engine:t.getEngine(),os:t.getOS(),ua:t.getUA(),setUserAgent:function(e){return t.setUA(e)}}}console.error("No userAgent string was provided")},v=Object.freeze({ClientUAInstance:s,browser:l,cpu:u,device:c,engine:d,os:h,ua:f,setUa:p,parseUserAgent:m});function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M="mobile",A="tablet",I="smarttv",N="console",R="wearable",O="embedded",D=void 0,P={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},L={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},F={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},j=function(e){return e||(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none")},z=function(){return!("undefined"===typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},B=function(e){var t=z();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},U=function(e,t,n,r){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vendor:j(t.vendor),model:j(t.model),os:j(n.name),osVersion:j(n.version),ua:j(r)})};var W=function(e){return e.type===M},Z=function(e){return e.type===A},V=function(e){var t=e.type;return t===M||t===A},H=function(e){return e.type===I},G=function(e){return e.type===D},q=function(e){return e.type===R},X=function(e){return e.type===N},Y=function(e){return e.type===O},K=function(e){var t=e.vendor;return j(t)},J=function(e){var t=e.model;return j(t)},$=function(e){var t=e.type;return j(t,"browser")},Q=function(e){return e.name===L.Android},ee=function(e){return e.name===L.Windows},te=function(e){return e.name===L.MAC_OS},ne=function(e){return e.name===L.WindowsPhone},re=function(e){return e.name===L.IOS},ae=function(e){var t=e.version;return j(t)},ie=function(e){var t=e.name;return j(t)},oe=function(e){return e.name===P.Chrome},se=function(e){return e.name===P.Firefox},le=function(e){return e.name===P.Chromium},ue=function(e){return e.name===P.Edge},ce=function(e){return e.name===P.Yandex},de=function(e){var t=e.name;return t===P.Safari||t===P.MobileSafari},he=function(e){return e.name===P.MobileSafari},fe=function(e){return e.name===P.Opera},pe=function(e){var t=e.name;return t===P.InternetExplorer||t===P.Ie},me=function(e){return e.name===P.MIUI},ve=function(e){return e.name===P.SamsungBrowser},ge=function(e){var t=e.version;return j(t)},ye=function(e){var t=e.major;return j(t)},be=function(e){var t=e.name;return j(t)},xe=function(e){var t=e.name;return j(t)},we=function(e){var t=e.version;return j(t)},ke=function(){var e=z(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"===typeof t&&/electron/.test(t)},Se=function(e){return"string"===typeof e&&-1!==e.indexOf("Edg/")},Te=function(){var e=z();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream},Ee=function(){return B("iPad")},Ce=function(){return B("iPhone")},_e=function(){return B("iPod")},Me=function(e){return j(e)};function Ae(e){var t=e||v,n=t.device,r=t.browser,a=t.os,i=t.engine,o=t.ua;return{isSmartTV:H(n),isConsole:X(n),isWearable:q(n),isEmbedded:Y(n),isMobileSafari:he(r)||Ee(),isChromium:le(r),isMobile:V(n)||Ee(),isMobileOnly:W(n),isTablet:Z(n)||Ee(),isBrowser:G(n),isDesktop:G(n),isAndroid:Q(a),isWinPhone:ne(a),isIOS:re(a)||Ee(),isChrome:oe(r),isFirefox:se(r),isSafari:de(r),isOpera:fe(r),isIE:pe(r),osVersion:ae(a),osName:ie(a),fullBrowserVersion:ge(r),browserVersion:ye(r),browserName:be(r),mobileVendor:K(n),mobileModel:J(n),engineName:xe(i),engineVersion:we(i),getUA:Me(o),isEdge:ue(r)||Se(o),isYandex:ce(r),deviceType:$(n),isIOS13:Te(),isIPad13:Ee(),isIPhone13:Ce(),isIPod13:_e(),isElectron:ke(),isEdgeChromium:Se(o),isLegacyEdge:ue(r)&&!Se(o),isWindows:ee(a),isMacOs:te(a),isMIUI:me(r),isSamsungBrowser:ve(r)}}var Ie=H(c),Ne=X(c),Re=q(c),Oe=Y(c),De=he(l)||Ee(),Pe=le(l),Le=V(c)||Ee(),Fe=W(c),je=Z(c)||Ee(),ze=G(c),Be=G(c),Ue=Q(h),We=ne(h),Ze=re(h)||Ee(),Ve=oe(l),He=se(l),Ge=de(l),qe=fe(l),Xe=pe(l),Ye=ae(h),Ke=ie(h),Je=ge(l),$e=ye(l),Qe=be(l),et=K(c),tt=J(c),nt=xe(d),rt=we(d),at=Me(f),it=ue(l)||Se(f),ot=ce(l),st=$(c),lt=Te(),ut=Ee(),ct=Ce(),dt=_e(),ht=ke(),ft=Se(f),pt=ue(l)&&!Se(f),mt=ee(h),vt=te(h),gt=me(l),yt=ve(l);function bt(e){var t=e||window.navigator.userAgent;return m(t)}t.tq=Le},4463:function(e,t,n){"use strict";var r=n(2791),a=n(5296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case E:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function Z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Te=null;function Ee(e){if(e=ba(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Ce(e){Se?Te?Te.push(e):Te=[e]:Se=e}function _e(){if(Se){var e=Se,t=Te;if(Te=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Me(e,t){return e(t)}function Ae(){}var Ie=!1;function Ne(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Me(e,t,n)}finally{Ie=!1,(null!==Se||null!==Te)&&(Ae(),_e())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Pe(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,Fe=null,je=!1,ze=null,Be={onError:function(e){Le=!0,Fe=e}};function Ue(e,t,n,r,a,i,o,s,l){Le=!1,Fe=null,Pe.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(We(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Ve(a),e;if(o===r)return Ve(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Ke=a.unstable_requestPaint,Je=a.unstable_now,$e=a.unstable_getCurrentPriorityLevel,Qe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,Tt,Et,Ct=!1,_t=[],Mt=null,At=null,It=null,Nt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=ya(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Mt&&jt(Mt)&&(Mt=null),null!==At&&jt(At)&&(At=null),null!==It&&jt(It)&&(It=null),Nt.forEach(zt),Rt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Ut(Mt,e),null!==At&&Ut(At,e),null!==It&&Ut(It,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Zt=x.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var a=bt,i=Zt.transition;Zt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=a,Zt.transition=i}}function Gt(e,t,n,r){var a=bt,i=Zt.transition;Zt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=a,Zt.transition=i}}function qt(e,t,n,r){if(Vt){var a=Yt(e,t,n,r);if(null===a)Vr(e,t,r,Xt,n),Pt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Mt=Lt(Mt,e,t,n,r,a),!0;case"dragenter":return At=Lt(At,e,t,n,r,a),!0;case"mouseover":return It=Lt(It,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Nt.set(i,Lt(Nt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Rt.set(i,Lt(Rt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Vr(e,t,r,Xt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=ya(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=$t,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Qt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=F({},un,{view:0,detail:0}),hn=an(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(F({},fn,{dataTransfer:0})),vn=an(F({},dn,{relatedTarget:0})),gn=an(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(F({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Tn}var Cn=F({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(Cn),Mn=an(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),In=an(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Nn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Pn=null;c&&"documentMode"in document&&(Pn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Pn,Fn=c&&(!Dn||Pn&&8<Pn&&11>=Pn),jn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Xn(e){jr(e,0)}function Yn(e){if(q(xa(e)))return e}function Kn(e,t){if("change"===e)return t}var Jn=!1;if(c){var $n;if(c){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}$n=Qn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(qn)){var t=[];Hn(t,qn,e,we(e)),Ne(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(qn)}function ir(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=cr(n,i);var o=cr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==X(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Tr={};function Er(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}c&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Er("animationend"),_r=Er("animationiteration"),Mr=Er("animationstart"),Ar=Er("transitionend"),Ir=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ir.set(e,t),l(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(_r,"onAnimationIteration"),Rr(Mr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,u){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(i(198));var c=Fe;Le=!1,Fe=null,je||(je=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Fr(a,s,u),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Fr(a,s,u),i=l}}}if(je)throw e=ze,je=!1,ze=null,e}function zr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Zr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Zr(e,t,n,r){switch(Kt(t)){case 1:var a=Ht;break;case 4:a=Gt;break;default:a=qt}n=a.bind(null,t,n,e),a=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=i,a=we(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Cr:case _r:case Mr:l=gn;break;case Ar:l=In;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&c.push(Hr(p,m,f)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,a),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=We(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:xa(l),f=null==u?s:xa(u),(s=new c(m,p+"leave",l,n,a)).target=d,s.relatedTarget=f,m=null,ya(a)===r&&((c=new c(h,p+"enter",u,n,a)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=qr(f))p++;for(f=0,m=h;m;m=qr(m))f++;for(;0<p-f;)c=qr(c),p--;for(;0<f-p;)h=qr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=qr(c),h=qr(h)}c=null}else c=null;null!==l&&Xr(o,s,l,c,!1),null!==u&&null!==d&&Xr(o,d,u,c,!0)}if("select"===(l=(s=r?xa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Kn;else if(Vn(s))if(Jn)v=or;else{v=ar;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ir);switch(v&&(v=v(e,r))?Hn(o,v,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?xa(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,a)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):($t="value"in(Jt=a)?Jt.value:Jt.textContent,Wn=!0)),0<(g=Gr(r,b)).length&&(b=new xn(b,e,null,n,a),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Qt=$t=Jt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Re(e,n))&&r.unshift(Hr(e,i,a)),null!=(i=Re(e,t))&&r.push(Hr(e,i,a))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=Re(n,i))&&o.unshift(Hr(n,l,s)):a||null!=(l=Re(n,i))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Kr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Qr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,va="__reactListeners$"+da,ga="__reactHandles$"+da;function ya(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[ha])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[fa]||null}var ka=[],Sa=-1;function Ta(e){return{current:e}}function Ea(e){0>Sa||(e.current=ka[Sa],ka[Sa]=null,Sa--)}function Ca(e,t){Sa++,ka[Sa]=e.current,e.current=t}var _a={},Ma=Ta(_a),Aa=Ta(!1),Ia=_a;function Na(e,t){var n=e.type.contextTypes;if(!n)return _a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ra(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oa(){Ea(Aa),Ea(Ma)}function Da(e,t,n){if(Ma.current!==_a)throw Error(i(168));Ca(Ma,t),Ca(Aa,n)}function Pa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,Z(e)||"Unknown",a));return F({},n,r)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Ia=Ma.current,Ca(Ma,e),Ca(Aa,Aa.current),!0}function Fa(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Pa(e,t,Ia),r.__reactInternalMemoizedMergedChildContext=e,Ea(Aa),Ea(Ma),Ca(Ma,e)):Ea(Aa),Ca(Aa,n)}var ja=null,za=!1,Ba=!1;function Ua(e){null===ja?ja=[e]:ja.push(e)}function Wa(){if(!Ba&&null!==ja){Ba=!0;var e=0,t=bt;try{var n=ja;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ja=null,za=!1}catch(a){throw null!==ja&&(ja=ja.slice(e+1)),qe(Qe,Wa),a}finally{bt=t,Ba=!1}}return null}var Za=[],Va=0,Ha=null,Ga=0,qa=[],Xa=0,Ya=null,Ka=1,Ja="";function $a(e,t){Za[Va++]=Ga,Za[Va++]=Ha,Ha=e,Ga=t}function Qa(e,t,n){qa[Xa++]=Ka,qa[Xa++]=Ja,qa[Xa++]=Ya,Ya=e;var r=Ka;e=Ja;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ka=1<<32-ot(t)+a|n<<a|r,Ja=i+e}else Ka=1<<i|n<<a|r,Ja=e}function ei(e){null!==e.return&&($a(e,1),Qa(e,1,0))}function ti(e){for(;e===Ha;)Ha=Za[--Va],Za[Va]=null,Ga=Za[--Va],Za[Va]=null;for(;e===Ya;)Ya=qa[--Xa],qa[Xa]=null,Ja=qa[--Xa],qa[Xa]=null,Ka=qa[--Xa],qa[Xa]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:Ka,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(li(e))throw Error(i(418));t=ua(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ci(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=ua(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ua(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=ua(e.nextSibling)}function fi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=x.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var gi=Ta(null),yi=null,bi=null,xi=null;function wi(){xi=bi=yi=null}function ki(e){var t=gi.current;Ea(gi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){yi=e,xi=bi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ei(e){var t=e._currentValue;if(xi!==e)if(e={context:e,memoizedValue:t,next:null},null===bi){if(null===yi)throw Error(i(308));bi=e,yi.dependencies={lanes:0,firstContext:e}}else bi=bi.next=e;return t}var Ci=null;function _i(e){null===Ci?Ci=[e]:Ci.push(e)}function Mi(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,_i(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ai(e,r)}function Ai(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ii=!1;function Ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Di(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ai(e,n)}return null===(a=r.interleaved)?(t.next=t,_i(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ai(e,n)}function Pi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var a=e.updateQueue;Ii=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?i=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,c=u=l=null,s=i;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Ii=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(h=s).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=d}}function ji(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var zi=(new r.Component).refs;function Bi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ui={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),i=Oi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,a))&&(ru(t,e,a,r),Pi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),i=Oi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,a))&&(ru(t,e,a,r),Pi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),a=Oi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Di(e,a,r))&&(ru(t,e,r,n),Pi(t,e,r))}};function Wi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function Zi(e,t,n){var r=!1,a=_a,i=t.contextType;return"object"===typeof i&&null!==i?i=Ei(i):(a=Ra(t)?Ia:Ma.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Na(e,a):_a),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ui,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Vi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ui.enqueueReplaceState(t,t.state,null)}function Hi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=zi,Ni(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ei(i):(i=Ra(t)?Ia:Ma.current,a.context=Na(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Bi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Ui.enqueueReplaceState(a,a.state,null),Fi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===zi&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function qi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xi(e){return(0,e._init)(e._payload)}function Yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&Xi(i)===t.type)?((r=a(t,n.props)).ref=Gi(e,t,n),r.return=e,r):((r=Pu(n.type,n.key,n.props,null,e.mode,r)).ref=Gi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pu(t.type,t.key,t.props,null,e.mode,n)).ref=Gi(e,null,t),n.return=e,n;case k:return(t=zu(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Lu(t,e.mode,n,null)).return=e,t;qi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?u(e,t,n,r):null;case k:return n.key===a?c(e,t,n,r):null;case R:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||P(n))return null!==a?null:d(e,t,n,r,null);qi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case R:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,a,null);qi(t,r)}return null}function m(a,i,s,l){for(var u=null,c=null,d=i,m=i=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(a,d,s[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(a,d),i=o(g,i,m),null===c?u=g:c.sibling=g,c=g,d=v}if(m===s.length)return n(a,d),ai&&$a(a,m),u;if(null===d){for(;m<s.length;m++)null!==(d=h(a,s[m],l))&&(i=o(d,i,m),null===c?u=d:c.sibling=d,c=d);return ai&&$a(a,m),u}for(d=r(a,d);m<s.length;m++)null!==(v=p(d,a,m,s[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),i=o(v,i,m),null===c?u=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(a,e)})),ai&&$a(a,m),u}function v(a,s,l,u){var c=P(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(a,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,v),null===d?c=b:d.sibling=b,d=b,m=g}if(y.done)return n(a,m),ai&&$a(a,v),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(a,y.value,u))&&(s=o(y,s,v),null===d?c=y:d.sibling=y,d=y);return ai&&$a(a,v),c}for(m=r(a,m);!y.done;v++,y=l.next())null!==(y=p(m,a,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ai&&$a(a,v),c}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=i;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(i=a(c,o.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&Xi(u)===c.type){n(r,c.sibling),(i=a(c,o.props)).ref=Gi(r,c,o),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((i=Lu(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Pu(o.type,o.key,o.props,null,r.mode,l)).ref=Gi(r,i,o),l.return=r,r=l)}return s(r);case k:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zu(o,r.mode,l)).return=r,r=i}return s(r);case R:return e(r,i,(c=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(P(o))return v(r,i,o,l);qi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=ju(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var Ki=Yi(!0),Ji=Yi(!1),$i={},Qi=Ta($i),eo=Ta($i),to=Ta($i);function no(e){if(e===$i)throw Error(i(174));return e}function ro(e,t){switch(Ca(to,t),Ca(eo,e),Ca(Qi,$i),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(Qi),Ca(Qi,t)}function ao(){Ea(Qi),Ea(eo),Ea(to)}function io(e){no(to.current);var t=no(Qi.current),n=le(t,e.type);t!==n&&(Ca(eo,e),Ca(Qi,n))}function oo(e){eo.current===e&&(Ea(Qi),Ea(eo))}var so=Ta(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var ho=x.ReactCurrentDispatcher,fo=x.ReactCurrentBatchConfig,po=0,mo=null,vo=null,go=null,yo=!1,bo=!1,xo=0,wo=0;function ko(){throw Error(i(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function To(e,t,n,r,a,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:ls,e=n(r,a),bo){o=0;do{if(bo=!1,xo=0,25<=o)throw Error(i(301));o+=1,go=vo=null,t.updateQueue=null,ho.current=us,e=n(r,a)}while(bo)}if(ho.current=os,t=null!==vo&&null!==vo.next,po=0,go=vo=mo=null,yo=!1,t)throw Error(i(300));return e}function Eo(){var e=0!==xo;return xo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function _o(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function Mo(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=_o(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=vo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,mo.lanes|=d,Fl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,mo.lanes|=o,Fl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=_o(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Ro(e,t){var n=mo,r=_o(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,xs=!0),r=r.queue,Vo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,zo(9,Do.bind(null,n,r,a,t),void 0,null),null===Il)throw Error(i(349));0!==(30&po)||Oo(n,t,a)}return a}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Po(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Ai(e,1);null!==t&&ru(t,e,1,-1)}function jo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return _o().memoizedState}function Uo(e,t,n,r){var a=Co();mo.flags|=e,a.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Wo(e,t,n,r){var a=_o();r=void 0===r?null:r;var i=void 0;if(null!==vo){var o=vo.memoizedState;if(i=o.destroy,null!==r&&So(r,o.deps))return void(a.memoizedState=zo(t,n,i,r))}mo.flags|=e,a.memoizedState=zo(1|t,n,i,r)}function Zo(e,t){return Uo(8390656,8,e,t)}function Vo(e,t){return Wo(2048,8,e,t)}function Ho(e,t){return Wo(4,2,e,t)}function Go(e,t){return Wo(4,4,e,t)}function qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4,4,qo.bind(null,t,e),n)}function Yo(){}function Ko(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Fl|=n,e.baseState=!0),t)}function Qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function es(){return _o().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=Mi(e,t,n,r))){ru(n,e,r,tu()),is(n,t,r)}}function ns(e,t,n){var r=nu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(a.next=a,_i(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Mi(e,t,a,r))&&(ru(n,e,r,a=tu()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function as(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ei,useCallback:ko,useContext:ko,useEffect:ko,useImperativeHandle:ko,useInsertionEffect:ko,useLayoutEffect:ko,useMemo:ko,useReducer:ko,useRef:ko,useState:ko,useDebugValue:ko,useDeferredValue:ko,useTransition:ko,useMutableSource:ko,useSyncExternalStore:ko,useId:ko,unstable_isNewReconciler:!1},ss={readContext:Ei,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:Zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Qo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,a=Co();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Il)throw Error(i(349));0!==(30&po)||Oo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Zo(Po.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Il.identifierPrefix;if(ai){var n=Ja;t=":"+t+"R"+(n=(Ka&~(1<<32-ot(Ka)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ei,useCallback:Ko,useContext:Ei,useEffect:Vo,useImperativeHandle:Xo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(Mo)},useDebugValue:Yo,useDeferredValue:function(e){return $o(_o(),vo.memoizedState,e)},useTransition:function(){return[Ao(Mo)[0],_o().memoizedState]},useMutableSource:No,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},us={readContext:Ei,useCallback:Ko,useContext:Ei,useEffect:Vo,useImperativeHandle:Xo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Jo,useReducer:Io,useRef:Bo,useState:function(){return Io(Mo)},useDebugValue:Yo,useDeferredValue:function(e){var t=_o();return null===vo?t.memoizedState=e:$o(t,vo.memoizedState,e)},useTransition:function(){return[Io(Mo)[0],_o().memoizedState]},useMutableSource:No,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Gl=r),hs(0,t)},n}function ms(e,t,n){(n=Oi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){hs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oi(-1,1)).tag=2,Di(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Ji(t,null,n,r):Ki(t,e.child,n,r)}function ks(e,t,n,r,a){n=n.render;var i=t.ref;return Ti(t,a),r=To(e,t,n,r,i,a),n=Eo(),null===e||xs?(ai&&n&&ei(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ss(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Ou(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ts(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hs(e,t,a)}return t.flags|=1,(e=Du(i,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Hs(e,t,a);0!==(131072&e.flags)&&(xs=!0)}}return _s(e,t,n,r,a)}function Es(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ca(Dl,Ol),Ol|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ca(Dl,Ol),Ol|=r;return ws(e,t,a,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,a){var i=Ra(n)?Ia:Ma.current;return i=Na(t,i),Ti(t,a),n=To(e,t,n,r,i,a),r=Eo(),null===e||xs?(ai&&r&&ei(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hs(e,t,a))}function Ms(e,t,n,r,a){if(Ra(n)){var i=!0;La(t)}else i=!1;if(Ti(t,a),null===t.stateNode)Vs(e,t),Zi(t,n,r),Hi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ei(u):u=Na(t,u=Ra(n)?Ia:Ma.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Vi(t,o,r,u),Ii=!1;var h=t.memoizedState;o.state=h,Fi(t,r,o,a),l=t.memoizedState,s!==r||h!==l||Aa.current||Ii?("function"===typeof c&&(Bi(t,n,c,r),l=t.memoizedState),(s=Ii||Wi(t,n,s,r,h,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ri(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:vi(t.type,s),o.props=u,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ei(l):l=Na(t,l=Ra(n)?Ia:Ma.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&Vi(t,o,r,l),Ii=!1,h=t.memoizedState,o.state=h,Fi(t,r,o,a);var p=t.memoizedState;s!==d||h!==p||Aa.current||Ii?("function"===typeof f&&(Bi(t,n,f,r),p=t.memoizedState),(u=Ii||Wi(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,i,a)}function As(e,t,n,r,a,i){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Fa(t,n,!1),Hs(e,t,i);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ki(t,e.child,null,i),t.child=Ki(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,a&&Fa(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),ro(e,t.containerInfo)}function Ns(e,t,n,r,a){return fi(),pi(a),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Os,Ds,Ps,Ls={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,a=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ca(so,1&o),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fu(l,a,0,null),e=Lu(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ls,e):zs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Fu({mode:"visible",children:r.children},a,0,null),(o=Lu(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ki(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=ds(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Il)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ai(e,a),ru(r,e,a,-1))}return vu(),Bs(e,t,s,r=ds(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Mu.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=ua(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(qa[Xa++]=Ka,qa[Xa++]=Ja,qa[Xa++]=Ya,Ka=e.id,Ja=e.overflow,Ya=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Du(r,s):(s=Lu(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,a}return e=(s=e.child).sibling,a=Du(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zs(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pi(r),Ki(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Ws(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Zs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(so,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ws(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===lo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ws(t,!0,n,null,i);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ra(t.type)&&Oa(),qs(t),null;case 3:return r=t.stateNode,ao(),Ea(Aa),Ea(Ma),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(su(ii),ii=null))),Os(e,t),qs(t),null;case 5:oo(t);var a=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qs(t),null}if(e=no(Qi.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ha]=t,r[fa]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<Pr.length;a++)zr(Pr[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":K(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ae(r,o),zr("invalid",r)}for(var l in ye(n,o),a=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":G(r),Q(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Qr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Pr.length;a++)zr(Pr[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":K(e,r),a=Y(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(o in ye(n,a),u=a)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":G(e),Q(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=no(to.current),no(Qi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return qs(t),null;case 13:if(Ea(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ha]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==ii&&(su(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Pl&&(Pl=3):vu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return ao(),Os(e,t),null===e&&Wr(t.stateNode.containerInfo),qs(t),null;case 10:return ki(t.type._context),qs(t),null;case 19:if(Ea(so),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Gs(o,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Zl&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return qs(t),null}else 2*Je()-o.renderingStartTime>Zl&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ca(so,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ti(t),t.tag){case 1:return Ra(t.type)&&Oa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Ea(Aa),Ea(Ma),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ea(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(so),null;case 4:return ao(),null;case 10:return ki(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,no(Qi.current);var i,o=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),o=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Js=!1,$s="function"===typeof WeakSet?WeakSet:Set,Qs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&tl(t,n,i)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[va],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Js||el(n,t);case 6:var r=dl,a=hl;dl=null,fl(e,t,n),hl=a,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Wt(e)):la(dl,n.stateNode));break;case 4:r=dl,a=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=a;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&tl(n,t,o),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Js&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Eu(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fl(e,t,n),Js=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(i(160));pl(o,s,a),dl=null,hl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Eu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),yl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(v){Eu(e,e.return,v)}try{rl(5,e,e.return)}catch(v){Eu(e,e.return,v)}}break;case 1:vl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(vl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(v){Eu(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(a,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];"style"===d?ve(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,c)}switch(l){case"input":$(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(v){Eu(e,e.return,v)}}break;case 6:if(vl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){Eu(e,e.return,v)}}break;case 3:if(vl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(v){Eu(e,e.return,v)}break;case 4:default:vl(t,e),yl(e);break;case 13:vl(t,e),yl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Wl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(c=Js)||d,vl(t,e),Js=c):vl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(p=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Eu(r,n,v)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){kl(h);continue}}null!==p?(p.return=f,Qs=p):kl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,c?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(v){Eu(e,e.return,v)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Eu(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,ll(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,ll(e),o);break;default:throw Error(i(161))}}catch(s){Eu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Qs=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var a=Qs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Ks;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Ks;var u=Js;if(Ks=o,(Js=l)&&!u)for(Qs=a;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?Sl(a):null!==l?(l.return=o,Qs=l):Sl(a);for(;null!==i;)Qs=i,xl(i,t,n),i=i.sibling;Qs=a,Ks=s,Js=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Qs=i):wl(e)}}function wl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ji(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ji(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(i(163))}Js||512&t.flags&&il(t)}catch(f){Eu(t,t.return,f)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function kl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function Sl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Eu(t,a,l)}}var i=t.return;try{il(t)}catch(l){Eu(t,i,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Eu(t,o,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Tl,El=Math.ceil,Cl=x.ReactCurrentDispatcher,_l=x.ReactCurrentOwner,Ml=x.ReactCurrentBatchConfig,Al=0,Il=null,Nl=null,Rl=0,Ol=0,Dl=Ta(0),Pl=0,Ll=null,Fl=0,jl=0,zl=0,Bl=null,Ul=null,Wl=0,Zl=1/0,Vl=null,Hl=!1,Gl=null,ql=null,Xl=!1,Yl=null,Kl=0,Jl=0,$l=null,Ql=-1,eu=0;function tu(){return 0!==(6&Al)?Je():-1!==Ql?Ql:Ql=Je()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Rl?Rl&-Rl:null!==mi.transition?(0===eu&&(eu=mt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function ru(e,t,n,r){if(50<Jl)throw Jl=0,$l=null,Error(i(185));gt(e,n,r),0!==(2&Al)&&e===Il||(e===Il&&(0===(2&Al)&&(jl|=n),4===Pl&&lu(e,Rl)),au(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Zl=Je()+500,za&&Wa()))}function au(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Il?Rl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){za=!0,Ua(e)}(uu.bind(null,e)):Ua(uu.bind(null,e)),oa((function(){0===(6&Al)&&Wa()})),n=null;else{switch(xt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Iu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Ql=-1,eu=0,0!==(6&Al))throw Error(i(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var a=Al;Al|=2;var o=mu();for(Il===e&&Rl===t||(Vl=null,Zl=Je()+500,fu(e,t));;)try{bu();break}catch(l){pu(e,l)}wi(),Cl.current=o,Al=a,null!==Nl?t=0:(Il=null,Rl=0,t=Pl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t)throw n=Ll,fu(e,0),lu(e,r),au(e,Je()),n;if(6===t)lu(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gu(e,r))&&(0!==(o=pt(e))&&(r=o,t=ou(e,o))),1===t))throw n=Ll,fu(e,0),lu(e,r),au(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:ku(e,Ul,Vl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Wl+500-Je())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(ku.bind(null,e,Ul,Vl),t);break}ku(e,Ul,Vl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ra(ku.bind(null,e,Ul,Vl),r);break}ku(e,Ul,Vl);break;default:throw Error(i(329))}}}return au(e,Je()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Ul,Ul=n,null!==t&&su(t)),e}function su(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lu(e,t){for(t&=~zl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Al))throw Error(i(327));Su();var t=ht(e,0);if(0===(1&t))return au(e,Je()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ll,fu(e,0),lu(e,t),au(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,Ul,Vl),au(e,Je()),null}function cu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Zl=Je()+500,za&&Wa())}}function du(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&Su();var t=Al;Al|=1;var n=Ml.transition,r=bt;try{if(Ml.transition=null,bt=1,e)return e()}finally{bt=r,Ml.transition=n,0===(6&(Al=t))&&Wa()}}function hu(){Ol=Dl.current,Ea(Dl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oa();break;case 3:ao(),Ea(Aa),Ea(Ma),co();break;case 5:oo(r);break;case 4:ao();break;case 13:case 19:Ea(so);break;case 10:ki(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Il=e,Nl=e=Du(e.current,null),Rl=Ol=t,Pl=0,Ll=null,zl=jl=Fl=0,Ul=Bl=null,null!==Ci){for(t=0;t<Ci.length;t++)if(null!==(r=(n=Ci[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Ci=null}return e}function pu(e,t){for(;;){var n=Nl;try{if(wi(),ho.current=os,yo){for(var r=mo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yo=!1}if(po=0,go=vo=mo=null,bo=!1,xo=0,_l.current=null,null===n||null===n.return){Pl=1,Ll=t,Nl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&vs(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0===(1&t)){vs(o,c,t),vu();break e}u=Error(i(426))}else if(ai&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,l,0,t),pi(cs(u,l));break e}}o=u=cs(u,l),4!==Pl&&(Pl=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Li(o,ps(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Li(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(x){t=x,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function mu(){var e=Cl.current;return Cl.current=os,null===e?os:e}function vu(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Il||0===(268435455&Fl)&&0===(268435455&jl)||lu(Il,Rl)}function gu(e,t){var n=Al;Al|=2;var r=mu();for(Il===e&&Rl===t||(Vl=null,fu(e,t));;)try{yu();break}catch(a){pu(e,a)}if(wi(),Al=n,Cl.current=r,null!==Nl)throw Error(i(261));return Il=null,Rl=0,Pl}function yu(){for(;null!==Nl;)xu(Nl)}function bu(){for(;null!==Nl&&!Ye();)xu(Nl)}function xu(e){var t=Tl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wu(e):Nl=t,_l.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Ol)))return void(Nl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Pl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Pl&&(Pl=5)}function ku(e,t,n){var r=bt,a=Ml.transition;try{Ml.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Yl);if(0!==(6&Al))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Il&&(Nl=Il=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Iu(tt,(function(){return Su(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ml.transition,Ml.transition=null;var s=bt;bt=1;var l=Al;Al|=4,_l.current=null,function(e,t){if(ea=Vt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==o||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===a&&(l=s),f===o&&++d===r&&(u=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:vi(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){Eu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=nl,nl=!1}(e,n),gl(n,e),pr(ta),Vt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),Ke(),Al=l,bt=s,Ml.transition=o}else e.current=n;if(Xl&&(Xl=!1,Yl=e,Kl=a),o=e.pendingLanes,0===o&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),au(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Gl,Gl=null,e;0!==(1&Kl)&&0!==e.tag&&Su(),o=e.pendingLanes,0!==(1&o)?e===$l?Jl++:(Jl=0,$l=e):Jl=0,Wa()}(e,t,n,r)}finally{Ml.transition=a,bt=r}return null}function Su(){if(null!==Yl){var e=xt(Kl),t=Ml.transition,n=bt;try{if(Ml.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Kl=0,0!==(6&Al))throw Error(i(331));var a=Al;for(Al|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var f=(d=Qs).sibling,p=d.return;if(ol(d),d===c){Qs=null;break}if(null!==f){f.return=p,Qs=f;break}Qs=p}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Qs=y;break e}Qs=o.return}}var b=e.current;for(Qs=b;null!==Qs;){var x=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Qs=x;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(k){Eu(l,l.return,k)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(Al=a,Wa(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{bt=n,Ml.transition=t}}return!1}function Tu(e,t,n){e=Di(e,t=ps(0,t=cs(n,t),1),1),t=tu(),null!==e&&(gt(e,1,t),au(e,t))}function Eu(e,t,n){if(3===e.tag)Tu(e,e,n);else for(;null!==t;){if(3===t.tag){Tu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Di(t,e=ms(t,e=cs(n,e),1),1),e=tu(),null!==t&&(gt(t,1,e),au(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Rl&n)===n&&(4===Pl||3===Pl&&(130023424&Rl)===Rl&&500>Je()-Wl?fu(e,0):zl|=n),au(e,t)}function _u(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Ai(e,t))&&(gt(e,t,n),au(e,n))}function Mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_u(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),_u(e,n)}function Iu(e,t){return qe(e,t)}function Nu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Nu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pu(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Ou(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lu(n.children,a,o,t);case T:s=8,a|=8;break;case E:return(e=Ru(12,n,t,2|a)).elementType=E,e.lanes=o,e;case A:return(e=Ru(13,n,t,a)).elementType=A,e.lanes=o,e;case I:return(e=Ru(19,n,t,a)).elementType=I,e.lanes=o,e;case O:return Fu(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case _:s=9;break e;case M:s=11;break e;case N:s=14;break e;case R:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Lu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function zu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,a,i,o,s,l){return e=new Bu(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ru(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ni(i),e}function Wu(e){if(!e)return _a;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ra(n))return Pa(e,n,t)}return t}function Zu(e,t,n,r,a,i,o,s,l){return(e=Uu(n,r,!0,e,0,i,0,s,l)).context=Wu(null),n=e.current,(i=Oi(r=tu(),a=nu(n))).callback=void 0!==t&&null!==t?t:null,Di(n,i,a),e.current.lanes=a,gt(e,a,r),au(e,r),e}function Vu(e,t,n,r){var a=t.current,i=tu(),o=nu(a);return n=Wu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Di(a,t,o))&&(ru(e,a,o,i),Pi(e,a,o)),o}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Is(t),fi();break;case 5:io(t);break;case 1:Ra(t.type)&&La(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(gi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ca(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ca(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Zs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ai&&0!==(1048576&t.flags)&&Qa(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var a=Na(t,Ma.current);Ti(t,n),a=To(null,t,r,e,a,n);var o=Eo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(r)?(o=!0,La(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ni(t),a.updater=Ui,t.stateNode=a,a._reactInternals=t,Hi(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===N)return 14}return 2}(r),e=vi(r,e),a){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Ms(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,vi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_s(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ms(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 3:e:{if(Is(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Ri(e,t),Fi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ns(e,t,r,n,a=cs(Error(i(423)),t));break e}if(r!==a){t=Ns(e,t,r,n,a=cs(Error(i(424)),t));break e}for(ri=ua(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=Ji(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===a){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return io(t),null===e&&ui(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ki(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ks(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ca(gi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Aa.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Oi(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Si(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Si(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ti(t,n),r=r(a=Ei(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=vi(r=t.type,t.pendingProps),Ss(e,t,r,a=vi(r.type,a),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vi(r,a),Vs(e,t),t.tag=1,Ra(r)?(e=!0,La(t)):e=!1,Ti(t,n),Zi(t,r,a),Hi(t,r,a,n),As(null,t,r,!0,e,n);case 19:return Zs(e,t,n);case 22:return Es(e,t,n)}throw Error(i(156,t.tag))};var Xu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function ec(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Hu(o);s.call(e)}}Vu(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Hu(o);i.call(e)}}var o=Zu(t,r,e,0,null,!1,0,"",Qu);return e._reactRootContainer=o,e[pa]=o.current,Wr(8===e.nodeType?e.parentNode:e),du(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[pa]=l.current,Wr(8===e.nodeType?e.parentNode:e),du((function(){Vu(t,l,n,r)})),l}(n,t,e,a,r);return Hu(o)}Ku.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vu(e,t,null,null)},Ku.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Vu(null,e,null,null)})),t[pa]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),au(t,Je()),0===(6&Al)&&(Zl=Je()+500,Wa()))}break;case 13:du((function(){var t=Ai(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),qu(e,1)}},kt=function(e){if(13===e.tag){var t=Ai(e,134217728);if(null!==t)ru(t,e,134217728,tu());qu(e,134217728)}},St=function(e){if(13===e.tag){var t=nu(e),n=Ai(e,t);if(null!==n)ru(n,e,t,tu());qu(e,t)}},Tt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));q(r),$(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=cu,Ae=du;var tc={usingClientEntryPoint:!1,Events:[ba,xa,wa,Ce,_e,cu]},nc={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),it=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(i(299));var n=!1,r="",a=Xu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!$u(t))throw Error(i(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Xu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Zu(t,null,e,1,null!=n?n:null,a,0,o,s),e[pa]=t.current,Wr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ku(t)},t.render=function(e,t,n){if(!$u(t))throw Error(i(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(i(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$u(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},5555:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2791),s=(r=o)&&r.__esModule?r:{default:r},l=n(8159);function u(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.isFileDialogActive=!1,r.composeHandlers=function(e){return r.props.disabled?null:e},r.onDocumentDrop=function(e){r.node&&r.node.contains(e.target)||(e.preventDefault(),r.dragTargets=[])},r.onDragStart=function(e){var t=r.props.onDragStart;t&&t.call(r,e)},r.onDragEnter=function(e){var t=r.props.onDragEnter;e.preventDefault(),-1===r.dragTargets.indexOf(e.target)&&r.dragTargets.push(e.target);(0,l.getDataTransferItems)(e);t&&t.call(r,e)},r.onDragOver=function(e){var t=r.props.onDragOver;e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&t.call(r,e),!1},r.onDragLeave=function(e){var t=r.props.onDragLeave;e.preventDefault(),r.dragTargets=r.dragTargets.filter((function(t){return t!==e.target&&r.node.contains(t)})),r.dragTargets.length>0||t&&t.call(r,e)},r.onDrop=function(e){var t=r.props,n=t.onDrop,a=t.onDropAccepted,i=t.onDropRejected,o=t.multiple,s=t.disablePreview,u=t.minSize,d=t.maxSize,h=t.accept,f=(0,l.getDataTransferItems)(e),p=[],m=[];e.preventDefault(),0!==f.length?(r.dragTargets=[],r.isFileDialogActive=!1,f.forEach((function(e){if(!s)try{e.preview=window.URL.createObjectURL(e)}catch(t){0}(0,l.fileAccepted)(e,h)&&(0,l.fileMatchSize)(e,d,u)?p.push(e):m.push(e)})),o||m.push.apply(m,c(p.splice(1))),n&&n.call(r,p,m,[],e),m.length>0&&i&&i.call(r,m,e),p.length>0&&a&&a.call(r,p,e)):r.onLink(e)},r.onClick=function(e){var t=r.props,n=t.onClick;t.disableClick||(e.stopPropagation(),n&&n.call(r,e),setTimeout(r.open.bind(r),0))},r.onInputElementClick=function(e){var t=r.props.inputProps;e.stopPropagation(),t&&t.onClick&&t.onClick()},r.onFileDialogCancel=function(){var e=r.props.onFileDialogCancel,t=r.fileInputEl,n=r.isFileDialogActive;e&&n&&setTimeout((function(){t.files.length||(n=!1,e())}),300)},r.setRef=function(e){r.node=e},r.setRefs=function(e){r.fileInputEl=e},r.onLink=function(e){var t=r.props,n=t.onDrop,a=t.accept;if(a){var i=a.match(/(\.[^.]+)(?=[,]|$)/gi);if(i){var o="(https://|http://)((?!http).)*("+i.join("|")+")",s=new RegExp(o,"gi"),l=[];if(e.dataTransfer){var u=decodeURIComponent(e.dataTransfer.getData("text/uri-list")).match(s),d=e.dataTransfer.getData("text/html").match(s);u?l=[].concat(c(u)):d&&(l=[].concat(c(d.filter((function(e){return-1===e.indexOf('"')})).map((function(e){return decodeURIComponent(e)})))))}else l=[].concat(c(decodeURIComponent(e.target.value).match(s)));n&&n([],[],l,e)}else n&&n([],[],[],e)}else n&&n([],[],[],e)},d(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",l.onDocumentDragOver,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),document.body.onfocus=this.onFileDialogCancel}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",l.onDocumentDragOver),document.removeEventListener("drop",this.onDocumentDrop)),this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),document.body.onfocus=null}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.children,r=e.disabled,i=e.multiple,o=u(e,["accept","children","disabled","multiple"]),c=(o.preventDropOnDocument,o.disablePreview,o.disableClick,o.maxSize,o.minSize,o.inputProps,o.onDropAccepted,o.onDropRejected,o.onFileDialogCancel,u(o,["preventDropOnDocument","disablePreview","disableClick","maxSize","minSize","inputProps","onDropAccepted","onDropRejected","onFileDialogCancel"]));return s.default.createElement("div",a({},c,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":r}),n,s.default.createElement("input",{disabled:r,accept:t,type:"file",style:{display:"none"},multiple:l.supportMultiple&&i,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"}))}}]),t}(o.Component);h.defaultProps={preventDropOnDocument:!0,disabled:!1,disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0},t.default=h},5203:function(e,t,n){"use strict";var r,a=n(5555),i=(r=a)&&r.__esModule?r:{default:r};t.Z=i.default},8159:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDataTransferItems=function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;if(n.files&&n.files.length)t=n.files;else if(n.items&&n.items.length)return Array.prototype.slice.call(n.items).filter((function(e){return"file"===e.kind}))}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)},t.fileAccepted=n,t.fileMatchSize=function(e,t,n){return e.size<=t&&e.size>=n},t.allFilesAccepted=function(e,t){return e.every((function(e){return n(e,t)}))},t.onDocumentDragOver=function(e){e.preventDefault()};t.supportMultiple="undefined"===typeof document||!document||!document.createElement||"multiple"in document.createElement("input");function n(e,t){return"application/x-moz-file"===e.type||function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=e.type||"",i=a.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?i===t.replace(/\/.*$/,""):a===t}))}return!0}(e,t)}},2120:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(5943));t.Notifications=a.default;var i=r(n(2932)).default.addNotification;t.default=i},5943:function(e,t,n){"use strict";var r=n(6690).default,a=n(9728).default,i=n(1655).default,o=n(6389).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(2791)),u=s(n(2932));n(7969);var c=s(n(4788)),d=function(e){i(n,e);var t=o(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).state={value:[]},e}return a(n,[{key:"componentDidMount",value:function(){var e=this;u.default.addListener((function(t){return e.setState({value:t})}))}},{key:"render",value:function(){var e=this.props.position,t="rpn-notification-holder ".concat(e||"top-middle"," supertest");return l.default.createElement("div",{className:t},this.state.value.map((function(e,t){return l.default.createElement(c.default,{key:t,closeNotification:u.default.popAndPush,onClick:e.onClick,id:e.id,theme:e.theme,title:e.title,subtitle:e.subtitle,closeButton:e.closeButton,message:e.message,styling:e.styling})})))}}]),n}(l.default.Component);t.default=d},4788:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(2791));t.default=function(e){var t=e.title,n=e.subtitle,r=e.message,i=e.theme,o=e.id,s=e.closeNotification,l=e.styling,u=e.closeButton,c=e.onClick,d={},h={};return l&&(d.backgroundColor=l.backgroundTop,d.color=l.colorTop,h.backgroundColor=l.backgroundBottom,h.color=l.colorBottom),a.default.createElement("div",{className:"rpn-notification-card ".concat(i),onClick:c},a.default.createElement("div",{className:"rpn-notification-card-top ".concat(i),style:Object.keys(d).length?d:void 0},a.default.createElement("span",null,t),a.default.createElement("span",{className:"rpn-notification-card-close ".concat(i),onClick:function(){return s(o)}},u||"close")),a.default.createElement("div",{className:"rpn-notification-card-bottom ".concat(i),style:Object.keys(h).length?h:void 0},a.default.createElement("span",{className:"subtitle"},n),a.default.createElement("span",{className:"message"},r)))}},2932:function(e,t,n){"use strict";var r=n(7061).default,a=n(9728).default,i=n(6690).default,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=a((function e(t){i(this,e),this.title=t.title,this.subtitle=t.subtitle,this.message=t.message,this.theme=t.theme,this.id=Math.random(),this.styling=t.styling,this.closeButton=t.closeButton,this.onClick=t.onClick}));t.PushNotification=s;var l=a((function e(){var t=this;i(this,e),this.Storage=[],this.Listener=function(){return t.Storage},this.popAndPush=function(e){for(var n=0;n<t.Storage.length;)t.Storage[n].id===e?t.Storage.splice(n,1):++n;t.Listener(t.Storage)},this.setTimer=function(e,n){setTimeout((function(){return t.popAndPush(e)}),n)},this.addListener=function(e){t.Listener=e},this.addNativeNotification=function(e){return o(t,void 0,void 0,r().mark((function t(){var n,a,i,o,s,l,u,c,d;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.title,a=e.subtitle,i=e.message,o=e.duration,s=e.icon,l=e.vibrate,u=e.silent,c=e.onClick,"default"!==Notification.permission&&"denied"!==Notification.permission){t.next=4;break}return t.next=4,Notification.requestPermission();case 4:"granted"===Notification.permission&&((d=new Notification(n,{body:i,data:a,icon:s,vibrate:l,silent:u})).onclick=c||null,setTimeout(d.close.bind(d),o||3e3));case 5:case"end":return t.stop()}}),t)})))},this.addWebNotification=function(e){var n=e.title,r=e.subtitle,a=e.message,i=e.theme,o=e.duration,l=e.backgroundBottom,u=e.backgroundTop,c=e.colorBottom,d=e.colorTop,h=e.closeButton,f=e.onClick,p=new s({title:n,subtitle:r,message:a,theme:i,styling:{backgroundTop:u,backgroundBottom:l,colorTop:d,colorBottom:c},closeButton:h,onClick:f});t.Storage.push(p),t.setTimer(p.id,o||3e3),t.Listener(t.Storage)},this.addNotification=function(e){return o(t,void 0,void 0,r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.native){t.next=3;break}return t.abrupt("return",this.addNativeNotification(e));case 3:return t.abrupt("return",this.addWebNotification(e));case 4:case"end":return t.stop()}}),t,this)})))}}));t.default=new l},1276:function(e,t,n){var r,a,i,o;e.exports=(r=n(2007),a=n(2791),i=n(354),o=n(9590),function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=r(n(1)),d=n(2),h=r(d),f=r(n(3)),p=r(n(4)),m=function(e){function t(){var e,n,r;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r._sigPad=null,r._excludeOurProps=function(){var e=r.props;return e.canvasProps,e.clearOnResize,a(e,["canvasProps","clearOnResize"])},r.getCanvas=function(){return r._canvas},r.getTrimmedCanvas=function(){var e=document.createElement("canvas");return e.width=r._canvas.width,e.height=r._canvas.height,e.getContext("2d").drawImage(r._canvas,0,0),(0,p.default)(e)},r.getSignaturePad=function(){return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var e=r.props.canvasProps||{},t=e.width,n=e.height;if(!t||!n){var a=r._canvas,i=Math.max(window.devicePixelRatio||1,1);t||(a.width=a.offsetWidth*i),n||(a.height=a.offsetHeight*i),a.getContext("2d").scale(i,i),r.clear()}},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r._sigPad.on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r._sigPad.off()},r.clear=function(){return r._sigPad.clear()},r.isEmpty=function(){return r._sigPad.isEmpty()},r.fromDataURL=function(e,t){return r._sigPad.fromDataURL(e,t)},r.toDataURL=function(e,t){return r._sigPad.toDataURL(e,t)},r.fromData=function(e){return r._sigPad.fromData(e)},r.toData=function(){return r._sigPad.toData()},o(r,n)}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this._sigPad=new f.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var e=this,t=this.props.canvasProps;return h.default.createElement("canvas",l({ref:function(t){e._canvas=t}},t))}}]),t}(d.Component);m.propTypes={velocityFilterWeight:c.default.number,minWidth:c.default.number,maxWidth:c.default.number,minDistance:c.default.number,dotSize:c.default.oneOfType([c.default.number,c.default.func]),penColor:c.default.string,throttle:c.default.number,onEnd:c.default.func,onBegin:c.default.func,canvasProps:c.default.object,clearOnResize:c.default.bool},m.defaultProps={clearOnResize:!0},t.default=m},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t){e.exports=i},function(e,t){e.exports=o}]))},97:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var l=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),a=e.minScreenshotWidth!==t.minScreenshotWidth,i=e.minScreenshotHeight!==t.minScreenshotHeight;(r||a||i)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,a=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var i=r/a;a=(r=n.minScreenshotWidth||this.video.clientWidth)/i,n.minScreenshotHeight&&a<n.minScreenshotHeight&&(r=(a=n.minScreenshotHeight)*i)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||a,this.ctx=this.canvas.getContext("2d")}var o=this.ctx,s=this.canvas;return o&&s&&(n.mirrored&&(o.translate(s.width,0),o.scale(-1,1)),o.imageSmoothingEnabled=n.imageSmoothing,o.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(o.scale(-1,1),o.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,a){var i={video:"undefined"===typeof a||a};n.audio&&(i.audio="undefined"===typeof r||r),e.requestUserMediaId++;var o=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(i).then((function(n){e.unmounted||o!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var a=function(e){return{optional:[{sourceId:e}]}},i=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,o=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(o=e.id)}));var s=i(n.audioConstraints);s&&(t=s);var l=i(n.videoConstraints);l&&(o=l),r(a(t),a(o))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,a=n.audio,s=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),l=n.style,u=void 0===l?{}:l,c=n.children,d=o(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),h=s?i(i({},u),{transform:(u.transform||"")+" scaleX(-1)"}):u,f={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",i({autoPlay:!0,src:t.src,muted:!a,playsInline:!0,ref:function(t){e.video=t},style:h},d)),c&&c(f))},t.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=l},react:function(t,n){t.exports=e}}).default},e.exports=r(n(2791))},6374:function(e,t,n){"use strict";var r=n(2791),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,m(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,a)&&!T.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+M(l,0):i,w(o)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),A(o,t,a,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var u=0;u<e.length;u++){var c=i+M(s=e[u],u);l+=A(s,t,a,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=A(s=s.value,t,a,c=i+M(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!T.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9864:function(e){function t(e){return"string"===typeof e?e.replace(/^0+|[^0-9kK]+/g,"").toUpperCase():""}e.exports={validate:function(e){if("string"!==typeof e)return!1;if(/^0+/.test(e))return!1;if(!/^0*(\d{1,3}(\.?\d{3})*)-?([\dkK])$/.test(e))return!1;e=t(e);for(var n=parseInt(e.slice(0,-1),10),r=0,a=1;n>0;)a=(a+n%10*(9-r++%6))%11,n=Math.floor(n/10);return(a>0?""+(a-1):"K")===e.slice(-1)},clean:t,format:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dots:!0};if(e=t(e),r.dots){n=e.slice(-4,-1)+"-"+e.substr(e.length-1);for(var a=4;a<e.length;a+=3)n=e.slice(-3-a,-a)+"."+n}else n=e.slice(0,-1)+"-"+e.substr(e.length-1);return n},getCheckDigit:function(e){var n=Array.from(t(e),Number);if(0===n.length||n.includes(NaN))throw new Error('"'.concat(e,'" as RUT is invalid'));var r=11-n.reverse().reduce((function(e,t,n){return e+t*(n%6+2)}),0)%11;return 10===r?"K":11===r?"0":r.toString()}}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(v=!1,x(e),!m)if(null!==r(u))m=!0,O(k);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function k(e,n){m=!1,v&&(v=!1,y(C),C=-1),p=!0;var i=f;try{for(x(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&a(u),x(n)}else a(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,E=null,C=-1,_=5,M=-1;function A(){return!(t.unstable_now()-M<_)}function I(){if(null!==E){var e=t.unstable_now();M=e;var n=!0;try{n=E(!0,e)}finally{n?S():(T=!1,E=null)}}else T=!1}if("function"===typeof b)S=function(){b(I)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=I,S=function(){R.postMessage(null)}}else S=function(){g(I,0)};function O(e){E=e,T||(T=!0,S())}function D(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(v?(y(C),C=-1):v=!0,D(w,i-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,O(k))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6699:function(e,t,n){var r=n(2501),a=n(9112),i=n(2132),o=n(890),s=n(4113),l=n(1725),u=n(3411);u.alea=r,u.xor128=a,u.xorwow=i,u.xorshift7=o,u.xor4096=s,u.tychei=l,e.exports=u},2501:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this,n=function(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.alea=l}(0,e=n.nmd(e),n.amdD)},1725:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.tychei=l}(0,e=n.nmd(e),n.amdD)},9112:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor128=l}(0,e=n.nmd(e),n.amdD)},4113:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,o,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,a=0==(n=s[127&i]^=r+o)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=o,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},890:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},2132:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},3411:function(e,t,n){var r;!function(a,i){var o,s=this,l=256,u="random",c=i.pow(l,6),d=i.pow(2,52),h=2*d,f=l-1;function p(e,t,n){var r=[],f=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(a)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(l):(e=new Uint8Array(l),(s.crypto||s.msCrypto).getRandomValues(e)),b(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,b(a)]}}():e,3),r),p=new m(r),x=function(){for(var e=p.g(6),t=c,n=0;e<d;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=h;)e/=2,t/=2,n>>>=1;return(e+n)/t};return x.int32=function(){return 0|p.g(4)},x.quick=function(){return p.g(4)/4294967296},x.double=x,y(b(p.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&v(r,p),e.state=function(){return v(p,{})}),n?(i[u]=e,t):e})(x,f,"global"in t?t.global:this==i,t.state)}function m(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<l;)o[a]=a++;for(a=0;a<l;a++)o[a]=o[i=f&i+e[a%n]+(t=o[a])],o[i]=t;(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,o=r.S;e--;)t=o[a=f&a+1],n=n*l+o[f&(o[a]=o[i=f&i+t])+(o[i]=t)];return r.i=a,r.j=i,n})(l)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(i){}return r.length?r:"string"==a?e:e+"\0"}function y(e,t){for(var n,r=e+"",a=0;a<r.length;)t[f&a]=f&(n^=19*t[f&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(i["seed"+u]=p,y(i.random(),a),e.exports){e.exports=p;try{o=n(5042)}catch(x){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}([],Math)},9590:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e){var t=e.getContext("2d"),n=e.width,r=e.height,a=t.getImageData(0,0,n,r).data,s=i(!0,n,r,a),l=i(!1,n,r,a),u=o(!0,n,r,a),c=o(!1,n,r,a)-u+1,d=l-s+1,h=t.getImageData(u,s,c,d);return e.width=c,e.height=d,t.clearRect(0,0,c,d),t.putImageData(h,0,0),e}function r(e,t,n,r){return{red:r[4*(n*t+e)],green:r[4*(n*t+e)+1],blue:r[4*(n*t+e)+2],alpha:r[4*(n*t+e)+3]}}function a(e,t,n,a){return r(e,t,n,a).alpha}function i(e,t,n,r){for(var i=e?1:-1,o=e?0:n-1;e?o<n:o>-1;o+=i)for(var s=0;s<t;s++)if(a(s,o,t,r))return o;return null}function o(e,t,n,r){for(var i=e?1:-1,o=e?0:t-1;e?o<t:o>-1;o+=i)for(var s=0;s<n;s++)if(a(o,s,t,r))return o;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}])},1338:function(e,t,n){var r;!function(a,i){"use strict";var o="function",s="undefined",l="object",u="string",c="model",d="name",h="type",f="vendor",p="version",m="architecture",v="console",g="mobile",y="tablet",b="smarttv",x="wearable",w="embedded",k="Amazon",S="Apple",T="ASUS",E="BlackBerry",C="Browser",_="Chrome",M="Firefox",A="Google",I="Huawei",N="LG",R="Microsoft",O="Motorola",D="Opera",P="Samsung",L="Sony",F="Xiaomi",j="Zebra",z="Facebook",B=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},U=function(e,t){return typeof e===u&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},Z=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},V=function(e,t){for(var n,r,a,s,u,c,d=0;d<t.length&&!u;){var h=t[d],f=t[d+1];for(n=r=0;n<h.length&&!u;)if(u=h[n++].exec(e))for(a=0;a<f.length;a++)c=u[++r],typeof(s=f[a])===l&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,c):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=c?c.replace(s[1],s[2]):i:this[s[0]]=c?s[1].call(this,c,s[2]):i:4===s.length&&(this[s[0]]=c?s[3].call(this,c.replace(s[1],s[2])):i):this[s]=c||i;d+=2}},H=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(U(t[n][r],e))return"?"===n?i:n}else if(U(t[n],e))return"?"===n?i:n;return e},G={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[d,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UC"+C]],[/\bqbcore\/([\w\.]+)/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+C],p],[/\bfocus\/([\w\.]+)/i],[p,[d,M+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[p,[d,M]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+C]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+C],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,z],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,_+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,_+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,H,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,M+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,W]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[f,P],[h,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[f,P],[h,g]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[f,S],[h,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[f,S],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[f,I],[h,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[c,[f,I],[h,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[f,F],[h,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[f,F],[h,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[f,"OPPO"],[h,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[f,"Vivo"],[h,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[f,"Realme"],[h,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[f,O],[h,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[f,O],[h,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[f,N],[h,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[f,N],[h,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[f,"Lenovo"],[h,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[f,"Nokia"],[h,g]],[/(pixel c)\b/i],[c,[f,A],[h,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[f,A],[h,g]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[f,L],[h,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[f,L],[h,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[f,"OnePlus"],[h,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[f,k],[h,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[f,k],[h,g]],[/(playbook);[-\w\),; ]+(rim)/i],[c,f,[h,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[f,E],[h,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[f,T],[h,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[f,T],[h,g]],[/(nexus 9)/i],[c,[f,"HTC"],[h,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[f,[c,/_/g," "],[h,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[f,"Acer"],[h,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[f,"Meizu"],[h,g]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[f,"Sharp"],[h,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,c,[h,g]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,c,[h,y]],[/(surface duo)/i],[c,[f,R],[h,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[f,"Fairphone"],[h,g]],[/(u304aa)/i],[c,[f,"AT&T"],[h,g]],[/\bsie-(\w*)/i],[c,[f,"Siemens"],[h,g]],[/\b(rct\w+) b/i],[c,[f,"RCA"],[h,y]],[/\b(venue[\d ]{2,7}) b/i],[c,[f,"Dell"],[h,y]],[/\b(q(?:mv|ta)\w+) b/i],[c,[f,"Verizon"],[h,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[f,"Barnes & Noble"],[h,y]],[/\b(tm\d{3}\w+) b/i],[c,[f,"NuVision"],[h,y]],[/\b(k88) b/i],[c,[f,"ZTE"],[h,y]],[/\b(nx\d{3}j) b/i],[c,[f,"ZTE"],[h,g]],[/\b(gen\d{3}) b.+49h/i],[c,[f,"Swiss"],[h,g]],[/\b(zur\d{3}) b/i],[c,[f,"Swiss"],[h,y]],[/\b((zeki)?tb.*\b) b/i],[c,[f,"Zeki"],[h,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],c,[h,y]],[/\b(ns-?\w{0,9}) b/i],[c,[f,"Insignia"],[h,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[f,"NextBook"],[h,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],c,[h,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],c,[h,g]],[/\b(ph-1) /i],[c,[f,"Essential"],[h,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[f,"Envizen"],[h,y]],[/\b(trio[-\w\. ]+) b/i],[c,[f,"MachSpeed"],[h,y]],[/\btu_(1491) b/i],[c,[f,"Rotor"],[h,y]],[/(shield[\w ]+) b/i],[c,[f,"Nvidia"],[h,y]],[/(sprint) (\w+)/i],[f,c,[h,g]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[f,R],[h,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[f,j],[h,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[f,j],[h,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,c,[h,v]],[/droid.+; (shield) bui/i],[c,[f,"Nvidia"],[h,v]],[/(playstation [345portablevi]+)/i],[c,[f,L],[h,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[f,R],[h,v]],[/smart-tv.+(samsung)/i],[f,[h,b]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[f,P],[h,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,N],[h,b]],[/(apple) ?tv/i],[f,[c,S+" TV"],[h,b]],[/crkey/i],[[c,_+"cast"],[f,A],[h,b]],[/droid.+aft(\w)( bui|\))/i],[c,[f,k],[h,b]],[/\(dtv[\);].+(aquos)/i],[c,[f,"Sharp"],[h,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[f,Z],[c,Z],[h,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,b]],[/((pebble))app/i],[f,c,[h,x]],[/droid.+; (glass) \d/i],[c,[f,A],[h,x]],[/droid.+; (wt63?0{2,3})\)/i],[c,[f,j],[h,x]],[/(quest( 2)?)/i],[c,[f,z],[h,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[h,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[h,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[h,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,g]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[p,H,G]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[p,H,G]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,M+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[d,_+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,p]]},X=function e(t,n){if(typeof t===l&&(n=t,t=i),!(this instanceof e))return new e(t,n).getResult();var r=t||(typeof a!==s&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),o=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(q,n):q;return this.getBrowser=function(){var e,t={};return t[d]=i,t[p]=i,V.call(t,r,o.browser),t.major=typeof(e=t.version)===u?e.replace(/[^\d\.]/g,"").split(".")[0]:i,t},this.getCPU=function(){var e={};return e[m]=i,V.call(e,r,o.cpu),e},this.getDevice=function(){var e={};return e[f]=i,e[c]=i,e[h]=i,V.call(e,r,o.device),e},this.getEngine=function(){var e={};return e[d]=i,e[p]=i,V.call(e,r,o.engine),e},this.getOS=function(){var e={};return e[d]=i,e[p]=i,V.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>255?Z(e,255):e,this},this.setUA(r),this};X.VERSION="1.0.2",X.BROWSER=B([d,p,"major"]),X.CPU=B([m]),X.DEVICE=B([c,f,h,v,g,b,y,x,w]),X.ENGINE=X.OS=B([d,p]),typeof t!==s?(e.exports&&(t=e.exports=X),t.UAParser=X):n.amdO?(r=function(){return X}.call(t,n,t,e))===i||(e.exports=r):typeof a!==s&&(a.UAParser=X);var Y=typeof a!==s&&(a.jQuery||a.Zepto);if(Y&&!Y.ua){var K=new X;Y.ua=K.getResult(),Y.ua.get=function(){return K.getUA()},Y.ua.set=function(e){K.setUA(e);var t=K.getResult();for(var n in t)Y.ua[n]=t[n]}}}("object"===typeof window?window:this)},5590:function(e){"use strict";var t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r=64,a={},i=0,o=0;function s(e){var t="";do{t=n[e%r]+t,e=Math.floor(e/r)}while(e>0);return t}function l(){var e=s(+new Date);return e!==t?(i=0,t=e):e+"."+s(i++)}for(;o<r;o++)a[n[o]]=o;l.encode=s,l.decode=function(e){var t=0;for(o=0;o<e.length;o++)t=t*r+a[e.charAt(o)];return t},e.exports=l},1060:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var o=a.apply(null,n);o&&e.push(o)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},2798:function(e,t,n){var r=n(8018),a=n(4234).each;function i(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}i.prototype={constuctor:i,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;a(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){a(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";a(this.handlers,(function(t){t[e]()}))}},e.exports=i},3111:function(e,t,n){var r=n(2798),a=n(4234),i=a.each,o=a.isFunction,s=a.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var a=this.queries,l=n&&this.browserIsIncapable;return a[e]||(a[e]=new r(e,l)),o(t)&&(t={match:t}),s(t)||(t=[t]),i(t,(function(t){o(t)&&(t={match:t}),a[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},8018:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},4234:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},1254:function(e,t,n){var r=n(3111);e.exports=new r},148:function(e,t,n){var r=n(2626),a=function(e){var t="",n=Object.keys(e);return n.forEach((function(a,i){var o=e[a];(function(e){return/[height|width]$/.test(e)})(a=r(a))&&"number"===typeof o&&(o+="px"),t+=!0===o?a:!1===o?"not "+a:"("+a+": "+o+")",i<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=a(n),r<e.length-1&&(t+=", ")})),t):a(e)}},2982:function(e,t,n){var r=NaN,a="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=c||d||Function("return this")(),f=Object.prototype.toString,p=Math.max,m=Math.min,v=function(){return h.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==a}(e))return r;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,a,i,o,s,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,i=a;return r=a=void 0,u=t,o=e.apply(i,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=i}function x(){var e=v();if(b(e))return w(e);s=setTimeout(x,function(e){var n=t-(e-l);return d?m(n,i-(e-u)):n}(e))}function w(e){return s=void 0,h&&r?f(e):(r=a=void 0,o)}function k(){var e=v(),n=b(e);if(r=arguments,a=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(x,t),c?f(e):o}(l);if(d)return s=setTimeout(x,t),f(l)}return void 0===s&&(s=setTimeout(x,t)),o}return t=y(t)||0,g(n)&&(c=!!n.leading,i=(d="maxWait"in n)?p(y(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),k.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=a=s=void 0},k.flush=function(){return void 0===s?o:w(v())},k}},2839:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,a){for(var i,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in i=Object(arguments[l]))n.call(i,u)&&(s[u]=i[u]);if(t){o=t(i);for(var c=0;c<o.length;c++)r.call(i,o[c])&&(s[o[c]]=i[o[c]])}}return s}},4719:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NextArrow=t.PrevArrow=void 0;var r=o(n(9653)),a=o(n(1060)),i=n(7129);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var b=function(e){m(n,e);var t=g(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},i={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?r.default.cloneElement(this.props.prevArrow,c(c({},n),i)):r.default.createElement("button",l({key:"0",type:"button"},n)," ","Previous")}}]),n}(r.default.PureComponent);t.PrevArrow=b;var x=function(e){m(n,e);var t=g(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},o={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?r.default.cloneElement(this.props.nextArrow,c(c({},n),o)):r.default.createElement("button",l({key:"1",type:"button"},n)," ","Next")}}]),n}(r.default.PureComponent);t.NextArrow=x},1651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(9653))&&r.__esModule?r:{default:r};var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return a.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return a.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=i},8724:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var r=o(n(9653)),a=o(n(1060)),i=n(7129);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(f,e);var t,n,o,s=h(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s.apply(this,arguments)}return t=f,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,o=t.onMouseOver,s=t.onMouseLeave,c=t.infinite,d=t.slidesToScroll,h=t.slidesToShow,f=t.slideCount,p=t.currentSlide,m=(e={slideCount:f,slidesToScroll:d,slidesToShow:h,infinite:c}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,v={onMouseEnter:n,onMouseOver:o,onMouseLeave:s},g=[],y=0;y<m;y++){var b=(y+1)*d-1,x=c?b:(0,i.clamp)(b,0,f-1),w=x-(d-1),k=c?w:(0,i.clamp)(w,0,f-1),S=(0,a.default)({"slick-active":c?p>=k&&p<=x:p===k}),T={message:"dots",index:y,slidesToScroll:d,currentSlide:p},E=this.clickHandler.bind(this,T);g=g.concat(r.default.createElement("li",{key:y,className:S},r.default.cloneElement(this.props.customPaging(y),{onClick:E})))}return r.default.cloneElement(this.props.appendDots(g),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},v))}}],n&&c(t.prototype,n),o&&c(t,o),f}(r.default.PureComponent);t.Dots=p},2346:function(e,t,n){"use strict";var r;t.Z=void 0;var a=((r=n(3172))&&r.__esModule?r:{default:r}).default;t.Z=a},6166:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},1660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(9653)),a=h(n(6166)),i=h(n(2982)),o=h(n(1060)),s=n(7129),l=n(1579),u=n(8724),c=n(4719),d=h(n(3941));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var a=k(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(k,e);var t,n,h,v=x(k);function k(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),S(w(t=v.call(this,e)),"listRefHandler",(function(e){return t.list=e})),S(w(t),"trackRefHandler",(function(e){return t.track=e})),S(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),S(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=g({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new d.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),S(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),S(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var a=g(g({listRef:t.list,trackRef:t.track},t.props),t.state),i=t.didPropsChange(e);i&&t.updateState(a,i,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),S(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,i.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),S(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=g(g({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),S(w(t),"updateState",(function(e,n,a){var i=(0,s.initializedState)(e);e=g(g(g({},e),i),{},{slideIndex:i.currentSlide});var o=(0,s.getTrackLeft)(e);e=g(g({},e),{},{left:o});var l=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(i.trackStyle=l),t.setState(i,a)})),S(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,a=[],i=(0,s.getPreClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,s.getPostClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){a.push(t.props.style.width),e+=t.props.style.width}));for(var l=0;l<i;l++)n+=a[a.length-1-l],e+=a[a.length-1-l];for(var u=0;u<o;u++)e+=a[u];for(var c=0;c<t.state.currentSlide;c++)n+=a[c];var d={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(a[t.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:d}}var f=r.default.Children.count(t.props.children),p=g(g(g({},t.props),t.state),{},{slideCount:f}),m=(0,s.getPreClones)(p)+(0,s.getPostClones)(p)+f,v=100/t.props.slidesToShow*m,y=100/m,b=-y*((0,s.getPreClones)(p)+t.state.currentSlide)*v/100;return t.props.centerMode&&(b+=(100-y*v/100)/2),{slideWidth:y+"%",trackStyle:{width:v+"%",left:b+"%"}}})),S(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var a=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var i=e.onclick;e.onclick=function(){i(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=a,e.onerror=function(){a(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),S(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=g(g({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var a=t.state.currentSlide-1;a>=-(0,s.getPreClones)(n);a--)if(t.state.lazyLoadedList.indexOf(a)<0){e.push(a);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),S(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,a=r.asNavFor,i=r.beforeChange,o=r.onLazyLoad,l=r.speed,u=r.afterChange,c=t.state.currentSlide,d=(0,s.slideHandler)(g(g(g({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=d.state,f=d.nextState;if(h){i&&i(c,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),u&&u(c),delete t.animationEndCallback),t.setState(h,(function(){a&&t.asNavForIndex!==e&&(t.asNavForIndex=e,a.innerSlider.slideHandler(e)),f&&(t.animationEndCallback=setTimeout((function(){var e=f.animating,n=m(f,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),u&&u(h.currentSlide),delete t.animationEndCallback}))}),l))}))}})),S(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=g(g({},t.props),t.state),a=(0,s.changeSlide)(r,e);if((0===a||a)&&(!0===n?t.slideHandler(a,n):t.slideHandler(a),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var i=t.list.querySelectorAll(".slick-current");i[0]&&i[0].focus()}})),S(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),S(w(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),S(w(t),"selectHandler",(function(e){t.changeSlide(e)})),S(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),S(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),S(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),S(w(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),S(w(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),S(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),S(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),S(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),S(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),S(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(g(g({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),S(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),S(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),S(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),S(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),S(w(t),"render",(function(){var e,n,a,i=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),d=g(g({},t.props),t.state),h=(0,s.extractObject)(d,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),f=t.props.pauseOnHover;if(h=g(g({},h),{},{onMouseEnter:f?t.onTrackOver:null,onMouseLeave:f?t.onTrackLeave:null,onMouseOver:f?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var m=(0,s.extractObject)(d,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),v=t.props.pauseOnDotsHover;m=g(g({},m),{},{clickHandler:t.changeSlide,onMouseEnter:v?t.onDotsLeave:null,onMouseOver:v?t.onDotsOver:null,onMouseLeave:v?t.onDotsLeave:null}),e=r.default.createElement(u.Dots,m)}var y=(0,s.extractObject)(d,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(c.PrevArrow,y),a=r.default.createElement(c.NextArrow,y));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var x=null;!1===t.props.vertical?!0===t.props.centerMode&&(x={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(x={padding:t.props.centerPadding+" 0px"});var w=g(g({},b),x),k=t.props.touchMove,S={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:k?t.swipeStart:null,onMouseMove:t.state.dragging&&k?t.swipeMove:null,onMouseUp:k?t.swipeEnd:null,onMouseLeave:t.state.dragging&&k?t.swipeEnd:null,onTouchStart:k?t.swipeStart:null,onTouchMove:t.state.dragging&&k?t.swipeMove:null,onTouchEnd:k?t.touchEnd:null,onTouchCancel:t.state.dragging&&k?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},T={className:i,dir:"ltr",style:t.props.style};return t.props.unslick&&(S={className:"slick-list"},T={className:i}),r.default.createElement("div",T,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},S),r.default.createElement(l.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":a,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=g(g({},a.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=g(g({},t.state),n),t}return t=k,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,a=Object.keys(this.props);n<a.length;n++){var i=a[n];if(!e.hasOwnProperty(i)){t=!0;break}if("object"!==f(e[i])&&"function"!==typeof e[i]&&e[i]!==this.props[i]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&y(t.prototype,n),h&&y(t,h),k}(r.default.Component);t.InnerSlider=T},3172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(9653)),a=n(1660),i=l(n(148)),o=l(n(1651)),s=n(7129);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,s.canUseDOM)()&&n(1254),x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(d,e);var t,n,l,u=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),y(v(t=u.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),y(v(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),y(v(t),"slickNext",(function(){return t.innerSlider.slickNext()})),y(v(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),y(v(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),y(v(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=d,(n=[{key:"media",value:function(e,t){b.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var a;a=0===r?(0,i.default)({minWidth:0,maxWidth:n}):(0,i.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,s.canUseDOM)()&&e.media(a,(function(){e.setState({breakpoint:n})}))}));var n=(0,i.default)({minWidth:t.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){b.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},o.default),this.props),t[0].settings):h(h({},o.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var i=r.default.Children.toArray(this.props.children);i=i.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var s=[],l=null,u=0;u<i.length;u+=e.rows*e.slidesPerRow){for(var d=[],f=u;f<u+e.rows*e.slidesPerRow;f+=e.slidesPerRow){for(var p=[],m=f;m<f+e.slidesPerRow&&(e.variableWidth&&i[m].props.style&&(l=i[m].props.style.width),!(m>=i.length));m+=1)p.push(r.default.cloneElement(i[m],{key:100*u+10*f+m,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));d.push(r.default.createElement("div",{key:10*u+f},p))}e.variableWidth?s.push(r.default.createElement("div",{key:u,style:{width:l}},d)):s.push(r.default.createElement("div",{key:u},d))}if("unslick"===e){var v="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:v},i)}return s.length<=e.slidesToShow&&(e.unslick=!0),r.default.createElement(a.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},e),s)}}])&&f(t.prototype,n),l&&f(t,l),d}(r.default.Component);t.default=x},1579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var r=o(n(9653)),a=o(n(1060)),i=n(7129);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){var t,n,r,a,i;return r=(i=e.rtl?e.slideCount-1-e.index:e.index)<0||i>=e.slideCount,e.centerMode?(a=Math.floor(e.slidesToShow/2),n=(i-e.currentSlide)%e.slideCount===0,i>e.currentSlide-a-1&&i<=e.currentSlide+a&&(t=!0)):t=e.currentSlide<=i&&i<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":i===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},y=function(e,t){return e.key||t},b=function(e){var t,n=[],o=[],s=[],l=r.default.Children.count(e.children),u=(0,i.lazyStartIndex)(e),c=(0,i.lazyEndIndex)(e);return r.default.Children.forEach(e.children,(function(d,h){var f,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};f=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?d:r.default.createElement("div",null);var v=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(m(m({},e),{},{index:h})),b=f.props.className||"",x=g(m(m({},e),{},{index:h}));if(n.push(r.default.cloneElement(f,{key:"original"+y(f,h),"data-index":h,className:(0,a.default)(x,b),tabIndex:"-1","aria-hidden":!x["slick-active"],style:m(m({outline:"none"},f.props.style||{}),v),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var w=l-h;w<=(0,i.getPreClones)(e)&&l!==e.slidesToShow&&((t=-w)>=u&&(f=d),x=g(m(m({},e),{},{index:t})),o.push(r.default.cloneElement(f,{key:"precloned"+y(f,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(x,b),"aria-hidden":!x["slick-active"],style:m(m({},f.props.style||{}),v),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),l!==e.slidesToShow&&((t=l+h)<c&&(f=d),x=g(m(m({},e),{},{index:t})),s.push(r.default.cloneElement(f,{key:"postcloned"+y(f,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(x,b),"aria-hidden":!x["slick-active"],style:m(m({},f.props.style||{}),v),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?o.concat(n,s).reverse():o.concat(n,s)},x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,e);var t,n,a,i=d(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(h(e=i.call.apply(i,[this].concat(n))),"node",null),v(h(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=b(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return r.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&u(t.prototype,n),a&&u(t,a),o}(r.default.PureComponent);t.Track=x},7129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=l,t.canUseDOM=t.slidesOnLeft=t.slidesOnRight=t.siblingDirection=t.getTotalSlides=t.getPostClones=t.getPreClones=t.getTrackLeft=t.getTrackAnimateCSS=t.getTrackCSS=t.checkSpecKeys=t.getSlideCount=t.checkNavigable=t.getNavigableIndexes=t.swipeEnd=t.swipeMove=t.swipeStart=t.keyHandler=t.changeSlide=t.slideHandler=t.initializedState=t.extractObject=t.canGoNext=t.getSwipeDirection=t.getHeight=t.getWidth=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.lazyStartIndex=t.getRequiredLazySlides=t.getOnDemandLazySlides=t.safePreventDefault=void 0;var r,a=(r=n(9653))&&r.__esModule?r:{default:r};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return Math.max(t,Math.min(e,n))}var u=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=u;var c=function(e){for(var t=[],n=d(e),r=h(e),a=n;a<r;a++)e.lazyLoadedList.indexOf(a)<0&&t.push(a);return t};t.getOnDemandLazySlides=c;t.getRequiredLazySlides=function(e){for(var t=[],n=d(e),r=h(e),a=n;a<r;a++)t.push(a);return t};var d=function(e){return e.currentSlide-f(e)};t.lazyStartIndex=d;var h=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=h;var f=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=f;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var m=function(e){return e&&e.offsetWidth||0};t.getWidth=m;var v=function(e){return e&&e.offsetHeight||0};t.getHeight=v;var g=function(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(a=Math.round(180*r/Math.PI))<0&&(a=360-Math.abs(a)),a<=45&&a>=0||a<=360&&a>=315?"left":a>=135&&a<=225?"right":!0===i?a>=35&&a<=135?"up":"down":"vertical"};t.getSwipeDirection=g;var y=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=y;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=a.default.Children.count(e.children),r=e.listRef,i=Math.ceil(m(r)),s=e.trackRef&&e.trackRef.node,l=Math.ceil(m(s));if(e.vertical)t=i;else{var u=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(u*=i/100),t=Math.ceil((i-u)/e.slidesToShow)}var d=r&&v(r.querySelector('[data-index="0"]')),h=d*e.slidesToShow,f=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(f=n-1-e.initialSlide);var p=e.lazyLoadedList||[],g=c(o(o({},e),{},{currentSlide:f,lazyLoadedList:p})),y={slideCount:n,slideWidth:t,listWidth:i,trackWidth:l,currentSlide:f,slideHeight:d,listHeight:h,lazyLoadedList:p=p.concat(g)};return null===e.autoplaying&&e.autoplay&&(y.autoplaying="playing"),y};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,a=e.infinite,i=e.index,s=e.slideCount,u=e.lazyLoad,d=e.currentSlide,h=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,v=e.lazyLoadedList;if(t&&n)return{};var g,b,x,w=i,k={},C={},_=a?i:l(i,0,s-1);if(r){if(!a&&(i<0||i>=s))return{};i<0?w=i+s:i>=s&&(w=i-s),u&&v.indexOf(w)<0&&(v=v.concat(w)),k={animating:!0,currentSlide:w,lazyLoadedList:v,targetSlide:w},C={animating:!1,targetSlide:w}}else g=w,w<0?(g=w+s,a?s%f!==0&&(g=s-s%f):g=0):!y(e)&&w>d?w=g=d:h&&w>=s?(w=a?s:s-1,g=a?0:s-1):w>=s&&(g=w-s,a?s%f!==0&&(g=0):g=s-p),!a&&w+p>=s&&(g=s-p),b=E(o(o({},e),{},{slideIndex:w})),x=E(o(o({},e),{},{slideIndex:g})),a||(b===x&&(w=g),b=x),u&&(v=v.concat(c(o(o({},e),{},{currentSlide:w})))),m?(k={animating:!0,currentSlide:g,trackStyle:T(o(o({},e),{},{left:b})),lazyLoadedList:v,targetSlide:_},C={animating:!1,currentSlide:g,trackStyle:S(o(o({},e),{},{left:x})),swipeLeft:null,targetSlide:_}):k={currentSlide:g,trackStyle:S(o(o({},e),{},{left:x})),lazyLoadedList:v,targetSlide:_};return{state:k,nextState:C}};t.changeSlide=function(e,t){var n,r,a,i,s=e.slidesToScroll,l=e.slidesToShow,u=e.slideCount,c=e.currentSlide,d=e.targetSlide,h=e.lazyLoad,f=e.infinite;if(n=u%s!==0?0:(u-c)%s,"previous"===t.message)i=c-(a=0===n?s:l-n),h&&!f&&(i=-1===(r=c-a)?u-1:r),f||(i=d-s);else if("next"===t.message)i=c+(a=0===n?s:n),h&&!f&&(i=(c+s)%u+n),f||(i=d+s);else if("dots"===t.message)i=t.index*t.slidesToScroll;else if("children"===t.message){if(i=t.index,f){var p=A(o(o({},e),{},{targetSlide:i}));i>t.currentSlide&&"left"===p?i-=u:i<t.currentSlide&&"right"===p&&(i+=u)}}else"index"===t.message&&(i=Number(t.index));return i};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&u(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,a=t.vertical,i=t.swipeToSlide,s=t.verticalSwiping,l=t.rtl,c=t.currentSlide,d=t.edgeFriction,h=t.edgeDragged,f=t.onEdge,p=t.swiped,m=t.swiping,v=t.slideCount,b=t.slidesToScroll,x=t.infinite,w=t.touchObject,k=t.swipeEvent,T=t.listHeight,C=t.listWidth;if(!n){if(r)return u(e);a&&i&&s&&u(e);var _,M={},A=E(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var I=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!s&&!m&&I>10)return{scrolling:!0};s&&(w.swipeLength=I);var N=(l?-1:1)*(w.curX>w.startX?1:-1);s&&(N=w.curY>w.startY?1:-1);var R=Math.ceil(v/b),O=g(t.touchObject,s),D=w.swipeLength;return x||(0===c&&("right"===O||"down"===O)||c+1>=R&&("left"===O||"up"===O)||!y(t)&&("left"===O||"up"===O))&&(D=w.swipeLength*d,!1===h&&f&&(f(O),M.edgeDragged=!0)),!p&&k&&(k(O),M.swiped=!0),_=a?A+D*(T/C)*N:l?A-D*N:A+D*N,s&&(_=A+D*N),M=o(o({},M),{},{touchObject:w,swipeLeft:_,trackStyle:S(o(o({},t),{},{left:_}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?M:(w.swipeLength>10&&(M.swiping=!0,u(e)),M)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,a=t.touchObject,i=t.listWidth,s=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,d=t.swipeToSlide,h=t.scrolling,f=t.onSwipe,p=t.targetSlide,m=t.currentSlide,v=t.infinite;if(!n)return r&&u(e),{};var y=l?c/s:i/s,b=g(a,l),k={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return k;if(!a.swipeLength)return k;if(a.swipeLength>y){var S,C;u(e),f&&f(b);var _=v?m:p;switch(b){case"left":case"up":C=_+w(t),S=d?x(t,C):C,k.currentDirection=0;break;case"right":case"down":C=_-w(t),S=d?x(t,C):C,k.currentDirection=1;break;default:S=_}k.triggerSlideHandler=S}else{var M=E(t);k.trackStyle=T(o(o({},t),{},{left:M}))}return k};var b=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,a=[];n<t;)a.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return a};t.getNavigableIndexes=b;var x=function(e,t){var n=b(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var a in n){if(t<n[a]){t=r;break}r=n[a]}return t};t.checkNavigable=x;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,a=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(a).every((function(r){if(e.vertical){if(r.offsetTop+v(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+m(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var i=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-i)||1}return e.slidesToScroll};t.getSlideCount=w;var k=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=k;var S=function(e){var t,n;k(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=M(e)*e.slideWidth;var a={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";a=o(o({},a),{},{WebkitTransform:i,transform:s,msTransform:l})}else e.vertical?a.top=e.left:a.left=e.left;return e.fade&&(a={opacity:1}),t&&(a.width=t),n&&(a.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?a.marginTop=e.left+"px":a.marginLeft=e.left+"px"),a};t.getTrackCSS=S;var T=function(e){k(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=S(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=T;var E=function(e){if(e.unslick)return 0;k(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,a=e.trackRef,i=e.infinite,o=e.centerMode,s=e.slideCount,l=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,p=e.fade,m=e.vertical;if(p||1===e.slideCount)return 0;var v=0;if(i?(v=-C(e),s%u!==0&&r+u>s&&(v=-(r>s?l-(r-s):s%u)),o&&(v+=parseInt(l/2))):(s%u!==0&&r+u>s&&(v=l-s%u),o&&(v=parseInt(l/2))),t=m?r*f*-1+v*f:r*c*-1+v*c,!0===h){var g,y=a&&a.node;if(g=r+C(e),t=(n=y&&y.childNodes[g])?-1*n.offsetLeft:0,!0===o){g=i?r+C(e):r,n=y&&y.children[g],t=0;for(var b=0;b<g;b++)t-=y&&y.children[b]&&y.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var C=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=C;var _=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=_;var M=function(e){return 1===e.slideCount?1:C(e)+e.slideCount+_(e)};t.getTotalSlides=M;var A=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+I(e)?"left":"right":e.targetSlide<e.currentSlide-N(e)?"right":"left"};t.siblingDirection=A;var I=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,a=e.centerPadding;if(n){var i=(t-1)/2+1;return parseInt(a)>0&&(i+=1),r&&t%2===0&&(i+=1),i}return r?0:t-1};t.slidesOnRight=I;var N=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,a=e.centerPadding;if(n){var i=(t-1)/2+1;return parseInt(a)>0&&(i+=1),r||t%2!==0||(i+=1),i}return r?t-1:0};t.slidesOnLeft=N;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},483:function(e,t,n){"use strict";var r=n(2839),a=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),i=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case i:l=!0}}if(l)return o=o(l=e),e=""===r?"."+C(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),_(o,t,n,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+C(s=e[u],u);l+=_(s,t,n,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=_(s=s.value,t,n,c=r+C(s,u++),o);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function M(e,t,n){if(null==e)return e;var r=[],a=0;return _(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function N(){var e=I.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var i=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},9653:function(e,t,n){"use strict";e.exports=n(483)},3941:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),a="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function i(){n&&(n=!1,e()),r&&l()}function s(){o(i)}function l(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);a=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},h=y(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=d(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],i=e["padding-"+a];t[a]=f(i)}return t}(r),i=a.left+a.right,o=a.top+a.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=p(r,"left","right")+i),Math.round(l+o)!==n&&(l-=p(r,"top","bottom")+o)),!function(e){return e===d(e).document.documentElement}(e)){var u=Math.round(s+i)-t,c=Math.round(l+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return y(a.left,a.top,s,l)}var v="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return a?v(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):h}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),x=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,a=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(i.prototype);return c(o,{x:t,y:n,width:r,height:a,top:n,right:t+r,bottom:a+n,left:t}),o}(t);c(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new x(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),k="undefined"!==typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new w(t,n,this);k.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}}));var T="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:S;t.default=T},2626:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},7969:function(e,t,n){"use strict";n.r(t),t.default={}},5410:function(){},8628:function(){},1601:function(){},7792:function(){},4977:function(){},5042:function(){},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r(a.key),a)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),a=n(9617),i=n(4993);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,a=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function a(){"use strict";e.exports=a=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},i=Object.prototype,o=i.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof x?t:x,i=Object.create(a.prototype),o=new O(r||[]);return s(i,"_invoke",{value:A(e,n,o)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",v="suspendedYield",g="executing",y="completed",b={};function x(){}function w(){}function k(){}var S={};h(S,u,(function(){return this}));var T=Object.getPrototypeOf,E=T&&T(T(D([])));E&&E!==i&&o.call(E,u)&&(S=E);var C=k.prototype=x.prototype=Object.create(S);function _(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(a,i,s,l){var u=p(e[a],e,i);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var a;s(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}})}function A(e,n,r){var a=m;return function(i,o){if(a===g)throw new Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:t,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var l=I(s,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=g;var u=p(e,n,r);if("normal"===u.type){if(a=r.done?y:v,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=y,r.method="throw",r.arg=u.arg)}}}function I(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=p(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(o.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=k,s(C,"constructor",{value:k,configurable:!0}),s(k,"constructor",{value:w,configurable:!0}),w.displayName=h(k,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,h(e,d,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},_(M.prototype),h(M.prototype,c,(function(){return this})),n.AsyncIterator=M,n.async=function(e,t,r,a,i){void 0===i&&(i=Promise);var o=new M(f(e,t,r,a),i);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(C),h(C,d,"Generator"),h(C,u,(function(){return this})),h(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=D,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;R(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,a=n(5036);e.exports=function(e){var t=a(e,"string");return"symbol"==r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function a(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var a=n(181),i=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||(0,a.Z)(e,t)||(0,i.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var a=n(9199),i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1002);function a(e){var t=function(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=(0,r.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},354:function(e,t,n){"use strict";function r(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()}function a(e,t,n,r){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=r}function i(e,t){var n=this,r=t||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=function(e,t,n){var r,a,i,o=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),o=null,i=e.apply(r,a),o||(r=a=null)};return function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=t-(u-s);return r=this,a=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),s=u,i=e.apply(r,a),o||(r=a=null)):o||!1===n.trailing||(o=setTimeout(l,c)),i}}(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(n._mouseButtonDown=!0,n._strokeBegin(e))},this._handleMouseMove=function(e){n._mouseButtonDown&&n._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];n._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];n._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===n._canvas&&(e.preventDefault(),n._strokeEnd(e))},this.on()}n.r(t),r.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},r.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},r.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},a.prototype.length=function(){for(var e=0,t=void 0,n=void 0,r=0;r<=10;r+=1){var a=r/10,i=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var s=i-t,l=o-n;e+=Math.sqrt(s*s+l*l)}t=i,n=o}return e},a.prototype._point=function(e,t,n,r,a){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+a*e*e*e},i.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Image,a=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/a,o=n.height||this._canvas.height/a;this._reset(),r.src=e,r.onload=function(){t._ctx.drawImage(r,0,0,i,o)},this._isEmpty=!1},i.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=this._canvas).toDataURL.apply(t,[e].concat(r))},i.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},i.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"===typeof this.onBegin&&this.onBegin(e)},i.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,r=this._createPoint(t,n),a=this._data[this._data.length-1],i=a&&a[a.length-1],o=i&&r.distanceTo(i)<this.minDistance;if(!i||!o){var s=this._addPoint(r),l=s.curve,u=s.widths;l&&u&&this._drawCurve(l,u.start,u.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}},i.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],a=r[r.length-1];n.equals(a)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"===typeof this.onEnd&&this.onEnd(e)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(e,t,n){var a=this._canvas.getBoundingClientRect();return new r(e-a.left,t-a.top,n||(new Date).getTime())},i.prototype._addPoint=function(e){var t=this.points;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,r=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,i=new a(t[1],n,r,t[2]),o=this._calculateCurveWidths(i);return t.shift(),{curve:i,widths:o}}return{}},i.prototype._calculateCurveControlPoints=function(e,t,n){var a=e.x-t.x,i=e.y-t.y,o=t.x-n.x,s=t.y-n.y,l=(e.x+t.x)/2,u=(e.y+t.y)/2,c=(t.x+n.x)/2,d=(t.y+n.y)/2,h=Math.sqrt(a*a+i*i),f=Math.sqrt(o*o+s*s),p=f/(h+f),m=c+(l-c)*p,v=d+(u-d)*p,g=t.x-m,y=t.y-v;return{c1:new r(l+g,u+y),c2:new r(c+g,d+y)}},i.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,r={start:null,end:null},a=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(a);return r.start=this._lastWidth,r.end=i,this._lastVelocity=a,this._lastWidth=i,r},i.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},i.prototype._drawPoint=function(e,t,n){var r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(e,t,n){var r=this._ctx,a=n-t,i=Math.floor(e.length());r.beginPath();for(var o=0;o<i;o+=1){var s=o/i,l=s*s,u=l*s,c=1-s,d=c*c,h=d*c,f=h*e.startPoint.x;f+=3*d*s*e.control1.x,f+=3*c*l*e.control2.x,f+=u*e.endPoint.x;var p=h*e.startPoint.y;p+=3*d*s*e.control1.y,p+=3*c*l*e.control2.y,p+=u*e.endPoint.y;var m=t+u*a;this._drawPoint(f,p,m)}r.closePath(),r.fill()},i.prototype._drawDot=function(e){var t=this._ctx,n="function"===typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},i.prototype._fromData=function(e,t,n){for(var a=0;a<e.length;a+=1){var i=e[a];if(i.length>1)for(var o=0;o<i.length;o+=1){var s=i[o],l=new r(s.x,s.y,s.time),u=s.color;if(0===o)this.penColor=u,this._reset(),this._addPoint(l);else if(o!==i.length-1){var c=this._addPoint(l),d=c.curve,h=c.widths;d&&h&&t(d,h,u)}}else this._reset(),n(i[0])}},i.prototype._toSVG=function(){var e=this,t=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),a=n.width/r,i=n.height/r,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"width",n.width),o.setAttributeNS(null,"height",n.height),this._fromData(t,(function(e,t,n){var r=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){var a="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);r.setAttribute("d",a),r.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),o.appendChild(r)}}),(function(t){var n=document.createElement("circle"),r="function"===typeof e.dotSize?e.dotSize():e.dotSize;n.setAttribute("r",r),n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("fill",t.color),o.appendChild(n)}));var s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+a+" "+i+'" width="'+a+'" height="'+i+'">',l=o.innerHTML;if(void 0===l){var u=document.createElement("dummy"),c=o.childNodes;u.innerHTML="";for(var d=0;d<c.length;d+=1)u.appendChild(c[d].cloneNode(!0));l=u.innerHTML}return"data:image/svg+xml;base64,"+btoa(s+l+"</svg>")},i.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,(function(e,n){return t._drawCurve(e,n.start,n.end)}),(function(e){return t._drawDot(e)})),this._data=e},i.prototype.toData=function(){return this._data},t.default=i}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(i,o),i}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".506da295.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="client:";n.l=function(r,a,i,o){if(e[r])e[r].push(a);else{var s,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[a];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var a,i,o=r[0],s=r[1],l=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)l(n)}for(t&&t(r);u<o.length;u++)i=o[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{Decoder:function(){return qv},Encoder:function(){return Gv},PacketType:function(){return Vv},protocol:function(){return Hv}});var t={};n.r(t),n.d(t,{browserFiles:function(){return nE},browserHTTPRequest:function(){return pE},concatenateArrayBuffers:function(){return JS},copyModel:function(){return UT},decodeWeights:function(){return HS},encodeWeights:function(){return ZS},fromMemory:function(){return yE},getLoadHandlers:function(){return lT},getModelArtifactsForJSON:function(){return eT},getModelArtifactsInfoForJSON:function(){return nT},getSaveHandlers:function(){return sT},http:function(){return fE},isHTTPScheme:function(){return dE},listModels:function(){return FT},loadWeights:function(){return oE},moveModel:function(){return ZT},registerLoadRouter:function(){return oT},registerSaveRouter:function(){return iT},removeModel:function(){return zT},weightsLoaderFactory:function(){return lE},withSaveHandler:function(){return bE}});var r={};n.r(r),n.d(r,{conv2d:function(){return rI},depthwiseConv2d:function(){return oI},matMul:function(){return sI}});var a={};n.r(a),n.d(a,{json:function(){return mB}});var i={};n.r(i),n.d(i,{json:function(){return vB}});var o={};n.r(o),n.d(o,{json:function(){return gB}});var s={};n.r(s),n.d(s,{json:function(){return yB}});var l={};n.r(l),n.d(l,{json:function(){return bB}});var u={};n.r(u),n.d(u,{json:function(){return xB}});var c={};n.r(c),n.d(c,{json:function(){return wB}});var d={};n.r(d),n.d(d,{json:function(){return kB}});var h={};n.r(h),n.d(h,{json:function(){return SB}});var f={};n.r(f),n.d(f,{json:function(){return TB}});var p={};n.r(p),n.d(p,{json:function(){return EB}});var m={};n.r(m),n.d(m,{json:function(){return CB}});var v={};n.r(v),n.d(v,{json:function(){return _B}});var g={};n.r(g),n.d(g,{json:function(){return MB}});var y={};n.r(y),n.d(y,{json:function(){return AB}});var b={};n.r(b),n.d(b,{json:function(){return IB}});var x={};n.r(x),n.d(x,{json:function(){return NB}});var w={};n.r(w),n.d(w,{json:function(){return RB}});var k={};n.r(k),n.d(k,{json:function(){return OB}});var S={};n.r(S),n.d(S,{OP_SCOPE_SUFFIX:function(){return LS},abs:function(){return qE},acos:function(){return XE},acosh:function(){return YE},add:function(){return KE},addN:function(){return JE},all:function(){return $E},any:function(){return QE},argMax:function(){return eC},argMin:function(){return tC},asin:function(){return nC},asinh:function(){return rC},atan:function(){return aC},atan2:function(){return iC},atanh:function(){return oC},avgPool:function(){return kC},avgPool3d:function(){return SC},basicLSTMCell:function(){return IC},batchNorm:function(){return RC},batchNorm2d:function(){return OC},batchNorm3d:function(){return DC},batchNorm4d:function(){return PC},batchToSpaceND:function(){return NC},bincount:function(){return LC},booleanMaskAsync:function(){return FA},broadcastArgs:function(){return FC},broadcastTo:function(){return jC},buffer:function(){return YT},cast:function(){return KT},ceil:function(){return zC},clipByValue:function(){return BC},clone:function(){return JT},complex:function(){return jS},concat:function(){return TC},concat1d:function(){return UC},concat2d:function(){return WC},concat3d:function(){return ZC},concat4d:function(){return VC},conv1d:function(){return GC},conv2d:function(){return HC},conv2dTranspose:function(){return XC},conv3d:function(){return YC},conv3dTranspose:function(){return JC},cos:function(){return $C},cosh:function(){return QC},cosineWindow:function(){return YA},cumsum:function(){return e_},denseBincount:function(){return t_},depthToSpace:function(){return n_},depthwiseConv2d:function(){return r_},diag:function(){return a_},dilation2d:function(){return i_},div:function(){return s_},divNoNan:function(){return d_},dot:function(){return h_},dropout:function(){return qA},einsum:function(){return f_},elu:function(){return p_},enclosingPowerOfTwo:function(){return XA},equal:function(){return l_},erf:function(){return m_},exp:function(){return v_},expandDims:function(){return g_},expm1:function(){return y_},eye:function(){return x_},fft:function(){return cA},fill:function(){return w_},floor:function(){return k_},floorDiv:function(){return o_},fused:function(){return r},gather:function(){return S_},gatherND:function(){return GA},greater:function(){return T_},greaterEqual:function(){return E_},ifft:function(){return dA},imag:function(){return C_},image:function(){return lN},inTopKAsync:function(){return JA},irfft:function(){return hA},isFinite:function(){return __},isInf:function(){return M_},isNaN:function(){return A_},leakyRelu:function(){return I_},less:function(){return N_},lessEqual:function(){return R_},linalg:function(){return uN},linspace:function(){return O_},localResponseNormalization:function(){return D_},log:function(){return P_},log1p:function(){return L_},logSigmoid:function(){return z_},logSoftmax:function(){return Z_},logSumExp:function(){return J_},logicalAnd:function(){return $_},logicalNot:function(){return Q_},logicalOr:function(){return eM},logicalXor:function(){return tM},losses:function(){return cN},matMul:function(){return EC},max:function(){return B_},maxPool:function(){return nM},maxPool3d:function(){return rM},maxPoolWithArgmax:function(){return aM},maximum:function(){return iM},mean:function(){return oM},meshgrid:function(){return uM},min:function(){return cM},minimum:function(){return dM},mirrorPad:function(){return hM},mod:function(){return fM},moments:function(){return mM},movingAverage:function(){return UA},mul:function(){return CC},multiRNNCell:function(){return vM},multinomial:function(){return gM},neg:function(){return F_},norm:function(){return BA},notEqual:function(){return yM},oneHot:function(){return bM},ones:function(){return lM},onesLike:function(){return xM},op:function(){return FS},outerProduct:function(){return wM},pad:function(){return kM},pad1d:function(){return SM},pad2d:function(){return TM},pad3d:function(){return EM},pad4d:function(){return CM},pool:function(){return MM},pow:function(){return AM},prelu:function(){return IM},print:function(){return $T},prod:function(){return NM},rand:function(){return RM},randomGamma:function(){return FM},randomNormal:function(){return jM},randomUniform:function(){return zM},range:function(){return BM},real:function(){return UM},reciprocal:function(){return WM},relu:function(){return ZM},relu6:function(){return VM},reshape:function(){return wC},reverse:function(){return HM},reverse1d:function(){return GM},reverse2d:function(){return qM},reverse3d:function(){return XM},reverse4d:function(){return YM},rfft:function(){return pA},round:function(){return KM},rsqrt:function(){return JM},scalar:function(){return HE},scatterND:function(){return VA},selu:function(){return $M},separableConv2d:function(){return QM},setdiff1dAsync:function(){return tA},sigmoid:function(){return _C},sign:function(){return nA},signal:function(){return sN},sin:function(){return rA},sinh:function(){return aA},slice:function(){return MC},slice1d:function(){return iA},slice2d:function(){return oA},slice3d:function(){return sA},slice4d:function(){return lA},softmax:function(){return uA},softplus:function(){return j_},spaceToBatchND:function(){return _M},sparse:function(){return dN},sparseToDense:function(){return HA},spectral:function(){return oN},split:function(){return fA},sqrt:function(){return mA},square:function(){return pM},squaredDifference:function(){return vA},squeeze:function(){return gA},stack:function(){return yA},step:function(){return bA},stridedSlice:function(){return xA},string:function(){return hN},sub:function(){return U_},sum:function(){return W_},tan:function(){return wA},tanh:function(){return AC},tensor:function(){return BS},tensor1d:function(){return kA},tensor2d:function(){return SA},tensor3d:function(){return SE},tensor4d:function(){return TA},tensor5d:function(){return EA},tensor6d:function(){return CA},tile:function(){return b_},topk:function(){return _A},transpose:function(){return jA},truncatedNormal:function(){return MA},unique:function(){return AA},unsortedSegmentSum:function(){return IA},unstack:function(){return NA},variable:function(){return RA},where:function(){return u_},whereAsync:function(){return PA},zeros:function(){return sM},zerosLike:function(){return c_}});var T=n(2791),E=n.t(T,2),C=n(1250),_=n(3433);function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var A=n(9142);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,A.Z)(r.key),r)}}function N(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(d4){return!1}}var L=n(1002);function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){if(t&&("object"===(0,L.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function z(e){var t=P();return function(){var n,r=D(e);if(t){var a=D(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function B(e,t,n){return B=P()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&R(a,n.prototype),a},B.apply(null,arguments)}function U(e){var t="function"===typeof Map?new Map:void 0;return U=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(d4){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return B(e,arguments,D(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),R(n,e)},U(e)}var W,Z=n(9439),V=n(3878),H=n(9199),G=n(181),q=n(5267);function X(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,G.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(W||(W={}));var K,J="popstate";function Q(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function ee(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(d4){}}}function te(e,t){return{usr:e.state,key:e.key,idx:t}}function ne(e,t,n,r){return void 0===n&&(n=null),Y({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ae(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function re(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,i=e.hash,o=void 0===i?"":i;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function ae(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ie(e,t,n,r){void 0===r&&(r={});var a=r,i=a.window,o=void 0===i?document.defaultView:i,s=a.v5Compat,l=void 0!==s&&s,u=o.history,c=W.Pop,d=null,h=f();function f(){return(u.state||{idx:null}).idx}function p(){c=W.Pop;var e=f(),t=null==e?null:e-h;h=e,d&&d({action:c,location:v.location,delta:t})}function m(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:re(e);return Q(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,u.replaceState(Y({},u.state,{idx:h}),""));var v={get action(){return c},get location(){return e(o,u)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(J,p),d=e,function(){o.removeEventListener(J,p),d=null}},createHref:function(e){return t(o,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=W.Push;var r=ne(v.location,e,t);n&&n(r,e);var a=te(r,h=f()+1),i=v.createHref(r);try{u.pushState(a,"",i)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;o.location.assign(i)}l&&d&&d({action:c,location:v.location,delta:1})},replace:function(e,t){c=W.Replace;var r=ne(v.location,e,t);n&&n(r,e);var a=te(r,h=f()),i=v.createHref(r);u.replaceState(a,"",i),l&&d&&d({action:c,location:v.location,delta:0})},go:function(e){return u.go(e)}};return v}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(K||(K={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function oe(e,t,n){void 0===n&&(n="/");var r=xe(("string"===typeof t?ae(t):t).pathname||"/",n);if(null==r)return null;var a=se(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var i=null,o=0;null==i&&o<a.length;++o)i=ge(a[o],be(r));return i}function se(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var a=function(e,a,i){var o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(Q(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Te([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(Q(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),se(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:ve(s,e.index),routesMeta:l})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,i=X(le(e.path));try{for(i.s();!(r=i.n()).done;){var o=r.value;a(e,t,o)}}catch(s){i.e(s)}finally{i.f()}}else a(e,t)})),t}function le(e){var t=e.split("/");if(0===t.length)return[];var n,r=(n=t,(0,V.Z)(n)||(0,H.Z)(n)||(0,G.Z)(n)||(0,q.Z)()),a=r[0],i=r.slice(1),o=a.endsWith("?"),s=a.replace(/\?$/,"");if(0===i.length)return o?[s,""]:[s];var l=le(i.join("/")),u=[];return u.push.apply(u,(0,_.Z)(l.map((function(e){return""===e?s:[s,e].join("/")})))),o&&u.push.apply(u,(0,_.Z)(l)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var ue=/^:\w+$/,ce=3,de=2,he=1,fe=10,pe=-2,me=function(e){return"*"===e};function ve(e,t){var n=e.split("/"),r=n.length;return n.some(me)&&(r+=pe),t&&(r+=de),n.filter((function(e){return!me(e)})).reduce((function(e,t){return e+(ue.test(t)?ce:""===t?he:fe)}),r)}function ge(e,t){for(var n=e.routesMeta,r={},a="/",i=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,u="/"===a?t:t.slice(a.length)||"/",c=ye({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var d=s.route;i.push({params:r,pathname:Te([a,c.pathname]),pathnameBase:Ee(Te([a,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(a=Te([a,c.pathnameBase]))}return i}function ye(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);ee("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");var i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),r=(0,Z.Z)(n,2),a=r[0],i=r[1],o=t.match(a);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),u=o.slice(1),c=i.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return ee(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(u[n]||"",t),e}),{});return{params:c,pathname:s,pathnameBase:l,pattern:e}}function be(e){try{return decodeURI(e)}catch(t){return ee(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function xe(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function we(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ke(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Se(e,t,n,r){var a;void 0===r&&(r=!1),"string"===typeof e?a=ae(e):(Q(!(a=Y({},e)).pathname||!a.pathname.includes("?"),we("?","pathname","search",a)),Q(!a.pathname||!a.pathname.includes("#"),we("#","pathname","hash",a)),Q(!a.search||!a.search.includes("#"),we("#","search","hash",a)));var i,o=""===e||""===a.pathname,s=o?"/":a.pathname;if(r||null==s)i=n;else{var l=t.length-1;if(s.startsWith("..")){for(var u=s.split("/");".."===u[0];)u.shift(),l-=1;a.pathname=u.join("/")}i=l>=0?t[l]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?ae(e):e,r=n.pathname,a=n.search,i=void 0===a?"":a,o=n.hash,s=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:Ce(i),hash:_e(s)}}(a,i),d=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}var Te=function(e){return e.join("/").replace(/\/\/+/g,"/")},Ee=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Ce=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},_e=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Me=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n)}(U(Error));function Ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Ie=["post","put","patch","delete"],Ne=(new Set(Ie),["get"].concat(Ie));new Set(Ne),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}var Oe=T.createContext(null);var De=T.createContext(null);var Pe=T.createContext(null);var Le=T.createContext(null);var Fe=T.createContext(null);var je=T.createContext({outlet:null,matches:[],isDataRoute:!1});var ze=T.createContext(null);function Be(){return null!=T.useContext(Fe)}function Ue(){return Be()||Q(!1),T.useContext(Fe).location}function We(e){T.useContext(Le).static||T.useLayoutEffect(e)}function Ze(){return T.useContext(je).isDataRoute?function(){var e=et(Xe.UseNavigateStable).router,t=nt(Ye.UseNavigateStable),n=T.useRef(!1);We((function(){n.current=!0}));var r=T.useCallback((function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Re({fromRouteId:t},a)))}),[e,t]);return r}():function(){Be()||Q(!1);var e=T.useContext(Oe),t=T.useContext(Le),n=t.basename,r=t.navigator,a=T.useContext(je).matches,i=Ue().pathname,o=JSON.stringify(ke(a).map((function(e){return e.pathnameBase}))),s=T.useRef(!1);We((function(){s.current=!0}));var l=T.useCallback((function(t,a){if(void 0===a&&(a={}),s.current)if("number"!==typeof t){var l=Se(t,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:Te([n,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)}else r.go(t)}),[n,r,o,i,e]);return l}()}function Ve(){var e=T.useContext(je).matches,t=e[e.length-1];return t?t.params:{}}function He(e,t){var n=(void 0===t?{}:t).relative,r=T.useContext(je).matches,a=Ue().pathname,i=JSON.stringify(ke(r).map((function(e){return e.pathnameBase})));return T.useMemo((function(){return Se(e,JSON.parse(i),a,"path"===n)}),[e,i,a,n])}function Ge(e,t,n){Be()||Q(!1);var r,a=T.useContext(Le).navigator,i=T.useContext(je).matches,o=i[i.length-1],s=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,Ue());if(t){var c,d="string"===typeof t?ae(t):t;"/"===l||(null==(c=d.pathname)?void 0:c.startsWith(l))||Q(!1),r=d}else r=u;var h=r.pathname||"/",f=oe(e,{pathname:"/"===l?h:h.slice(l.length)||"/"});var p=Qe(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Te([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Te([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),i,n);return t&&p?T.createElement(Fe.Provider,{value:{location:Re({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:W.Pop}},p):p}function qe(){var e=function(){var e,t=T.useContext(ze),n=tt(Ye.UseRouteError),r=nt(Ye.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Ae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:a},n):null,null)}var Xe,Ye,Ke=T.createElement(qe,null),Je=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return N(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?T.createElement(je.Provider,{value:this.props.routeContext},T.createElement(ze.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(T.Component);function $e(e){var t=e.routeContext,n=e.match,r=e.children,a=T.useContext(Oe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(je.Provider,{value:t},r)}function Qe(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var i=e,o=null==(r=n)?void 0:r.errors;if(null!=o){var s=i.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));s>=0||Q(!1),i=i.slice(0,Math.min(i.length,s+1))}return i.reduceRight((function(e,r,a){var s=r.route.id?null==o?void 0:o[r.route.id]:null,l=null;n&&(l=r.route.errorElement||Ke);var u=t.concat(i.slice(0,a+1)),c=function(){var t;return t=s?l:r.route.Component?T.createElement(r.route.Component,null):r.route.element?r.route.element:e,T.createElement($e,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?T.createElement(Je,{location:n.location,revalidation:n.revalidation,component:l,error:s,children:c(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):c()}),null)}function et(e){var t=T.useContext(Oe);return t||Q(!1),t}function tt(e){var t=T.useContext(De);return t||Q(!1),t}function nt(e){var t=function(e){var t=T.useContext(je);return t||Q(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||Q(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Xe||(Xe={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ye||(Ye={}));var rt;function at(e){var t=e.to,n=e.replace,r=e.state,a=e.relative;Be()||Q(!1);var i=T.useContext(je).matches,o=Ue().pathname,s=Ze(),l=Se(t,ke(i).map((function(e){return e.pathnameBase})),o,"path"===a),u=JSON.stringify(l);return T.useEffect((function(){return s(JSON.parse(u),{replace:n,state:r,relative:a})}),[s,u,a,n,r]),null}function it(e){Q(!1)}function ot(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,a=void 0===r?null:r,i=e.location,o=e.navigationType,s=void 0===o?W.Pop:o,l=e.navigator,u=e.static,c=void 0!==u&&u;Be()&&Q(!1);var d=n.replace(/^\/*/,"/"),h=T.useMemo((function(){return{basename:d,navigator:l,static:c}}),[d,l,c]);"string"===typeof i&&(i=ae(i));var f=i,p=f.pathname,m=void 0===p?"/":p,v=f.search,g=void 0===v?"":v,y=f.hash,b=void 0===y?"":y,x=f.state,w=void 0===x?null:x,k=f.key,S=void 0===k?"default":k,E=T.useMemo((function(){var e=xe(m,d);return null==e?null:{location:{pathname:e,search:g,hash:b,state:w,key:S},navigationType:s}}),[d,m,g,b,w,S,s]);return null==E?null:T.createElement(Le.Provider,{value:h},T.createElement(Fe.Provider,{children:a,value:E}))}function st(e){var t=e.children,n=e.location;return Ge(ut(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(rt||(rt={}));var lt=new Promise((function(){}));T.Component;function ut(e,t){void 0===t&&(t=[]);var n=[];return T.Children.forEach(e,(function(e,r){if(T.isValidElement(e)){var a=[].concat((0,_.Z)(t),[r]);if(e.type!==T.Fragment){e.type!==it&&Q(!1),e.props.index&&e.props.children&&Q(!1);var i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ut(e.props.children,a)),n.push(i)}else n.push.apply(n,ut(e.props.children,a))}})),n}function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}function dt(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var ht=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var ft="startTransition";function pt(e){var t,n=e.basename,r=e.children,a=e.window,i=T.useRef();null==i.current&&(i.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),ie((function(e,t){var n=e.location;return ne("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:re(t)}),null,t)));var o=i.current,s=T.useState({action:o.action,location:o.location}),l=(0,Z.Z)(s,2),u=l[0],c=l[1],d=T.useCallback((function(e){ft in E?E[ft]((function(){return c(e)})):c(e)}),[c]);return T.useLayoutEffect((function(){return o.listen(d)}),[o,d]),T.createElement(ot,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var mt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,vt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=T.forwardRef((function(e,t){var n,r=e.onClick,a=e.relative,i=e.reloadDocument,o=e.replace,s=e.state,l=e.target,u=e.to,c=e.preventScrollReset,d=dt(e,ht),h=T.useContext(Le).basename,f=!1;if("string"===typeof u&&vt.test(u)&&(n=u,mt))try{var p=new URL(window.location.href),m=u.startsWith("//")?new URL(p.protocol+u):new URL(u),v=xe(m.pathname,h);m.origin===p.origin&&null!=v?u=v+m.search+m.hash:f=!0}catch(d4){}var g=function(e,t){var n=(void 0===t?{}:t).relative;Be()||Q(!1);var r=T.useContext(Le),a=r.basename,i=r.navigator,o=He(e,{relative:n}),s=o.hash,l=o.pathname,u=o.search,c=l;return"/"!==a&&(c="/"===l?a:Te([a,l])),i.createHref({pathname:c,search:u,hash:s})}(u,{relative:a}),y=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,i=n.state,o=n.preventScrollReset,s=n.relative,l=Ze(),u=Ue(),c=He(e,{relative:s});return T.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==a?a:re(u)===re(c);l(e,{replace:n,state:i,preventScrollReset:o,relative:s})}}),[u,l,c,a,i,r,e,o,s])}(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:a});return T.createElement("a",ct({},d,{href:n||g,onClick:f||i?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:l}))}));var yt,bt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(yt||(yt={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(bt||(bt={}));var xt=n(7462),wt=n(3366),kt=n(4942);var St=T.createContext(null);function Tt(){return T.useContext(St)}var Et="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Ct=n(184);var _t=function(e){var t=e.children,n=e.theme,r=Tt(),a=T.useMemo((function(){var e=null===r?n:function(e,t){return"function"===typeof t?t(e):(0,xt.Z)({},e,t)}(r,n);return null!=e&&(e[Et]=null!==r),e}),[n,r]);return(0,Ct.jsx)(St.Provider,{value:a,children:t})},Mt=n(2564),At=n(9120),It={};function Nt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return T.useMemo((function(){var a=e&&t[e]||t;if("function"===typeof n){var i=n(a),o=e?(0,xt.Z)({},t,(0,kt.Z)({},e,i)):i;return r?function(){return o}:o}return e?(0,xt.Z)({},t,(0,kt.Z)({},e,n)):(0,xt.Z)({},t,n)}),[e,t,n,r])}var Rt=function(e){var t=e.children,n=e.theme,r=e.themeId,a=(0,At.Z)(It),i=Tt()||It,o=Nt(r,a,n),s=Nt(r,i,n,!0);return(0,Ct.jsx)(_t,{theme:s,children:(0,Ct.jsx)(Mt.T.Provider,{value:o,children:t})})},Ot=n(988),Dt=["theme"];function Pt(e){var t=e.theme,n=(0,wt.Z)(e,Dt),r=t[Ot.Z];return(0,Ct.jsx)(Rt,(0,xt.Z)({},n,{themeId:r?Ot.Z:void 0,theme:r||t}))}var Lt=n(3736),Ft=n(5438),jt=n(2561),zt=n(9140),Bt=(n(3361),n(2110),(0,Mt.w)((function(e,t){var n=e.styles,r=(0,zt.O)([n],void 0,T.useContext(Mt.T));if(!Mt.i){for(var a,i=r.name,o=r.styles,s=r.next;void 0!==s;)i+=" "+s.name,o+=s.styles,s=s.next;var l=!0===t.compat,u=t.insert("",{name:i,styles:o},t.sheet,l);return l?null:T.createElement("style",((a={})["data-emotion"]=t.key+"-global "+i,a.dangerouslySetInnerHTML={__html:u},a.nonce=t.sheet.nonce,a))}var c=T.useRef();return(0,jt.j)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,i=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(a=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),c.current=[n,a],function(){n.flush()}}),[t]),(0,jt.j)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&(0,Ft.My)(t,r.next,!0),n.tags.length){var a=n.tags[n.tags.length-1].nextElementSibling;n.before=a,n.flush()}t.insert("",r,n,!1)}}),[t,r.name]),null})));function Ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,zt.O)(t)}var Wt=function(){var e=Ut.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Zt(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,a="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Ct.jsx)(Bt,{styles:a})}var Vt=n(418);var Ht=function(e){var t=e.styles,n=e.themeId,r=e.defaultTheme,a=void 0===r?{}:r,i=(0,Vt.Z)(a),o="function"===typeof t?t(n&&i[n]||i):t;return(0,Ct.jsx)(Zt,{styles:o})},Gt=n(6482);var qt=function(e){return(0,Ct.jsx)(Ht,(0,xt.Z)({},e,{defaultTheme:Gt.Z,themeId:Ot.Z}))},Xt=function(e,t){return(0,xt.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode})},Yt=function(e){return(0,xt.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}})};var Kt=function(e){var t=(0,Lt.Z)({props:e,name:"MuiCssBaseline"}),n=t.children,r=t.enableColorScheme,a=void 0!==r&&r;return(0,Ct.jsxs)(T.Fragment,{children:[(0,Ct.jsx)(qt,{styles:function(e){return function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={};r&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((function(t){var n,r=(0,Z.Z)(t,2),i=r[0],o=r[1];a[e.getColorSchemeSelector(i).replace(/\s*&/,"")]={colorScheme:null==(n=o.palette)?void 0:n.mode}}));var i=(0,xt.Z)({html:Xt(e,r),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,xt.Z)({margin:0},Yt(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},a),o=null==(t=e.components)||null==(n=t.MuiCssBaseline)?void 0:n.styleOverrides;return o&&(i=[i,o]),i}(e,a)}}),n]})},Jt=n(7107),$t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt="object"===("undefined"===typeof window?"undefined":$t(window))&&"object"===("undefined"===typeof document?"undefined":$t(document))&&9===document.nodeType;function en(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,R(e,t)}var tn={}.constructor;function nn(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(nn);if(e.constructor!==tn)return e;var t={};for(var n in e)t[n]=nn(e[n]);return t}function rn(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,a=nn(t),i=r.plugins.onCreateRule(e,a,n);return i||(e[0],null)}var an=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},on=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=an(e[n]," ");else t=an(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function sn(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function ln(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function un(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var a=n.indent,i=void 0===a?0:a,o=t.fallbacks;!1===n.format&&(i=-1/0);var s=sn(n),l=s.linebreak,u=s.space;if(e&&i++,o)if(Array.isArray(o))for(var c=0;c<o.length;c++){var d=o[c];for(var h in d){var f=d[h];null!=f&&(r&&(r+=l),r+=ln(h+":"+u+on(f)+";",i))}}else for(var p in o){var m=o[p];null!=m&&(r&&(r+=l),r+=ln(p+":"+u+on(m)+";",i))}for(var v in t){var g=t[v];null!=g&&"fallbacks"!==v&&(r&&(r+=l),r+=ln(v+":"+u+on(g)+";",i))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),ln(""+e+u+"{"+r,--i)+ln("}",i)):r}var cn=/([[\].#*$><+~=|^:(),"'`\s])/g,dn="undefined"!==typeof CSS&&CSS.escape,hn=function(e){return dn?dn(e):e.replace(cn,"\\$1")},fn=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,a=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:a&&(this.renderer=new a)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var a=t;n&&!1===n.process||(a=this.options.jss.plugins.onChangeValue(t,e,this));var i=null==a||!1===a,o=e in this.style;if(i&&!o&&!r)return this;var s=i&&o;if(s?delete this.style[e]:this.style[e]=a,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,a),this;var l=this.options.sheet;return l&&l.attached,this},e}(),pn=function(e){function t(t,n,r){var a;a=e.call(this,t,n,r)||this;var i=r.selector,o=r.scoped,s=r.sheet,l=r.generateId;return i?a.selectorText=i:!1!==o&&(a.id=l(F(F(a)),s),a.selectorText="."+hn(a.id)),a}en(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=on(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,xt.Z)({},e,{allowEmpty:!0}):e;return un(this.selectorText,this.style,n)},N(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(fn),mn={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new pn(e,t,n)}},vn={indent:1,children:!0},gn=/@([\w-]+)/,yn=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(gn);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Wn((0,xt.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=vn);var t=sn(e).linebreak;if(null==e.indent&&(e.indent=vn.indent),null==e.children&&(e.children=vn.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),bn=/@container|@media|@supports\s+/,xn={onCreateRule:function(e,t,n){return bn.test(e)?new yn(e,t,n):null}},wn={indent:1,children:!0},kn=/@keyframes\s+([\w-]+)/,Sn=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(kn);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,i=n.sheet,o=n.generateId;for(var s in this.id=!1===a?this.name:hn(o(this,i)),this.rules=new Wn((0,xt.Z)({},n,{parent:this})),t)this.rules.add(s,t[s],(0,xt.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=wn);var t=sn(e).linebreak;if(null==e.indent&&(e.indent=wn.indent),null==e.children&&(e.children=wn.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Tn=/@keyframes\s+/,En=/\$([\w-]+)/g,Cn=function(e,t){return"string"===typeof e?e.replace(En,(function(e,n){return n in t?t[n]:e})):e},_n=function(e,t,n){var r=e[t],a=Cn(r,n);a!==r&&(e[t]=a)},Mn={onCreateRule:function(e,t,n){return"string"===typeof e&&Tn.test(e)?new Sn(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&_n(e,"animation-name",n.keyframes),"animation"in e&&_n(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Cn(e,r.keyframes);default:return e}}},An=function(e){function t(){return e.apply(this,arguments)||this}return en(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,xt.Z)({},e,{allowEmpty:!0}):e;return un(this.key,this.style,n)},t}(fn),In={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new An(e,t,n):null}},Nn=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=sn(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=un(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return un(this.at,this.style,e)},e}(),Rn=/@font-face/,On={onCreateRule:function(e,t,n){return Rn.test(e)?new Nn(e,t,n):null}},Dn=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return un(this.key,this.style,e)},e}(),Pn={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Dn(e,t,n):null}},Ln=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Fn={"@charset":!0,"@import":!0,"@namespace":!0},jn={onCreateRule:function(e,t,n){return e in Fn?new Ln(e,t,n):null}},zn=[mn,xn,Mn,In,On,Pn,jn],Bn={process:!0},Un={force:!0,process:!0},Wn=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,i=r.sheet,o=r.jss,s=r.Renderer,l=r.generateId,u=r.scoped,c=(0,xt.Z)({classes:this.classes,parent:a,sheet:i,jss:o,Renderer:s,generateId:l,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(c.selector="."+hn(this.classes[d]));var h=rn(d,t,c);if(!h)return null;this.register(h);var f=void 0===c.index?this.index.length:c.index;return this.index.splice(f,0,h),h},t.replace=function(e,t,n){var r=this.get(e),a=this.index.indexOf(r);r&&this.remove(r);var i=n;return-1!==a&&(i=(0,xt.Z)({},n,{index:a})),this.add(e,t,i)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof pn?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Sn&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof pn?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Sn&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Bn);var a=this.options,i=a.jss.plugins,o=a.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(i.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var l in i.onProcessStyle(t.style,t,o),t.style){var u=t.style[l];u!==s[l]&&t.prop(l,u,Un)}for(var c in s){var d=t.style[c],h=s[c];null==d&&d!==h&&t.prop(c,null,Un)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,a=sn(e).linebreak,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||r)&&(t&&(t+=a),t+=o)}return t},e}(),Zn=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,xt.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Wn(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var a=this.rules.add(e,t,n);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?this.deployed?(r?r.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),a):a:(this.deployed=!1,a)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var a=this.rules.replace(e,t,n);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?this.deployed?(this.renderer&&(a?r.renderable&&this.renderer.replaceRule(r.renderable,a):this.renderer.deleteRule(r)),a):a:(this.deployed=!1,a)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var a=this.addRule(r,e[r],t);a&&n.push(a)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Vn=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var a=this.registry.onCreateRule[r](e,t,n);if(a)return a}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,a=0;a<this.registry.onChangeValue.length;a++)r=this.registry.onChangeValue[a](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Hn=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,wt.Z)(t,["attached"]),a=sn(r).linebreak,i="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(i&&(i+=a),i+=s.toString(r))}return i},N(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Gn=new Hn,qn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),Xn="2f1acc6c3a606b082e5eef5e54414ffb";null==qn[Xn]&&(qn[Xn]=0);var Yn=qn[Xn]++,Kn=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var a="",i="";return r&&(r.options.classNamePrefix&&(i=r.options.classNamePrefix),null!=r.options.jss.id&&(a=String(r.options.jss.id))),e.minify?""+(i||"c")+Yn+a+t:i+n.key+"-"+Yn+(a?"-"+a:"")+"-"+t}},Jn=function(e){var t;return function(){return t||(t=e()),t}},$n=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},Qn=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=on(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var a=r?r.indexOf("!important"):-1,i=a>-1?r.substr(0,a-1):r;e.style.setProperty(t,i,a>-1?"important":"")}}catch(o){return!1}return!0},er=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},tr=function(e,t){return e.selectorText=t,e.selectorText===t},nr=Jn((function(){return document.querySelector("head")}));function rr(e){var t=Gn.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var a=function(e){for(var t=nr(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(a)return{parent:a.parentNode,node:a.nextSibling}}return!1}var ar=Jn((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ir=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},or=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},sr=function(){function e(e){this.getPropertyValue=$n,this.setProperty=Qn,this.removeProperty=er,this.setSelector=tr,this.hasInsertedRules=!1,this.cssRules=[],e&&Gn.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,a=t.element;this.element=a||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var i=ar();i&&this.element.setAttribute("nonce",i)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=rr(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var a=n,i=a.parentNode;i&&i.insertBefore(e,a.nextSibling)}else nr().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,a=n;if("conditional"===e.type||"keyframes"===e.type){var i=or(n,t);if(!1===(a=ir(n,r.toString({children:!1}),i)))return!1;this.refCssRule(e,i,a)}return this.insertRules(r.rules,a),a}var o=e.toString();if(!o)return!1;var s=or(n,t),l=ir(n,o,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Zn&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),lr=0,ur=function(){function e(e){this.id=lr++,this.version="10.10.0",this.plugins=new Vn,this.options={id:{minify:!1},createGenerateId:Kn,Renderer:Qt?sr:null,plugins:[]},this.generateId=Kn({minify:!1});for(var t=0;t<zn.length;t++)this.plugins.use(zn[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,xt.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===Gn.index?0:Gn.index+1);var r=new Zn(e,(0,xt.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),Gn.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,xt.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=rn(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),cr=function(e){return new ur(e)},dr="object"===typeof CSS&&null!=CSS&&"number"in CSS;function hr(e){var t=null;for(var n in e){var r=e[n],a=typeof r;if("function"===a)t||(t={}),t[n]=r;else if("object"===a&&null!==r&&!Array.isArray(r)){var i=hr(r);i&&(t||(t={}),t[n]=i)}}return t}cr();function fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=(0,xt.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var pr={set:function(e,t,n,r){var a=e.get(t);a||(a=new Map,e.set(t,a)),a.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},mr=pr;var vr=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var gr=Date.now(),yr="fnValues"+gr,br="fnStyle"+ ++gr,xr=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=rn(e,{},n);return r[br]=t,r},onProcessStyle:function(e,t){if(yr in t||br in t)return e;var n={};for(var r in e){var a=e[r];"function"===typeof a&&(delete e[r],n[r]=a)}return t[yr]=n,e},onUpdate:function(e,t,n,r){var a=t,i=a[br];i&&(a.style=i(e)||{});var o=a[yr];if(o)for(var s in o)a.prop(s,o[s](e),r)}}},wr="@global",kr="@global ",Sr=function(){function e(e,t,n){for(var r in this.type="global",this.at=wr,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Wn((0,xt.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Tr=function(){function e(e,t,n){this.type="global",this.at=wr,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,(0,xt.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Er=/\s*,\s*/g;function Cr(e,t){for(var n=e.split(Er),r="",a=0;a<n.length;a++)r+=t+" "+n[a].trim(),n[a+1]&&(r+=", ");return r}var _r=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===wr)return new Sr(e,t,n);if("@"===e[0]&&e.substr(0,8)===kr)return new Tr(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[wr]:null;if(a){for(var i in a)t.addRule(i,a[i],(0,xt.Z)({},n,{selector:Cr(i,e.selector)}));delete r[wr]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,wr.length)===wr){var i=Cr(a.substr(wr.length),e.selector);t.addRule(i,r[a],(0,xt.Z)({},n,{selector:i})),delete r[a]}}(e,t))}}},Mr=/\s*,\s*/g,Ar=/&/g,Ir=/\$([\w-]+)/g;var Nr=function(){function e(e,t){return function(n,r){var a=e.getRule(r)||t&&t.getRule(r);return a?a.selector:r}}function t(e,t){for(var n=t.split(Mr),r=e.split(Mr),a="",i=0;i<n.length;i++)for(var o=n[i],s=0;s<r.length;s++){var l=r[s];a&&(a+=", "),a+=-1!==l.indexOf("&")?l.replace(Ar,o):o+" "+l}return a}function n(e,t,n){if(n)return(0,xt.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=(0,xt.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,i){if("style"!==a.type)return r;var o,s,l=a,u=l.options.parent;for(var c in r){var d=-1!==c.indexOf("&"),h="@"===c[0];if(d||h){if(o=n(l,u,o),d){var f=t(c,l.selector);s||(s=e(u,i)),f=f.replace(Ir,s);var p=l.key+"-"+c;"replaceRule"in u?u.replaceRule(p,r[c],(0,xt.Z)({},o,{selector:f})):u.addRule(p,r[c],(0,xt.Z)({},o,{selector:f}))}else h&&u.addRule(c,{},o).addRule(l.key,r[c],{selector:l.selector});delete r[c]}}return r}}},Rr=/[A-Z]/g,Or=/^ms-/,Dr={};function Pr(e){return"-"+e.toLowerCase()}var Lr=function(e){if(Dr.hasOwnProperty(e))return Dr[e];var t=e.replace(Rr,Pr);return Dr[e]=Or.test(t)?"-"+t:t};function Fr(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Lr(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Fr):t.fallbacks=Fr(e.fallbacks)),t}var jr=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Fr(e[t]);return e}return Fr(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Lr(t);return t===r?e:(n.prop(r,e),null)}}},zr=dr&&CSS?CSS.px:"px",Br=dr&&CSS?CSS.ms:"ms",Ur=dr&&CSS?CSS.percent:"%";function Wr(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var a in e)r[a]=e[a],r[a.replace(t,n)]=e[a];return r}var Zr=Wr({"animation-delay":Br,"animation-duration":Br,"background-position":zr,"background-position-x":zr,"background-position-y":zr,"background-size":zr,border:zr,"border-bottom":zr,"border-bottom-left-radius":zr,"border-bottom-right-radius":zr,"border-bottom-width":zr,"border-left":zr,"border-left-width":zr,"border-radius":zr,"border-right":zr,"border-right-width":zr,"border-top":zr,"border-top-left-radius":zr,"border-top-right-radius":zr,"border-top-width":zr,"border-width":zr,"border-block":zr,"border-block-end":zr,"border-block-end-width":zr,"border-block-start":zr,"border-block-start-width":zr,"border-block-width":zr,"border-inline":zr,"border-inline-end":zr,"border-inline-end-width":zr,"border-inline-start":zr,"border-inline-start-width":zr,"border-inline-width":zr,"border-start-start-radius":zr,"border-start-end-radius":zr,"border-end-start-radius":zr,"border-end-end-radius":zr,margin:zr,"margin-bottom":zr,"margin-left":zr,"margin-right":zr,"margin-top":zr,"margin-block":zr,"margin-block-end":zr,"margin-block-start":zr,"margin-inline":zr,"margin-inline-end":zr,"margin-inline-start":zr,padding:zr,"padding-bottom":zr,"padding-left":zr,"padding-right":zr,"padding-top":zr,"padding-block":zr,"padding-block-end":zr,"padding-block-start":zr,"padding-inline":zr,"padding-inline-end":zr,"padding-inline-start":zr,"mask-position-x":zr,"mask-position-y":zr,"mask-size":zr,height:zr,width:zr,"min-height":zr,"max-height":zr,"min-width":zr,"max-width":zr,bottom:zr,left:zr,top:zr,right:zr,inset:zr,"inset-block":zr,"inset-block-end":zr,"inset-block-start":zr,"inset-inline":zr,"inset-inline-end":zr,"inset-inline-start":zr,"box-shadow":zr,"text-shadow":zr,"column-gap":zr,"column-rule":zr,"column-rule-width":zr,"column-width":zr,"font-size":zr,"font-size-delta":zr,"letter-spacing":zr,"text-decoration-thickness":zr,"text-indent":zr,"text-stroke":zr,"text-stroke-width":zr,"word-spacing":zr,motion:zr,"motion-offset":zr,outline:zr,"outline-offset":zr,"outline-width":zr,perspective:zr,"perspective-origin-x":Ur,"perspective-origin-y":Ur,"transform-origin":Ur,"transform-origin-x":Ur,"transform-origin-y":Ur,"transform-origin-z":Ur,"transition-delay":Br,"transition-duration":Br,"vertical-align":zr,"flex-basis":zr,"shape-margin":zr,size:zr,gap:zr,grid:zr,"grid-gap":zr,"row-gap":zr,"grid-row-gap":zr,"grid-column-gap":zr,"grid-template-rows":zr,"grid-template-columns":zr,"grid-auto-rows":zr,"grid-auto-columns":zr,"box-shadow-x":zr,"box-shadow-y":zr,"box-shadow-blur":zr,"box-shadow-spread":zr,"font-line-height":zr,"text-shadow-x":zr,"text-shadow-y":zr,"text-shadow-blur":zr});function Vr(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Vr(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var a in t)t[a]=Vr(a,t[a],n);else for(var i in t)t[i]=Vr(e+"-"+i,t[i],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||Zr[e];return!o||0===t&&o===zr?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var Hr=function(e){void 0===e&&(e={});var t=Wr(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Vr(r,e[r],t);return e},onChangeValue:function(e,n){return Vr(n,e,t)}}},Gr="",qr="",Xr="",Yr="",Kr=Qt&&"ontouchstart"in document.documentElement;if(Qt){var Jr={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},$r=document.createElement("p").style;for(var Qr in Jr)if(Qr+"Transform"in $r){Gr=Qr,qr=Jr[Qr];break}"Webkit"===Gr&&"msHyphens"in $r&&(Gr="ms",qr=Jr.ms,Yr="edge"),"Webkit"===Gr&&"-apple-trailing-word"in $r&&(Xr="apple")}var ea={js:Gr,css:qr,vendor:Xr,browser:Yr,isTouch:Kr};var ta={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ea.js?"-webkit-"+e:ea.css+e)}},na={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ea.js?ea.css+"print-"+e:e)}},ra=/[-\s]+(.)?/g;function aa(e,t){return t?t.toUpperCase():""}function ia(e){return e.replace(ra,aa)}function oa(e){return ia("-"+e)}var sa,la={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ea.js){var n="mask-image";if(ia(n)in t)return e;if(ea.js+oa(n)in t)return ea.css+e}return e}},ua={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ea.vendor||ea.isTouch?e:ea.css+e)}},ca={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ea.css+e)}},da={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ea.css+e)}},ha={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ea.js||"ms"===ea.js&&"edge"!==ea.browser?ea.css+e:e)}},fa={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ea.js||"ms"===ea.js||"apple"===ea.vendor?ea.css+e:e)}},pa={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ea.js?"WebkitColumn"+oa(e)in t&&ea.css+"column-"+e:"Moz"===ea.js&&("page"+oa(e)in t&&"page-"+e))}},ma={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ea.js)return e;var n=e.replace("-inline","");return ea.js+oa(n)in t&&ea.css+n}},va={supportedProperty:function(e,t){return ia(e)in t&&e}},ga={supportedProperty:function(e,t){var n=oa(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ea.js+n in t?ea.css+e:"Webkit"!==ea.js&&"Webkit"+n in t&&"-webkit-"+e}},ya={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ea.js?""+ea.css+e:e)}},ba={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ea.js?ea.css+"scroll-chaining":e)}},xa={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},wa={supportedProperty:function(e,t){var n=xa[e];return!!n&&(ea.js+oa(n)in t&&ea.css+n)}},ka={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Sa=Object.keys(ka),Ta=function(e){return ea.css+e},Ea={supportedProperty:function(e,t,n){var r=n.multiple;if(Sa.indexOf(e)>-1){var a=ka[e];if(!Array.isArray(a))return ea.js+oa(a)in t&&ea.css+a;if(!r)return!1;for(var i=0;i<a.length;i++)if(!(ea.js+oa(a[0])in t))return!1;return a.map(Ta)}return!1}},Ca=[ta,na,la,ua,ca,da,ha,fa,pa,ma,va,ga,ya,ba,wa,Ea],_a=Ca.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ma=Ca.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,_.Z)(t.noPrefill)),e}),[]),Aa={};if(Qt){sa=document.createElement("p");var Ia=window.getComputedStyle(document.documentElement,"");for(var Na in Ia)isNaN(Na)||(Aa[Ia[Na]]=Ia[Na]);Ma.forEach((function(e){return delete Aa[e]}))}function Ra(e,t){if(void 0===t&&(t={}),!sa)return e;if(null!=Aa[e])return Aa[e];"transition"!==e&&"transform"!==e||(t[e]=e in sa.style);for(var n=0;n<_a.length&&(Aa[e]=_a[n](e,sa.style,t),!Aa[e]);n++);try{sa.style[e]=""}catch(r){return!1}return Aa[e]}var Oa,Da={},Pa={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},La=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Fa(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Ra(t):", "+Ra(n);return r||(t||n)}function ja(e,t){var n=t;if(!Oa||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Da[r])return Da[r];try{Oa.style[e]=n}catch(a){return Da[r]=!1,!1}if(Pa[e])n=n.replace(La,Fa);else if(""===Oa.style[e]&&("-ms-flex"===(n=ea.css+n)&&(Oa.style[e]="-ms-flexbox"),Oa.style[e]=n,""===Oa.style[e]))return Da[r]=!1,!1;return Oa.style[e]="",Da[r]=n,Da[r]}Qt&&(Oa=document.createElement("p"));var za=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var a=!1,i=Ra(n);i&&i!==n&&(a=!0);var o=!1,s=ja(i,on(r));s&&s!==r&&(o=!0),(a||o)&&(a&&delete t[n],t[i||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ea.js?e:"@"+ea.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return ja(t,on(e))||e}}};var Ba=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},a=Object.keys(t).sort(e),i=0;i<a.length;i++)r[a[i]]=t[a[i]];return r}}};var Ua=cr({plugins:[xr(),_r(),Nr(),jr(),Hr(),"undefined"===typeof window?null:za(),Ba()]}),Wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,a=void 0===r?"jss":r,i=e.seed,o=void 0===i?"":i,s=""===o?"":"".concat(o,"-"),l=0,u=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==vr.indexOf(e.key))return"Mui-".concat(e.key);var i="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Et]&&""===o?"".concat(i,"-").concat(u()):i}return"".concat(s).concat(a).concat(u())}}(),Za={disableGeneration:!1,generateClassName:Wa,jss:Ua,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Va=T.createContext(Za);var Ha=-1e9;var Ga=n(2466),qa=n(1122),Xa=["variant"];function Ya(e){return 0===e.length}function Ka(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(l){throw l}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return a;var i=n.components[r].styleOverrides||{},o=n.components[r].variants||[],s=(0,xt.Z)({},a);return Object.keys(i).forEach((function(e){s[e]=(0,Ga.Z)(s[e]||{},i[e])})),o.forEach((function(e){var t=function(e){var t=e.variant,n=(0,wt.Z)(e,Xa),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Ya(r)?e[t]:(0,qa.Z)(e[t]):"".concat(Ya(r)?t:(0,qa.Z)(t)).concat((0,qa.Z)(e[t].toString()))})),r}(e.props);s[t]=(0,Ga.Z)(s[t]||{},e.style)})),s},options:{}}}var Ja={},$a=["name","classNamePrefix","Component","defaultTheme"];function Qa(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,i=e.stylesCreator,o=e.name;if(!a.disableGeneration){var s=mr.get(a.sheetsManager,i,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},mr.set(a.sheetsManager,i,r,s));var l=(0,xt.Z)({},i.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});l.generateId=l.serverGenerateClassName||l.generateClassName;var u=a.sheetsRegistry;if(0===s.refs){var c;a.sheetsCache&&(c=mr.get(a.sheetsCache,i,r));var d=i.create(r,o);c||((c=a.jss.createStyleSheet(d,(0,xt.Z)({link:!1},l))).attach(),a.sheetsCache&&mr.set(a.sheetsCache,i,r,c)),u&&u.add(c),s.staticSheet=c,s.dynamicStyles=hr(d)}if(s.dynamicStyles){var h=a.jss.createStyleSheet(s.dynamicStyles,(0,xt.Z)({link:!0},l));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=fr({baseClasses:s.staticSheet.classes,newClasses:h.classes}),u&&u.add(h)}else n.classes=s.staticSheet.classes;s.refs+=1}}function ei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,a=t.Component,i=t.defaultTheme,o=void 0===i?Ja:i,s=(0,wt.Z)(t,$a),l=Ka(e),u=n||r||"makeStyles";l.options={index:Ha+=1,name:n,meta:u,classNamePrefix:u};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(){var e,t=Tt();return null!=(e=null==t?void 0:t.$$material)?e:t}()||o,r=(0,xt.Z)({},T.useContext(Va),s),i=T.useRef(),u=T.useRef();!function(e,t){var n,r=T.useRef([]),a=T.useMemo((function(){return{}}),t);r.current!==a&&(r.current=a,n=e()),T.useEffect((function(){return function(){n&&n()}}),[a])}((function(){var a={name:n,state:{},stylesCreator:l,stylesOptions:r,theme:t};return Qa(a,e),u.current=!1,i.current=a,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,a=e.stylesCreator;if(!r.disableGeneration){var i=mr.get(r.sheetsManager,a,n);i.refs-=1;var o=r.sheetsRegistry;0===i.refs&&(mr.delete(r.sheetsManager,a,n),r.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}(a)}}),[t,l]),T.useEffect((function(){u.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(i.current,e),u.current=!0}));var c=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var a=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,a=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,a=!0),a&&(r.cacheClasses.value=fr({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(i.current,e.classes,a);return c}}var ti=(0,Jt.Z)({palette:{background:{default:"#fff"},primary:{light:"#DE0000",main:"#920000",dark:"#780000"}},overrides:{MuiCssBaseline:{"@global":{body:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"center",backgroundAttachment:"fixed","& ::-webkit-scrollbar":{width:"0.4em"},"& ::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"& ::-webkit-scrollbar-thumb":{borderRadius:10,backgroundColor:"rgb(160,160,160)"}}}},MuiOutlinedInput:{root:{borderRadius:20},input:{padding:10}},MuiInputLabel:{outlined:{transform:"translate(14px, 12px) scale(1)"}},MuiButton:{root:{}},MuiListItemIcon:{root:{justifyContent:"center"}}}},{components:{MuiBreadcrumbs:{defaultProps:{expandText:"Mostrar ruta"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:function(e){return"first"===e?"Ir a la primera p\xe1gina":"last"===e?"Ir a la \xfaltima p\xe1gina":"next"===e?"Ir a la p\xe1gina siguiente":"Ir a la p\xe1gina anterior"},labelRowsPerPage:"Filas por p\xe1gina:",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," de ").concat(-1!==r?r:"m\xe1s de ".concat(n))}}},MuiRating:{defaultProps:{getLabelText:function(e){return"".concat(e," Estrella").concat(1!==e?"s":"")},emptyLabelText:"Vac\xedo"}},MuiAutocomplete:{defaultProps:{clearText:"Limpiar",closeText:"Cerrar",loadingText:"Cargando\u2026",noOptionsText:"Sin opciones",openText:"Abierto"}},MuiAlert:{defaultProps:{closeText:"Cerrar"}},MuiPagination:{defaultProps:{"aria-label":"Paginador",getItemAriaLabel:function(e,t,n){return"page"===e?"".concat(n?"":"Ir a la ","p\xe1gina ").concat(t):"first"===e?"Ir a la primera p\xe1gina":"last"===e?"Ir a la \xfaltima p\xe1gina":"next"===e?"Ir a la p\xe1gina siguiente":"Ir a la p\xe1gina anterior"}}}}});window.matchMedia("(min-width: 660px)").matches;var ni=ei((function(e){return{pageContainer:(0,kt.Z)({},e.breakpoints.down("sm"),{padding:0}),backDrop:{zIndex:e.zIndex.drawer-1,marginTop:90,color:"#fff"}}})),ri={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:window.screen.width<500?"80%":"30%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},ai={fontFamily:"Raleway",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",height:"90%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4,overflowY:"auto"},ii={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"100%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},oi={width:"70%",height:"100%",bgcolor:"#414646",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},si=function(e){return"superAdmin"===e?"Super Administrador":"admin"===e?"Administrador":"sapExecutive"===e?"Ejecutivo SAP":"inspectionWorker"===e?"Operario de Inspecci\xf3n":"maintenceOperator"===e?"Operario de Mantenci\xf3n":"shiftManager"===e?"Jefe de turno - Inspecci\xf3n y Mantenci\xf3n":"chiefMachinery"===e?"Jefe de maquinaria":"observer"===e?"Observador":void 0},li={storageURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.URL_STORAGE||"https://icvmantencion.blob.core.windows.net/plataforma-mantencion/",version:"versi\xf3n 3.1.0",storageApi:{account:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.AZURE_ACCOUNT,accountKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.TOKEN_SAS_BLOB,url:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.STORAGE_URL,urlWithKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.URL_SAS_BLOB,accessKeys:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.ACCESS_KEYS}},ui=function(e){if(e){var t,n=new Date(e).getDay();0===n?t="Dom":1===n?t="Lun":2===n?t="Mar":3===n?t="Mie":4===n?t="Jue":5===n?t="Vie":6===n&&(t="Sab");var r,a=new Date(e).getUTCDate(),i=new Date(e).getMonth();return 0==i?r="Enero":1==i?r="Febrero":2==i?r="Marzo":3==i?r="Abril":4==i?r="Mayo":5==i?r="Junio":6==i?r="Julio":7==i?r="Agosto":8==i?r="Septiembre":9==i?r="Octubre":10==i?r="Noviembre":11==i&&(r="Diciembre"),(t+" "+a+" DE "+r).toUpperCase()}return"Sin informaci\xf3n".toUpperCase()},ci=function(e){var t=new Date(e).getUTCDate(),n=new Date(e).getMonth()+1,r=new Date(e).getFullYear();return n<10&&(n="0"+n),t<10&&(t="0"+t),e?t+"/"+n+"/"+r:"No informado"},di=function(e){if(e){var t=new Date(e).toISOString(),n=new Date(t);return n.toLocaleDateString("es-ES")+" "+n.toLocaleTimeString("es-ES")}return"Sin informaci\xf3n"},hi=n(4569),fi=n.n(hi),pi=function(e,t){var n={user:{email:e,password:t}};return fi().post("/auth/login",n)},mi=function(e,t){var n={user:{rut:e,password:t}};return fi().post("/auth/loginRut",n)},vi=function(e){var t={email:e};return fi().post("/auth/forgotpassword",t)},gi=function(e,t){var n={password:e};return fi().post("/auth/resetpassword/".concat(t),n)},yi=function(){return fi().get("/machines/getMachinesOfProject")},bi=function(){return fi().get("/machines/readAllMachines")},xi=function(e){var t={siteId:e};return fi().post("/machines/getMachineBySiteId",t)},wi=function(e){var t={machine:e};return fi().post("/machines/saveMachineDataById",t)},ki=function(){return fi().get("/roles/getRoles")},Si=function(e,t){var n={userData:e,password:t};return fi().post("/users/createUser",n)},Ti=function(e,t){var n={userData:e,id:t};return fi().post("/users/editUser",n)},Ei=function(e,t){return fi().post("/users/getUsers",{admin:e,isTest:t})},Ci=function(e){var t={id:e};return fi().post("/users/getUser",t)},_i=function(e){var t={id:e};return fi().post("/users/deleteUser",t)},Mi=function(e){var t={role:e};return fi().post("/users/findByRole",t)},Ai=function(e){var t={report:e};return fi().post("/reports/createReport",t)},Ii=function(e){var t={report:e};return fi().post("/reports/editReport",t)},Ni=function(e){var t={report:e};return fi().post("/reports/editReportById",t)},Ri=function(e){var t={id:e};return fi().post("/reports/deleteReport",t)},Oi=function(){return console.log("Descargando reportes..."),fi().get("/reports/getAllReports")},Di=function(e){var t={site:e};return fi().post("/reports/getAllReportsbySite",t)},Pi=function(e,t){var n={userId:e,site:t};return fi().post("/reports/findMyAssignations",n)},Li=function(e){var t={equid:e};return fi().post("/reports/getReportByEquid",t)},Fi=function(){return fi().get("/reports/getTotalReportsToIndex")},ji=function(e,t){var n={reportId:e};return fi().post("/execution-report/getExecutionReportById",n,{onDownloadProgress:function(e){var n=e.loaded,r=Math.floor(n/5e4*100);t&&t(r)}})},zi=function(e){var t={reportData:e};return fi().post("/execution-report/saveExecutionReport",t)},Bi=function(e){var t={reportData:e};return fi().post("/execution-report/createExecutionReport",t)},Ui=function(e,t,n,r){var a=new FormData;a.append("image",e,e.name),a.append("path",t),a.append("containerName",n),a.append("name",r);return fi().post("/azure-storage/uploadMachineImage",a,{headers:{"Content-Type":"multipart/form-data"}})},Wi=function(e,t,n){var r=new FormData;r.append("image",e,e.name),r.append("path",t),r.append("containerName",n);return fi().post("/azure-storage/uploadImage",r,{headers:{"Content-Type":"multipart/form-data"}})},Zi=function(e,t,n){var r=new FormData;r.append("video",e,e.name),r.append("path",t),r.append("containerName",n);return fi().post("/azure-storage/uploadVideo",r,{headers:{"Content-Type":"multipart/form-data"}})},Vi=function(e){var t={_id:e};return fi().post("/internalMessagesData/get-messages-by-user",t)},Hi=function(){return fi().get("/internalMessagesData/getAllMessages")},Gi=function(e){var t={message:e};return fi().post("/internalMessagesData/sendMessage",t)},qi=function(e){var t={_id:e};return fi().post("/internalMessagesData/removeMessage",t)},Xi=function(e){return fi().post("/pdf-maker/createPdfDoc",{reportData:e})},Yi=function(e){var t={_id:e,state:!0};return fi().post("/notifications/actualiceNotificationState",t)},Ki=function(){return fi().get("/patterns/getPatterns")},Ji=function(e){return fi().post("/patterns/savePattern",e)},$i=function(){return fi().get("/patterns/getPatternDetails")},Qi=function(e){return fi().post("/patterns/getPatternsDetailByIdpm",{idpm:e})},eo=function(e){return fi().post("/sites/getSiteById",{_id:e})},to=function(){return fi().get("/sites/getSites")},no=function(e){return fi().post("/news/createNewsText",{news:e})},ro=function(e){return fi().post("/news/createNewWithImage",{news:e})},ao=function(e){return fi().post("/news/createNewWithVideo",{news:e})},io=function(e){return fi().post("/news/getMyNews",{userId:e})},oo=function(){return fi().get("/unidades/getUnidades")},so=n(5827),lo=n.n(so),uo=function(e){return new Promise((function(t){new(lo())(e,{quality:.5,success:function(e){var n=new FileReader;n.onload=function(){t(n.result)},n.readAsDataURL(e)}})}))},co=function(e){return new Promise((function(t){var n=e.transaction(["Machines"],"readonly").objectStore("Machines");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){t(e.target.result)}}}))},ho={initDbMachines:function(){var e,t=window.indexedDB.open("Trucks",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Machines",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").add(e).onsuccess=function(){}},obtener:function(e,t){t.transaction(["Machines"],"readonly").objectStore("Machines").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Machines"],"readwrite").objectStore("Machines").put(e).onsuccess=function(){co(t).then((function(e){})),n(!0)}}catch(r){n(!1)}}))},eliminar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").delete(e).onsuccess=function(){co()}},consultar:co};function fo(){fo=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new I(r||[]);return a(o,"_invoke",{value:C(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",p="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};u(x,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(N([])));k&&k!==n&&r.call(k,o)&&(x=k);var S=b.prototype=g.prototype=Object.create(x);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,i,o,s){var l=d(e[a],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==(0,L.Z)(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function C(t,n,r){var a=h;return function(i,o){if(a===p)throw new Error("Generator is already running");if(a===m){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===h)throw a=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?m:f,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=m,r.method="throw",r.arg=u.arg)}}}function _(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError((0,L.Z)(t)+" is not iterable")}return y.prototype=b,a(S,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},T(E.prototype),u(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new E(c(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(S),u(S,l,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function po(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,a)}function mo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){po(i,r,a,o,s,"next",e)}function s(e){po(i,r,a,o,s,"throw",e)}o(void 0)}))}}var vo=function(e){var t=e.transaction(["pautas"],"readonly").objectStore("pautas"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},go={initDbPMs:function(){var e,t=window.indexedDB.open("Pautas",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("pautas",{keyPath:"_id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){return new Promise((function(n){var r=t.transaction(["pautas"],"readwrite").objectStore("pautas").add(e);r.onsuccess=function(){n({state:!0,data:"Ok"})},r.onerror=function(e){n({stata:!1,data:e})}}))},obtener:function(e,t){return new Promise((function(n){t.transaction(["pautas"],"readonly").objectStore("pautas").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){var r=t.transaction(["pautas"],"readwrite").objectStore("pautas").put(e);r.onsuccess=function(){n({state:!0,data:"Ok"})},r.onerror=function(e){n({stata:!1,data:e})}}))},eliminar:function(e,t){t.transaction(["pautas"],"readwrite").objectStore("pautas").delete(e).onsuccess=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vo();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))},borrarDb:function(){var e=indexedDB.deleteDatabase("Pautas");console.log(e)},consultar:vo,consultarPorDato:function(e,t){return new Promise((function(e){t.transaction(["pautas"],"readonly").objectStore("pautas").openCursor().onsuccess=function(e){}}))}},yo=function(e){var t=e.transaction(["Obras"],"readonly").objectStore("Obras"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},bo={initDbObras:function(){var e,t=window.indexedDB.open("Sites",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Obras",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").add(e)},obtener:function(e,t){t.transaction(["Obras"],"readonly").objectStore("Obras").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Obras"],"readwrite").objectStore("Obras").put(e).onsuccess=function(){n(!0)}}catch(r){n(!1)}}))},eliminar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").delete(e).onsuccess=function(){yo()}},consultar:yo},xo=function(e){var t=e.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},wo={initDb3DFiles:function(){var e,t=window.indexedDB.open("3Ds",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){var r=(e=t.target.result).createObjectStore("3dFilesList",{keyPath:"id"});r.createIndex("model","model",{unique:!1}),r.createIndex("name","name",{unique:!1}),r.createIndex("type","type",{unique:!1}),r.createIndex("brand","brand",{unique:!1}),r.createIndex("nameModel","nameModel",{unique:!1}),r.transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){return new Promise((function(n){var r=t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").add(e);r.onsuccess=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xo(t);case 2:e.sent&&n(!0);case 4:case"end":return e.stop()}}),e)}))),r.onerror=function(e){n(!1)}}))},obtener:function(e,t){return new Promise((function(n){t.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").put(e).onsuccess=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);case 1:case"end":return e.stop()}}),e)})))}catch(r){n(!1)}}))},eliminar:function(e,t){t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").delete(e).onsuccess=function(){xo()}},consultar:xo,buscarPorNombreModelo:function(e,t){return new Promise((function(n){t.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList").index("nameModel").get(e).onsuccess=function(e){n(e.target.result)}}))}},ko=function(e){return new Promise((function(t){var n=e.transaction(["Equips"],"readonly").objectStore("Equips");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){var n=new Array;n=e.target.result,t(n)}}}))},So={initDbMachines:function(){var e,t=window.indexedDB.open("Machines",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Equips",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Equips"],"readwrite").objectStore("Equips").add(e).onsuccess=function(){}},obtener:function(e,t){t.transaction(["Equips"],"readonly").objectStore("Equips").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Equips"],"readwrite").objectStore("Equips").put(e).onsuccess=function(){n(!0)}}catch(r){n(!1)}}))},eliminar:function(e,t){t.transaction(["Equips"],"readwrite").objectStore("Equips").delete(e).onsuccess=function(){ko()}},consultar:ko,borrarDb:function(){var e=indexedDB.deleteDatabase("Machines");console.log(e)}},To=function(){var e,t=window.indexedDB.open("Documentation",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Reports",{keyPath:"idIndex"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},Eo=function(e,t){return new Promise((function(n){try{var r=t.transaction(["Reports"],"readwrite").objectStore("Reports").put(e);r.onsuccess=function(){n(!0)},r.onerror=function(e){console.log(e),n(!0)}}catch(a){console.log(a),n(!1)}}))},Co=function(e,t){return new Promise((function(n){var r=t.transaction(["Reports"],"readwrite").objectStore("Reports").delete(e);r.onsuccess=function(){n(!0)},r.onerror=function(){n(!1)}}))},_o=function(e){var t=e.transaction(["Reports"],"readonly").objectStore("Reports"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Mo=function(){var e,t=window.indexedDB.open("Executions",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Reports",{keyPath:"_id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},Ao=function(e,t){return new Promise((function(n){try{var r=t.transaction(["Reports"],"readwrite").objectStore("Reports").put(e);r.onsuccess=function(){n(!0)},r.onerror=function(){n(!1)}}catch(a){n(a)}}))},Io=function(e){return new Promise((function(t){var n=e.transaction(["Reports"],"readonly").objectStore("Reports");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){var n=new Array;n=e.target.result,t(n)}}}))},No=function(e){var t=e.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Ro={initDb:function(){var e,t=window.indexedDB.open("MachinesParts",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("MachinesPartsList",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){return new Promise((function(n){var r=t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").add(e);r.onsuccess=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No(t);case 2:e.sent&&n(!0);case 4:case"end":return e.stop()}}),e)}))),r.onerror=function(e){n(!1)}}))},obtener:function(e,t){return new Promise((function(n){t.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").put(e).onsuccess=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);case 1:case"end":return e.stop()}}),e)})))}catch(r){n(!1)}}))},eliminar:function(e,t){t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").delete(e).onsuccess=function(){No()}},consultar:No,buscarPorNombreModelo:function(e,t){return new Promise((function(n){t.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList").index("nameModel").get(e).onsuccess=function(e){n(e.target.result)}}))}},Oo=function(e){var t=e.transaction(["myUser"],"readonly").objectStore("myUser"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Do={initDb:function(){var e,t=window.indexedDB.open("User",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("myUser",{keyPath:"_id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["myUser"],"readwrite").objectStore("myUser").add(e)},obtener:function(e,t){return new Promise((function(n){t.transaction(["myUser"],"readonly").objectStore("myUser").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["myUser"],"readwrite").objectStore("myUser").put(e).onsuccess=function(){n(!0)}}catch(r){n(!1)}}))},eliminar:function(e,t){t.transaction(["myUser"],"readwrite").objectStore("myUser").delete(e).onsuccess=function(){Oo()}},consultar:Oo,consultarPorDato:function(e,t){return new Promise((function(e){t.transaction(["myUser"],"readonly").objectStore("myUser").openCursor().onsuccess=function(e){}}))}},Po=function(e){return new Promise(e?function(){var t=mo(fo().mark((function t(n){var r;return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ci(e);case 2:(r=t.sent).data?n("".concat(r.data.name," ").concat(r.data.lastName)):n("Test Name");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}():function(e){e("Sin informaci\xf3n")})},Lo=function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=mo(fo().mark((function e(n){var r,a,i,o,s,l,u,c,d;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi("admin");case 2:return r=e.sent,e.next=5,Mi("sapExecutive");case 5:return a=e.sent,e.next=8,Mi("shiftManager");case 8:return i=e.sent,e.next=11,Mi("chiefMachinery");case 11:o=e.sent,s=r.data,l=a.data,u=i.data,c=o.data,d=[],s.forEach((function(e,r){d.push(e.email),r==s.length-1&&l.forEach((function(e,r){d.push(e.email),r==l.length-1&&(1==t?u.forEach((function(e,t){d.push(e.email),t==u.length-1&&c.forEach((function(e,t){d.push(e.email),t==c.length-1&&n(d.toString())}))})):2==t?u.forEach((function(e,t){d.push(e.email),t==u.length-1&&n(d.toString())})):n(d.toString()))}))}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fo=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi().post("/machines/agregarTipoMaquina",{tipo:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jo=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi().post("/machines/agregarMarcaMaquina",{marca:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zo=function(){var e=mo(fo().mark((function e(t,n){var r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi().post("/machines/agregarModeloMaquina",{marcaId:t,modelo:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Bo=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi().get("/machines/obtenerTipoMaquinas");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Uo=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi().get("/machines/obtenerMarcaMaquinas");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Wo=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi().get("/machines/obtenerModeloMaquinas");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zo=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi().post("/machines/createMachine",{machine:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vo=[{brand:"CATERPILLAR",model:"793-F",type:"camion",group:"camiones",files:[{name:"Preview"},{name:"Cabina"},{name:"Chasis"},{name:"Estructura"},{name:"Maza"},{name:"Motor"},{name:"Neumaticos"},{name:"Sistema_direccion"},{name:"Sistema_hidraulico"},{name:"Sistema_neumatico"},{name:"Suspension"},{name:"Transmision"}]},{brand:"KOMATSU",model:"PC5500",type:"pala",group:"palas",files:[{name:"Cabina"},{name:"Chasis"},{name:"Electrico"},{name:"Estructura"},{name:"Implemento"},{name:"Mando_de_giro"},{name:"Mando_final"},{name:"Motor"},{name:"Preview"},{name:"PTO"},{name:"Sistema_hidraulico"},{name:"Sistema_rodado"}]}],Ho=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String;return"Neum\xe1ticos"===e?"Neumaticos":"Chassis"===e?"Chasis":"Direcci\xf3n"===e?"Sistema_direccion":"Sistema Neum\xe1tico"===e?"Sistema_neumatico":"Hidr\xe1ulico"===e?"Sistema_hidraulico":"Suspensi\xf3n"===e?"Suspension":"Mazas"===e?"Maza":"Transmisi\xf3n"===e||"Ejes"===e?"Transmision":"Mando Final"===e?"Mando_final":"Mando de Giro"===e?"Mando_de_giro":"Rodado"===e?"Sistema_rodado":"El\xe9ctrico"===e?"Electrico":"Implementos"===e?"Implemento":e};function Go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(n),!0).forEach((function(t){(0,kt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xo={prefix:"fas",iconName:"arrow-circle-left",icon:[512,512,[],"f0a8","M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm28.9-143.6L209.4 288H392c13.3 0 24-10.7 24-24v-16c0-13.3-10.7-24-24-24H209.4l75.5-72.4c9.7-9.3 9.9-24.8.4-34.3l-11-10.9c-9.4-9.4-24.6-9.4-33.9 0L107.7 239c-9.4 9.4-9.4 24.6 0 33.9l132.7 132.7c9.4 9.4 24.6 9.4 33.9 0l11-10.9c9.5-9.5 9.3-25-.4-34.3z"]},Yo={prefix:"fas",iconName:"arrow-right",icon:[448,512,[],"f061","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"]},Ko={prefix:"fas",iconName:"arrow-up",icon:[448,512,[],"f062","M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"]},Jo={prefix:"fas",iconName:"book",icon:[448,512,[],"f02d","M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"]},$o={prefix:"fas",iconName:"calendar",icon:[448,512,[],"f133","M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"]},Qo={prefix:"fas",iconName:"camera",icon:[512,512,[],"f030","M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"]},es={prefix:"fas",iconName:"chart-bar",icon:[512,512,[],"f080","M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"]},ts={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"]},ns={prefix:"fas",iconName:"chevron-up",icon:[448,512,[],"f077","M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"]},rs={prefix:"fas",iconName:"circle",icon:[512,512,[],"f111","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"]},as={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"]},is={prefix:"fas",iconName:"clock",icon:[512,512,[],"f017","M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"]},os={prefix:"fas",iconName:"comment",icon:[512,512,[],"f075","M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"]},ss={prefix:"fas",iconName:"comment-dots",icon:[512,512,[],"f4ad","M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"]},ls={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"]},us={prefix:"fas",iconName:"eraser",icon:[512,512,[],"f12d","M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"]},cs={prefix:"fas",iconName:"eye",icon:[576,512,[],"f06e","M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"]},ds={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"]},hs={prefix:"fas",iconName:"home",icon:[576,512,[],"f015","M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"]},fs={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"]},ps={prefix:"fas",iconName:"info-circle",icon:[512,512,[],"f05a","M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"]},ms={prefix:"fas",iconName:"list-alt",icon:[512,512,[],"f022","M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"]},vs={prefix:"fas",iconName:"list-ol",icon:[512,512,[],"f0cb","M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"]},gs={prefix:"fas",iconName:"map-marker",icon:[384,512,[],"f041","M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0z"]},ys={prefix:"fas",iconName:"map-marker-alt",icon:[384,512,[],"f3c5","M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"]},bs={prefix:"fas",iconName:"newspaper",icon:[576,512,[],"f1ea","M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"]},xs={prefix:"fas",iconName:"paper-plane",icon:[512,512,[],"f1d8","M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"]},ws={prefix:"fas",iconName:"paperclip",icon:[448,512,[],"f0c6","M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"]},ks={prefix:"fas",iconName:"pen",icon:[512,512,[],"f304","M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"]},Ss={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},Ts={prefix:"fas",iconName:"robot",icon:[640,512,[],"f544","M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"]},Es={prefix:"fas",iconName:"save",icon:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"]},Cs={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},_s={prefix:"fas",iconName:"sign-out-alt",icon:[512,512,[],"f2f5","M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"]},Ms={prefix:"fas",iconName:"sliders-h",icon:[512,512,[],"f1de","M496 384H160v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h80v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h336c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160h-80v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h336v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h80c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160H288V48c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16C7.2 64 0 71.2 0 80v32c0 8.8 7.2 16 16 16h208v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16z"]},As={prefix:"fas",iconName:"sync",icon:[512,512,[],"f021","M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"]},Is={prefix:"fas",iconName:"tools",icon:[512,512,[],"f7d9","M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"]},Ns={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]},Rs={prefix:"fas",iconName:"truck",icon:[640,512,[],"f0d1","M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"]},Os={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},Ds={prefix:"fas",iconName:"user-cog",icon:[640,512,[],"f4fe","M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"]},Ps={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"]};function Ls(e){return Ls="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(e)}function Fs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){js(e,t,n[t])}))}return e}function Bs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Us=function(){},Ws={},Zs={},Vs={mark:Us,measure:Us};try{"undefined"!==typeof window&&(Ws=window),"undefined"!==typeof document&&(Zs=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(Vs=performance)}catch(d4){}var Hs=(Ws.navigator||{}).userAgent,Gs=void 0===Hs?"":Hs,qs=Ws,Xs=Zs,Ys=Vs,Ks=(qs.document,!!Xs.documentElement&&!!Xs.head&&"function"===typeof Xs.addEventListener&&"function"===typeof Xs.createElement),Js=(~Gs.indexOf("MSIE")||Gs.indexOf("Trident/"),"___FONT_AWESOME___"),$s="fa",Qs="svg-inline--fa",el="data-fa-i2svg",tl=(function(){try{return!0}catch(d4){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),nl=tl.concat([11,12,13,14,15,16,17,18,19,20]),rl={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},al=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",rl.GROUP,rl.SWAP_OPACITY,rl.PRIMARY,rl.SECONDARY].concat(tl.map((function(e){return"".concat(e,"x")}))).concat(nl.map((function(e){return"w-".concat(e)}))),qs.FontAwesomeConfig||{});if(Xs&&"function"===typeof Xs.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Bs(e,2),n=t[0],r=t[1],a=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Xs.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==a&&null!==a&&(al[r]=a)}))}var il=zs({},{familyPrefix:$s,replacementClass:Qs,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},al);il.autoReplaceSvg||(il.observeMutations=!1);var ol=zs({},il);qs.FontAwesomeConfig=ol;var sl=qs||{};sl[Js]||(sl[Js]={}),sl[Js].styles||(sl[Js].styles={}),sl[Js].hooks||(sl[Js].hooks={}),sl[Js].shims||(sl[Js].shims=[]);var ll=sl[Js],ul=[];Ks&&((Xs.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Xs.readyState)||Xs.addEventListener("DOMContentLoaded",(function e(){Xs.removeEventListener("DOMContentLoaded",e),1,ul.map((function(e){return e()}))})));var cl,dl="pending",hl="settled",fl="fulfilled",pl="rejected",ml=function(){},vl="undefined"!==typeof n.g&&"undefined"!==typeof n.g.process&&"function"===typeof n.g.process.emit,gl="undefined"===typeof setImmediate?setTimeout:setImmediate,yl=[];function bl(){for(var e=0;e<yl.length;e++)yl[e][0](yl[e][1]);yl=[],cl=!1}function xl(e,t){yl.push([e,t]),cl||(cl=!0,gl(bl,0))}function wl(e){var t=e.owner,n=t._state,r=t._data,a=e[n],i=e.then;if("function"===typeof a){n=fl;try{r=a(r)}catch(d4){El(i,d4)}}kl(i,r)||(n===fl&&Sl(i,r),n===pl&&El(i,r))}function kl(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===Ls(t))){var r=t.then;if("function"===typeof r)return r.call(t,(function(r){n||(n=!0,t===r?Tl(e,r):Sl(e,r))}),(function(t){n||(n=!0,El(e,t))})),!0}}catch(d4){return n||El(e,d4),!0}return!1}function Sl(e,t){e!==t&&kl(e,t)||Tl(e,t)}function Tl(e,t){e._state===dl&&(e._state=hl,e._data=t,xl(_l,e))}function El(e,t){e._state===dl&&(e._state=hl,e._data=t,xl(Ml,e))}function Cl(e){e._then=e._then.forEach(wl)}function _l(e){e._state=fl,Cl(e)}function Ml(e){e._state=pl,Cl(e),!e._handled&&vl&&n.g.process.emit("unhandledRejection",e._data,e)}function Al(e){n.g.process.emit("rejectionHandled",e)}function Il(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof Il===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){El(t,e)}try{e((function(e){Sl(t,e)}),n)}catch(d4){n(d4)}}(e,this)}Il.prototype={constructor:Il,_state:dl,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(ml),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===pl&&vl&&xl(Al,this)),this._state===fl||this._state===pl?xl(wl,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},Il.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new Il((function(t,n){var r=[],a=0;function i(e){return a++,function(n){r[e]=n,--a||t(r)}}for(var o,s=0;s<e.length;s++)(o=e[s])&&"function"===typeof o.then?o.then(i(s),n):r[s]=o;a||t(r)}))},Il.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new Il((function(t,n){for(var r,a=0;a<e.length;a++)(r=e[a])&&"function"===typeof r.then?r.then(t,n):t(r)}))},Il.resolve=function(e){return e&&"object"===Ls(e)&&e.constructor===Il?e:new Il((function(t){t(e)}))},Il.reject=function(e){return new Il((function(t,n){n(e)}))};var Nl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Rl(e){if(e&&Ks){var t=Xs.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Xs.head.childNodes,r=null,a=n.length-1;a>-1;a--){var i=n[a],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return Xs.head.insertBefore(t,r),e}}var Ol="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Dl(){for(var e=12,t="";e-- >0;)t+=Ol[62*Math.random()|0];return t}function Pl(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ll(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function Fl(e){return e.size!==Nl.size||e.x!==Nl.x||e.y!==Nl.y||e.rotate!==Nl.rotate||e.flipX||e.flipY}function jl(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,a={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(i," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var zl={x:0,y:0,width:"100%",height:"100%"};function Bl(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Ul(e){var t=e.icons,n=t.main,r=t.mask,a=e.prefix,i=e.iconName,o=e.transform,s=e.symbol,l=e.title,u=e.maskId,c=e.titleId,d=e.extra,h=e.watchable,f=void 0!==h&&h,p=r.found?r:n,m=p.width,v=p.height,g="fak"===a,y=g?"":"fa-w-".concat(Math.ceil(m/v*16)),b=[ol.replacementClass,i?"".concat(ol.familyPrefix,"-").concat(i):"",y].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),x={children:[],attributes:zs({},d.attributes,{"data-prefix":a,"data-icon":i,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(v)})},w=g&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/v*16*.0625,"em")}:{};f&&(x.attributes[el]=""),l&&x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(c||Dl())},children:[l]});var k=zs({},x,{prefix:a,iconName:i,main:n,mask:r,maskId:u,transform:o,symbol:s,styles:zs({},w,d.styles)}),S=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,a=e.main,i=e.mask,o=e.maskId,s=e.transform,l=a.width,u=a.icon,c=i.width,d=i.icon,h=jl({transform:s,containerWidth:c,iconWidth:l}),f={tag:"rect",attributes:zs({},zl,{fill:"white"})},p=u.children?{children:u.children.map(Bl)}:{},m={tag:"g",attributes:zs({},h.inner),children:[Bl(zs({tag:u.tag,attributes:zs({},u.attributes,h.path)},p))]},v={tag:"g",attributes:zs({},h.outer),children:[m]},g="mask-".concat(o||Dl()),y="clip-".concat(o||Dl()),b={tag:"mask",attributes:zs({},zl,{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,v]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},b]};return n.push(x,{tag:"rect",attributes:zs({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},zl)}),{children:n,attributes:r}}(k):function(e){var t=e.children,n=e.attributes,r=e.main,a=e.transform,i=Ll(e.styles);if(i.length>0&&(n.style=i),Fl(a)){var o=jl({transform:a,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:zs({},o.outer),children:[{tag:"g",attributes:zs({},o.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:zs({},r.icon.attributes,o.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(k),T=S.children,E=S.attributes;return k.children=T,k.attributes=E,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,a=e.attributes,i=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:zs({},a,{id:!0===i?"".concat(t,"-").concat(ol.familyPrefix,"-").concat(n):i}),children:r}]}]}(k):function(e){var t=e.children,n=e.main,r=e.mask,a=e.attributes,i=e.styles,o=e.transform;if(Fl(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};a.style=Ll(zs({},i,{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(k)}var Wl=function(){},Zl=(ol.measurePerformance&&Ys&&Ys.mark&&Ys.measure,function(e,t,n,r){var a,i,o,s=Object.keys(e),l=s.length,u=void 0!==r?function(e,t){return function(n,r,a,i){return e.call(t,n,r,a,i)}}(t,r):t;for(void 0===n?(a=1,o=e[s[0]]):(a=0,o=n);a<l;a++)o=u(o,e[i=s[a]],i,e);return o});function Vl(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,a=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!==typeof ll.hooks.addPack||r?ll.styles[e]=zs({},ll.styles[e]||{},a):ll.hooks.addPack(e,a),"fas"===e&&Vl("fa",t)}var Hl=ll.styles,Gl=ll.shims,ql=function(){var e=function(e){return Zl(Hl,(function(t,n,r){return t[r]=Zl(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Hl;Zl(Gl,(function(e,n){var r=n[0],a=n[1],i=n[2];return"far"!==a||t||(a="fas"),e[r]={prefix:a,iconName:i},e}),{})};ql();ll.styles;function Xl(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function Yl(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,a=e.children,i=void 0===a?[]:a;return"string"===typeof e?Pl(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Pl(e[n]),'" ')}),"").trim()}(r),">").concat(i.map(Yl).join(""),"</").concat(t,">")}var Kl=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],a=n.slice(1).join("-");if(r&&"h"===a)return e.flipX=!0,e;if(r&&"v"===a)return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(r){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a}return e}),t):t};function Jl(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}Jl.prototype=Object.create(Error.prototype),Jl.prototype.constructor=Jl;var $l={fill:"currentColor"},Ql={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},eu={tag:"path",attributes:zs({},$l,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},tu=zs({},Ql,{attributeName:"opacity"});zs({},$l,{cx:"256",cy:"364",r:"28"}),zs({},Ql,{attributeName:"r",values:"28;14;28;28;14;28;"}),zs({},tu,{values:"1;0;1;1;0;1;"}),zs({},$l,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),zs({},tu,{values:"1;0;0;0;0;1;"}),zs({},$l,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),zs({},tu,{values:"0;0;1;1;0;0;"}),ll.styles;function nu(e){var t=e[0],n=e[1],r=Bs(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(ol.familyPrefix,"-").concat(rl.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ol.familyPrefix,"-").concat(rl.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ol.familyPrefix,"-").concat(rl.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}ll.styles;var ru='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function au(){var e=$s,t=Qs,n=ol.familyPrefix,r=ol.replacementClass,a=ru;if(n!==e||r!==t){var i=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");a=a.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return a}var iu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.reduce(this._pullDefinitions,{});Object.keys(a).forEach((function(t){e.definitions[t]=zs({},e.definitions[t]||{},a[t]),Vl(t,a[t]),ql()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],a=r.prefix,i=r.iconName,o=r.icon;e[a]||(e[a]={}),e[a][i]=o})),e}}],n&&Fs(t.prototype,n),r&&Fs(t,r),e}();function ou(){ol.autoAddCss&&!cu&&(Rl(au()),cu=!0)}function su(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Yl(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Ks){var t=Xs.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function lu(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return Xl(uu.definitions,n,r)||Xl(ll.styles,n,r)}var uu=new iu,cu=!1,du={transform:function(e){return Kl(e)}},hu=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:lu(t||{}),a=n.mask;return a&&(a=(a||{}).icon?a:lu(a||{})),e(r,zs({},n,{mask:a}))}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Nl:n,a=t.symbol,i=void 0!==a&&a,o=t.mask,s=void 0===o?null:o,l=t.maskId,u=void 0===l?null:l,c=t.title,d=void 0===c?null:c,h=t.titleId,f=void 0===h?null:h,p=t.classes,m=void 0===p?[]:p,v=t.attributes,g=void 0===v?{}:v,y=t.styles,b=void 0===y?{}:y;if(e){var x=e.prefix,w=e.iconName,k=e.icon;return su(zs({type:"icon"},e),(function(){return ou(),ol.autoA11y&&(d?g["aria-labelledby"]="".concat(ol.replacementClass,"-title-").concat(f||Dl()):(g["aria-hidden"]="true",g.focusable="false")),Ul({icons:{main:nu(k),mask:s?nu(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:x,iconName:w,transform:zs({},Nl,r),symbol:i,title:d,maskId:u,titleId:f,extra:{attributes:g,styles:b,classes:m}})}))}})),fu=n(2007),pu=n.n(fu);function mu(e){return mu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(e)}function vu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gu(Object(n),!0).forEach((function(t){vu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bu(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xu(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function wu(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var ku=!1;try{ku=!0}catch(d4){}function Su(e){return e&&"object"===mu(e)&&e.prefix&&e.iconName&&e.icon?e:du.icon?du.icon(e):null===e?null:e&&"object"===mu(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Tu(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?vu({},e,t):{}}function Eu(e){var t=e.forwardedRef,n=bu(e,["forwardedRef"]),r=n.icon,a=n.mask,i=n.symbol,o=n.className,s=n.title,l=n.titleId,u=Su(r),c=Tu("classes",[].concat(xu(function(e){var t,n=e.spin,r=e.pulse,a=e.fixedWidth,i=e.inverse,o=e.border,s=e.listItem,l=e.flip,u=e.size,c=e.rotation,d=e.pull,h=(vu(t={"fa-spin":n,"fa-pulse":r,"fa-fw":a,"fa-inverse":i,"fa-border":o,"fa-li":s,"fa-flip-horizontal":"horizontal"===l||"both"===l,"fa-flip-vertical":"vertical"===l||"both"===l},"fa-".concat(u),"undefined"!==typeof u&&null!==u),vu(t,"fa-rotate-".concat(c),"undefined"!==typeof c&&null!==c&&0!==c),vu(t,"fa-pull-".concat(d),"undefined"!==typeof d&&null!==d),vu(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(h).map((function(e){return h[e]?e:null})).filter((function(e){return e}))}(n)),xu(o.split(" ")))),d=Tu("transform","string"===typeof n.transform?du.transform(n.transform):n.transform),h=Tu("mask",Su(a)),f=hu(u,yu({},c,{},d,{},h,{symbol:i,title:s,titleId:l}));if(!f)return function(){var e;!ku&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var p=f.abstract,m={ref:t};return Object.keys(n).forEach((function(e){Eu.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),Cu(p[0],m)}Eu.displayName="FontAwesomeIcon",Eu.propTypes={border:pu().bool,className:pu().string,mask:pu().oneOfType([pu().object,pu().array,pu().string]),fixedWidth:pu().bool,inverse:pu().bool,flip:pu().oneOf(["horizontal","vertical","both"]),icon:pu().oneOfType([pu().object,pu().array,pu().string]),listItem:pu().bool,pull:pu().oneOf(["right","left"]),pulse:pu().bool,rotation:pu().oneOf([0,90,180,270]),size:pu().oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:pu().bool,symbol:pu().oneOfType([pu().bool,pu().string]),title:pu().string,transform:pu().oneOfType([pu().string,pu().object]),swapOpacity:pu().bool},Eu.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var Cu=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var a=(n.children||[]).map((function(n){return e(t,n)})),i=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.indexOf(":"),r=wu(t.slice(0,n)),a=t.slice(n+1).trim();return r.startsWith("webkit")?e[function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(r)]=a:e[r]=a,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[wu(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,l=bu(r,["style"]);return i.attrs.style=yu({},i.attrs.style,{},s),t.apply(void 0,[n.tag,yu({},i.attrs,{},l)].concat(xu(a)))}.bind(null,T.createElement),_u=n(4164),Mu=!1,Au=T.createContext(null),Iu="unmounted",Nu="exited",Ru="entering",Ou="entered",Du="exiting",Pu=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(a=Nu,r.appearStatus=Ru):a=Ou:a=t.unmountOnExit||t.mountOnEnter?Iu:Nu,r.state={status:a},r.nextCallback=null,r}en(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Iu?{status:Nu}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ru&&n!==Ou&&(t=Ru):n!==Ru&&n!==Ou||(t=Du)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ru){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:_u.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Nu&&this.setState({status:Iu})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[_u.findDOMNode(this),r],i=a[0],o=a[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Mu?this.safeSetState({status:Ou},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,o),this.safeSetState({status:Ru},(function(){t.props.onEntering(i,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:Ou},(function(){t.props.onEntered(i,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:_u.findDOMNode(this);t&&!Mu?(this.props.onExit(r),this.safeSetState({status:Du},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Nu},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Nu},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:_u.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=a[0],o=a[1];this.props.addEndListener(i,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Iu)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,wt.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return T.createElement(Au.Provider,{value:null},"function"===typeof n?n(e,r):T.cloneElement(T.Children.only(n),r))},t}(T.Component);function Lu(){}Pu.contextType=Au,Pu.propTypes={},Pu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Lu,onEntering:Lu,onEntered:Lu,onExit:Lu,onExiting:Lu,onExited:Lu},Pu.UNMOUNTED=Iu,Pu.EXITED=Nu,Pu.ENTERING=Ru,Pu.ENTERED=Ou,Pu.EXITING=Du;var Fu=Pu,ju=n(3199),zu=n(2071);function Bu(){var e=(0,Vt.Z)(Gt.Z);return e[Ot.Z]||e}var Uu=function(e){return e.scrollTop};function Wu(e,t){var n,r,a=e.timeout,i=e.easing,o=e.style,s=void 0===o?{}:o;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof a?a:a[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:s.transitionDelay}}var Zu=n(7602),Vu=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Hu(e,t,n){var r,a=function(e,t,n){var r,a=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=(0,Zu.Z)(t);if(t.fakeTransform)r=t.fakeTransform;else{var s=o.getComputedStyle(t);r=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}var l=0,u=0;if(r&&"none"!==r&&"string"===typeof r){var c=r.split("(")[1].split(")")[0].split(",");l=parseInt(c[4],10),u=parseInt(c[5],10)}return"left"===e?"translateX(".concat(i?i.right+l-a.left:o.innerWidth+l-a.left,"px)"):"right"===e?"translateX(-".concat(i?a.right-i.left-l:a.left+a.width-l,"px)"):"up"===e?"translateY(".concat(i?i.bottom+u-a.top:o.innerHeight+u-a.top,"px)"):"translateY(-".concat(i?a.top-i.top+a.height-u:a.top+a.height-u,"px)")}(e,t,"function"===typeof(r=n)?r():r);a&&(t.style.webkitTransform=a,t.style.transform=a)}var Gu=T.forwardRef((function(e,t){var n=Bu(),r={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},i=e.addEndListener,o=e.appear,s=void 0===o||o,l=e.children,u=e.container,c=e.direction,d=void 0===c?"down":c,h=e.easing,f=void 0===h?r:h,p=e.in,m=e.onEnter,v=e.onEntered,g=e.onEntering,y=e.onExit,b=e.onExited,x=e.onExiting,w=e.style,k=e.timeout,S=void 0===k?a:k,E=e.TransitionComponent,C=void 0===E?Fu:E,_=(0,wt.Z)(e,Vu),M=T.useRef(null),A=(0,zu.Z)(l.ref,M,t),I=function(e){return function(t){e&&(void 0===t?e(M.current):e(M.current,t))}},N=I((function(e,t){Hu(d,e,u),Uu(e),m&&m(e,t)})),R=I((function(e,t){var r=Wu({timeout:S,style:w,easing:f},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",(0,xt.Z)({},r)),e.style.transition=n.transitions.create("transform",(0,xt.Z)({},r)),e.style.webkitTransform="none",e.style.transform="none",g&&g(e,t)})),O=I(v),D=I(x),P=I((function(e){var t=Wu({timeout:S,style:w,easing:f},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),Hu(d,e,u),y&&y(e)})),L=I((function(e){e.style.webkitTransition="",e.style.transition="",b&&b(e)})),F=T.useCallback((function(){M.current&&Hu(d,M.current,u)}),[d,u]);return T.useEffect((function(){if(!p&&"down"!==d&&"right"!==d){var e=(0,ju.Z)((function(){M.current&&Hu(d,M.current,u)})),t=(0,Zu.Z)(M.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[d,p,u]),T.useEffect((function(){p||F()}),[p,F]),(0,Ct.jsx)(C,(0,xt.Z)({nodeRef:M,onEnter:N,onEntered:O,onEntering:R,onExit:P,onExited:L,onExiting:D,addEndListener:function(e){i&&i(M.current,e)},appear:s,in:p,timeout:S},_,{children:function(e,t){return T.cloneElement(l,(0,xt.Z)({ref:A,style:(0,xt.Z)({visibility:"exited"!==e||p?void 0:"hidden"},w,l.props.style)},t))}}))})),qu=Gu,Xu=n(8182),Yu=n(4419),Ku=n(8252),Ju=n(4036),$u=n(6117),Qu=n(4913),ec=n(7054),tc=n(8949),nc=n(2876),rc=n(2971);var ac=T.forwardRef((function(e,t){var n=e.children,r=e.container,a=e.disablePortal,i=void 0!==a&&a,o=T.useState(null),s=(0,Z.Z)(o,2),l=s[0],u=s[1],c=(0,$u.Z)(T.isValidElement(n)?n.ref:null,t);if((0,nc.Z)((function(){i||u(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,i]),(0,nc.Z)((function(){if(l&&!i)return(0,rc.Z)(t,l),function(){(0,rc.Z)(t,null)}}),[t,l,i]),i){if(T.isValidElement(n)){var d={ref:c};return T.cloneElement(n,d)}return(0,Ct.jsx)(T.Fragment,{children:n})}return(0,Ct.jsx)(T.Fragment,{children:l?_u.createPortal(n,l):l})}));var ic=ac,oc=n(5202);function sc(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function lc(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function uc(e){return parseInt((0,oc.Z)(e).getComputedStyle(e).paddingRight,10)||0}function cc(e,t,n,r,a){var i=[t,n].concat((0,_.Z)(r));[].forEach.call(e.children,(function(e){var t=-1===i.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&lc(e,a)}))}function dc(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function hc(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,Qu.Z)(e);return t.body===e?(0,oc.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var a=sc((0,Qu.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(uc(r)+a,"px");var i=(0,Qu.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(i,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(uc(e)+a,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=(0,Qu.Z)(r).body;else{var s=r.parentElement,l=(0,oc.Z)(r);o="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===l.getComputedStyle(s).overflowY?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var fc=function(){function e(){M(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return N(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&lc(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);cc(t,e.mount,e.modalRef,r,!0);var a=dc(this.containers,(function(e){return e.container===t}));return-1!==a?(this.containers[a].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=dc(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=hc(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=dc(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),a=this.containers[r];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(n,1),0===a.modals.length)a.restore&&a.restore(),e.modalRef&&lc(e.modalRef,t),cc(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(r,1);else{var i=a.modals[a.modals.length-1];i.modalRef&&lc(i.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),pc=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function mc(e){var t=[],n=[];return Array.from(e.querySelectorAll(pc)).forEach((function(e,r){var a=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==a&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===a?t.push(e):n.push({documentOrder:r,tabIndex:a,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function vc(){return!0}var gc=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,a=e.disableEnforceFocus,i=void 0!==a&&a,o=e.disableRestoreFocus,s=void 0!==o&&o,l=e.getTabbable,u=void 0===l?mc:l,c=e.isEnabled,d=void 0===c?vc:c,h=e.open,f=T.useRef(!1),p=T.useRef(null),m=T.useRef(null),v=T.useRef(null),g=T.useRef(null),y=T.useRef(!1),b=T.useRef(null),x=(0,$u.Z)(t.ref,b),w=T.useRef(null);T.useEffect((function(){h&&b.current&&(y.current=!r)}),[r,h]),T.useEffect((function(){if(h&&b.current){var e=(0,Qu.Z)(b.current);return b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),y.current&&b.current.focus()),function(){s||(v.current&&v.current.focus&&(f.current=!0,v.current.focus()),v.current=null)}}}),[h]),T.useEffect((function(){if(h&&b.current){var e=(0,Qu.Z)(b.current),t=function(t){var n=b.current;if(null!==n)if(e.hasFocus()&&!i&&d()&&!f.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!y.current)return;var r=[];if(e.activeElement!==p.current&&e.activeElement!==m.current||(r=u(b.current)),r.length>0){var a,o,s=Boolean((null==(a=w.current)?void 0:a.shiftKey)&&"Tab"===(null==(o=w.current)?void 0:o.key)),l=r[0],c=r[r.length-1];"string"!==typeof l&&"string"!==typeof c&&(s?c.focus():l.focus())}else n.focus()}}else f.current=!1},n=function(t){w.current=t,!i&&d()&&"Tab"===t.key&&e.activeElement===b.current&&t.shiftKey&&(f.current=!0,m.current&&m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){e.activeElement&&"BODY"===e.activeElement.tagName&&t(null)}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[r,i,s,d,h,u]);var k=function(e){null===v.current&&(v.current=e.relatedTarget),y.current=!0};return(0,Ct.jsxs)(T.Fragment,{children:[(0,Ct.jsx)("div",{tabIndex:h?0:-1,onFocus:k,ref:p,"data-testid":"sentinelStart"}),T.cloneElement(t,{ref:x,onFocus:function(e){null===v.current&&(v.current=e.relatedTarget),y.current=!0,g.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,Ct.jsx)("div",{tabIndex:h?0:-1,onFocus:k,ref:m,"data-testid":"sentinelEnd"})]})},yc=n(5878),bc=n(1217);function xc(e){return(0,bc.Z)("MuiModal",e)}(0,yc.Z)("MuiModal",["root","hidden","backdrop"]);function wc(e){return"string"===typeof e}function kc(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function Sc(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,a=e.externalForwardedProps,i=e.className;if(!t){var o=(0,Xu.Z)(null==a?void 0:a.className,null==r?void 0:r.className,i,null==n?void 0:n.className),s=(0,xt.Z)({},null==n?void 0:n.style,null==a?void 0:a.style,null==r?void 0:r.style),l=(0,xt.Z)({},n,a,r);return o.length>0&&(l.className=o),Object.keys(s).length>0&&(l.style=s),{props:l,internalRef:void 0}}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}((0,xt.Z)({},a,r)),c=kc(r),d=kc(a),h=t(u),f=(0,Xu.Z)(null==h?void 0:h.className,null==n?void 0:n.className,i,null==a?void 0:a.className,null==r?void 0:r.className),p=(0,xt.Z)({},null==h?void 0:h.style,null==n?void 0:n.style,null==a?void 0:a.style,null==r?void 0:r.style),m=(0,xt.Z)({},h,n,d,c);return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:h.ref}}function Tc(e,t){return"function"===typeof e?e(t):e}var Ec=["elementType","externalSlotProps","ownerState"];function Cc(e){var t,n=e.elementType,r=e.externalSlotProps,a=e.ownerState,i=(0,wt.Z)(e,Ec),o=Tc(r,a),s=Sc((0,xt.Z)({},i,{externalSlotProps:o})),l=s.props,u=s.internalRef,c=(0,$u.Z)(u,null==o?void 0:o.ref,null==(t=e.additionalProps)?void 0:t.ref),d=function(e,t,n){return void 0===e||wc(e)?t:(0,xt.Z)({},t,{ownerState:(0,xt.Z)({},t.ownerState,n)})}(n,(0,xt.Z)({},l,{ref:c}),a);return d}var _c={disableDefaultClasses:!1},Mc=T.createContext(_c);var Ac=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],Ic=function(e){var t=e.open,n=e.exited,r={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,Yu.Z)(r,function(e){var t=T.useContext(Mc).disableDefaultClasses;return function(n){return t?"":e(n)}}(xc))};var Nc=new fc,Rc=T.forwardRef((function(e,t){var n,r,a=e.children,i=e.closeAfterTransition,o=void 0!==i&&i,s=e.container,l=e.disableAutoFocus,u=void 0!==l&&l,c=e.disableEnforceFocus,d=void 0!==c&&c,h=e.disableEscapeKeyDown,f=void 0!==h&&h,p=e.disablePortal,m=void 0!==p&&p,v=e.disableRestoreFocus,g=void 0!==v&&v,y=e.disableScrollLock,b=void 0!==y&&y,x=e.hideBackdrop,w=void 0!==x&&x,k=e.keepMounted,S=void 0!==k&&k,E=e.manager,C=void 0===E?Nc:E,_=e.onBackdropClick,M=e.onClose,A=e.onKeyDown,I=e.open,N=e.onTransitionEnter,R=e.onTransitionExited,O=e.slotProps,D=void 0===O?{}:O,P=e.slots,L=void 0===P?{}:P,F=(0,wt.Z)(e,Ac),j=C,z=T.useState(!I),B=(0,Z.Z)(z,2),U=B[0],W=B[1],V=T.useRef({}),H=T.useRef(null),G=T.useRef(null),q=(0,$u.Z)(G,t),X=function(e){return!!e&&e.props.hasOwnProperty("in")}(a),Y=null==(n=e["aria-hidden"])||n,K=function(){return V.current.modalRef=G.current,V.current.mountNode=H.current,V.current},J=function(){j.mount(K(),{disableScrollLock:b}),G.current&&(G.current.scrollTop=0)},$=(0,ec.Z)((function(){var e=function(e){return"function"===typeof e?e():e}(s)||(0,Qu.Z)(H.current).body;j.add(K(),e),G.current&&J()})),Q=T.useCallback((function(){return j.isTopModal(K())}),[j]),ee=(0,ec.Z)((function(e){H.current=e,e&&G.current&&(I&&Q()?J():lc(G.current,Y))})),te=T.useCallback((function(){j.remove(K(),Y)}),[j,Y]);T.useEffect((function(){return function(){te()}}),[te]),T.useEffect((function(){I?$():X&&o||te()}),[I,te,X,o,$]);var ne=(0,xt.Z)({},e,{closeAfterTransition:o,disableAutoFocus:u,disableEnforceFocus:d,disableEscapeKeyDown:f,disablePortal:m,disableRestoreFocus:g,disableScrollLock:b,exited:U,hideBackdrop:w,keepMounted:S}),re=Ic(ne),ae={};void 0===a.props.tabIndex&&(ae.tabIndex="-1"),X&&(ae.onEnter=(0,tc.Z)((function(){W(!1),N&&N()}),a.props.onEnter),ae.onExited=(0,tc.Z)((function(){W(!0),R&&R(),o&&te()}),a.props.onExited));var ie=null!=(r=L.root)?r:"div",oe=Cc({elementType:ie,externalSlotProps:D.root,externalForwardedProps:F,additionalProps:{ref:q,role:"presentation",onKeyDown:function(e){A&&A(e),"Escape"===e.key&&Q()&&(f||(e.stopPropagation(),M&&M(e,"escapeKeyDown")))}},className:re.root,ownerState:ne}),se=L.backdrop,le=Cc({elementType:se,externalSlotProps:D.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(_&&_(e),M&&M(e,"backdropClick"))},open:I},className:re.backdrop,ownerState:ne});return S||I||X&&!U?(0,Ct.jsx)(ic,{ref:ee,container:s,disablePortal:m,children:(0,Ct.jsxs)(ie,(0,xt.Z)({},oe,{children:[!w&&se?(0,Ct.jsx)(se,(0,xt.Z)({},le)):null,(0,Ct.jsx)(gc,{disableEnforceFocus:d,disableAutoFocus:u,disableRestoreFocus:g,isEnabled:Q,open:I,children:T.cloneElement(a,ae)})]}))}):null})),Oc=Rc,Dc=n(7630),Pc=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Lc={entering:{opacity:1},entered:{opacity:1}},Fc=T.forwardRef((function(e,t){var n=Bu(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},a=e.addEndListener,i=e.appear,o=void 0===i||i,s=e.children,l=e.easing,u=e.in,c=e.onEnter,d=e.onEntered,h=e.onEntering,f=e.onExit,p=e.onExited,m=e.onExiting,v=e.style,g=e.timeout,y=void 0===g?r:g,b=e.TransitionComponent,x=void 0===b?Fu:b,w=(0,wt.Z)(e,Pc),k=T.useRef(null),S=(0,zu.Z)(k,s.ref,t),E=function(e){return function(t){if(e){var n=k.current;void 0===t?e(n):e(n,t)}}},C=E(h),_=E((function(e,t){Uu(e);var r=Wu({style:v,timeout:y,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),c&&c(e,t)})),M=E(d),A=E(m),I=E((function(e){var t=Wu({style:v,timeout:y,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),f&&f(e)})),N=E(p);return(0,Ct.jsx)(x,(0,xt.Z)({appear:o,in:u,nodeRef:k,onEnter:_,onEntered:M,onEntering:C,onExit:I,onExited:N,onExiting:A,addEndListener:function(e){a&&a(k.current,e)},timeout:y},w,{children:function(e,t){return T.cloneElement(s,(0,xt.Z)({style:(0,xt.Z)({opacity:0,visibility:"exited"!==e||u?void 0:"hidden"},Lc[e],v,s.props.style),ref:S},t))}}))})),jc=Fc;function zc(e){return(0,bc.Z)("MuiBackdrop",e)}(0,yc.Z)("MuiBackdrop",["root","invisible"]);var Bc=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Uc=(0,Dc.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,xt.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Wc=T.forwardRef((function(e,t){var n,r,a,i=(0,Lt.Z)({props:e,name:"MuiBackdrop"}),o=i.children,s=i.className,l=i.component,u=void 0===l?"div":l,c=i.components,d=void 0===c?{}:c,h=i.componentsProps,f=void 0===h?{}:h,p=i.invisible,m=void 0!==p&&p,v=i.open,g=i.slotProps,y=void 0===g?{}:g,b=i.slots,x=void 0===b?{}:b,w=i.TransitionComponent,k=void 0===w?jc:w,S=i.transitionDuration,T=(0,wt.Z)(i,Bc),E=(0,xt.Z)({},i,{component:u,invisible:m}),C=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return(0,Yu.Z)(n,zc,t)}(E),_=null!=(n=y.root)?n:f.root;return(0,Ct.jsx)(k,(0,xt.Z)({in:v,timeout:S},T,{children:(0,Ct.jsx)(Uc,(0,xt.Z)({"aria-hidden":!0},_,{as:null!=(r=null!=(a=x.root)?a:d.Root)?r:u,className:(0,Xu.Z)(C.root,s,null==_?void 0:_.className),ownerState:(0,xt.Z)({},E,null==_?void 0:_.ownerState),classes:C,ref:t,children:o}))}))})),Zc=Wc,Vc=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],Hc=(0,Dc.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Gc=(0,Dc.ZP)(Zc,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),qc=T.forwardRef((function(e,t){var n,r,a,i,o,s,l=(0,Lt.Z)({name:"MuiModal",props:e}),u=l.BackdropComponent,c=void 0===u?Gc:u,d=l.BackdropProps,h=l.classes,f=l.className,p=l.closeAfterTransition,m=void 0!==p&&p,v=l.children,g=l.container,y=l.component,b=l.components,x=void 0===b?{}:b,w=l.componentsProps,k=void 0===w?{}:w,S=l.disableAutoFocus,E=void 0!==S&&S,C=l.disableEnforceFocus,_=void 0!==C&&C,M=l.disableEscapeKeyDown,A=void 0!==M&&M,I=l.disablePortal,N=void 0!==I&&I,R=l.disableRestoreFocus,O=void 0!==R&&R,D=l.disableScrollLock,P=void 0!==D&&D,L=l.hideBackdrop,F=void 0!==L&&L,j=l.keepMounted,z=void 0!==j&&j,B=l.onBackdropClick,U=l.onClose,W=l.open,V=l.slotProps,H=l.slots,G=l.theme,q=(0,wt.Z)(l,Vc),X=T.useState(!0),Y=(0,Z.Z)(X,2),K=Y[0],J=Y[1],$={container:g,closeAfterTransition:m,disableAutoFocus:E,disableEnforceFocus:_,disableEscapeKeyDown:A,disablePortal:N,disableRestoreFocus:O,disableScrollLock:P,hideBackdrop:F,keepMounted:z,onBackdropClick:B,onClose:U,open:W},Q=(0,xt.Z)({},l,$,{exited:K}),ee=null!=(n=null!=(r=null==H?void 0:H.root)?r:x.Root)?n:Hc,te=null!=(a=null!=(i=null==H?void 0:H.backdrop)?i:x.Backdrop)?a:c,ne=null!=(o=null==V?void 0:V.root)?o:k.root,re=null!=(s=null==V?void 0:V.backdrop)?s:k.backdrop;return(0,Ct.jsx)(Oc,(0,xt.Z)({slots:{root:ee,backdrop:te},slotProps:{root:function(){return(0,xt.Z)({},Tc(ne,Q),!wc(ee)&&{as:y,theme:G},{className:(0,Xu.Z)(f,null==ne?void 0:ne.className,null==h?void 0:h.root,!Q.open&&Q.exited&&(null==h?void 0:h.hidden))})},backdrop:function(){return(0,xt.Z)({},d,Tc(re,Q),{className:(0,Xu.Z)(null==re?void 0:re.className,null==d?void 0:d.className,null==h?void 0:h.backdrop)})}},onTransitionEnter:function(){return J(!1)},onTransitionExited:function(){return J(!0)},ref:t},q,$,{children:v}))})),Xc=qc,Yc=n(2065),Kc=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)};function Jc(e){return(0,bc.Z)("MuiPaper",e)}(0,yc.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var $c=["className","component","elevation","square","variant"],Qc=(0,Dc.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,xt.Z)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&(0,xt.Z)({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,Yc.Fq)("#fff",Kc(r.elevation)),", ").concat((0,Yc.Fq)("#fff",Kc(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),ed=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiPaper"}),r=n.className,a=n.component,i=void 0===a?"div":a,o=n.elevation,s=void 0===o?1:o,l=n.square,u=void 0!==l&&l,c=n.variant,d=void 0===c?"elevation":c,h=(0,wt.Z)(n,$c),f=(0,xt.Z)({},n,{component:i,elevation:s,square:u,variant:d}),p=function(e){var t=e.square,n=e.elevation,r=e.variant,a=e.classes,i={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,Yu.Z)(i,Jc,a)}(f);return(0,Ct.jsx)(Qc,(0,xt.Z)({as:i,ownerState:f,className:(0,Xu.Z)(p.root,r),ref:t},h))})),td=ed;function nd(e){return(0,bc.Z)("MuiDialog",e)}var rd=(0,yc.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var ad=T.createContext({}),id=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],od=(0,Dc.ZP)(Zc,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),sd=(0,Dc.ZP)(Xc,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),ld=(0,Dc.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat((0,Ju.Z)(n.scroll))]]}})((function(e){var t=e.ownerState;return(0,xt.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),ud=(0,Dc.ZP)(td,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat((0,Ju.Z)(n.scroll))],t["paperWidth".concat((0,Ju.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&(0,kt.Z)({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)")},"&.".concat(rd.paperScrollBody),(0,kt.Z)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),n.maxWidth&&"xs"!==n.maxWidth&&(0,kt.Z)({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(rd.paperScrollBody),(0,kt.Z)({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&(0,kt.Z)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(rd.paperScrollBody),{margin:0,maxWidth:"100%"}))})),cd=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiDialog"}),r=Bu(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},i=n["aria-describedby"],o=n["aria-labelledby"],s=n.BackdropComponent,l=n.BackdropProps,u=n.children,c=n.className,d=n.disableEscapeKeyDown,h=void 0!==d&&d,f=n.fullScreen,p=void 0!==f&&f,m=n.fullWidth,v=void 0!==m&&m,g=n.maxWidth,y=void 0===g?"sm":g,b=n.onBackdropClick,x=n.onClose,w=n.open,k=n.PaperComponent,S=void 0===k?td:k,E=n.PaperProps,C=void 0===E?{}:E,_=n.scroll,M=void 0===_?"paper":_,A=n.TransitionComponent,I=void 0===A?jc:A,N=n.transitionDuration,R=void 0===N?a:N,O=n.TransitionProps,D=(0,wt.Z)(n,id),P=(0,xt.Z)({},n,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:v,maxWidth:y,scroll:M}),L=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,a=e.fullWidth,i=e.fullScreen,o={root:["root"],container:["container","scroll".concat((0,Ju.Z)(n))],paper:["paper","paperScroll".concat((0,Ju.Z)(n)),"paperWidth".concat((0,Ju.Z)(String(r))),a&&"paperFullWidth",i&&"paperFullScreen"]};return(0,Yu.Z)(o,nd,t)}(P),F=T.useRef(),j=(0,Ku.Z)(o),z=T.useMemo((function(){return{titleId:j}}),[j]);return(0,Ct.jsx)(sd,(0,xt.Z)({className:(0,Xu.Z)(L.root,c),closeAfterTransition:!0,components:{Backdrop:od},componentsProps:{backdrop:(0,xt.Z)({transitionDuration:R,as:s},l)},disableEscapeKeyDown:h,onClose:x,open:w,ref:t,onClick:function(e){F.current&&(F.current=null,b&&b(e),x&&x(e,"backdropClick"))},ownerState:P},D,{children:(0,Ct.jsx)(I,(0,xt.Z)({appear:!0,in:w,timeout:R,role:"presentation"},O,{children:(0,Ct.jsx)(ld,{className:(0,Xu.Z)(L.container),onMouseDown:function(e){F.current=e.target===e.currentTarget},ownerState:P,children:(0,Ct.jsx)(ud,(0,xt.Z)({as:S,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":j},C,{className:(0,Xu.Z)(L.paper,C.className),ownerState:P,children:(0,Ct.jsx)(ad.Provider,{value:z,children:u})}))})}))}))})),dd=cd,hd=n(9683),fd=n(3031);function pd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function md(e,t){var n=Object.create(null);return e&&T.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,T.isValidElement)(e)?t(e):e}(e)})),n}function vd(e,t,n){return null!=n[t]?n[t]:e.props[t]}function gd(e,t,n){var r=md(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),i=[];for(var o in e)o in t?i.length&&(a[o]=i,i=[]):i.push(o);var s={};for(var l in t){if(a[l])for(r=0;r<a[l].length;r++){var u=a[l][r];s[a[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}(t,r);return Object.keys(a).forEach((function(i){var o=a[i];if((0,T.isValidElement)(o)){var s=i in t,l=i in r,u=t[i],c=(0,T.isValidElement)(u)&&!u.props.in;!l||s&&!c?l||!s||c?l&&s&&(0,T.isValidElement)(u)&&(a[i]=(0,T.cloneElement)(o,{onExited:n.bind(null,o),in:u.props.in,exit:vd(o,"exit",e),enter:vd(o,"enter",e)})):a[i]=(0,T.cloneElement)(o,{in:!1}):a[i]=(0,T.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:vd(o,"exit",e),enter:vd(o,"enter",e)})}})),a}var yd=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},bd=function(e){function t(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(F(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}en(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,md(n.children,(function(e){return(0,T.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:vd(e,"appear",n),enter:vd(e,"enter",n),exit:vd(e,"exit",n)})}))):gd(e,a,i),firstRender:!1}},n.handleExited=function(e,t){var n=md(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,xt.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,wt.Z)(e,["component","childFactory"]),a=this.state.contextValue,i=yd(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?T.createElement(Au.Provider,{value:a},i):T.createElement(Au.Provider,{value:a},T.createElement(t,r,i))},t}(T.Component);bd.propTypes={},bd.defaultProps={component:"div",childFactory:function(e){return e}};var xd=bd;var wd=function(e){var t=e.className,n=e.classes,r=e.pulsate,a=void 0!==r&&r,i=e.rippleX,o=e.rippleY,s=e.rippleSize,l=e.in,u=e.onExited,c=e.timeout,d=T.useState(!1),h=(0,Z.Z)(d,2),f=h[0],p=h[1],m=(0,Xu.Z)(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),v={width:s,height:s,top:-s/2+o,left:-s/2+i},g=(0,Xu.Z)(n.child,f&&n.childLeaving,a&&n.childPulsate);return l||f||p(!0),T.useEffect((function(){if(!l&&null!=u){var e=setTimeout(u,c);return function(){clearTimeout(e)}}}),[u,l,c]),(0,Ct.jsx)("span",{className:m,style:v,children:(0,Ct.jsx)("span",{className:g})})};var kd,Sd,Td,Ed,Cd,_d,Md,Ad,Id=(0,yc.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Nd=["center","classes","className"],Rd=Wt(Cd||(Cd=kd||(kd=pd(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Od=Wt(_d||(_d=Sd||(Sd=pd(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Dd=Wt(Md||(Md=Td||(Td=pd(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Pd=(0,Dc.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ld=(0,Dc.ZP)(wd,{name:"MuiTouchRipple",slot:"Ripple"})(Ad||(Ad=Ed||(Ed=pd(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Id.rippleVisible,Rd,550,(function(e){return e.theme.transitions.easing.easeInOut}),Id.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Id.child,Id.childLeaving,Od,550,(function(e){return e.theme.transitions.easing.easeInOut}),Id.childPulsate,Dd,(function(e){return e.theme.transitions.easing.easeInOut})),Fd=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiTouchRipple"}),r=n.center,a=void 0!==r&&r,i=n.classes,o=void 0===i?{}:i,s=n.className,l=(0,wt.Z)(n,Nd),u=T.useState([]),c=(0,Z.Z)(u,2),d=c[0],h=c[1],f=T.useRef(0),p=T.useRef(null);T.useEffect((function(){p.current&&(p.current(),p.current=null)}),[d]);var m=T.useRef(!1),v=T.useRef(null),g=T.useRef(null),y=T.useRef(null);T.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var b=T.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,a=e.rippleSize,i=e.cb;h((function(e){return[].concat((0,_.Z)(e),[(0,Ct.jsx)(Ld,{classes:{ripple:(0,Xu.Z)(o.ripple,Id.ripple),rippleVisible:(0,Xu.Z)(o.rippleVisible,Id.rippleVisible),ripplePulsate:(0,Xu.Z)(o.ripplePulsate,Id.ripplePulsate),child:(0,Xu.Z)(o.child,Id.child),childLeaving:(0,Xu.Z)(o.childLeaving,Id.childLeaving),childPulsate:(0,Xu.Z)(o.childPulsate,Id.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a},f.current)])})),f.current+=1,p.current=i}),[o]),x=T.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===(null==e?void 0:e.type)&&m.current)m.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);var c,d,h,f=u?null:y.current,p=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),d=Math.round(p.height/2);else{var x=e.touches&&e.touches.length>0?e.touches[0]:e,w=x.clientX,k=x.clientY;c=Math.round(w-p.left),d=Math.round(k-p.top)}if(s)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var S=2*Math.max(Math.abs((f?f.clientWidth:0)-c),c)+2,T=2*Math.max(Math.abs((f?f.clientHeight:0)-d),d)+2;h=Math.sqrt(Math.pow(S,2)+Math.pow(T,2))}null!=e&&e.touches?null===g.current&&(g.current=function(){b({pulsate:i,rippleX:c,rippleY:d,rippleSize:h,cb:n})},v.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):b({pulsate:i,rippleX:c,rippleY:d,rippleSize:h,cb:n})}}),[a,b]),w=T.useCallback((function(){x({},{pulsate:!0})}),[x]),k=T.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void(v.current=setTimeout((function(){k(e,t)})));g.current=null,h((function(e){return e.length>0?e.slice(1):e})),p.current=t}),[]);return T.useImperativeHandle(t,(function(){return{pulsate:w,start:x,stop:k}}),[w,x,k]),(0,Ct.jsx)(Pd,(0,xt.Z)({className:(0,Xu.Z)(Id.root,o.root,s),ref:y},l,{children:(0,Ct.jsx)(xd,{component:null,exit:!0,children:d})}))})),jd=Fd;function zd(e){return(0,bc.Z)("MuiButtonBase",e)}var Bd,Ud=(0,yc.Z)("MuiButtonBase",["root","disabled","focusVisible"]),Wd=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Zd=(0,Dc.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Bd={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,kt.Z)(Bd,"&.".concat(Ud.disabled),{pointerEvents:"none",cursor:"default"}),(0,kt.Z)(Bd,"@media print",{colorAdjust:"exact"}),Bd)),Vd=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiButtonBase"}),r=n.action,a=n.centerRipple,i=void 0!==a&&a,o=n.children,s=n.className,l=n.component,u=void 0===l?"button":l,c=n.disabled,d=void 0!==c&&c,h=n.disableRipple,f=void 0!==h&&h,p=n.disableTouchRipple,m=void 0!==p&&p,v=n.focusRipple,g=void 0!==v&&v,y=n.LinkComponent,b=void 0===y?"a":y,x=n.onBlur,w=n.onClick,k=n.onContextMenu,S=n.onDragLeave,E=n.onFocus,C=n.onFocusVisible,_=n.onKeyDown,M=n.onKeyUp,A=n.onMouseDown,I=n.onMouseLeave,N=n.onMouseUp,R=n.onTouchEnd,O=n.onTouchMove,D=n.onTouchStart,P=n.tabIndex,L=void 0===P?0:P,F=n.TouchRippleProps,j=n.touchRippleRef,z=n.type,B=(0,wt.Z)(n,Wd),U=T.useRef(null),W=T.useRef(null),V=(0,zu.Z)(W,j),H=(0,fd.Z)(),G=H.isFocusVisibleRef,q=H.onFocus,X=H.onBlur,Y=H.ref,K=T.useState(!1),J=(0,Z.Z)(K,2),$=J[0],Q=J[1];d&&$&&Q(!1),T.useImperativeHandle(r,(function(){return{focusVisible:function(){Q(!0),U.current.focus()}}}),[]);var ee=T.useState(!1),te=(0,Z.Z)(ee,2),ne=te[0],re=te[1];T.useEffect((function(){re(!0)}),[]);var ae=ne&&!f&&!d;function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return(0,hd.Z)((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}T.useEffect((function(){$&&g&&!f&&ne&&W.current.pulsate()}),[f,g,$,ne]);var oe=ie("start",A),se=ie("stop",k),le=ie("stop",S),ue=ie("stop",N),ce=ie("stop",(function(e){$&&e.preventDefault(),I&&I(e)})),de=ie("start",D),he=ie("stop",R),fe=ie("stop",O),pe=ie("stop",(function(e){X(e),!1===G.current&&Q(!1),x&&x(e)}),!1),me=(0,hd.Z)((function(e){U.current||(U.current=e.currentTarget),q(e),!0===G.current&&(Q(!0),C&&C(e)),E&&E(e)})),ve=function(){var e=U.current;return u&&"button"!==u&&!("A"===e.tagName&&e.href)},ge=T.useRef(!1),ye=(0,hd.Z)((function(e){g&&!ge.current&&$&&W.current&&" "===e.key&&(ge.current=!0,W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&ve()&&" "===e.key&&e.preventDefault(),_&&_(e),e.target===e.currentTarget&&ve()&&"Enter"===e.key&&!d&&(e.preventDefault(),w&&w(e))})),be=(0,hd.Z)((function(e){g&&" "===e.key&&W.current&&$&&!e.defaultPrevented&&(ge.current=!1,W.current.stop(e,(function(){W.current.pulsate(e)}))),M&&M(e),w&&e.target===e.currentTarget&&ve()&&" "===e.key&&!e.defaultPrevented&&w(e)})),xe=u;"button"===xe&&(B.href||B.to)&&(xe=b);var we={};"button"===xe?(we.type=void 0===z?"button":z,we.disabled=d):(B.href||B.to||(we.role="button"),d&&(we["aria-disabled"]=d));var ke=(0,zu.Z)(t,Y,U);var Se=(0,xt.Z)({},n,{centerRipple:i,component:u,disabled:d,disableRipple:f,disableTouchRipple:m,focusRipple:g,tabIndex:L,focusVisible:$}),Te=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,a=e.classes,i={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,Yu.Z)(i,zd,a);return n&&r&&(o.root+=" ".concat(r)),o}(Se);return(0,Ct.jsxs)(Zd,(0,xt.Z)({as:xe,className:(0,Xu.Z)(Te.root,s),ownerState:Se,onBlur:pe,onClick:w,onContextMenu:se,onFocus:me,onKeyDown:ye,onKeyUp:be,onMouseDown:oe,onMouseLeave:ce,onMouseUp:ue,onDragLeave:le,onTouchEnd:he,onTouchMove:fe,onTouchStart:de,ref:ke,tabIndex:d?-1:L,type:z},we,B,{children:[o,ae?(0,Ct.jsx)(jd,(0,xt.Z)({ref:V,center:i},F)):null]}))})),Hd=Vd;function Gd(e){return(0,bc.Z)("MuiIconButton",e)}var qd=(0,yc.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Xd=["edge","children","className","color","disabled","disableFocusRipple","size"],Yd=(0,Dc.ZP)(Hd,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,Ju.Z)(n.color))],n.edge&&t["edge".concat((0,Ju.Z)(n.edge))],t["size".concat((0,Ju.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Yc.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t,n=e.theme,r=e.ownerState,a=null==(t=(n.vars||n).palette)?void 0:t[r.color];return(0,xt.Z)({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&(0,xt.Z)({color:null==a?void 0:a.main},!r.disableRipple&&{"&:hover":(0,xt.Z)({},a&&{backgroundColor:n.vars?"rgba(".concat(a.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,Yc.Fq)(a.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:n.typography.pxToRem(28)},(0,kt.Z)({},"&.".concat(qd.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}))})),Kd=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiIconButton"}),r=n.edge,a=void 0!==r&&r,i=n.children,o=n.className,s=n.color,l=void 0===s?"default":s,u=n.disabled,c=void 0!==u&&u,d=n.disableFocusRipple,h=void 0!==d&&d,f=n.size,p=void 0===f?"medium":f,m=(0,wt.Z)(n,Xd),v=(0,xt.Z)({},n,{edge:a,color:l,disabled:c,disableFocusRipple:h,size:p}),g=function(e){var t=e.classes,n=e.disabled,r=e.color,a=e.edge,i=e.size,o={root:["root",n&&"disabled","default"!==r&&"color".concat((0,Ju.Z)(r)),a&&"edge".concat((0,Ju.Z)(a)),"size".concat((0,Ju.Z)(i))]};return(0,Yu.Z)(o,Gd,t)}(v);return(0,Ct.jsx)(Yd,(0,xt.Z)({className:(0,Xu.Z)(g.root,o),centerRipple:!0,focusRipple:!h,disabled:c,ref:t,ownerState:v},m,{children:i}))})),Jd=Kd,$d=n(7416),Qd=["sx"],eh=function(e){var t,n,r={systemProps:{},otherProps:{}},a=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:$d.Z;return Object.keys(e).forEach((function(t){a[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function th(e){var t,n=e.sx,r=(0,wt.Z)(e,Qd),a=eh(r),i=a.systemProps,o=a.otherProps;return t=Array.isArray(n)?[i].concat((0,_.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,Ga.P)(e)?(0,xt.Z)({},i,e):i}:(0,xt.Z)({},i,n),(0,xt.Z)({},o,{sx:t})}function nh(e){return(0,bc.Z)("MuiTypography",e)}(0,yc.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var rh=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ah=(0,Dc.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,Ju.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),ih={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},oh={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},sh=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiTypography"}),r=function(e){return oh[e]||e}(n.color),a=th((0,xt.Z)({},n,{color:r})),i=a.align,o=void 0===i?"inherit":i,s=a.className,l=a.component,u=a.gutterBottom,c=void 0!==u&&u,d=a.noWrap,h=void 0!==d&&d,f=a.paragraph,p=void 0!==f&&f,m=a.variant,v=void 0===m?"body1":m,g=a.variantMapping,y=void 0===g?ih:g,b=(0,wt.Z)(a,rh),x=(0,xt.Z)({},a,{align:o,color:r,className:s,component:l,gutterBottom:c,noWrap:h,paragraph:p,variant:v,variantMapping:y}),w=l||(p?"p":y[v]||ih[v])||"span",k=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,a=e.paragraph,i=e.variant,o=e.classes,s={root:["root",i,"inherit"!==e.align&&"align".concat((0,Ju.Z)(t)),n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return(0,Yu.Z)(s,nh,o)}(x);return(0,Ct.jsx)(ah,(0,xt.Z)({as:w,ref:t,ownerState:x,className:(0,Xu.Z)(k.root,s)},b))})),lh=sh;function uh(e){return(0,bc.Z)("MuiDialogTitle",e)}var ch=(0,yc.Z)("MuiDialogTitle",["root"]),dh=["className","id"],hh=(0,Dc.ZP)(lh,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),fh=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiDialogTitle"}),r=n.className,a=n.id,i=(0,wt.Z)(n,dh),o=n,s=function(e){var t=e.classes;return(0,Yu.Z)({root:["root"]},uh,t)}(o),l=T.useContext(ad).titleId,u=void 0===l?a:l;return(0,Ct.jsx)(hh,(0,xt.Z)({component:"h2",className:(0,Xu.Z)(s.root,r),ownerState:o,ref:t,variant:"h6",id:null!=a?a:u},i))})),ph=fh;function mh(e){return(0,bc.Z)("MuiDialogContent",e)}(0,yc.Z)("MuiDialogContent",["root","dividers"]);var vh=["className","dividers"],gh=(0,Dc.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:(0,kt.Z)({},".".concat(ch.root," + &"),{paddingTop:0}))})),yh=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiDialogContent"}),r=n.className,a=n.dividers,i=void 0!==a&&a,o=(0,wt.Z)(n,vh),s=(0,xt.Z)({},n,{dividers:i}),l=function(e){var t=e.classes,n={root:["root",e.dividers&&"dividers"]};return(0,Yu.Z)(n,mh,t)}(s);return(0,Ct.jsx)(gh,(0,xt.Z)({className:(0,Xu.Z)(l.root,r),ownerState:s,ref:t},o))})),bh=yh;function xh(e){return(0,bc.Z)("MuiDialogContentText",e)}(0,yc.Z)("MuiDialogContentText",["root"]);var wh=["children","className"],kh=(0,Dc.ZP)(lh,{shouldForwardProp:function(e){return(0,Dc.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Sh=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiDialogContentText"}),r=n.className,a=(0,wt.Z)(n,wh),i=function(e){var t=e.classes,n=(0,Yu.Z)({root:["root"]},xh,t);return(0,xt.Z)({},t,n)}(a);return(0,Ct.jsx)(kh,(0,xt.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:a,className:(0,Xu.Z)(i.root,r)},n,{classes:i}))})),Th=Sh,Eh=n(1184);var Ch=T.createContext();function _h(e){return(0,bc.Z)("MuiGrid",e)}var Mh=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ah=(0,yc.Z)("MuiGrid",["root","container","item","zeroMinWidth"].concat((0,_.Z)([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),(0,_.Z)(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),(0,_.Z)(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),(0,_.Z)(Mh.map((function(e){return"grid-xs-".concat(e)}))),(0,_.Z)(Mh.map((function(e){return"grid-sm-".concat(e)}))),(0,_.Z)(Mh.map((function(e){return"grid-md-".concat(e)}))),(0,_.Z)(Mh.map((function(e){return"grid-lg-".concat(e)}))),(0,_.Z)(Mh.map((function(e){return"grid-xl-".concat(e)}))))),Ih=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Nh(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function Rh(e){var t=e.breakpoints,n=e.values,r="";Object.keys(n).forEach((function(e){""===r&&0!==n[e]&&(r=e)}));var a=Object.keys(t).sort((function(e,n){return t[e]-t[n]}));return a.slice(0,a.indexOf(r))}var Oh=(0,Dc.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,a=n.direction,i=n.item,o=n.spacing,s=n.wrap,l=n.zeroMinWidth,u=n.breakpoints,c=[];r&&(c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];var r=[];return t.forEach((function(t){var a=e[t];Number(a)>0&&r.push(n["spacing-".concat(t,"-").concat(String(a))])})),r}(o,u,t));var d=[];return u.forEach((function(e){var r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth].concat((0,_.Z)(c),["row"!==a&&t["direction-xs-".concat(String(a))],"wrap"!==s&&t["wrap-xs-".concat(String(s))]],d)}})((function(e){var t=e.ownerState;return(0,xt.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme,n=e.ownerState,r=(0,Eh.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,Eh.k9)({theme:t},r,(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Ah.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,a=n.rowSpacing,i={};if(r&&0!==a){var o,s=(0,Eh.P$)({values:a,breakpoints:t.breakpoints.values});"object"===typeof s&&(o=Rh({breakpoints:t.breakpoints.values,values:s})),i=(0,Eh.k9)({theme:t},s,(function(e,n){var r,a=t.spacing(e);return"0px"!==a?(0,kt.Z)({marginTop:"-".concat(Nh(a))},"& > .".concat(Ah.item),{paddingTop:Nh(a)}):null!=(r=o)&&r.includes(n)?{}:(0,kt.Z)({marginTop:0},"& > .".concat(Ah.item),{paddingTop:0})}))}return i}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,a=n.columnSpacing,i={};if(r&&0!==a){var o,s=(0,Eh.P$)({values:a,breakpoints:t.breakpoints.values});"object"===typeof s&&(o=Rh({breakpoints:t.breakpoints.values,values:s})),i=(0,Eh.k9)({theme:t},s,(function(e,n){var r,a=t.spacing(e);return"0px"!==a?(0,kt.Z)({width:"calc(100% + ".concat(Nh(a),")"),marginLeft:"-".concat(Nh(a))},"& > .".concat(Ah.item),{paddingLeft:Nh(a)}):null!=(r=o)&&r.includes(n)?{}:(0,kt.Z)({width:"100%",marginLeft:0},"& > .".concat(Ah.item),{paddingLeft:0})}))}return i}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,a){var i={};if(r[a]&&(t=r[a]),!t)return e;if(!0===t)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var o=(0,Eh.P$)({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof o?o[a]:o;if(void 0===s||null===s)return e;var l="".concat(Math.round(t/s*1e8)/1e6,"%"),u={};if(r.container&&r.item&&0!==r.columnSpacing){var c=n.spacing(r.columnSpacing);if("0px"!==c){var d="calc(".concat(l," + ").concat(Nh(c),")");u={flexBasis:d,maxWidth:d}}}i=(0,xt.Z)({flexBasis:l,flexGrow:0,maxWidth:l},u)}return 0===n.breakpoints.values[a]?Object.assign(e,i):e[n.breakpoints.up(a)]=i,e}),{})}));var Dh=function(e){var t=e.classes,n=e.container,r=e.direction,a=e.item,i=e.spacing,o=e.wrap,s=e.zeroMinWidth,l=e.breakpoints,u=[];n&&(u=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];var n=[];return t.forEach((function(t){var r=e[t];if(Number(r)>0){var a="spacing-".concat(t,"-").concat(String(r));n.push(a)}})),n}(i,l));var c=[];l.forEach((function(t){var n=e[t];n&&c.push("grid-".concat(t,"-").concat(String(n)))}));var d={root:["root",n&&"container",a&&"item",s&&"zeroMinWidth"].concat((0,_.Z)(u),["row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==o&&"wrap-xs-".concat(String(o))],c)};return(0,Yu.Z)(d,_h,t)},Ph=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiGrid"}),r=Bu().breakpoints,a=th(n),i=a.className,o=a.columns,s=a.columnSpacing,l=a.component,u=void 0===l?"div":l,c=a.container,d=void 0!==c&&c,h=a.direction,f=void 0===h?"row":h,p=a.item,m=void 0!==p&&p,v=a.rowSpacing,g=a.spacing,y=void 0===g?0:g,b=a.wrap,x=void 0===b?"wrap":b,w=a.zeroMinWidth,k=void 0!==w&&w,S=(0,wt.Z)(a,Ih),E=v||y,C=s||y,_=T.useContext(Ch),M=d?o||12:_,A={},I=(0,xt.Z)({},S);r.keys.forEach((function(e){null!=S[e]&&(A[e]=S[e],delete I[e])}));var N=(0,xt.Z)({},a,{columns:M,container:d,direction:f,item:m,rowSpacing:E,columnSpacing:C,wrap:x,zeroMinWidth:k,spacing:y},A,{breakpoints:r.keys}),R=Dh(N);return(0,Ct.jsx)(Ch.Provider,{value:M,children:(0,Ct.jsx)(Oh,(0,xt.Z)({ownerState:N,className:(0,Xu.Z)(R.root,i),as:u,ref:t},I))})})),Lh=Ph,Fh=n(6187),jh=n(2254),zh=["onChange","maxRows","minRows","style","value"];function Bh(e){return parseInt(e,10)||0}var Uh={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function Wh(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}var Zh=T.forwardRef((function(e,t){var n=e.onChange,r=e.maxRows,a=e.minRows,i=void 0===a?1:a,o=e.style,s=e.value,l=(0,wt.Z)(e,zh),u=T.useRef(null!=s).current,c=T.useRef(null),d=(0,$u.Z)(t,c),h=T.useRef(null),f=T.useRef(0),p=T.useState({outerHeightStyle:0}),m=(0,Z.Z)(p,2),v=m[0],g=m[1],y=T.useCallback((function(){var t=c.current,n=(0,oc.Z)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};var a=h.current;a.style.width=n.width,a.value=t.value||e.placeholder||"x","\n"===a.value.slice(-1)&&(a.value+=" ");var o=n.boxSizing,s=Bh(n.paddingBottom)+Bh(n.paddingTop),l=Bh(n.borderBottomWidth)+Bh(n.borderTopWidth),u=a.scrollHeight;a.value="x";var d=a.scrollHeight,f=u;return i&&(f=Math.max(Number(i)*d,f)),r&&(f=Math.min(Number(r)*d,f)),{outerHeightStyle:(f=Math.max(f,d))+("border-box"===o?s+l:0),overflow:Math.abs(f-u)<=1}}),[r,i,e.placeholder]),b=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return f.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(f.current+=1,{overflow:r,outerHeightStyle:n}):e},x=T.useCallback((function(){var e=y();Wh(e)||g((function(t){return b(t,e)}))}),[y]);T.useEffect((function(){var e,t=(0,jh.Z)((function(){f.current=0,c.current&&function(){var e=y();Wh(e)||_u.flushSync((function(){g((function(t){return b(t,e)}))}))}()})),n=c.current,r=(0,oc.Z)(n);return r.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(n),function(){t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}})),(0,nc.Z)((function(){x()})),T.useEffect((function(){f.current=0}),[s]);return(0,Ct.jsxs)(T.Fragment,{children:[(0,Ct.jsx)("textarea",(0,xt.Z)({value:s,onChange:function(e){f.current=0,u||x(),n&&n(e)},ref:d,rows:i,style:(0,xt.Z)({height:v.outerHeightStyle,overflow:v.overflow?"hidden":void 0},o)},l)),(0,Ct.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:(0,xt.Z)({},Uh,o,{padding:0})})]})})),Vh=Zh;function Hh(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var Gh=T.createContext(void 0);function qh(){return T.useContext(Gh)}var Xh=n(162);function Yh(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Kh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Yh(e.value)&&""!==e.value||t&&Yh(e.defaultValue)&&""!==e.defaultValue)}function Jh(e){return(0,bc.Z)("MuiInputBase",e)}var $h=(0,yc.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Qh=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ef=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,Ju.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},tf=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},nf=(0,Dc.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ef})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({},t.typography.body1,(0,kt.Z)({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat($h.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&(0,xt.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),rf=(0,Dc.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:tf})((function(e){var t,n=e.theme,r=e.ownerState,a="light"===n.palette.mode,i=(0,xt.Z)({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),o={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5};return(0,xt.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,kt.Z)(t,"label[data-shrink=false] + .".concat($h.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),(0,kt.Z)(t,"&.".concat($h.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),(0,kt.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),af=(0,Ct.jsx)(qt,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),of=T.forwardRef((function(e,t){var n,r=(0,Lt.Z)({props:e,name:"MuiInputBase"}),a=r["aria-describedby"],i=r.autoComplete,o=r.autoFocus,s=r.className,l=r.components,u=void 0===l?{}:l,c=r.componentsProps,d=void 0===c?{}:c,h=r.defaultValue,f=r.disabled,p=r.disableInjectingGlobalStyles,m=r.endAdornment,v=r.fullWidth,g=void 0!==v&&v,y=r.id,b=r.inputComponent,x=void 0===b?"input":b,w=r.inputProps,k=void 0===w?{}:w,S=r.inputRef,E=r.maxRows,C=r.minRows,_=r.multiline,M=void 0!==_&&_,A=r.name,I=r.onBlur,N=r.onChange,R=r.onClick,O=r.onFocus,D=r.onKeyDown,P=r.onKeyUp,L=r.placeholder,F=r.readOnly,j=r.renderSuffix,z=r.rows,B=r.slotProps,U=void 0===B?{}:B,W=r.slots,V=void 0===W?{}:W,H=r.startAdornment,G=r.type,q=void 0===G?"text":G,X=r.value,Y=(0,wt.Z)(r,Qh),K=null!=k.value?k.value:X,J=T.useRef(null!=K).current,$=T.useRef(),Q=T.useCallback((function(e){0}),[]),ee=(0,zu.Z)($,S,k.ref,Q),te=T.useState(!1),ne=(0,Z.Z)(te,2),re=ne[0],ae=ne[1],ie=qh();var oe=Hh({props:r,muiFormControl:ie,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=ie?ie.focused:re,T.useEffect((function(){!ie&&f&&re&&(ae(!1),I&&I())}),[ie,f,re,I]);var se=ie&&ie.onFilled,le=ie&&ie.onEmpty,ue=T.useCallback((function(e){Kh(e)?se&&se():le&&le()}),[se,le]);(0,Xh.Z)((function(){J&&ue({value:K})}),[K,ue,J]);T.useEffect((function(){ue($.current)}),[]);var ce=x,de=k;M&&"input"===ce&&(de=z?(0,xt.Z)({type:void 0,minRows:z,maxRows:z},de):(0,xt.Z)({type:void 0,maxRows:E,minRows:C},de),ce=Vh);T.useEffect((function(){ie&&ie.setAdornedStart(Boolean(H))}),[ie,H]);var he=(0,xt.Z)({},r,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:m,error:oe.error,focused:oe.focused,formControl:ie,fullWidth:g,hiddenLabel:oe.hiddenLabel,multiline:M,size:oe.size,startAdornment:H,type:q}),fe=function(e){var t=e.classes,n=e.color,r=e.disabled,a=e.error,i=e.endAdornment,o=e.focused,s=e.formControl,l=e.fullWidth,u=e.hiddenLabel,c=e.multiline,d=e.readOnly,h=e.size,f=e.startAdornment,p=e.type,m={root:["root","color".concat((0,Ju.Z)(n)),r&&"disabled",a&&"error",l&&"fullWidth",o&&"focused",s&&"formControl","small"===h&&"sizeSmall",c&&"multiline",f&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",c&&"inputMultiline","small"===h&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return(0,Yu.Z)(m,Jh,t)}(he),pe=V.root||u.Root||nf,me=U.root||d.root||{},ve=V.input||u.Input||rf;return de=(0,xt.Z)({},de,null!=(n=U.input)?n:d.input),(0,Ct.jsxs)(T.Fragment,{children:[!p&&af,(0,Ct.jsxs)(pe,(0,xt.Z)({},me,!wc(pe)&&{ownerState:(0,xt.Z)({},he,me.ownerState)},{ref:t,onClick:function(e){$.current&&e.currentTarget===e.target&&$.current.focus(),R&&!oe.disabled&&R(e)}},Y,{className:(0,Xu.Z)(fe.root,me.className,s,F&&"MuiInputBase-readOnly"),children:[H,(0,Ct.jsx)(Gh.Provider,{value:null,children:(0,Ct.jsx)(ve,(0,xt.Z)({ownerState:he,"aria-invalid":oe.error,"aria-describedby":a,autoComplete:i,autoFocus:o,defaultValue:h,disabled:oe.disabled,id:y,onAnimationStart:function(e){ue("mui-auto-fill-cancel"===e.animationName?$.current:{value:"x"})},name:A,placeholder:L,readOnly:F,required:oe.required,rows:z,value:K,onKeyDown:D,onKeyUp:P,type:q},de,!wc(ve)&&{as:ce,ownerState:(0,xt.Z)({},he,de.ownerState)},{ref:ee,className:(0,Xu.Z)(fe.input,de.className,F&&"MuiInputBase-readOnly"),onBlur:function(e){I&&I(e),k.onBlur&&k.onBlur(e),ie&&ie.onBlur?ie.onBlur(e):ae(!1)},onChange:function(e){if(!J){var t=e.target||$.current;if(null==t)throw new Error((0,Fh.Z)(1));ue({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];k.onChange&&k.onChange.apply(k,[e].concat(r)),N&&N.apply(void 0,[e].concat(r))},onFocus:function(e){oe.disabled?e.stopPropagation():(O&&O(e),k.onFocus&&k.onFocus(e),ie&&ie.onFocus?ie.onFocus(e):ae(!0))}}))}),m,j?j((0,xt.Z)({},oe,{startAdornment:H})):null]}))]})})),sf=of;function lf(e){return(0,bc.Z)("MuiInput",e)}var uf=(0,xt.Z)({},$h,(0,yc.Z)("MuiInput",["root","underline","input"])),cf=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],df=(0,Dc.ZP)(nf,{shouldForwardProp:function(e){return(0,Dc.FO)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,_.Z)(ef(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(a="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),(0,xt.Z)({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,kt.Z)(t,"&.".concat(uf.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,kt.Z)(t,"&.".concat(uf.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),(0,kt.Z)(t,"&:before",{borderBottom:"1px solid ".concat(a),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,kt.Z)(t,"&:hover:not(.".concat(uf.disabled,", .").concat(uf.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(a)}}),(0,kt.Z)(t,"&.".concat(uf.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),hf=(0,Dc.ZP)(rf,{name:"MuiInput",slot:"Input",overridesResolver:tf})({}),ff=T.forwardRef((function(e,t){var n,r,a,i,o=(0,Lt.Z)({props:e,name:"MuiInput"}),s=o.disableUnderline,l=o.components,u=void 0===l?{}:l,c=o.componentsProps,d=o.fullWidth,h=void 0!==d&&d,f=o.inputComponent,p=void 0===f?"input":f,m=o.multiline,v=void 0!==m&&m,g=o.slotProps,y=o.slots,b=void 0===y?{}:y,x=o.type,w=void 0===x?"text":x,k=(0,wt.Z)(o,cf),S=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,Yu.Z)(n,lf,t);return(0,xt.Z)({},t,r)}(o),T={root:{ownerState:{disableUnderline:s}}},E=(null!=g?g:c)?(0,Ga.Z)(null!=g?g:c,T):T,C=null!=(n=null!=(r=b.root)?r:u.Root)?n:df,_=null!=(a=null!=(i=b.input)?i:u.Input)?a:hf;return(0,Ct.jsx)(sf,(0,xt.Z)({slots:{root:C,input:_},slotProps:E,fullWidth:h,inputComponent:p,multiline:v,ref:t,type:w},k,{classes:S}))}));ff.muiName="Input";var pf=ff;function mf(e){return(0,bc.Z)("MuiFilledInput",e)}var vf=(0,xt.Z)({},$h,(0,yc.Z)("MuiFilledInput",["root","underline","input"])),gf=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],yf=(0,Dc.ZP)(nf,{shouldForwardProp:function(e){return(0,Dc.FO)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,_.Z)(ef(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,a=e.theme,i=e.ownerState,o="light"===a.palette.mode,s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",u=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,xt.Z)((t={position:"relative",backgroundColor:a.vars?a.vars.palette.FilledInput.bg:l,borderTopLeftRadius:(a.vars||a).shape.borderRadius,borderTopRightRadius:(a.vars||a).shape.borderRadius,transition:a.transitions.create("background-color",{duration:a.transitions.duration.shorter,easing:a.transitions.easing.easeOut}),"&:hover":{backgroundColor:a.vars?a.vars.palette.FilledInput.hoverBg:u,"@media (hover: none)":{backgroundColor:a.vars?a.vars.palette.FilledInput.bg:l}}},(0,kt.Z)(t,"&.".concat(vf.focused),{backgroundColor:a.vars?a.vars.palette.FilledInput.bg:l}),(0,kt.Z)(t,"&.".concat(vf.disabled),{backgroundColor:a.vars?a.vars.palette.FilledInput.disabledBg:c}),t),!i.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(a.vars||a).palette[i.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:a.transitions.create("transform",{duration:a.transitions.duration.shorter,easing:a.transitions.easing.easeOut}),pointerEvents:"none"}},(0,kt.Z)(n,"&.".concat(vf.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,kt.Z)(n,"&.".concat(vf.error),{"&:before, &:after":{borderBottomColor:(a.vars||a).palette.error.main}}),(0,kt.Z)(n,"&:before",{borderBottom:"1px solid ".concat(a.vars?"rgba(".concat(a.vars.palette.common.onBackgroundChannel," / ").concat(a.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:a.transitions.create("border-bottom-color",{duration:a.transitions.duration.shorter}),pointerEvents:"none"}),(0,kt.Z)(n,"&:hover:not(.".concat(vf.disabled,", .").concat(vf.error,"):before"),{borderBottom:"1px solid ".concat((a.vars||a).palette.text.primary)}),(0,kt.Z)(n,"&.".concat(vf.disabled,":before"),{borderBottomStyle:"dotted"}),n),i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&(0,xt.Z)({padding:"25px 12px 8px"},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),bf=(0,Dc.ZP)(rf,{name:"MuiFilledInput",slot:"Input",overridesResolver:tf})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&(0,kt.Z)({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),xf=T.forwardRef((function(e,t){var n,r,a,i,o=(0,Lt.Z)({props:e,name:"MuiFilledInput"}),s=o.components,l=void 0===s?{}:s,u=o.componentsProps,c=o.fullWidth,d=void 0!==c&&c,h=o.inputComponent,f=void 0===h?"input":h,p=o.multiline,m=void 0!==p&&p,v=o.slotProps,g=o.slots,y=void 0===g?{}:g,b=o.type,x=void 0===b?"text":b,w=(0,wt.Z)(o,gf),k=(0,xt.Z)({},o,{fullWidth:d,inputComponent:f,multiline:m,type:x}),S=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,Yu.Z)(n,mf,t);return(0,xt.Z)({},t,r)}(o),T={root:{ownerState:k},input:{ownerState:k}},E=(null!=v?v:u)?(0,Ga.Z)(null!=v?v:u,T):T,C=null!=(n=null!=(r=y.root)?r:l.Root)?n:yf,_=null!=(a=null!=(i=y.input)?i:l.Input)?a:bf;return(0,Ct.jsx)(sf,(0,xt.Z)({slots:{root:C,input:_},componentsProps:E,fullWidth:d,inputComponent:f,multiline:m,ref:t,type:x},w,{classes:S}))}));xf.muiName="Input";var wf,kf=xf,Sf=["children","classes","className","label","notched"],Tf=(0,Dc.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Ef=(0,Dc.ZP)("legend")((function(e){var t=e.ownerState,n=e.theme;return(0,xt.Z)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,xt.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Cf(e){return(0,bc.Z)("MuiOutlinedInput",e)}var _f=(0,xt.Z)({},$h,(0,yc.Z)("MuiOutlinedInput",["root","notchedOutline","input"])),Mf=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Af=(0,Dc.ZP)(nf,{shouldForwardProp:function(e){return(0,Dc.FO)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:ef})((function(e){var t,n=e.theme,r=e.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,xt.Z)((t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},(0,kt.Z)(t,"&:hover .".concat(_f.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),(0,kt.Z)(t,"@media (hover: none)",(0,kt.Z)({},"&:hover .".concat(_f.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):a})),(0,kt.Z)(t,"&.".concat(_f.focused," .").concat(_f.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),(0,kt.Z)(t,"&.".concat(_f.error," .").concat(_f.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),(0,kt.Z)(t,"&.".concat(_f.disabled," .").concat(_f.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&(0,xt.Z)({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),If=(0,Dc.ZP)((function(e){var t=e.className,n=e.label,r=e.notched,a=(0,wt.Z)(e,Sf),i=null!=n&&""!==n,o=(0,xt.Z)({},e,{notched:r,withLabel:i});return(0,Ct.jsx)(Tf,(0,xt.Z)({"aria-hidden":!0,className:t,ownerState:o},a,{children:(0,Ct.jsx)(Ef,{ownerState:o,children:i?(0,Ct.jsx)("span",{children:n}):wf||(wf=(0,Ct.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),Nf=(0,Dc.ZP)(rf,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:tf})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&(0,kt.Z)({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Rf=T.forwardRef((function(e,t){var n,r,a,i,o,s=(0,Lt.Z)({props:e,name:"MuiOutlinedInput"}),l=s.components,u=void 0===l?{}:l,c=s.fullWidth,d=void 0!==c&&c,h=s.inputComponent,f=void 0===h?"input":h,p=s.label,m=s.multiline,v=void 0!==m&&m,g=s.notched,y=s.slots,b=void 0===y?{}:y,x=s.type,w=void 0===x?"text":x,k=(0,wt.Z)(s,Mf),S=function(e){var t=e.classes,n=(0,Yu.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Cf,t);return(0,xt.Z)({},t,n)}(s),E=qh(),C=Hh({props:s,muiFormControl:E,states:["required"]}),_=(0,xt.Z)({},s,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:E,fullWidth:d,hiddenLabel:C.hiddenLabel,multiline:v,size:C.size,type:w}),M=null!=(n=null!=(r=b.root)?r:u.Root)?n:Af,A=null!=(a=null!=(i=b.input)?i:u.Input)?a:Nf;return(0,Ct.jsx)(sf,(0,xt.Z)({slots:{root:M,input:A},renderSuffix:function(e){return(0,Ct.jsx)(If,{ownerState:_,className:S.notchedOutline,label:null!=p&&""!==p&&C.required?o||(o=(0,Ct.jsxs)(T.Fragment,{children:[p,"\u2009","*"]})):p,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:d,inputComponent:f,multiline:v,ref:t,type:w},k,{classes:(0,xt.Z)({},S,{notchedOutline:null})}))}));Rf.muiName="Input";var Of=Rf;function Df(e){return(0,bc.Z)("MuiFormLabel",e)}var Pf=(0,yc.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Lf=["children","className","color","component","disabled","error","filled","focused","required"],Ff=(0,Dc.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,xt.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,xt.Z)({color:(n.vars||n).palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},(0,kt.Z)(t,"&.".concat(Pf.focused),{color:(n.vars||n).palette[r.color].main}),(0,kt.Z)(t,"&.".concat(Pf.disabled),{color:(n.vars||n).palette.text.disabled}),(0,kt.Z)(t,"&.".concat(Pf.error),{color:(n.vars||n).palette.error.main}),t))})),jf=(0,Dc.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,kt.Z)({},"&.".concat(Pf.error),{color:(t.vars||t).palette.error.main})})),zf=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiFormLabel"}),r=n.children,a=n.className,i=n.component,o=void 0===i?"label":i,s=(0,wt.Z)(n,Lf),l=Hh({props:n,muiFormControl:qh(),states:["color","required","focused","disabled","error","filled"]}),u=(0,xt.Z)({},n,{color:l.color||"primary",component:o,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=function(e){var t=e.classes,n=e.color,r=e.focused,a=e.disabled,i=e.error,o=e.filled,s=e.required,l={root:["root","color".concat((0,Ju.Z)(n)),a&&"disabled",i&&"error",o&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",i&&"error"]};return(0,Yu.Z)(l,Df,t)}(u);return(0,Ct.jsxs)(Ff,(0,xt.Z)({as:o,ownerState:u,className:(0,Xu.Z)(c.root,a),ref:t},s,{children:[r,l.required&&(0,Ct.jsxs)(jf,{ownerState:u,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),Bf=zf;function Uf(e){return(0,bc.Z)("MuiInputLabel",e)}(0,yc.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Wf=["disableAnimation","margin","shrink","variant","className"],Zf=(0,Dc.ZP)(Bf,{shouldForwardProp:function(e){return(0,Dc.FO)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,kt.Z)({},"& .".concat(Pf.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,xt.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,xt.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,xt.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Vf=T.forwardRef((function(e,t){var n=(0,Lt.Z)({name:"MuiInputLabel",props:e}),r=n.disableAnimation,a=void 0!==r&&r,i=n.shrink,o=n.className,s=(0,wt.Z)(n,Wf),l=qh(),u=i;"undefined"===typeof u&&l&&(u=l.filled||l.focused||l.adornedStart);var c=Hh({props:n,muiFormControl:l,states:["size","variant","required"]}),d=(0,xt.Z)({},n,{disableAnimation:a,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required}),h=function(e){var t=e.classes,n=e.formControl,r=e.size,a=e.shrink,i={root:["root",n&&"formControl",!e.disableAnimation&&"animated",a&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},o=(0,Yu.Z)(i,Uf,t);return(0,xt.Z)({},t,o)}(d);return(0,Ct.jsx)(Zf,(0,xt.Z)({"data-shrink":u,ownerState:d,ref:t,className:(0,Xu.Z)(h.root,o)},s,{classes:h}))})),Hf=Vf,Gf=n(9103);function qf(e){return(0,bc.Z)("MuiFormControl",e)}(0,yc.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var Xf=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Yf=(0,Dc.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,xt.Z)({},t.root,t["margin".concat((0,Ju.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,xt.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Kf=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiFormControl"}),r=n.children,a=n.className,i=n.color,o=void 0===i?"primary":i,s=n.component,l=void 0===s?"div":s,u=n.disabled,c=void 0!==u&&u,d=n.error,h=void 0!==d&&d,f=n.focused,p=n.fullWidth,m=void 0!==p&&p,v=n.hiddenLabel,g=void 0!==v&&v,y=n.margin,b=void 0===y?"none":y,x=n.required,w=void 0!==x&&x,k=n.size,S=void 0===k?"medium":k,E=n.variant,C=void 0===E?"outlined":E,_=(0,wt.Z)(n,Xf),M=(0,xt.Z)({},n,{color:o,component:l,disabled:c,error:h,fullWidth:m,hiddenLabel:g,margin:b,required:w,size:S,variant:C}),A=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,a={root:["root","none"!==n&&"margin".concat((0,Ju.Z)(n)),r&&"fullWidth"]};return(0,Yu.Z)(a,qf,t)}(M),I=T.useState((function(){var e=!1;return r&&T.Children.forEach(r,(function(t){if((0,Gf.Z)(t,["Input","Select"])){var n=(0,Gf.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),N=(0,Z.Z)(I,2),R=N[0],O=N[1],D=T.useState((function(){var e=!1;return r&&T.Children.forEach(r,(function(t){(0,Gf.Z)(t,["Input","Select"])&&(Kh(t.props,!0)||Kh(t.props.inputProps,!0))&&(e=!0)})),e})),P=(0,Z.Z)(D,2),L=P[0],F=P[1],j=T.useState(!1),z=(0,Z.Z)(j,2),B=z[0],U=z[1];c&&B&&U(!1);var W,V=void 0===f||c?B:f,H=T.useMemo((function(){return{adornedStart:R,setAdornedStart:O,color:o,disabled:c,error:h,filled:L,focused:V,fullWidth:m,hiddenLabel:g,size:S,onBlur:function(){U(!1)},onEmpty:function(){F(!1)},onFilled:function(){F(!0)},onFocus:function(){U(!0)},registerEffect:W,required:w,variant:C}}),[R,o,c,h,L,V,m,g,W,w,S,C]);return(0,Ct.jsx)(Gh.Provider,{value:H,children:(0,Ct.jsx)(Yf,(0,xt.Z)({as:l,ownerState:M,className:(0,Xu.Z)(A.root,a),ref:t},_,{children:r}))})})),Jf=Kf;function $f(e){return(0,bc.Z)("MuiFormHelperText",e)}var Qf,ep=(0,yc.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),tp=["children","className","component","disabled","error","filled","focused","margin","required","variant"],np=(0,Dc.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat((0,Ju.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,xt.Z)({color:(n.vars||n).palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},(0,kt.Z)(t,"&.".concat(ep.disabled),{color:(n.vars||n).palette.text.disabled}),(0,kt.Z)(t,"&.".concat(ep.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),rp=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiFormHelperText"}),r=n.children,a=n.className,i=n.component,o=void 0===i?"p":i,s=(0,wt.Z)(n,tp),l=Hh({props:n,muiFormControl:qh(),states:["variant","size","disabled","error","filled","focused","required"]}),u=(0,xt.Z)({},n,{component:o,contained:"filled"===l.variant||"outlined"===l.variant,variant:l.variant,size:l.size,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=function(e){var t=e.classes,n=e.contained,r=e.size,a=e.disabled,i=e.error,o=e.filled,s=e.focused,l=e.required,u={root:["root",a&&"disabled",i&&"error",r&&"size".concat((0,Ju.Z)(r)),n&&"contained",s&&"focused",o&&"filled",l&&"required"]};return(0,Yu.Z)(u,$f,t)}(u);return(0,Ct.jsx)(np,(0,xt.Z)({as:o,ownerState:u,className:(0,Xu.Z)(c.root,a),ref:t},s,{children:" "===r?Qf||(Qf=(0,Ct.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),ap=rp,ip=(n(8457),n(8301));var op=T.createContext({});function sp(e){return(0,bc.Z)("MuiList",e)}(0,yc.Z)("MuiList",["root","padding","dense","subheader"]);var lp=["children","className","component","dense","disablePadding","subheader"],up=(0,Dc.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return(0,xt.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),cp=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiList"}),r=n.children,a=n.className,i=n.component,o=void 0===i?"ul":i,s=n.dense,l=void 0!==s&&s,u=n.disablePadding,c=void 0!==u&&u,d=n.subheader,h=(0,wt.Z)(n,lp),f=T.useMemo((function(){return{dense:l}}),[l]),p=(0,xt.Z)({},n,{component:o,dense:l,disablePadding:c}),m=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return(0,Yu.Z)(n,sp,t)}(p);return(0,Ct.jsx)(op.Provider,{value:f,children:(0,Ct.jsxs)(up,(0,xt.Z)({as:o,className:(0,Xu.Z)(m.root,a),ref:t,ownerState:p},h,{children:[d,r]}))})})),dp=cp,hp=sc,fp=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function pp(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function mp(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function vp(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function gp(e,t,n,r,a,i){for(var o=!1,s=a(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return!1;o=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&vp(s,i)&&!l)return s.focus(),!0;s=a(e,s,n)}return!1}var yp=T.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,a=void 0!==r&&r,i=e.autoFocusItem,o=void 0!==i&&i,s=e.children,l=e.className,u=e.disabledItemsFocusable,c=void 0!==u&&u,d=e.disableListWrap,h=void 0!==d&&d,f=e.onKeyDown,p=e.variant,m=void 0===p?"selectedMenu":p,v=(0,wt.Z)(e,fp),g=T.useRef(null),y=T.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,Xh.Z)((function(){a&&g.current.focus()}),[a]),T.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!g.current.style.width;if(e.clientHeight<g.current.clientHeight&&n){var r="".concat(hp((0,ip.Z)(e)),"px");g.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,g.current.style.width="calc(100% + ".concat(r,")")}return g.current}}}),[]);var b=(0,zu.Z)(g,t),x=-1;T.Children.forEach(s,(function(e,t){T.isValidElement(e)?(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===x)&&(x=t),x===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(x+=1)>=s.length&&(x=-1)):x===t&&(x+=1)>=s.length&&(x=-1)}));var w=T.Children.map(s,(function(e,t){if(t===x){var n={};return o&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===m&&(n.tabIndex=0),T.cloneElement(e,n)}return e}));return(0,Ct.jsx)(dp,(0,xt.Z)({role:"menu",ref:b,className:l,onKeyDown:function(e){var t=g.current,n=e.key,r=(0,ip.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),gp(t,r,h,c,pp);else if("ArrowUp"===n)e.preventDefault(),gp(t,r,h,c,mp);else if("Home"===n)e.preventDefault(),gp(t,null,h,c,pp);else if("End"===n)e.preventDefault(),gp(t,null,h,c,mp);else if(1===n.length){var a=y.current,i=n.toLowerCase(),o=performance.now();a.keys.length>0&&(o-a.lastTime>500?(a.keys=[],a.repeating=!0,a.previousKeyMatched=!0):a.repeating&&i!==a.keys[0]&&(a.repeating=!1)),a.lastTime=o,a.keys.push(i);var s=r&&!a.repeating&&vp(r,a);a.previousKeyMatched&&(s||gp(t,r,!1,c,pp,a))?e.preventDefault():a.previousKeyMatched=!1}f&&f(e)},tabIndex:a?0:-1},v,{children:w}))})),bp=yp,xp=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function wp(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var kp={entering:{opacity:1,transform:wp(1)},entered:{opacity:1,transform:"none"}},Sp="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Tp=T.forwardRef((function(e,t){var n=e.addEndListener,r=e.appear,a=void 0===r||r,i=e.children,o=e.easing,s=e.in,l=e.onEnter,u=e.onEntered,c=e.onEntering,d=e.onExit,h=e.onExited,f=e.onExiting,p=e.style,m=e.timeout,v=void 0===m?"auto":m,g=e.TransitionComponent,y=void 0===g?Fu:g,b=(0,wt.Z)(e,xp),x=T.useRef(),w=T.useRef(),k=Bu(),S=T.useRef(null),E=(0,zu.Z)(S,i.ref,t),C=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},_=C(c),M=C((function(e,t){Uu(e);var n,r=Wu({style:p,timeout:v,easing:o},{mode:"enter"}),a=r.duration,i=r.delay,s=r.easing;"auto"===v?(n=k.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=a,e.style.transition=[k.transitions.create("opacity",{duration:n,delay:i}),k.transitions.create("transform",{duration:Sp?n:.666*n,delay:i,easing:s})].join(","),l&&l(e,t)})),A=C(u),I=C(f),N=C((function(e){var t,n=Wu({style:p,timeout:v,easing:o},{mode:"exit"}),r=n.duration,a=n.delay,i=n.easing;"auto"===v?(t=k.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[k.transitions.create("opacity",{duration:t,delay:a}),k.transitions.create("transform",{duration:Sp?t:.666*t,delay:Sp?a:a||.333*t,easing:i})].join(","),e.style.opacity=0,e.style.transform=wp(.75),d&&d(e)})),R=C(h);return T.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),(0,Ct.jsx)(y,(0,xt.Z)({appear:a,in:s,nodeRef:S,onEnter:M,onEntered:A,onEntering:_,onExit:N,onExited:R,onExiting:I,addEndListener:function(e){"auto"===v&&(x.current=setTimeout(e,w.current||0)),n&&n(S.current,e)},timeout:"auto"===v?null:v},b,{children:function(e,t){return T.cloneElement(i,(0,xt.Z)({style:(0,xt.Z)({opacity:0,transform:wp(.75),visibility:"exited"!==e||s?void 0:"hidden"},kp[e],p,i.props.style),ref:E},t))}}))}));Tp.muiSupportAuto=!0;var Ep=Tp;function Cp(e){return(0,bc.Z)("MuiPopover",e)}(0,yc.Z)("MuiPopover",["root","paper"]);var _p=["onEntering"],Mp=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],Ap=["slotProps"];function Ip(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Np(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Rp(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Op(e){return"function"===typeof e?e():e}var Dp=(0,Dc.ZP)(Xc,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Pp=(0,Dc.ZP)(td,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Lp=T.forwardRef((function(e,t){var n,r,a,i=(0,Lt.Z)({props:e,name:"MuiPopover"}),o=i.action,s=i.anchorEl,l=i.anchorOrigin,u=void 0===l?{vertical:"top",horizontal:"left"}:l,c=i.anchorPosition,d=i.anchorReference,h=void 0===d?"anchorEl":d,f=i.children,p=i.className,m=i.container,v=i.elevation,g=void 0===v?8:v,y=i.marginThreshold,b=void 0===y?16:y,x=i.open,w=i.PaperProps,k=void 0===w?{}:w,S=i.slots,E=i.slotProps,C=i.transformOrigin,_=void 0===C?{vertical:"top",horizontal:"left"}:C,M=i.TransitionComponent,A=void 0===M?Ep:M,I=i.transitionDuration,N=void 0===I?"auto":I,R=i.TransitionProps,O=(void 0===R?{}:R).onEntering,D=(0,wt.Z)(i.TransitionProps,_p),P=(0,wt.Z)(i,Mp),L=null!=(n=null==E?void 0:E.paper)?n:k,F=T.useRef(),j=(0,zu.Z)(F,L.ref),z=(0,xt.Z)({},i,{anchorOrigin:u,anchorReference:h,elevation:g,marginThreshold:b,externalPaperSlotProps:L,transformOrigin:_,TransitionComponent:A,transitionDuration:N,TransitionProps:D}),B=function(e){var t=e.classes;return(0,Yu.Z)({root:["root"],paper:["paper"]},Cp,t)}(z),U=T.useCallback((function(){if("anchorPosition"===h)return c;var e=Op(s),t=(e&&1===e.nodeType?e:(0,ip.Z)(F.current).body).getBoundingClientRect();return{top:t.top+Ip(t,u.vertical),left:t.left+Np(t,u.horizontal)}}),[s,u.horizontal,u.vertical,c,h]),W=T.useCallback((function(e){return{vertical:Ip(e,_.vertical),horizontal:Np(e,_.horizontal)}}),[_.horizontal,_.vertical]),V=T.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=W(t);if("none"===h)return{top:null,left:null,transformOrigin:Rp(n)};var r=U(),a=r.top-n.vertical,i=r.left-n.horizontal,o=a+t.height,l=i+t.width,u=(0,Zu.Z)(Op(s)),c=u.innerHeight-b,d=u.innerWidth-b;if(a<b){var f=a-b;a-=f,n.vertical+=f}else if(o>c){var p=o-c;a-=p,n.vertical+=p}if(i<b){var m=i-b;i-=m,n.horizontal+=m}else if(l>d){var v=l-d;i-=v,n.horizontal+=v}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:Rp(n)}}),[s,h,U,W,b]),H=T.useState(x),G=(0,Z.Z)(H,2),q=G[0],X=G[1],Y=T.useCallback((function(){var e=F.current;if(e){var t=V(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,X(!0)}}),[V]);T.useEffect((function(){x&&Y()})),T.useImperativeHandle(o,(function(){return x?{updatePosition:function(){Y()}}:null}),[x,Y]),T.useEffect((function(){if(x){var e=(0,ju.Z)((function(){Y()})),t=(0,Zu.Z)(s);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[s,x,Y]);var K=N;"auto"!==N||A.muiSupportAuto||(K=void 0);var J=m||(s?(0,ip.Z)(Op(s)).body:void 0),$=null!=(r=null==S?void 0:S.root)?r:Dp,Q=null!=(a=null==S?void 0:S.paper)?a:Pp,ee=Cc({elementType:Q,externalSlotProps:(0,xt.Z)({},L,{style:q?L.style:(0,xt.Z)({},L.style,{opacity:0})}),additionalProps:{elevation:g,ref:j},ownerState:z,className:(0,Xu.Z)(B.paper,null==L?void 0:L.className)}),te=Cc({elementType:$,externalSlotProps:(null==E?void 0:E.root)||{},externalForwardedProps:P,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:J,open:x},ownerState:z,className:(0,Xu.Z)(B.root,p)}),ne=te.slotProps,re=(0,wt.Z)(te,Ap);return(0,Ct.jsx)($,(0,xt.Z)({},re,!wc($)&&{slotProps:ne},{children:(0,Ct.jsx)(A,(0,xt.Z)({appear:!0,in:x,onEntering:function(e,t){O&&O(e,t),Y()},onExited:function(){X(!1)},timeout:K},D,{children:(0,Ct.jsx)(Q,(0,xt.Z)({},ee,{children:f}))}))}))})),Fp=Lp;function jp(e){return(0,bc.Z)("MuiMenu",e)}(0,yc.Z)("MuiMenu",["root","paper","list"]);var zp=["onEntering"],Bp=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Up={vertical:"top",horizontal:"right"},Wp={vertical:"top",horizontal:"left"},Zp=(0,Dc.ZP)(Fp,{shouldForwardProp:function(e){return(0,Dc.FO)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Vp=(0,Dc.ZP)(Pp,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Hp=(0,Dc.ZP)(bp,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),Gp=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiMenu"}),r=n.autoFocus,a=void 0===r||r,i=n.children,o=n.disableAutoFocusItem,s=void 0!==o&&o,l=n.MenuListProps,u=void 0===l?{}:l,c=n.onClose,d=n.open,h=n.PaperProps,f=void 0===h?{}:h,p=n.PopoverClasses,m=n.transitionDuration,v=void 0===m?"auto":m,g=n.TransitionProps,y=(void 0===g?{}:g).onEntering,b=n.variant,x=void 0===b?"selectedMenu":b,w=(0,wt.Z)(n.TransitionProps,zp),k=(0,wt.Z)(n,Bp),S=Bu(),E="rtl"===S.direction,C=(0,xt.Z)({},n,{autoFocus:a,disableAutoFocusItem:s,MenuListProps:u,onEntering:y,PaperProps:f,transitionDuration:v,TransitionProps:w,variant:x}),_=function(e){var t=e.classes;return(0,Yu.Z)({root:["root"],paper:["paper"],list:["list"]},jp,t)}(C),M=a&&!s&&d,A=T.useRef(null),I=-1;return T.Children.map(i,(function(e,t){T.isValidElement(e)&&(e.props.disabled||("selectedMenu"===x&&e.props.selected||-1===I)&&(I=t))})),(0,Ct.jsx)(Zp,(0,xt.Z)({onClose:c,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?Up:Wp,slots:{paper:Vp},slotProps:{paper:(0,xt.Z)({},f,{classes:(0,xt.Z)({},f.classes,{root:_.paper})})},className:_.root,open:d,ref:t,transitionDuration:v,TransitionProps:(0,xt.Z)({onEntering:function(e,t){A.current&&A.current.adjustStyleForScrollbar(e,S),y&&y(e,t)}},w),ownerState:C},k,{classes:p,children:(0,Ct.jsx)(Hp,(0,xt.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))},actions:A,autoFocus:a&&(-1===I||s),autoFocusItem:M,variant:x},u,{className:(0,Xu.Z)(_.list,u.className),children:i}))}))})),qp=Gp;function Xp(e){return(0,bc.Z)("MuiNativeSelect",e)}var Yp=(0,yc.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Kp=["className","disabled","error","IconComponent","inputRef","variant"],Jp=function(e){var t,n=e.ownerState,r=e.theme;return(0,xt.Z)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,xt.Z)({},r.vars?{backgroundColor:"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},(0,kt.Z)(t,"&.".concat(Yp.disabled),{cursor:"default"}),(0,kt.Z)(t,"&[multiple]",{height:"auto"}),(0,kt.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(r.vars||r).palette.background.paper}),(0,kt.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},$p=(0,Dc.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Dc.FO,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],n.error&&t.error,(0,kt.Z)({},"&.".concat(Yp.multiple),t.multiple)]}})(Jp),Qp=function(e){var t=e.ownerState,n=e.theme;return(0,xt.Z)((0,kt.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(Yp.disabled),{color:(n.vars||n).palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},em=(0,Dc.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Ju.Z)(n.variant))],n.open&&t.iconOpen]}})(Qp),tm=T.forwardRef((function(e,t){var n=e.className,r=e.disabled,a=e.error,i=e.IconComponent,o=e.inputRef,s=e.variant,l=void 0===s?"standard":s,u=(0,wt.Z)(e,Kp),c=(0,xt.Z)({},e,{disabled:r,variant:l,error:a}),d=function(e){var t=e.classes,n=e.variant,r=e.disabled,a=e.multiple,i=e.open,o={select:["select",n,r&&"disabled",a&&"multiple",e.error&&"error"],icon:["icon","icon".concat((0,Ju.Z)(n)),i&&"iconOpen",r&&"disabled"]};return(0,Yu.Z)(o,Xp,t)}(c);return(0,Ct.jsxs)(T.Fragment,{children:[(0,Ct.jsx)($p,(0,xt.Z)({ownerState:c,className:(0,Xu.Z)(d.select,n),disabled:r,ref:o||t},u)),e.multiple?null:(0,Ct.jsx)(em,{as:i,ownerState:c,className:d.icon})]})})),nm=tm,rm=n(5158);function am(e){return(0,bc.Z)("MuiSelect",e)}var im,om=(0,yc.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),sm=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],lm=(0,Dc.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,kt.Z)({},"&.".concat(om.select),t.select),(0,kt.Z)({},"&.".concat(om.select),t[n.variant]),(0,kt.Z)({},"&.".concat(om.error),t.error),(0,kt.Z)({},"&.".concat(om.multiple),t.multiple)]}})(Jp,(0,kt.Z)({},"&.".concat(om.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),um=(0,Dc.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Ju.Z)(n.variant))],n.open&&t.iconOpen]}})(Qp),cm=(0,Dc.ZP)("input",{shouldForwardProp:function(e){return(0,Dc.Dz)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function dm(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function hm(e){return null==e||"string"===typeof e&&!e.trim()}var fm=T.forwardRef((function(e,t){var n=e["aria-describedby"],r=e["aria-label"],a=e.autoFocus,i=e.autoWidth,o=e.children,s=e.className,l=e.defaultOpen,u=e.defaultValue,c=e.disabled,d=e.displayEmpty,h=e.error,f=void 0!==h&&h,p=e.IconComponent,m=e.inputRef,v=e.labelId,g=e.MenuProps,y=void 0===g?{}:g,b=e.multiple,x=e.name,w=e.onBlur,k=e.onChange,S=e.onClose,E=e.onFocus,C=e.onOpen,_=e.open,M=e.readOnly,A=e.renderValue,I=e.SelectDisplayProps,N=void 0===I?{}:I,R=e.tabIndex,O=e.value,D=e.variant,P=void 0===D?"standard":D,L=(0,wt.Z)(e,sm),F=(0,rm.Z)({controlled:O,default:u,name:"Select"}),j=(0,Z.Z)(F,2),z=j[0],B=j[1],U=(0,rm.Z)({controlled:_,default:l,name:"Select"}),W=(0,Z.Z)(U,2),V=W[0],H=W[1],G=T.useRef(null),q=T.useRef(null),X=T.useState(null),Y=(0,Z.Z)(X,2),K=Y[0],J=Y[1],$=T.useRef(null!=_).current,Q=T.useState(),ee=(0,Z.Z)(Q,2),te=ee[0],ne=ee[1],re=(0,zu.Z)(t,m),ae=T.useCallback((function(e){q.current=e,e&&J(e)}),[]),ie=null==K?void 0:K.parentNode;T.useImperativeHandle(re,(function(){return{focus:function(){q.current.focus()},node:G.current,value:z}}),[z]),T.useEffect((function(){l&&V&&K&&!$&&(ne(i?null:ie.clientWidth),q.current.focus())}),[K,i]),T.useEffect((function(){a&&q.current.focus()}),[a]),T.useEffect((function(){if(v){var e=(0,ip.Z)(q.current).getElementById(v);if(e){var t=function(){getSelection().isCollapsed&&q.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[v]);var oe,se,le=function(e,t){e?C&&C(t):S&&S(t),$||(ne(i?null:ie.clientWidth),H(e))},ue=T.Children.toArray(o),ce=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(z)?z.slice():[];var r=z.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),z!==n&&(B(n),k)){var a=t.nativeEvent||t,i=new a.constructor(a.type,a);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:x}}),k(i,e)}b||le(!1,t)}}},de=null!==K&&V;delete L["aria-invalid"];var he=[],fe=!1;(Kh({value:z})||d)&&(A?oe=A(z):fe=!0);var pe=ue.map((function(e){if(!T.isValidElement(e))return null;var t;if(b){if(!Array.isArray(z))throw new Error((0,Fh.Z)(2));t=z.some((function(t){return dm(t,e.props.value)})),t&&fe&&he.push(e.props.children)}else(t=dm(z,e.props.value))&&fe&&(se=e.props.children);return t&&!0,T.cloneElement(e,{"aria-selected":t?"true":"false",onClick:ce(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));fe&&(oe=b?0===he.length?null:he.reduce((function(e,t,n){return e.push(t),n<he.length-1&&e.push(", "),e}),[]):se);var me,ve=te;!i&&$&&K&&(ve=ie.clientWidth),me="undefined"!==typeof R?R:c?null:0;var ge=N.id||(x?"mui-component-select-".concat(x):void 0),ye=(0,xt.Z)({},e,{variant:P,value:z,open:de,error:f}),be=function(e){var t=e.classes,n=e.variant,r=e.disabled,a=e.multiple,i=e.open,o={select:["select",n,r&&"disabled",a&&"multiple",e.error&&"error"],icon:["icon","icon".concat((0,Ju.Z)(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,Yu.Z)(o,am,t)}(ye);return(0,Ct.jsxs)(T.Fragment,{children:[(0,Ct.jsx)(lm,(0,xt.Z)({ref:ae,tabIndex:me,role:"button","aria-disabled":c?"true":void 0,"aria-expanded":de?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[v,ge].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!M){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),le(!0,e))}},onMouseDown:c||M?null:function(e){0===e.button&&(e.preventDefault(),q.current.focus(),le(!0,e))},onBlur:function(e){!de&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:z,name:x}}),w(e))},onFocus:E},N,{ownerState:ye,className:(0,Xu.Z)(N.className,be.select,s),id:ge,children:hm(oe)?im||(im=(0,Ct.jsx)("span",{className:"notranslate",children:"\u200b"})):oe})),(0,Ct.jsx)(cm,(0,xt.Z)({"aria-invalid":f,value:Array.isArray(z)?z.join(","):z,name:x,ref:G,"aria-hidden":!0,onChange:function(e){var t=ue.find((function(t){return t.props.value===e.target.value}));void 0!==t&&(B(t.props.value),k&&k(e,t))},tabIndex:-1,disabled:c,className:be.nativeInput,autoFocus:a,ownerState:ye},L)),(0,Ct.jsx)(um,{as:p,className:be.icon,ownerState:ye}),(0,Ct.jsx)(qp,(0,xt.Z)({id:"menu-".concat(x||""),anchorEl:ie,open:de,onClose:function(e){le(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,xt.Z)({"aria-labelledby":v,role:"listbox",disableListWrap:!0},y.MenuListProps),PaperProps:(0,xt.Z)({},y.PaperProps,{style:(0,xt.Z)({minWidth:ve},null!=y.PaperProps?y.PaperProps.style:null)}),children:pe}))]})})),pm=fm,mm=n(6189),vm=(0,mm.Z)((0,Ct.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),gm=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],ym={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return(0,Dc.FO)(e)&&"variant"!==e},slot:"Root"},bm=(0,Dc.ZP)(pf,ym)(""),xm=(0,Dc.ZP)(Of,ym)(""),wm=(0,Dc.ZP)(kf,ym)(""),km=T.forwardRef((function(e,t){var n=(0,Lt.Z)({name:"MuiSelect",props:e}),r=n.autoWidth,a=void 0!==r&&r,i=n.children,o=n.classes,s=void 0===o?{}:o,l=n.className,u=n.defaultOpen,c=void 0!==u&&u,d=n.displayEmpty,h=void 0!==d&&d,f=n.IconComponent,p=void 0===f?vm:f,m=n.id,v=n.input,g=n.inputProps,y=n.label,b=n.labelId,x=n.MenuProps,w=n.multiple,k=void 0!==w&&w,S=n.native,E=void 0!==S&&S,C=n.onClose,_=n.onOpen,M=n.open,A=n.renderValue,I=n.SelectDisplayProps,N=n.variant,R=void 0===N?"outlined":N,O=(0,wt.Z)(n,gm),D=E?nm:pm,P=Hh({props:n,muiFormControl:qh(),states:["variant","error"]}),L=P.variant||R,F=(0,xt.Z)({},n,{variant:L,classes:s}),j=function(e){return e.classes}(F),z=v||{standard:(0,Ct.jsx)(bm,{ownerState:F}),outlined:(0,Ct.jsx)(xm,{label:y,ownerState:F}),filled:(0,Ct.jsx)(wm,{ownerState:F})}[L],B=(0,zu.Z)(t,z.ref);return(0,Ct.jsx)(T.Fragment,{children:T.cloneElement(z,(0,xt.Z)({inputComponent:D,inputProps:(0,xt.Z)({children:i,error:P.error,IconComponent:p,variant:L,type:void 0,multiple:k},E?{id:m}:{autoWidth:a,defaultOpen:c,displayEmpty:h,labelId:b,MenuProps:x,onClose:C,onOpen:_,open:M,renderValue:A,SelectDisplayProps:(0,xt.Z)({id:m},I)},g,{classes:g?(0,Ga.Z)(j,g.classes):j},v?v.props.inputProps:{})},k&&E&&"outlined"===L?{notched:!0}:{},{ref:B,className:(0,Xu.Z)(z.props.className,l)},!v&&{variant:L},O))})}));km.muiName="Select";var Sm=km;function Tm(e){return(0,bc.Z)("MuiTextField",e)}(0,yc.Z)("MuiTextField",["root"]);var Em=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Cm={standard:pf,filled:kf,outlined:Of},_m=(0,Dc.ZP)(Jf,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Mm=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiTextField"}),r=n.autoComplete,a=n.autoFocus,i=void 0!==a&&a,o=n.children,s=n.className,l=n.color,u=void 0===l?"primary":l,c=n.defaultValue,d=n.disabled,h=void 0!==d&&d,f=n.error,p=void 0!==f&&f,m=n.FormHelperTextProps,v=n.fullWidth,g=void 0!==v&&v,y=n.helperText,b=n.id,x=n.InputLabelProps,w=n.inputProps,k=n.InputProps,S=n.inputRef,T=n.label,E=n.maxRows,C=n.minRows,_=n.multiline,M=void 0!==_&&_,A=n.name,I=n.onBlur,N=n.onChange,R=n.onClick,O=n.onFocus,D=n.placeholder,P=n.required,L=void 0!==P&&P,F=n.rows,j=n.select,z=void 0!==j&&j,B=n.SelectProps,U=n.type,W=n.value,Z=n.variant,V=void 0===Z?"outlined":Z,H=(0,wt.Z)(n,Em),G=(0,xt.Z)({},n,{autoFocus:i,color:u,disabled:h,error:p,fullWidth:g,multiline:M,required:L,select:z,variant:V}),q=function(e){var t=e.classes;return(0,Yu.Z)({root:["root"]},Tm,t)}(G);var X={};"outlined"===V&&(x&&"undefined"!==typeof x.shrink&&(X.notched=x.shrink),X.label=T),z&&(B&&B.native||(X.id=void 0),X["aria-describedby"]=void 0);var Y=(0,Ku.Z)(b),K=y&&Y?"".concat(Y,"-helper-text"):void 0,J=T&&Y?"".concat(Y,"-label"):void 0,$=Cm[V],Q=(0,Ct.jsx)($,(0,xt.Z)({"aria-describedby":K,autoComplete:r,autoFocus:i,defaultValue:c,fullWidth:g,multiline:M,name:A,rows:F,maxRows:E,minRows:C,type:U,value:W,id:Y,inputRef:S,onBlur:I,onChange:N,onFocus:O,onClick:R,placeholder:D,inputProps:w},X,k));return(0,Ct.jsxs)(_m,(0,xt.Z)({className:(0,Xu.Z)(q.root,s),disabled:h,error:p,fullWidth:g,ref:t,required:L,color:u,variant:V,ownerState:G},H,{children:[null!=T&&""!==T&&(0,Ct.jsx)(Hf,(0,xt.Z)({htmlFor:Y,id:J},x,{children:T})),z?(0,Ct.jsx)(Sm,(0,xt.Z)({"aria-describedby":K,id:Y,labelId:J,value:W,input:Q},B,{children:o})):Q,y&&(0,Ct.jsx)(ap,(0,xt.Z)({id:K},m,{children:y}))]}))})),Am=Mm;function Im(e){return(0,bc.Z)("MuiDialogActions",e)}(0,yc.Z)("MuiDialogActions",["root","spacing"]);var Nm=["className","disableSpacing"],Rm=(0,Dc.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,xt.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),Om=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiDialogActions"}),r=n.className,a=n.disableSpacing,i=void 0!==a&&a,o=(0,wt.Z)(n,Nm),s=(0,xt.Z)({},n,{disableSpacing:i}),l=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,Yu.Z)(n,Im,t)}(s);return(0,Ct.jsx)(Rm,(0,xt.Z)({className:(0,Xu.Z)(l.root,r),ownerState:s,ref:t},o))})),Dm=Om,Pm=n(5735);function Lm(e){return(0,bc.Z)("MuiButton",e)}var Fm=(0,yc.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var jm=T.createContext({}),zm=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Bm=function(e){return(0,xt.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Um=(0,Dc.ZP)(Hd,{shouldForwardProp:function(e){return(0,Dc.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,Ju.Z)(n.color))],t["size".concat((0,Ju.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,Ju.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,a=e.theme,i=e.ownerState,o="light"===a.palette.mode?a.palette.grey[300]:a.palette.grey[800],s="light"===a.palette.mode?a.palette.grey.A100:a.palette.grey[700];return(0,xt.Z)({},a.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(a.vars||a).shape.borderRadius,transition:a.transitions.create(["background-color","box-shadow","border-color","color"],{duration:a.transitions.duration.short}),"&:hover":(0,xt.Z)({textDecoration:"none",backgroundColor:a.vars?"rgba(".concat(a.vars.palette.text.primaryChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,Yc.Fq)(a.palette.text.primary,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===i.variant&&"inherit"!==i.color&&{backgroundColor:a.vars?"rgba(".concat(a.vars.palette[i.color].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,Yc.Fq)(a.palette[i.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===i.variant&&"inherit"!==i.color&&{border:"1px solid ".concat((a.vars||a).palette[i.color].main),backgroundColor:a.vars?"rgba(".concat(a.vars.palette[i.color].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,Yc.Fq)(a.palette[i.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===i.variant&&{backgroundColor:a.vars?a.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(a.vars||a).shadows[4],"@media (hover: none)":{boxShadow:(a.vars||a).shadows[2],backgroundColor:(a.vars||a).palette.grey[300]}},"contained"===i.variant&&"inherit"!==i.color&&{backgroundColor:(a.vars||a).palette[i.color].dark,"@media (hover: none)":{backgroundColor:(a.vars||a).palette[i.color].main}}),"&:active":(0,xt.Z)({},"contained"===i.variant&&{boxShadow:(a.vars||a).shadows[8]})},(0,kt.Z)(t,"&.".concat(Fm.focusVisible),(0,xt.Z)({},"contained"===i.variant&&{boxShadow:(a.vars||a).shadows[6]})),(0,kt.Z)(t,"&.".concat(Fm.disabled),(0,xt.Z)({color:(a.vars||a).palette.action.disabled},"outlined"===i.variant&&{border:"1px solid ".concat((a.vars||a).palette.action.disabledBackground)},"contained"===i.variant&&{color:(a.vars||a).palette.action.disabled,boxShadow:(a.vars||a).shadows[0],backgroundColor:(a.vars||a).palette.action.disabledBackground})),t),"text"===i.variant&&{padding:"6px 8px"},"text"===i.variant&&"inherit"!==i.color&&{color:(a.vars||a).palette[i.color].main},"outlined"===i.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===i.variant&&"inherit"!==i.color&&{color:(a.vars||a).palette[i.color].main,border:a.vars?"1px solid rgba(".concat(a.vars.palette[i.color].mainChannel," / 0.5)"):"1px solid ".concat((0,Yc.Fq)(a.palette[i.color].main,.5))},"contained"===i.variant&&{color:a.vars?a.vars.palette.text.primary:null==(n=(r=a.palette).getContrastText)?void 0:n.call(r,a.palette.grey[300]),backgroundColor:a.vars?a.vars.palette.Button.inheritContainedBg:o,boxShadow:(a.vars||a).shadows[2]},"contained"===i.variant&&"inherit"!==i.color&&{color:(a.vars||a).palette[i.color].contrastText,backgroundColor:(a.vars||a).palette[i.color].main},"inherit"===i.color&&{color:"inherit",borderColor:"currentColor"},"small"===i.size&&"text"===i.variant&&{padding:"4px 5px",fontSize:a.typography.pxToRem(13)},"large"===i.size&&"text"===i.variant&&{padding:"8px 11px",fontSize:a.typography.pxToRem(15)},"small"===i.size&&"outlined"===i.variant&&{padding:"3px 9px",fontSize:a.typography.pxToRem(13)},"large"===i.size&&"outlined"===i.variant&&{padding:"7px 21px",fontSize:a.typography.pxToRem(15)},"small"===i.size&&"contained"===i.variant&&{padding:"4px 10px",fontSize:a.typography.pxToRem(13)},"large"===i.size&&"contained"===i.variant&&{padding:"8px 22px",fontSize:a.typography.pxToRem(15)},i.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,kt.Z)(t,"&.".concat(Fm.focusVisible),{boxShadow:"none"}),(0,kt.Z)(t,"&:active",{boxShadow:"none"}),(0,kt.Z)(t,"&.".concat(Fm.disabled),{boxShadow:"none"}),t)})),Wm=(0,Dc.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,Ju.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,xt.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Bm(t))})),Zm=(0,Dc.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,Ju.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,xt.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Bm(t))})),Vm=T.forwardRef((function(e,t){var n=T.useContext(jm),r=(0,Pm.Z)(n,e),a=(0,Lt.Z)({props:r,name:"MuiButton"}),i=a.children,o=a.color,s=void 0===o?"primary":o,l=a.component,u=void 0===l?"button":l,c=a.className,d=a.disabled,h=void 0!==d&&d,f=a.disableElevation,p=void 0!==f&&f,m=a.disableFocusRipple,v=void 0!==m&&m,g=a.endIcon,y=a.focusVisibleClassName,b=a.fullWidth,x=void 0!==b&&b,w=a.size,k=void 0===w?"medium":w,S=a.startIcon,E=a.type,C=a.variant,_=void 0===C?"text":C,M=(0,wt.Z)(a,zm),A=(0,xt.Z)({},a,{color:s,component:u,disabled:h,disableElevation:p,disableFocusRipple:v,fullWidth:x,size:k,type:E,variant:_}),I=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,a=e.size,i=e.variant,o=e.classes,s={root:["root",i,"".concat(i).concat((0,Ju.Z)(t)),"size".concat((0,Ju.Z)(a)),"".concat(i,"Size").concat((0,Ju.Z)(a)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,Ju.Z)(a))],endIcon:["endIcon","iconSize".concat((0,Ju.Z)(a))]},l=(0,Yu.Z)(s,Lm,o);return(0,xt.Z)({},o,l)}(A),N=S&&(0,Ct.jsx)(Wm,{className:I.startIcon,ownerState:A,children:S}),R=g&&(0,Ct.jsx)(Zm,{className:I.endIcon,ownerState:A,children:g});return(0,Ct.jsxs)(Um,(0,xt.Z)({ownerState:A,className:(0,Xu.Z)(n.className,I.root,c),component:u,disabled:h,focusRipple:!v,focusVisibleClassName:(0,Xu.Z)(I.focusVisible,y),ref:t,type:E},M,{classes:I,children:[N,i,R]}))})),Hm=Vm,Gm=(0,mm.Z)((0,Ct.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),qm=(window.indexedDB,n(1176));var Xm=n(6421),Ym="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Km(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Xm))return new XMLHttpRequest}catch(d4){}if(!t)try{return new(Ym[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(d4){}}function Jm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var $m=setTimeout,Qm=clearTimeout;function ev(e,t){t.useNativeTimers?(e.setTimeoutFn=$m.bind(Ym),e.clearTimeoutFn=Qm.bind(Ym)):(e.setTimeoutFn=setTimeout.bind(Ym),e.clearTimeoutFn=clearTimeout.bind(Ym))}var tv=n(3529);function nv(){return nv="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},nv.apply(this,arguments)}var rv=Object.create(null);rv.open="0",rv.close="1",rv.ping="2",rv.pong="3",rv.message="4",rv.upgrade="5",rv.noop="6";var av=Object.create(null);Object.keys(rv).forEach((function(e){av[rv[e]]=e}));for(var iv={type:"error",data:"parser error"},ov="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),sv="function"===typeof ArrayBuffer,lv=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},uv=function(e,t,n){var r,a=e.type,i=e.data;return ov&&i instanceof Blob?t?n(i):lv(i,n):sv&&(i instanceof ArrayBuffer||(r=i,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?t?n(i):lv(new Blob([i]),n):n(rv[a]+(i||""))},cv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dv="undefined"===typeof Uint8Array?[]:new Uint8Array(256),hv=0;hv<64;hv++)dv[cv.charCodeAt(hv)]=hv;var fv="function"===typeof ArrayBuffer,pv=function(e,t){if(fv){var n=function(e){var t,n,r,a,i,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var u=new ArrayBuffer(o),c=new Uint8Array(u);for(t=0;t<s;t+=4)n=dv[e.charCodeAt(t)],r=dv[e.charCodeAt(t+1)],a=dv[e.charCodeAt(t+2)],i=dv[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|a>>2,c[l++]=(3&a)<<6|63&i;return u}(e);return mv(n,t)}return{base64:!0,data:e}},mv=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e},vv=function(e,t){if("string"!==typeof e)return{type:"message",data:mv(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:pv(e.substring(1),t)}:av[n]?e.length>1?{type:av[n],data:e.substring(1)}:{type:av[n]}:iv},gv=String.fromCharCode(30),yv=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).writable=!1,ev(F(r),e),r.opts=e,r.query=e.query,r.readyState="",r.socket=e.socket,r}return N(n,[{key:"onError",value:function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,nv(D(n.prototype),"emit",this).call(this,"error",r),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,nv(D(n.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(e){var t=vv(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){nv(D(n.prototype),"emit",this).call(this,"packet",e)}},{key:"onClose",value:function(){this.readyState="closed",nv(D(n.prototype),"emit",this).call(this,"close")}}]),n}(tv.Q),bv=n(5590),xv=n(5988),wv=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.apply(this,arguments)).polling=!1,e}return N(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(gv),r=[],a=0;a<n.length;a++){var i=vv(n[a],t);if(r.push(i),"error"===i.type)break}return r})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,r=new Array(n),a=0;e.forEach((function(e,i){uv(e,!1,(function(e){r[i]=e,++a===n&&t(r.join(gv))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emit("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=bv()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var r=xv.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}}]),n}(yv);function kv(){}var Sv=null!=new Km({xdomain:!1}).responseType,Tv=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),r=t.call(this,e),"undefined"!==typeof location){var a="https:"===location.protocol,i=location.port;i||(i=a?"443":"80"),r.xd="undefined"!==typeof location&&e.hostname!==location.hostname||i!==e.port,r.xs=e.secure!==a}var o=e&&e.forceBase64;return r.supportsBinary=Sv&&!o,r}return N(n,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Ev(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e){n.onError("xhr post error",e)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t}}]),n}(wv),Ev=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),ev(F(a=t.call(this)),r),a.opts=r,a.method=r.method||"GET",a.uri=e,a.async=!1!==r.async,a.data=void 0!==r.data?r.data:null,a.create(),a}return N(n,[{key:"create",value:function(){var e=this,t=Jm(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var r=this.xhr=new Km(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var a in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this.opts.extraHeaders[a])}catch(d4){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(d4){}try{r.setRequestHeader("Accept","*/*")}catch(d4){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"===typeof r.status?r.status:0)}),0))},r.send(this.data)}catch(d4){return void this.setTimeoutFn((function(){e.onError(d4)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(e){this.emit("data",e),this.onSuccess()}},{key:"onError",value:function(e){this.emit("error",e),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=kv,e)try{this.xhr.abort()}catch(d4){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&this.onData(e)}},{key:"abort",value:function(){this.cleanup()}}]),n}(tv.Q);if(Ev.requestsCount=0,Ev.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Cv);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Ym?"pagehide":"unload",Cv,!1)}function Cv(){for(var e in Ev.requests)Ev.requests.hasOwnProperty(e)&&Ev.requests[e].abort()}var _v="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},Mv=Ym.WebSocket||Ym.MozWebSocket,Av="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Iv=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).supportsBinary=!e.forceBase64,r}return N(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=Av?{}:Jm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Av?new Mv(e,t,n):t?new Mv(e,t):new Mv(e)}catch(r){return this.emit("error",r)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[r],a=r===e.length-1;uv(n,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(d4){}a&&_v((function(){t.writable=!0,t.emit("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n()}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=bv()),this.supportsBinary||(e.b64=1);var r=xv.encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"check",value:function(){return!!Mv&&!("__initialize"in Mv&&this.name===n.prototype.name)}}]),n}(yv),Nv={websocket:Iv,polling:Tv},Rv=function(e){O(n,e);var t=z(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M(this,n),r=t.call(this),e&&"object"===typeof e&&(a=e,e=null),e?(e=qm(e),a.hostname=e.host,a.secure="https"===e.protocol||"wss"===e.protocol,a.port=e.port,e.query&&(a.query=e.query)):a.host&&(a.hostname=qm(a.host).host),ev(F(r),a),r.secure=null!=a.secure?a.secure:"undefined"!==typeof location&&"https:"===location.protocol,a.hostname&&!a.port&&(a.port=r.secure?"443":"80"),r.hostname=a.hostname||("undefined"!==typeof location?location.hostname:"localhost"),r.port=a.port||("undefined"!==typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=a.transports||["polling","websocket"],r.readyState="",r.writeBuffer=[],r.prevBufferLen=0,r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},a),r.opts.path=r.opts.path.replace(/\/$/,"")+"/","string"===typeof r.opts.query&&(r.opts.query=xv.decode(r.opts.query)),r.id=null,r.upgrades=null,r.pingInterval=null,r.pingTimeout=null,r.pingTimeoutTimer=null,"function"===typeof addEventListener&&(r.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())}),!1),"localhost"!==r.hostname&&(r.offlineEventListener=function(){r.onClose("transport close")},addEventListener("offline",r.offlineEventListener,!1))),r.open(),r}return N(n,[{key:"createTransport",value:function(e){var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Nv[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(d4){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(){t.onClose("transport close")}))}},{key:"probe",value:function(e){var t=this,r=this.createTransport(e),a=!1;n.priorWebsocketSuccess=!1;var i=function(){a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(e){if(!a)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,t.transport.pause((function(){a||"closed"!==t.readyState&&(d(),t.setTransport(r),r.send([{type:"upgrade"}]),t.emitReserved("upgrade",r),r=null,t.upgrading=!1,t.flush())}))}else{var i=new Error("probe error");i.transport=r.name,t.emitReserved("upgradeError",i)}})))};function o(){a||(a=!0,d(),r.close(),r=null)}var s=function(e){var n=new Error("probe error: "+e);n.transport=r.name,o(),t.emitReserved("upgradeError",n)};function l(){s("transport closed")}function u(){s("socket closed")}function c(e){r&&e.name!==r.name&&o()}var d=function(){r.removeListener("open",i),r.removeListener("error",s),r.removeListener("close",l),t.off("close",u),t.off("upgrading",c)};r.once("open",i),r.once("error",s),r.once("close",l),this.once("close",u),this.once("upgrading",c),r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(tv.Q);Rv.protocol=4;Rv.protocol;var Ov="function"===typeof ArrayBuffer,Dv=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},Pv=Object.prototype.toString,Lv="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Pv.call(Blob),Fv="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Pv.call(File);function jv(e){return Ov&&(e instanceof ArrayBuffer||Dv(e))||Lv&&e instanceof Blob||Fv&&e instanceof File}function zv(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(zv(e[n]))return!0;return!1}if(jv(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return zv(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&zv(e[a]))return!0;return!1}function Bv(e){var t=[],n=e.data,r=e;return r.data=Uv(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Uv(e,t){if(!e)return e;if(jv(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=Uv(e[a],t);return r}if("object"===typeof e&&!(e instanceof Date)){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=Uv(e[o],t));return i}return e}function Wv(e,t){return e.data=Zv(e.data,t),e.attachments=void 0,e}function Zv(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=Zv(e[n],t);else if("object"===typeof e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Zv(e[r],t));return e}var Vv,Hv=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Vv||(Vv={}));var Gv=function(){function e(){M(this,e)}return N(e,[{key:"encode",value:function(e){return e.type!==Vv.EVENT&&e.type!==Vv.ACK||!zv(e)?[this.encodeAsString(e)]:(e.type=e.type===Vv.EVENT?Vv.BINARY_EVENT:Vv.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==Vv.BINARY_EVENT&&e.type!==Vv.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),t}},{key:"encodeAsBinary",value:function(e){var t=Bv(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}(),qv=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.call(this)}return N(n,[{key:"add",value:function(e){var t;if("string"===typeof e)(t=this.decodeString(e)).type===Vv.BINARY_EVENT||t.type===Vv.BINARY_ACK?(this.reconstructor=new Xv(t),0===t.attachments&&nv(D(n.prototype),"emitReserved",this).call(this,"decoded",t)):nv(D(n.prototype),"emitReserved",this).call(this,"decoded",t);else{if(!jv(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,nv(D(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===Vv[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Vv.BINARY_EVENT||r.type===Vv.BINARY_ACK){for(var a=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var i=e.substring(a,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){for(var o=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(o,t)}else r.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var l=t+1;++t;){var u=e.charAt(t);if(null==u||Number(u)!=u){--t;break}if(t===e.length)break}r.id=Number(e.substring(l,t+1))}if(e.charAt(++t)){var c=function(e){try{return JSON.parse(e)}catch(d4){return!1}}(e.substr(t));if(!n.isPayloadValid(r.type,c))throw new Error("invalid payload");r.data=c}return r}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case Vv.CONNECT:return"object"===typeof t;case Vv.DISCONNECT:return void 0===t;case Vv.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case Vv.EVENT:case Vv.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Vv.ACK:case Vv.BINARY_ACK:return Array.isArray(t)}}}]),n}(tv.Q);var Xv=function(){function e(t){M(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return N(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=Wv(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function Yv(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var Kv=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Jv=function(e){O(n,e);var t=z(n);function n(e,r,a){var i;return M(this,n),(i=t.call(this)).connected=!1,i.disconnected=!0,i.receiveBuffer=[],i.sendBuffer=[],i.ids=0,i.acks={},i.flags={},i.io=e,i.nsp=r,a&&a.auth&&(i.auth=a.auth),i.io._autoConnect&&i.open(),i}return N(n,[{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[Yv(e,"open",this.onopen.bind(this)),Yv(e,"packet",this.onpacket.bind(this)),Yv(e,"error",this.onerror.bind(this)),Yv(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(Kv.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var a={type:Vv.EVENT,data:n,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var i=this.ids++,o=n.pop();this._registerAckCallback(i,o),a.id=i}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?this.packet(a):this.sendBuffer.push(a)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n=this,r=this.flags.timeout;if(void 0!==r){var a=this.io.setTimeoutFn((function(){delete n.acks[e];for(var r=0;r<n.sendBuffer.length;r++)n.sendBuffer[r].id===e&&n.sendBuffer.splice(r,1);t.call(n,new Error("operation has timed out"))}),r);this.acks[e]=function(){n.io.clearTimeoutFn(a);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.apply(n,[null].concat(r))}}else this.acks[e]=t}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e.packet({type:Vv.CONNECT,data:t})})):this.packet({type:Vv.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case Vv.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Vv.EVENT:case Vv.BINARY_EVENT:this.onevent(e);break;case Vv.ACK:case Vv.BINARY_ACK:this.onack(e);break;case Vv.DISCONNECT:this.ondisconnect();break;case Vv.CONNECT_ERROR:this.destroy();var n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,r=X(this._anyListeners.slice());try{for(r.s();!(t=r.n()).done;){t.value.apply(this,e)}}catch(a){r.e(a)}finally{r.f()}}nv(D(n.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t.packet({type:Vv.ACK,id:e,data:a})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){return e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:Vv.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),n}(tv.Q),$v=n(8077),Qv=function(t){O(r,t);var n=z(r);function r(t,a){var i,o;M(this,r),(i=n.call(this)).nsps={},i.subs=[],t&&"object"===typeof t&&(a=t,t=void 0),(a=a||{}).path=a.path||"/socket.io",i.opts=a,ev(F(i),a),i.reconnection(!1!==a.reconnection),i.reconnectionAttempts(a.reconnectionAttempts||1/0),i.reconnectionDelay(a.reconnectionDelay||1e3),i.reconnectionDelayMax(a.reconnectionDelayMax||5e3),i.randomizationFactor(null!==(o=a.randomizationFactor)&&void 0!==o?o:.5),i.backoff=new $v({min:i.reconnectionDelay(),max:i.reconnectionDelayMax(),jitter:i.randomizationFactor()}),i.timeout(null==a.timeout?2e4:a.timeout),i._readyState="closed",i.uri=t;var s=a.parser||e;return i.encoder=new s.Encoder,i.decoder=new s.Decoder,i._autoConnect=!1!==a.autoConnect,i._autoConnect&&i.open(),i}return N(r,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new Rv(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var a=Yv(n,"open",(function(){r.onopen(),e&&e()})),i=Yv(n,"error",(function(n){r.cleanup(),r._readyState="closed",t.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var o=this._timeout;0===o&&a();var s=this.setTimeoutFn((function(){a(),n.close(),n.emit("error",new Error("timeout"))}),o);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(a),this.subs.push(i),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(Yv(e,"ping",this.onping.bind(this)),Yv(e,"data",this.ondata.bind(this)),Yv(e,"error",this.onerror.bind(this)),Yv(e,"close",this.onclose.bind(this)),Yv(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new Jv(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),r}(tv.Q),eg={};function tg(e,t){"object"===typeof e&&(t=e,e=void 0);var n,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=qm(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),a=r.source,i=r.id,o=r.path,s=eg[i]&&o in eg[i].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=new Qv(a,t):(eg[i]||(eg[i]=new Qv(a,t)),n=eg[i]),r.query&&!t.query&&(t.query=r.queryKey),n.socket(r.path,t)}Object.assign(tg,{Manager:Qv,Socket:Jv,io:tg,connect:tg});var ng=tg(),rg=function(e,t){ng.on("notification_".concat(e._id),(function(e){console.log(e),t(e)}))},ag=function(e,t){ng.on("nuevo_reporte_".concat(e._id),(function(e){t(e)}))},ig=function(e){console.log("Revisando"),ng.emit("isConnected",{id:e._id,frontVersion:li.version})},og=function(e,t,n,r,a,i,o,s){ng.emit(e,{title:r,from:t,subtitle:a,message:i,id:n,url:o,reportId:s||null})},sg=function(e,t,n,r,a,i,o,s){ng.emit(e,{title:n,from:t,subtitle:r,message:a,url:i,uid:o,idObra:s})};function lg(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=lg(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}var ug=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=lg(e))&&(r&&(r+=" "),r+=t);return r},cg=n(2421),dg=n(104),hg=["className","component"];var fg=n(5902),pg=(0,Jt.Z)(),mg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=e.defaultClassName,a=void 0===r?"MuiBox-root":r,i=e.generateClassName,o=(0,cg.ZP)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(dg.Z),s=T.forwardRef((function(e,r){var s=(0,Vt.Z)(n),l=th(e),u=l.className,c=l.component,d=void 0===c?"div":c,h=(0,wt.Z)(l,hg);return(0,Ct.jsx)(o,(0,xt.Z)({as:d,ref:r,className:ug(u,i?i(a):a),theme:t&&s[t]||s},h))}));return s}({themeId:Ot.Z,defaultTheme:pg,defaultClassName:"MuiBox-root",generateClassName:fg.Z.generate}),vg=mg;function gg(e){return(0,bc.Z)("MuiCircularProgress",e)}(0,yc.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var yg,bg,xg,wg,kg,Sg,Tg,Eg,Cg=["className","color","disableShrink","size","style","thickness","value","variant"],_g=44,Mg=Wt(kg||(kg=yg||(yg=pd(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),Ag=Wt(Sg||(Sg=bg||(bg=pd(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),Ig=(0,Dc.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat((0,Ju.Z)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,xt.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Ut(Tg||(Tg=xg||(xg=pd(["\n      animation: "," 1.4s linear infinite;\n    "]))),Mg)})),Ng=(0,Dc.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),Rg=(0,Dc.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat((0,Ju.Z)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return(0,xt.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Ut(Eg||(Eg=wg||(wg=pd(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),Ag)})),Og=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiCircularProgress"}),r=n.className,a=n.color,i=void 0===a?"primary":a,o=n.disableShrink,s=void 0!==o&&o,l=n.size,u=void 0===l?40:l,c=n.style,d=n.thickness,h=void 0===d?3.6:d,f=n.value,p=void 0===f?0:f,m=n.variant,v=void 0===m?"indeterminate":m,g=(0,wt.Z)(n,Cg),y=(0,xt.Z)({},n,{color:i,disableShrink:s,size:u,thickness:h,value:p,variant:v}),b=function(e){var t=e.classes,n=e.variant,r=e.color,a=e.disableShrink,i={root:["root",n,"color".concat((0,Ju.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,Ju.Z)(n)),a&&"circleDisableShrink"]};return(0,Yu.Z)(i,gg,t)}(y),x={},w={},k={};if("determinate"===v){var S=2*Math.PI*((_g-h)/2);x.strokeDasharray=S.toFixed(3),k["aria-valuenow"]=Math.round(p),x.strokeDashoffset="".concat(((100-p)/100*S).toFixed(3),"px"),w.transform="rotate(-90deg)"}return(0,Ct.jsx)(Ig,(0,xt.Z)({className:(0,Xu.Z)(b.root,r),style:(0,xt.Z)({width:u,height:u},w,c),ownerState:y,ref:t,role:"progressbar"},k,g,{children:(0,Ct.jsx)(Ng,{className:b.svg,ownerState:y,viewBox:"".concat(22," ").concat(22," ").concat(_g," ").concat(_g),children:(0,Ct.jsx)(Rg,{className:b.circle,style:x,ownerState:y,cx:_g,cy:_g,r:(_g-h)/2,fill:"none",strokeWidth:h})})}))})),Dg=Og,Pg=function(e){var t=e.open,n=e.progress,r=e.loadingData,a=e.withProgress;return(0,Ct.jsx)(Xc,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Ct.jsx)(vg,{sx:ri,children:(0,Ct.jsxs)("div",{style:{height:300,textAlign:"center"},children:[a&&(0,Ct.jsx)(Dg,{variant:"determinate",size:200,value:Number(n)}),!a&&(0,Ct.jsx)(Dg,{size:200}),(0,Ct.jsx)("h2",{children:r})]})})})};function Lg(e){return(0,bc.Z)("MuiListItem",e)}var Fg=(0,yc.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function jg(e){return(0,bc.Z)("MuiListItemButton",e)}var zg=(0,yc.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Bg(e){return(0,bc.Z)("MuiListItemSecondaryAction",e)}(0,yc.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var Ug=["className"],Wg=(0,Dc.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.ownerState;return(0,xt.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),Zg=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiListItemSecondaryAction"}),r=n.className,a=(0,wt.Z)(n,Ug),i=T.useContext(op),o=(0,xt.Z)({},n,{disableGutters:i.disableGutters}),s=function(e){var t=e.disableGutters,n=e.classes,r={root:["root",t&&"disableGutters"]};return(0,Yu.Z)(r,Bg,n)}(o);return(0,Ct.jsx)(Wg,(0,xt.Z)({className:(0,Xu.Z)(s.root,r),ownerState:o,ref:t},a))}));Zg.muiName="ListItemSecondaryAction";var Vg=Zg,Hg=["className"],Gg=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],qg=(0,Dc.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,xt.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!r.disablePadding&&(0,xt.Z)({paddingTop:8,paddingBottom:8},r.dense&&{paddingTop:4,paddingBottom:4},!r.disableGutters&&{paddingLeft:16,paddingRight:16},!!r.secondaryAction&&{paddingRight:48}),!!r.secondaryAction&&(0,kt.Z)({},"& > .".concat(zg.root),{paddingRight:48}),(t={},(0,kt.Z)(t,"&.".concat(Fg.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,kt.Z)(t,"&.".concat(Fg.selected),(0,kt.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(Fg.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,kt.Z)(t,"&.".concat(Fg.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),"flex-start"===r.alignItems&&{alignItems:"flex-start"},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},r.button&&(0,kt.Z)({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(Fg.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),r.hasSecondaryAction&&{paddingRight:48})})),Xg=(0,Dc.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),Yg=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiListItem"}),r=n.alignItems,a=void 0===r?"center":r,i=n.autoFocus,o=void 0!==i&&i,s=n.button,l=void 0!==s&&s,u=n.children,c=n.className,d=n.component,h=n.components,f=void 0===h?{}:h,p=n.componentsProps,m=void 0===p?{}:p,v=n.ContainerComponent,g=void 0===v?"li":v,y=n.ContainerProps,b=(void 0===y?{}:y).className,x=n.dense,w=void 0!==x&&x,k=n.disabled,S=void 0!==k&&k,E=n.disableGutters,C=void 0!==E&&E,_=n.disablePadding,M=void 0!==_&&_,A=n.divider,I=void 0!==A&&A,N=n.focusVisibleClassName,R=n.secondaryAction,O=n.selected,D=void 0!==O&&O,P=n.slotProps,L=void 0===P?{}:P,F=n.slots,j=void 0===F?{}:F,z=(0,wt.Z)(n.ContainerProps,Hg),B=(0,wt.Z)(n,Gg),U=T.useContext(op),W=T.useMemo((function(){return{dense:w||U.dense||!1,alignItems:a,disableGutters:C}}),[a,U.dense,w,C]),Z=T.useRef(null);(0,Xh.Z)((function(){o&&Z.current&&Z.current.focus()}),[o]);var V=T.Children.toArray(u),H=V.length&&(0,Gf.Z)(V[V.length-1],["ListItemSecondaryAction"]),G=(0,xt.Z)({},n,{alignItems:a,autoFocus:o,button:l,dense:W.dense,disabled:S,disableGutters:C,disablePadding:M,divider:I,hasSecondaryAction:H,selected:D}),q=function(e){var t=e.alignItems,n=e.button,r=e.classes,a=e.dense,i=e.disabled,o={root:["root",a&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]};return(0,Yu.Z)(o,Lg,r)}(G),X=(0,zu.Z)(Z,t),Y=j.root||f.Root||qg,K=L.root||m.root||{},J=(0,xt.Z)({className:(0,Xu.Z)(q.root,K.className,c),disabled:S},B),$=d||"li";return l&&(J.component=d||"div",J.focusVisibleClassName=(0,Xu.Z)(Fg.focusVisible,N),$=Hd),H?($=J.component||d?$:"div","li"===g&&("li"===$?$="div":"li"===J.component&&(J.component="div")),(0,Ct.jsx)(op.Provider,{value:W,children:(0,Ct.jsxs)(Xg,(0,xt.Z)({as:g,className:(0,Xu.Z)(q.container,b),ref:X,ownerState:G},z,{children:[(0,Ct.jsx)(Y,(0,xt.Z)({},K,!wc(Y)&&{as:$,ownerState:(0,xt.Z)({},G,K.ownerState)},J,{children:V})),V.pop()]}))})):(0,Ct.jsx)(op.Provider,{value:W,children:(0,Ct.jsxs)(Y,(0,xt.Z)({},K,{as:$,ref:X},!wc(Y)&&{ownerState:(0,xt.Z)({},G,K.ownerState)},J,{children:[V,R&&(0,Ct.jsx)(Vg,{children:R})]}))})})),Kg=Yg;function Jg(e){return(0,bc.Z)("PrivateSwitchBase",e)}(0,yc.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var $g=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Qg=(0,Dc.ZP)(Hd)((function(e){var t=e.ownerState;return(0,xt.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),ey=(0,Dc.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),ty=T.forwardRef((function(e,t){var n=e.autoFocus,r=e.checked,a=e.checkedIcon,i=e.className,o=e.defaultChecked,s=e.disabled,l=e.disableFocusRipple,u=void 0!==l&&l,c=e.edge,d=void 0!==c&&c,h=e.icon,f=e.id,p=e.inputProps,m=e.inputRef,v=e.name,g=e.onBlur,y=e.onChange,b=e.onFocus,x=e.readOnly,w=e.required,k=void 0!==w&&w,S=e.tabIndex,T=e.type,E=e.value,C=(0,wt.Z)(e,$g),_=(0,rm.Z)({controlled:r,default:Boolean(o),name:"SwitchBase",state:"checked"}),M=(0,Z.Z)(_,2),A=M[0],I=M[1],N=qh(),R=s;N&&"undefined"===typeof R&&(R=N.disabled);var O="checkbox"===T||"radio"===T,D=(0,xt.Z)({},e,{checked:A,disabled:R,disableFocusRipple:u,edge:d}),P=function(e){var t=e.classes,n=e.checked,r=e.disabled,a=e.edge,i={root:["root",n&&"checked",r&&"disabled",a&&"edge".concat((0,Ju.Z)(a))],input:["input"]};return(0,Yu.Z)(i,Jg,t)}(D);return(0,Ct.jsxs)(Qg,(0,xt.Z)({component:"span",className:(0,Xu.Z)(P.root,i),centerRipple:!0,focusRipple:!u,disabled:R,tabIndex:null,role:void 0,onFocus:function(e){b&&b(e),N&&N.onFocus&&N.onFocus(e)},onBlur:function(e){g&&g(e),N&&N.onBlur&&N.onBlur(e)},ownerState:D,ref:t},C,{children:[(0,Ct.jsx)(ey,(0,xt.Z)({autoFocus:n,checked:r,defaultChecked:o,className:P.input,disabled:R,id:O?f:void 0,name:v,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;I(t),y&&y(e,t)}},readOnly:x,ref:m,required:k,ownerState:D,tabIndex:S,type:T},"checkbox"===T&&void 0===E?{}:{value:E},p)),A?a:h]}))})),ny=ty;function ry(e){return(0,bc.Z)("MuiSwitch",e)}var ay=(0,yc.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),iy=["className","color","edge","size","sx"],oy=(0,Dc.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.edge&&t["edge".concat((0,Ju.Z)(n.edge))],t["size".concat((0,Ju.Z)(n.size))]]}})((function(e){var t,n=e.ownerState;return(0,xt.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===n.edge&&{marginLeft:-8},"end"===n.edge&&{marginRight:-8},"small"===n.size&&(t={width:40,height:24,padding:7},(0,kt.Z)(t,"& .".concat(ay.thumb),{width:16,height:16}),(0,kt.Z)(t,"& .".concat(ay.switchBase),(0,kt.Z)({padding:4},"&.".concat(ay.checked),{transform:"translateX(16px)"})),t))})),sy=(0,Dc.ZP)(ny,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var n=e.ownerState;return[t.switchBase,(0,kt.Z)({},"& .".concat(ay.input),t.input),"default"!==n.color&&t["color".concat((0,Ju.Z)(n.color))]]}})((function(e){var t,n=e.theme;return t={position:"absolute",top:0,left:0,zIndex:1,color:n.vars?n.vars.palette.Switch.defaultColor:"".concat("light"===n.palette.mode?n.palette.common.white:n.palette.grey[300]),transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest})},(0,kt.Z)(t,"&.".concat(ay.checked),{transform:"translateX(20px)"}),(0,kt.Z)(t,"&.".concat(ay.disabled),{color:n.vars?n.vars.palette.Switch.defaultDisabledColor:"".concat("light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600])}),(0,kt.Z)(t,"&.".concat(ay.checked," + .").concat(ay.track),{opacity:.5}),(0,kt.Z)(t,"&.".concat(ay.disabled," + .").concat(ay.track),{opacity:n.vars?n.vars.opacity.switchTrackDisabled:"".concat("light"===n.palette.mode?.12:.2)}),(0,kt.Z)(t,"& .".concat(ay.input),{left:"-100%",width:"300%"}),t}),(function(e){var t,n=e.theme,r=e.ownerState;return(0,xt.Z)({"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.activeChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,Yc.Fq)(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(t={},(0,kt.Z)(t,"&.".concat(ay.checked),(0,kt.Z)({color:(n.vars||n).palette[r.color].main,"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette[r.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,Yc.Fq)(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(ay.disabled),{color:n.vars?n.vars.palette.Switch["".concat(r.color,"DisabledColor")]:"".concat("light"===n.palette.mode?(0,Yc.$n)(n.palette[r.color].main,.62):(0,Yc._j)(n.palette[r.color].main,.55))})),(0,kt.Z)(t,"&.".concat(ay.checked," + .").concat(ay.track),{backgroundColor:(n.vars||n).palette[r.color].main}),t))})),ly=(0,Dc.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),uy=(0,Dc.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){var t=e.theme;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),cy=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiSwitch"}),r=n.className,a=n.color,i=void 0===a?"primary":a,o=n.edge,s=void 0!==o&&o,l=n.size,u=void 0===l?"medium":l,c=n.sx,d=(0,wt.Z)(n,iy),h=(0,xt.Z)({},n,{color:i,edge:s,size:u}),f=function(e){var t=e.classes,n=e.edge,r=e.size,a=e.color,i=e.checked,o=e.disabled,s={root:["root",n&&"edge".concat((0,Ju.Z)(n)),"size".concat((0,Ju.Z)(r))],switchBase:["switchBase","color".concat((0,Ju.Z)(a)),i&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,Yu.Z)(s,ry,t);return(0,xt.Z)({},t,l)}(h),p=(0,Ct.jsx)(uy,{className:f.thumb,ownerState:h});return(0,Ct.jsxs)(oy,{className:(0,Xu.Z)(f.root,r),sx:c,ownerState:h,children:[(0,Ct.jsx)(sy,(0,xt.Z)({type:"checkbox",icon:p,checkedIcon:p,ref:t,ownerState:h},d,{classes:(0,xt.Z)({},f,{root:f.switchBase})})),(0,Ct.jsx)(ly,{className:f.track,ownerState:h})]})})),dy=cy;function hy(e){return(0,bc.Z)("MuiFab",e)}var fy=(0,yc.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),py=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],my=(0,Dc.ZP)(Hd,{name:"MuiFab",slot:"Root",shouldForwardProp:function(e){return(0,Dc.FO)(e)||"classes"===e},overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat((0,Ju.Z)(n.size))],"inherit"===n.color&&t.colorInherit,t[(0,Ju.Z)(n.size)],t[n.color]]}})((function(e){var t,n,r=e.theme,a=e.ownerState;return(0,xt.Z)({},r.typography.button,(0,kt.Z)({minHeight:36,transition:r.transitions.create(["background-color","box-shadow","border-color"],{duration:r.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(r.vars||r).zIndex.fab,boxShadow:(r.vars||r).shadows[6],"&:active":{boxShadow:(r.vars||r).shadows[12]},color:r.vars?r.vars.palette.text.primary:null==(t=(n=r.palette).getContrastText)?void 0:t.call(n,r.palette.grey[300]),backgroundColor:(r.vars||r).palette.grey[300],"&:hover":{backgroundColor:(r.vars||r).palette.grey.A100,"@media (hover: none)":{backgroundColor:(r.vars||r).palette.grey[300]},textDecoration:"none"}},"&.".concat(fy.focusVisible),{boxShadow:(r.vars||r).shadows[6]}),"small"===a.size&&{width:40,height:40},"medium"===a.size&&{width:48,height:48},"extended"===a.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===a.variant&&"small"===a.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===a.variant&&"medium"===a.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===a.color&&{color:"inherit"})}),(function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({},"inherit"!==n.color&&"default"!==n.color&&null!=(t.vars||t).palette[n.color]&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}})}),(function(e){var t=e.theme;return(0,kt.Z)({},"&.".concat(fy.disabled),{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})})),vy=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiFab"}),r=n.children,a=n.className,i=n.color,o=void 0===i?"default":i,s=n.component,l=void 0===s?"button":s,u=n.disabled,c=void 0!==u&&u,d=n.disableFocusRipple,h=void 0!==d&&d,f=n.focusVisibleClassName,p=n.size,m=void 0===p?"large":p,v=n.variant,g=void 0===v?"circular":v,y=(0,wt.Z)(n,py),b=(0,xt.Z)({},n,{color:o,component:l,disabled:c,disableFocusRipple:h,size:m,variant:g}),x=function(e){var t=e.color,n=e.variant,r=e.classes,a=e.size,i={root:["root",n,"size".concat((0,Ju.Z)(a)),"inherit"===t?"colorInherit":t]},o=(0,Yu.Z)(i,hy,r);return(0,xt.Z)({},r,o)}(b);return(0,Ct.jsx)(my,(0,xt.Z)({className:(0,Xu.Z)(x.root,a),component:l,disabled:c,focusRipple:!h,focusVisibleClassName:(0,Xu.Z)(x.focusVisible,f),ownerState:b,ref:t},y,{classes:x,children:r}))})),gy=vy,yy=function(e){var t=e.open,n=e.userModal,r=e.handleChange,a=e.checked,i=(e.permissionsReports,e.permissionsUsers,e.closeModal);return(0,Ct.jsx)(Xc,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Ct.jsxs)(vg,{sx:ri,children:[(0,Ct.jsx)("div",{style:{textAlign:"left",width:"100%"},children:(0,Ct.jsx)("h2",{children:"Datos del Usuario"})}),(0,Ct.jsxs)("div",{style:{width:"100%",height:"25vh"},children:[(0,Ct.jsxs)("div",{style:{float:"left",width:"30%"},children:[(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:"Nombre y Apellido"})}),(0,Ct.jsxs)("p",{children:[" ",n.name," ",n.lastName," "]}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:"Rol del usuario"})}),(0,Ct.jsxs)("p",{children:[" ",n.roleTranslated," "]})]}),(0,Ct.jsxs)("div",{style:{float:"left",width:"30%"},children:[(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:"Email"})}),(0,Ct.jsxs)("p",{children:[" ",n.email]}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:"RUN"})}),(0,Ct.jsxs)("p",{children:[" ",n.rut," "]})]}),(0,Ct.jsx)("div",{style:{float:"right",width:"30%"},children:(0,Ct.jsxs)(Kg,{children:[(0,Ct.jsx)(dy,{onChange:r,checked:a}),a&&(0,Ct.jsx)("p",{children:"Usuario activo"}),!a&&(0,Ct.jsx)("p",{children:"Usuario inactivo"})]})})]}),(0,Ct.jsx)("div",{style:{width:"100%",height:"5vh",margin:10},children:(0,Ct.jsx)("button",{style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D",position:"absolute",right:30},children:"Editar usuario"})}),(0,Ct.jsx)(gy,{onClick:function(){return i(n)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})},by=(0,mm.Z)((0,Ct.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"Undo"),xy=function(e){var t=e.open,n=e.closeModal;return(0,Ct.jsx)(Xc,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Ct.jsxs)(vg,{sx:ri,children:[(0,Ct.jsxs)("div",{style:{textAlign:"left",width:"100%"},children:[(0,Ct.jsxs)("h2",{children:["Versi\xf3n ",li.version]}),(0,Ct.jsx)("li",{children:"Se corrige error al enviar t\xe9rmino de jornada."})]}),(0,Ct.jsxs)("div",{style:{width:"100%",height:"25vh",overflowY:"auto"},children:[(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v2.9.3"}),(0,Ct.jsx)("li",{children:"Se deshabilita actualizaci\xf3n de app por medio de vertical scrolling."}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v2.9.2"}),(0,Ct.jsx)("li",{children:"Se corrige error de asignaci\xf3n de usuarios y bot\xf3n de sincronizaci\xf3n."}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v2.9.1"}),(0,Ct.jsx)("li",{children:"Correcci\xf3n de errores"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v2.9"}),(0,Ct.jsx)("li",{children:"Se mejora el rendimiento y repara errores de bugs producto de"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v2.6.4"}),(0,Ct.jsx)("li",{children:"Cambios en Pautas. Ahora se pueden eliminar comentarios, fotos y el estado de ticket verde o amarillo a vac\xedo en caso de error."}),(0,Ct.jsx)("li",{children:"Se aplican filtros en OT de maquinaria."}),(0,Ct.jsx)("li",{children:"Otras modificaciones menores."}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v2.6.3"}),(0,Ct.jsx)("li",{children:"Se permite el borrado de mensajes a usuarios que crean los mensajes o Admins"}),(0,Ct.jsx)("li",{children:"Se agrega nueva vista de resumen de insumos o materiales, para ejecutivos SAP o Administradores"}),(0,Ct.jsx)("strong",{children:"v2.6.2"}),(0,Ct.jsx)("li",{children:"Reparaci\xf3n visualizaci\xf3n de pautas"}),(0,Ct.jsx)("li",{children:"Se agrega en opciones un bot\xf3n para ver las pautas descargadas en el dispositivo"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v2.6.1"}),(0,Ct.jsx)("li",{children:"Se genera vista previa de la OT para Ejecutivo SAP y los administradores"}),(0,Ct.jsx)("li",{children:"Se crea bot\xf3n de eliminaci\xf3n de mensajes de tareas para OTs"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v2.6"}),(0,Ct.jsx)("li",{children:"Reparaci\xf3n errore de carga de datos"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v2.5.5"}),(0,Ct.jsx)("li",{children:"Nueva m\xe1quina Bulldozer Caterpillar D10-T2"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v.2.5"}),(0,Ct.jsx)("li",{children:"Nuevas Obras y Nuevas m\xe1quinas."}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v.2.3.1"}),(0,Ct.jsx)("li",{children:"Reparaciones menores en lista de Ordenes"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v.2.3.1"}),(0,Ct.jsx)("li",{children:"Error de login con R.U.N. resuelto"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v.2.3"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"Documentos PDF"}),(0,Ct.jsx)("li",{children:"Se agrega Nro de Pauta en t\xedtulo de la OT"}),(0,Ct.jsx)("li",{children:"Se agrega ID de Documento"}),(0,Ct.jsx)("li",{children:"Se corrige nombre de la pauta al descargar"}),(0,Ct.jsx)("strong",{children:"P\xe1gina Ordenes"}),(0,Ct.jsx)("li",{children:"Se agrega primeros filtros (ordenar por OT y ordenar por Nro de M\xe1quina)"}),(0,Ct.jsxs)("li",{children:["Se puede corregir n\xfamero SAP desde ventana emergente al presionar vot\xf3n ",(0,Ct.jsx)("button",{style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Ver"})]}),(0,Ct.jsx)("strong",{children:"M\xe1quinas"}),(0,Ct.jsxs)("li",{children:["Al ingresar a cada m\xe1quina, en el listado de las OT, puede ver un ",(0,Ct.jsx)("a",{href:"#",children:"Enlace Documento"})," en caso de existir documento PDF creado."]}),(0,Ct.jsx)("strong",{children:"Login"}),(0,Ct.jsx)("li",{children:"Login por defecto queda por R.U.N."}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v.2.2.1"}),(0,Ct.jsx)("li",{children:"Reparaci\xf3n de errores generados en versi\xf3n 2.2"}),(0,Ct.jsx)("strong",{children:"v.2.2"}),(0,Ct.jsx)("li",{children:"Se habilita multiusuarios."}),(0,Ct.jsx)("strong",{children:"v.2.1"}),(0,Ct.jsx)("li",{children:"Correcci\xf3n de errores al cierre de OT."}),(0,Ct.jsx)("li",{children:"Todo usuario que no sea operario, obtendr\xe1 la pauta desde la base de datos. Con esto se espera que se elimine la informaci\xf3n."}),(0,Ct.jsx)("p",{children:"Se ha actualizado la aplicaci\xf3n de servicios de Mantenimiento e Inspecci\xf3n."}),(0,Ct.jsx)("strong",{children:"v.2.0"}),(0,Ct.jsx)("li",{children:"Se agrega al servicio sistema de b\xfasqueda por Nombre, Rut y Correo Electr\xf3nico"}),(0,Ct.jsx)("li",{children:"Se elimina la posibilidad al Jefe de Maquinaria la posibilidad de comentar."}),(0,Ct.jsxs)("li",{children:["Se agrega al servicio restaurador de datos de ejecuci\xf3n de OT desde la cuenta de Operador o Mantenedor, utilizando bot\xf3n ",(0,Ct.jsx)("strong",{children:"Restaurar"}),"."]}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,Ct.jsx)(gy,{color:"primary","aria-label":"add",children:(0,Ct.jsx)(by,{})})}),(0,Ct.jsx)("div",{style:{borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#ccc",paddingTop:0,marginBottom:50}}),(0,Ct.jsx)("strong",{children:"v.1.9.9"}),(0,Ct.jsx)("li",{children:"Modificaciones en vistas de Ordenes."}),(0,Ct.jsx)("li",{children:"Se habilita vista de Ordenes para Jefe de Maquinaria. Este perfil no puede generar nuevo documento PDF por estar fuera del flujo de actualizaciones de la OT."}),(0,Ct.jsx)("strong",{children:"v.1.9.8"}),(0,Ct.jsx)("li",{children:"Reparaci\xf3n de fallos al subir las AST."}),(0,Ct.jsx)("strong",{children:"v.1.9.7"}),(0,Ct.jsx)("li",{children:"Reparaci\xf3n de fallos PDF."}),(0,Ct.jsx)("strong",{children:"v.1.9.6"}),(0,Ct.jsx)("li",{children:"Inserta im\xe1genes de comentarios en PDF."}),(0,Ct.jsx)("strong",{children:"v.1.9.5"}),(0,Ct.jsx)("li",{children:"Cambios en la generaci\xf3n del documento PDF. Ahora se crea autom\xe1ticamente al cerrar la OT por parte del Ejecutivo SAP, Admin o Super Admin."}),(0,Ct.jsx)("li",{children:"Listado de OTs en p\xe1gina Ordenes, ordenados por Nro OT."}),(0,Ct.jsx)("strong",{children:"v.1.9"}),(0,Ct.jsx)("li",{children:"Se integra servicio Storage para im\xe1genes de la plataforma."}),(0,Ct.jsx)("strong",{children:"v.1.8.9"}),(0,Ct.jsx)("li",{children:"Cambios en forma de llenado de pauta, presionando el checkbox."}),(0,Ct.jsx)("li",{children:"Mejoras de rendimiento."}),(0,Ct.jsx)("strong",{children:"v.1.8.8"}),(0,Ct.jsx)("li",{children:"Reparaci\xf3n de notificaciones."}),(0,Ct.jsx)("li",{children:"Vista notificaciones de p\xe1gina de inicio se actualiza junto a la llegada de notificaciones push."}),(0,Ct.jsx)("strong",{children:"v.1.8.7"}),(0,Ct.jsx)("li",{children:"Cambios en los permisos de roles."}),(0,Ct.jsx)("li",{children:"Correo para creaci\xf3n de usuarios opcional."}),(0,Ct.jsx)("strong",{children:"v.1.8.6"}),(0,Ct.jsx)("li",{children:"Se agrega login usando RUT."}),(0,Ct.jsx)("li",{children:"Reparaci\xf3nes menores."}),(0,Ct.jsx)("strong",{children:"v.1.8.5"}),(0,Ct.jsx)("li",{children:"Reparaciones menores."}),(0,Ct.jsx)("strong",{children:"v.1.8"}),(0,Ct.jsx)("li",{children:"Modelo 3D de subsistema desde la OT."}),(0,Ct.jsx)("li",{children:"Etiquetado de Pala y Cami\xf3n."}),(0,Ct.jsx)("strong",{children:"v.1.7"}),(0,Ct.jsx)("li",{children:"Se posicionan etiquetas de Pala y Cami\xf3n de acuerdo a indicaciones."}),(0,Ct.jsx)("strong",{children:"v.1.6"}),(0,Ct.jsx)("li",{children:"Se habilita vista 3D de m\xe1quinas. Solo cambi\xf3n Caterpillar 793-F cuenta con etiquetas en las partes."}),(0,Ct.jsx)("li",{children:"Se habilita bot\xf3n de borrado del sistema en caso de requerir limpiar la memoria."}),(0,Ct.jsx)("strong",{children:"v.1.5"}),(0,Ct.jsx)("li",{children:"Se agrega elemento que permite borrar o cambiar la AST."}),(0,Ct.jsx)("strong",{children:"v.1.4"}),(0,Ct.jsx)("li",{children:"Optimizaciones. Cambios al proceso de flujo. Se corrige error al enviar OT finalizando sin conexi\xf3n."}),(0,Ct.jsx)("strong",{children:"v.1.3"}),(0,Ct.jsx)("li",{children:"Ajustes de usuarios. Correcci\xf3n en caso de cambios para la AST."}),(0,Ct.jsx)("li",{children:"Correcci\xf3n de errores."}),(0,Ct.jsx)("strong",{children:"v.1.2"}),(0,Ct.jsx)("li",{children:"Cambios de vistas. Se agrega foto AST en pautas."}),(0,Ct.jsx)("strong",{children:"v.1.1"}),(0,Ct.jsx)("li",{children:"Se agrega listado de OTs asignadas a cada m\xe1quina."}),(0,Ct.jsx)("li",{children:"Se ajustan cambios en pautas."}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:"v.1.0"}),(0,Ct.jsx)("li",{children:"Habilitado producci\xf3n."})]}),(0,Ct.jsx)(gy,{onClick:function(){return n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})},wy=n(5203),ky=function(){function e(t,n){M(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return N(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),Sy=function(){function e(){M(this,e)}return N(e,[{key:"refCount",value:function(e){return Ty("refCount")}},{key:"incRef",value:function(e){return Ty("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return Ty("time")}},{key:"read",value:function(e){return Ty("read")}},{key:"readSync",value:function(e){return Ty("readSync")}},{key:"readToGPU",value:function(e,t){return Ty("readToGPU")}},{key:"numDataIds",value:function(){return Ty("numDataIds")}},{key:"disposeData",value:function(e,t){return Ty("disposeData")}},{key:"write",value:function(e,t,n){return Ty("write")}},{key:"move",value:function(e,t,n,r,a){return Ty("move")}},{key:"memory",value:function(){return Ty("memory")}},{key:"floatPrecision",value:function(){return Ty("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return Ty("dispose")}}]),e}();function Ty(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function Ey(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,My(e,--t,n)}function Cy(e,t,n){return Math.max(e,Math.min(t,n))}function _y(e){return e%2===0?e:e+1}function My(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Ay(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function Iy(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function Ny(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Iy(Py(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function Ry(e){Iy(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function Oy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||Gy(e)&&!n)for(var r=0;r<e.length;++r)Oy(e[r],t,n);else t.push(e);return t}function Dy(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function Py(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ly(e){return e%1===0}function Fy(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function jy(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function zy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,a){var i=0;!function o(){if(e())r();else{i++;var s=t(i);null!=n&&i>=n?a():setTimeout(o,s)}}()}))}function By(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(a));r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var i=e.slice();return i[r]=t/n,i}function Uy(e,t){var n=t.length;return e=null==e?t.map((function(e,t){return t})):[].concat(e),Iy(e.every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),Iy(e.every((function(e){return Ly(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function Wy(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||a?null:Uy(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=i){if(i[o]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==i[o]||i[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function Zy(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function Vy(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function Hy(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function Gy(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function qy(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function Xy(e){return"string"===typeof e||e instanceof String}function Yy(e){return"number"===typeof e}function Ky(e){return Array.isArray(e)?Ky(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":Yy(e)?"float32":Xy(e)?"string":function(e){return"boolean"===typeof e}(e)?"bool":"float32"}function Jy(e){return!!(e&&e.constructor&&e.call&&e.apply)}function $y(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function Qy(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function eb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new Array;if(1===t.length)for(var i=t[0]*(r?2:1),o=0;o<i;o++)a[o]=n[e+o];else for(var s=t[0],l=t.slice(1),u=l.reduce((function(e,t){return e*t}))*(r?2:1),c=0;c<s;c++)a[c]=eb(e+c*u,l,n,r);return a}function tb(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return eb(0,e,t,n)}function nb(e,t){for(var n=rb(e,t),r=0;r<n.length;r++)n[r]=1;return n}function rb(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function ab(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return tb(e,new Float32Array(n));if("int32"===t)return tb(e,new Int32Array(n));if("bool"===t)return tb(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function ib(e){e.forEach((function(t){Iy(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function ob(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function sb(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function lb(e){return e&&e.then&&"function"===typeof e.then}var ub="tfjsflags",cb=function(){function e(t){M(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=db,this.populateURLFlags()}return N(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(hb().getBool("IS_TEST")||hb().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(t,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];hb().getBool("IS_TEST")||hb().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if(lb(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(ub in t)t[ub].split(",").forEach((function(t){var n=t.split(":"),r=(0,Z.Z)(n,2),a=r[0],i=r[1];e.urlFlags[a]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(a,i)}))}}}]),e}();function db(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function hb(){return pb}var fb,pb=null;function mb(){if(null==fb){var e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}fb=e}return fb}function vb(e,t){var n=function(){var e=mb();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}var gb="Abs",yb="Acos",bb="Acosh",xb="Add",wb="AddN",kb="All",Sb="Any",Tb="ArgMax",Eb="ArgMin",Cb="Asin",_b="Asinh",Mb="Atan",Ab="Atanh",Ib="Atan2",Nb="AvgPool",Rb="AvgPoolGrad",Ob="AvgPool3D",Db="AvgPool3DGrad",Pb="BatchMatMul",Lb="BatchToSpaceND",Fb="Bincount",jb="BroadcastArgs",zb="Cast",Bb="Ceil",Ub="ClipByValue",Wb="Complex",Zb="ComplexAbs",Vb="Concat",Hb="Conv2D",Gb="Conv2DBackpropFilter",qb="Conv2DBackpropInput",Xb="Conv3D",Yb="Conv3DBackpropFilterV2",Kb="Conv3DBackpropInputV2",Jb="Cos",$b="Cosh",Qb="Cumsum",ex="CropAndResize",tx="DenseBincount",nx="DepthToSpace",rx="DepthwiseConv2dNative",ax="DepthwiseConv2dNativeBackpropFilter",ix="DepthwiseConv2dNativeBackpropInput",ox="Diag",sx="Dilation2D",lx="Dilation2DBackpropInput",ux="Dilation2DBackpropFilter",cx="RealDiv",dx="Einsum",hx="Elu",fx="EluGrad",px="Erf",mx="Equal",vx="Exp",gx="ExpandDims",yx="Expm1",bx="FFT",xx="Fill",wx="FlipLeftRight",kx="Floor",Sx="FloorDiv",Tx="FusedBatchNorm",Ex="GatherV2",Cx="GatherNd",_x="Greater",Mx="GreaterEqual",Ax="Identity",Ix="IFFT",Nx="Imag",Rx="IsFinite",Ox="IsInf",Dx="IsNan",Px="LeakyRelu",Lx="Less",Fx="LessEqual",jx="LinSpace",zx="Log",Bx="Log1p",Ux="LogicalAnd",Wx="LogicalNot",Zx="LogicalOr",Vx="LRN",Hx="LRNGrad",Gx="Max",qx="Maximum",Xx="MaxPool",Yx="MaxPoolGrad",Kx="MaxPool3D",Jx="MaxPool3DGrad",$x="MaxPoolWithArgmax",Qx="Mean",ew="Min",tw="Minimum",nw="MirrorPad",rw="Mod",aw="Multinomial",iw="Multiply",ow="Neg",sw="NotEqual",lw="NonMaxSuppressionV3",uw="NonMaxSuppressionV4",cw="NonMaxSuppressionV5",dw="OnesLike",hw="OneHot",fw="Pack",pw="PadV2",mw="Pow",vw="Prelu",gw="Prod",yw="Range",bw="Real",xw="Reciprocal",ww="Relu",kw="Reshape",Sw="ResizeNearestNeighbor",Tw="ResizeNearestNeighborGrad",Ew="ResizeBilinear",Cw="ResizeBilinearGrad",_w="Relu6",Mw="Reverse",Aw="Round",Iw="Rsqrt",Nw="ScatterNd",Rw="Select",Ow="Selu",Dw="Slice",Pw="Sin",Lw="Sinh",Fw="Sign",jw="Sigmoid",zw="Softplus",Bw="Sqrt",Uw="Sum",Ww="SpaceToBatchND",Zw="SplitV",Vw="Softmax",Hw="SparseFillEmptyRows",Gw="SparseReshape",qw="SparseSegmentMean",Xw="SparseSegmentSum",Yw="SparseToDense",Kw="SquaredDifference",Jw="Square",$w="StridedSlice",Qw="StringNGrams",ek="StringSplit",tk="StringToHashBucketFast",nk="Sub",rk="Tan",ak="Tanh",ik="Tile",ok="TopK",sk="Transform",lk="Transpose",uk="Unique",ck="Unpack",dk="UnsortedSegmentSum",hk="ZerosLike",fk="Step",pk="FromPixels",mk="RotateWithOffset",vk="_FusedMatMul",gk="FusedConv2D",yk="FusedDepthwiseConv2D";function bk(){var e;hb().getBool("IS_TEST")||hb().getBool("PROD")||(e=console).warn.apply(e,arguments)}var xk=vb("kernelRegistry",(function(){return new Map})),wk=vb("gradRegistry",(function(){return new Map}));function kk(e,t){var n=_k(e,t);return xk.get(n)}function Sk(e){return wk.get(e)}function Tk(e){for(var t=xk.entries(),n=[];;){var r=t.next(),a=r.done,i=r.value;if(a)break;var o=(0,Z.Z)(i,2),s=o[0],l=o[1],u=s.split("_");(0,Z.Z)(u,1)[0]===e&&n.push(l)}return n}function Ek(e){var t=e.kernelName,n=e.backendName,r=_k(t,n);xk.has(r)&&bk("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),xk.set(r,e)}function Ck(e){var t=e.kernelName;wk.has(t)&&hb().getBool("DEBUG")&&bk("Overriding the gradient for '".concat(t,"'")),wk.set(t,e)}function _k(e,t){return"".concat(t,"_").concat(e)}var Mk=n(8987),Ak=n.n(Mk)()||Mk;function Ik(e){return Ak.fromString(e,!0,16)}var Nk=Ik("c3a5c85c97cb3127"),Rk=Ik("b492b66fbe98f273"),Ok=Ik("9ae16a3b2f90404f");function Dk(e){return e.xor(e.shru(47))}function Pk(e,t,n){var r=e.slice(t,t+n);return Ak.fromBytes(Array.from(r),!0,!0)}function Lk(e,t){return Pk(e,t,8)}function Fk(e,t){return Pk(e,t,4)}function jk(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function zk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ik("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var a=t.xor(r).mul(n);return a=(a=a.xor(a.shru(47))).mul(n)}function Bk(e,t,n,r){return function(e,t,n,r,a,i){a=a.add(e),i=jk(i.add(a).add(r),21);var o=a;return a=(a=a.add(t)).add(n),i=i.add(jk(a,44)),[a.add(r),i.add(o)]}(Lk(e,t),Lk(e,t+8),Lk(e,t+16),Lk(e,t+24),n,r)}function Uk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=Ak.fromNumber(81,!0);if(t<=32)return t<=16?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=Ok.add(2*t),r=Lk(e,0).add(Ok),a=Lk(e,t-8);return zk(jk(a,37).mul(n).add(r),jk(r,25).add(a).mul(n),n)}if(t>=4){var i=Ok.add(2*t);return zk(Fk(e,0).shl(3).add(t),Fk(e,t-4),i)}if(t>0){var o=e[0]+(e[t>>1]<<8),s=t+(e[t-1]<<2);return Dk(Ok.mul(o).xor(Nk.mul(s))).mul(Ok)}return Ok}(e,t):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=Ok.add(2*t),r=Lk(e,0).mul(Rk),a=Lk(e,8),i=Lk(e,t-8).mul(n),o=Lk(e,t-16).mul(Ok);return zk(jk(r.add(a),43).add(jk(i,30)).add(o),r.add(jk(a.add(Ok),18)).add(i),n)}(e,t);if(t<=64)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=Ok.add(2*t),r=Lk(e,0).mul(Ok),a=Lk(e,8),i=Lk(e,t-8).mul(n),o=Lk(e,t-16).mul(Ok),s=jk(r.add(a),43).add(jk(i,30)).add(o),l=zk(s,r.add(jk(a.add(Ok),18)).add(i),n),u=Lk(e,16).mul(n),c=Lk(e,24),d=s.add(Lk(e,t-32)).mul(n),h=l.add(Lk(e,t-24)).mul(n);return zk(jk(u.add(c),43).add(jk(d,30)).add(h),u.add(jk(c.add(r),18)).add(d),n)}(e,t);var r=n,a=n.mul(Rk).add(113),i=Dk(a.mul(Ok).add(113)).mul(Ok),o=[Ak.UZERO,Ak.UZERO],s=[Ak.UZERO,Ak.UZERO];r=r.mul(Ok).add(Lk(e,0));var l=0,u=64*(t-1>>6),c=u+(t-1&63)-63;do{r=jk(r.add(a).add(o[0]).add(Lk(e,l+8)),37).mul(Rk),a=jk(a.add(o[1]).add(Lk(e,l+48)),42).mul(Rk),r=r.xor(s[1]),a=a.add(o[0]).add(Lk(e,l+40)),i=jk(i.add(s[0]),33).mul(Rk),o=Bk(e,l,o[1].mul(Rk),r.add(s[0])),s=Bk(e,l+32,i.add(s[1]),a.add(Lk(e,l+16)));var d=[r,i];i=d[0],r=d[1],l+=64}while(l!==u);var h=Rk.add(i.and(255).shl(1));l=c,s[0]=s[0].add(t-1&63),o[0]=o[0].add(s[0]),s[0]=s[0].add(o[0]),r=jk(r.add(a).add(o[0]).add(Lk(e,l+8)),37).mul(h),a=jk(a.add(o[1]).add(Lk(e,l+48)),42).mul(h),r=r.xor(s[1].mul(9)),a=a.add(o[0].mul(9).add(Lk(e,l+40))),i=jk(i.add(s[0]),33).mul(h),o=Bk(e,l,o[1].mul(h),r.add(s[0])),s=Bk(e,l+32,i.add(s[1]),a.add(Lk(e,l+16)));var f=[r,i];return i=f[0],r=f[1],zk(zk(o[0],s[0],h).add(Dk(a).mul(Nk)).add(i),zk(o[1],s[1],h).add(r),h)}function Wk(e,t){return"string"===t?Hk(e):Zk([e],t)}function Zk(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Oy(e)),hb().getBool("DEBUG")&&function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),r=0;r<n.length;++r)0!==Math.round(e[r])&&(n[r]=1);return n}throw new Error("Unknown data type ".concat(t))}function Vk(){return hb().platform.now()}function Hk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",hb().platform.encode(e,t)}function Gk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",hb().platform.decode(e,t)}var qk=function(){function e(t,n){M(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new Xk)}return N(e,[{key:"profileKernel",value:function(e,t,n){var r,a,i=function(){r=n()},o=Vk();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(i);else{i();var s,l=X(r);try{for(l.s();!(s=l.n()).done;){s.value.dataSync()}}catch(d){l.e(d)}finally{l.f()}a=Promise.resolve({kernelMs:Vk()-o})}if(hb().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var u=function(){var t=r[c];t.data().then((function(n){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(n,"'")),!0}}(n,t.dtype,e)}))},c=0;c<r.length;c++)u();return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((function(e){return e.kernelMs})),extraInfo:a.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,a=e.timeMs,i=e.inputs,o=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),a,o]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],i,r[2])}))}))}}]),e}();var Xk=function(){function e(){M(this,e)}return N(e,[{key:"logKernelProfile",value:function(e,t,n,r,a,i){var o="number"===typeof r?jy("".concat(r,"ms"),9):r.error,s=jy(e,25),l=t.rank,u=t.size,c=jy(t.shape.toString(),14),d="";for(var h in a){var f=a[h];if(null!=f){var p=f.shape||t.shape,m=p.length;d+="".concat(h,": ").concat(m,"D ").concat(m>0?p:""," ")}}console.log("%c".concat(s,"\t%c").concat(o,"\t%c").concat(l,"D ").concat(c,"\t%c").concat(u,"\t%c").concat(d,"\t%c").concat(i),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();var Yk=20,Kk=3,Jk=7;function $k(e,t,n,r){var a=Qy(t),i=function(e,t,n,r){var a=Dy(t),i=r[r.length-1],o=new Array(i).fill(0),s=t.length,l="complex64"===n?nS(e):e;if(s>1)for(var u=0;u<a/i;u++)for(var c=u*i,d=0;d<i;d++)o[d]=Math.max(o[d],Qk(l[c+d],0,n).length);return o}(e,t,n,a),o=t.length,s=tS(e,t,n,a,i),l=["Tensor"];return r&&(l.push("  dtype: ".concat(n)),l.push("  rank: ".concat(o)),l.push("  shape: [".concat(t,"]")),l.push("  values:")),l.push(s.map((function(e){return"    "+e})).join("\n")),l.join("\n")}function Qk(e,t,n){return jy(Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(Jk))," + ")+"".concat(parseFloat(e[1].toFixed(Jk)),"j"):Xy(e)?"'".concat(e,"'"):"bool"===n?eS(e):parseFloat(e.toFixed(Jk)).toString(),t)}function eS(e){return 0===e?"false":"true"}function tS(e,t,n,r,a){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o="complex64"===n?2:1,s=t[0],l=t.length;if(0===l)return"complex64"===n?[Qk(nS(e)[0],0,n)]:"bool"===n?[eS(e[0])]:[e[0].toString()];if(1===l){if(s>Yk){var u=Kk*o,c=Array.from(e.slice(0,u)),d=Array.from(e.slice((s-Kk)*o,s*o));return"complex64"===n&&(c=nS(c),d=nS(d)),["["+c.map((function(e,t){return Qk(e,a[t],n)})).join(", ")+", ..., "+d.map((function(e,t){return Qk(e,a[s-Kk+t],n)})).join(", ")+"]"]}return["["+("complex64"===n?nS(e):Array.from(e)).map((function(e,t){return Qk(e,a[t],n)})).join(", ")+"]"]}var h=t.slice(1),f=r.slice(1),p=r[0]*o,m=[];if(s>Yk){for(var v=0;v<Kk;v++){var g=v*p,y=g+p;m.push.apply(m,(0,_.Z)(tS(e.slice(g,y),h,n,f,a,!1)))}m.push("...");for(var b=s-Kk;b<s;b++){var x=b*p,w=x+p;m.push.apply(m,(0,_.Z)(tS(e.slice(x,w),h,n,f,a,b===s-1)))}}else for(var k=0;k<s;k++){var S=k*p,T=S+p;m.push.apply(m,(0,_.Z)(tS(e.slice(S,T),h,n,f,a,k===s-1)))}var E=2===l?",":"";m[0]="["+m[0]+E;for(var C=1;C<m.length-1;C++)m[C]=" "+m[C]+E;for(var M=",\n",A=2;A<l;A++)M+="\n";return m[m.length-1]=" "+m[m.length-1]+"]"+(i?"":M),m}function nS(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var rS=function(){function e(t,n,r){var a=this;if(M(this,e),this.dtype=n,this.shape=t.slice(),this.size=Dy(t),null!=r){var i=r.length;Iy(i===this.size,(function(){return"Length of values '".concat(i,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Vy(n,this.size),this.strides=Qy(t)}return N(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),Iy(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var i=this.locToIndex(r);this.values[i]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,a=0,i=t;a<i.length;a++){var o=i[a];if(o<0||o>=this.shape[r]){var s="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(s)}r++}for(var l=t[t.length-1],u=0;u<t.length-1;++u)l+=this.strides[u]*t[u];return this.values[l]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return aS().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),aS=null,iS=null;var oS=function(){function e(t,n,r,a){M(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=Dy(t),this.strides=Qy(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return N(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",iS.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return iS.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",tb(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return tb(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=mo(fo().mark((function e(){var t,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=aS().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return Gk(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),aS().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=aS().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return Gk(e)}))}catch(Mte){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,aS().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(aS().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return iS.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),iS.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return $k(this.dataSync(),this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),iS.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),aS().makeVariable(this,e,t,n)}}]),e}();function sS(){return vb("Tensor",(function(){return oS}))}Object.defineProperty(oS,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),sS();var lS,uS,cS,dS,hS,fS=function(e){O(n,e);var t=z(n);function n(e,r,a,i){var o;return M(this,n),(o=t.call(this,e.shape,e.dtype,e.dataId,i)).trainable=r,o.name=a,o}return N(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!Py(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));aS().disposeTensor(this),this.dataId=e.dataId,aS().incRef(this,null)}},{key:"dispose",value:function(){aS().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(oS);Object.defineProperty(fS,Symbol.hasInstance,{value:function(e){return e instanceof oS&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(lS||(lS={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(uS||(uS={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(cS||(cS={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(dS||(dS={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(hS||(hS={}));var pS={float32:dS,int32:uS,bool:cS,complex64:hS};function mS(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return pS[e][t]}function vS(e){return mS(e,"int32")}function gS(e,t){if(e.dtype===t.dtype)return[e,t];var n=mS(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function yS(e,t){return t.some((function(t){return t.id===e.id}))}function bS(e){var t=[];return xS(e,t,new Set),t}function xS(e,t,n){if(null!=e)if(e instanceof oS)t.push(e);else if(r=e,Array.isArray(r)||"object"===typeof r){var r,a=e;for(var i in a){var o=a[i];n.has(o)||(n.add(o),xS(o,t,n))}}}function wS(e){return null!=e.kernelName}var kS=function(){function e(){M(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return N(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),SS=function(){function e(t){M(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new kS}return N(e,[{key:"ready",value:function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(bk("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new qk(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;Tk(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;Tk(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof Sy||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,i=r.then((function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return a<t.pendingBackendInitId||(t.pendingBackendInit=null,bk("Initialization of backend ".concat(e," failed")),bk(n.stack||n.message)),!1}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}catch(o){return bk("Initialization of backend ".concat(e," failed")),bk(o.stack||o.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,i=r.asyncInit;if(i||a)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(dfe){throw t(),dfe}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=CS.runKernel(Ax,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return CS.runKernel(zb,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=kk(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-a-i;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,a=this,i=[],o=this.isTapeOn(),s=this.state.numBytes,l=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var u=wS(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(wS(e)){var c=e.kernelName,d=e.inputs,h=e.attrs;null==this.backendName&&this.backend;var f=kk(c,this.backendName);Iy(null!=f,(function(){return"Cannot find registered kernel '".concat(c,"' for backend '").concat(a.backendName,"'")})),n=function(){var e=a.backend.numDataIds();r=f.kernelFunc({inputs:d,attrs:h,backend:a.backend});var t=Array.isArray(r)?r:[r];a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(c,e,t);var n=t.map((function(e){if(null!=e.rank)return e;var t=e.dataId,n=e.shape,r=e.dtype;return a.makeTensorFromDataId(t,n,r)}));if(o){var s=a.getTensorsForGradient(c,d,n);i=a.saveTensorsForBackwardMode(s)}return n}}else{var p=e.forwardFunc,m=function(e){o&&(i=e.map((function(e){return a.keep(a.clone(e))})))};n=function(){var e=a.backend.numDataIds();r=a.tidy((function(){return p(a.backend,m)}));var t=Array.isArray(r)?r:[r];return a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(u,e,t),t}}var v,g=e.inputs,y=e.attrs,b=wS(e)?null:e.backwardsFunc;return this.scopedRun((function(){return a.state.kernelDepth++}),(function(){return a.state.kernelDepth--}),(function(){a.ENV.getBool("DEBUG")||a.state.profiling?(v=a.profiler.profileKernel(u,g,(function(){return n()})),a.ENV.getBool("DEBUG")&&a.profiler.logKernelProfile(v),t=v.outputs):t=n()})),o&&this.addTapeNode(u,g,t,b,i,y),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-l,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(g).map((function(e){return null!=g[e]?g[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:v.timeMs,extraInfo:v.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this;return e.map((function(e){return t.keep(t.clone(e))}))}},{key:"getTensorsForGradient",value:function(e,t,n){var r=Sk(e);if(null!=r){var a,i=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(Iy(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),a=Object.keys(t).map((function(e){return t[e]}))):a=i.map((function(e){return t[e]}));var s=n.filter((function(e,t){return o[t]}));return a.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&Xy(e[0])&&(a=e.map((function(e){return Hk(e)})));var i=r.write(a,t,n),o=new oS(t,n,i,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){var s=this.state.tensorInfo.get(i),l=function(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}(a);this.state.numBytes+=l-s.bytes,s.bytes=l}return o}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var a=new oS(t,n=n||"float32",e,this.nextTensorId());return this.trackTensor(a,r),a}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var a=new fS(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*qy(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof fS||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*qy(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i,o;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,(0,_.Z)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,a=X(this.state.activeProfile.kernels),e.prev=12,a.s();case 14:if((i=a.n()).done){e.next=24;break}return o=i.value,e.next=18,o.kernelTimeMs;case 18:return o.kernelTimeMs=e.sent,e.next=21,o.extraInfo;case 21:o.extraInfo=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),a.e(e.t0);case 29:return e.prev=29,a.f(),e.finish(29);case 32:return e.abrupt("return",this.state.activeProfile);case 33:case"end":return e.stop()}}),e,this,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,a,i){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},l=Sk(e);null!=l&&(r=l.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=rb(r.size,r.dtype);return o.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a,i)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=bS(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var i=this.state.activeScope.track[a];i.kept||r.has(i.id)||i.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Iy(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var i=this.scopedRun((function(){return r.startTape()}),(function(){return r.endTape()}),(function(){return r.tidy("forward",e)}));Iy(i instanceof oS,(function(){return"The result y returned by f() must be a tensor."}));var o=function(e,t,n){for(var r={},a={},i=0;i<t.length;i++)r[t[i].id]=!0;for(var o=0;o<e.length;o++){var s=e[o],l=s.inputs;for(var u in l){for(var c=l[u],d=!1,h=0;h<t.length;h++)if(r[c.id]){s.outputs.forEach((function(e){return r[e.id]=!0})),d=!0,a[s.id]=!0;break}if(d)break}}var f={};f[n.id]=!0;for(var p={},m=e.length-1;m>=0;m--)for(var v=e[m],g=v.inputs,y=0;y<v.outputs.length;y++)if(f[v.outputs[y].id]){for(var b in g)f[g[b].id]=!0,p[v.id]=!0;break}for(var x=[],w=0;w<e.length;w++){var k=e[w];if(a[k.id]&&p[k.id]){var S={};for(var T in k.inputs){var E=k.inputs[T];r[E.id]&&(S[T]=E)}var C=Object.assign({},k);C.inputs=S,C.outputs=k.outputs,x.push(C)}}return x}(this.state.activeTape,t,i);if(!a&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[i.id]=null==n?function(e){var t=nb(Dy(e),"float32");return CS.makeTensor(t,e,"float32")}(i.shape):n,function(e,t,n,r){for(var a=function(){var a=t[i],o=[];if(a.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==a.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(a.kernelName,"."));var s=a.gradient(o),l=function(t){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));var i=n((function(){return s[t]()}));if("float32"!==i.dtype)throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(i.dtype,"'"));var o=a.inputs[t];if(!Py(i.shape,o.shape))throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(i.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=i;else{var l=e[o.id];e[o.id]=r(l,i),l.dispose()}};for(var u in a.inputs)l(u)},i=t.length-1;i>=0;i--)a()}(e,o,(function(e){return r.tidy(e)}),_S);var a=t.map((function(t){return e[t.id]}));return 0===r.state.gradientDepth&&(r.state.activeTape.forEach((function(e){var t,n=X(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(r){n.e(r)}finally{n.f()}})),r.state.activeTape=null),{value:i,grads:a}}))}},{key:"customGrad",value:function(e){var t=this;return Iy(Jy(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i;Iy(r.every((function(e){return e instanceof oS})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};r.forEach((function(e,t){o[t]=e}));return t.runKernelFunc({forwardFunc:function(t,n){return Iy((i=e.apply(void 0,[].concat(r,[n]))).value instanceof oS,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),Iy(Jy(i.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),i.value},backwardsFunc:function(e,t){var n=i.gradFunc(e,t),a=Array.isArray(n)?n:[n];Iy(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),Iy(a.every((function(e){return e instanceof oS})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return a.forEach((function(e,t){o[t]=function(){return e}})),o},inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vk(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=Vk()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new kS,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function TS(){var e=mb();if(null==e._tfengine){var t=new cb(e);e._tfengine=new SS(t)}return function(e){pb=e}(e._tfengine.ENV),function(e){aS=e}((function(){return e._tfengine})),e._tfengine}SS.nextTensorId=0,SS.nextVariableId=0;var ES,CS=TS();function _S(e,t){var n={a:e,b:t};return CS.runKernel(xb,n)}function MS(e){if(void 0!==ES)return ES;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function AS(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}var IS=hb();function NS(e,t){var n=e;if(Gy(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||Gy(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&hb().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&RS(e,r,[]),r}function RS(e,t,n){if(n=n||[],Array.isArray(e)||Gy(e)){Iy(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),Iy(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var r=t.slice(1),a=0;a<e.length;++a)RS(e[a],r,n.concat(a))}else Iy(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function OS(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function DS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof oS)return OS(r,e.dtype,t,n),e;var a=Ky(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),OS(r,a,t,n),null==e||!Gy(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var i=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(i,"'"))}var o=NS(e,a);Gy(e)||Array.isArray(e)||(e=[e]);var s="string"!==a?Zk(e,a):Oy(e,[],!0);return CS.makeTensor(s,o,a)}function PS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map((function(e,a){return DS(e,"".concat(t,"[").concat(a,"]"),n,r)}))}IS.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),IS.registerFlag("IS_BROWSER",(function(){return AS()})),IS.registerFlag("IS_NODE",(function(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node})),IS.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),IS.registerFlag("PROD",(function(){return!1})),IS.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return IS.getBool("DEBUG")})),IS.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),IS.registerFlag("IS_TEST",(function(){return!1})),IS.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),IS.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1}));var LS="__op";function FS(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=LS;var a=function(){CS.startScope(n);try{var e=r.apply(void 0,arguments);return lb(e)&&console.error("Cannot return a Promise inside of tidy."),CS.endScope(e),e}catch(dfe){throw CS.endScope(null),dfe}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}var jS=FS({complex_:function(e,t){var n=DS(e,"real","complex"),r=DS(t,"imag","complex");Ny(n.shape,r.shape,"real and imag shapes, ".concat(n.shape," and ").concat(r.shape,", ")+"must match in call to tf.complex().");var a={real:n,imag:r};return CS.runKernel(Wb,a)}});function zS(e,t,n,r){if(null==r&&(r=Ky(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Gy(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){ib(t);var a=Dy(t),i=Dy(n);Iy(a===i,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(a," values but has ").concat(i)}));for(var o=0;o<n.length;++o){var s=n[o],l=o!==n.length-1||s!==Dy(t.slice(o));Iy(n[o]===t[o]||!l,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return Gy(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Zk(e,r):Oy(e,[],!0),CS.makeTensor(e,t,r)}function BS(e,t,n){return zS(e,t,NS(e,n),n)}var US={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8},WS=4;function ZS(e,t){return VS.apply(this,arguments)}function VS(){return VS=mo(fo().mark((function e(t,n){var r,a,i,o,s,l;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=[],i=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),o=fo().mark((function e(){var o,l,u,c;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i[s],"float32"===(l=Array.isArray(t)?t[s].tensor:t[o]).dtype||"int32"===l.dtype||"bool"===l.dtype||"string"===l.dtype||"complex64"===l.dtype){e.next=4;break}throw new Error("Unsupported dtype in weight '".concat(o,"': ").concat(l.dtype));case 4:u={name:o,shape:l.shape,dtype:l.dtype},"string"===l.dtype?(c=new Promise(function(){var e=mo(fo().mark((function e(t){var n,r,a,i,o,s,u;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+WS*n.length,a=new Uint8Array(r),i=0,o=0;o<n.length;o++)s=n[o],u=new Uint8Array(new Uint32Array([s.length]).buffer),a.set(u,i),i+=WS,a.set(s,i),i+=s.length;t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.push(c)):a.push(l.data()),null!=n&&(u.group=n),r.push(u);case 8:case"end":return e.stop()}}),e)})),s=0;case 5:if(!(s<i.length)){e.next=10;break}return e.delegateYield(o(),"t0",7);case 7:++s,e.next=5;break;case 10:return e.next=12,Promise.all(a);case 12:return l=e.sent,e.abrupt("return",{data:GS(l),specs:r});case 14:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function HS(e,t){var n,r,a={},i=0,o=X(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,l=s.name,u=s.dtype,c=s.shape,d=Dy(c),h=void 0;if("quantization"in s){var f=s.quantization;if("uint8"===f.dtype||"uint16"===f.dtype){if(!("min"in f)||!("scale"in f))throw new Error("Weight ".concat(s.name," with quantization ").concat(f.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==f.dtype)throw new Error("Weight ".concat(s.name," has unknown ")+"quantization dtype ".concat(f.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==u)throw new Error("Weight ".concat(s.name," is quantized with ").concat(f.dtype," ")+"which only supports weights of type float32 not ".concat(u,"."))}var p=US[f.dtype],m=e.slice(i,i+d*p),v="uint8"===f.dtype?new Uint8Array(m):new Uint16Array(m);if("float32"===u)if("uint8"===f.dtype||"uint16"===f.dtype){h=new Float32Array(v.length);for(var g=0;g<v.length;g++){var y=v[g];h[g]=y*f.scale+f.min}}else{if("float16"!==f.dtype)throw new Error("Unsupported quantization type ".concat(f.dtype," ")+"for weight type float32.");void 0===n&&(n=rT()),h=n(v)}else{if("int32"!==u)throw new Error("Unsupported dtype in weight '".concat(l,"': ").concat(u));if("uint8"!==f.dtype&&"uint16"!==f.dtype)throw new Error("Unsupported quantization type ".concat(f.dtype," ")+"for weight type int32.");h=new Int32Array(v.length);for(var b=0;b<v.length;b++){var x=v[b];h[b]=Math.round(x*f.scale+f.min)}}i+=d*p}else if("string"===u){var w=Dy(s.shape);h=[];for(var k=0;k<w;k++){var S=new Uint32Array(e.slice(i,i+WS))[0];i+=WS;var T=new Uint8Array(e.slice(i,i+S));h.push(T),i+=S}}else{var E=US[u],C=e.slice(i,i+d*E);if("float32"===u)h=new Float32Array(C);else if("int32"===u)h=new Int32Array(C);else if("bool"===u)h=new Uint8Array(C);else{if("complex64"!==u)throw new Error("Unsupported dtype in weight '".concat(l,"': ").concat(u));h=new Float32Array(C);for(var _=new Float32Array(h.length/2),M=new Float32Array(h.length/2),A=0;A<_.length;A++)_[A]=h[2*A],M[A]=h[2*A+1];var I=BS(_,c,"float32"),N=BS(M,c,"float32");a[l]=jS(I,N),I.dispose(),N.dispose()}i+=d*E}"complex64"!==u&&(a[l]=BS(h,c,u))}}catch(R){o.e(R)}finally{o.f()}return a}function GS(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),a=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}var qS="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function XS(e){return qS?Buffer.byteLength(e):new Blob([e]).size}function YS(e){if(qS)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function KS(e){if(qS){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),a=0;a<n.length;++a)r.set([n.charCodeAt(a)],a);return r.buffer}function JS(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function $S(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function QS(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=mo(fo().mark((function e(t,n){var r,a,i,o,s;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},null!=t.trainingConfig&&(r.trainingConfig=t.trainingConfig),null==t.weightsManifest){e.next=11;break}return e.next=5,n(t.weightsManifest);case 5:a=e.sent,i=(0,Z.Z)(a,2),o=i[0],s=i[1],r.weightSpecs=o,r.weightData=s;case 11:return null!=t.signature&&(r.signature=t.signature),null!=t.userDefinedMetadata&&(r.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(r.modelInitializer=t.modelInitializer),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:XS(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:XS(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function rT(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var a=new ArrayBuffer(4*r.length),i=new Uint32Array(a),o=0;o<r.length;o++){var s=r[o],l=e[n[s>>10]+(1023&s)]+t[s>>10];i[o]=l}return new Float32Array(a)}}var aT=function(){function e(){M(this,e),this.saveRouters=[],this.loadRouters=[]}return N(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a}}]),e}(),iT=function(e){return aT.registerSaveRouter(e)},oT=function(e){return aT.registerLoadRouter(e)},sT=function(e){return aT.getSaveHandlers(e)},lT=function(e,t){return aT.getLoadHandlers(e,t)},uT="tensorflowjs",cT="models_store",dT="model_info_store";function hT(){if(!hb().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function fT(e){var t=e.result;t.createObjectStore(cT,{keyPath:"modelPath"}),t.createObjectStore(dT,{keyPath:"modelPath"})}var pT=function(){function e(t){if(M(this,e),this.indexedDB=hT(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return N(e,[{key:"save",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open(uT,1);a.onupgradeneeded=function(){return fT(a)},a.onsuccess=function(){var i=a.result;if(null==t){var o=i.transaction(cT,"readonly"),s=o.objectStore(cT).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return i.close(),r(s.error)},o.oncomplete=function(){return i.close()}}else{var l,u=nT(t),c=i.transaction(dT,"readwrite"),d=c.objectStore(dT),h=d.put({modelPath:n.modelPath,modelArtifactsInfo:u});h.onsuccess=function(){var a=(l=i.transaction(cT,"readwrite")).objectStore(cT).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:u});a.onsuccess=function(){return e({modelArtifactsInfo:u})},a.onerror=function(e){var t=(d=c.objectStore(dT)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(a.error)},t.onerror=function(e){return i.close(),r(a.error)}}},h.onerror=function(e){return i.close(),r(h.error)},c.oncomplete=function(){null==l?i.close():l.oncomplete=function(){return i.close()}}}},a.onerror=function(e){return r(a.error)}}))}}]),e}();pT.URL_SCHEME="indexeddb://";var mT=function(e){return hb().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(pT.URL_SCHEME)?(t=e.slice(pT.URL_SCHEME.length),new pT(t)):null;var t};function vT(e){return e.startsWith(pT.URL_SCHEME)?e.slice(pT.URL_SCHEME.length):e}aT.registerSaveRouter(mT),aT.registerLoadRouter(mT);var gT=function(){function e(){M(this,e),this.indexedDB=hT()}return N(e,[{key:"listModels",value:function(){var e=mo(fo().mark((function e(){var t=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(uT,1);r.onupgradeneeded=function(){return fT(r)},r.onsuccess=function(){var t=r.result,a=t.transaction(dT,"readonly"),i=a.objectStore(dT).getAll();i.onsuccess=function(){var t,n={},r=X(i.result);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.modelPath]=a.modelArtifactsInfo}}catch(o){r.e(o)}finally{r.f()}e(n)},i.onerror=function(e){return t.close(),n(i.error)},a.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=mo(fo().mark((function e(t){var n=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=vT(t),e.abrupt("return",new Promise((function(e,r){var a=n.indexedDB.open(uT,1);a.onupgradeneeded=function(){return fT(a)},a.onsuccess=function(){var n,i=a.result,o=i.transaction(dT,"readwrite"),s=o.objectStore(dT),l=s.get(t);l.onsuccess=function(){if(null==l.result)return i.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var a=s.delete(t),o=function(){var a=(n=i.transaction(cT,"readwrite")).objectStore(cT).delete(t);a.onsuccess=function(){return e(l.result.modelArtifactsInfo)},a.onerror=function(e){return r(l.error)}};a.onsuccess=o,a.onerror=function(e){return o(),i.close(),r(l.error)}},l.onerror=function(e){return i.close(),r(l.error)},o.oncomplete=function(){null==n?i.close():n.oncomplete=function(){return i.close()}}},a.onerror=function(e){return r(a.error)}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),yT="/",bT="tensorflowjs_models",xT="info",wT="model_topology",kT="weight_specs",ST="weight_data",TT="model_metadata";function ET(e){return{info:[bT,e,xT].join(yT),topology:[bT,e,wT].join(yT),weightSpecs:[bT,e,kT].join(yT),weightData:[bT,e,ST].join(yT),modelMetadata:[bT,e,TT].join(yT)}}function CT(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function _T(e){var t=e.split(yT);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(yT)}function MT(e){return e.startsWith(AT.URL_SCHEME)?e.slice(AT.URL_SCHEME.length):e}var AT=function(){function e(t){if(M(this,e),!hb().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=ET(this.modelPath)}return N(e,[{key:"save",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=nT(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,YS(t.weightData)),i={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),e.abrupt("return",{modelArtifactsInfo:a});case 17:throw e.prev=17,e.t0=e.catch(7),CT(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."));case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a,i,o,s;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=a,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(i),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,null!=o.signature&&(n.signature=o.signature),null!=o.userDefinedMetadata&&(n.userDefinedMetadata=o.userDefinedMetadata),null!=o.modelInitializer&&(n.modelInitializer=o.modelInitializer),null!=o.trainingConfig&&(n.trainingConfig=o.trainingConfig)),null!=(s=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=KS(s),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();AT.URL_SCHEME="localstorage://";var IT=function(e){return hb().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(AT.URL_SCHEME)?(t=e.slice(AT.URL_SCHEME.length),new AT(t)):null;var t};aT.registerSaveRouter(IT),aT.registerLoadRouter(IT);var NT=function(){function e(){M(this,e),Iy(hb().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),Iy("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return N(e,[{key:"listModels",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a,i,o;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=bT+yT,r=yT+xT,a=0;a<this.LS.length;++a)(i=this.LS.key(a)).startsWith(n)&&i.endsWith(r)&&(o=_T(i),t[o]=JSON.parse(this.LS.getItem(i)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=MT(t),n=ET(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),CT(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),RT="://",OT=function(){function e(){M(this,e),this.managers={}}return N(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){Iy(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(RT)&&(t=t.slice(0,t.indexOf(RT))),Iy(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();Iy(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),e}();function DT(e){if(-1===e.indexOf(RT))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(OT.getSchemes().join(",")));return{scheme:e.split(RT)[0],path:e.split(RT)[1]}}function PT(e,t){return LT.apply(this,arguments)}function LT(){return LT=mo(fo().mark((function e(t,n){var r,a,i,o,s,l,u,c,d,h,f=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>2&&void 0!==f[2]&&f[2],Iy(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),Iy((a=aT.getLoadHandlers(t)).length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),Iy(a.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"load handlers for source URL ".concat(t,".")})),i=a[0],Iy((o=aT.getSaveHandlers(n)).length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),Iy(o.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"save handlers for destination URL ".concat(n,".")})),s=o[0],l=DT(t).scheme,u=DT(t).path,c=l===DT(t).scheme,e.next=15,i.load();case 15:if(d=e.sent,!r||!c){e.next=19;break}return e.next=19,OT.getManager(l).removeModel(u);case 19:return e.next=21,s.save(d);case 21:if(h=e.sent,!r||c){e.next=25;break}return e.next=25,OT.getManager(l).removeModel(u);case 25:return e.abrupt("return",h.modelArtifactsInfo);case 26:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function FT(){return jT.apply(this,arguments)}function jT(){return(jT=mo(fo().mark((function e(){var t,n,r,a,i,o,s;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=OT.getSchemes(),n={},r=X(t),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=13;break}return i=a.value,e.next=9,OT.getManager(i).listModels();case 9:for(s in o=e.sent)n[i+RT+s]=o[s];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))).apply(this,arguments)}function zT(e){return BT.apply(this,arguments)}function BT(){return BT=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=DT(t),r=OT.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}}),e)}))),BT.apply(this,arguments)}function UT(e,t){return WT.apply(this,arguments)}function WT(){return(WT=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",PT(t,n,false));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZT(e,t){return VT.apply(this,arguments)}function VT(){return(VT=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",PT(t,n,true));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HT=function(){function e(){M(this,e)}return N(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}}]),e}();if(hb().get("IS_BROWSER")){hb().setPlatform("browser",new HT);try{OT.registerManager(AT.URL_SCHEME,new NT)}catch(JNe){}try{OT.registerManager(pT.URL_SCHEME,new gT)}catch(JNe){}}var GT,qT=function(){return n(5410)};var XT=function(){function e(){M(this,e),this.util=n(8628),this.textEncoder=new this.util.TextEncoder}return N(e,[{key:"fetch",value:function(e,t){return null!=hb().global.fetch?hb().global.fetch(e,t):(null==GT&&(GT=qT()),GT(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),e}();function YT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",ib(e),new rS(e,t,n)}hb().get("IS_NODE")&&hb().setPlatform("node",new XT);var KT=FS({cast_:function(e,t){var n=DS(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={x:n},a={dtype:t};return CS.runKernel(zb,r,a)}});var JT=FS({clone_:function(e){var t={x:DS(e,"x","clone","string_or_numeric")};return CS.runKernel(Ax,t)}});function $T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}TS(),iS={buffer:YT,cast:KT,clone:JT,print:$T};function QT(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var eE=function(){function e(t){if(M(this,e),!hb().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return N(e,[{key:"save",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i,o,s;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a=QS(t,r),i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,o.href=i,e.next=15,QT((function(){return o.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==t.weightData){e.next=21;break}return(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,e.next=21,QT((function(){return s.dispatchEvent(new MouseEvent("click"))}));case 21:return e.abrupt("return",{modelArtifactsInfo:nT(t)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();eE.URL_SCHEME="downloads://";var tE=function(){function e(t){if(M(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return N(e,[{key:"load",value:function(){var e=mo(fo().mark((function e(){var t=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var a=JSON.parse(r.target.result),i=a.modelTopology;if(null!=i)if(null!=a.weightsManifest)if(0!==t.weightsFiles.length){var o=eT(a,(function(e){return t.loadWeights(e)}));e(o)}else e({modelTopology:i});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},r.readAsText(t.jsonFile)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t,n=this,r=[],a=[],i=X(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;r.push.apply(r,(0,_.Z)(o.weights)),a.push.apply(a,(0,_.Z)(o.paths))}}catch(JNe){i.e(JNe)}finally{i.f()}var s=this.checkManifestAndWeightFiles(e),l=a.map((function(e){return n.loadWeightsFile(e,s[e])}));return Promise.all(l).then((function(e){return[r,JS(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var a=new FileReader;a.onload=function(e){var t=e.target.result;n(t)},a.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},a.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t,n=this,r=[],a=this.weightsFiles.map((function(e){return $S(e.name)})),i={},o=X(e);try{for(o.s();!(t=o.n()).done;){t.value.paths.forEach((function(e){var t=$S(e);if(-1!==r.indexOf(t))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(t,"'"));if(r.push(t),-1===a.indexOf(t))throw new Error("Weight file with basename '".concat(t,"' is not provided."));i[e]=n.weightsFiles[a.indexOf(t)]}))}}catch(JNe){o.e(JNe)}finally{o.f()}if(r.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return i}}]),e}();function nE(e){return new tE(e)}function rE(e,t,n,r){!function(e){Iy(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){Iy(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),Iy(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),Iy(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(i){return i.then((function(i){var o=n+ ++a/e.length*(r-n);return t(o),i})),i})))}function aE(e,t){return iE.apply(this,arguments)}function iE(){return(iE=mo(fo().mark((function e(t,n){var r,a,i,o,s,l,u,c,d;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?hb().platform.fetch:n.fetchFunc,a=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),i=0,o=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(a);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,rE(a,n.onProgress,i,o);case 13:e.t0=e.sent;case 14:if(s=e.t0,l=s.map((function(e){return e.arrayBuffer()})),u=.5,c=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(l);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,rE(l,n.onProgress,u,c);case 26:e.t1=e.sent;case 27:return d=e.t1,e.abrupt("return",d);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oE(e){return sE.apply(this,arguments)}function sE(){return sE=mo(fo().mark((function e(t){var n,r,a,i,o=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2?o[2]:void 0,a=o.length>3?o[3]:void 0,i=lE((function(e){return aE(e,{requestInit:a})})),e.abrupt("return",i(t,n,r));case 6:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function lE(e){return function(){var t=mo(fo().mark((function t(n){var r,a,i,o,s,l,u,c,d,h,f,p,m=arguments;return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=m.length>1&&void 0!==m[1]?m[1]:"",a=m.length>2?m[2]:void 0,i=n.map((function(){return!1})),o={},s=null!=a?a.map((function(){return!1})):[],l=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,u=US[r]*Dy(e.shape),c=function(){i[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=a?a.forEach((function(t,n){t===e.name&&(c(),s[n]=!0)})):c(),l.push(e.name),n+=u}))})),s.every((function(e){return e}))){t.next=10;break}throw u=a.filter((function(e,t){return!s[t]})),new Error("Could not find weights in manifest with names: "+"".concat(u.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(l.join(", "),"."));case 10:return c=i.reduce((function(e,t,n){return t&&e.push(n),e}),[]),d=[],c.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;d.push(t)}))})),t.next=15,e(d);case 15:return h=t.sent,f={},p=0,c.forEach((function(e){for(var t=n[e].paths.length,r=0,a=0;a<t;a++)r+=h[p+a].byteLength;for(var i=new ArrayBuffer(r),s=new Uint8Array(i),l=0,u=0;u<t;u++){var c=new Uint8Array(h[p+u]);s.set(c,l),l+=c.byteLength}o[e].forEach((function(e){var t=HS(i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)f[n]=t[n]})),p+=t})),t.abrupt("return",f);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}aT.registerSaveRouter((function(e){return hb().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(eE.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new eE(e)}(e.slice(eE.URL_SCHEME.length)):null}));var uE=function(){function e(t,n){if(M(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?(Iy("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=hb().platform.fetch,Iy(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&Iy(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return N(e,[{key:"save",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a=QS(t,r),n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=10,this.fetch(this.path,n);case 10:if(!(i=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:nT(t),responses:[i]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(i.status,"."));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a,i,o=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(a=n.modelTopology,i=n.weightsManifest,null!=a||null!=i){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",eT(n,(function(e){return o.loadWeights(e)})));case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i,o,s,l,u,c,d,h,f,p,m,v,g,y,b,x;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=cE(n),a=(0,Z.Z)(r,2),i=a[0],o=a[1],s=this.weightPathPrefix||i,l=[],u=X(t);try{for(u.s();!(c=u.n()).done;)d=c.value,l.push.apply(l,(0,_.Z)(d.weights))}catch(JNe){u.e(JNe)}finally{u.f()}h=[],f=[],p=X(t);try{for(p.s();!(m=p.n()).done;){v=m.value,g=X(v.paths);try{for(g.s();!(y=g.n()).done;)b=y.value,null!=this.weightUrlConverter?f.push(this.weightUrlConverter(b)):h.push(s+b+o)}catch(JNe){g.e(JNe)}finally{g.f()}}}catch(JNe){p.e(JNe)}finally{p.f()}if(!this.weightUrlConverter){e.next=19;break}return e.t0=h.push,e.t1=h,e.t2=_.Z,e.next=16,Promise.all(f);case 16:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 19:return e.next=21,aE(h,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 21:return x=e.sent,e.abrupt("return",[l,JS(x)]);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function cE(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function dE(e){return null!=e.match(uE.URL_SCHEME_REGEX)}uE.URL_SCHEME_REGEX=/^https?:\/\//;var hE=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return dE(e)})):dE(e))?fE(e,t):null};function fE(e,t){return new uE(e,t)}function pE(e,t){return fE(e,t)}aT.registerSaveRouter(hE),aT.registerLoadRouter(hE);var mE,vE=function(){function e(t){M(this,e),this.modelArtifacts=t}return N(e,[{key:"load",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.modelArtifacts);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gE=function(){function e(t){M(this,e),this.saveHandler=t}return N(e,[{key:"save",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.saveHandler(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function yE(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new vE(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new vE({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new vE({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function bE(e){return new gE(e)}function xE(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&1===o&&r.unshift(i)}return r}function wE(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],i=t.length-r-1,o=t[i];(null==a||1===a&&o>1)&&n.unshift(i)}return n}function kE(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var i=e[e.length-a-1];null==i&&(i=1);var o=t[t.length-a-1];if(null==o&&(o=1),1===i)n.unshift(o);else if(1===o)n.unshift(i);else{if(i!==o){var s="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(s)}n.unshift(i)}}return n}function SE(e,t,n){if(Ry(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=NS(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return zS(e,t,r,n)}function TE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,o=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(a){if(a&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=kk(pk,CS.backendName)){var l={pixels:e},u={numChannels:t};return CS.runKernel(pk,l,u)}var c,d,h=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],f=(0,Z.Z)(h,2),p=f[0],m=f[1];if(o)c=e.getContext("2d").getImageData(0,0,p,m).data;else if(r||n)c=e.data;else if(i||a||s){if(null==mE)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");mE=new OffscreenCanvas(1,1).getContext("2d")}else mE=document.createElement("canvas").getContext("2d");mE.canvas.width=p,mE.canvas.height=m,mE.drawImage(e,0,0,p,m),c=mE.getImageData(0,0,p,m).data}if(4===t)d=new Int32Array(c);else{var v=p*m;d=new Int32Array(v*t);for(var g=0;g<v;g++)for(var y=0;y<t;++y)d[g*t+y]=c[4*g+y]}return SE(d,[m,p,t],"int32")}var EE=FS({fromPixels_:TE}),CE=-2,_E=-1;function ME(e,t,n){var r=e.shape.length;Iy(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")})),Iy(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")}));for(var a=function(a){Iy(t[a]+n[a]<=e.shape[a],(function(){return"Error in slice".concat(r,"D: begin[").concat(a,"] + size[").concat(a,"] ")+"(".concat(t[a]+n[a],") would overflow input.shape[").concat(a,"] (").concat(e.shape[a],")")}))},i=0;i<r;++i)a(i)}function AE(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function IE(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(var i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function NE(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function RE(e,t,n){var r,a,i=e.shape.length;return(r="number"===typeof t?[t].concat((0,_.Z)(new Array(i-1).fill(0))):t.length<i?t.concat(new Array(i-t.length).fill(0)):t.slice()).forEach((function(e){Iy(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),a=(a=null==n?new Array(i).fill(-1):"number"===typeof n?[n].concat((0,_.Z)(new Array(i-1).fill(-1))):n.length<i?n.concat(new Array(i-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(Iy(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-r[n])})),[r,a]}function OE(e,t,n,r,a,i,o,s,l){var u;if(null==r?(u=new Array(t.length)).fill(1):u=r,null!=o&&0!==(o&o-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var c=!1,d={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:a,endMask:i,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:l},h=0;h<d.dims;h++)c&&0!==(1<<h&s)&&d.numAddAxisAfterEllipsis++,1<<h&o&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);var f={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(CE),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(_E),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,f);for(var p=!0,m=!0,v=!0,g=[],y=[],b=0;b<e.length;++b){if(0===f.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));var x=!!(f.shrinkAxisMask&1<<b),w=e[b];if(-1!==w){var k=[f.beginMask&1<<b,f.endMask&1<<b],S=[f.strides[b]>0?0:-1,f.strides[b]>0?w:w-1];if(x&&f.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");v=v&&1===f.strides[b];var T=!!(f.beginMask&1<<b&&f.endMask&1<<b);if(f.beginValid&&f.endValid){if(x){var E=f.begin[b]<0?w+f.begin[b]:f.begin[b];if(f.begin[b]=E,f.end[b]=f.begin[b]+1,E<0||E>=w)throw Error("slice index ".concat(f.begin[b]," of dimension ").concat(b," out of bounds."))}else f.begin[b]=DE(f.begin[b],0,f.strides[b],w,k,S),f.end[b]=DE(f.end[b],1,f.strides[b],w,k,S);var C=1===f.strides[b]&&0===f.begin[b]&&f.end[b]===w;p=p&&C,m=m&&(0===b&&1===f.strides[b]||C)}else p=p&&1===f.strides[b]&&T,m=m&&(0===b&&1===f.strides[b]||T);var _=void 0,M=!1;if(f.beginValid&&f.endValid?(_=f.end[b]-f.begin[b],M=!0):x?(_=1,M=!0):T&&w>=0&&(_=f.strides[b]<0?-w:w,M=!0),M){var A=void 0;A=0===_||_<0!==f.strides[b]<0?0:Math.trunc(_/f.strides[b])+(_%f.strides[b]!==0?1:0),g.push(A)}else g.push(-1)}else g.push(x?1:-1)}for(var I=0;I<f.finalShapeGatherIndices.length;++I){var N=f.finalShapeGatherIndices[I];N>=0?y.push(g[N]):N===CE&&y.push(1)}var R=y.filter((function(e,t){return f.finalShapeGatherIndices[t]!==CE}));return{finalShapeSparse:R,finalShape:y,isIdentity:p,sliceDim0:m,isSimpleSlice:v,begin:f.begin,end:f.end,strides:f.strides}}function DE(e,t,n,r,a,i){if(a[t])return n>0?i[t]:i[t+1&1];var o=e<0?r+e:e;return o<i[0]?i[0]:o>i[1]?i[1]:o}var PE=function(){function e(){M(this,e)}return N(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),LE=function(){function e(){M(this,e),this.classNameMap={}}return N(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function FE(e){Iy(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),Iy("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),Iy(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),LE.register(e)}function jE(){return CS}function zE(){return CS.memory()}function BE(e,t){return CS.tidy(e,t)}function UE(e){bS(e).forEach((function(e){return e.dispose()}))}function WE(e){return CS.keep(e)}function ZE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return CS.registerBackend(e,t,n)}function VE(e){return CS.customGrad(e)}function HE(e,t){if((Gy(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Gy(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return zS(e,[],[],t)}!function(e){e}((function(e){hb().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}));var GE=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),a=r.value,i=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:i[e.name]}}));this.applyGradients(o)}else this.applyGradients(i);return UE(i),t?a:(a.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return function(e,t){Iy(Jy(e),(function(){return"The f passed in variableGrads(f) must be a function"})),Iy(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof fS})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],CS.registeredVariables)t.push(CS.registeredVariables[r]);var a=n?t.filter((function(e){return!e.trainable})):null,i=t.length;t=t.filter((function(e){return e.trainable})),Iy(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(i," variables is ")+"trainable."}));var o=CS.gradients(e,t,null,!0),s=o.value,l=o.grads;Iy(l.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),Iy(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(s.rank," tensor")}));var u={};return t.forEach((function(e,t){null!=l[t]&&(u[e.name]=l[t])})),null!=a&&a.forEach((function(e){return u[e.name]=null})),{value:s,grads:u}}(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&UE(this.iterations_)}},{key:"saveIterations",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:HE(this.iterations_,"int32")});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(PE);Object.defineProperty(GE,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var qE=FS({abs_:function(e){var t=DS(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return CS.runKernel(Zb,n)}var r={x:t};return CS.runKernel(gb,r)}});var XE=FS({acos_:function(e){var t={x:DS(e,"x","acos")};return CS.runKernel(yb,t)}});var YE=FS({acosh_:function(e){var t={x:DS(e,"x","acosh")};return CS.runKernel(bb,t)}});var KE=FS({add_:function(e,t){var n=DS(e,"a","add"),r=DS(t,"b","add"),a=gS(n,r),i=(0,Z.Z)(a,2),o={a:n=i[0],b:r=i[1]};return CS.runKernel(xb,o)}});var JE=FS({addN_:function(e){Iy(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),Iy(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return DS(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!Py(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return CS.runKernel(wb,r)}});var $E=FS({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:DS(e,"x","all","bool")},a={axis:t,keepDims:n};return CS.runKernel(kb,r,a)}});var QE=FS({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:DS(e,"x","any","bool")},a={axis:t,keepDims:n};return CS.runKernel(Sb,r,a)}});var eC=FS({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:DS(e,"x","argMax")},r={axis:t};return CS.runKernel(Tb,n,r)}});var tC=FS({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:DS(e,"x","argMin")},r={axis:t};return CS.runKernel(Eb,n,r)}});var nC=FS({asin_:function(e){var t={x:DS(e,"x","asin")};return CS.runKernel(Cb,t)}});var rC=FS({asinh_:function(e){var t={x:DS(e,"x","asinh")};return CS.runKernel(_b,t)}});var aC=FS({atan_:function(e){var t={x:DS(e,"x","atan")};return CS.runKernel(Mb,t)}});var iC=FS({atan2_:function(e,t){var n=DS(e,"a","atan2"),r=DS(t,"b","atan2"),a=gS(n,r),i=(0,Z.Z)(a,2),o={a:n=i[0],b:r=i[1]};return CS.runKernel(Ib,o)}});var oC=FS({atanh_:function(e){var t={x:DS(e,"x","atanh")};return CS.runKernel(Ab,t)}});function sC(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5?arguments[5]:void 0,o=e[3];return cC(e,[].concat((0,_.Z)(t),[o]),n,i,r,null,null,bC(a))}function lC(e,t,n,r,a,i){var o,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",l=fC(t),u=(0,Z.Z)(l,2),c=u[0],d=u[1];if("channelsLast"===s)o=[c,d,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));o=[c,d,e[1],e[1]]}return cC(e,o,n,r,a,i,!1,s)}function uC(e,t,n,r,a,i){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",u=pC(t),c=(0,Z.Z)(u,3),d=c[0],h=c[1],f=c[2];if("NDHWC"===l)s="channelsLast",o=[d,h,f,e[4],e[4]];else{if("NCDHW"!==l)throw new Error("Unknown dataFormat ".concat(l));s="channelsFirst",o=[d,h,f,e[1],e[1]]}return dC(e,o,n,r,a,!1,s,i)}function cC(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",l=-1,u=-1,c=-1,d=-1;if("channelsLast"===s){var h=(0,Z.Z)(e,4);l=h[0],u=h[1],c=h[2],d=h[3]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var f=(0,Z.Z)(e,4);l=f[0],d=f[1],u=f[2],c=f[3]}var p,m=(0,Z.Z)(t,4),v=m[0],g=m[1],y=m[3],b=fC(n),x=(0,Z.Z)(b,2),w=x[0],k=x[1],S=fC(r),T=(0,Z.Z)(S,2),E=T[0],C=T[1],_=mC(v,E),M=mC(g,C),A=function(e,t,n,r,a,i,o,s,l){var u,c,d;if("number"===typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var h=function(e,t,n,r,a){null==r&&(r=hC(e,t,n));var i=e[0],o=e[1],s=vC((i-t+2*r)/n+1,a),l=vC((o-t+2*r)/n+1,a);return[s,l]}([t,n],i,r,e,s);c=h[0],d=h[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/a);var f=Math.max(0,(c-1)*r+i-t),p=Math.max(0,(d-1)*a+o-n),m=Math.floor(f/2),v=f-m,g=Math.floor(p/2);u={top:m,bottom:v,left:g,right:p-g,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),d=Math.ceil((n-o+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var y="channelsLast"===l?e[1][0]:e[2][0],b="channelsLast"===l?e[1][1]:e[2][1],x="channelsLast"===l?e[2][0]:e[3][0],w="channelsLast"===l?e[2][1]:e[3][1];u={top:y,bottom:b,left:x,right:w,type:0===y&&0===b&&0===x&&0===w?"VALID":"EXPLICIT"},c=vC((t-i+y+b)/r+1,s),d=vC((n-o+x+w)/a+1,s)}return{padInfo:u,outHeight:c,outWidth:d}}(a,u,c,w,k,_,M,i,s),I=A.padInfo,N=A.outHeight,R=A.outWidth,O=o?y*d:y;return"channelsFirst"===s?p=[l,O,N,R]:"channelsLast"===s&&(p=[l,N,R,O]),{batchSize:l,dataFormat:s,inHeight:u,inWidth:c,inChannels:d,outHeight:N,outWidth:R,outChannels:O,padInfo:I,strideHeight:w,strideWidth:k,filterHeight:v,filterWidth:g,effectiveFilterHeight:_,effectiveFilterWidth:M,dilationHeight:E,dilationWidth:C,inShape:e,outShape:p,filterShape:t}}function dC(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,l=-1,u=-1,c=-1,d=-1,h=-1;if("channelsLast"===o){var f=(0,Z.Z)(e,5);l=f[0],u=f[1],c=f[2],d=f[3],h=f[4]}else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat ".concat(o));var p=(0,Z.Z)(e,5);l=p[0],h=p[1],u=p[2],c=p[3],d=p[4]}var m,v=(0,Z.Z)(t,5),g=v[0],y=v[1],b=v[2],x=v[4],w=pC(n),k=(0,Z.Z)(w,3),S=k[0],T=k[1],E=k[2],C=pC(r),_=(0,Z.Z)(C,3),M=_[0],A=_[1],I=_[2],N=mC(g,M),R=mC(y,A),O=mC(b,I),D=function(e,t,n,r,a,i,o,s,l,u,c){var d,h,f,p;if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,a,i){null==a&&(a=hC(e,t,r));var o=e[0],s=e[1],l=e[2],u=vC((o-t+2*a)/r+1,i),c=vC((s-t+2*a)/r+1,i),d=vC((l-t+2*a)/r+1,i);return[u,c,d,n]}([t,n,r,1],s,1,a,e,c);h=m[0],f=m[1],p=m[2]}else if("same"===e){var v=((h=Math.ceil(t/a))-1)*a+s-t,g=((f=Math.ceil(n/i))-1)*i+l-n,y=((p=Math.ceil(r/o))-1)*o+u-r,b=Math.floor(v/2),x=v-b,w=Math.floor(g/2),k=g-w,S=Math.floor(y/2);d={top:w,bottom:k,left:S,right:y-S,front:b,back:x,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},h=Math.ceil((t-s+1)/a),f=Math.ceil((n-l+1)/i),p=Math.ceil((r-u+1)/o)}return{padInfo:d,outDepth:h,outHeight:f,outWidth:p}}(a,u,c,d,S,T,E,N,R,O,s),P=D.padInfo,L=D.outDepth,F=D.outHeight,j=D.outWidth,z=i?x*h:x;return"channelsFirst"===o?m=[l,z,L,F,j]:"channelsLast"===o&&(m=[l,L,F,j,z]),{batchSize:l,dataFormat:o,inDepth:u,inHeight:c,inWidth:d,inChannels:h,outDepth:L,outHeight:F,outWidth:j,outChannels:z,padInfo:P,strideDepth:S,strideHeight:T,strideWidth:E,filterDepth:g,filterHeight:y,filterWidth:b,effectiveFilterDepth:N,effectiveFilterHeight:R,effectiveFilterWidth:O,dilationDepth:M,dilationHeight:A,dilationWidth:I,inShape:e,outShape:m,filterShape:t}}function hC(e,t,n){var r=mC(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function fC(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function pC(e){return"number"===typeof e?[e,e,e]:e}function mC(e,t){return t<=1?e:e+(e-1)*(t-1)}function vC(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function gC(e){var t=fC(e),n=(0,Z.Z)(t,3),r=n[0],a=n[1],i=n[2];return 1===r&&1===a&&1===i}function yC(e,t){return gC(e)||gC(t)}function bC(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function xC(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)Iy(Ly(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){Iy(Ly(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}))}))}))}}}var wC=FS({reshape_:function(e,t){var n={x:DS(e,"x","reshape","string_or_numeric")},r={shape:t};return CS.runKernel(kw,n,r)}});var kC=FS({avgPool_:function(e,t,n,r,a){var i=DS(e,"x","avgPool","float32");Iy(yC(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var o=i,s=!1;3===i.rank&&(s=!0,o=wC(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Iy(4===o.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(o.rank,".")})),xC("avgPool",r,a);var l={x:o},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=CS.runKernel(Nb,l,u);return c=KT(c,i.dtype),s?wC(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var SC=FS({avgPool3d_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=DS(e,"x","avgPool3d","float32"),s=o,l=!1;4===o.rank&&(l=!0,s=wC(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),Iy(5===s.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(s.rank,".")})),Iy("NDHWC"===i,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(i)})),xC("avgPool3d",r,a);var u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},d=CS.runKernel(Ob,u,c);return d=KT(d,s.dtype),l?wC(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});var TC=FS({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Iy(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=PS(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return JT(n[0]);var r=n,a={axis:t};return CS.runKernel(Vb,r,a)}});var EC=FS({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=DS(e,"a","matMul"),i=DS(t,"b","matMul"),o=gS(a,i),s=(0,Z.Z)(o,2),l={a:a=s[0],b:i=s[1]},u={transposeA:n,transposeB:r};return CS.runKernel(Pb,l,u)}});var CC=FS({mul_:function(e,t){var n=DS(e,"a","mul"),r=DS(t,"b","mul"),a=gS(n,r),i=(0,Z.Z)(a,2),o={a:n=i[0],b:r=i[1]};return CS.runKernel(iw,o)}});var _C=FS({sigmoid_:function(e){var t={x:DS(e,"x","sigmoid","float32")};return CS.runKernel(jw,t)}});var MC=FS({slice_:function(e,t,n){var r=DS(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");var a={x:r},i={begin:t,size:n};return CS.runKernel(Dw,a,i)}});var AC=FS({tanh_:function(e){var t={x:DS(e,"x","tanh","float32")};return CS.runKernel(ak,t)}});var IC=FS({basicLSTMCell_:function(e,t,n,r,a,i){var o=DS(e,"forgetBias","basicLSTMCell"),s=DS(t,"lstmKernel","basicLSTMCell"),l=DS(n,"lstmBias","basicLSTMCell"),u=DS(r,"data","basicLSTMCell"),c=DS(a,"c","basicLSTMCell"),d=DS(i,"h","basicLSTMCell"),h=TC([u,d],1),f=EC(h,s),p=KE(f,l),m=p.shape[0],v=p.shape[1]/4,g=[m,v],y=MC(p,[0,0],g),b=MC(p,[0,v],g),x=MC(p,[0,2*v],g),w=MC(p,[0,3*v],g),k=KE(CC(_C(y),AC(b)),CC(c,_C(KE(o,x))));return[k,CC(AC(k),_C(w))]}});var NC=FS({batchToSpaceND_:function(e,t,n){var r=DS(e,"x","batchToSpaceND"),a=t.reduce((function(e,t){return e*t}));Iy(r.rank>=1+t.length,(function(){return"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length)})),Iy(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),Iy(r.shape[0]%a===0,(function(){return"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(a)}));var i={x:r},o={blockShape:t,crops:n};return CS.runKernel(Lb,i,o)}});var RC=FS({batchNorm_:function(e,t,n,r,a,i){null==i&&(i=.001);var o,s,l=DS(e,"x","batchNorm"),u=DS(t,"mean","batchNorm"),c=DS(n,"variance","batchNorm");null!=a&&(o=DS(a,"scale","batchNorm")),null!=r&&(s=DS(r,"offset","batchNorm")),Iy(u.rank===c.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),Iy(null==s||u.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),Iy(null==o||u.rank===o.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var d=function(e){return 0===e.rank||1===e.rank?wC(e,[1,1,1,e.size]):2===e.rank?wC(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?wC(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(l),h={x:d,scale:o,offset:s,mean:u,variance:c},f={varianceEpsilon:i},p=CS.runKernel(Tx,h,f);return wC(p,l.shape)}});var OC=FS({batchNorm2d_:function(e,t,n,r,a,i){var o,s,l=DS(e,"x","batchNorm"),u=DS(t,"mean","batchNorm"),c=DS(n,"variance","batchNorm");return null!=a&&(o=DS(a,"scale","batchNorm")),null!=r&&(s=DS(r,"offset","batchNorm")),Iy(2===l.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(l.rank,".")})),Iy(2===u.rank||1===u.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(u.rank,".")})),Iy(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=o&&Iy(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&Iy(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(s.rank,".")})),RC(l,u,c,s,o,i)}});var DC=FS({batchNorm3d_:function(e,t,n,r,a,i){var o,s,l=DS(e,"x","batchNorm"),u=DS(t,"mean","batchNorm"),c=DS(n,"variance","batchNorm");return null!=a&&(o=DS(a,"scale","batchNorm")),null!=r&&(s=DS(r,"offset","batchNorm")),Iy(3===l.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(l.rank,".")})),Iy(3===u.rank||1===u.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(u.rank,".")})),Iy(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=o&&Iy(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&Iy(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(s.rank,".")})),RC(l,u,c,s,o,i)}});var PC=FS({batchNorm4d_:function(e,t,n,r,a,i){var o,s,l=DS(e,"x","batchNorm"),u=DS(t,"mean","batchNorm"),c=DS(n,"variance","batchNorm");return null!=a&&(o=DS(a,"scale","batchNorm")),null!=r&&(s=DS(r,"offset","batchNorm")),Iy(4===l.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(l.rank,".")})),Iy(4===u.rank||1===u.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(u.rank,".")})),Iy(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,".")})),null!=o&&Iy(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&Iy(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(s.rank,".")})),RC(l,u,c,s,o,i)}});var LC=FS({bincount_:function(e,t,n){var r=DS(e,"x","bincount"),a=DS(t,"weights","bincount");Iy("int32"===r.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype)})),Iy(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),Iy(a.size===r.size||0===a.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(a.shape,".")}));var i={x:r,weights:a},o={size:n};return CS.runKernel(Fb,i,o)}});var FC=FS({broadcastArgs_:function(e,t){var n=DS(e,"s0","broadcastArgs","int32"),r=DS(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));var a={s0:n,s1:r};return CS.runKernel(jb,a)}});var jC=FS({broadcastTo_:function(e,t){var n=DS(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var a=n.shape.slice();a.length<t.length;)a.unshift(1);n=wC(n,a)}for(var i=n.shape,o=Array.from(t),s=t.length-1;s>=0;s--)if(i[s]===t[s])o[s]=1;else if(1!==n.shape[s])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));var l=o.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));if(0===l.length)return JT(n);var u={x:n},c={reps:o};return CS.runKernel(ik,u,c)}});var zC=FS({ceil_:function(e){var t={x:DS(e,"x","ceil","float32")};return CS.runKernel(Bb,t)}});var BC=FS({clipByValue_:function(e,t,n){var r=DS(e,"x","clipByValue");Iy(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")}));var a={x:r},i={clipValueMin:t,clipValueMax:n};return CS.runKernel(Ub,a,i)}});var UC=FS({concat1d_:function(e){return TC(e,0)}});var WC=FS({concat2d_:function(e,t){return TC(e,t)}});var ZC=FS({concat3d_:function(e,t){return TC(e,t)}});var VC=FS({concat4d_:function(e,t){return TC(e,t)}});var HC=FS({conv2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=DS(e,"x","conv2d","float32"),l=DS(t,"filter","conv2d","float32"),u=s,c=!1;3===s.rank&&(c=!0,u=wC(s,[1,s.shape[0],s.shape[1],s.shape[2]])),Iy(4===u.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(u.rank,".")})),Iy(4===l.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(l.rank,".")})),xC("conv2d",r,o);var d="NHWC"===a?u.shape[3]:u.shape[1];Iy(d===l.shape[2],(function(){return"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(l.shape[2],".")})),Iy(yC(n,i),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(i,"'")}));var h={x:u,filter:l},f={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o},p=CS.runKernel(Hb,h,f);return c?wC(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});var GC=FS({conv1d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0,s=DS(e,"x","conv1d"),l=DS(t,"filter","conv1d"),u=s,c=!1;2===s.rank&&(c=!0,u=wC(s,[1,s.shape[0],s.shape[1]])),Iy(3===u.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(u.rank,".")})),Iy(3===l.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(l.rank,".")})),xC("conv1d",r,o),Iy(u.shape[2]===l.shape[1],(function(){return"Error in conv1d: depth of input (".concat(u.shape[2],") must match ")+"input depth for filter ".concat(l.shape[1],".")})),Iy(yC(n,i),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(i,"'")})),Iy("NWC"===a,(function(){return"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported.")}));var d=wC(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=wC(u,[u.shape[0],1,u.shape[1],u.shape[2]]),f=HC(h,d,[1,n],r,"NHWC",[1,i],o);return wC(f,c?[f.shape[2],f.shape[3]]:[f.shape[0],f.shape[2],f.shape[3]])}});var qC=FS({conv2DBackpropInput_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0;Iy(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var s=e,l=t,u=!1;3===t.rank&&(u=!0,l=wC(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),Iy(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(s.length,".")})),Iy(4===l.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(l.rank)})),Iy(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var c="NHWC"===i?s[3]:s[1],d="NHWC"===i?l.shape[3]:l.shape[1];Iy(c===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(c,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),Iy(d===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),xC("conv2dDerInput",a,o);var h={dy:l,filter:n},f={strides:r,pad:a,dataFormat:i,dimRoundingMode:o,inputShape:s},p=CS.runKernel(qb,h,f);return u?wC(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});var XC=FS({conv2dTranspose_:function(e,t,n,r,a,i){var o=DS(e,"x","conv2dTranspose"),s=DS(t,"filter","conv2dTranspose");return qC(n,o,s,r,a,"NHWC",i)}});var YC=FS({conv3d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],o=DS(e,"x","conv3d"),s=DS(t,"filter","conv3d"),l=o,u=!1;4===o.rank&&(u=!0,l=wC(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),Iy(5===l.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(l.rank,".")})),Iy(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(s.rank,".")})),Iy(l.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input (".concat(l.shape[4],") must match ")+"input depth for filter ".concat(s.shape[3],".")})),Iy(yC(n,i),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(i,"'")})),Iy("NDHWC"===a,(function(){return"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported.")}));var c={x:l,filter:s},d={strides:n,pad:r,dataFormat:a,dilations:i},h=CS.runKernel(Xb,c,d);return u?wC(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});var KC=FS({conv3DBackpropInput_:function(e,t,n,r,a){Iy(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var i=e,o=t,s=!1;4===t.rank&&(s=!0,o=wC(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);var l=i[4],u=o.shape[4];Iy(5===i.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(i.length,".")})),Iy(5===o.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(o.rank)})),Iy(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),Iy(l===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),Iy(u===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(u,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var c={dy:o,filter:n},d={pad:a,strides:r,inputShape:i},h=CS.runKernel(Kb,c,d);return s?wC(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});var JC=FS({conv3dTranspose_:function(e,t,n,r,a){var i=DS(e,"x","conv3dTranspose"),o=DS(t,"filter","conv3dTranspose");return KC(n,i,o,r,a)}});var $C=FS({cos_:function(e){var t={x:DS(e,"x","cos","float32")};return CS.runKernel(Jb,t)}});var QC=FS({cosh_:function(e){var t={x:DS(e,"x","cosh","float32")};return CS.runKernel($b,t)}});var e_=FS({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={x:DS(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return CS.runKernel(Qb,a,i)}});var t_=FS({denseBincount_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=DS(e,"x","denseBincount"),i=DS(t,"weights","denseBincount");Iy("int32"===a.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype)})),Iy(a.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,".")})),Iy(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),Iy(i.size===a.size||0===i.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(i.shape,".")}));var o={x:a,weights:i},s={size:n,binaryOutput:r};return CS.runKernel(tx,o,s)}});var n_=FS({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",r=DS(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];Iy(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),Iy(a*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(a," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape)})),Iy(i*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(i," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape)})),Iy(o%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(o," for depthToSpace with input shape ").concat(r.shape)}));var s={x:r},l={blockSize:t,dataFormat:n};return CS.runKernel(nx,s,l)}});var r_=FS({depthwiseConv2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=DS(e,"x","depthwiseConv2d","float32"),l=DS(t,"filter","depthwiseConv2d","float32"),u=s,c=!1;3===s.rank&&(c=!0,u=wC(s,[1,s.shape[0],s.shape[1],s.shape[2]])),Iy(4===u.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,".")})),Iy(4===l.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(l.rank,".")})),Iy(u.shape[3]===l.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(u.shape[3],") must match the inChannels dimension in ")+"filter ".concat(l.shape[2],".")})),xC("depthwiseConv2d",r,o);var d={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o},f=CS.runKernel(rx,d,h);return c?wC(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});var a_=FS({diag_:function(e){var t={x:DS(e,"x","diag")};return CS.runKernel(ox,t)}});var i_=FS({dilation2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=DS(e,"x","dilation2d"),s=DS(t,"filter","dilation2d");Iy(3===o.rank||4===o.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(o.rank,".")})),Iy(3===s.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(s.rank,".")})),Iy("NHWC"===i,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(i)}));var l=o,u=!1;3===o.rank&&(l=wC(o,[1,o.shape[0],o.shape[1],o.shape[2]]),u=!0);var c={x:l,filter:s},d={strides:n,pad:r,dilations:a},h=CS.runKernel(sx,c,d);return u?wC(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var o_=FS({floorDiv_:function(e,t){var n=DS(e,"a","floorDiv"),r=DS(t,"b","floorDiv"),a=gS(n,r),i=(0,Z.Z)(a,2),o={a:n=i[0],b:r=i[1]};return CS.runKernel(Sx,o)}});var s_=FS({div_:function(e,t){var n=DS(e,"a","div"),r=DS(t,"b","div"),a=gS(n,r),i=(0,Z.Z)(a,2);if(n=i[0],r=i[1],"int32"===n.dtype&&"int32"===r.dtype)return o_(n,r);var o={a:n,b:r};return CS.runKernel(cx,o,{})}});var l_=FS({equal_:function(e,t){var n=DS(e,"a","equal","string_or_numeric"),r=DS(t,"b","equal","string_or_numeric"),a=gS(n,r),i=(0,Z.Z)(a,2);n=i[0],r=i[1],kE(n.shape,r.shape);var o={a:n,b:r};return CS.runKernel(mx,o)}});var u_=FS({where_:function(e,t,n){var r=DS(t,"a","where"),a=DS(n,"b","where"),i=DS(e,"condition","where","bool"),o=kE(kE(i.shape,r.shape),a.shape),s={condition:jC(i,o),t:jC(r,o),e:jC(a,o)};return CS.runKernel(Rw,s)}});var c_=FS({zerosLike_:function(e){var t={x:DS(e,"x","zerosLike")};return CS.runKernel(hk,t)}});var d_=FS({divNoNan_:function(e,t){var n=DS(e,"a","div"),r=DS(t,"b","div"),a=gS(n,r),i=(0,Z.Z)(a,2);n=i[0],r=i[1];var o=s_(n,r),s=c_(o),l=l_(r,s);return u_(l,s,o)}});var h_=FS({dot_:function(e,t){var n=DS(e,"t1","dot"),r=DS(t,"t2","dot");Iy((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];if(Iy(a===i,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(a," and ").concat(i,".")})),1===n.rank&&1===r.rank){var o=wC(n,[1,-1]),s=wC(r,[-1,1]),l=EC(o,s);return wC(l,[])}if(1===n.rank&&2===r.rank){var u=wC(n,[1,-1]),c=wC(r,[r.shape[0],r.shape[1]]),d=EC(u,c);return wC(d,[d.size])}if(2===n.rank&&1===r.rank){var h=wC(r,[-1,1]),f=EC(n,h);return wC(f,[f.size])}var p=wC(r,[r.shape[0],r.shape[1]]);return EC(n,p)}});var f_=FS({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map((function(e,t){return DS(e,"tensors".concat(t),"einsum")})),i={equation:e};return CS.runKernel(dx,a,i)}});var p_=FS({elu_:function(e){var t={x:DS(e,"x","elu","float32")};return CS.runKernel(hx,t)}});var m_=FS({erf_:function(e){var t=DS(e,"x","erf");Iy("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=KT(t,"float32"));var n={x:t};return CS.runKernel(px,n)}});var v_=FS({exp_:function(e){var t={x:DS(e,"x","exp")};return CS.runKernel(vx,t)}});var g_=FS({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=DS(e,"x","expandDims","string_or_numeric");Iy(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r={input:n},a={dim:t};return CS.runKernel(gx,r,a)}});var y_=FS({expm1_:function(e){var t={x:DS(e,"x","expm1")};return CS.runKernel(yx,t)}});var b_=FS({tile_:function(e,t){var n=DS(e,"x","tile","string_or_numeric");Iy(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var r={x:n},a={reps:t};return CS.runKernel(ik,r,a)}});var x_=FS({eye_:function(e,t,n){null==t&&(t=e);for(var r=YT([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),a=e<=t?e:t,i=0;i<a;++i)r.set(1,i,i);var o=wC(r.toTensor(),[e,t]);if(null==n)return o;if(1===n.length)return b_(g_(o,0),[n[0],1,1]);if(2===n.length)return b_(g_(g_(o,0),0),[n[0],n[1],1,1]);if(3===n.length)return b_(g_(g_(g_(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});function w_(e,t,n){var r={shape:e,value:t,dtype:n};return CS.runKernel(xx,{},r)}var k_=FS({floor_:function(e){var t={x:DS(e,"x","floor","float32")};return CS.runKernel(kx,t)}});var S_=FS({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a={x:DS(e,"x","gather"),indices:DS(t,"indices","gather","int32")},i={axis:n,batchDims:r};return CS.runKernel(Ex,a,i)}});var T_=FS({greater_:function(e,t){var n=DS(e,"a","greater","string_or_numeric"),r=DS(t,"b","greater","string_or_numeric"),a=gS(n,r),i=(0,Z.Z)(a,2);n=i[0],r=i[1],kE(n.shape,r.shape);var o={a:n,b:r};return CS.runKernel(_x,o)}});var E_=FS({greaterEqual_:function(e,t){var n=DS(e,"a","greaterEqual","string_or_numeric"),r=DS(t,"b","greaterEqual","string_or_numeric"),a=gS(n,r),i=(0,Z.Z)(a,2);n=i[0],r=i[1],kE(n.shape,r.shape);var o={a:n,b:r};return CS.runKernel(Mx,o)}});var C_=FS({imag_:function(e){var t={input:DS(e,"input","imag")};return CS.runKernel(Nx,t)}});var __=FS({isFinite_:function(e){var t={x:DS(e,"x","isFinite")};return CS.runKernel(Rx,t)}});var M_=FS({isInf_:function(e){var t={x:DS(e,"x","isInf")};return CS.runKernel(Ox,t)}});var A_=FS({isNaN_:function(e){var t={x:DS(e,"x","isNaN")};return CS.runKernel(Dx,t)}});var I_=FS({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n={x:DS(e,"x","leakyRelu")},r={alpha:t};return CS.runKernel(Px,n,r)}});var N_=FS({less_:function(e,t){var n=DS(e,"a","less","string_or_numeric"),r=DS(t,"b","less","string_or_numeric"),a=gS(n,r),i=(0,Z.Z)(a,2);n=i[0],r=i[1],kE(n.shape,r.shape);var o={a:n,b:r};return CS.runKernel(Lx,o)}});var R_=FS({lessEqual_:function(e,t){var n=DS(e,"a","lessEqual","string_or_numeric"),r=DS(t,"b","lessEqual","string_or_numeric"),a=gS(n,r),i=(0,Z.Z)(a,2);n=i[0],r=i[1],kE(n.shape,r.shape);var o={a:n,b:r};return CS.runKernel(Fx,o)}});function O_(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var r={start:e,stop:t,num:n};return CS.runKernel(jx,{},r)}var D_=FS({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,i=DS(e,"x","localResponseNormalization");Iy(4===i.rank||3===i.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(i.rank,".")})),Iy(Ly(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var o=i,s=!1;3===i.rank&&(s=!0,o=wC(i,[1,i.shape[0],i.shape[1],i.shape[2]]));var l={x:o},u={depthRadius:t,bias:n,alpha:r,beta:a},c=CS.runKernel(Vx,l,u);return s?wC(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var P_=FS({log_:function(e){var t={x:DS(e,"x","log","float32")};return CS.runKernel(zx,t)}});var L_=FS({log1p_:function(e){var t={x:DS(e,"x","log1p")};return CS.runKernel(Bx,t)}});var F_=FS({neg_:function(e){var t={x:DS(e,"x","neg")};return CS.runKernel(ow,t)}});var j_=FS({softplus_:function(e){var t={x:DS(e,"x","softplus")};return CS.runKernel(zw,t)}});var z_=FS({logSigmoid_:function(e){var t=DS(e,"x","logSigmoid"),n=VE((function(e){return{value:F_(j_(F_(e))),gradFunc:function(t){return CC(t,_C(F_(e)))}}}));return n(t)}});var B_=FS({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:DS(e,"x","max")},a={reductionIndices:t,keepDims:n};return CS.runKernel(Gx,r,a)}});var U_=FS({sub_:function(e,t){var n=DS(e,"a","sub"),r=DS(t,"b","sub"),a=gS(n,r),i=(0,Z.Z)(a,2),o={a:n=i[0],b:r=i[1]};return CS.runKernel(nk,o)}});var W_=FS({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=DS(e,"x","sum");"bool"===r.dtype&&(r=KT(r,"int32"));var a={x:r},i={axis:t,keepDims:n};return CS.runKernel(Uw,a,i)}});var Z_=FS({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=DS(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));var r=VE((function(e,n){var r=B_(e,t,!0),a=U_(e,r),i=U_(KT(a,"float32"),P_(W_(v_(a),t,!0)));n([i]);return{value:i,gradFunc:function(e,n){var r=(0,Z.Z)(n,1)[0],a=v_(r);return U_(e,CC(W_(e,t,!0),a))}}}));return r(n)}});function V_(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function H_(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);var i=t.map((function(t){return e[t]}));return[n,i]}function G_(e,t){return function(e,t,n){for(var r=e.length+t.length,a=[],i=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[i++]):a.push(t[o++]);return a}(e,t.map((function(e){return 1})),t)}function q_(e,t,n){Iy(V_(t,n),(function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")}))}function X_(e,t){if(V_(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function Y_(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function K_(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}var J_=FS({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=DS(e,"x","logSumExp"),a=Uy(t,r.shape),i=B_(r,a,!0),o=U_(r,i),s=v_(o),l=W_(s,a),u=P_(l),c=KE(wC(i,u.shape),u);if(n){var d=G_(c.shape,a);return wC(c,d)}return c}});var $_=FS({logicalAnd_:function(e,t){var n=DS(e,"a","logicalAnd","bool"),r=DS(t,"b","logicalAnd","bool");kE(n.shape,r.shape);var a={a:n,b:r};return CS.runKernel(Ux,a)}});var Q_=FS({logicalNot_:function(e){var t={x:DS(e,"x","logicalNot","bool")};return CS.runKernel(Wx,t)}});var eM=FS({logicalOr_:function(e,t){var n=DS(e,"a","logicalOr","bool"),r=DS(t,"b","logicalOr","bool");kE(n.shape,r.shape);var a={a:n,b:r};return CS.runKernel(Zx,a)}});var tM=FS({logicalXor_:function(e,t){var n=DS(e,"a","logicalXor","bool"),r=DS(t,"b","logicalXor","bool");return kE(n.shape,r.shape),$_(eM(e,t),Q_($_(e,t)))}});var nM=FS({maxPool_:function(e,t,n,r,a){var i=DS(e,"x","maxPool"),o=i,s=!1;3===i.rank&&(s=!0,o=wC(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Iy(4===o.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(o.rank,".")})),Iy(yC(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),xC("maxPool",r,a);var l={x:o},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=CS.runKernel(Xx,l,u);return s?wC(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var rM=FS({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=DS(e,"x","maxPool3d"),s=o,l=!1;4===o.rank&&(l=!0,s=wC(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),Iy(5===s.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(s.rank,".")})),Iy("NDHWC"===i,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(i)})),xC("maxPool3d",r,a);var u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},d=CS.runKernel(Kx,u,c);return l?wC(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});var aM=FS({maxPoolWithArgmax_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={x:DS(e,"x","maxPoolWithArgmax")},o={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},s=CS.runKernel($x,i,o);return{result:s[0],indexes:s[1]}}});var iM=FS({maximum_:function(e,t){var n=DS(e,"a","maximum"),r=DS(t,"b","maximum"),a=gS(n,r),i=(0,Z.Z)(a,2);n=i[0],r=i[1],"bool"===n.dtype&&(n=KT(n,"int32"),r=KT(r,"int32")),kE(n.shape,r.shape);var o={a:n,b:r};return CS.runKernel(qx,o)}});var oM=FS({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:DS(e,"x","mean")},a={axis:t,keepDims:n};return CS.runKernel(Qx,r,a)}});function sM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=sM(e,"float32"),r=sM(e,"float32");return jS(n,r)}var a=rb(Dy(e),t);return CS.makeTensor(a,e,t)}function lM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=lM(e,"float32"),r=sM(e,"float32");return jS(n,r)}var a=nb(Dy(e),t);return CS.makeTensor(a,e,t)}function uM(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).indexing,r=void 0===n?"xy":n;if("xy"!==r&&"ij"!==r)throw new TypeError("".concat(r," is not a valid third argument to meshgrid"));if(void 0===e)return[];var a=DS(e,"x","meshgrid",e instanceof oS?e.dtype:"float32");if(void 0===t)return[a];var i=DS(t,"y","meshgrid",t instanceof oS?t.dtype:"float32"),o=Dy(a.shape),s=Dy(i.shape);return"xy"===r?(a=wC(a,[1,-1]),i=wC(i,[-1,1]),[EC(lM([s,1],a.dtype),a),EC(i,lM([1,o],i.dtype))]):(a=wC(a,[-1,1]),i=wC(i,[1,-1]),[EC(a,lM([1,s],a.dtype)),EC(lM([o,1],i.dtype),i)])}var cM=FS({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={x:DS(e,"x","min")},a={axis:t,keepDims:n};return CS.runKernel(ew,r,a)}});var dM=FS({minimum_:function(e,t){var n=DS(e,"a","minimum"),r=DS(t,"b","minimum"),a=gS(n,r),i=(0,Z.Z)(a,2);n=i[0],r=i[1],"bool"===n.dtype&&(n=KT(n,"int32"),r=KT(r,"int32")),kE(n.shape,r.shape);var o={a:n,b:r};return CS.runKernel(tw,o)}});var hM=FS({mirrorPad_:function(e,t,n){Iy("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var r=DS(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Iy(t.length===r.rank,(function(){return"Padding doesn't match input. Must be ".concat(r.rank,". ")+"Got ".concat(t.length,".")}));for(var a="reflect"===n?1:0,i=function(e){Iy(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Iy(t[e][0]>=0&&t[e][0]<=r.shape[e]-a&&t[e][1]>=0&&t[e][1]<=r.shape[e]-a,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(r.shape[e]-a," or less than 0 for input of ")+"shape ".concat(r.shape)}))},o=0;o<r.rank;o++)i(o);var s={paddings:t,mode:n},l={x:r};return CS.runKernel(nw,l,s)}});var fM=FS({mod_:function(e,t){var n=DS(e,"a","mod"),r=DS(t,"b","mod"),a=gS(n,r),i=(0,Z.Z)(a,2),o={a:n=i[0],b:r=i[1]};return CS.runKernel(rw,o)}});var pM=FS({square_:function(e){var t=DS(e,"x","square");return CS.runKernel("Square",{x:t},{})}});var mM=FS({moments_:function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Uy(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=DS(e,"x","moments")).shape),r=oM(e,n,t),a=r.shape;t||(a=G_(r.shape,n));var i=pM(U_(KT(e,"float32"),wC(r,a)));return{mean:r,variance:oM(i,n,t)}}});var vM=FS({multiRNNCell_:function(e,t,n,r){for(var a=DS(t,"data","multiRNNCell"),i=PS(n,"c","multiRNNCell"),o=PS(r,"h","multiRNNCell"),s=a,l=[],u=0;u<e.length;u++){var c=e[u](s,i[u],o[u]);l.push(c[0]),l.push(c[1]),s=c[1]}for(var d=[],h=[],f=0;f<l.length;f+=2)d.push(l[f]),h.push(l[f+1]);return[d,h]}});var gM=FS({multinomial_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=DS(e,"logits","multinomial"),i=a.size,o=a.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(i,"."));if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(o));n=n||Math.random();var s={logits:1===o?wC(a,[1,-1]):a},l={numSamples:t,seed:n,normalized:r},u=CS.runKernel(aw,s,l);return 1===o?wC(u,[u.size]):u}});var yM=FS({notEqual_:function(e,t){var n=DS(e,"a","notEqual","string_or_numeric"),r=DS(t,"b","notEqual","string_or_numeric"),a=gS(n,r),i=(0,Z.Z)(a,2);n=i[0],r=i[1],kE(n.shape,r.shape);var o={a:n,b:r};return CS.runKernel(sw,o)}});var bM=FS({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var a={indices:DS(e,"indices","oneHot","int32")},i={depth:t,onValue:n,offValue:r};return CS.runKernel(hw,a,i)}});var xM=FS({onesLike_:function(e){var t={x:DS(e,"x","onesLike")};return CS.runKernel(dw,t)}});var wM=FS({outerProduct_:function(e,t){var n=DS(e,"v1","outerProduct"),r=DS(t,"v2","outerProduct");Iy(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=wC(n,[-1,1]),i=wC(r,[1,-1]);return EC(a,i)}});var kM=FS({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=DS(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:t,constantValue:n},i={x:r};return CS.runKernel(pw,i,a)}});var SM=FS({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Iy(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),kM(e,[t],n)}});var TM=FS({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Iy(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),kM(e,t,n)}});var EM=FS({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Iy(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),kM(e,t,n)}});var CM=FS({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Iy(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),kM(e,t,n)}});var _M=FS({spaceToBatchND_:function(e,t,n){var r=DS(e,"x","spaceToBatchND");Iy(r.rank>=1+t.length,(function(){return"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length)})),Iy(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),Iy(r.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var a={x:r},i={blockShape:t,paddings:n};return CS.runKernel(Ww,a,i)}});var MM=FS({pool_:function(e,t,n,r,a,i,o){null==a&&(a=[1,1]),null==i&&(i=1),0===r&&(r="valid");var s=DS(e,"x","maxPool"),l=s,u=!1;3===s.rank&&(u=!0,l=wC(s,[1,s.shape[0],s.shape[1],s.shape[2]])),Iy(yC(i,a),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(a,"'")}));var c,d=lC(l.shape,t,i,a,r),h=[d.dilationHeight,d.dilationWidth];c="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})),r=n.map((function(e){return e-1})),a=r.map((function(e){return Math.floor(e/2)})),i=r.map((function(e,t){return e-a[t]}));return r.map((function(e,t){return[a[t],i[t]]}))}([d.filterHeight,d.filterWidth],h):[[0,0],[0,0]];var f=1===h[0]&&1===h[1],p=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),i=e.concat(r,a),o=t.map((function(e,t){return(e-i[t]%e)%e})),s=a.map((function(e,t){return e+o[t]})),l=t.map((function(e,t){return[r[t],s[t]]})),u=t.map((function(e,t){return[0,o[t]]}));return[l,u]}([d.inHeight,d.inWidth],h,c),m=(0,Z.Z)(p,2),v=m[0],g=m[1],y=f?r:"valid",b=f?l:_M(l,h,v),x=("avg"===n?function(){return kC(b,t,i,y,o)}:function(){return nM(b,t,i,y,o)})(),w=f?x:NC(x,h,g);return u?wC(w,[w.shape[1],w.shape[2],w.shape[3]]):w}});var AM=FS({pow_:function(e,t){var n=DS(e,"base","pow"),r=DS(t,"exp","pow"),a=gS(n,r),i=(0,Z.Z)(a,2),o={a:n=i[0],b:r=i[1]};return CS.runKernel(mw,o)}});var IM=FS({prelu_:function(e,t){var n={x:DS(e,"x","prelu"),alpha:DS(t,"alpha","prelu")};return CS.runKernel(vw,n)}});var NM=FS({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=DS(e,"x","prod");"bool"===r.dtype&&(r=KT(r,"int32"));var a={x:r},i={axis:t,keepDims:n};return CS.runKernel(gw,a,i)}});var RM=FS({rand_:function(e,t,n){var r=Dy(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=t();return CS.makeTensor(a,e,n)}}),OM=n(6699),DM=function(){function e(t,n,r,a,i){M(this,e),this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=OM.alea(o.toString())}return N(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,i=void 0,o=void 0;do{o=(a=2*this.random()-1)*a+(i=2*this.random()-1)*i}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),PM=function(){function e(t,n,r,a){M(this,e),this.alpha=t,this.beta=1/n,this.dtype=r;var i=a||Math.random();this.randu=OM.alea(i.toString()),this.randn=new DM(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return N(e,[{key:"nextValue",value:function(){for(var e,t,n,r,a,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(a=this.randu())<t||Math.log(a)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),LM=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(M(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=r-n,this.dtype=a,null==i&&(i=Math.random()),"number"===typeof i&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(r," <= 1 and dtype is not float"));this.random=OM.alea(i)}return N(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}();var FM=FS({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var i=new PM(t,n,r,a),o=YT(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var jM=FS({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var i=new DM(t,n,r,!1,a),o=YT(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var zM=FS({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>4?arguments[4]:void 0,a=YT(e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),i=new LM(t,n,null,r),o=0;o<a.values.length;o++)a.values[o]=i.nextValue();return a.toTensor()}});function BM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var a={start:e,stop:t,step:n,dtype:r};return CS.runKernel(yw,{},a)}var UM=FS({real_:function(e){var t={input:DS(e,"input","real")};return CS.runKernel(bw,t)}});var WM=FS({reciprocal_:function(e){var t={x:DS(e,"x","reciprocal")};return CS.runKernel(xw,t)}});var ZM=FS({relu_:function(e){var t={x:DS(e,"x","relu")};return CS.runKernel(ww,t)}});var VM=FS({relu6_:function(e){var t={x:DS(e,"x","relu6")};return CS.runKernel(_w,t)}});var HM=FS({reverse_:function(e,t){var n={x:DS(e,"x","reverse")},r={dims:t};return CS.runKernel(Mw,n,r)}});var GM=FS({reverse1d_:function(e){var t=DS(e,"x","reverse");return Iy(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),HM(t,0)}});var qM=FS({reverse2d_:function(e,t){var n=DS(e,"x","reverse");return Iy(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),HM(n,t)}});var XM=FS({reverse3d_:function(e,t){var n=DS(e,"x","reverse");return Iy(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),HM(n,t)}});var YM=FS({reverse4d_:function(e,t){var n=DS(e,"x","reverse");return Iy(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),HM(n,t)}});var KM=FS({round_:function(e){var t={x:DS(e,"x","round")};return CS.runKernel(Aw,t)}});var JM=FS({rsqrt_:function(e){var t={x:DS(e,"x","rsqrt","float32")};return CS.runKernel(Iw,t)}});var $M=FS({selu_:function(e){var t={x:DS(e,"x","selu")};return CS.runKernel(Ow,t)}});var QM=FS({separableConv2d_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",s=DS(e,"x","separableConv2d"),l=DS(t,"depthwiseFilter","separableConv2d"),u=DS(n,"pointwiseFilter","separableConv2d"),c=s,d=!1;if(3===s.rank&&(d=!0,c=wC(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Iy(4===c.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,".")})),Iy(4===l.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(l.rank,".")})),Iy(4===u.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(l.rank,".")})),Iy(1===u.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(u.shape[0],".")})),Iy(1===u.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(u.shape[1],".")}));var h=l.shape[2],f=l.shape[3];Iy(u.shape[2]===h*f,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(h*f,", ")+"but got ".concat(u.shape[2],".")}));var p=r_(c,l,r,a,o,i),m=HC(p,u,1,"valid",o);return d?wC(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});function eA(){return eA=mo(fo().mark((function e(t,n){var r,a,i,o,s,l,u,c,d,h,f;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=DS(t,"x","setdiff1d"),a=DS(n,"y","setdiff1d"),Iy(r.dtype===a.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(a.dtype,").")})),Iy(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),Iy(1===a.rank,(function(){return"y should be 1D tensor, but got y (".concat(a.shape,").")})),e.next=7,r.data();case 7:return i=e.sent,e.next=10,a.data();case 10:for(o=e.sent,s=new Set(o),l=0,u=0;u<i.length;u++)s.has(i[u])||l++;for(c=new rS([l],r.dtype),d=new rS([l],"int32"),h=0,f=0;h<i.length;h++)s.has(i[h])||(c.values[f]=i[h],d.values[f]=h,f++);return e.abrupt("return",[c.toTensor(),d.toTensor()]);case 18:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}var tA=function(e,t){return eA.apply(this,arguments)};var nA=FS({sign_:function(e){var t={x:DS(e,"x","sign")};return CS.runKernel(Fw,t)}});var rA=FS({sin_:function(e){var t={x:DS(e,"x","sin","float32")};return CS.runKernel(Pw,t)}});var aA=FS({sinh_:function(e){var t={x:DS(e,"x","sinh")};return CS.runKernel(Lw,t)}});var iA=FS({slice1d_:function(e,t,n){var r=DS(e,"x","slice1d");return Iy(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),MC(r,[t],[n])}});var oA=FS({slice2d_:function(e,t,n){var r=DS(e,"x","slice2d");return Iy(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),MC(r,t,n)}});var sA=FS({slice3d_:function(e,t,n){var r=DS(e,"x","slice3d");return Iy(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),MC(r,t,n)}});var lA=FS({slice4d_:function(e,t,n){var r=DS(e,"x","slice4d");return Iy(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),MC(r,t,n)}});var uA=FS({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=DS(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var r={logits:n},a={dim:t};return CS.runKernel(Vw,r,a)}});var cA=FS({fft_:function(e){Iy("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return CS.runKernel(bx,t)}});var dA=FS({ifft_:function(e){Iy("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return CS.runKernel(Ix,t)}});var hA=FS({irfft_:function(e){var t,n=e.shape[e.shape.length-1],r=e.size/n;if(n<=2){var a=wC(e,[r,n]);t=dA(a)}else{var i=[r,2*(n-1)],o=wC(UM(e),[r,n]),s=wC(C_(e),[r,n]),l=HM(MC(o,[0,1],[r,n-2]),1),u=CC(HM(MC(s,[0,1],[r,n-2]),1),HE(-1)),c=TC([o,l],1),d=TC([s,u],1),h=wC(jS(c,d),[i[0],i[1]]);t=dA(h)}if(t=UM(t),3===e.rank&&0!==e.shape[0]){var f=t,p=e.shape[0];t=wC(t,[p,t.shape[0]/p,t.shape[1]]),f.dispose()}return t}});var fA=FS({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={x:DS(e,"x","split")},a={numOrSizeSplits:t,axis:n};return CS.runKernel(Zw,r,a)}});var pA=FS({rfft_:function(e,t){Iy("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,r=e.shape[e.shape.length-1],a=e.size/r;if(null!=t&&t<r){var i=e.shape.map((function(e){return 0})),o=e.shape.map((function(e){return e}));o[e.shape.length-1]=t,n=MC(e,i,o),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=TC([e,sM(s)],e.shape.length-1),r=t}else n=e;var l=c_(n),u=wC(jS(n,l),[a,r]),c=cA(u),d=Math.floor(r/2)+1,h=UM(c),f=C_(c),p=fA(h,[d,r-d],h.shape.length-1),m=fA(f,[d,r-d],f.shape.length-1),v=n.shape.slice();return v[n.shape.length-1]=d,wC(jS(p[0],m[0]),v)}});var mA=FS({sqrt_:function(e){var t={x:DS(e,"x","sqrt","float32")};return CS.runKernel(Bw,t)}});var vA=FS({squaredDifference_:function(e,t){var n=DS(e,"a","squaredDifference"),r=DS(t,"b","squaredDifference"),a=gS(n,r),i=(0,Z.Z)(a,2);n=i[0],r=i[1],kE(n.shape,r.shape);var o={a:n,b:r};return CS.runKernel(Kw,o,{})}});var gA=FS({squeeze_:function(e,t){var n=DS(e,"x","squeeze");return wC(n,Wy(n.shape,t).newShape)}});var yA=FS({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=PS(e,"tensors","stack","string_or_numeric");Iy(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&Iy(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n,a={axis:t};return CS.runKernel(fw,r,a)}});var bA=FS({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:DS(e,"x","step")},r={alpha:t};return CS.runKernel(fk,n,r)}});var xA=FS({stridedSlice_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u={x:DS(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:a,endMask:i,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:l};return CS.runKernel($w,u,c)}});var wA=FS({tan_:function(e){var t={x:DS(e,"x","tan","float32")};return CS.runKernel(rk,t)}});function kA(e,t){Ry(e);var n=NS(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return zS(e,null,n,t)}function SA(e,t,n){if(Ry(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=NS(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return zS(e,t,r,n)}function TA(e,t,n){if(Ry(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=NS(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return zS(e,t,r,n)}function EA(e,t,n){if(Ry(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=NS(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return zS(e,t,r,n)}function CA(e,t,n){if(Ry(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=NS(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return zS(e,t=t||r,r,n)}var _A=FS({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=DS(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(a,") ")+"but got ".concat(t));var i={x:r},o={k:t,sorted:n},s=CS.runKernel(ok,i,o),l=(0,Z.Z)(s,2);return{values:l[0],indices:l[1]}}});var MA=FS({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var i=new DM(t,n,r,!0,a),o=YT(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var AA=FS({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=DS(e,"x","unique","string_or_numeric");Iy(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var r={x:n},a={axis:t},i=CS.runKernel(uk,r,a),o=(0,Z.Z)(i,2);return{values:o[0],indices:o[1]}}});var IA=FS({unsortedSegmentSum_:function(e,t,n){var r=DS(e,"x","unsortedSegmentSum"),a=DS(t,"segmentIds","unsortedSegmentSum","int32");Iy(Ly(n),(function(){return"numSegments must be of dtype int"}));var i={x:r,segmentIds:a},o={numSegments:n};return CS.runKernel(dk,i,o)}});var NA=FS({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=DS(e,"x","unstack","string_or_numeric");Iy(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var r={value:n},a={axis:t};return CS.runKernel(ck,r,a)}});function RA(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return CS.makeVariable(e,t,n,r)}function OA(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);for(var a=YT(e,"int32"),i=YT([n.length,e.length],"int32"),o=0;o<n.length;o++){var s=a.indexToLoc(n[o]),l=o*e.length;i.values.set(s,l)}return i.toTensor()}function DA(){return(DA=mo(fo().mark((function e(t){var n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=DS(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,a=OA(n.shape,r),t!==n&&n.dispose(),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PA=function(e){return DA.apply(this,arguments)};function LA(){return LA=mo(fo().mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h,f,p,m,v;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=DS(t,"tensor","boolMask"),i=DS(n,"mask","boolMask","bool"),o=null==r?0:r,s=i.rank,l=a.shape,Iy(s>0,(function(){return"mask cannot be scalar"})),Ny(l.slice(o,o+s),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,c=o;c<o+s;c++)u*=l[c];return d=l.slice(0,o).concat([u],l.slice(o+s)),h=wC(a,d),f=wC(i,[-1]),e.next=14,PA(f);case 14:return p=e.sent,m=gA(p,[1]),v=S_(h,m,o),t!==a&&a.dispose(),n!==i&&i.dispose(),m.dispose(),h.dispose(),f.dispose(),p.dispose(),e.abrupt("return",v);case 24:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}var FA=function(e,t,n){return LA.apply(this,arguments)};var jA=FS({transpose_:function(e,t){var n=DS(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),Iy(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){Iy(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(n.rank-1)+" but got ".concat(t)}))})),n.rank<=1)return n.clone();var r={x:n},a={perm:t};return CS.runKernel(lk,r,a)}});function zA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return qE(e);if(1!==e.rank&&null===n)return zA(wC(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return W_(qE(e),n);if(t===1/0)return B_(qE(e),n);if(t===-1/0)return cM(qE(e),n);if("euclidean"===t||2===t)return mA(W_(AM(qE(e),HE(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return B_(W_(qE(e),n[0]),n[1]-1);if(t===1/0)return B_(W_(qE(e),n[1]),n[0]);if(t===-1/0)return cM(W_(qE(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return mA(W_(pM(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var BA=FS({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=zA(e=DS(e,"x","norm"),t,n),i=a.shape;if(r){var o=Uy(n,e.shape);i=G_(a.shape,o)}return wC(a,i)}});var UA=FS({movingAverage_:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=DS(e,"v","movingAverage"),o=DS(t,"x","movingAverage"),s=DS(n,"decay","movingAverage");!function(e,t){Iy(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}(i,o),Iy(Py(i.shape,o.shape),(function(){return"Shape mismatch in v and x"}));var l=HE(1),u=U_(l,s),c=CC(U_(o,i),u);if(a){Iy(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var d=DS(r,"step","movingAverage");c=s_(c,U_(l,AM(s,d)))}return KE(i,c)}});function WA(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}!function(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(i+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(i+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != ".concat(a+e.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(var s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(i+" updates.shape[".concat(s+a,"] (").concat(n.shape[s+a],") != shape[").concat(s+a,"] (").concat(e[s+a],")"))}(n,t,e)}function ZA(e,t,n){for(var r=t.shape.length,a=r>1?t.shape[r-1]:1,i=n.length,o=1,s=a;s<i;++s)o*=n[s];var l=a<1?1:a;return{sliceRank:a,numUpdates:Dy(t.shape)/l,sliceSize:o,strides:[].concat((0,_.Z)(Qy(n.slice(0,a))),[1]),outputSize:Dy(n)}}var VA=FS({scatterND_:function(e,t,n){var r=DS(e,"indices","scatterND","int32"),a=DS(t,"updates","scatterND");WA(a,r,n);var i={indices:r,updates:a},o={shape:n};return CS.runKernel(Nw,i,o)}});var HA=FS({sparseToDense_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=DS(e,"sparseIndices","sparseToDense","int32"),i=DS(t,"sparseValues","sparseToDense"),o=DS(r,"defaultValue","sparseToDense",i.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(i,"."));var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,i,n,o);var s={sparseIndices:a,sparseValues:i,defaultValue:o},l={outputShape:n};return CS.runKernel(Yw,s,l)}});var GA=FS({gatherND_:function(e,t){var n=DS(t,"indices","gatherND","int32"),r={params:DS(e,"x","gatherND","string_or_numeric"),indices:n};return CS.runKernel(Cx,r)}});var qA=FS({dropout_:function(e,t,n,r){var a=DS(e,"x","dropout");if(Iy("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")})),Iy(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof oS?a.clone():a;var i=function(e,t){if(null==t)return e.shape.slice();if(Py(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),o=1-t,s=s_(k_(KE(zM(i,0,1,"float32",r),o)),o);return CC(a,s)}});function XA(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function YA(e,t,n){for(var r=1-e%2,a=new Float32Array(e),i=0;i<e;++i){var o=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(o)}return kA(a,"float32")}function KA(){return KA=mo(fo().mark((function e(t,n){var r,a,i,o,s,l,u,c,d,h,f,p,m,v,g,y=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:1,a=DS(t,"predictions","inTopK"),i=DS(n,"targets","inTopK"),Iy(a.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank)})),Iy(a.rank-1===i.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(i.rank)})),Ny(a.shape.slice(0,a.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=a.shape[a.shape.length-1],Iy(r>0&&r<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(r)})),e.next=10,a.data();case 10:return s=e.sent,e.next=13,i.data();case 13:l=e.sent,u=s.length/o,c=o,d=Zy("bool",u),h=0;case 17:if(!(h<u)){e.next=35;break}for(f=h*c,p=s.subarray(f,f+c),m=[],v=0;v<p.length;v++)m.push({value:p[v],index:v});m.sort((function(e,t){return t.value-e.value})),d[h]=0,g=0;case 25:if(!(g<r)){e.next=32;break}if(m[g].index!==l[h]){e.next=29;break}return d[h]=1,e.abrupt("break",32);case 29:g++,e.next=25;break;case 32:h++,e.next=17;break;case 35:return t!==a&&a.dispose(),n!==i&&i.dispose(),e.abrupt("return",BS(d,i.shape,"bool"));case 38:case"end":return e.stop()}}),e)}))),KA.apply(this,arguments)}var JA=function(e,t){return KA.apply(this,arguments)};var $A=FS({conv2DBackpropFilter_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=wC(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var l=t;3===l.rank&&(l=wC(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Iy(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(s.shape,".")})),Iy(4===l.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(l.shape,".")})),Iy(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var u="NHWC"===i?s.shape[3]:s.shape[1],c="NHWC"===i?l.shape[3]:l.shape[1];Iy(u===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(u,") must ")+"match input depth in filter (".concat(n[2],".")})),Iy(c===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(c,") must ")+"match output depth for filter (".concat(n[3],").")})),xC("conv2dDerFilter",a,o);var d={x:s,dy:l},h={strides:r,pad:a,dataFormat:i,dimRoundingMode:o,filterShape:n};return CS.runKernel(Gb,d,h)}});function QA(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return CC(e,bA(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function eI(e,t){var n=t,r=wE(e.shape,t.shape);return r.length>0&&(n=W_(n,r)),wC(n,e.shape)}function tI(e,t,n,r){if("linear"===t)return e;if("relu"===t)return ZM(e);if("elu"===t)return p_(e);if("relu6"===t)return VM(e);if("prelu"===t)return IM(e,n);if("leakyrelu"===t)return I_(e,r);if("sigmoid"===t)return _C(e);throw new Error("Unknown fused activation ".concat(t,"."))}var nI=function(e,t){return!(e>0)||"linear"===t};var rI=FS({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,s=e.dilations,l=void 0===s?[1,1]:s,u=e.dimRoundingMode,c=e.bias,d=e.activation,h=void 0===d?"linear":d,f=e.preluActivationWeights,p=e.leakyreluAlpha;if(h=h||"linear",!1===nI(CS.state.gradientDepth,h)){var m=HC(t,n,r,a,o,l,u);return null!=c&&(m=KE(m,c)),tI(m,h,f,p)}var v=DS(t,"x","conv2d","float32"),g=DS(n,"filter","conv2d","float32"),y=v,b=!1;3===v.rank&&(b=!0,y=wC(v,[1,v.shape[0],v.shape[1],v.shape[2]])),Iy(4===y.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(y.rank,".")})),Iy(4===g.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(g.rank,".")})),xC("fused conv2d",a,u),Iy(y.shape[3]===g.shape[2],(function(){return"Error in conv2d: depth of input (".concat(y.shape[3],") must match ")+"input depth for filter ".concat(g.shape[2],".")})),Iy(yC(r,l),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(l,"'")})),Iy("NHWC"===o,(function(){return"Error in conv2d: got dataFormat of ".concat(o," but only NHWC is currently supported.")}));var x,w,k=cC(y.shape,g.shape,r,l,a,u);if(null!=c){var S=gS(x=DS(c,"bias","fused conv2d"),v);x=(0,Z.Z)(S,1)[0],kE(k.outShape,x.shape)}null!=f&&(w=DS(f,"prelu weights","fused conv2d"));var T=function(e,t){var n=(0,Z.Z)(t,4),i=n[0],o=n[1],s=n[2],u=n[3],c=QA(e,s,h);Iy(gC(l),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(l,"'")}));var d=[qC(o.shape,c,i,r,a),$A(o,c,i.shape,r,a)];if(null!=u){var f=eI(u,c);d.push(f)}return d},E={x:y,filter:g,bias:x,preluActivationWeights:w},C={strides:r,pad:a,dataFormat:o,dilations:l,dimRoundingMode:u,activation:h,leakyreluAlpha:p};if(null==c){var _=VE((function(e,t,n){var r=CS.runKernel(gk,E,C);return n([t,e,r]),b&&(r=wC(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:T}}));return _(y,g)}var M=VE((function(e,t,n,r){var a=CS.runKernel(gk,E,C);return r([t,e,a,n]),b&&(a=wC(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:T}}));return M(y,g,x)}});var aI=FS({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=wC(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var l=t;3===l.rank&&(l=wC(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var u={x:s,dy:l},c={strides:r,pad:a,dimRoundingMode:o,dilations:i,filterShape:n};return CS.runKernel(ax,u,c)}});var iI=FS({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=t,l=!1;3===t.rank&&(l=!0,s=wC(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var u={dy:s,filter:n},c={strides:r,pad:a,dimRoundingMode:o,dilations:i,inputShape:e},d=CS.runKernel(ix,u,c);return l?wC(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});var oI=FS({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,s=e.dilations,l=void 0===s?[1,1]:s,u=e.dimRoundingMode,c=e.bias,d=e.activation,h=void 0===d?"linear":d,f=e.preluActivationWeights,p=e.leakyreluAlpha;if(!1===nI(CS.state.gradientDepth,h)){var m=r_(t,n,r,a,o,l,u);return null!=c&&(m=KE(m,c)),tI(m,h,f,p)}var v=DS(t,"x","depthwiseConv2d","float32"),g=DS(n,"filter","depthwiseConv2d","float32"),y=v,b=!1;3===v.rank&&(b=!0,y=wC(v,[1,v.shape[0],v.shape[1],v.shape[2]])),Iy(4===y.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(y.rank,".")})),Iy(4===g.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(g.rank,".")})),Iy(y.shape[3]===g.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(y.shape[3],") must match the inChannels dimension in ")+"filter ".concat(g.shape[2],".")})),null==l&&(l=[1,1]),Iy(yC(r,l),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(l,"'")})),xC("fused depthwiseConv2d",a,u);var x,w,k=cC(y.shape,g.shape,r,l,a,u,!0);if(null!=c){var S=gS(x=DS(c,"bias","fused conv2d"),v),T=(0,Z.Z)(S,1);x=T[0],kE(k.outShape,x.shape)}null!=f&&(w=DS(f,"prelu weights","fused depthwiseConv2d"));var E=function(e,t){Iy(gC(l),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(l,"'")}));var n=(0,Z.Z)(t,4),i=n[0],o=n[1],s=n[2],c=n[3],d=QA(e,s,h),f=iI(o.shape,d,i,r,a,l,u),p=aI(o,d,i.shape,r,a,l,u);return null!=c?[f,p,eI(x,d)]:[f,p]},C={x:y,filter:g,bias:x,preluActivationWeights:w},_={strides:r,pad:a,dataFormat:o,dilations:l,dimRoundingMode:u,activation:h,leakyreluAlpha:p};if(null==c){var M=VE((function(e,t,n){var r=CS.runKernel(yk,C,_);return n([t,e,r]),b&&(r=wC(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:E}}));return M(y,g)}var A=VE((function(e,t,n,r){var a=CS.runKernel(yk,C,_);return r([t,e,a,n]),b&&(a=wC(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:E}}));return A(y,g,x)}});var sI=FS({fusedMatMul_:function(e){var t=e.a,n=e.b,r=e.transposeA,a=void 0!==r&&r,i=e.transposeB,o=void 0!==i&&i,s=e.bias,l=e.activation,u=void 0===l?"linear":l,c=e.preluActivationWeights,d=e.leakyreluAlpha;if(!1===nI(CS.state.gradientDepth,u)){var h=EC(t,n,a,o);return null!=s&&(h=KE(h,s)),tI(h,u,c,d)}var f=DS(t,"a","fused matMul"),p=DS(n,"b","fused matMul"),m=gS(f,p),v=(0,Z.Z)(m,2);f=v[0],p=v[1];var g=a?f.shape[f.rank-2]:f.shape[f.rank-1],y=o?p.shape[p.rank-1]:p.shape[p.rank-2],b=a?f.shape[f.rank-1]:f.shape[f.rank-2],x=o?p.shape[p.rank-2]:p.shape[p.rank-1],w=f.shape.slice(0,-2),k=p.shape.slice(0,-2),S=Dy(w),T=Dy(k);Iy(g===y,(function(){return"Error in fused matMul: inner shapes (".concat(g,") and (")+"".concat(y,") of Tensors with shapes ").concat(f.shape," and ")+"".concat(p.shape," and transposeA=").concat(a)+" and transposeB=".concat(o," must match.")}));var E,C,_=kE(f.shape.slice(0,-2),p.shape.slice(0,-2)).concat([b,x]),M=wC(f,a?[S,g,b]:[S,b,g]),A=wC(p,o?[T,x,y]:[T,y,x]);if(null!=s){var I=gS(E=DS(s,"bias","fused matMul"),f);E=(0,Z.Z)(I,1)[0],kE(_,E.shape)}null!=c&&(C=DS(c,"prelu weights","fused matMul"));var N=function(e,t){var n,r,i=(0,Z.Z)(t,4),l=i[0],c=i[1],d=i[2],h=i[3],f=QA(wC(e,d.shape),d,u);return a||o?!a&&o?(n=EC(f,c,!1,!1),r=EC(f,l,!0,!1)):a&&!o?(n=EC(c,f,!1,!0),r=EC(l,f,!1,!1)):(n=EC(c,f,!0,!0),r=EC(f,l,!0,!0)):(n=EC(f,c,!1,!0),r=EC(l,f,!0,!1)),null!=s?[n,r,eI(h,f)]:[n,r]},R={a:M,b:A,bias:E,preluActivationWeights:C},O={transposeA:a,transposeB:o,activation:u,leakyreluAlpha:d};if(null==s){var D=VE((function(e,t,n){var r=CS.runKernel(vk,R,O);return n([e,t,r]),{value:wC(r,_),gradFunc:N}}));return D(M,A)}var P=VE((function(e,t,n,r){var a=CS.runKernel(vk,R,O);return r([e,t,a,n]),{value:wC(a,_),gradFunc:N}}));return P(M,A,E)}});var lI=FS({hammingWindow_:function(e){return YA(e,.54,.46)}});var uI=FS({hannWindow_:function(e){return YA(e,.5,.5)}});var cI=FS({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0,o=[];i+t<=e.size;)o.push(MC(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,l=TC([MC(e,i,t-s),w_([s],a)]);o.push(l),i+=n}return 0===o.length?SA([],[0,t]):wC(TC(o),[o.length,t])}});var dI=FS({stft_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:uI;null==r&&(r=XA(t));var i=cI(e,t,n),o=CC(i,a(t));return pA(o,r)}});var hI=FS({cropAndResize_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=DS(e,"image","cropAndResize"),s=DS(t,"boxes","cropAndResize","float32"),l=DS(n,"boxInd","cropAndResize","int32"),u=s.shape[0];Iy(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),Iy(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(u,",4] ")+"but had shape ".concat(s.shape,".")})),Iy(1===l.rank&&l.shape[0]===u,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(u,"] ")+"but had shape ".concat(s.shape,".")})),Iy(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),Iy(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),Iy("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was ".concat(a)}));var c={image:o,boxes:s,boxInd:l},d={method:a,extrapolationValue:i,cropSize:r};return CS.runKernel(ex,c,d)}});var fI=FS({flipLeftRight_:function(e){var t=DS(e,"image","flipLeftRight","float32");Iy(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return CS.runKernel(wx,n,{})}});var pI=FS({grayscaleToRGB_:function(e){var t=DS(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];Iy(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")})),Iy(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")}));var a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,b_(t,a)}});var mI=FS({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=DS(e,"image","rotateWithOffset","float32");Iy(4===a.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")}));var i={image:a},o={radians:t,fillValue:n,center:r};return CS.runKernel(mk,i,o)}});function vI(e,t,n,r,a,i){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==i&&(i=0);var o=e.shape[0];return n=Math.min(n,o),Iy(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),Iy(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),Iy(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),Iy(1===t.rank,(function(){return"scores must be a 1D tensor"})),Iy(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(t.shape[0])})),Iy(0<=i&&i<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(i,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var gI=FS({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=DS(e,"boxes","nonMaxSuppression","float32"),o=DS(t,"scores","nonMaxSuppression","float32"),s=vI(i,o,n,r,a),l={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:a=s.scoreThreshold};return CS.runKernel(lw,{boxes:i,scores:o},l)}});function yI(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,a=e.length,i=0,o=!1;for(;r<a;){var s=n(t,e[i=r+(a-r>>>1)]);s>0?r=i+1:(a=i,o=!s)}return o?r:-r-1}(e,t,n||bI)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function bI(e,t){return e>t?1:e<t?-1:0}function xI(e,t,n,r,a){return SI(e,t,n,r,a,0)}function wI(e,t,n,r,a,i){return SI(e,t,n,r,a,0,!1,i,!0)}function kI(e,t,n,r,a,i){return SI(e,t,n,r,a,i,!0)}function SI(e,t,n,r,a,i){for(var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=[],c=0;c<t.length;c++)t[c]>a&&u.push({score:t[c],boxIndex:c,suppressBeginIndex:0});u.sort(CI);for(var d=i>0?-.5/i:0,h=[],f=[];h.length<n&&u.length>0;){var p=u.pop(),m=p.score,v=p.boxIndex,g=p.suppressBeginIndex;if(m<a)break;for(var y=!1,b=h.length-1;b>=g;--b){var x=TI(e,v,h[b]);if(x>=r){y=!0;break}if(p.score=p.score*EI(r,d,x),p.score<=a)break}p.suppressBeginIndex=h.length,y||(p.score===m?(h.push(v),f.push(p.score)):p.score>a&&yI(u,p,CI))}var w=h.length,k=n-w;s&&k>0&&(h.push.apply(h,(0,_.Z)(new Array(k).fill(0))),f.push.apply(f,(0,_.Z)(new Array(k).fill(0))));var S={selectedIndices:h};return o&&(S.selectedScores=f),l&&(S.validOutputs=w),S}function TI(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),h=Math.max(a[1],a[3]),f=(s-i)*(l-o),p=(d-u)*(h-c);if(f<=0||p<=0)return 0;var m=Math.max(i,u),v=Math.max(o,c),g=Math.min(s,d),y=Math.min(l,h),b=Math.max(g-m,0)*Math.max(y-v,0);return b/(f+p-b)}function EI(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function CI(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function _I(){return _I=mo(fo().mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h,f,p=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>3&&void 0!==p[3]?p[3]:.5,i=p.length>4&&void 0!==p[4]?p[4]:Number.NEGATIVE_INFINITY,o=DS(t,"boxes","nonMaxSuppressionAsync"),s=DS(n,"scores","nonMaxSuppressionAsync"),l=vI(o,s,r,a,i),r=l.maxOutputSize,a=l.iouThreshold,i=l.scoreThreshold,e.next=10,Promise.all([o.data(),s.data()]);case 10:return u=e.sent,c=u[0],d=u[1],h=xI(c,d,r,a,i),f=h.selectedIndices,o!==t&&o.dispose(),s!==n&&s.dispose(),e.abrupt("return",kA(f,"int32"));case 17:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}var MI=function(e,t,n){return _I.apply(this,arguments)};var AI=FS({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=DS(e,"boxes","nonMaxSuppression"),s=DS(t,"scores","nonMaxSuppression"),l=vI(o,s,n,r,a,i),u={boxes:o,scores:s},c={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:a=l.scoreThreshold,softNmsSigma:i=l.softNmsSigma},d=CS.runKernel(cw,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}});function II(){return II=mo(fo().mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h,f,p,m,v=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.length>3&&void 0!==v[3]?v[3]:.5,i=v.length>4&&void 0!==v[4]?v[4]:Number.NEGATIVE_INFINITY,o=v.length>5&&void 0!==v[5]?v[5]:0,s=DS(t,"boxes","nonMaxSuppressionAsync"),l=DS(n,"scores","nonMaxSuppressionAsync"),u=vI(s,l,r,a,i,o),r=u.maxOutputSize,a=u.iouThreshold,i=u.scoreThreshold,o=u.softNmsSigma,e.next=12,Promise.all([s.data(),l.data()]);case 12:return c=e.sent,d=c[0],h=c[1],f=kI(d,h,r,a,i,o),p=f.selectedIndices,m=f.selectedScores,s!==t&&s.dispose(),l!==n&&l.dispose(),e.abrupt("return",{selectedIndices:kA(p,"int32"),selectedScores:kA(m)});case 19:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}var NI=function(e,t,n){return II.apply(this,arguments)};var RI=FS({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=DS(e,"boxes","nonMaxSuppression"),s=DS(t,"scores","nonMaxSuppression"),l=vI(o,s,n,r,a,null),u={boxes:o,scores:s},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:i},d=CS.runKernel(uw,u,c);return{selectedIndices:d[0],validOutputs:d[1]}}});function OI(){return OI=mo(fo().mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h,f,p,m,v,g,y,b,x=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.length>3&&void 0!==x[3]?x[3]:.5,i=x.length>4&&void 0!==x[4]?x[4]:Number.NEGATIVE_INFINITY,o=x.length>5&&void 0!==x[5]&&x[5],s=DS(t,"boxes","nonMaxSuppressionAsync"),l=DS(n,"scores","nonMaxSuppressionAsync"),u=vI(s,l,r,a,i,null),c=u.maxOutputSize,d=u.iouThreshold,h=u.scoreThreshold,e.next=11,Promise.all([s.data(),l.data()]);case 11:return f=e.sent,p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=wI(m,v,c,d,h,o),y=g.selectedIndices,b=g.validOutputs,s!==t&&s.dispose(),l!==n&&l.dispose(),e.abrupt("return",{selectedIndices:kA(y,"int32"),validOutputs:HE(b,"int32")});case 19:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}var DI=function(e,t,n){return OI.apply(this,arguments)};var PI=FS({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=DS(e,"images","resizeBilinear");Iy(3===a.rank||4===a.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")})),Iy(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),Iy(!1===r||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var i=a,o=!1;3===a.rank&&(o=!0,i=wC(a,[1,a.shape[0],a.shape[1],a.shape[2]])),(0,Z.Z)(t,0);var s={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=CS.runKernel(Ew,s,l);return o?wC(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});var LI=FS({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=DS(e,"images","resizeNearestNeighbor");Iy(3===a.rank||4===a.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")})),Iy(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),Iy("float32"===a.dtype||"int32"===a.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),Iy(!1===r||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var i=a,o=!1;3===a.rank&&(o=!0,i=wC(a,[1,a.shape[0],a.shape[1],a.shape[2]])),(0,Z.Z)(t,0);var s={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=CS.runKernel(Sw,s,l);return o?wC(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});var FI=FS({threshold_:function(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,l=DS(e,"image","threshold"),u=l.shape[0]*l.shape[1],c=CC(kA([s]),255);if(Iy(3===l.rank,(function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(l.rank,".")})),Iy(3===l.shape[2]||1===l.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(l.shape[2],".")})),Iy("int32"===l.dtype||"float32"===l.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(l.dtype,".")})),Iy("otsu"===i||"binary"===i,(function(){return"Method must be binary or otsu, but was ".concat(i)})),3===l.shape[2]){var d=fA(l,[1,1,1],-1),h=(0,Z.Z)(d,3);t=h[0],n=h[1],r=h[2];var f=CC(t,.2989),p=CC(n,.587),m=CC(r,.114);a=KE(KE(f,p),m)}else a=e;"otsu"===i&&(c=function(e,t){for(var n,r,a,i,o,s,l=kA([-1]),u=kA([0]),c=kA([0]),d=0;d<e.size-1;d++){n=MC(e,0,d+1),r=MC(e,d+1),o=s_(W_(n),t),s=s_(W_(r),t);var h=W_(CC(n,BM(0,n.size)));a=s_(h,W_(n));var f=w_(r.shape,n.size),p=KE(BM(0,r.size),f),m=CC(r,p);i=s_(W_(m),W_(r));var v=U_(a,i),g=U_(a,i),y=CC(o,s);c=CC(CC(y,v),g);var b=T_(c,u);u=u_(b,c,u),l=u_(b,kA([d]),l)}return l}(LC(KT(KM(a),"int32"),BS([]),256),u));var v=o?R_(a,c):T_(a,c);return KT(CC(v,255),"int32")}});var jI=FS({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,o=DS(e,"image","transform","float32"),s=DS(t,"transforms","transform","float32");Iy(4===o.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),Iy(2===s.rank&&(s.shape[0]===o.shape[0]||1===s.shape[0])&&8===s.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),Iy(null==i||2===i.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(i,".")}));var l={image:o,transforms:s},u={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return CS.runKernel(sk,l,u)}});var zI=FS({bandPart_:function(e,t,n){Iy(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),Iy(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}));var r=DS(e,"a","bandPart");Iy(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var a=r.shape,i=r.shape.slice(-2),o=(0,Z.Z)(i,2),s=o[0],l=o[1];if(!(t<=s))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(s,")."));if(!(n<=l))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(l,")."));t<0&&(t=s),n<0&&(n=l);var u=wC(BM(0,s,1,"int32"),[-1,1]),c=BM(0,l,1,"int32"),d=U_(u,c),h=$_(R_(d,HE(+t,"int32")),E_(d,HE(-n,"int32"))),f=sM([s,l],r.dtype);return wC(yA(NA(wC(r,[-1,s,l])).map((function(e){return u_(h,e,f)}))),a)}});var BI=FS({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,Iy(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){Iy(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},a=1;a<e.length;++a)r(a)}else t=!0,e=fA(e,e.shape[0],0).map((function(e){return gA(e,[0])}));Iy(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var i=[],o=e,s=function(e){i.push(CS.tidy((function(){var t=o[e];if(e>0)for(var n=0;n<e;++n){var r=CC(W_(CC(i[n],t)),i[n]);t=U_(t,r)}return s_(t,BA(t,"euclidean"))})))},l=0;l<e.length;++l)s(l);return t?yA(i,0):i}});function UI(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return CS.tidy((function(){Iy(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],a=x_(n),i=JT(e),o=SA([[1]],[1,1]),s=JT(o),l=n>=r?r:n,u=function(e){var t=i,l=s,u=a,c=CS.tidy((function(){var t=MC(i,[e,e],[n-e,1]),l=BA(t),u=MC(i,[e,e],[1,1]),c=u_(T_(u,0),SA([[-1]]),SA([[1]])),d=U_(u,CC(c,l)),h=s_(t,d);s=1===h.shape[0]?JT(o):TC([o,MC(h,[1,0],[h.shape[0]-1,h.shape[1]])],0);var f=F_(s_(EC(c,d),l)),p=MC(i,[e,0],[n-e,r]),m=CC(f,s),v=jA(s);if(0===e)i=U_(p,EC(m,EC(v,p)));else{var g=U_(p,EC(m,EC(v,p)));i=TC([MC(i,[0,0],[e,r]),g],0)}var y=jA(m),b=MC(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=U_(b,EC(EC(b,s),y));else{var x=U_(b,EC(EC(b,s),y));a=TC([MC(a,[0,0],[n,e]),x],1)}return[s,i,a]})),d=(0,Z.Z)(c,3);s=d[0],i=d[1],a=d[2],UE([t,l,u])},c=0;c<l;++c)u(c);return!t&&n>r&&(a=MC(a,[0,0],[n,r]),i=MC(i,[0,0],[r,r])),[a,i]}))}var WI,ZI=FS({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Iy(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return UI(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=NA(wC(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];return r.forEach((function(e){var n=UI(e,t),r=(0,Z.Z)(n,2),o=r[0],s=r[1];a.push(o),i.push(s)})),[wC(yA(a,0),e.shape),wC(yA(i,0),e.shape)]}});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(WI||(WI={}));var VI=FS({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:WI.SUM_BY_NONZERO_WEIGHTS,r=DS(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=DS(t,"weights","computeWeightedLoss"));var i=null==a?r:CC(r,a);if(n===WI.NONE)return i;if(n===WI.SUM)return W_(i);if(n===WI.MEAN){if(null==a)return oM(i);var o=r.size/a.size,s=s_(W_(i),W_(a));return o>1?s_(s,HE(o)):s}if(n===WI.SUM_BY_NONZERO_WEIGHTS){if(null==a)return s_(W_(i),HE(r.size));var l=CC(a,lM(r.shape)),u=KT(W_(yM(l,HE(0))),"float32");return s_(W_(i),u)}throw Error("Unknown reduction: ".concat(n))}});var HI=FS({absoluteDifference_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:WI.SUM_BY_NONZERO_WEIGHTS,a=DS(e,"labels","absoluteDifference"),i=DS(t,"predictions","absoluteDifference"),o=null;null!=n&&(o=DS(n,"weights","absoluteDifference")),Ny(a.shape,i.shape,"Error in absoluteDifference: ");var s=qE(U_(a,i));return VI(s,o,r)}});var GI=FS({cosineDistance_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:WI.SUM_BY_NONZERO_WEIGHTS,i=DS(e,"labels","cosineDistance"),o=DS(t,"predictions","cosineDistance"),s=null;null!=r&&(s=DS(r,"weights","cosineDistance")),Ny(i.shape,o.shape,"Error in cosineDistance: ");var l=HE(1),u=U_(l,W_(CC(i,o),n,!0));return VI(u,s,a)}});var qI=FS({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:WI.SUM_BY_NONZERO_WEIGHTS,a=DS(e,"labels","hingeLoss"),i=DS(t,"predictions","hingeLoss"),o=null;null!=n&&(o=DS(n,"weights","hingeLoss")),Ny(a.shape,i.shape,"Error in hingeLoss: ");var s=HE(1);a=U_(CC(HE(2),a),s);var l=ZM(U_(s,CC(a,i)));return VI(l,o,r)}});var XI=FS({huberLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:WI.SUM_BY_NONZERO_WEIGHTS,i=DS(e,"labels","huberLoss"),o=DS(t,"predictions","huberLoss"),s=null;null!=n&&(s=DS(n,"weights","huberLoss")),Ny(i.shape,o.shape,"Error in huberLoss: ");var l=HE(r),u=qE(U_(o,i)),c=dM(u,l),d=U_(u,c),h=KE(CC(HE(.5),pM(c)),CC(l,d));return VI(h,s,a)}});var YI=FS({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:WI.SUM_BY_NONZERO_WEIGHTS,i=DS(e,"labels","logLoss"),o=DS(t,"predictions","logLoss"),s=null;null!=n&&(s=DS(n,"weights","logLoss")),Ny(i.shape,o.shape,"Error in logLoss: ");var l=HE(1),u=HE(r),c=F_(CC(i,P_(KE(o,u)))),d=CC(U_(l,i),P_(KE(U_(l,o),u))),h=U_(c,d);return VI(h,s,a)}});var KI=FS({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:WI.SUM_BY_NONZERO_WEIGHTS,a=DS(e,"labels","meanSquaredError"),i=DS(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=DS(n,"weights","meanSquaredError")),Ny(a.shape,i.shape,"Error in meanSquaredError: ");var s=vA(a,i);return VI(s,o,r)}});var JI=FS({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:WI.SUM_BY_NONZERO_WEIGHTS,i=DS(e,"multiClassLabels","sigmoidCrossEntropy"),o=DS(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=DS(n,"weights","sigmoidCrossEntropy")),Ny(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=HE(r),u=HE(1),c=HE(.5);i=KE(CC(i,U_(u,l)),CC(c,l))}var d=function(e,t){var n=DS(e,"labels","sigmoidCrossEntropyWithLogits"),r=DS(t,"logits","sigmoidCrossEntropyWithLogits");Ny(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=ZM(r),i=CC(r,n),o=L_(v_(F_(qE(r))));return KE(U_(a,i),o)}(i,o);return VI(d,s,a)}});var $I=FS({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:WI.SUM_BY_NONZERO_WEIGHTS,i=DS(e,"onehotLabels","softmaxCrossEntropy"),o=DS(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=DS(n,"weights","softmaxCrossEntropy")),Ny(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var l=HE(r),u=HE(1),c=HE(i.shape[1]);i=KE(CC(i,U_(u,l)),s_(l,c))}var d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));var r=VE((function(e,t,r){var a=J_(t,[n],!0),i=U_(KT(t,"float32"),a);r([e,i]);var o=F_(CC(i,e));return{value:W_(o,[n]),gradFunc:function(e,t){var r=(0,Z.Z)(t,2),a=r[0],i=r[1],o=G_(e.shape,[n]);return[CC(wC(e,o),U_(KT(a,"float32"),v_(i))),CC(wC(e,o),U_(v_(i),KT(a,"float32")))]}}}));return r(e,t)}(i,o);return VI(d,s,a)}});var QI=FS({sparseFillEmptyRows_:function(e,t,n,r){var a=DS(e,"indices","sparseFillEmptyRows","int32"),i=DS(t,"values","sparseFillEmptyRows"),o=DS(n,"denseShape","sparseFillEmptyRows","int32"),s=DS(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==i.rank)throw new Error("Values should be Tensor1D but received shape ".concat(i.shape));if(1!==o.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(o.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));var l={indices:a,values:i,denseShape:o,defaultValue:s},u=CS.runKernel(Hw,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});var eN=FS({sparseReshape_:function(e,t,n){var r=DS(e,"inputIndices","sparseReshape","int32"),a=DS(t,"inputShape","sparseReshape","int32"),i=DS(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==i.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(i.shape));var o={inputIndices:r,inputShape:a,newShape:i},s=CS.runKernel(Gw,o);return{outputIndices:s[0],outputShape:s[1]}}});var tN=FS({sparseSegmentMean_:function(e,t,n){var r=DS(e,"data","sparseSegmentMean"),a=DS(t,"indices","sparseSegmentMean","int32"),i=DS(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(i.shape));var o={data:r,indices:a,segmentIds:i};return CS.runKernel(qw,o)}});var nN=FS({sparseSegmentSum_:function(e,t,n){var r=DS(e,"data","sparseSegmentSum"),a=DS(t,"indices","sparseSegmentSum","int32"),i=DS(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(i.shape));var o={data:r,indices:a,segmentIds:i};return CS.runKernel(Xw,o)}});var rN=FS({stringNGrams_:function(e,t,n,r,a,i,o,s){var l=DS(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error("Data must be a vector, saw: ".concat(l.shape));var u=DS(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");var c={separator:n,nGramWidths:r,leftPad:a,rightPad:i,padWidth:o,preserveShortSequences:s},d={data:l,dataSplits:u},h=CS.runKernel(Qw,d,c);return{nGrams:h[0],nGramsSplits:h[1]}}});var aN=FS({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=DS(e,"input","stringSplit","string"),a=DS(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));var i={skipEmpty:n},o={input:r,delimiter:a},s=CS.runKernel(ek,o,i);return{indices:s[0],values:s[1],shape:s[2]}}});var iN=FS({stringToHashBucketFast_:function(e,t){var n=DS(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var a={input:n};return CS.runKernel(tk,a,r)}}),oN={fft:cA,ifft:dA,rfft:pA,irfft:hA},sN={hammingWindow:lI,hannWindow:uI,frame:cI,stft:dI},lN={flipLeftRight:fI,grayscaleToRGB:pI,resizeNearestNeighbor:LI,resizeBilinear:PI,rotateWithOffset:mI,cropAndResize:hI,nonMaxSuppression:gI,nonMaxSuppressionAsync:MI,nonMaxSuppressionWithScore:AI,nonMaxSuppressionWithScoreAsync:NI,nonMaxSuppressionPadded:RI,nonMaxSuppressionPaddedAsync:DI,threshold:FI,transform:jI},uN={bandPart:zI,gramSchmidt:BI,qr:ZI},cN={absoluteDifference:HI,computeWeightedLoss:VI,cosineDistance:GI,hingeLoss:qI,huberLoss:XI,logLoss:YI,meanSquaredError:KI,sigmoidCrossEntropy:JI,softmaxCrossEntropy:$I},dN={sparseFillEmptyRows:QI,sparseReshape:eN,sparseSegmentMean:tN,sparseSegmentSum:nN},hN={stringNGrams:rN,stringSplit:aN,stringToHashBucketFast:iN},fN=function(e){O(n,e);var t=z(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return M(this,n),(a=t.call(this)).learningRate=e,a.rho=r,a.epsilon=i,a.accumulatedGrads=[],a.accumulatedUpdates=[],null==i&&(a.epsilon=CS.backend.epsilon()),a}return N(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=CS.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:BE((function(){return c_(a).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:BE((function(){return c_(a).variable(false)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;BE((function(){var e=KE(CC(o,t.rho),CC(pM(i),1-t.rho)),n=CC(s_(mA(KE(s,t.epsilon)),mA(KE(o,t.epsilon))),i),r=KE(CC(s,t.rho),CC(pM(n),1-t.rho));o.assign(e),s.assign(r);var l=KE(CC(n,-t.learningRate),a);a.assign(l)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&(UE(this.accumulatedGrads.map((function(e){return e.variable}))),UE(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,_.Z)(this.accumulatedGrads),(0,_.Z)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(GE);fN.className="Adadelta",FE(fN);var pN=function(e){O(n,e);var t=z(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return M(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=a,r.accumulatedGrads=[],r}return N(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=CS.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:BE((function(){return w_(a.shape,t.initialAccumulatorValue).variable(false)}))}}var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable;BE((function(){var e=KE(o,pM(i));o.assign(e);var n=KE(CC(s_(i,mA(KE(e,CS.backend.epsilon()))),-t.learningRate),a);a.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&UE(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(GE);pN.className="Adagrad",FE(pN);var mN=function(e){O(n,e);var t=z(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return M(this,n),(i=t.call(this)).learningRate=e,i.beta1=r,i.beta2=a,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],BE((function(){i.accBeta1=HE(r).variable(),i.accBeta2=HE(a).variable()})),null==o&&(i.epsilon=CS.backend.epsilon()),i}return N(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);BE((function(){var r=U_(1,t.accBeta1),a=U_(1,t.accBeta2);n.forEach((function(n,i){var o=CS.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:BE((function(){return c_(o).variable(false)}))}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:"".concat(n,"/v"),variable:BE((function(){return c_(o).variable(false)}))});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var l=t.accumulatedFirstMoment[i].variable,u=t.accumulatedSecondMoment[i].variable,c=KE(CC(l,t.beta1),CC(s,1-t.beta1)),d=KE(CC(u,t.beta2),CC(pM(s),1-t.beta2)),h=s_(c,r),f=s_(d,a);l.assign(c),u.assign(d);var p=KE(CC(s_(h,KE(mA(f),t.epsilon)),-t.learningRate),o);o.assign(p)}})),t.accBeta1.assign(CC(t.accBeta1,t.beta1)),t.accBeta2.assign(CC(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&UE(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&UE(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,_.Z)(this.accumulatedFirstMoment),(0,_.Z)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=mo(fo().mark((function e(t){var n,r=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,BE((function(){r.accBeta1.assign(AM(r.beta1,r.iterations_+1)),r.accBeta2.assign(AM(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(GE);mN.className="Adam",FE(mN);var vN=function(e){O(n,e);var t=z(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return M(this,n),(i=t.call(this)).learningRate=e,i.beta1=r,i.beta2=a,i.epsilon=o,i.decay=s,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],BE((function(){i.iteration=HE(0).variable(),i.accBeta1=HE(r).variable()})),null==o&&(i.epsilon=CS.backend.epsilon()),i}return N(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);BE((function(){var r=U_(1,t.accBeta1),a=s_(-t.learningRate,KE(CC(t.iteration,t.decay),1));n.forEach((function(n,i){var o=CS.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:c_(o).variable(false)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:"".concat(n,"/v"),variable:c_(o).variable(false)});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var l=t.accumulatedFirstMoment[i].variable,u=t.accumulatedWeightedInfNorm[i].variable,c=KE(CC(l,t.beta1),CC(s,1-t.beta1)),d=CC(u,t.beta2),h=qE(s),f=iM(d,h);l.assign(c),u.assign(f);var p=KE(CC(s_(a,r),s_(c,KE(f,t.epsilon))),o);o.assign(p)}})),t.iteration.assign(KE(t.iteration,1)),t.accBeta1.assign(CC(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&UE(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&UE(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(GE);vN.className="Adamax",FE(vN);var gN=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return N(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);n.forEach((function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var i=CS.registeredVariables[n];BE((function(){var e=KE(CC(t.c,a),i);i.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=WE(HE(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(GE);gN.className="SGD",FE(gN);var yN=function(e){O(n,e);var t=z(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return M(this,n),(a=t.call(this,e)).learningRate=e,a.momentum=r,a.useNesterov=i,a.accumulations=[],a.m=HE(a.momentum),a}return N(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=CS.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:BE((function(){return c_(a).variable(false)}))}}var i=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&BE((function(){var e,n=KE(CC(t.m,i),o);e=t.useNesterov?KE(CC(t.c,KE(o,CC(n,t.m))),a):KE(CC(t.c,n),a),i.assign(n),a.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&UE(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(gN);yN.className="Momentum",FE(yN);var bN=function(e){O(n,e);var t=z(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(M(this,n),(r=t.call(this)).learningRate=e,r.decay=a,r.momentum=i,r.epsilon=o,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=s,null==o&&(r.epsilon=CS.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return N(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=CS.registeredVariables[n],i=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:BE((function(){return c_(a).variable(i)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:BE((function(){return c_(a).variable(i)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:BE((function(){return c_(a).variable(i)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var s=t.accumulatedMeanSquares[r].variable,l=t.accumulatedMoments[r].variable;BE((function(){var e=KE(CC(s,t.decay),CC(pM(o),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,i=KE(CC(n,t.decay),CC(o,1-t.decay)),u=s_(CC(o,t.learningRate),mA(U_(e,KE(pM(i),t.epsilon)))),c=KE(CC(l,t.momentum),u);s.assign(e),n.assign(i),l.assign(c);var d=U_(a,c);a.assign(d)}else{var h=KE(CC(s,t.decay),CC(pM(o),1-t.decay)),f=KE(CC(l,t.momentum),s_(CC(o,t.learningRate),mA(KE(h,t.epsilon))));s.assign(h),l.assign(f);var p=U_(a,f);a.assign(p)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&UE(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&UE(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&UE(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,_.Z)(this.accumulatedMeanSquares),(0,_.Z)(this.accumulatedMoments)),this.centered&&t.push.apply(t,(0,_.Z)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,r=!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(GE);bN.className="RMSProp",FE(bN);var xN=function(){function e(){M(this,e)}return N(e,null,[{key:"sgd",value:function(e){return new gN(e)}},{key:"momentum",value:function(e,t){return new yN(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}},{key:"rmsprop",value:function(e){return new bN(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]&&arguments[4])}},{key:"adam",value:function(){return new mN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}},{key:"adadelta",value:function(){return new fN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"adamax",value:function(){return new vN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)}},{key:"adagrad",value:function(e){return new pN(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)}}]),e}(),wN={sgd:xN.sgd,momentum:xN.momentum,adadelta:xN.adadelta,adagrad:xN.adagrad,rmsprop:xN.rmsprop,adamax:xN.adamax,adam:xN.adam},kN="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:function(e){return e()};function SN(){return new Promise((function(e){return kN((function(){return e()}))}))}function TN(e,t){var n=e[0].length;e.forEach((function(e,t){Iy(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),Iy(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,a){for(var i=0;i<n;i++)Iy(i===t||e[i]===r[i],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,".")}))}))}function EN(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}var CN=30;function _N(e){return e<=CN?e:$y(e,Math.floor(Math.sqrt(e)))}function MN(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function AN(e,t,n){var r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])(r=r.concat(t.slice(0))).push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);for(var a=t.length,i=0;i<a;++i)r=r.concat([e[i+1]/t[i],t[i]]);r=r.concat(e.slice(a+1))}return r}function IN(e,t){var n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(var r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{for(var a=[],i=[],o=1;o<e;++o)o>=2*t+1||o%2===1?i.push(o):a.push(o);n.push.apply(n,a),n.push(0),n.push.apply(n,i)}return n}function NN(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function RN(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function ON(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function DN(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===Dy(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var a=t.shape,i=a[a.length-1],o=1,s=0;s<a.length-1;++s)o*=a[s];var l=e.shape,u=a.slice();u.pop();for(var c=1,d=i;d<n;++d)c*=l[d],u.push(l[d]);var h=[].concat((0,_.Z)(Qy(e.shape).map((function(e){return e/c}))),[1]).slice(0,i);return[u,o,c,h]}var PN=1.7580993408473768,LN=1.0507009873554805,FN=.3275911,jN=.254829592,zN=-.284496736,BN=1.421413741,UN=-1.453152027,WN=1.061405429;function ZN(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function VN(e,t){return{real:e[2*t],imag:e[2*t+1]}}function HN(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function GN(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var qN="->",XN=/->/g,YN=",",KN="...";function JN(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(XN,"").length)/qN.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(qN,'").'));var r=e.split(qN),a=(0,Z.Z)(r,2),i=a[0],o=a[1];Iy(-1===i.indexOf(KN),(function(){return'The ellipsis notation ("'.concat(KN,'") is not supported yet.')}));var s=i.split(YN),l=s.length;if(t!==l)throw new Error("Expected ".concat(l," input tensors, received ").concat(t));if(l>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var u=[],c=function(){var e=o[d];if(!s.some((function(t){return-1!==t.indexOf(e)})))throw new Error("Output subscripts contain the label ".concat(e," ")+"not present in the input subscripts.");-1===u.indexOf(e)&&u.push(e)},d=0;d<o.length;++d)c();for(var h=0;h<i.length;++h){var f=i[h];-1===u.indexOf(f)&&f!==YN&&u.push(f)}for(var p=new Array(s.length),m=0;m<l;++m){if(new Set(s[m].split("")).size!==s[m].length)throw new Error("Found duplicate axes in input component ".concat(s[m],". ")+"Support for duplicate axes in input is not implemented yet.");p[m]=[];for(var v=0;v<s[m].length;++v)p[m].push(u.indexOf(s[m][v]))}for(var g=u.length,y=[],b=o.length;b<g;++b)y.push(b);return{allDims:u,summedDims:y,idDims:p}}function $N(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var a=[],i=0;i<e;++i)-1===n[i]&&a.push(i);return n=n.filter((function(e){return-1!==e})),{permutationIndices:n,expandDims:a}}function QN(e,t,n){for(var r=new Array(e),a=function(e){for(var a=n[e].shape,i=function(n){void 0===r[t[e][n]]?r[t[e][n]]=a[n]:Iy(r[t[e][n]]===a[n],(function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(a),", ")+"but got dimension ".concat(a[n])}))},o=0;o<t[e].length;++o)i(o)},i=0;i<n.length;++i)a(i)}function eR(e,t){var n,r=e,a=[];0===e.length&&r.push(-1),n=e.length+1;for(var i=0;i<n;++i)a.push([]);for(var o=[],s=0;s<r.length;++s){var l,u=X(nR(t,r[s]));try{for(u.s();!(l=u.n()).done;){var c=l.value;-1===o.indexOf(c)&&(a[s].push(c),o.push(c))}}catch(JNe){u.e(JNe)}finally{u.f()}}return{path:r,steps:a}}function tR(e){return e.every((function(e,t){return e===t}))}function nR(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function rR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)Iy(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var a=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);Iy(a<=1,(function(){return"There should be only one negative value in split array."}));var i=t.indexOf(-1);if(-1!==i){var o=t.reduce((function(e,t){return t>0?e+t:e}));t[i]=e.shape[n]-o}Iy(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function aR(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function iR(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function oR(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function sR(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function lR(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function uR(e,t,n,r){var a=t.shape.length,i=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>i)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(i,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var o=0;o<r;++o)if(e.shape[o]!==t.shape[o])throw new Error("x.shape[".concat(o,"]: ").concat(e.shape[o]," should be equal to indices.shape[").concat(o,"]: ").concat(t.shape[o],"."));for(var s=e.shape[n],l=[],u=1,c=1,d=1,h=0;h<r;++h)l.push(e.shape[h]),u*=e.shape[h];for(var f=r;f<n;f++)l.push(e.shape[f]),c*=e.shape[f];for(var p=r;p<a;p++)l.push(t.shape[p]);for(var m=n+1;m<i;m++)l.push(e.shape[m]),d*=e.shape[m];return{batchSize:u,sliceSize:d,outerSize:c,dimSize:s,outputShape:l}}function cR(e){try{return e.map((function(e){return Gk(e)}))}catch(JNe){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(JNe))}}var dR={kernelName:gb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC(e,bA(KT(n,"float32"),-1))}}}},hR={kernelName:yb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){var t=pM(KT(n,"float32")),r=mA(U_(HE(1),t));return F_(s_(e,r))}}}},fR={kernelName:bb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){var t=mA(U_(pM(KT(n,"float32")),1));return s_(e,t)}}}},pR={kernelName:xb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=kE(r.shape,a.shape);return{a:function(){var t=e,n=wE(r.shape,i);return n.length>0&&(t=W_(t,n)),wC(t,r.shape)},b:function(){var t=e,n=wE(a.shape,i);return n.length>0&&(t=W_(t,n)),wC(t,a.shape)}}}},mR={kernelName:wb,saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}},vR={kernelName:Tb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return c_(n)}}}},gR={kernelName:Eb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return c_(n)}}}},yR={kernelName:Cb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return s_(e,mA(U_(HE(1),pM(KT(n,"float32")))))}}}},bR={kernelName:_b,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){var t=mA(KE(HE(1),pM(KT(n,"float32"))));return s_(e,t)}}}},xR={kernelName:Ib,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=kE(r.shape,a.shape);return{a:function(){var t=KE(pM(r),pM(a)),n=CC(e,s_(a,t)),o=wE(r.shape,i);return o.length>0&&(n=W_(n,o)),wC(n,r.shape)},b:function(){var t=KE(pM(r),pM(a)),n=F_(CC(e,s_(r,t))),o=wE(a.shape,i);return o.length>0&&(n=W_(n,o)),wC(n,a.shape)}}}},wR={kernelName:Mb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return s_(e,KE(pM(KT(n,"float32")),1))}}}},kR={kernelName:Ab,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return s_(e,U_(HE(1),pM(KT(n,"float32"))))}}}};var SR=FS({avgPool3dGrad_:function(e,t,n,r,a,i){var o=DS(e,"dy","avgPool3dGrad"),s=DS(t,"input","avgPool3dGrad"),l=o,u=s,c=!1;4===s.rank&&(c=!0,l=wC(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),u=wC(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),Iy(5===l.rank,(function(){return"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(l.rank,".")})),Iy(5===u.rank,(function(){return"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(u.rank,".")})),xC("avgPool3dGrad",a,i);var d={dy:l,input:u},h={filterSize:n,strides:r,pad:a,dimRoundingMode:i},f=CS.runKernel(Db,d,h);return c?wC(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}}),TR={kernelName:Ob,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,1)[0],a=n.filterSize,i=n.strides,o=n.pad,s=n.dimRoundingMode;return{x:function(){return SR(e,r,a,i,o,s)}}}};var ER=FS({avgPoolGrad_:function(e,t,n,r,a){var i=DS(e,"dy","avgPoolGrad"),o=DS(t,"input","avgPoolGrad");Iy(o.rank===i.rank,(function(){return"Rank of input (".concat(o.rank,") does not match rank of dy (").concat(i.rank,")")}));var s=o,l=i,u=!1;3===o.rank&&(u=!0,s=wC(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=wC(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Iy(4===l.rank,(function(){return"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(l.rank,".")})),Iy(4===s.rank,(function(){return"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(s.rank,".")}));var c={dy:l,input:s},d={filterSize:n,strides:r,pad:a},h=CS.runKernel(Rb,c,d);return u?wC(h,[h.shape[1],h.shape[2],h.shape[3]]):h}}),CR={kernelName:Nb,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,1)[0],a=n.filterSize,i=n.strides,o=n.pad;return{x:function(){return ER(e,r,a,i,o)}}}},_R={kernelName:Pb,inputsToSave:["a","b"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,2),a=r[0],i=r[1],o=n.transposeA,s=n.transposeB;return o||s?!o&&s?{a:function(){return EC(e,i,!1,!1)},b:function(){return EC(e,a,!0,!1)}}:o&&!s?{a:function(){return EC(i,e,!1,!0)},b:function(){return EC(a,e,!1,!1)}}:{a:function(){return EC(i,e,!0,!0)},b:function(){return EC(e,a,!0,!0)}}:{a:function(){return EC(e,i,!1,!0)},b:function(){return EC(a,e,!0,!1)}}}},MR={kernelName:Lb,gradFunc:function(e,t,n){var r=n.blockShape,a=n.crops;return{x:function(){return _M(e,r,a)}}}},AR={kernelName:"BroadcastTo",gradFunc:function(e,t,n){for(var r=n,a=r.inputShape,i=r.shape,o=Array.from(i),s=a.length-1;s>=0;s--)if(a[s]===i[s])o[s]=1;else if(1!==a[s])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(i,"]."));for(var l=[],u=0;u<o.length;u++)o[u]>1&&l.push(u);return{x:function(){return W_(e,l,!0)}}}},IR={kernelName:zb,gradFunc:function(e){return{x:function(){return e.clone()}}}},NR={kernelName:Bb,gradFunc:function(e){return{x:function(){return c_(e)}}}},RR={kernelName:Ub,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,1)[0],a=n.clipValueMin,i=n.clipValueMax;return{x:function(){return u_($_(E_(r,a),R_(r,i)),e,c_(e))}}}},OR={kernelName:Zb,inputsToSave:["x"],gradFunc:dR.gradFunc},DR={kernelName:Vb,saveAllInputs:!0,gradFunc:function(e,t,n){var r=t.map((function(e){return e.shape})),a=Uy(n.axis,t[0].shape)[0],i=r.map((function(e){return e[a]}));return fA(e,i,a).map((function(e){return function(){return e}}))}},PR={kernelName:Hb,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,2),a=r[0],i=r[1],o=n.dilations,s=n.strides,l=n.pad,u=n.dataFormat;return Iy(gC(o),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'")})),{x:function(){return qC(a.shape,e,i,s,l,u)},filter:function(){return $A(a,e,i.shape,s,l,u)}}}},LR={kernelName:qb,inputsToSave:["dy","filter"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,2),a=r[0],i=r[1],o=n.strides,s=n.pad,l=n.dataFormat,u=n.dimRoundingMode;return{dy:function(){return HC(e,i,o,s,l,1,u)},filter:function(){return $A(e,a,i.shape,o,s,l,u)}}}};var FR=FS({conv3DBackpropFilter_:function(e,t,n,r,a){var i=e;4===e.rank&&(i=wC(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));var o=t;4===o.rank&&(o=wC(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),Iy(5===i.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(i.shape,".")})),Iy(5===o.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(o.shape,".")})),Iy(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")})),Iy(i.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input ".concat(i.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")})),Iy(o.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy (".concat(o.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")}));var s={x:i,dy:o},l={strides:r,pad:a,filterShape:n};return CS.runKernel(Yb,s,l)}}),jR={kernelName:Xb,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad;Iy(gC(r),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")}));var o=(0,Z.Z)(t,2),s=o[0],l=o[1];return{x:function(){return KC(s.shape,e,l,a,i)},filter:function(){return FR(s,e,l.shape,a,i)}}}},zR={kernelName:Jb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC(F_(rA(KT(n,"float32"))),e)}}}},BR={kernelName:$b,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC(aA(KT(n,"float32")),e)}}}},UR={kernelName:Qb,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,1)[0],a=n.axis,i=n.exclusive,o=n.reverse;return{x:function(){var t=X_([a],r.rank),n=e_(e,a,i,!o);return null!=t&&(n=jA(n,t)),n}}}},WR={kernelName:rx,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad,o=n.dimRoundingMode,s=null==r?[1,1]:r;Iy(gC(s),(function(){return"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")}));var l=(0,Z.Z)(t,2),u=l[0],c=l[1];return Iy(4===u.rank,(function(){return"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(u.rank,".")})),Iy(4===c.rank,(function(){return"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(c.rank,".")})),Iy(u.shape[3]===c.shape[2],(function(){return"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(u.shape[3],") must match the inChannels dimension ")+"in filter ".concat(c.shape[2],".")})),Iy(yC(a,s),(function(){return"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(a," and dilations ")+"'".concat(s,"'.")})),xC("depthwiseConv2d",i,o),{x:function(){return iI(u.shape,e,c,a,i,s,o)},filter:function(){return aI(u,e,c.shape,a,i,s,o)}}}},ZR={kernelName:sx,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,2),a=r[0],i=r[1],o={x:a,filter:i,dy:e},s={x:a,filter:i,dy:e};return{x:function(){return CS.runKernel(lx,o,n)},filter:function(){return CS.runKernel(ux,s,n)}}}},VR={kernelName:hx,outputsToSave:[!0],gradFunc:function(e,t){var n={dy:e,y:(0,Z.Z)(t,1)[0]};return{x:function(){return CS.runKernel(fx,n)}}}},HR={kernelName:px,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0],r=CC(v_(F_(pM(n))),2/Math.sqrt(Math.PI));return{x:function(){return CC(e,r)}}}},GR={kernelName:vx,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC(e,n)}}}},qR={kernelName:gx,inputsToSave:["input"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{input:function(){return wC(e,n.shape)}}}},XR={kernelName:yx,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC(e,v_(n))}}}},YR={kernelName:kx,gradFunc:function(e){return{x:function(){return c_(e)}}}},KR={kernelName:Sx,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=kE(r.shape,a.shape);return{a:function(){var t=s_(e,KT(a,"float32")),n=wE(r.shape,i);return n.length>0?wC(W_(t,n),r.shape):t},b:function(){var t=CC(e,KT(r,"float32")),n=wE(a.shape,i);n.length>0&&(t=wC(W_(t,n),a.shape));var o=pM(a);return F_(s_(t,KT(o,"float32")))}}}},JR={kernelName:Tx,inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,a=(0,Z.Z)(t,4),i=a[0],o=a[1],s=a[2],l=a[3],u=null==l?HE(1):l,c=wE(o.shape,i.shape),d=[];if(1===o.rank){for(var h=0;h<i.shape.length-1;++h)d.push(i.shape[h]);d.push(1)}var f=U_(i,o),p=CC(e,u),m=JM(KE(s,HE(r))),v=CC(CC(CC(m,m),m),HE(-.5));return{x:function(){return 1===o.rank?wC(CC(CC(e,b_(wC(m,[1,1,1,o.shape[0]]),d)),u),i.shape):wC(CC(CC(e,m),u),i.shape)},mean:function(){var e=CC(CC(m,HE(-1)),p);return 1===o.rank&&(e=W_(e,c)),wC(e,o.shape)},variance:function(){var e=CC(CC(v,f),p);return 1===o.rank&&(e=W_(e,c)),wC(e,o.shape)},scale:function(){var t=CC(f,m),n=CC(e,t);return 1===o.rank&&(n=W_(n,c)),wC(n,o.shape)},offset:function(){var t=e;return 1===o.rank&&(t=W_(t,c)),wC(t,o.shape)}}}},$R={kernelName:Ex,inputsToSave:["x","indices"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,2),a=r[0],i=r[1],o=n.axis,s=Uy(o,a.shape)[0];return{x:function(){var t=a.shape,n=i.size,r=t.slice(0,s),l=r.length,u=t.slice(o,t.length).slice(1),c=u.length,d=QR(0,l),h=QR(l+1,l+1+c),f=eO([r,[n],u]),p=wC(e,f),m=wC(i,[n]),v=eO([[l],d,h]),g=jA(p,v),y=IA(g,m,a.shape[s]),b=Y_(v);return y=jA(y,b)},indices:function(){return i}}}};function QR(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function eO(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var tO={kernelName:Mx,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1];return{a:function(){return c_(r)},b:function(){return c_(a)}}}},nO={kernelName:Ax,gradFunc:function(e){return{x:function(){return KT(e,"float32")}}}},rO={kernelName:Rx,gradFunc:function(e){return{x:function(){return c_(e)}}}},aO={kernelName:Ox,gradFunc:function(e){return{x:function(){return c_(e)}}}},iO={kernelName:Dx,gradFunc:function(e){return{x:function(){return c_(e)}}}},oO={kernelName:Px,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,1)[0],a=n.alpha,i=T_(r,0);return{x:function(){return u_(i,e,CC(e,a))}}}},sO={kernelName:Bx,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return s_(e,KE(n,1))}}}},lO={kernelName:zx,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return s_(e,KT(n,"float32"))}}}},uO={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,1)[0],a=n.axis;return{logits:function(){var t=v_(r);return U_(e,CC(W_(e,a,!0),t))}}}};var cO=FS({localResponseNormalizationBackprop_:function(e,t,n){var r={x:e,y:t,dy:n},a={depthRadius:arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,bias:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,alpha:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,beta:arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5};return CS.runKernel(Hx,r,a)}}),dO={kernelName:Vx,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,2),a=r[0],i=r[1],o=n.depthRadius,s=n.bias,l=n.alpha,u=n.beta;return{x:function(){return cO(a,i,e,o,s,l,u)}}}};function hO(e,t,n,r){return t.rank<n.rank&&(t=wC(t,G_(t.shape,r))),e.rank<n.rank&&(e=wC(e,G_(e.shape,r))),{x:function(){return CC(e,KT(l_(n,t),e.dtype))}}}var fO={kernelName:Gx,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.reductionIndices,a=t[0],i=hO(e,t[1],a,Uy(r,a.shape));return{x:function(){return i.x()}}}},pO={kernelName:qx,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1];return{a:function(){return CC(e,KT(E_(r,a),"float32"))},b:function(){return CC(e,KT(N_(r,a),"float32"))}}}};var mO=FS({maxPool3dGrad_:function(e,t,n,r,a,i,o){var s=DS(e,"dy","maxPool3dGrad"),l=DS(t,"input","maxPool3dGrad"),u=DS(n,"output","maxPool3dGrad"),c=s,d=l,h=u,f=!1;4===l.rank&&(f=!0,c=wC(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),d=wC(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),h=wC(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),Iy(5===c.rank,(function(){return"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(c.rank,".")})),Iy(5===d.rank,(function(){return"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,".")})),Iy(5===h.rank,(function(){return"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(h.rank,".")})),xC("maxPool3dGrad",i,o);var p={dy:c,input:d,output:h},m={filterSize:r,strides:a,pad:i,dimRoundingMode:o},v=CS.runKernel(Jx,p,m);return f?wC(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}}),vO={kernelName:Kx,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,2),a=r[0],i=r[1],o=n.filterSize,s=n.strides,l=n.pad,u=n.dimRoundingMode;return{x:function(){return mO(e,a,i,o,s,l,u)}}}};var gO=FS({maxPoolGrad_:function(e,t,n,r,a,i,o){var s=DS(e,"dy","maxPoolGrad"),l=DS(t,"input","maxPoolGrad"),u=DS(n,"output","maxPoolGrad");Iy(l.rank===s.rank,(function(){return"Rank of input (".concat(l.rank,") does not match rank of dy ")+"(".concat(s.rank,")")})),Iy(4===s.rank,(function(){return"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(s.rank,".")})),Iy(4===l.rank,(function(){return"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(l.rank,".")})),xC("maxPoolGrad",i,o);var c={dy:s,input:l,output:u},d={filterSize:r,strides:a,pad:i,dimRoundingMode:o};return CS.runKernel(Yx,c,d)}}),yO={kernelName:Xx,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,2),a=r[0],i=r[1],o=n.filterSize,s=n.strides,l=n.pad;return{x:function(){return gO(e,a,i,o,s,l)}}}},bO={kernelName:Qx,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,1)[0],a=Uy(n.axis,r.shape),i=Dy(H_(r.shape,a)[1]);return{x:function(){var t=r.shape.slice();a.forEach((function(e){t[e]=1}));var n=wC(e,t);return s_(CC(n,lM(r.shape,"float32")),i)}}}},xO={kernelName:ew,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.axis,a=(0,Z.Z)(t,2),i=a[0],o=hO(e,a[1],i,Uy(r,i.shape));return{x:function(){return o.x()}}}},wO={kernelName:tw,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1];return{a:function(){return CC(e,KT(R_(r,a),"float32"))},b:function(){return CC(e,KT(T_(r,a),"float32"))}}}},kO={kernelName:nw,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return MC(e,a,r.shape)}}}},SO={kernelName:rw,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=kE(r.shape,a.shape);return{a:function(){var t=wE(r.shape,i);return t.length>0?wC(W_(e,t),r.shape):e},b:function(){var t=CC(e,F_(k_(s_(r,a)))),n=wE(a.shape,i);return n.length>0?wC(W_(t,n),a.shape):t}}}},TO={kernelName:iw,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=kE(r.shape,a.shape);return{a:function(){var t=CC(e,KT(a,"float32")),n=wE(r.shape,i);return n.length>0?wC(W_(t,n),r.shape):t},b:function(){var t=CC(e,KT(r,"float32")),n=wE(a.shape,i);return n.length>0?wC(W_(t,n),a.shape):t}}}},EO={kernelName:ow,gradFunc:function(e){return{x:function(){return F_(e)}}}},CO={kernelName:dw,gradFunc:function(e){return{x:function(){return c_(e)}}}},_O={kernelName:fw,saveAllInputs:!0,gradFunc:function(e,t,n){var r=n.axis;return NA(e,r).map((function(e){return function(){return e}}))}},MO={kernelName:pw,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return MC(e,a,r.shape)}}}},AO={kernelName:mw,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:function(e,t){var n=(0,Z.Z)(t,3),r=n[0],a=n[1],i=n[2],o=r,s=a,l=kE(o.shape,s.shape);return{a:function(){var t=KT(s,"float32"),n=CC(e,CC(t,AM(o,U_(t,HE(1))))),r=wE(o.shape,l);return r.length>0&&(n=W_(n,r)),wC(n,o.shape)},b:function(){var t=T_(o,0),n=u_(t,P_(o),c_(o)),r=CC(e,CC(i,n)),a=wE(s.shape,l);return a.length>0&&(r=W_(r,a)),wC(r,s.shape)}}}},IO={kernelName:vw,inputsToSave:["x","alpha"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=T_(r,0);return{x:function(){return u_(i,e,CC(e,a))},alpha:function(){var t=u_(i,c_(e),CC(e,r)),n=wE(a.shape,e.shape);return n.length>0&&(t=W_(t,n)),wC(t,a.shape)}}}},NO={kernelName:cx,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=kE(r.shape,a.shape);return{a:function(){var t=s_(e,KT(a,"float32")),n=wE(r.shape,i);return n.length>0?wC(W_(t,n),r.shape):t},b:function(){var t=CC(e,KT(r,"float32")),n=wE(a.shape,i);n.length>0&&(t=wC(W_(t,n),a.shape));var o=pM(a);return F_(s_(t,KT(o,"float32")))}}}},RO={kernelName:xw,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return s_(e,F_(pM(n)))}}}},OO={kernelName:_w,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0],r=CC(R_(n,6),bA(n));return{x:function(){return CC(e,KT(r,"float32"))}}}},DO={kernelName:ww,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC(e,KT(bA(n),"float32"))}}}},PO={kernelName:kw,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return wC(e,n.shape)}}}},LO={kernelName:Ew,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,Z.Z)(t,1)[0]};return{images:function(){return CS.runKernel(Cw,r,n)}}}},FO={kernelName:Sw,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,Z.Z)(t,1)[0]};return{images:function(){return CS.runKernel(Tw,r,n)}}}},jO={kernelName:Mw,gradFunc:function(e,t,n){var r=Uy(n.dims,e.shape);return{x:function(){return HM(e,r)}}}},zO={kernelName:Aw,gradFunc:function(e){return{x:function(){return c_(e)}}}},BO={kernelName:Iw,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return F_(s_(e,CC(AM(n,1.5),2)))}}}},UO={kernelName:Rw,inputsToSave:["condition"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{condition:function(){return KT(c_(n),"float32")},t:function(){return CC(e,KT(n,e.dtype))},e:function(){return CC(e,KT(Q_(n),e.dtype))}}}},WO={kernelName:Ow,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){var t=T_(n,HE(0)),r=HE(PN),a=HE(LN),i=CC(e,a),o=CC(CC(e,r),v_(KT(n,"float32")));return u_(t,i,o)}}}},ZO={kernelName:jw,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC(e,CC(n,U_(HE(1),n)))}}}},VO={kernelName:Fw,gradFunc:function(e){return{x:function(){return c_(e)}}}},HO={kernelName:Pw,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC($C(KT(n,"float32")),e)}}}},GO={kernelName:Lw,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC(QC(KT(n,"float32")),e)}}}},qO={kernelName:Dw,inputsToSave:["x"],gradFunc:function(e,t,n){for(var r=(0,Z.Z)(t,1)[0],a=n.begin,i=n.size,o=r.shape,s=RE(r,a,i),l=(0,Z.Z)(s,2),u=l[0],c=l[1],d=[],h=0;h<e.rank;h++)d.push([u[h],o[h]-u[h]-c[h]]);return{x:function(){return kM(e,d)}}}},XO={kernelName:Vw,outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,1)[0],a=n.dim,i=CC(e,r);return{logits:function(){return U_(i,CC(W_(i,[a],true),r))}}}},YO={kernelName:zw,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC(e,_C(n))}}}},KO={kernelName:Ww,gradFunc:function(e,t,n){var r=n.blockShape,a=n.paddings;return{x:function(){return NC(e,r,a)}}}},JO={kernelName:Zw,gradFunc:function(e,t,n){var r=n.axis;return{x:function(){return TC(e,r)}}}},$O={kernelName:Bw,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return s_(e,CC(mA(KT(n,"float32")),2))}}}},QO={kernelName:Jw,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC(e,CC(KT(n,"float32"),2))}}}},eD={kernelName:Kw,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=HE(2);return{a:function(){return CC(e,CC(i,U_(r,a)))},b:function(){return CC(e,CC(i,U_(a,r)))}}}},tD={kernelName:fk,gradFunc:function(e){return{x:function(){return c_(e)}}}},nD={kernelName:nk,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=kE(r.shape,a.shape);return{a:function(){var t=e,n=wE(r.shape,i);return n.length>0&&(t=W_(t,n)),wC(t,r.shape)},b:function(){var t=e,n=wE(a.shape,i);return n.length>0&&(t=W_(t,n)),wC(F_(t),a.shape)}}}},rD={kernelName:Uw,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,1)[0],a=r.shape.slice();Uy(n.axis,r.shape).forEach((function(e){a[e]=1}));var i=wC(e,a),o=CC(i,lM(r.shape,"float32"));return{x:function(){return o}}}},aD={kernelName:rk,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return s_(e,pM($C(n)))}}}},iD={kernelName:ak,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return CC(U_(HE(1),pM(n)),e)}}}},oD={kernelName:ik,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,Z.Z)(t,1)[0],a=n.reps;return{x:function(){var t=c_(r);if(1===r.rank)for(var n=0;n<a[0];++n)t=KE(t,MC(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var i=0;i<a[0];++i)for(var o=0;o<a[1];++o)t=KE(t,MC(e,[i*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var s=0;s<a[0];++s)for(var l=0;l<a[1];++l)for(var u=0;u<a[2];++u)t=KE(t,MC(e,[s*r.shape[0],l*r.shape[1],u*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(var c=0;c<a[0];++c)for(var d=0;d<a[1];++d)for(var h=0;h<a[2];++h)for(var f=0;f<a[3];++f)t=KE(t,MC(e,[c*r.shape[0],d*r.shape[1],h*r.shape[2],f*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},sD={kernelName:lk,gradFunc:function(e,t,n){var r=Y_(n.perm);return{x:function(){return jA(e,r)}}}},lD={kernelName:ck,gradFunc:function(e,t,n){var r=n.axis;return{value:function(){return yA(e,r)}}}},uD={kernelName:dk,inputsToSave:["segmentIds"],gradFunc:function(e,t){var n=(0,Z.Z)(t,1)[0];return{x:function(){return function(e,t){for(var n=iM(t,c_(t)),r=S_(e,n),a=E_(t,HE(0,"int32")),i=r.rank-a.rank,o=0;o<i;++o)a=g_(a,o+1);a=$_(a,lM(r.shape,"bool"));var s=c_(r);return u_(a,r,s)}(e,n)}}}};for(var cD,dD={kernelName:hk,gradFunc:function(e){return{x:function(){return c_(e)}}}},hD=0,fD=[dR,hR,fR,pR,mR,vR,gR,yR,bR,xR,wR,kR,TR,CR,_R,MR,AR,IR,NR,RR,OR,DR,LR,PR,jR,zR,BR,UR,WR,ZR,NO,VR,HR,GR,qR,XR,KR,YR,JR,$R,tO,nO,rO,aO,iO,oO,sO,lO,uO,dO,fO,fO,pO,vO,yO,bO,xO,wO,kO,SO,TO,EO,{kernelName:hw,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return sM(n.shape,"float32")}}}},CO,_O,MO,MO,AO,IO,RO,OO,DO,PO,LO,FO,jO,zO,BO,UO,WO,ZO,VO,HO,GO,qO,XO,YO,KO,KO,JO,JO,$O,eD,QO,tD,nD,rD,aD,iD,oD,sD,lD,uD,dD];hD<fD.length;hD++){Ck(fD[hD])}function pD(){return null==cD&&(cD=CS.backend.epsilon()),cD}sS().prototype.abs=function(){return this.throwIfDisposed(),qE(this)},sS().prototype.acos=function(){return this.throwIfDisposed(),XE(this)},sS().prototype.acosh=function(){return this.throwIfDisposed(),YE(this)},sS().prototype.add=function(e){return this.throwIfDisposed(),KE(this,e)},sS().prototype.all=function(e,t){return this.throwIfDisposed(),$E(this,e,t)},sS().prototype.any=function(e,t){return this.throwIfDisposed(),QE(this,e,t)},sS().prototype.argMax=function(e){return this.throwIfDisposed(),eC(this,e)},sS().prototype.argMin=function(e){return this.throwIfDisposed(),tC(this,e)},sS().prototype.asScalar=function(){return this.throwIfDisposed(),Iy(1===this.size,(function(){return"The array must have only 1 element."})),wC(this,[])},sS().prototype.asType=function(e){return this.throwIfDisposed(),KT(this,e)},sS().prototype.as1D=function(){return this.throwIfDisposed(),wC(this,[this.size])},sS().prototype.as2D=function(e,t){return this.throwIfDisposed(),wC(this,[e,t])},sS().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),wC(this,[e,t,n])},sS().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),wC(this,[e,t,n,r])},sS().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),wC(this,[e,t,n,r,a])},sS().prototype.asin=function(){return this.throwIfDisposed(),nC(this)},sS().prototype.asinh=function(){return this.throwIfDisposed(),rC(this)},sS().prototype.atan=function(){return this.throwIfDisposed(),aC(this)},sS().prototype.atan2=function(e){return this.throwIfDisposed(),iC(this,e)},sS().prototype.atanh=function(){return this.throwIfDisposed(),oC(this)},sS().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),kC(this,e,t,n,r)},sS().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),NC(this,e,t)},sS().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),RC(this,e,t,n,r,a)},sS().prototype.broadcastTo=function(e){return this.throwIfDisposed(),jC(this,e)},sS().prototype.cast=function(e){return this.throwIfDisposed(),KT(this,e)},sS().prototype.ceil=function(){return this.throwIfDisposed(),zC(this)},sS().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),BC(this,e,t)},sS().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof oS&&(e=[e]),TC([this].concat((0,_.Z)(e)),t)},sS().prototype.conv1d=function(e,t,n,r,a,i){return this.throwIfDisposed(),GC(this,e,t,n,r,a,i)},sS().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),XC(this,e,t,n,r,a)},sS().prototype.conv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),HC(this,e,t,n,r,a,i)},sS().prototype.cos=function(){return this.throwIfDisposed(),$C(this)},sS().prototype.cosh=function(){return this.throwIfDisposed(),QC(this)},sS().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),e_(this,e,t,n)},sS().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),n_(this,e,t)},sS().prototype.depthwiseConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),r_(this,e,t,n,r,a,i)},sS().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),i_(this,e,t,n,r,a)},sS().prototype.divNoNan=function(e){return this.throwIfDisposed(),d_(this,e)},sS().prototype.div=function(e){return this.throwIfDisposed(),s_(this,e)},sS().prototype.dot=function(e){return this.throwIfDisposed(),h_(this,e)},sS().prototype.elu=function(){return this.throwIfDisposed(),p_(this)},sS().prototype.equal=function(e){return this.throwIfDisposed(),l_(this,e)},sS().prototype.erf=function(){return this.throwIfDisposed(),m_(this)},sS().prototype.exp=function(){return this.throwIfDisposed(),v_(this)},sS().prototype.expandDims=function(e){return this.throwIfDisposed(),g_(this,e)},sS().prototype.expm1=function(){return this.throwIfDisposed(),y_(this)},sS().prototype.fft=function(){return this.throwIfDisposed(),cA(this)},sS().prototype.flatten=function(){return this.throwIfDisposed(),wC(this,[this.size])},sS().prototype.floor=function(){return this.throwIfDisposed(),k_(this)},sS().prototype.floorDiv=function(e){return this.throwIfDisposed(),o_(this,e)},sS().prototype.gather=function(e,t){return this.throwIfDisposed(),S_(this,e,t)},sS().prototype.greaterEqual=function(e){return this.throwIfDisposed(),E_(this,e)},sS().prototype.greater=function(e){return this.throwIfDisposed(),T_(this,e)},sS().prototype.ifft=function(){return this.throwIfDisposed(),dA(this)},sS().prototype.irfft=function(){return this.throwIfDisposed(),hA(this)},sS().prototype.isFinite=function(){return this.throwIfDisposed(),__(this)},sS().prototype.isInf=function(){return this.throwIfDisposed(),M_(this)},sS().prototype.isNaN=function(){return this.throwIfDisposed(),A_(this)},sS().prototype.leakyRelu=function(e){return this.throwIfDisposed(),I_(this,e)},sS().prototype.lessEqual=function(e){return this.throwIfDisposed(),R_(this,e)},sS().prototype.less=function(e){return this.throwIfDisposed(),N_(this,e)},sS().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),D_(this,e,t,n,r)},sS().prototype.logSigmoid=function(){return this.throwIfDisposed(),z_(this)},sS().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Z_(this,e)},sS().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),J_(this,e,t)},sS().prototype.log=function(){return this.throwIfDisposed(),P_(this)},sS().prototype.log1p=function(){return this.throwIfDisposed(),L_(this)},sS().prototype.logicalAnd=function(e){return this.throwIfDisposed(),$_(this,e)},sS().prototype.logicalNot=function(){return this.throwIfDisposed(),Q_(this)},sS().prototype.logicalOr=function(e){return this.throwIfDisposed(),eM(this,e)},sS().prototype.logicalXor=function(e){return this.throwIfDisposed(),tM(this,e)},sS().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),EC(this,e,t,n)},sS().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),nM(this,e,t,n,r)},sS().prototype.max=function(e,t){return this.throwIfDisposed(),B_(this,e,t)},sS().prototype.maximum=function(e){return this.throwIfDisposed(),iM(this,e)},sS().prototype.mean=function(e,t){return this.throwIfDisposed(),oM(this,e,t)},sS().prototype.min=function(e,t){return this.throwIfDisposed(),cM(this,e,t)},sS().prototype.minimum=function(e){return this.throwIfDisposed(),dM(this,e)},sS().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),hM(this,e,t)},sS().prototype.mod=function(e){return this.throwIfDisposed(),fM(this,e)},sS().prototype.mul=function(e){return this.throwIfDisposed(),CC(this,e)},sS().prototype.neg=function(){return this.throwIfDisposed(),F_(this)},sS().prototype.norm=function(e,t,n){return this.throwIfDisposed(),BA(this,e,t,n)},sS().prototype.notEqual=function(e){return this.throwIfDisposed(),yM(this,e)},sS().prototype.oneHot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),bM(this,e,t,n)},sS().prototype.onesLike=function(){return this.throwIfDisposed(),xM(this)},sS().prototype.pad=function(e,t){return this.throwIfDisposed(),kM(this,e,t)},sS().prototype.pool=function(e,t,n,r,a,i){return this.throwIfDisposed(),MM(this,e,t,n,r,a,i)},sS().prototype.pow=function(e){return this.throwIfDisposed(),AM(this,e)},sS().prototype.prelu=function(e){return this.throwIfDisposed(),IM(this,e)},sS().prototype.prod=function(e,t){return this.throwIfDisposed(),NM(this,e,t)},sS().prototype.reciprocal=function(){return this.throwIfDisposed(),WM(this)},sS().prototype.relu=function(){return this.throwIfDisposed(),ZM(this)},sS().prototype.relu6=function(){return this.throwIfDisposed(),VM(this)},sS().prototype.reshapeAs=function(e){return this.throwIfDisposed(),wC(this,e.shape)},sS().prototype.reshape=function(e){return this.throwIfDisposed(),wC(this,e)},sS().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),PI(this,e,t,n)},sS().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),LI(this,e,t,n)},sS().prototype.reverse=function(e){return this.throwIfDisposed(),HM(this,e)},sS().prototype.rfft=function(){return this.throwIfDisposed(),pA(this)},sS().prototype.round=function(){return this.throwIfDisposed(),KM(this)},sS().prototype.rsqrt=function(){return this.throwIfDisposed(),JM(this)},sS().prototype.selu=function(){return this.throwIfDisposed(),$M(this)},sS().prototype.separableConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),QM(this,e,t,n,r,a,i)},sS().prototype.sigmoid=function(){return this.throwIfDisposed(),_C(this)},sS().prototype.sign=function(){return this.throwIfDisposed(),nA(this)},sS().prototype.sin=function(){return this.throwIfDisposed(),rA(this)},sS().prototype.sinh=function(){return this.throwIfDisposed(),aA(this)},sS().prototype.slice=function(e,t){return this.throwIfDisposed(),MC(this,e,t)},sS().prototype.softmax=function(e){return this.throwIfDisposed(),uA(this,e)},sS().prototype.softplus=function(){return this.throwIfDisposed(),j_(this)},sS().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),_M(this,e,t)},sS().prototype.split=function(e,t){return this.throwIfDisposed(),fA(this,e,t)},sS().prototype.sqrt=function(){return this.throwIfDisposed(),mA(this)},sS().prototype.square=function(){return this.throwIfDisposed(),pM(this)},sS().prototype.squaredDifference=function(e){return this.throwIfDisposed(),vA(this,e)},sS().prototype.squeeze=function(e){return this.throwIfDisposed(),gA(this,e)},sS().prototype.stack=function(e,t){this.throwIfDisposed();var n=e instanceof oS?[this,e]:[this].concat((0,_.Z)(e));return yA(n,t)},sS().prototype.step=function(e){return this.throwIfDisposed(),bA(this,e)},sS().prototype.stridedSlice=function(e,t,n,r,a,i,o,s){return this.throwIfDisposed(),xA(this,e,t,n,r,a,i,o,s)},sS().prototype.sub=function(e){return this.throwIfDisposed(),U_(this,e)},sS().prototype.sum=function(e,t){return this.throwIfDisposed(),W_(this,e,t)},sS().prototype.tan=function(){return this.throwIfDisposed(),wA(this)},sS().prototype.tanh=function(){return this.throwIfDisposed(),AC(this)},sS().prototype.tile=function(e){return this.throwIfDisposed(),b_(this,e)},sS().prototype.toBool=function(){return this.throwIfDisposed(),KT(this,"bool")},sS().prototype.toFloat=function(){return this.throwIfDisposed(),KT(this,"float32")},sS().prototype.toInt=function(){return this.throwIfDisposed(),KT(this,"int32")},sS().prototype.topk=function(e,t){return this.throwIfDisposed(),_A(this,e,t)},sS().prototype.transpose=function(e){return this.throwIfDisposed(),jA(this,e)},sS().prototype.unique=function(e){return this.throwIfDisposed(),AA(this,e)},sS().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),IA(this,e,t)},sS().prototype.unstack=function(e){return this.throwIfDisposed(),NA(this,e)},sS().prototype.where=function(e,t){return this.throwIfDisposed(),u_(e,this,t)},sS().prototype.zerosLike=function(){return this.throwIfDisposed(),c_(this)};var mD=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),r=t.call(this,e),Object.setPrototypeOf(F(r),n.prototype),r}return N(n)}(U(Error)),vD=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),r=t.call(this,e),Object.setPrototypeOf(F(r),n.prototype),r}return N(n)}(U(Error)),gD=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),r=t.call(this,e),Object.setPrototypeOf(F(r),n.prototype),r}return N(n)}(U(Error)),yD=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),r=t.call(this,e),Object.setPrototypeOf(F(r),n.prototype),r}return N(n)}(U(Error)),bD=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),r=t.call(this,e),Object.setPrototypeOf(F(r),n.prototype),r}return N(n)}(U(Error));function xD(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}var a=new Array(t);return a.fill(e),a}function wD(e,t){if(!e)throw new bD(t)}function kD(e,t){var n,r=0,a=X(e);try{for(a.s();!(n=a.n()).done;){n.value===t&&r++}}catch(JNe){a.e(JNe)}finally{a.f()}return r}function SD(e){return 1===e.length?e[0]:e}function TD(e){return Array.isArray(e)?e:[e]}function ED(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function CD(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var _D={};function MD(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function AD(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((function(e){return AD(e)}));else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],a=e[r];null!=a&&"object"===typeof a&&(Array.isArray(a)||"ndarray"!==a.type||"number"!==typeof a.value?AD(a):e[r]=a.value)}}function ID(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){var i,o=e;if(o in n)i=n[o];else if(o in _D)i=_D[o];else if(null==(i=t[o]))throw new gD("Unknown ".concat(r,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return i}var s=e;if(null==s.className||null==s.config)throw new gD("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(s),".\n")+"'className' and 'config' must set.");var l,u,c=s.className;if(c in n){var d=(0,Z.Z)(n[c],2);l=d[0],u=d[1]}else if(c in _D){var h=(0,Z.Z)(_D.className,2);l=h[0],u=h[1]}else if(c in t){var f=(0,Z.Z)(t[c],2);l=f[0],u=f[1]}if(null==l)throw new gD("Unknown ".concat(r,": ").concat(c,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=u){for(var p={},m=0,v=Object.keys(_D);m<v.length;m++){var g=v[m];p[g]=_D[g]}for(var y=0,b=Object.keys(n);y<b.length;y++){var x=b[y];p[x]=n[x]}s.config.customObjects=p;for(var w=Object.assign({},_D),k=0,S=Object.keys(n);k<S.length;k++){var T=S[k];_D[T]=n[T]}AD(s.config);var E=u(l,s.config,n,a);return _D=Object.assign({},w),E}for(var C=Object.assign({},_D),_=0,M=Object.keys(n);_<M.length;_++){var A=M[_];_D[A]=n[A]}var I=new l(s.config);return _D=Object.assign({},C),I}function ND(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function RD(e){if(null==e)return e;var t,n=[],r=X(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;-1===n.indexOf(a)&&n.push(a)}}catch(JNe){r.e(JNe)}finally{r.f()}return n}function OD(e){if(null==e)throw new gD("Invalid value in obj: ".concat(JSON.stringify(e)));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function DD(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new gD("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function PD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return wD(n>=0),wD(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function LD(e,t){Array.isArray(e)?(Iy(e.length>0,(function(){return"".concat(t," is unexpectedly an empty array.")})),e.forEach((function(e,n){return LD(e,"element ".concat(n+1," of ").concat(t))}))):Iy(Number.isInteger(e)&&e>0,(function(){return"Expected ".concat(t," to be a positive integer, but got ")+"".concat(FD(e),".")}))}function FD(e){return null===e?"null":Array.isArray(e)?"["+e.map((function(e){return FD(e)})).join(",")+"]":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}function jD(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}function zD(e,t){return BE((function(){return mA(W_(CC(e,e),t,!0))}))}var BD=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"getConfig",value:function(){return{}}}]),n}(PE),UD=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).defaultMaxValue=2,r.defaultAxis=0,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return N(n,[{key:"apply",value:function(e){var t=this;return BE((function(){var n=zD(e,t.axis),r=BC(n,0,t.maxValue);return CC(e,s_(r,KE(pD(),n)))}))}},{key:"getConfig",value:function(){return{maxValue:this.maxValue,axis:this.axis}}}]),n}(BD);UD.className="MaxNorm",FE(UD);var WD=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).defaultAxis=0,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return N(n,[{key:"apply",value:function(e){var t=this;return BE((function(){return s_(e,KE(pD(),zD(e,t.axis)))}))}},{key:"getConfig",value:function(){return{axis:this.axis}}}]),n}(BD);WD.className="UnitNorm",FE(WD);var ZD=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return ZM(e)}}]),n}(BD);ZD.className="NonNeg",FE(ZD);var VD=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).defaultMinValue=0,r.defaultMaxValue=1,r.defaultRate=1,r.defaultAxis=0,r.minValue=null!=e.minValue?e.minValue:r.defaultMinValue,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.rate=null!=e.rate?e.rate:r.defaultRate,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return N(n,[{key:"apply",value:function(e){var t=this;return BE((function(){var n=zD(e,t.axis),r=KE(CC(t.rate,BC(n,t.minValue,t.maxValue)),CC(1-t.rate,n));return CC(e,s_(r,KE(pD(),n)))}))}},{key:"getConfig",value:function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}]),n}(BD);VD.className="MinMaxNorm",FE(VD);var HD={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function GD(e){return MD(e)}function qD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ID(e,LE.getMap().classNameMap,t,"constraint")}function XD(e){return null==e?null:"string"===typeof e?qD({className:e in HD?HD[e]:e,config:{}}):e instanceof BD?e:qD(e)}var YD=["channelsFirst","channelsLast"],KD=["nearest","bilinear"],JD=["valid","same","causal"],$D=["max","avg"],QD=["sum","mul","concat","ave"],eP=new Map;function tP(e){DD(YD,"DataFormat",e)}function nP(e){DD(JD,"PaddingMode",e)}function rP(e){DD($D,"PoolMode",e)}var aP=[],iP="/";function oP(e,t){aP.push(e);try{var n=t();return aP.pop(),n}catch(d4){throw aP.pop(),d4}}function sP(e){if(!cP(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===aP.length?"":aP.join(iP)+iP)+e}function lP(e){if(!cP(e))throw new Error("Not a valid tensor name: '"+e+"'");eP.has(e)||eP.set(e,0);var t=eP.get(e);if(eP.set(e,eP.get(e)+1),t>0){var n="".concat(e,"_").concat(t);return eP.set(n,1),n}return e}var uP=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function cP(e){return!!e.match(uP)}function dP(e){return e===parseInt(e.toString(),10)}function hP(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,a=t;a<n;++a)r*=e[a];return r}function fP(e){if(0===e.length)return Number.NaN;for(var t=Number.POSITIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r<t&&(t=r)}return t}function pP(e){if(0===e.length)return Number.NaN;for(var t=Number.NEGATIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r>t&&(t=r)}return t}function mP(e,t){if(t<e)throw new gD("end (".concat(t,") < begin (").concat(e,") is forbidden."));for(var n=[],r=e;r<t;++r)n.push(r);return n}function vP(e,t){return KT(e,t)}function gP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),wC(e,n)}function yP(e,t,n){return BE((function(){switch(e.rank){case 1:return iA(e,t,n);case 2:return oA(e,[t,0],[n,e.shape[1]]);case 3:return sA(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return lA(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return MC(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return MC(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new gD("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function bP(e,t,n){return BE((function(){switch(e.rank){case 1:return iA(e,t,n);case 2:return oA(e,[0,t],[e.shape[0],n]);case 3:return sA(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return lA(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new gD("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function xP(e,t,n,r){return BE((function(){switch(e.rank){case 1:return iA(e,t,n);case 2:switch(r){case 1:return yP(e,t,n);case 2:return bP(e,t,n);default:throw new gD("The axis is not within the rank of the tensor "+"".concat(r))}case 3:switch(r){case 1:return yP(e,t,n);case 2:return sA(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return bP(e,t,n);default:throw new gD("The axis is not within the rank of the tensor "+"".concat(r))}case 4:switch(r){case 1:return yP(e,t,n);case 2:return lA(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return lA(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return bP(e,t,n);default:throw new gD("The axis is not within the rank of the tensor "+"".concat(r))}default:throw new gD("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function wP(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(n=0!==(t=e[0].rank)?t:0),n===e[0].rank&&(n=-1),TC(e,n)}function kP(e,t){switch(e.rank){case 1:return UC([e,t]);case 2:return WC([e,t],0);case 3:return ZC([e,t],0);case 4:return VC([e,t],0);default:throw new gD("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function SP(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new gD("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return b_(e,t)}function TP(e){return jM(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0)}function EP(e,t,n,r){if(e.rank<2||t.rank<2)throw new yD("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new yD("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape));if(2===e.rank&&2===t.rank){return sI({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?MP(e.rank,r,"channelsLast"):null,activation:n})}var a=e.shape.slice(),i=a.pop();e=wC(e,[-1,i]);var o=t.shape.slice(),s=o.pop(),l=o.pop(),u=[].concat((0,_.Z)(o),[s]),c=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=wC(jA(t,c),[l,-1]);var d=[].concat((0,_.Z)(a),(0,_.Z)(u));return wC(sI({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?MP(e.rank,r,"channelsLast"):null,activation:n}),d)}function CP(e,t,n){return BE((function(){return t=Array.isArray(t)?kA(t,"int32"):KT(t,"int32"),S_(e,t,n)}))}function _P(e){return CC(e,e)}function MP(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new gD("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===r.length?wC(t,[1,r[0],1,1,1]):wC(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?wC(t,[1,1,1,1,r[0]]):wC(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?wC(t,[1,r[0],1,1]):wC(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?wC(t,[1,1,1,r[0]]):wC(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?wC(t,[1,r[0],1]):wC(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?wC(t,[1,1,r[0]]):wC(t,[1].concat(r))}else if(e<3)return t;throw new gD("Unsupported input rank by biasAdd: ".concat(t.rank))}function AP(e,t,n){return BE((function(){return null==n&&(n="channelsLast"),tP(n),KE(e,MP(e.rank,t,n))}))}function IP(e,t,n,r){return BE((function(){return qA(e,t,n,r)}))}function NP(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e():t()}var RP=["fanIn","fanOut","fanAvg"],OP=["normal","uniform","truncatedNormal"];var DP=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"fromConfigUsesCustomObjects",value:function(){return!1}},{key:"getConfig",value:function(){return{}}}]),n}(PE),PP=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e,t){return sM(e,t)}}]),n}(DP);PP.className="Zeros",FE(PP);var LP=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e,t){return lM(e,t)}}]),n}(DP);LP.className="Ones",FE(LP);var FP=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),r=t.call(this),"object"!==typeof e)throw new gD("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new gD("config must have value set but got ".concat(e));return r.value=e.value,r}return N(n,[{key:"apply",value:function(e,t){var n=this;return BE((function(){return CC(HE(n.value),lM(e,t))}))}},{key:"getConfig",value:function(){return{value:this.value}}}]),n}(DP);FP.className="Constant",FE(FP);var jP=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).DEFAULT_MINVAL=-.05,r.DEFAULT_MAXVAL=.05,r.minval=e.minval||r.DEFAULT_MINVAL,r.maxval=e.maxval||r.DEFAULT_MAXVAL,r.seed=e.seed,r}return N(n,[{key:"apply",value:function(e,t){return zM(e,this.minval,this.maxval,t)}},{key:"getConfig",value:function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}]),n}(DP);jP.className="RandomUniform",FE(jP);var zP=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return N(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new yD("randomNormal does not support dType ".concat(t,"."));return TP(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(DP);zP.className="RandomNormal",FE(zP);var BP=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return N(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new yD("truncatedNormal does not support dType ".concat(t,"."));return MA(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(DP);BP.className="TruncatedNormal",FE(BP);var UP=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).gain=null!=e.gain?e.gain:1,r}return N(n,[{key:"apply",value:function(e,t){var n=this;return BE((function(){if(2!==e.length||e[0]!==e[1])throw new gD("Identity matrix initializer can only be used for 2D square matrices.");return CC(n.gain,x_(e[0]))}))}},{key:"getConfig",value:function(){return{gain:this.gain}}}]),n}(DP);UP.className="Identity",FE(UP);var WP=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),r=t.call(this),e.scale<0)throw new gD("scale must be a positive float. Got: ".concat(e.scale));return r.scale=null==e.scale?1:e.scale,r.mode=null==e.mode?"fanIn":e.mode,function(e){DD(RP,"FanMode",e)}(r.mode),r.distribution=null==e.distribution?"normal":e.distribution,function(e){DD(OP,"Distribution",e)}(r.distribution),r.seed=e.seed,r}return N(n,[{key:"apply",value:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(tP(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){var a=hP(e,2);t=e[1]*a,n=e[0]*a}else if("channelsLast"===r){var i=hP(e,0,e.length-2);t=e[e.length-2]*i,n=e[e.length-1]*i}}else{var o=hP(e);t=Math.sqrt(o),n=Math.sqrt(o)}return[t,n]}(e),r=n[0],a=n[1],i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,a):i/=Math.max(1,(r+a)/2),"normal"===this.distribution){var o=Math.sqrt(i);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new yD("".concat(this.getClassName()," does not support dType ").concat(t,"."));return MA(e,0,o,t,this.seed)}var s=Math.sqrt(3*i);return zM(e,-s,s,t)}},{key:"getConfig",value:function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}]),n}(DP);WP.className="VarianceScaling",FE(WP);var ZP=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}return N(n,[{key:"getClassName",value:function(){return WP.className}}]),n}(WP);ZP.className="GlorotUniform",FE(ZP);var VP=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}return N(n,[{key:"getClassName",value:function(){return WP.className}}]),n}(WP);VP.className="GlorotNormal",FE(VP);var HP=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return N(n,[{key:"getClassName",value:function(){return WP.className}}]),n}(WP);HP.className="HeNormal",FE(HP);var GP=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return N(n,[{key:"getClassName",value:function(){return WP.className}}]),n}(WP);GP.className="HeUniform",FE(GP);var qP=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return N(n,[{key:"getClassName",value:function(){return WP.className}}]),n}(WP);qP.className="LeCunNormal",FE(qP);var XP=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return N(n,[{key:"getClassName",value:function(){return WP.className}}]),n}(WP);XP.className="LeCunNormal",FE(XP);var YP=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),(r=t.call(this)).DEFAULT_GAIN=1,r.gain=null==e.gain?r.DEFAULT_GAIN:e.gain,r.seed=e.seed,null!=r.seed)throw new yD("Random seed is not implemented for Orthogonal Initializer yet.");return r}return N(n,[{key:"apply",value:function(e,t){var n=this;return BE((function(){if(e.length<2)throw new yD("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than 2000 (".concat(e[0]*e[1],") elements: ")+"Slowness may result.");var t=TP(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=uN.gramSchmidt(t);return e[0]>e[1]&&(r=jA(r)),CC(n.gain,r)}))}},{key:"getConfig",value:function(){return{gain:this.gain,seed:this.seed}}}]),n}(DP);YP.className="Orthogonal",FE(YP);var KP={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function JP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ID(e,LE.getMap().classNameMap,t,"initializer")}function $P(e){return MD(e)}function QP(e){if("string"===typeof e){var t=e in KP?KP[e]:e;if("GlorotNormal"===t)return new VP;if("GlorotUniform"===t)return new ZP;if("HeNormal"===t)return new HP;if("HeUniform"===t)return new GP;if("LeCunNormal"===t)return new qP;if("LeCunUniform"===t)return new XP;var n={};return n.className=t,n.config={},JP(n)}return e instanceof DP?e:JP(e)}var eL=0;function tL(){return eL++}var nL={};function rL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in nL||(nL[e]=0),nL[e]+=1,e+nL[e].toString()}function aL(e){return Array.isArray(e)&&Array.isArray(e[0])}function iL(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function oL(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new gD("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function sL(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new gD("Expected exactly 1 Shape; got ".concat(e.length))}return e}function lL(e){var t,n=0,r=X(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;0===a.shape.length?n+=1:n+=a.shape.reduce((function(e,t){return e*t}))}}catch(JNe){r.e(JNe)}finally{r.f()}return n}var uL="Variable",cL=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uL,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;M(this,e),this.dtype=null==n?"float32":n,this.shape=t.shape,this.id=tL(),r=null==r?uL:r,this.originalName=sP(r),this.name=lP(this.originalName),this.trainable_=a,this.constraint=i,this.val=RA(t,this.trainable_,this.name,this.dtype)}return N(e,[{key:"read",value:function(){return this.assertNotDisposed(),this.val}},{key:"write",value:function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}},{key:"dispose",value:function(){this.assertNotDisposed(),this.val.dispose()}},{key:"assertNotDisposed",value:function(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e}}]),e}();function dL(e){return e.map((function(e){return e.read()}))}function hL(e){e.forEach((function(e){e[0].write(e[1])}))}var fL=N((function e(t){M(this,e),this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}})),pL=N((function e(t,n,r,a,i,o,s){M(this,e),this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=i,this.outputTensorIndex=s,this.id=tL(),null!=o&&(this.originalName=sP(o),this.name=lP(this.originalName)),this.rank=n.length})),mL=0,vL=function(){function e(t,n){M(this,e),this.callArgs=n,this.id=mL++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;var r,a=X(t.inboundLayers);try{for(a.s();!(r=a.n()).done;){var i=r.value;null!=i&&i.outboundNodes.push(this)}}catch(JNe){a.e(JNe)}finally{a.f()}t.outboundLayer.inboundNodes.push(this)}return N(e,[{key:"getConfig",value:function(){var e,t=[],n=X(this.inboundLayers);try{for(n.s();!(e=n.n()).done;){var r=e.value;null!=r?t.push(r.name):t.push(null)}}catch(JNe){n.e(JNe)}finally{n.f()}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}]),e}(),gL=0,yL=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(this,n),(e=t.call(this))._callHook=null,e._addedWeightNames=[],e._stateful=!1,e.id=gL++,e.activityRegularizer=null,e.inputSpec=null,e.supportsMasking=!1,e._trainableWeights=[],e._nonTrainableWeights=[],e._losses=[],e._updates=[],e._built=!1,e.inboundNodes=[],e.outboundNodes=[];var a=r.name;if(!a){var i=e.getClassName();a=ED(i)+"_"+rL(i)}if(e.name=a,e.trainable_=null==r.trainable||r.trainable,null!=r.inputShape||null!=r.batchInputShape){var o;if(null!=r.batchInputShape)o=r.batchInputShape;else if(null!=r.inputShape){var s=null;null!=r.batchSize&&(s=r.batchSize),o=[s].concat(r.inputShape)}e.batchInputShape=o;var l=r.dtype;null==l&&(l=r.inputDType),null==l&&(l="float32"),e.dtype=l}return null!=r.weights?e.initialWeights=r.weights:e.initialWeights=null,e._refCount=null,e.fastWeightInitDuringBuild=!1,e}return N(n,[{key:"getNodeAtIndex",value:function(e,t){if(0===this.inboundNodes.length)throw new vD("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new gD("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}},{key:"getInputAt",value:function(e){return SD(this.getNodeAtIndex(e,"input").inputTensors)}},{key:"getOutputAt",value:function(e){return SD(this.getNodeAtIndex(e,"output").outputTensors)}},{key:"input",get:function(){if(this.inboundNodes.length>1)throw new mD("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new mD("Layer ".concat(this.name)+" is not connected, no input to return.");return SD(this.getNodeAtIndex(0,"input").inputTensors)}},{key:"output",get:function(){if(0===this.inboundNodes.length)throw new mD("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new mD("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return SD(this.getNodeAtIndex(0,"output").outputTensors)}},{key:"losses",get:function(){return this._losses}},{key:"calculateLosses",value:function(){return this.losses.map((function(e){return e()}))}},{key:"updates",get:function(){return this._updates}},{key:"built",get:function(){return this._built},set:function(e){this._built=e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e}},{key:"trainableWeights",get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e}},{key:"nonTrainableWeights",get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){return this._stateful}},{key:"resetStates",value:function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}},{key:"assertInputCompatibility",value:function(e){if(e=TD(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=TD(this.inputSpec);if(e.length!==t.length)throw new gD("Layer ".concat(this.name," expects ").concat(t.length," inputs, ")+"but it received ".concat(e.length," input tensors. ")+"Input received: ".concat(e));for(var n=0;n<e.length;n++){var r=e[n],a=t[n];if(null!=a){var i=r.rank;if(null!=a.ndim&&i!==a.ndim)throw new gD("Input ".concat(n," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(a.ndim,", found ndim=").concat(i));if(null!=a.maxNDim&&i>a.maxNDim)throw new gD("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(a.maxNDim,", found ndim=").concat(i));if(null!=a.minNDim&&i<a.minNDim)throw new gD("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(a.minNDim,", found ndim=").concat(i,"."));if(null!=a.dtype&&r.dtype!==a.dtype)throw new gD("Input ".concat(n," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(a.dtype,", found dtype=").concat(r.dtype,"."));if(a.axes){var o=r.shape;for(var s in a.axes){var l=Number(s),u=a.axes[s],c=l>=0?o[l]:o[o.length+l];if(null!=u&&-1===[u,null].indexOf(c))throw new gD("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(l," of input shape to ")+"have value ".concat(u," but got shape ").concat(o,"."))}}if(null!=a.shape)for(var d=0;d<a.shape.length;++d){var h=a.shape[d],f=r.shape[d];if(null!=h&&null!=f&&h!==f)throw new gD("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(a.shape,", ")+"found shape=".concat(r.shape,"."))}}}}}},{key:"call",value:function(e,t){return e}},{key:"invokeCallHook",value:function(e,t){null!=this._callHook&&this._callHook(e,t)}},{key:"setCallHook",value:function(e){this._callHook=e}},{key:"clearCallHook",value:function(){this._callHook=null}},{key:"apply",value:function(e,t){var n=this;t=t||{},this.assertNotDisposed();var r,a=TD(e),i=!0,o=X(a);try{for(o.s();!(r=o.n()).done;){if(!(r.value instanceof pL)){i=!1;break}}}catch(JNe){o.e(JNe)}finally{o.f()}var s,l=!0,u=X(a);try{for(u.s();!(s=u.n()).done;){if(s.value instanceof pL){l=!1;break}}}catch(JNe){u.e(JNe)}finally{u.f()}if(i===l)throw new gD("Arguments to apply() must be all SymbolicTensors or all Tensors");return oP(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);var r,i=[],o=X(TD(e));try{for(o.s();!(r=o.n()).done;){var s=r.value;i.push(s.shape)}}catch(JNe){o.e(JNe)}finally{o.f()}n.build(SD(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&l&&(n._refCount=1)}if(n.assertInputCompatibility(e),l){var u,c=n.call(e,t),d=[],h=X(TD(c));try{for(h.s();!(u=h.n()).done;){var f=u.value;-1!==a.indexOf(f)&&(f=f.clone()),d.push(f)}}catch(JNe){h.e(JNe)}finally{h.f()}if(c=SD(d),null!=n.activityRegularizer)throw new yD("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return c}var p,m=function(e){e=TD(e);var t,n=[],r=X(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(a.shape)}}catch(JNe){r.e(JNe)}finally{r.f()}return SD(n)}(e),v=n.computeOutputShape(m),g="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?m[0]:m),p=null!=v&&v.length>0&&Array.isArray(v[0])?v.map((function(r,a){return new pL(g,r,n,TD(e),t,n.name,a)})):new pL(g,v,n,TD(e),t,n.name),n.addInboundNode(e,p,null,null,m,v,t),n._refCount++,null!=n.activityRegularizer)throw new yD("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return p}))}},{key:"warnOnIncompatibleInputShape",value:function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}},{key:"outputShape",get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new mD("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");var e,t=[],n=X(this.inboundNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=JSON.stringify(r.outputShapes);-1===t.indexOf(a)&&t.push(a)}}catch(JNe){n.e(JNe)}finally{n.f()}if(1===t.length){var i=this.inboundNodes[0].outputShapes;return Array.isArray(i)&&Array.isArray(i[0])&&1===i.length?i[0]:i}throw new mD("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}},{key:"countParams",value:function(){if(!this.built)throw new vD("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return lL(this.weights)}},{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){return dL(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.trainableWeights:this.weights)}},{key:"setWeights",value:function(e){var t=this;BE((function(){var n=t.weights;if(n.length!==e.length)throw new gD('You called setWeights(weights) on layer "'.concat(t.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0!==n.length){for(var r=[],a=dL(n),i=0;i<a.length;++i){var o=a[i],s=n[i],l=e[i];if(!Py(o.shape,l.shape))throw new gD("Layer weight shape ".concat(o.shape," ")+"not compatible with provided weight shape ".concat(l.shape));r.push([s,l])}hL(r)}}))}},{key:"addWeight",value:function(e,t,n,r,a,i,o,s){if(-1!==this._addedWeightNames.indexOf(e))throw new gD("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=s?s():QP("zeros"));var l=r.apply(t,n),u=new cL(l,n,e,i,o);return l.dispose(),null!=a&&this.addLoss((function(){return a.apply(u.read())})),null==i&&(i=!0),i?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}},{key:"setFastWeightInitDuringBuild",value:function(e){this.fastWeightInitDuringBuild=e}},{key:"addLoss",value:function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=TD(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,(0,_.Z)(e)))}},{key:"computeOutputShape",value:function(e){return e}},{key:"computeMask",value:function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach((function(e){if(null!=e)throw new TypeError("Layer ".concat(n.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return t}},{key:"addInboundNode",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=TD(e);t=TD(t),n=TD(n),r=TD(r),a=iL(a),i=iL(i);var l,u=[],c=[],d=[],h=X(s);try{for(h.s();!(l=h.n()).done;){var f=l.value;u.push(f.sourceLayer),c.push(f.nodeIndex),d.push(f.tensorIndex)}}catch(JNe){h.e(JNe)}finally{h.f()}new vL({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:d,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},o);for(var p=0;p<t.length;p++)t[p].sourceLayer=this,t[p].nodeIndex=this.inboundNodes.length-1,t[p].tensorIndex=p}},{key:"getConfig",value:function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}},{key:"disposeWeights",value:function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length}},{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();var e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}],[{key:"nodeKey",value:function(e,t){return e.name+"_ib-"+t.toString()}}]),n}(PE);function bL(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var a=[],i=0;i<r.inboundLayers.length;i++){var o,s=X(bL(r.inputTensors[i],r.inboundLayers[i],r.nodeIndices[i]));try{for(s.s();!(o=s.n()).done;){var l=o.value;-1===a.indexOf(l)&&a.push(l)}}catch(JNe){s.e(JNe)}finally{s.f()}}return a}var xL,wL=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),r=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:rL("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),r.trainable=!1,r.built=!0,r.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new gD("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var a=e.batchInputShape;if(null==a){if(null==e.inputShape)throw new gD("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");a=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new gD("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var i=e.dtype||"float32";r.batchInputShape=a,r.dtype=i,r.inputSpec=[{shape:a}];var o=new pL(r.dtype,r.batchInputShape,F(r),[],{},r.name);return o.nodeIndex=0,o.tensorIndex=0,new vL({outboundLayer:F(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[a],outputShapes:[a]}),r}return N(n,[{key:"apply",value:function(e,t){throw new gD("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}},{key:"dispose",value:function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}},{key:"getConfig",value:function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}]),n}(yL);function kL(e){return SL.apply(this,arguments)}function SL(){return SL=mo(fo().mark((function e(t){var n,r,a,i,o,s,l,u;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:for(i in n=[],r=[],a=[],t)"number"!==typeof(o=t[i])&&(s=o,n.push(s.data()),r.push(i),a.push(s));if(!(n.length>0)){e.next=12;break}return e.next=9,Promise.all(n);case 9:for(l=e.sent,u=0;u<l.length;++u)t[r[u]]=l[u][0];UE(a);case 12:case"end":return e.stop()}}),e)}))),SL.apply(this,arguments)}function TL(e){if(null!=e)for(var t in e){var n=e[t];"number"!==typeof n&&n.dispose()}}wL.className="InputLayer",FE(wL),function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(xL||(xL={}));var EL=function(){function e(){M(this,e),this.validationData=null}return N(e,[{key:"setParams",value:function(e){this.params=e}},{key:"onEpochBegin",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setModel",value:function(e){}}]),e}(),CL=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;M(this,e),null==t&&(t=[]),this.callbacks=t,this.queueLength=n}return N(e,[{key:"append",value:function(e){this.callbacks.push(e)}},{key:"setParams",value:function(e){var t,n=X(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setParams(e)}}catch(JNe){n.e(JNe)}finally{n.f()}}},{key:"setModel",value:function(e){var t,n=X(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setModel(e)}}catch(JNe){n.e(JNe)}finally{n.f()}}},{key:"onEpochBegin",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=X(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onEpochBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=X(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onEpochEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=X(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onBatchBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=X(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,i.onBatchEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=mo(fo().mark((function e(t){var n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=X(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainBegin(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=mo(fo().mark((function e(t){var n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=X(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainEnd(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_L=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.call(this)}return N(n,[{key:"onEpochBegin",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.seen=0,this.totals={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i,o=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=null==n.size?0:n.size,this.seen+=r,a=fo().mark((function e(t){var a,i,s;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"number"===typeof(a=n[t])?(o.totals.hasOwnProperty(t)||(o.totals[t]=0),o.totals[t]=o.totals[t]+a*r):(t in o.totals?i=o.totals[t]:o.totals[t]=0,s=BE((function(){return KE(o.totals[t],CC(a,r))})),o.totals[t]=s,null!=i&&i.dispose());case 2:case"end":return e.stop()}}),e)})),e.t0=fo().keys(n);case 5:if((e.t1=e.t0()).done){e.next=10;break}return i=e.t1.value,e.delegateYield(a(i),"t2",8);case 8:e.next=5;break;case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i,o=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=20;break}r=X(this.params.metrics),e.prev=2,i=fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.value,null!=o.totals[t]){e.next=3;break}return e.abrupt("return","continue");case 3:"number"===typeof o.totals[t]?n[t]=o.totals[t]/o.seen:BE((function(){var e=CC(s_(1,o.seen),o.totals[t]);n[t]=e,o.totals[t].dispose(),WE(n[t])}));case 4:case"end":return e.stop()}}),e)})),r.s();case 5:if((a=r.n()).done){e.next=12;break}return e.delegateYield(i(),"t0",7);case 7:if("continue"!==e.t0){e.next=10;break}return e.abrupt("continue",10);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(2),r.e(e.t1);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(EL),ML=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"onTrainBegin",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.epoch=[],this.history={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=mo(fo().mark((function e(t,n){var r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in null==n&&(n={}),this.epoch.push(t),n)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(n[r]);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"syncData",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a,i,o,s,l,u;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],n=[],r=[],this.history)for(i=this.history[a],o=0;o<i.length;++o)"number"!==typeof i[o]&&(s=i[o],t.push(s.data()),n.push(a),r.push(o));return e.next=6,Promise.all(t);case 6:for(l=e.sent,u=0;u<l.length;++u)this.history[n[u]][r[u]].dispose(),this.history[n[u]][r[u]]=l[u][0];case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(EL),AL=function(e){O(n,e);var t=z(n);function n(e,r){var a;if(M(this,n),(a=t.call(this)).currentEpoch=0,a.nowFunc=e.nowFunc,a.nextFrameFunc=e.nextFrameFunc||SN,a.yieldEvery=r||"auto","auto"===a.yieldEvery&&(a.yieldEvery=125),"never"===a.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return Yy(a.yieldEvery)&&(a.maybeWait=function(e,t,n){var r,a=null!=n?n():Vk();return function(){var i=null!=n?n():Vk();return i-a<t?r:(a=i,r=e.apply(void 0,arguments))}}(a.maybeWait.bind(F(a)),a.yieldEvery,a.nowFunc)),a.trainBegin=e.onTrainBegin,a.trainEnd=e.onTrainEnd,a.epochBegin=e.onEpochBegin,a.epochEnd=e.onEpochEnd,a.batchBegin=e.onBatchBegin,a.batchEnd=e.onBatchEnd,a.yield=e.onYield,a}return N(n,[{key:"maybeWait",value:function(){var e=mo(fo().mark((function e(t,n,r){var a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],null==this.yield){e.next=5;break}return e.next=4,kL(r);case 4:a.push(this.yield(t,n,r));case 5:return a.push(this.nextFrameFunc()),e.next=8,Promise.all(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onEpochBegin",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentEpoch=t,null==this.epochBegin){e.next=6;break}return e.next=4,kL(n);case 4:return e.next=6,this.epochBegin(t,n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=mo(fo().mark((function e(t,n){var r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.epochEnd){e.next=5;break}return e.next=4,kL(n);case 4:r.push(this.epochEnd(t,n));case 5:return"epoch"===this.yieldEvery&&r.push(this.nextFrameFunc()),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.batchBegin){e.next=5;break}return e.next=3,kL(n);case 3:return e.next=5,this.batchBegin(t,n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=mo(fo().mark((function e(t,n){var r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.batchEnd){e.next=5;break}return e.next=4,kL(n);case 4:r.push(this.batchEnd(t,n));case 5:return"batch"===this.yieldEvery?r.push(this.nextFrameFunc()):Yy(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainBegin){e.next=5;break}return e.next=3,kL(t);case 3:return e.next=5,this.trainBegin(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainEnd){e.next=5;break}return e.next=3,kL(t);case 3:return e.next=5,this.trainEnd(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(EL);function IL(e,t){return null==e&&(e={}),e instanceof EL?[e]:Array.isArray(e)&&e[0]instanceof EL?e:TD(e).map((function(e){return new AL(e,t)}))}var NL=function(){function e(){M(this,e)}return N(e,null,[{key:"registerCallbackConstructor",value:function(t,n){Iy(t>=0&&Number.isInteger(t),(function(){return"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(t)})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)}},{key:"checkForDuplicate",value:function(t){for(var n in e.constructors){e.constructors[+n].forEach((function(e){if(e===t)throw new gD("Duplicate callback constructor.")}))}}},{key:"clear",value:function(){e.constructors={}}},{key:"createCallbacks",value:function(t){var n=[];for(var r in e.constructors){var a=+r;t>=a&&n.push.apply(n,(0,_.Z)(e.constructors[a]))}return n.map((function(e){return new e}))}}]),e}();function RL(e,t,n,r,a,i,o,s,l){var u=new ML,c=[new _L].concat((0,_.Z)(NL.createCallbacks(t)));null!=e&&c.push.apply(c,(0,_.Z)(e)),c.push(u);var d=new CL(c);return d.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:o,verbose:t,doValidation:s,metrics:l}),{callbackList:d,history:u}}function OL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ID(e,LE.getMap().classNameMap,t,"layer",n)}function DL(e,t){return BE((function(){"float32"!==e.dtype&&(e=KT(e,"float32"));var n=W_(_P(e),t,!0),r=w_(n.shape,pD()),a=mA(iM(n,r));return s_(e,a)}))}function PL(e,t){return BE((function(){return oM(_P(U_(t,e)),-1)}))}function LL(e,t){return BE((function(){return oM(qE(U_(t,e)),-1)}))}function FL(e,t){return BE((function(){var n=U_(e,t),r=BC(qE(e),pD(),Number.MAX_VALUE),a=qE(s_(n,r));return CC(100,oM(a,-1))}))}function jL(e,t){return BE((function(){var n=BC(t,pD(),Number.MAX_VALUE),r=P_(KE(1,n)),a=BC(e,pD(),Number.MAX_VALUE),i=P_(KE(1,a));return oM(_P(U_(r,i)),-1)}))}function zL(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return BE((function(){if(n)t=uA(t);else{var r=W_(t,t.shape.length-1,!0);t=s_(t,r)}return t=BC(t,pD(),1-pD()),F_(W_(CC(KT(e,"float32"),P_(t)),t.shape.length-1))}))}function BL(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return BE((function(){var r=KT(k_(function(e){var t=[hP(e.shape)];return wC(e,t)}(e)),"int32"),a=(t=BC(t,pD(),1-pD())).shape;return zL(wC(bM(r,a[a.length-1]),a),t,n)}))}function UL(e,t){return BE((function(){var n;return n=BC(t,pD(),1-pD()),n=P_(s_(n,U_(1,n))),oM(function(e,t){if(!Py(e.shape,t.shape))throw new gD("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return BE((function(){var n=ZM(t),r=F_(qE(t));return KE(U_(n,CC(t,e)),L_(v_(r)))}))}(e,n),-1)}))}function WL(e,t){return BE((function(){var n=BC(e,pD(),1),r=BC(t,pD(),1);return W_(CC(e,P_(s_(n,r))),-1)}))}function ZL(e,t){return BE((function(){var n=DL(e,-1),r=DL(t,-1),a=CC(n,r);return F_(W_(a,-1))}))}NL.constructors={};var VL={meanSquaredError:PL,meanAbsoluteError:LL,meanAbsolutePercentageError:FL,meanSquaredLogarithmicError:jL,squaredHinge:function(e,t){return BE((function(){var n=iM(0,U_(1,CC(e,t)));return oM(_P(n),-1)}))},hinge:function(e,t){return BE((function(){var n=iM(0,U_(1,CC(e,t)));return oM(n,-1)}))},categoricalHinge:function(e,t){return BE((function(){var n=W_(CC(e,t),-1),r=B_(CC(U_(1,e),t),-1);return iM(0,KE(1,U_(r,n)))}))},logcosh:function(e,t){return BE((function(){var n=Math.log(2),r=U_(t,e),a=U_(KE(r,j_(CC(-2,r))),n);return oM(a,-1)}))},categoricalCrossentropy:zL,sparseCategoricalCrossentropy:BL,binaryCrossentropy:UL,kullbackLeiblerDivergence:WL,poisson:function(e,t){return BE((function(){var n=P_(KE(pD(),t));return oM(U_(t,CC(e,n)),-1)}))},cosineProximity:ZL};function HL(e){if("string"===typeof e){if(e in VL)return VL[e];var t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new gD(t)}return e}function GL(e,t){return BE((function(){var n=CC(.5,xM(t)),r=vP(T_(t,n),e.dtype);return oM(l_(e,r),-1)}))}function qL(e,t){return BE((function(){return vP(l_(eC(e,-1),eC(t,-1)),"float32")}))}function XL(e,t){return BE((function(){return KT(W_($_(l_(e,1),l_(t,1))),"float32")}))}function YL(e,t){return UL(e,t)}function KL(e,t){return e.rank===t.rank&&(e=gA(e,[e.rank-1])),(t=eC(t,-1)).dtype!==e.dtype&&(t=KT(t,e.dtype)),KT(l_(e,t),"float32")}var JL=zL,$L=BL,QL={binaryAccuracy:GL,categoricalAccuracy:qL,precision:function(e,t){return BE((function(){var n=XL(e,t),r=function(e,t){return BE((function(){return KT(W_($_(l_(e,0),l_(t,1))),"float32")}))}(e,t),a=KE(n,r);return KT(u_(T_(a,0),s_(n,a),0),"float32")}))},categoricalCrossentropy:JL,sparseCategoricalCrossentropy:$L,mse:PL,MSE:PL,mae:LL,MAE:LL,mape:FL,MAPE:FL,cosine:ZL};function eF(e){if(wD(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;for(var t,n=0,r=Object.keys(VL);n<r.length;n++){var a=r[n];if(VL[a]===e){t=a;break}}if(void 0!==t)return t;for(var i=0,o=Object.keys(QL);i<o.length;i++){var s=o[i];if(QL[s]===e){t=s;break}}return void 0!==t?t:e.name}var tF=1048576;function nF(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!rF(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>tF&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(r.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(tF,"."))}}function rF(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"!==typeof r)return!1;if(!rF(e[r]))return!1}return!0}if(Array.isArray(e)){var a,i=X(e);try{for(i.s();!(a=i.n()).done;){if(!rF(a.value))return!1}}catch(JNe){i.e(JNe)}finally{i.f()}return!0}return!1}var o=typeof e;return"string"===o||"number"===o||"boolean"===o}function aF(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log,i=function(e){var t=!0,n=[],r=[];for(var a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(var i=0,o=n;i<o.length;i++){var s=o[i];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,(0,_.Z)(s))}if(t){var l,u=X(e.layers);try{for(u.s();!(l=u.n()).done;){var c,d=l.value,h=!1,f=X(d.inboundNodes);try{for(f.s();!(c=f.n()).done;){var p=c.value;if(-1!==r.indexOf(p)){if(h){t=!1;break}h=!0}}}catch(JNe){f.e(JNe)}finally{f.f()}if(!t)break}}catch(JNe){u.e(JNe)}finally{u.f()}}return t}(e),o=["Layer (type)","Output shape","Param #"];if(i?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!i)for(var s in o.push("Receives inputs"),r=[],e.nodesByDepth){var l;(l=r).push.apply(l,(0,_.Z)(e.nodesByDepth[s]))}a("_".repeat(t)),iF(o,n,a),a("=".repeat(t));for(var u=e.layers,c=0;c<u.length;++c)i?oF(u[c],n,a):sF(u[c],n,r,a),a((c===u.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var d=function(e){var t;t=null!=e.collectedTrainableWeights?lL(e.collectedTrainableWeights):lL(e.trainableWeights);return t}(e),h=lL(e.nonTrainableWeights);a("Total params: ".concat(d+h)),a("Trainable params: ".concat(d)),a("Non-trainable params: ".concat(h)),a("_".repeat(t))}function iF(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="",a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[a]).slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function oF(e,t,n){var r;try{r=JSON.stringify(e.outputShape)}catch(JNe){r="multiple"}var a=e.name,i=e.getClassName();iF(["".concat(a," (").concat(i,")"),r,e.countParams().toString()],t,n)}function sF(e,t,n,r){var a;try{a=JSON.stringify(e.outputShape)}catch(JNe){a="multiple"}var i,o=[],s=X(e.inboundNodes);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(!(null!=n&&n.length>0&&-1===n.indexOf(l)))for(var u=0;u<l.inboundLayers.length;++u){var c=l.inboundLayers[u].name,d=l.nodeIndices[u],h=l.tensorIndices[u];o.push("".concat(c,"[").concat(d,"][").concat(h,"]"))}}}catch(JNe){s.e(JNe)}finally{s.f()}var f=e.name,p=e.getClassName(),m=0===o.length?"":o[0];iF(["".concat(f," (").concat(p,")"),a,e.countParams().toString(),m],t,r);for(var v=1;v<o.length;++v)iF(["","","",o[v]],t,r)}function lF(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function uF(e,t){if(null===e)return null;if("string"===typeof e)return CD(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];lF(t,a,i)?n.push(i):n.push(uF(i,t))}return n}for(var o={},s=0,l=Object.keys(e);s<l.length;s++){var u=l[s],c=e[u];if("name"===u&&"string"===typeof c)o[u]=c;else{var d=CD(u);o[d]=uF(c,d)}}return o}function cF(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return ED(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];lF(t,a,i)?n.push(i):n.push(cF(i,t))}return n}for(var o={},s=0,l=Object.keys(e);s<l.length;s++){var u=l[s],c=e[u],d=ED(u);o[d]="name"!==u&&"className"!==u||"string"!==typeof c?cF(c,u):c}return o}var dF="3.13.0";var hF=function(){function e(t){if(M(this,e),this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;var r,a=X(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.add(i.key,i.value)}}catch(JNe){a.e(JNe)}finally{a.f()}}}return N(e,[{key:"add",value:function(e,t,n){if(null!=this.id2Value[e.id])throw new gD("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return KT(t,e.dtype)}catch(JNe){throw new gD("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}},{key:"addFeed",value:function(e){this.add(e.key,e.value)}},{key:"hasKey",value:function(e){return null!=this.id2Value[e.id]}},{key:"names",value:function(){return Object.keys(this.name2Id)}},{key:"getValue",value:function(e){if(e instanceof pL){if(null==this.id2Value[e.id])throw new gD("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new gD("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}},{key:"getMask",value:function(e){if(e instanceof pL){if(null==this.id2Value[e.id])throw new gD("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new gD("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}},{key:"disposeMasks",value:function(){null!=this.id2Mask&&UE(this.id2Mask)}}]),e}(),fF={},pF={};function mF(e,t,n,r){var a,i=null!=n&&n.training,o=Array.isArray(e),s=o?e:[e],l=s.map((function(e){return e.name})),u=[],c=t.names(),d=X(l);try{for(d.s();!(a=d.n()).done;){var h=a.value;-1!==c.indexOf(h)?u.push(t.getValue(h)):u.push(null)}}catch(JNe){d.e(JNe)}finally{d.f()}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var f,p,m=l.join(",")+"|"+t.names().join(",");if(null==fF[m]){var v=function(e,t){Iy(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],r={};if(1===e.length){var a=gF(e[0],t);n=a.sorted,r=a.recipientMap}else{var i,o=new Set,s=X(e);try{for(s.s();!(i=s.n()).done;){var l,u=gF(i.value,t),c=u.sorted,d=u.recipientMap,h=X(c);try{for(h.s();!(l=h.n()).done;){var f=l.value;o.has(f.name)||(n.push(f),o.add(f.name))}}catch(JNe){h.e(JNe)}finally{h.f()}var p=function(e){null==r[e]&&(r[e]=new Set),d[e].forEach((function(t){return r[e].add(t)}))};for(var m in d)p(m)}}catch(JNe){s.e(JNe)}finally{s.f()}}return{sorted:n,recipientCounts:vF(r)}}(s,t);f=v.sorted,p=v.recipientCounts,fF[m]=f,pF[m]=p}f=fF[m],p={},i||Object.assign(p,pF[m]);for(var g=new hF(t),y=0;y<f.length;++y){if(null!=r){var b=zE().numTensors;b>r.maxNumTensors&&(r.maxNumTensors=b),b<r.minNumTensors&&(r.minNumTensors=b)}var x=f[y],w=x.sourceLayer;if(!(w instanceof wL)){var k,S=[],T=[],E=[],C=!1,_=X(x.inputs);try{for(_.s();!(k=_.n()).done;){var M=k.value,A=g.getValue(M),I=g.getMask(M);S.push(A),T.push(I),null!=I&&(C=!0),i||(p[M.name]--,0!==p[M.name]||t.hasKey(M)||-1!==l.indexOf(M.name)||A.isDisposed||!0===M.sourceLayer.stateful||E.push(A))}}catch(JNe){_.e(JNe)}finally{_.f()}C&&((n=n||{}).mask=T[0]);var N=TD(w.apply(S,n)),R=null;w.supportsMasking&&(R=w.computeMask(S,T));for(var O=yF(x),D=Array.isArray(O)?O:[O],P=0;P<D.length;++P){g.hasKey(D[P])||g.add(D[P],N[P],Array.isArray(R)?R[0]:R);var L=l.indexOf(D[P].name);-1!==L&&(u[L]=N[P])}i||UE(E)}}return g.disposeMasks(),o?u:u[0]}function vF(e){var t={};for(var n in e)t[n]=e[n].size;return t}function gF(e,t){var n,r=new Set,a=[],i={},o=X(t.names());try{for(o.s();!(n=o.n()).done;){var s=n.value;r.add(s)}}catch(JNe){o.e(JNe)}finally{o.f()}var l=[],u=[];for(l.push(e);l.length>0;){var c=l[l.length-1];if(r.has(c.name))l.pop();else{var d=u[u.length-1]===l.length-1;if(0===c.inputs.length||d)l.pop(),a.push(c),r.add(c.name),d&&u.pop();else{u.push(l.length-1);var h,f=X(c.inputs);try{for(f.s();!(h=f.n()).done;){var p=h.value;null==i[p.name]&&(i[p.name]=new Set),i[p.name].add(c.name),r.has(p.name)||l.push(p)}}catch(JNe){f.e(JNe)}finally{f.f()}}}}return{sorted:a,recipientMap:i}}function yF(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r){var a,i=X(e.sourceLayer.inboundNodes[r].outputTensors);try{for(i.s();!(a=i.n()).done;){if(a.value.id===e.id){n=r;break}}}catch(JNe){i.e(JNe)}finally{i.f()}}t=e.sourceLayer.getOutputAt(n)}return t}var bF=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),(r=t.call(this,{})).containerNodes=new Set,r.name=e.name,null==r.name){var a=r.getClassName().toLowerCase();r.name=rL(a)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(e.inputs)?r.inputs=e.inputs.slice():r.inputs=[e.inputs],Array.isArray(e.outputs)?r.outputs=e.outputs.slice():r.outputs=[e.outputs],RD(r.inputs).length!==r.inputs.length)throw new gD("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(r.inputs.map((function(e){return e.name}))));RD(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(r.outputs.map((function(e){return e.name})))),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];var i,o=X(r.outputs);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.sourceLayer,u=s.nodeIndex,c=s.tensorIndex;r.outputLayers.push(l),r.outputLayersNodeIndices.push(u),r.outputLayersTensorIndices.push(c)}}catch(JNe){o.e(JNe)}finally{o.f()}var d,h=X(r.inputs);try{for(h.s();!(d=h.n()).done;){var f=d.value,p=f.sourceLayer,m=f.nodeIndex,v=f.tensorIndex;wD(0===m,"input layer has >1 nodes"),wD(0===v,"input layer has >1 tensors"),r.inputLayers.push(p),r.inputLayersNodeIndices.push(m),r.inputLayersTensorIndices.push(v)}}catch(JNe){h.e(JNe)}finally{h.f()}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var g=0;g<r.inputLayers.length;g++){var y=r.inputLayers[g];if(!(y instanceof wL))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(g," (0-based) originates ")+"from layer type ".concat(y.getClassName(),"."));r.inputNames.push(y.name),r.feedInputShapes.push(y.batchInputShape),r.feedInputNames.push(y.name)}var b,x=X(r.outputLayers);try{for(x.s();!(b=x.n()).done;){var w=b.value;r.outputNames.push(w.name)}}catch(JNe){x.e(JNe)}finally{x.f()}r.internalInputShapes=r.inputs.map((function(e){return e.shape})),r.internalOutputShapes=r.outputs.map((function(e){return e.shape}));var k,S={},T={},E={},C={},_={},A=[],I=function e(t,a,i,o,s,l){null!=o&&null!=s&&null!=l||(o=t.sourceLayer,s=t.nodeIndex,l=t.tensorIndex);var u=o.inboundNodes[s];if(-1!==i.indexOf(u))throw new vD("The tensor ".concat(t.name,' at layer "').concat(o.name,'" ')+"is part of a cycle.");if(-1===a.indexOf(u)){r.containerNodes.add(n.nodeKey(o,s)),o.id in _||(_[o.id]=Object.keys(_).length),-1===i.indexOf(u)&&i.push(u);for(var c=u.inboundLayers.length,d=0;d<c;d++){e(u.inputTensors[d],a,i,u.inboundLayers[d],u.nodeIndices[d],u.tensorIndices[d])}for(a.push(u);i.indexOf(u)>=0;)i.splice(i.indexOf(u),1);A.push(u)}},N=[],R=[],O=X(r.outputs);try{for(O.s();!(k=O.n()).done;){I(k.value,N,R)}}catch(JNe){O.e(JNe)}finally{O.f()}var D,P=X(A.slice().reverse());try{for(P.s();!(D=P.n()).done;){var L=D.value;T[L.id]=L,L.id in S||(S[L.id]=0);var j=S[L.id],z=null==E[L.outboundLayer.id]?0:E[L.outboundLayer.id];j=Math.max(j,z),E[L.outboundLayer.id]=j,C[L.outboundLayer.id]=L.outboundLayer,S[L.id]=j;for(var B=0;B<L.inboundLayers.length;B++){var U=L.inboundLayers[B],W=L.nodeIndices[B],Z=U.inboundNodes[W],V=null==S[Z.id]?0:S[Z.id];S[Z.id]=Math.max(j+1,V),T[Z.id]=Z}}}catch(JNe){P.e(JNe)}finally{P.f()}var H={};for(var G in S){var q=S[G];q in H||(H[q]=[]),H[q].push(T[G])}var Y={};for(var K in E){var J=E[K];J in Y||(Y[J]=[]),Y[J].push(C[K])}var $=Object.keys(Y).map((function(e){return parseInt(e,10)})).sort(ND);r.layers=[];var Q,ee=X($);try{for(ee.s();!(Q=ee.n()).done;){var te=Y[Q.value];te.sort((function(e,t){var n=_[e.id],r=_[t.id];return n<r?-1:n>r?1:0}));var ne,re=X(te);try{for(re.s();!(ne=re.n()).done;){var ae=ne.value;ae instanceof n&&r.internalContainerRefs.push(ae),r.layers.push(ae)}}catch(JNe){re.e(JNe)}finally{re.f()}}}catch(JNe){ee.e(JNe)}finally{ee.f()}r.layersByDepth=Y,$=Object.keys(H).map((function(e){return parseInt(e,10)})).sort(ND);var ie,oe=r.inputs.slice(),se=[],le=X($);try{for(le.s();!(ie=le.n()).done;){var ue,ce=X(H[ie.value]);try{for(ce.s();!(ue=ce.n()).done;){var de=ue.value,he=de.outboundLayer;if(null!=he){var fe,pe=X(de.inputTensors);try{for(pe.s();!(fe=pe.n()).done;){var me=fe.value;if(-1===oe.indexOf(me))throw new vD("Graph disconnected: cannot obtain value for tensor ".concat(me)+' at layer "'.concat(he.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(se))}}catch(JNe){pe.e(JNe)}finally{pe.f()}var ve,ge=X(de.outputTensors);try{for(ge.s();!(ve=ge.n()).done;){var ye=ve.value;oe.push(ye)}}catch(JNe){ge.e(JNe)}finally{ge.f()}se.push(he.name)}}}catch(JNe){ce.e(JNe)}finally{ce.f()}}}catch(JNe){le.e(JNe)}finally{le.f()}r.nodesByDepth=H;var be,xe=r.layers.map((function(e){return e.name})),we=X(xe);try{var ke=function(){var e=be.value,t=xe.filter((function(t){return t===e})).length;if(1!==t)throw new vD('The name "'.concat(e,'" is used ').concat(t," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(xe))};for(we.s();!(be=we.n()).done;)ke()}catch(JNe){we.e(JNe)}finally{we.f()}return r.outboundNodes=[],r.inboundNodes=[],new vL({outboundLayer:F(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(e){return null})),outputMasks:r.outputs.map((function(e){return null})),inputShapes:r.inputs.map((function(e){return e.shape})),outputShapes:r.outputs.map((function(e){return e.shape}))}),r.built=!0,r._refCount=1,r}return N(n,[{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){var t,n=X(this.layers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.numDisposedVariables+=r.dispose().numDisposedVariables}}catch(JNe){n.e(JNe)}finally{n.f()}var a,i=X(this.internalContainerRefs);try{for(i.s();!(a=i.n()).done;){var o=a.value;e.numDisposedVariables+=o.dispose().numDisposedVariables}}catch(JNe){i.e(JNe)}finally{i.f()}}return e.refCountAfterDispose=this._refCount,e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e}},{key:"trainableWeights",get:function(){if(this._trainableWeights.length>0)throw new gD("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];var e,t=[],n=X(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t=t.concat(r.trainableWeights)}}catch(JNe){n.e(JNe)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=X(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,_.Z)(r.nonTrainableWeights))}}catch(JNe){n.e(JNe)}finally{n.f()}if(!this.trainable){var a,i=[],o=X(this.layers);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push.apply(i,(0,_.Z)(s.trainableWeights))}}catch(JNe){o.e(JNe)}finally{o.f()}return i.concat(t)}return t}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"loadWeights",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={},a=0,i=X(this.layers);try{for(i.s();!(t=i.n()).done;){var o,s=X(t.value.weights);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(null!=r[l.originalName])throw new gD("Duplicate weight name: ".concat(l.originalName));r[l.originalName]=l,a++}}catch(JNe){s.e(JNe)}finally{s.f()}}}catch(JNe){i.e(JNe)}finally{i.f()}var u=[];for(var c in e){var d=c;if(null==r[c]){var h=c.split("/");d=h.slice(0,-2).concat([h[h.length-1]]).join("/")}if(null!=r[d])u.push([r[d],e[c]]);else if(n)throw new gD("Provided weight data has no target variable: ".concat(c));delete r[d]}if(n){var f=[];for(var p in r)f.push(p);if(f.length>0)throw new gD("".concat(f.length," of ").concat(a," weights are not set: ")+"".concat(f))}hL(u)}},{key:"updatedConfig",value:function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat(dF),t.backend="TensorFlow.js",t}},{key:"toJSON",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=cF(this.updatedConfig());return t?JSON.stringify(n):n}},{key:"call",value:function(e,t){var n=this;return BE((function(){e=TD(e);for(var r=new hF,a=0;a<n.inputs.length;++a)r.add(n.inputs[a],e[a]);return mF(n.outputs,r,t)}))}},{key:"computeMask",value:function(e,t){var n=this;return BE((function(){var r;return e=TD(e),r=null==t?xD(null,e.length):TD(t),n.runInternalGraph(e,r)[1]}))}},{key:"computeOutputShape",value:function(e){var t=iL(e);if(t.length!==this.inputLayers.length)throw new gD("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));for(var n={},r=0;r<t.length;r++){var a=this.inputLayers[r],i=t[r];n[a.name+"_0_0"]=i}var o=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(ND);if(o.length>1){var s,l=X(o);try{for(l.s();!(s=l.n()).done;){var u,c=s.value,d=X(this.nodesByDepth[c]);try{for(d.s();!(u=d.n()).done;){var h=u.value,f=h.outboundLayer;if(-1===this.inputLayers.map((function(e){return e.id})).indexOf(f.id)){for(var p=[],m=0;m<h.inboundLayers.length;m++){var v=h.inboundLayers[m],g=h.nodeIndices[m],y=h.tensorIndices[m],b=n["".concat(v.name,"_").concat(g,"_").concat(y)];p.push(b)}for(var x=iL(f.computeOutputShape(SD(p))),w=f.inboundNodes.indexOf(h),k=0;k<x.length;k++){n["".concat(f.name,"_").concat(w,"_").concat(k)]=x[k]}}}}catch(JNe){d.e(JNe)}finally{d.f()}}}catch(JNe){l.e(JNe)}finally{l.f()}}for(var S=[],T=[],E=0;E<this.outputLayers.length;E++){var C=this.outputLayers[E],_=this.outputLayersNodeIndices[E],M=this.outputLayersTensorIndices[E],A="".concat(C.name,"_").concat(_,"_").concat(M);T.push(A)}for(var I=0;I<T.length;I++){var N=T[I];wD(N in n),S.push(n[N])}return SD(S)}},{key:"runInternalGraph",value:function(e,t){null==t&&(t=xD(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var a=this.inputs[r],i=e[r],o=t[r];n[a.id]=[i,o]}var s,l=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(ND),u=X(l);try{for(u.s();!(s=u.n()).done;){var c,d=s.value,h=X(this.nodesByDepth[d]);try{for(h.s();!(c=h.n()).done;){var f,p=c.value,m=p.outboundLayer,v=p.inputTensors,g=p.outputTensors,y=new Array,b=X(v);try{for(b.s();!(f=b.n()).done;){var x=f.value;x.id in n&&y.push(n[x.id])}}catch(JNe){b.e(JNe)}finally{b.f()}if(y.length===v.length){var w={},k=void 0,S=void 0,T=void 0,E=void 0;if(null!=p.callArgs&&(w=p.callArgs),1===y.length){var C=(0,Z.Z)(y[0],2),_=C[0],M=C[1];null==w.mask&&(w.mask=M),T=TD(m.call(_,w)),E=TD(m.computeMask(_,M)),k=[_],S=[M]}else k=y.map((function(e){return e[0]})),S=y.map((function(e){return e[1]})),null==w.mask&&(w.mask=S),T=TD(m.call(k,w)),E=TD(m.computeMask(k,S));if(m.activityRegularizer)throw new yD("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var A=0;A<g.length;++A){var I=g[A],N=T[A],R=E[A];n[I.id]=[N,R]}}}}catch(JNe){h.e(JNe)}finally{h.f()}}}catch(JNe){u.e(JNe)}finally{u.f()}var O,D=[],P=[],L=[],F=X(this.outputs);try{for(F.s();!(O=F.n()).done;){var j=O.value;wD(j.id in n,"Could not compute output ".concat(j.name," : ").concat(j.id));var z=(0,Z.Z)(n[j.id],2),B=z[0],U=z[1];L.push(B.shape),D.push(B),P.push(U)}}catch(JNe){F.e(JNe)}finally{F.f()}return[D,P,L]}},{key:"buildNodeConversionMap",value:function(e){var t,r,a={},i=X(this.layers);try{for(i.s();!(r=i.n()).done;){var o=r.value;t=o instanceof n?1:0;for(var s=0;s<o.inboundNodes.length;s++){var l=n.nodeKey(o,s);this.containerNodes.has(l)&&(a[l]=t,t+=1)}}}catch(JNe){i.e(JNe)}finally{i.f()}return a}},{key:"getLayer",value:function(e,t){if(null!=t){if(this.layers.length<=t)throw new gD("Was asked to retrieve layer at index ".concat(t,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[t]}if(null==e)throw new gD("Provide either a layer name or layer index");var n,r=X(this.layers);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.name===e)return a}}catch(JNe){r.e(JNe)}finally{r.f()}throw new gD("No such layer: ".concat(e))}},{key:"calculateLosses",value:function(){var e=this;return BE((function(){var t,r=[],a=X(e.layers);try{for(a.s();!(t=a.n()).done;)for(var i=t.value,o=0;o<i.inboundNodes.length;++o){var s=n.nodeKey(i,o);e.containerNodes.has(s)&&r.push.apply(r,(0,_.Z)(i.calculateLosses()))}}catch(JNe){a.e(JNe)}finally{a.f()}return r}))}},{key:"getConfig",value:function(){var e,t={name:this.name},r=this.buildNodeConversionMap(this.layers),a=[],i=X(this.layers);try{for(i.s();!(e=i.n()).done;){for(var o=e.value,s=o.getClassName(),l=o.getConfig(),u=[],c=0;c<o.inboundNodes.length;c++){var d=o.inboundNodes[c],h=n.nodeKey(o,c),f={};if(this.containerNodes.has(h)){if(d.callArgs)try{JSON.stringify(d.callArgs),f=d.callArgs}catch(JNe){console.warn("Layer ".concat(o.name," was passed ")+"non-serializable keyword arguments: "+"".concat(d.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),f={}}if(d.inboundLayers.length>0){for(var p=[],m=0;m<d.inboundLayers.length;m++){var v=d.inboundLayers[m],g=d.nodeIndices[m],y=d.tensorIndices[m],b=r[n.nodeKey(v,g)];null==b&&(b=0),p.push([v.name,b,y,f])}u.push(p)}}}var x={};x.name=o.name,x.className=s,x.config=l,x.inboundNodes=u,a.push(x)}}catch(JNe){i.e(JNe)}finally{i.f()}t.layers=a;for(var w=[],k=0;k<this.inputLayers.length;k++){var S=this.inputLayers[k],T=this.inputLayersNodeIndices[k],E=n.nodeKey(S,T);if(this.containerNodes.has(E)){var C=r[E];null!==C&&void 0!==C||(C=0);var _=this.inputLayersTensorIndices[k];w.push([S.name,C,_])}}t.inputLayers=w;for(var M=[],A=0;A<this.outputLayers.length;A++){var I=this.outputLayers[A],N=this.outputLayersNodeIndices[A],R=n.nodeKey(I,N);if(this.containerNodes.has(R)){var O=r[R];null!==O&&void 0!==O||(O=0);var D=this.outputLayersTensorIndices[A];M.push([I.name,O,D])}}return t.outputLayers=M,t}},{key:"stateful",get:function(){if(this._stateful)throw new gD("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");var e,t=X(this.layers);try{for(t.s();!(e=t.n()).done;){if(e.value.stateful)return!0}}catch(JNe){t.e(JNe)}finally{t.f()}return!1}},{key:"resetStates",value:function(){var e=this;BE((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},a={};function i(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function o(e,t){var n,a,o=[],s=X(t);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l[0],c=l[1],d=l[2];if(n=null==l[3]?{}:l[3],!(u in r))return void i(e,t);var h=r[u];if(h.inboundNodes.length<=c)return void i(e,t);var f=h.inboundNodes[c];o.push(f.outputTensors[d])}}catch(JNe){s.e(JNe)}finally{s.f()}o.length>0&&e.apply(SD(o),n)}function s(e){var a=e.name,o=OL(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(n),r[a]=o,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new gD("Corrupted configuration, expected array for nodeData: ".concat(e));i(o,e)}))}var l,u=t.name,c=t.layers,d=X(c);try{for(d.s();!(l=d.n()).done;){s(l.value)}}catch(JNe){d.e(JNe)}finally{d.f()}for(;!OD(a);){var h,f=X(c);try{for(f.s();!(h=f.n()).done;){var p=h.value,m=r[p.name];if(m.name in a){var v=a[m.name];delete a[m.name];var g,y=X(v);try{for(y.s();!(g=y.n()).done;){o(m,g.value)}}catch(JNe){y.e(JNe)}finally{y.f()}}}}catch(JNe){f.e(JNe)}finally{f.f()}}var b,x=[],w=[],k=X(t.inputLayers);try{for(k.s();!(b=k.n()).done;){var S=b.value,T=S[0],E=S[1],C=S[2];wD(T in r);var _=r[T].inboundNodes[E].outputTensors;x.push(_[C])}}catch(JNe){k.e(JNe)}finally{k.f()}var M,A=X(t.outputLayers);try{for(A.s();!(M=A.n()).done;){var I=M.value,N=I[0],R=I[1],O=I[2];wD(N in r);var D=r[N].inboundNodes[R].outputTensors;w.push(D[O])}}catch(JNe){A.e(JNe)}finally{A.f()}return new e({inputs:x,outputs:w,name:u})}}]),n}(yL);function xF(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){var a=[];return t.forEach((function(t){t in e?a.push(e[t]):a.push(null)})),a}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function wF(e,t){return xF(e,t,"classWeight")}function kF(e,t,n,r){return SF.apply(this,arguments)}function SF(){return SF=mo(fo().mark((function e(t,n,r,a){var i,o,s;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&null==a){e.next=2;break}throw new Error("Support sampleWeight is not implemented yet");case 2:if(null==r){e.next=15;break}return i=BE((function(){if(1===t.shape.length)return JT(t);if(2===t.shape.length){if(t.shape[1]>1){return eC(t,1)}if(1===t.shape[1])return wC(t,[t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),e.t0=Array,e.next=7,i.data();case 7:return e.t1=e.sent,o=e.t0.from.call(e.t0,e.t1),UE(i),s=[],o.forEach((function(e){if(null==r[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");s.push(r[e])})),e.abrupt("return",kA(s,"float32"));case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)}))),SF.apply(this,arguments)}function TF(e,t){return CC(e,t)}var EF=32;function CF(e,t){var n,r,a=t;n=a.xs,r=a.ys,Iy(null!=n&&null!=r,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)}));var i=_F("input",e.inputNames,n),o=_F("output",e.outputNames,r),s=i[0].shape[0];Iy(i.length===e.inputs.length,(function(){return"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(i.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")")})),Iy(o.length===e.outputs.length,(function(){return"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(o.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")}));for(var l=function(t){Iy(i[t].shape[0]===s,(function(){return"Batch size mismatch: input "+"".concat(e.inputNames[t]," has ").concat(i[t].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")}))},u=0;u<i.length;u++)l(u);for(var c=function(t){Iy(o[t].shape[0]===s,(function(){return"Batch size mismatch: output "+"".concat(e.outputNames[t]," has ").concat(o[t].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")}))},d=0;d<o.length;d++)c(d);return{xs:i,ys:o}}function _F(e,t,n){if(n instanceof oS)return[n];if(Array.isArray(n))return Iy(n.length===t.length,(function(){return"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,".")})),n;var r,a=[],i=X(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(null==n[o])throw new gD("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(o,"'."));a.push(n[o])}}catch(JNe){i.e(JNe)}finally{i.f()}return a}function MF(e){if(3===e.length)throw new yD("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}function AF(e,t,n){return IF.apply(this,arguments)}function IF(){return IF=mo(fo().mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h,f,p,m,v,g,y,b,x,w,k,S,T,E,C,_,M,A,I,N,R,O,D,P,L;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=r.batchesPerEpoch,Iy(null!=t.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),Iy(null!=r,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),Iy(null!=r.epochs&&r.epochs>0&&Number.isInteger(r.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(r.epochs)})),Iy(!a||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(r.batchesPerEpoch)})),Iy(null==r.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),!t.isTraining){e.next=8;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 8:return t.isTraining=!0,e.prev=9,(i=null!=r.validationData)&&(RF(r.validationData)?Iy(null==r.validationBatches||r.validationBatches>0&&Number.isInteger(r.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(r.validationBatches)})):(l=MF(r.validationData),o=l.xs,s=l.ys)),u=t.makeTrainFunction(),c=t.getDedupedMetricsNames(),d=i?c.slice().concat(c.map((function(e){return"val_"+e}))):c.slice(),h=IL(r.callbacks,r.yieldEvery),f=null==r.verbose?1:r.verbose,p=RL(h,f,r.epochs,null,null,NF(n,r),null,i,d),m=p.callbackList,v=p.history,m.setModel(t),t.history=v,e.next=22,m.onTrainBegin();case 22:return t.stopTraining_=!1,g=null==r.initialEpoch?0:r.initialEpoch,e.next=26,n.iterator();case 26:y=e.sent;case 27:if(!(g<r.epochs)){e.next=98;break}return b={},e.next=31,m.onEpochBegin(g);case 31:if(x=0,w=0,a){e.next=37;break}return e.next=36,n.iterator();case 36:y=e.sent;case 37:if(a&&!(x<r.batchesPerEpoch)){e.next=91;break}return e.next=40,y.next();case 40:if(k=e.sent,!a||!k.done){e.next=44;break}return console.warn("You provided `batchesPerEpoch` as "+"".concat(r.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(x," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(r.batchesPerEpoch*r.epochs," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("break",91);case 44:if(null==k.value){e.next=73;break}return S=CF(t,k.value),T=S.xs,E=S.ys,(C={}).batch=w,C.size=T[0].shape[0],e.next=51,m.onBatchBegin(w,C);case 51:if(_=[],null==r.classWeight){e.next=64;break}M=wF(r.classWeight,t.outputNames),A=0;case 55:if(!(A<M.length)){e.next=64;break}return e.t0=_,e.next=59,kF(E[A],null,M[A]);case 59:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 61:++A,e.next=55;break;case 64:for(I=T.concat(E).concat(_),N=u(I),UE(I),R=0;R<c.length;++R)O=c[R],D=N[R],C[O]=D,WE(D);return e.next=70,m.onBatchEnd(w,C);case 70:TL(C),w++,x++;case 73:if(!(a?x>=r.batchesPerEpoch:k.done)){e.next=87;break}if(!i){e.next=86;break}if(P=void 0,!RF(r.validationData)){e.next=84;break}return e.t2=TD,e.next=80,t.evaluateDataset(r.validationData,{batches:r.validationBatches});case 80:e.t3=e.sent,P=(0,e.t2)(e.t3),e.next=85;break;case 84:P=TD(t.evaluate(o,s,{batchSize:null==r.validationBatchSize?EF:r.validationBatchSize,verbose:0}));case 85:for(L=0;L<t.metricsNames.length;++L)b["val_".concat(t.metricsNames[L])]=P[L];case 86:return e.abrupt("break",91);case 87:if(!t.stopTraining_){e.next=89;break}return e.abrupt("break",91);case 89:e.next=37;break;case 91:return e.next=93,m.onEpochEnd(g,b);case 93:if(g++,!t.stopTraining_){e.next=96;break}return e.abrupt("break",98);case 96:e.next=27;break;case 98:return e.next=100,m.onTrainEnd();case 100:return e.next=102,t.history.syncData();case 102:return e.abrupt("return",t.history);case 103:return e.prev=103,t.isTraining=!1,e.finish(103);case 106:case"end":return e.stop()}}),e,null,[[9,,103,106]])}))),IF.apply(this,arguments)}function NF(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function RF(e){return"function"===typeof e.iterator}function OF(e,t,n){return DF.apply(this,arguments)}function DF(){return DF=mo(fo().mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=(r=r||{}).batches,i=t.testFunction,o=[],!(r.verbose>0)){e.next=6;break}throw new yD("Verbose mode is not implemented yet.");case 6:if(Iy(!a||r.batches>0&&Number.isInteger(r.batches),(function(){return"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(r.batches))})),"function"!==typeof n.next){e.next=11;break}e.t0=n,e.next=14;break;case 11:return e.next=13,n.iterator();case 13:e.t0=e.sent;case 14:s=e.t0,l=0,u=0,c=fo().mark((function e(){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.next();case 2:if(n=e.sent,o=BE((function(){if(n.value){var e=CF(t,n.value),r=e.xs,a=e.ys,s=r.concat(a),c=BE((function(){return i(s)}));if(UE(s),0===u)for(var d=0;d<c.length;++d)o.push(HE(0));for(var h=s[0].shape[0],f=function(e){var t=c[e],n=o[e];o[e]=BE((function(){return KE(o[e],CC(h,t))})),u>0&&UE(n)},p=0;p<c.length;++p)f(p);UE(c),l+=h,++u}return o})),!n.done){e.next=7;break}return a&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(r.batches," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("return","break");case 7:case"end":return e.stop()}}),e)}));case 18:if(a&&!(u<r.batches)){e.next=25;break}return e.delegateYield(c(),"t1",20);case 20:if("break"!==e.t1){e.next=23;break}return e.abrupt("break",25);case 23:e.next=18;break;case 25:for(d=0;d<o.length;++d)h=o[d],o[d]=s_(o[d],l),UE(h);return e.abrupt("return",SD(o));case 27:case"end":return e.stop()}}),e)}))),DF.apply(this,arguments)}function PF(e){Iy(e>0&&Number.isInteger(e),(function(){return"batchSize is required to be a positive integer, but got ".concat(e)}))}function LF(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return yP(e,t,n-t)})):yP(e,t,n-t)}function FF(e,t){return BE((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return FF(e,t)})):CP(e,"int32"===t.dtype?t:KT(t,"int32"))}))}function jF(e,t){for(var n=[],r=0,a=null;r<e;)(a=r+t)>=e&&(a=e),n.push([r,a]),r=a;return n}function zF(e,t,n,r,a,i,o,s,l,u,c,d,h,f,p){return BF.apply(this,arguments)}function BF(){return BF=mo(fo().mark((function e(t,n,r,a,i,o,s,l,u,c,d,h,f,p,m){var v,g,y,b,x,w,k,S;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i&&(i=32),null==o&&(o=1),null==d&&(d=!0),null==f&&(f=0),v=!1,null!=u&&null!=c&&(v=!0),null==m){e.next=10;break}if(v=!0,null!=p){e.next=10;break}throw new gD("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");case 10:return null!=(g=t.checkNumSamples(r,i,p,"steps_per_epoch"))&&(y=mP(0,g)),null==s&&(s=1),b=RL(l,s,o,f,g,p,i,v,h),x=b.callbackList,w=b.history,x.setModel(t),t.history=w,e.next=18,x.onTrainBegin();case 18:t.stopTraining_=!1,k=fo().mark((function e(){var o,s,l,h,f;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.onEpochBegin(S);case 2:if(o={},null==p){e.next=7;break}throw new yD("stepsPerEpoch mode is not implemented yet.");case 7:if("batch"!==d){e.next=11;break}throw new yD("batch shuffling is not implemneted yet");case 11:d&&Ey(y);case 12:s=kA(y),l=jF(g,i),h=fo().mark((function e(d){var h;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h={},e.next=3,x.onBatchBegin(d,h);case 3:return BE((function(){var e=l[d][0],f=l[d][1],p=yP(s,e,f-e);h.batch=d,h.size=f-e;for(var m=FF(r,p),g=n(m),y=0;y<a.length;++y){var b=a[y],x=g[y];h[b]=x,WE(x)}if(d===l.length-1&&v)for(var w=t.testLoop(u,c,i),k=0;k<a.length;++k){var S=a[k],T=w[k];WE(T),o["val_"+S]=T}})),e.next=6,x.onBatchEnd(d,h);case 6:if(TL(h),!t.stopTraining_){e.next=9;break}return e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),f=0;case 16:if(!(f<l.length)){e.next=24;break}return e.delegateYield(h(f),"t0",18);case 18:if("break"!==e.t0){e.next=21;break}return e.abrupt("break",24);case 21:++f,e.next=16;break;case 24:s.dispose();case 25:return e.next=27,x.onEpochEnd(S,o);case 27:if(!t.stopTraining_){e.next=29;break}return e.abrupt("return","break");case 29:case"end":return e.stop()}}),e)})),S=f;case 21:if(!(S<o)){e.next=29;break}return e.delegateYield(k(),"t0",23);case 23:if("break"!==e.t0){e.next=26;break}return e.abrupt("break",29);case 26:++S,e.next=21;break;case 29:return e.next=31,x.onTrainEnd();case 31:return e.next=33,t.history.syncData();case 33:return e.abrupt("return",t.history);case 34:case"end":return e.stop()}}),e)}))),BF.apply(this,arguments)}function UF(e,t,n){return WF.apply(this,arguments)}function WF(){return WF=mo(fo().mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h,f,p,m,v,g,y,b,x,w,k,S,T,E,C,_,M=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=M.length>3&&void 0!==M[3]?M[3]:{},!t.isTraining){e.next=3;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 3:return t.isTraining=!0,e.prev=4,PF(p=null==a.batchSize?32:a.batchSize),!1,e.next=10,t.standardizeUserData(n,r,a.sampleWeight,a.classWeight,false,p);case 10:if(m=e.sent,i=m[0],o=m[1],f=m[2],v=!1,!(null!=a.validationData&&a.validationData.length>0)){e.next=36;break}if(v=!0,2!==a.validationData.length){e.next=22;break}u=a.validationData[0],c=a.validationData[1],e.next=27;break;case 22:if(3!==a.validationData.length){e.next=26;break}throw new yD("validationData including sample weights is not supported yet.");case 26:throw new gD("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(a.validationData," is invalid."));case 27:return!0,e.next=30,t.standardizeUserData(u,c,null,null,true,p);case 30:y=e.sent,d=y[0],h=y[1],g=d.concat(h),e.next=37;break;case 36:null!=a.validationSplit&&a.validationSplit>0&&a.validationSplit<1?(v=!0,b=Math.floor(i[0].shape[0]*(1-a.validationSplit)),x=i[0].shape[0],d=LF(i,b,x),s=i,i=LF(i,0,b),h=LF(o,b,x),l=o,o=LF(o,0,b),g=d.concat(h)):null!=a.validationSteps&&(v=!0);case 37:return w=i.concat(o).concat(f),t.checkTrainableWeightsConsistency(),k=t.makeTrainFunction(),S=t.getDedupedMetricsNames(),v?(t.makeTestFunction(),T=t.testFunction,E=S.slice().concat(S.map((function(e){return"val_"+e})))):(T=null,g=[],E=S.slice()),C=IL(a.callbacks,a.yieldEvery),e.next=45,zF(t,k,w,S,p,a.epochs,a.verbose,C,T,g,a.shuffle,E,a.initialEpoch,null,null);case 45:return _=e.sent,e.abrupt("return",_);case 47:return e.prev=47,t.isTraining=!1,VF(i,n),VF(o,r),VF(s,n),VF(l,r),VF(d,u),VF(h,c),null!=f&&UE(f),e.finish(47);case 57:case"end":return e.stop()}}),e,null,[[4,,47,57]])}))),WF.apply(this,arguments)}function ZF(e){var t=[];e instanceof oS&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(gP(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function VF(e,t){if(null!=e){var n=[];if(t instanceof oS)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var r in t){var a=t[r];n.push(a.id)}var i=[];if(e instanceof oS)-1===n.indexOf(e.id)&&i.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&i.push(e)}));else if(null!=e)for(var o in e){var s=e[o];-1===n.indexOf(s.id)&&i.push(s)}i.forEach((function(e){e.isDisposed||e.dispose()}))}}function HF(e){return Array.isArray(e)}function GF(e){return!function(e){return e instanceof oS}(e)&&!HF(e)}function qF(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){var o=!1;if(HF(e)&&e.length>0)o=!0;else if(GF(e)){for(var s in e)if(e.hasOwnProperty(s)){o=!0;break}}else o=!0;if(o)throw new gD("Error when checking model ".concat(i," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map((function(e){return null}));if(GF(e)){r=[];var l,u=X(t);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(null==e[c])throw new gD('No data provided for "'.concat(c,'". Need data for each key in: ')+"".concat(t));r.push(e[c])}}catch(JNe){u.e(JNe)}finally{u.f()}}else if(HF(e)){if(e.length!==t.length)throw new gD("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));r=e}else{if(t.length>1)throw new gD("The model ".concat(i," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));r=[e]}if(r=ZF(r),null!=n)for(var d=0;d<t.length;++d)if(null!=n[d]){var h=r[d];if(h.shape.length!==n[d].length)throw new gD("Error when checking ".concat(i,": expected ").concat(t[d]," ")+"to have ".concat(n[d].length," dimension(s). but got array with ")+"shape ".concat(h.shape));for(var f=0;f<n[d].length;++f)if(0!==f||a){var p=h.shape[f],m=n[d][f];if(null!=m&&m>=0&&p!==m)throw new gD("".concat(i," expected a batch of elements where each ")+"example has shape [".concat(n[d].slice(1,n[d].length),"] ")+"(i.e.,tensor shape [*,".concat(n[d].slice(1,n[d].length),"])")+" but the ".concat(i," received an input with ").concat(h.shape[0])+" examples, each with shape [".concat(h.shape.slice(1,h.shape.length),"]")+" (tensor shape [".concat(h.shape,"])"))}}return r}function XF(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new gD("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new gD("The model expects ".concat(t.length," ").concat(i," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var s=r[o];if(s.shape.length!==n[o].length)throw new gD("Error when checking ".concat(i,": expected ").concat(t[o]," ")+"to have ".concat(n[o].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(s.shape)));for(var l=0;l<n[o].length;++l)if(0!==l||a){var u=s.shape[l],c=n[o][l];if(null!=c&&c!==u)throw new gD("Error when checking ".concat(i,": expected ")+"".concat(t[o]," to have shape ").concat(JSON.stringify(n[o])," but ")+"got array with shape ".concat(JSON.stringify(s.shape),"."))}}}var YF=function(e){O(r,e);var n=z(r);function r(e){var t;return M(this,r),(t=n.call(this,e)).isTraining=!1,t}return N(r,[{key:"summary",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new gD("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");aF(this,e,t,n)}},{key:"compile",value:function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return wN.adagrad(.01)},Adadelta:function(){return wN.adadelta(1,.95,pD())},Adam:function(){return wN.adam(.001,.9,.999,pD())},Adamax:function(){return wN.adamax(.002,.9,.999,pD(),0)},RMSProp:function(){return wN.rmsprop(.001,.9,0,pD())},SGD:function(){return wN.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new gD("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof GE))throw new gD("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new gD("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));var r=e.loss;n=r.map((function(e){return HL(e)}))}else{var a=HL(e.loss);this.outputs.forEach((function(e){n.push(a)}))}else{for(var i in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(i))throw new gD('Unknown entry in loss dictionary: "'.concat(i,'". ')+"Only expected the following keys: ".concat(this.outputNames));var o,s=X(this.outputNames);try{for(s.s();!(o=s.n()).done;){var l=o.value;null==e.loss[l]&&console.warn('Output "'.concat(l,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(l," during training")),n.push(HL(e.loss[l]))}}catch(JNe){s.e(JNe)}finally{s.f()}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var u=0;u<this.outputs.length;++u){var c=this.internalOutputShapes[u],d=this.outputNames[u];this.feedOutputNames.push(d),this.feedOutputShapes.push(c),this.feedLossFns.push(this.lossFunctions[u])}var h=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],oP("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===h.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var f=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((function(e){return n}));var r,a=[],i=X(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=n.hasOwnProperty(o)?n[o]:[];Array.isArray(s)||(s=[s]),a.push(s)}}catch(JNe){i.e(JNe)}finally{i.f()}return a}(e.metrics,this.outputNames);oP("metric",(function(){for(var e=function(e){if(-1!==h.indexOf(e))return"continue";!function(n){var r,a,i,o,s=X(n);try{var l=function(){var n,s=o.value;if("string"===typeof s&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(s)){var l,u=t.internalOutputShapes[e];1===u[u.length-1]||t.lossFunctions[e]===UL?-1!==["accuracy","acc"].indexOf(s)?a=GL:-1!==["crossentropy","ce"].indexOf(s)&&(a=YL):t.lossFunctions[e]===BL?-1!==["accuracy","acc"].indexOf(s)?a=KL:-1!==["crossentropy","ce"].indexOf(s)&&(a=$L):-1!==["accuracy","acc"].indexOf(s)?a=qL:-1!==["crossentropy","ce"].indexOf(s)&&(a=JL),-1!==["accuracy","acc"].indexOf(s)?l="acc":-1!==["crossentropy","ce"].indexOf(s)&&(l="ce"),i=a,r=""+l}else{var c=function(e){if("string"===typeof e&&e in QL)return QL[e];if("string"!==typeof e&&null!=e)return e;throw new gD("Unknown metric ".concat(e))}(s);i=c,r=""+eF(s)}oP(r,(function(){n=i})),function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])}(e,r,n)};for(s.s();!(o=s.n()).done;)l()}catch(JNe){s.e(JNe)}finally{s.f()}}(f[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights}},{key:"checkTrainableWeightsConsistency",value:function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n.batchSize?32:n.batchSize;PF(r);var a=this.standardizeUserDataXY(e,t,!0,r);try{var i=a[0].concat(a[1]);this.makeTestFunction();var o=this.testFunction;return SD(this.testLoop(o,i,r,n.verbose,n.steps))}finally{VF(a[0],e),VF(a[1],t)}}},{key:"evaluateDataset",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.makeTestFunction(),e.abrupt("return",OF(this,t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkNumSamples",value:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new gD("If ".concat(a," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new gD("Either the input data should have a defined shape, or "+"".concat(a," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}},{key:"execute",value:function(e,t){if(Array.isArray(t)&&0===t.length)throw new gD("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),i=new hF;if(e instanceof oS&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new gD("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(var o=0;o<this.inputs.length;++o)i.add(this.inputs[o],e[o])}else{var s,l=X(this.inputs);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=e[u.name];if(null==c)throw new gD("No value is provided for the model's input ".concat(u.name));i.add(u,c)}}catch(JNe){l.e(JNe)}finally{l.f()}}var d=mF(a,i);return n?d:d[0]}},{key:"retrieveSymbolicTensors",value:function(e){var t,n=xD(null,e.length),r=e.length,a=X(this.layers);try{for(a.s();!(t=a.n()).done;){for(var i=t.value,o=Array.isArray(i.output)?i.output:[i.output],s=o.map((function(e){return e.name})),l=0;l<e.length;++l){var u=s.indexOf(e[l]);if(-1!==u&&(n[l]=o[u],r--),0===r)break}if(0===r)break}}catch(JNe){a.e(JNe)}finally{a.f()}if(r>0){var c=[];throw n.forEach((function(t,n){null==t&&c.push(e[n])})),new gD("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(c)))}return n}},{key:"predictLoop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return BE((function(){var a=t.checkNumSamples(e);if(r)throw new yD("Verbose predictLoop() is not implemented yet.");for(var i=jF(a,n),o=t.outputs.map((function(e){return[]})),s=function(n){var r=BE((function(){var r=i[n][0],a=i[n][1],o=LF(e,r,a),s=[];if(Array.isArray(o))for(var l=0;l<o.length;++l)s.push({key:t.inputs[l],value:o[l]});else s.push({key:t.inputs[0],value:o});var u=new hF(s);return mF(t.outputs,u)}));r.forEach((function(e,t){return o[t].push(e)}))},l=0;l<i.length;++l)s(l);return SD(o.map((function(e){return TC(e,0)})))}))}},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ZF(e);XF(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return PF(r),this.predictLoop(n,r)}finally{VF(n,e)}}},{key:"predictOnBatch",value:function(e){XF(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}},{key:"standardizeUserDataXY",value:function(e,t){var n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new vD("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var r=[],a=0;a<this.feedOutputShapes.length;++a){var i=this.feedOutputShapes[a];this.feedLossFns[a]===BL?r.push(i.slice(0,i.length-1).concat([1])):r.push(i)}if(function(e,t,n){var r=RD(e.map((function(e){return e.shape[0]})));r.sort();var a=RD(t.map((function(e){return e.shape[0]})));if(a.sort(),r.length>1)throw new gD("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((function(e){return e.shape})))));if(a.length>1)throw new gD("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((function(e){return e.shape})))));if(r.length>0&&a.length>0&&!Py(r,a))throw new gD("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(r[0]," input sample(s) and ").concat(a[0]," target ")+"sample(s).")}(e=qF(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=qF(t,this.feedOutputNames,r,!1,"target")),function(e,t,n){for(var r=[PL,UL,zL],a=0;a<e.length;++a){var i=e[a],o=t[a],s=n[a];if(null!=o){if(o===zL&&1===i.shape[i.shape.length-1])throw new gD("You are passing a target array of shape ".concat(i.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o))for(var l=i.shape.slice(1),u=s.slice(1),c=0;c<l.length;++c){var d=l[c],h=u[c];if(null!=h&&d!==h)throw new gD("A target Tensor with shape ".concat(i.shape," was passed for an ")+"output of shape ".concat(s,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new gD("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}},{key:"standardizeUserData",value:function(){var e=mo(fo().mark((function e(t,n,r,a){var i,o,s,l,u,c,d,h,f,p=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!(p.length>4&&void 0!==p[4])||p[4],o=p.length>5?p[5]:void 0,s=this.standardizeUserDataXY(t,n,i,o),l=(0,Z.Z)(s,2),u=l[0],c=l[1],null==r){e.next=5;break}throw new Error("sample weight is not supported yet.");case 5:if(d=null,null==a){e.next=19;break}h=wF(a,this.outputNames),d=[],f=0;case 10:if(!(f<h.length)){e.next=19;break}return e.t0=d,e.next=14,kF(c[f],null,h[f]);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:++f,e.next=10;break;case 19:return e.abrupt("return",[u,c,d]);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"testLoop",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;return BE((function(){var o=r.checkNumSamples(t,n,i,"steps"),s=[];if(a>0)throw new yD("Verbose mode is not implemented yet.");if(null!=i)throw new yD("steps mode in testLoop() is not implemented yet");for(var l=jF(o,n),u=kA(mP(0,o)),c=0;c<l.length;++c){var d=l[c][0],h=l[c][1],f=yP(u,d,h-d),p=FF(t,f),m=e(p);if(0===c)for(var v=0;v<m.length;++v)s.push(HE(0));for(var g=0;g<m.length;++g){var y=m[g];s[g]=KE(s[g],CC(h-d,y))}}for(var b=0;b<s.length;++b)s[b]=s_(s[b],o);return s}))}},{key:"getDedupedMetricsNames",value:function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],a=r;if(kD(e,r)>1){var i=kD(e.slice(0,n),r);a+="_".concat(i)}t.push(a)}return t}},{key:"makeTrainFunction",value:function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),i=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),o=[],s=e.collectedTrainableWeights.map((function(e){return e.read()})),l=e.optimizer_.minimize((function(){for(var t=[],s=0;s<e.inputs.length;++s)t.push({key:e.inputs[s],value:r[s]});for(var l,u=new hF(t),c=mF(e.outputs,u,{training:!0}),d=0;d<e.lossFunctions.length;++d){var h=(0,e.lossFunctions[d])(a[d],c[d]);null!=i[d]&&(h=TF(h,i[d]));var f=oM(h);n.push(f),l=0===d?h:KE(l,h)}for(var p=0;p<e.metricsTensors.length;++p){var m=void 0;if(e.outputs.length>1&&p<e.outputs.length)m=n[p];else{var v=e.metricsTensors[p][0],g=e.metricsTensors[p][1];m=oM(v(a[g],c[g]))}WE(m),o.push(m)}return l=oM(l),e.calculateLosses().forEach((function(e){l=KE(l,e)})),l}),!0,s);return[l].concat(o)}}},{key:"makeTestFunction",value:function(){var e=this;this.testFunction=function(t){return BE((function(){for(var n,r=[],a=t.slice(0,e.inputs.length),i=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=[],s=0;s<e.inputs.length;++s)o.push({key:e.inputs[s],value:a[s]});for(var l=new hF(o),u=mF(e.outputs,l),c=0;c<e.lossFunctions.length;++c){var d=e.lossFunctions[c],h=oM(d(i[c],u[c]));n=0===c?h:KE(n,h),r.push(n)}for(var f=0;f<e.metricsTensors.length;++f){var p=e.metricsTensors[f][0],m=e.metricsTensors[f][1],v=oM(p(i[m],u[m]));r.push(v)}return r}))}}},{key:"fit",value:function(){var e=mo(fo().mark((function e(t,n){var r,a=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},e.abrupt("return",UF(this,t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AF(this,t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i,o,s,l,u,c,d,h;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.standardizeUserData(t,n);case 2:r=e.sent,a=r[0],i=r[1],o=this.makeTrainFunction(),s=o(a.concat(i)),l=[],u=X(s),e.prev=9,u.s();case 11:if((c=u.n()).done){e.next=19;break}return d=c.value,e.next=15,d.data();case 15:h=e.sent,l.push(h[0]);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),u.e(e.t0);case 24:return e.prev=24,u.f(),e.finish(24);case 27:return UE(s),VF(r[0],t),VF(r[1],n),e.abrupt("return",SD(l));case 31:case"end":return e.stop()}}),e,this,[[9,21,24,27]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNamedWeights",value:function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:a[i]});return t}},{key:"stopTraining",get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e}},{key:"optimizer",get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}},{key:"dispose",value:function(){var e=nv(D(r.prototype),"dispose",this).call(this);if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var t=zE().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-zE().numTensors}return e}},{key:"getLossIdentifiers",value:function(){var e;if("string"===typeof this.loss)e=ED(this.loss);else if(Array.isArray(this.loss)){var t,n=X(this.loss);try{for(n.s();!(t=n.n()).done;){if("string"!==typeof t.value)throw new Error("Serialization of non-string loss is not supported.")}}catch(JNe){n.e(JNe)}finally{n.f()}e=this.loss.map((function(e){return ED(e)}))}else{var r=Object.keys(this.loss);e={};for(var a=this.loss,i=0,o=r;i<o.length;i++){var s=o[i];if("string"!==typeof a[s])throw new Error("Serialization of non-string loss is not supported.");e[s]=ED(a[s])}}return e}},{key:"getMetricIdentifiers",value:function(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[ED(eF(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return ED(eF(e))}));var e={};for(var t in this.metrics)e[t]=ED(eF(this.metrics[t]));return e}},{key:"getTrainingConfig",value:function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}},{key:"loadTrainingConfig",value:function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=OL(uF(e.optimizer_config));if("string"===typeof e.loss)t=CD(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return CD(e)}));else if(null!=e.loss)for(var a in t={},e.loss)t[a]=CD(e.loss[a]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return CD(e)}));else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=CD(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})}},{key:"save",value:function(){var e=mo(fo().mark((function e(n,r){var a,i,o,s,l,u,c,d,h;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof n){e.next=9;break}if(0!==(a=sT(n)).length){e.next=6;break}throw new gD("Cannot find any save handlers for URL '".concat(n,"'"));case 6:if(!(a.length>1)){e.next=8;break}throw new gD("Found more than one (".concat(a.length,") save handlers for ")+"URL '".concat(n,"'"));case 8:n=a[0];case 9:if(null!=n.save){e.next=11;break}throw new gD("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.next=13,ZS(this.getNamedWeights(r));case 13:if(i=e.sent,!1,null,o=this.toJSON(null,false),s={modelTopology:o,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat(dF),convertedBy:null},!(null!=r&&r.includeOptimizer)||null==this.optimizer){e.next=34;break}return s.trainingConfig=this.getTrainingConfig(),u="optimizer",e.t0=t,e.next=25,this.optimizer.getWeights();case 25:return e.t1=e.sent,e.t2=u,e.next=29,e.t0.encodeWeights.call(e.t0,e.t1,e.t2);case 29:c=e.sent,d=c.data,h=c.specs,(l=i.specs).push.apply(l,(0,_.Z)(h)),i.data=JS([i.data,d]);case 34:return null!=this.userDefinedMetadata&&(!0,nF(this.userDefinedMetadata,this.name,true),s.userDefinedMetadata=this.userDefinedMetadata),s.weightData=i.data,s.weightSpecs=i.specs,e.abrupt("return",n.save(s));case 38:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserDefinedMetadata",value:function(e){nF(e,this.name),this.userDefinedMetadata=e}},{key:"getUserDefinedMetadata",value:function(){return this.userDefinedMetadata}}]),r}(bF);YF.className="Model",FE(YF);var KF=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n)}(YF);KF.className="Functional",FE(KF);var JF=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),e=e||{},(r=t.call(this,{inputs:[],outputs:[]})).trainable=!0,r.built=!1,r.name=null!=e.name?e.name:rL("sequential_"),null!=e.layers){var a,i=X(e.layers);try{for(i.s();!(a=i.n()).done;){var o=a.value;r.add(o)}}catch(JNe){i.e(JNe)}finally{i.f()}}return r}return N(n,[{key:"checkShape",value:function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new gD("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}},{key:"add",value:function(e){var t,r=e instanceof n||e instanceof YF;if(r){if(1!==(t=e).outputs.length)throw new gD("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==t.inputs.length)throw new gD("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new gD("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var a=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new gD("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new wL({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=t.outputs,this.inputs=t.inputs;else{if(1!==e.inboundNodes.length)throw new gD("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new gD("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=bL(this.outputs[0])}this.inboundNodes=[],new vL({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:xD(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var i=e.apply(this.outputs[0]);if(Array.isArray(i))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[i],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}},{key:"pop",value:function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}},{key:"call",value:function(e,t){return null==this.model&&this.build(),this.model.call(e,t)}},{key:"build",value:function(e){if(sL(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new YF({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}},{key:"countParams",value:function(){return this.built||this.build(),nv(D(n.prototype),"countParams",this).call(this)}},{key:"summary",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),nv(D(n.prototype),"summary",this).call(this,e,t,r)}},{key:"setWeights",value:function(e){null==this.model&&this.build(),this.model.setWeights(e)}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new vD("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}},{key:"evaluateDataset",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new vD("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.evaluateDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}},{key:"predictOnBatch",value:function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}},{key:"compile",value:function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}},{key:"optimizer",get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e}},{key:"fit",value:function(){var e=mo(fo().mark((function e(t,n){var r,a=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},this.built){e.next=3;break}throw new vD("The model needs to be compiled before being used.");case 3:return e.abrupt("return",this.model.fit(t,n,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new vD("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.fitDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.trainOnBatch(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stopTraining",get:function(){if(null==this.model)throw new gD("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new gD("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}},{key:"getConfig",value:function(){var e,t=[],n=X(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value,a={};a.className=r.getClassName(),a.config=r.getConfig(),t.push(a)}}catch(JNe){n.e(JNe)}finally{n.f()}return{name:this.name,layers:t}}}],[{key:"fromConfig",value:function(e,t){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new gD("Legacy serialization format not supported yet.");r=t}else Iy(null!=t.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),r=t.layers,delete t.layers,i=t;var o=new e(i);if(!(o instanceof n))throw new yD("Sequential.fromConfig called on non-Sequential input: ".concat(o));var s,l=X(r);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=OL(u,undefined,a);a&&c.setFastWeightInitDuringBuild(!0),o.add(c)}}catch(JNe){l.e(JNe)}finally{l.f()}return o}}]),n}(YF);JF.className="Sequential",FE(JF);var $F=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"getConfig",value:function(){return{}}}]),n}(PE),QF=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new yD("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return p_(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}}]),n}($F);QF.className="elu",FE(QF);var ej=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return $M(e)}}]),n}($F);ej.className="selu",FE(ej);var tj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return ZM(e)}}]),n}($F);tj.className="relu",FE(tj);var nj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return BE((function(){return dM(6,ZM(e))}))}}]),n}($F);nj.className="relu6",FE(nj);var rj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return e}}]),n}($F);rj.className="linear",FE(rj);var aj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return _C(e)}}]),n}($F);aj.className="sigmoid",FE(aj);var ij=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return function(e){return BE((function(){var t=KE(.5,CC(.2,e));return BC(t,0,1)}))}(e)}}]),n}($F);ij.className="hardSigmoid",FE(ij);var oj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return j_(e)}}]),n}($F);oj.className="softplus",FE(oj);var sj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return function(e){return BE((function(){return s_(e,KE(qE(e),1))}))}(e)}}]),n}($F);sj.className="softsign",FE(sj);var lj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return AC(e)}}]),n}($F);lj.className="tanh",FE(lj);var uj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return uA(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}]),n}($F);uj.className="softmax",FE(uj);var cj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return Z_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}]),n}($F);cj.className="logSoftmax",FE(cj);var dj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return BE((function(){return CC(_C(CC(e,t)),e)}))}}]),n}($F);dj.className="swish",FE(dj);var hj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e){return BE((function(){return CC(e,AC(j_(e)))}))}}]),n}($F);function fj(e){return e.getClassName()}function pj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ID(e,LE.getMap().classNameMap,t,"activation")}function mj(e){if(null==e){var t={className:"linear",config:{}};return pj(t)}if("string"===typeof e){var n={};return n.className=e,n.config={},pj(n)}return e instanceof $F?e:pj(e)}function vj(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}hj.className="mish",FE(hj);var gj=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n)}(PE),yj=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),r=t.call(this),vj(e),r.l1=null==e||null==e.l1?.01:e.l1,r.l2=null==e||null==e.l2?.01:e.l2,r.hasL1=0!==r.l1,r.hasL2=0!==r.l2,r}return N(n,[{key:"apply",value:function(e){var t=this;return BE((function(){var n=sM([1]);return t.hasL1&&(n=KE(n,W_(CC(t.l1,qE(e))))),t.hasL2&&(n=KE(n,W_(CC(t.l2,_P(e))))),wC(n,[])}))}},{key:"getConfig",value:function(){return{l1:this.l1,l2:this.l2}}}],[{key:"fromConfig",value:function(e,t){return new e({l1:t.l1,l2:t.l2})}}]),n}(gj);yj.className="L1L2",FE(yj);var bj={l1l2:"L1L2"};function xj(e){return MD(e)}function wj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ID(e,LE.getMap().classNameMap,t,"regularizer")}function kj(e){return null==e?null:"string"===typeof e?wj({className:e in bj?bj[e]:e,config:{}}):e instanceof gj?e:wj(e)}var Sj=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,null!=e&&(r.maxValue=e.maxValue),r}return N(n,[{key:"call",value:function(e,t){e=oL(e);var n=ZM(e);return null!=this.maxValue&&(n=BC(n,0,this.maxValue)),n}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={maxValue:this.maxValue},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);Sj.className="ReLU",FE(Sj);var Tj=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=.3,null==e&&(e={}),r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return N(n,[{key:"call",value:function(e,t){var n=oL(e);return I_(n,this.alpha)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);Tj.className="LeakyReLU",FE(Tj);var Ej=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),r.supportsMasking=!0,r.alphaInitializer=QP(e.alphaInitializer||r.DEFAULT_ALPHA_INITIALIZER),r.alphaRegularizer=kj(e.alphaRegularizer),r.alphaConstraint=XD(e.alphaConstraint),null==e.sharedAxes)r.sharedAxes=null;else if(Array.isArray(e.sharedAxes))r.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new gD("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));r.sharedAxes=[e.sharedAxes]}return r}return N(n,[{key:"build",value:function(e){var t=(e=sL(e)).slice(1);if(null!=this.sharedAxes){var n,r=X(this.sharedAxes);try{for(r.s();!(n=r.n()).done;){t[n.value-1]=1}}catch(JNe){r.e(JNe)}finally{r.f()}}this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var a={};if(null!=this.sharedAxes)for(var i=1;i<e.length;++i)a[i]=e[i];this.inputSpec=[new fL({ndim:e.length,axes:a})],this.built=!0}},{key:"call",value:function(e,t){return e=oL(e),IM(e,this.alpha.read())}},{key:"getConfig",value:function(){var e={alphaInitializer:$P(this.alphaInitializer),alphaRegularizer:xj(this.alphaRegularizer),alphaConstraint:GD(this.alphaConstraint),sharedAxes:this.sharedAxes},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);Ej.className="PReLU",FE(Ej);var Cj=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==r.DEFAULT_ALPHA)throw new yD("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");return r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return N(n,[{key:"call",value:function(e,t){var n=oL(e);return p_(n)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);Cj.className="ELU",FE(Cj);var _j=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_THETA=1,null==e&&(e={}),r.theta=null==e.theta?r.DEFAULT_THETA:e.theta,r}return N(n,[{key:"call",value:function(e,t){var n=oL(e);return CC(n,KT(T_(n,this.theta),"float32"))}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={theta:this.theta},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);_j.className="ThresholdedReLU",FE(_j);var Mj=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_AXIS=1,null==e&&(e={}),r.softmax=(new uj).apply,r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r}return N(n,[{key:"call",value:function(e,t){var n=oL(e);return this.softmax(n,this.axis)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={axis:this.axis},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);function Aj(e,t,n){if("number"===typeof e)return xD(e,t);if(e.length!==t)throw new gD("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(var r=0;r<t;++r){var a=e[r];if(!dP(a))throw new gD("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(a))}return e}function Ij(e,t,n,r){var a;return null==e?e:(a="same"===n?e:e-(t+(t-1)*((arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-1))+1,Math.floor((a+r-1)/r))}function Nj(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+pP([n-t,0]);else{if("same"!==r)throw new gD("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function Rj(e,t){return BE((function(){return tP(t),"channelsFirst"===t?jA(e,[0,2,3,1]):e}))}function Oj(e,t){return BE((function(){return tP(t),"channelsFirst"===t?jA(e,[0,2,3,4,1]):e}))}function Dj(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return BE((function(){if(null==i&&(i="channelsLast"),tP(i),3!==e.shape.length)throw new gD("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new gD("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new gD("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(t.shape.length," instead"));if("channelsFirst"===i&&(e=jA(e,[0,2,1])),"causal"===a)throw new yD("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=GC(e,t,r,"same"===a?"same":"valid","NWC",o);return null!=n&&(s=AP(s,n)),s}))}function Pj(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return BE((function(){if(null==i&&(i="channelsLast"),tP(i),3!==e.rank&&4!==e.rank)throw new gD("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new gD("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));var l=Rj(e,i);if("causal"===a)throw new yD("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=rI({x:l,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===i&&(l=jA(l,[0,3,1,2])),l}))}function Lj(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;return BE((function(){if(null==i&&(i="channelsLast"),tP(i),4!==e.rank&&5!==e.rank)throw new gD("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new gD("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));var s=Oj(e,i);if("causal"===a)throw new yD("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=YC(s,t,r,"same"===a?"same":"valid","NDHWC",o),null!=n&&(s=AP(s,n)),"channelsFirst"===i&&(s=jA(s,[0,4,1,2,3])),s}))}Mj.className="Softmax",FE(Mj);var Fj=function(e){O(n,e);var t=z(n);function n(e,r){var a;if(M(this,n),(a=t.call(this,r)).bias=null,a.DEFAULT_KERNEL_INITIALIZER="glorotNormal",a.DEFAULT_BIAS_INITIALIZER="zeros",n.verifyArgs(r),a.rank=e,LD(a.rank,"rank"),1!==a.rank&&2!==a.rank&&3!==a.rank)throw new yD("Convolution layer for rank other than 1, 2, or 3 (".concat(a.rank,") is ")+"not implemented yet.");if(a.kernelSize=Aj(r.kernelSize,e,"kernelSize"),a.strides=Aj(null==r.strides?1:r.strides,e,"strides"),a.padding=null==r.padding?"valid":r.padding,nP(a.padding),a.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,tP(a.dataFormat),a.activation=mj(r.activation),a.useBias=null==r.useBias||r.useBias,a.biasInitializer=QP(r.biasInitializer||a.DEFAULT_BIAS_INITIALIZER),a.biasConstraint=XD(r.biasConstraint),a.biasRegularizer=kj(r.biasRegularizer),a.activityRegularizer=kj(r.activityRegularizer),a.dilationRate=Aj(null==r.dilationRate?1:r.dilationRate,e,"dilationRate"),1===a.rank&&Array.isArray(a.dilationRate)&&1!==a.dilationRate.length)throw new gD("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(a.dilationRate)));if(2===a.rank){if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate];else if(2!==a.dilationRate.length)throw new gD("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)))}else if(3===a.rank)if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate,a.dilationRate];else if(3!==a.dilationRate.length)throw new gD("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)));return a}return N(n,[{key:"getConfig",value:function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:fj(this.activation),useBias:this.useBias,biasInitializer:$P(this.biasInitializer),biasRegularizer:xj(this.biasRegularizer),activityRegularizer:xj(this.activityRegularizer),biasConstraint:GD(this.biasConstraint)},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(wD("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!PD(e.kernelSize,"number",1,3))throw new gD("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(yL),jj=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this,e,r)).kernel=null,n.verifyArgs(r),a.filters=r.filters,LD(a.filters,"filters"),a.kernelInitializer=QP(r.kernelInitializer||a.DEFAULT_KERNEL_INITIALIZER),a.kernelConstraint=XD(r.kernelConstraint),a.kernelRegularizer=kj(r.kernelRegularizer),a}return N(n,[{key:"build",value:function(e){e=sL(e);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new gD("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));var n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(0,kt.Z)({},t,n)}],this.built=!0}},{key:"call",value:function(e,t){var n=this;return BE((function(){var t;e=oL(e);var r=null==n.bias?null:n.bias.read(),a=jD(n.activation.getClassName());if(null!=a&&2===n.rank)t=Pj(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=Dj(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=Pj(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new yD("convolutions greater than 3D are not implemented yet.");t=Lj(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))}},{key:"computeOutputShape",value:function(e){e=sL(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var a=Ij(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(a)}var i=[e[0]];return"channelsLast"===this.dataFormat?(i=i.concat(t)).push(this.filters):(i.push(this.filters),i=i.concat(t)),i}},{key:"getConfig",value:function(){var e={filters:this.filters,kernelInitializer:$P(this.kernelInitializer),kernelRegularizer:xj(this.kernelRegularizer),kernelConstraint:GD(this.kernelConstraint)},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new gD("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}]),n}(Fj),zj=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),r=t.call(this,2,e),n.verifyArgs(e),r}return N(n,[{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!PD(e.kernelSize,"number",1,2))throw new gD("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(jj);zj.className="Conv2D",FE(zj);var Bj=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),r=t.call(this,3,e),n.verifyArgs(e),r}return N(n,[{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new gD("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(jj);Bj.className="Conv3D",FE(Bj);var Uj=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),(r=t.call(this,e)).inputSpec=[new fL({ndim:4})],"same"!==r.padding&&"valid"!==r.padding)throw new gD("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return N(n,[{key:"build",value:function(e){if(4!==(e=sL(e)).length)throw new gD("Input should have rank 4; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new gD("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new fL({ndim:4,axes:(0,kt.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return BE((function(){var t=oL(e);if(4!==t.shape.length)throw new gD("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,a,i=t.shape,o=i[0];"channelsFirst"===n.dataFormat?(r=2,a=3):(r=1,a=2);var s=i[r],l=i[a],u=n.kernelSize[0],c=n.kernelSize[1],d=n.strides[0],h=n.strides[1],f=[o,Nj(s,d,u,n.padding),Nj(l,h,c,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=jA(t,[0,2,3,1]));var p=XC(t,n.kernel.read(),f,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(p=jA(p,[0,3,1,2])),null!=n.bias&&(p=AP(p,n.bias.read(),n.dataFormat)),null!=n.activation&&(p=n.activation.apply(p)),p}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=(e=sL(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var i=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],l=this.strides[1];return a[t]=this.filters,a[n]=Nj(a[n],s,i,this.padding),a[r]=Nj(a[r],l,o,this.padding),a}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(zj);Uj.className="Conv2DTranspose",FE(Uj);var Wj=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),(r=t.call(this,e)).inputSpec=[new fL({ndim:5})],"same"!==r.padding&&"valid"!==r.padding)throw new gD("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return N(n,[{key:"build",value:function(e){if(5!==(e=sL(e)).length)throw new gD("Input should have rank 5; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new gD("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new fL({ndim:5,axes:(0,kt.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return BE((function(){var t=oL(e);if(5!==t.shape.length)throw new gD("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,a,i,o=t.shape,s=o[0];"channelsFirst"===n.dataFormat?(i=2,r=3,a=4):(i=1,r=2,a=3);var l=o[i],u=o[r],c=o[a],d=n.kernelSize[0],h=n.kernelSize[1],f=n.kernelSize[2],p=n.strides[0],m=n.strides[1],v=n.strides[2],g=[s,Nj(l,p,d,n.padding),Nj(u,m,h,n.padding),Nj(c,v,f,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=jA(t,[0,2,3,4,1]));var y=JC(t,n.kernel.read(),g,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(y=jA(y,[0,4,1,2,3])),null!==n.bias&&(y=AP(y,n.bias.read(),n.dataFormat)),null!==n.activation&&(y=n.activation.apply(y)),y}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a,i=(e=sL(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3,a=4):(t=4,n=1,r=2,a=3);var o=this.kernelSize[0],s=this.kernelSize[1],l=this.kernelSize[2],u=this.strides[0],c=this.strides[1],d=this.strides[2];return i[t]=this.filters,i[n]=Nj(i[n],u,o,this.padding),i[r]=Nj(i[r],c,s,this.padding),i[a]=Nj(i[a],d,l,this.padding),i}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(Bj);Wj.className="Conv3DTranspose",FE(Wj);var Zj=function(e){O(n,e);var t=z(n);function n(e,r){var a;if(M(this,n),(a=t.call(this,e,r)).DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",a.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",a.depthwiseKernel=null,a.pointwiseKernel=null,null==r.filters)throw new gD("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=r.kernelInitializer||null!=r.kernelRegularizer||null!=r.kernelConstraint)throw new gD("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=r.padding&&"same"!==r.padding&&"valid"!==r.padding)throw new gD("SeparableConv".concat(a.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(r.padding)));return a.depthMultiplier=null==r.depthMultiplier?1:r.depthMultiplier,a.depthwiseInitializer=QP(r.depthwiseInitializer||a.DEFAULT_DEPTHWISE_INITIALIZER),a.depthwiseRegularizer=kj(r.depthwiseRegularizer),a.depthwiseConstraint=XD(r.depthwiseConstraint),a.pointwiseInitializer=QP(r.depthwiseInitializer||a.DEFAULT_POINTWISE_INITIALIZER),a.pointwiseRegularizer=kj(r.pointwiseRegularizer),a.pointwiseConstraint=XD(r.pointwiseConstraint),a}return N(n,[{key:"build",value:function(e){if((e=sL(e)).length<this.rank+2)throw new gD("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new gD("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));for(var n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[],i=0;i<this.rank;++i)a.push(1);a.push(n*this.depthMultiplier,this.filters);var o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new fL({ndim:this.rank+2,axes:(0,kt.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return BE((function(){var t;if(e=oL(e),1===n.rank)throw new yD("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=jA(e,[0,2,3,1])),t=QM(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=AP(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=jA(t,[0,3,1,2])),t}))}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=$P(this.depthwiseInitializer),e.pointwiseInitializer=$P(this.pointwiseInitializer),e.depthwiseRegularizer=xj(this.depthwiseRegularizer),e.pointwiseRegularizer=xj(this.pointwiseRegularizer),e.depthwiseConstraint=GD(this.depthwiseConstraint),e.pointwiseConstraint=GD(this.pointwiseConstraint),e}}]),n}(jj);Zj.className="SeparableConv";var Vj=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,2,e)}return N(n)}(Zj);Vj.className="SeparableConv2D",FE(Vj);var Hj=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),r=t.call(this,1,e),n.verifyArgs(e),r.inputSpec=[{ndim:3}],r}return N(n,[{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.dataFormat,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!PD(e.kernelSize,"number",1,1))throw new gD("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(jj);Hj.className="Conv1D",FE(Hj);var Gj=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),r=t.call(this,e),"number"===typeof e.cropping?r.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?r.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:r.cropping=e.cropping,r.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,r.inputSpec=[{ndim:4}],r}return N(n,[{key:"computeOutputShape",value:function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}},{key:"call",value:function(e,t){var n=this;return BE((function(){if(e=oL(e),"channelsLast"===n.dataFormat){var t=xP(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return xP(t,n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var r=xP(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return xP(r,n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))}},{key:"getConfig",value:function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);Gj.className="Cropping2D",FE(Gj);var qj=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).DEFAULT_SIZE=[2,2],r.inputSpec=[{ndim:4}],r.size=null==e.size?r.DEFAULT_SIZE:e.size,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,tP(r.dataFormat),r.interpolation=null==e.interpolation?"nearest":e.interpolation,function(e){DD(KD,"InterpolationFormat",e)}(r.interpolation),r}return N(n,[{key:"computeOutputShape",value:function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}var r=null==e[1]?null:this.size[0]*e[1],a=null==e[2]?null:this.size[1]*e[2];return[e[0],r,a,e[3]]}},{key:"call",value:function(e,t){var n=this;return BE((function(){var t=oL(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=jA(t,[0,2,3,1]);var a=n.size[0]*r[2],i=n.size[1]*r[3],o="nearest"===n.interpolation?lN.resizeNearestNeighbor(t,[a,i]):lN.resizeBilinear(t,[a,i]);return jA(o,[0,3,1,2])}var s=n.size[0]*r[1],l=n.size[1]*r[2];return"nearest"===n.interpolation?lN.resizeNearestNeighbor(t,[s,l]):lN.resizeBilinear(t,[s,l])}))}},{key:"getConfig",value:function(){var e={size:this.size,dataFormat:this.dataFormat},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);qj.className="UpSampling2D",FE(qj);var Xj=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,2,e)).depthwiseKernel=null,r.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,r.depthwiseInitializer=QP(e.depthwiseInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.depthwiseConstraint=XD(e.depthwiseConstraint),r.depthwiseRegularizer=kj(e.depthwiseRegularizer),r}return N(n,[{key:"build",value:function(e){if((e=sL(e)).length<4)throw new gD("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new gD("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return BE((function(){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return BE((function(){null==a&&(a="channelsLast"),tP(a);var o=Rj(e,a);if(4!==e.rank)throw new gD("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new gD("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return o=r_(o,t,n,"same"===r?"same":"valid","NHWC",i),"channelsFirst"===a&&(o=jA(o,[0,3,1,2])),o}))}(e=oL(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=AP(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))}},{key:"computeOutputShape",value:function(e){e=sL(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=Ij(t,this.kernelSize[0],this.padding,this.strides[0]),i=Ij(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,i]:[e[0],a,i,r]}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=$P(this.depthwiseInitializer),e.depthwiseRegularizer=xj(this.depthwiseRegularizer),e.depthwiseConstraint=GD(this.depthwiseRegularizer),e}}]),n}(Fj);function Yj(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new gD("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function Kj(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return BE((function(){var l=t.shape.length;if(l<3)throw new gD("Input should be at least 3D, but is ".concat(l,"D."));var u=[1,0].concat(mP(2,l));if(t=jA(t,u),null!=i)throw new yD("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=KT(KT(a,"bool"),"float32")).rank===l-1&&(a=g_(a,-1)),a=jA(a,u)),r&&(t=HM(t,0),null!=a&&(a=HM(a,0)));var c,d,h=[],f=n,p=t.shape[0],m=NA(t);null!=a&&(d=NA(a));for(var v,g=function(t){var n=m[t],r=BE((function(){return e(n,f)}));if(null==a)c=r[0],f=r[1];else{var i=BE((function(){var e=d[t],n=U_(xM(e),e),a=KE(CC(r[0],e),CC(f[0],n)),i=f.map((function(t,a){return KE(CC(r[1][a],e),CC(t,n))}));return{output:a,newStates:i}}));c=i.output,f=i.newStates}s&&h.push(c)},y=0;y<p;++y)g(y);if(s){v=yA(h,1)}return[c,v,f]}))}Xj.className="DepthwiseConv2D",FE(Xj);var Jj=function(e){O(n,e);var t=z(n);function n(e){var r,a;if(M(this,n),r=t.call(this,e),null==e.cell)throw new gD("cell property is missing for the constructor of RNN.");if(null==(a=Array.isArray(e.cell)?new iz({cells:e.cell}):e.cell).stateSize)throw new gD("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=a,r.returnSequences=null!=e.returnSequences&&e.returnSequences,r.returnState=null!=e.returnState&&e.returnState,r.goBackwards=null!=e.goBackwards&&e.goBackwards,r._stateful=null!=e.stateful&&e.stateful,r.unroll=null!=e.unroll&&e.unroll,r.supportsMasking=!0,r.inputSpec=[new fL({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return N(n,[{key:"getStates",value:function(){return null==this.states_?mP(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_}},{key:"setStates",value:function(e){this.states_=e}},{key:"computeOutputShape",value:function(e){aL(e)&&(e=e[0]);var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){var a,i=[],o=X(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push([e[0],s])}}catch(JNe){o.e(JNe)}finally{o.f()}return[n].concat(i)}return n}},{key:"computeMask",value:function(e,t){var n=this;return BE((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))}},{key:"states",get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e}},{key:"build",value:function(e){if(null!=this.numConstants)throw new yD("Constants support is not implemented in RNN yet.");aL(e)&&(e=e[0]);var t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new fL({shape:[t,null].concat((0,_.Z)(n))});var r,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!Py(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),r))throw new gD("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=r.map((function(e){return new fL({shape:[null,e]})}));this.stateful&&this.resetStates()}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];BE((function(){if(!t.stateful)throw new mD("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape[0];if(null==r)throw new gD("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.states_)Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return sM([r,e])})):t.states_=[sM([r,t.cell.stateSize])];else if(null==e)UE(t.states_),null!=t.keptStates&&(UE(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return sM([r,e])})):t.states_[0]=sM([r,t.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new gD("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===n?t.keptStates.push(t.states_.slice()):UE(t.states_);for(var a=0;a<t.states_.length;++a){var i=e[a],o=Array.isArray(t.cell.stateSize)?t.cell.stateSize[a]:t.cell.stateSize,s=[r,o];if(!Py(i.shape,s))throw new gD("State ".concat(a," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(s,", received shape=").concat(i.shape));t.states_[a]=i}}t.states_=t.states_.map((function(e){return WE(e.clone())}))}))}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var i=Yj(e,r,a,this.numConstants);e=i.inputs,r=i.initialState,a=i.constants;var o=[],s=[];if(null!=r){t.initialState=r,o=o.concat(r),this.stateSpec=[];var l,u=X(r);try{for(u.s();!(l=u.n()).done;){var c=l.value;this.stateSpec.push(new fL({shape:c.shape}))}}catch(JNe){u.e(JNe)}finally{u.f()}s=s.concat(this.stateSpec)}if(null!=a&&(t.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof pL){var d=[e].concat(o),h=this.inputSpec.concat(s),f=this.inputSpec;this.inputSpec=h;var p=nv(D(n.prototype),"apply",this).call(this,d,t);return this.inputSpec=f,p}return nv(D(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return BE((function(){var r=null==t?null:t.mask,a=null==t?null:t.training,i=null==t?null:t.initialState;e=oL(e),null==i&&(i=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(i.length!==o)throw new gD("RNN Layer has ".concat(o," state(s) but was passed ")+"".concat(i.length," initial state(s)."));n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:a},l=Kj((function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]}),e,i,n.goBackwards,r,null,n.unroll,n.returnSequences),u=l[0],c=l[1],d=l[2];n.stateful&&n.resetStates(d,a);var h=n.returnSequences?c:u;return n.returnState?[h].concat(d):h}))}},{key:"getInitialState",value:function(e){var t=this;return BE((function(){var n=sM(e.shape);return n=gP(n=W_(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?SP(n,[1,e]):n})):t.cell.stateSize>1?[SP(n,[1,t.cell.stateSize])]:[n]}))}},{key:"trainableWeights",get:function(){return this.trainable?this.cell.trainableWeights:[]}},{key:"nonTrainableWeights",get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}},{key:"setFastWeightInitDuringBuild",value:function(e){nv(D(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var r=this.cell.getConfig();return this.getClassName()===n.className&&(t.cell={className:this.cell.getClassName(),config:r}),Object.assign({},r,e,t)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=OL(t.cell,n);return new e(Object.assign(t,{cell:r}))}}]),n}(yL);Jj.className="RNN",FE(Jj);var $j=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n)}(yL),Qj=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,LD(r.units,"units"),r.activation=mj(null==e.activation?r.DEFAULT_ACTIVATION:e.activation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=QP(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=QP(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=QP(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=kj(e.kernelRegularizer),r.recurrentRegularizer=kj(e.recurrentRegularizer),r.biasRegularizer=kj(e.biasRegularizer),r.kernelConstraint=XD(e.kernelConstraint),r.recurrentConstraint=XD(e.recurrentConstraint),r.biasConstraint=XD(e.biasConstraint),r.dropout=fP([1,pP([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=fP([1,pP([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return N(n,[{key:"build",value:function(e){e=sL(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return BE((function(){if(2!==e.length)throw new gD("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));var r=e[1];e=e[0];var a,i=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=oz({ones:function(){return xM(e)},rate:n.dropout,training:i,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=oz({ones:function(){return xM(r)},rate:n.recurrentDropout,training:i,dropoutFunc:n.dropoutFunc}));var o=n.dropoutMask,s=n.recurrentDropoutMask;a=EP(null!=o?CC(e,o):e,n.kernel.read()),null!=n.bias&&(a=AP(a,n.bias.read())),null!=s&&(r=CC(r,s));var l=KE(a,EP(r,n.recurrentKernel.read()));return null!=n.activation&&(l=n.activation.apply(l)),[l,l]}))}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:fj(this.activation),useBias:this.useBias,kernelInitializer:$P(this.kernelInitializer),recurrentInitializer:$P(this.recurrentInitializer),biasInitializer:$P(this.biasInitializer),kernelRegularizer:xj(this.kernelRegularizer),recurrentRegularizer:xj(this.recurrentRegularizer),biasRegularizer:xj(this.biasRegularizer),activityRegularizer:xj(this.activityRegularizer),kernelConstraint:GD(this.kernelConstraint),recurrentConstraint:GD(this.recurrentConstraint),biasConstraint:GD(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,t)}}]),n}($j);Qj.className="SimpleRNNCell",FE(Qj);var ez=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),e.cell=new Qj(e),t.call(this,e)}return N(n,[{key:"call",value:function(e,t){var r=this;return BE((function(){null!=r.cell.dropoutMask&&(UE(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(UE(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return nv(D(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(Jj);ez.className="SimpleRNN",FE(ez);var tz=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new gD("GRUCell does not support reset_after parameter set to true.");return r.units=e.units,LD(r.units,"units"),r.activation=mj(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=mj(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=QP(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=QP(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=QP(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=kj(e.kernelRegularizer),r.recurrentRegularizer=kj(e.recurrentRegularizer),r.biasRegularizer=kj(e.biasRegularizer),r.kernelConstraint=XD(e.kernelConstraint),r.recurrentConstraint=XD(e.recurrentConstraint),r.biasConstraint=XD(e.biasConstraint),r.dropout=fP([1,pP([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=fP([1,pP([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return N(n,[{key:"build",value:function(e){var t=(e=sL(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return BE((function(){if(2!==e.length)throw new gD("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=null!=t.training&&t.training,a=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=oz({ones:function(){return xM(e)},rate:n.dropout,training:r,count:3,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=oz({ones:function(){return xM(a)},rate:n.recurrentDropout,training:r,count:3,dropoutFunc:n.dropoutFunc}));var i,o,s,l=n.dropoutMask,u=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=CC(e,l[0]));var c=EP(e,n.kernel.read());n.useBias&&(c=AP(c,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=CC(a,u[0]));var d=n.recurrentKernel.read(),h=fA(d,[2*n.units,n.units],d.rank-1),f=(0,Z.Z)(h,2),p=f[0],m=f[1],v=EP(a,p),g=fA(c,3,c.rank-1),y=(0,Z.Z)(g,3),b=y[0],x=y[1],w=y[2],k=fA(v,2,v.rank-1),S=(0,Z.Z)(k,2),T=S[0],E=S[1];i=n.recurrentActivation.apply(KE(b,T)),o=n.recurrentActivation.apply(KE(x,E));var C=EP(CC(o,a),m);s=n.activation.apply(KE(w,C));var _=KE(CC(i,a),CC(KE(1,F_(i)),s));return[_,_]}))}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:fj(this.activation),recurrentActivation:fj(this.recurrentActivation),useBias:this.useBias,kernelInitializer:$P(this.kernelInitializer),recurrentInitializer:$P(this.recurrentInitializer),biasInitializer:$P(this.biasInitializer),kernelRegularizer:xj(this.kernelRegularizer),recurrentRegularizer:xj(this.recurrentRegularizer),biasRegularizer:xj(this.biasRegularizer),activityRegularizer:xj(this.activityRegularizer),kernelConstraint:GD(this.kernelConstraint),recurrentConstraint:GD(this.recurrentConstraint),biasConstraint:GD(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,t)}}]),n}($j);tz.className="GRUCell",FE(tz);var nz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new tz(e),t.call(this,e)}return N(n,[{key:"call",value:function(e,t){var r=this;return BE((function(){null!=r.cell.dropoutMask&&(UE(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(UE(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return nv(D(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(Jj);nz.className="GRU",FE(nz);var rz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,LD(r.units,"units"),r.activation=mj(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=mj(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=QP(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=QP(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=QP(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.unitForgetBias=e.unitForgetBias,r.kernelRegularizer=kj(e.kernelRegularizer),r.recurrentRegularizer=kj(e.recurrentRegularizer),r.biasRegularizer=kj(e.biasRegularizer),r.kernelConstraint=XD(e.kernelConstraint),r.recurrentConstraint=XD(e.recurrentConstraint),r.biasConstraint=XD(e.biasConstraint),r.dropout=fP([1,pP([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=fP([1,pP([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=[r.units,r.units],r.dropoutMask=null,r.recurrentDropoutMask=null,r}return N(n,[{key:"build",value:function(e){var t,n,r=(e=sL(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,i=this.units;n=new(t=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e,t){var n=a.apply([i]),r=(new LP).apply([i]),o=a.apply([2*i]);return kP(kP(n,r),o)}}]),n}(DP),t.className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}},{key:"call",value:function(e,t){var n=this;return BE((function(){var r=null!=t.training&&t.training;if(3!==e.length)throw new gD("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var a=e[1],i=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=oz({ones:function(){return xM(e)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=oz({ones:function(){return xM(a)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var o,s,l,u,c=n.dropoutMask,d=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=CC(e,c[0]));var h=EP(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=CC(a,d[0])),h=KE(h,EP(a,n.recurrentKernel.read())),n.useBias&&(h=AP(h,n.bias.read()));var f=fA(h,4,h.rank-1),p=(0,Z.Z)(f,4),m=p[0],v=p[1],g=p[2],y=p[3];o=n.recurrentActivation.apply(m),s=n.recurrentActivation.apply(v),l=KE(CC(s,i),CC(o,n.activation.apply(g))),u=n.recurrentActivation.apply(y);var b=CC(u,n.activation.apply(l));return[b,b,l]}))}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:fj(this.activation),recurrentActivation:fj(this.recurrentActivation),useBias:this.useBias,kernelInitializer:$P(this.kernelInitializer),recurrentInitializer:$P(this.recurrentInitializer),biasInitializer:$P(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:xj(this.kernelRegularizer),recurrentRegularizer:xj(this.recurrentRegularizer),biasRegularizer:xj(this.biasRegularizer),activityRegularizer:xj(this.activityRegularizer),kernelConstraint:GD(this.kernelConstraint),recurrentConstraint:GD(this.recurrentConstraint),biasConstraint:GD(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,t)}}]),n}($j);rz.className="LSTMCell",FE(rz);var az=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new rz(e),t.call(this,e)}return N(n,[{key:"call",value:function(e,t){var r=this;return BE((function(){null!=r.cell.dropoutMask&&(UE(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(UE(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return nv(D(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(Jj);az.className="LSTM",FE(az);var iz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).cells=e.cells,r}return N(n,[{key:"stateSize",get:function(){var e,t=[],n=X(this.cells.slice().reverse());try{for(n.s();!(e=n.n()).done;){var r=e.value;Array.isArray(r.stateSize)?t.push.apply(t,(0,_.Z)(r.stateSize)):t.push(r.stateSize)}}catch(JNe){n.e(JNe)}finally{n.f()}return t}},{key:"call",value:function(e,t){var n=this;return BE((function(){var r,a=e.slice(1),i=[],o=X(n.cells.slice().reverse());try{for(o.s();!(r=o.n()).done;){var s=r.value;Array.isArray(s.stateSize)?i.push(a.splice(0,s.stateSize.length)):i.push(a.splice(0,1))}}catch(JNe){o.e(JNe)}finally{o.f()}i.reverse();for(var l,u=[],c=0;c<n.cells.length;++c){var d=n.cells[c];a=i[c],l=0===c?[e[0]].concat(a):[l[0]].concat(a),l=d.call(l,t),u.push(l.slice(1))}a=[];var h,f=X(u.slice().reverse());try{for(f.s();!(h=f.n()).done;){var p,m=h.value;(p=a).push.apply(p,(0,_.Z)(m))}}catch(JNe){f.e(JNe)}finally{f.f()}return[l[0]].concat(a)}))}},{key:"build",value:function(e){var t;aL(e)&&(e=e[0]),this.cells.forEach((function(n,r){oP("RNNCell_".concat(r),(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this),t={cells:this.cells.map((function(e){return{className:e.getClassName(),config:e.getConfig()}}))};return Object.assign({},e,t)}},{key:"trainableWeights",get:function(){if(!this.trainable)return[];var e,t=[],n=X(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,_.Z)(r.trainableWeights))}}catch(JNe){n.e(JNe)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=X(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,_.Z)(r.nonTrainableWeights))}}catch(JNe){n.e(JNe)}finally{n.f()}if(!this.trainable){var a,i=[],o=X(this.cells);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push.apply(i,(0,_.Z)(s.trainableWeights))}}catch(JNe){o.e(JNe)}finally{o.f()}return i.concat(t)}return t}},{key:"getWeights",value:function(){var e,t=[],n=X(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,_.Z)(r.weights))}}catch(JNe){n.e(JNe)}finally{n.f()}return dL(t)}},{key:"setWeights",value:function(e){var t,n=[],r=X(this.cells);try{for(r.s();!(t=r.n()).done;)for(var a=t.value,i=a.weights.length,o=e.splice(i),s=0;s<a.weights.length;++s)n.push([a.weights[s],o[s]])}catch(JNe){r.e(JNe)}finally{r.f()}hL(n)}}],[{key:"fromConfig",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],i=X(t.cells);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push(OL(o,r))}}catch(JNe){i.e(JNe)}finally{i.f()}return new e({cells:a})}}]),n}($j);function oz(e){var t=e.ones,n=e.rate,r=e.training,a=void 0!==r&&r,i=e.count,o=void 0===i?1:i,s=e.dropoutFunc,l=function(){return null!=s?s(t(),n):IP(t(),n)},u=function(){return NP(l,t,a)};return!o||o<=1?WE(u().clone()):Array(o).fill(void 0).map(u).map((function(e){return WE(e.clone())}))}iz.className="StackedRNNCells",FE(iz);var sz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},lz=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),e.unroll)throw new yD("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new yD("It is not possible at the moment to stack convolutional cells.");return(r=t.call(this,e)).inputSpec=[new fL({ndim:5})],r}return N(n,[{key:"call",value:function(e,t){var r=this;return BE((function(){if(null!=r.cell.dropoutMask&&(UE(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(UE(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),t&&t.constants)throw new gD("ConvRNN2D cell does not support constants");var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return nv(D(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}},{key:"computeOutputShape",value:function(e){var t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0]].concat((0,_.Z)(t.slice(2)))),this.returnState&&(t=[t].concat((0,_.Z)(Array(2).fill([e[0]].concat((0,_.Z)(t.slice(-3))))))),t}},{key:"getInitialState",value:function(e){var t=this;return BE((function(){var n=t.cell.stateSize,r=e.shape,a=t.computeSingleOutputShape(r),i=sM([a[0]].concat((0,_.Z)(a.slice(2))));return Array.isArray(n)?Array(n.length).fill(i):[i]}))}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];BE((function(){if(!t.stateful)throw new mD("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape,a=t.computeSingleOutputShape(r),i=[a[0]].concat((0,_.Z)(a.slice(2)));if(null==r[0])throw new gD("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.getStates())Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return sM(i)})):t.states_=[sM(i)];else if(null==e)UE(t.states_),null!=t.keptStates&&(UE(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return sM(i)})):t.states_[0]=sM(i);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new gD("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n?t.keptStates.push(t.states_.slice()):UE(t.states_);for(var o=0;o<t.states_.length;++o){var s=e[o],l=i;if(!Py(s.shape,l))throw new gD("State ".concat(o," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(l,", received shape=").concat(s.shape));t.states_[o]=s}}t.states_=t.states_.map((function(e){return WE(e.clone())}))}))}},{key:"computeSingleOutputShape",value:function(e){var t=this.cell,n=t.dataFormat,r=t.filters,a=t.kernelSize,i=t.padding,o=t.strides,s=t.dilationRate,l="channelsFirst"===n,u=e[l?3:2],c=e[l?4:3],d=Ij(u,a[0],i,o[0],s[0]),h=Ij(c,a[1],i,o[1],s[1]);return[].concat((0,_.Z)(e.slice(0,2)),(0,_.Z)(l?[r,d,h]:[d,h,r]))}}]),n}(Jj);lz.className="ConvRNN2D";var uz=function(e){O(n,e);var t=z(n);function n(e){var r;M(this,n);var a=e.filters,i=e.kernelSize,o=e.strides,s=e.padding,l=e.dataFormat,u=e.dilationRate;return(r=t.call(this,Object.assign({},e,{units:a}))).filters=a,LD(r.filters,"filters"),r.kernelSize=Aj(i,2,"kernelSize"),r.kernelSize.forEach((function(e){return LD(e,"kernelSize")})),r.strides=Aj(o||1,2,"strides"),r.strides.forEach((function(e){return LD(e,"strides")})),r.padding=s||"valid",nP(r.padding),r.dataFormat=l||"channelsLast",tP(r.dataFormat),r.dilationRate=Aj(u||1,2,"dilationRate"),r.dilationRate.forEach((function(e){return LD(e,"dilationRate")})),r}return N(n,[{key:"build",value:function(e){var t;e=sL(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new gD("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));var r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);var i=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){var o;if(this.unitForgetBias){var s=this.biasInitializer,l=this.filters;o=new(t=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"apply",value:function(e,t){return wP([s.apply([l]),lM([l]),s.apply([2*l])])}}]),n}(DP),t.className="CustomInit",t)}else o=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,o,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}},{key:"call",value:function(e,t){var n=this;return BE((function(){if(3!==e.length)throw new gD("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=t.training||!1,a=e[0],i=e[1],o=e[2];0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=oz({ones:function(){return xM(a)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var s=n.dropoutMask,l=function(e,t,n){return t&&t[n]?CC(t[n],e):e},u=l(a,s,0),c=l(a,s,1),d=l(a,s,2),h=l(a,s,3);0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=oz({ones:function(){return xM(i)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var f=n.recurrentDropoutMask,p=l(i,f,0),m=l(i,f,1),v=l(i,f,2),g=l(i,f,3),y=fA(n.kernel.read(),4,3),b=(0,Z.Z)(y,4),x=b[0],w=b[1],k=b[2],S=b[3],T=n.useBias?fA(n.bias.read(),4):[null,null,null,null],E=(0,Z.Z)(T,4),C=E[0],_=E[1],M=E[2],A=E[3];u=n.inputConv(u,x,C,n.padding),c=n.inputConv(c,w,_,n.padding),d=n.inputConv(d,k,M,n.padding),h=n.inputConv(h,S,A,n.padding);var I=fA(n.recurrentKernel.read(),4,3),N=(0,Z.Z)(I,4),R=N[0],O=N[1],D=N[2],P=N[3];p=n.recurrentConv(p,R),m=n.recurrentConv(m,O),v=n.recurrentConv(v,D),g=n.recurrentConv(g,P);var L=n.recurrentActivation.apply(KE(u,p)),F=n.recurrentActivation.apply(KE(c,m)),j=KE(CC(F,o),CC(L,n.activation.apply(KE(d,v)))),z=CC(n.recurrentActivation.apply(KE(h,g)),n.activation.apply(j));return[z,z,j]}))}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this),t=(e.units,sz(e,["units"])),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},t,r)}},{key:"inputConv",value:function(e,t,n,r){var a=HC(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?AP(a,n,this.dataFormat):a}},{key:"recurrentConv",value:function(e,t){return HC(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}]),n}(rz);uz.className="ConvLSTM2DCell",FE(uz);var cz=function(e){O(n,e);var t=z(n);function n(e){M(this,n);var r=new uz(e);return t.call(this,Object.assign({},e,{cell:r}))}return N(n,null,[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(lz);cz.className="ConvLSTM2D",FE(cz);var dz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).rate=Math.max(Math.min(e.rate,1),0),r.noiseShape=e.noiseShape,r.seed=e.seed,r.supportsMasking=!0,r}return N(n,[{key:"getNoiseShape",value:function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}},{key:"call",value:function(e,t){var n=this;return BE((function(){n.invokeCallHook(e,t);var r=oL(e);if(0<n.rate&&n.rate<1){var a=null!=t.training&&t.training,i=n.getNoiseShape(r);return NP((function(){return IP(r,n.rate,i,n.seed)}),(function(){return r}),a)}return e}))}},{key:"getConfig",value:function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"dispose",value:function(){return nv(D(n.prototype),"dispose",this).call(this)}}]),n}(yL);dz.className="Dropout",FE(dz);var hz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).inputSpec=[{ndim:3}],r}return N(n,[{key:"getNoiseShape",value:function(e){var t=e.shape;return[t[0],1,t[2]]}}]),n}(dz);hz.className="SpatialDropout1D",FE(hz);var fz=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),(r=t.call(this,e)).activation=null,r.useBias=!0,r.kernel=null,r.bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var a=null;null!=e.batchSize&&(a=e.batchSize),r.batchInputShape=[a,e.inputDim]}return r.units=e.units,LD(r.units,"units"),r.activation=mj(e.activation),null!=e.useBias&&(r.useBias=e.useBias),r.kernelInitializer=QP(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.biasInitializer=QP(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelConstraint=XD(e.kernelConstraint),r.biasConstraint=XD(e.biasConstraint),r.kernelRegularizer=kj(e.kernelRegularizer),r.biasRegularizer=kj(e.biasRegularizer),r.activityRegularizer=kj(e.activityRegularizer),r.supportsMasking=!0,r.inputSpec=[{minNDim:2}],r}return N(n,[{key:"build",value:function(e){var t=(e=sL(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(0,kt.Z)({},-1,t)}],this.built=!0}},{key:"computeOutputShape",value:function(e){var t=(e=sL(e)).slice();return t[t.length-1]=this.units,t}},{key:"call",value:function(e,t){var n=this;return BE((function(){n.invokeCallHook(e,t);var r,a=oL(e),i=jD(n.activation.getClassName());return null!=i?r=EP(a,n.kernel.read(),i,n.bias?n.bias.read():null):(r=EP(a,n.kernel.read()),null!=n.bias&&(r=AP(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))}},{key:"getConfig",value:function(){var e={units:this.units,activation:fj(this.activation),useBias:this.useBias,kernelInitializer:$P(this.kernelInitializer),biasInitializer:$P(this.biasInitializer),kernelRegularizer:xj(this.kernelRegularizer),biasRegularizer:xj(this.biasRegularizer),activityRegularizer:xj(this.activityRegularizer),kernelConstraint:GD(this.kernelConstraint),biasConstraint:GD(this.biasConstraint)},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);fz.className="Dense",FE(fz);var pz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),e=e||{},(r=t.call(this,e)).inputSpec=[{minNDim:3}],r.dataFormat=e.dataFormat,r}return N(n,[{key:"computeOutputShape",value:function(e){var t,n=X((e=sL(e)).slice(1));try{for(n.s();!(t=n.n()).done;){if(null==t.value)throw new gD('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.')}}catch(JNe){n.e(JNe)}finally{n.f()}return[e[0],hP(e,1)]}},{key:"call",value:function(e,t){var n=this;return BE((function(){n.invokeCallHook(e,t);var r=oL(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var a=[0],i=2;i<r.rank;++i)a.push(i);a.push(1),r=jA(r,a)}return function(e){if(e.rank<=1)throw new gD("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));var t=[e.shape[0],hP(e.shape,1)];return wC(e,t)}(r)}))}},{key:"getConfig",value:function(){var e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);var t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);pz.className="Flatten",FE(pz);var mz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).supportsMasking=!0,r.activation=mj(e.activation),r}return N(n,[{key:"call",value:function(e,t){var n=this;return BE((function(){n.invokeCallHook(e,t);var r=oL(e);return n.activation.apply(r)}))}},{key:"getConfig",value:function(){var e={activation:fj(this.activation)},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);mz.className="Activation",FE(mz);var vz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).n=e.n,r.inputSpec=[{ndim:2}],r}return N(n,[{key:"computeOutputShape",value:function(e){return[e[0],this.n,e[1]]}},{key:"call",value:function(e,t){var n=this;return BE((function(){return function(e,t){return BE((function(){if(2!==e.shape.length)throw new gD("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(e.shape.length," tensor."));return SP(gP(e,1),[1,t,1])}))}(e=oL(e),n.n)}))}},{key:"getConfig",value:function(){var e={n:this.n},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);vz.className="RepeatVector",FE(vz);var gz=function(e){O(n,e);var t=z(n);function n(e){var r;M(this,n),(r=t.call(this,e)).targetShape=e.targetShape;for(var a=0;a<r.targetShape.length;++a)r.isUnknown(r.targetShape[a])&&(r.targetShape[a]=null);return r}return N(n,[{key:"isUnknown",value:function(e){return e<0||null==e}},{key:"fixUnknownDimension",value:function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),a=1,i=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==i)throw new gD("Can only specifiy one unknown dimension.");i=o}else a*=s}var l=hP(e);if(null!==i){if(0===a||l%a!==0)throw new gD(n);r[i]=l/a}else if(l!==a)throw new gD(n);return r}},{key:"computeOutputShape",value:function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}},{key:"call",value:function(e,t){var n=this;return BE((function(){n.invokeCallHook(e,t);var r=oL(e),a=r.shape,i=a.slice(0,1).concat(n.fixUnknownDimension(a.slice(1),n.targetShape));return wC(r,i)}))}},{key:"getConfig",value:function(){var e={targetShape:this.targetShape},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);gz.className="Reshape",FE(gz);var yz=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),r=t.call(this,e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));var a=mP(1,e.dims.length+1);if(!Py(e.dims.slice().sort(),a))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return r.dims=e.dims,r.dimsIncludingBatch=[0].concat(r.dims),r.inputSpec=[new fL({ndim:r.dims.length+1})],r}return N(n,[{key:"computeOutputShape",value:function(e){var t=(e=sL(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t}},{key:"call",value:function(e,t){return jA(oL(e),this.dimsIncludingBatch)}},{key:"getConfig",value:function(){var e={dims:this.dims},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);yz.className="Permute",FE(yz);var bz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,r.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0,r}return N(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this),t={maskValue:this.maskValue};return Object.assign(t,e),t}},{key:"computeMask",value:function(e,t){var n=oL(e);return QE(yM(n,this.maskValue),-1)}},{key:"call",value:function(e,t){var n=this;return BE((function(){n.invokeCallHook(e,t);var r=oL(e),a=QE(yM(r,n.maskValue),-1,!0);return CC(r,KT(a,r.dtype))}))}}]),n}(yL);bz.className="Masking",FE(bz);var xz=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),(r=t.call(this,e)).embeddings=null,r.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var a=null;null!=e.batchSize&&(a=e.batchSize),null==e.inputLength?r.batchInputShape=[a,null]:r.batchInputShape=[a].concat(TD(e.inputLength))}return r.inputDim=e.inputDim,LD(r.inputDim,"inputDim"),r.outputDim=e.outputDim,LD(r.outputDim,"outputDim"),r.embeddingsInitializer=QP(e.embeddingsInitializer||r.DEFAULT_EMBEDDINGS_INITIALIZER),r.embeddingsRegularizer=kj(e.embeddingsRegularizer),r.activityRegularizer=kj(e.activityRegularizer),r.embeddingsConstraint=XD(e.embeddingsConstraint),r.maskZero=e.maskZero,r.supportsMasking=e.maskZero,r.inputLength=e.inputLength,r}return N(n,[{key:"build",value:function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}},{key:"warnOnIncompatibleInputShape",value:function(e){}},{key:"computeMask",value:function(e,t){var n=this;return BE((function(){return n.maskZero?(e=oL(e),yM(e,c_(e))):null}))}},{key:"computeOutputShape",value:function(e){if(e=sL(e),null==this.inputLength)return[].concat((0,_.Z)(e),[this.outputDim]);var t=TD(this.inputLength);if(t.length!==e.length-1)throw new gD('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));for(var n=0,r=0;r<t.length;++r){var a=t[r],i=e[r+1];if(null!=a&&null!=i&&a!==i)throw new gD('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==a&&(t[n]=i),n++}return[e[0]].concat((0,_.Z)(t),[this.outputDim])}},{key:"call",value:function(e,t){var n=this;return BE((function(){n.invokeCallHook(e,t);var r=oL(e);"int32"!==r.dtype&&(r=vP(r,"int32"));var a=CP(n.embeddings.read(),wC(r,[r.size]));return wC(a,sL(n.computeOutputShape(r.shape)))}))}},{key:"getConfig",value:function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:$P(this.embeddingsInitializer),embeddingsRegularizer:xj(this.embeddingsRegularizer),activityRegularizer:xj(this.activityRegularizer),embeddingsConstraint:GD(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);xz.className="Embedding",FE(xz);var wz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e||{})).supportsMasking=!0,r}return N(n,[{key:"mergeFunction",value:function(e){throw new yD}},{key:"computeElementwiseOpOutputShape",value:function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var a=e[e.length-t.length+r],i=t[r];if(null==a||null==i||a<0||i<0)n.push(null);else if(1===a)n.push(i);else if(1===i)n.push(a);else{if(a!==i)throw new gD("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}},{key:"build",value:function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[sL(e)]),e.length<2)throw new gD("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));var t,n=[],r=X(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;null!=a&&null!==a[0]&&n.push(a[0])}}catch(JNe){r.e(JNe)}finally{r.f()}if((n=RD(n)).length>1)throw new gD("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));for(var i=null==e[0]?null:e[0].slice(1),o=1;o<e.length;++o){var s=null==e[o]?null:e[o].slice(1);i=this.computeElementwiseOpOutputShape(i,s)}var l=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===RD(l).length?this.reshapeRequired=!1:this.reshapeRequired=!0}},{key:"call",value:function(e,t){var n=this;return BE((function(){if(n.reshapeRequired){var t=[],r=e.map((function(e){return e.rank}));if(-1===r.indexOf(null)){var a,i=pP(r),o=X(e);try{for(o.s();!(a=o.n()).done;){for(var s=a.value,l=s.rank,u=0;u<i-l;++u)s=gP(s,1);t.push(s)}}catch(JNe){o.e(JNe)}finally{o.f()}return n.mergeFunction(t)}var c,d=!1,h=X(e);try{for(h.s();!(c=h.n()).done;){var f=c.value,p=f.rank;if(null==p){var m=f.shape,v=m[0],g=m.slice(1).concat([v]),y=wC(f,[v].concat(hP(m.slice(1))));y=jA(y,[1,0]),y=wC(y,g),t.push(y),d=!0}else if(p>1){var b=mP(1,p).concat([0]);t.push(jA(f,b)),d=!0}else t.push(f)}}catch(JNe){h.e(JNe)}finally{h.f()}var x=n.mergeFunction(t),w=x.rank;if(d)if(null==w){var k=x.shape,S=k[k.length-1],T=[S].concat(k.slice(0,k.length-1));x=wC(jA(wC(x,[-1,S]),[1,0]),T)}else if(w>1){var E=[w-1].concat(mP(0,w-1));x=jA(x,E)}return x}return n.mergeFunction(e)}))}},{key:"computeOutputShape",value:function(e){var t;t=null==e[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}var a,i=[],o=X(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;null!=s&&null!==s[0]&&i.push(s[0])}}catch(JNe){o.e(JNe)}finally{o.f()}return t=1===(i=RD(i)).length?i.concat(t):[null].concat(t)}},{key:"computeMask",value:function(e,t){return BE((function(){if(null==t)return null;if(!Array.isArray(t))throw new gD("`mask` should be an Array");if(!Array.isArray(e))throw new gD("`inputs` should be an Array");if(t.length!==e.length)throw new gD("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every((function(e){return null==e})))return null;t=t.map((function(e){return null==e?e:g_(e,0)}));for(var n=t[0],r=1;r<t.length-1;++r)n=$_(n,t[r]);return n}))}}]),n}(yL),kz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"mergeFunction",value:function(e){return BE((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=KE(t,e[n]);return t}))}}]),n}(wz);kz.className="Add",FE(kz);var Sz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"mergeFunction",value:function(e){return BE((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=CC(t,e[n]);return t}))}}]),n}(wz);Sz.className="Multiply",FE(Sz);var Tz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"mergeFunction",value:function(e){return BE((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=KE(t,e[n]);return CC(1/e.length,t)}))}}]),n}(wz);Tz.className="Average",FE(Tz);var Ez=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"mergeFunction",value:function(e){return BE((function(){for(var t=e[0],n=1;n<e.length;++n)t=iM(t,e[n]);return t}))}}]),n}(wz);Ez.className="Maximum",FE(Ez);var Cz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"mergeFunction",value:function(e){return BE((function(){for(var t=e[0],n=1;n<e.length;++n)t=dM(t,e[n]);return t}))}}]),n}(wz);Cz.className="Minimum",FE(Cz);var _z=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).DEFAULT_AXIS=-1,null==e&&(e={}),r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r.supportsMasking=!0,r.reshapeRequired=!1,r}return N(n,[{key:"build",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new gD("A `Concatenate` layer should be called on a list of at least 2 inputs");var t,n=!0,r=X(e);try{for(r.s();!(t=r.n()).done;){if(null!=t.value){n=!1;break}}}catch(JNe){r.e(JNe)}finally{r.f()}if(!n){for(var a=[],i=0;i<e.length;++i){var o=e[i].slice();o.splice(this.axis,1);var s,l=!1,u=X(a);try{for(u.s();!(s=u.n()).done;){if(Py(s.value,o)){l=!0;break}}}catch(JNe){u.e(JNe)}finally{u.f()}l||a.push(o)}if(a.length>1)throw new gD("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}}},{key:"mergeFunction",value:function(e){var t=this;return BE((function(){return wP(e,t.axis)}))}},{key:"computeOutputShape",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new gD("A `Concatenate` layer should be called on a list of inputs.");var t,n=e,r=n[0].slice(),a=this.axis<0?r.length+this.axis:this.axis,i=X(n.slice(1));try{for(i.s();!(t=i.n()).done;){var o=t.value;if(null==r[a]||null==o[a]){r[a]=null;break}r[a]+=o[a]}}catch(JNe){i.e(JNe)}finally{i.f()}return r}},{key:"computeMask",value:function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new gD("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new gD("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new gD("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return BE((function(){var r=!0;if(t.forEach((function(e){null==e||(r=!1)})),r)return null;for(var a=[],i=0;i<e.length;++i)null==t[i]?a.push(KT(xM(e[i]),"bool")):t[i].rank<e[i].rank?a.push(g_(t[i],-1)):a.push(t[i]);var o=TC(a,n.axis);return $E(o,-1,!1)}))}},{key:"getConfig",value:function(){var e={axis:this.axis},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(wz);function Mz(e,t){for(;e<0;)e+=t;return e}_z.className="Concatenate",FE(_z);var Az=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).axes=e.axes,r.normalize=null!=e.normalize&&e.normalize,r.supportsMasking=!0,r.reshapeRequired=!1,r}return N(n,[{key:"build",value:function(e){Iy(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new yD("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new gD("Dimension incompatibility: "+"".concat(t[r[0]]," !== ").concat(n[r[1]]))}},{key:"mergeFunction",value:function(e){if(2!==e.length)throw new gD("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return Mz(t,e[n].shape.length)})):[Mz(this.axes,n.shape.length),Mz(this.axes,r.shape.length)],this.normalize&&(n=DL(n,t[0]),r=DL(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new yD("batchDot is not implemented for tensors of 4D or higher rank yet");if(Iy(e.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length)})),Iy(e.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length)})),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new yD("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);var i=n;return BE((function(){var n,o;if(r>a){n=r-a;for(var s=[],l=0;l<n;++l)s.push(1);t=wC(t,t.shape.concat(s))}else if(a>r){n=a-r;for(var u=[],c=0;c<n;++c)u.push(1);e=wC(e,e.shape.concat(u))}else n=0;if(2===e.shape.length&&2===t.shape.length)o=i[0]===i[1]?W_(CC(e,t),i[0]):W_(CC(jA(e,[1,0]),t),i[1]);else{var d=i[0]!==e.shape.length-1,h=i[1]===t.shape.length-1;o=EC(e,t,d,h)}if(n>0){for(var f,p=[],m=f=r>a?r+a-3:r-1;m<f+n;++m)p.push(m);o=gA(o,p)}return 1===o.shape.length&&(o=g_(o,1)),o}))}(n,r,t)}},{key:"interpretAxes",value:function(e,t){return Array.isArray(this.axes)?this.axes:[Mz(this.axes,e.length),Mz(this.axes,t.length)]}},{key:"computeOutputShape",value:function(e){Iy(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new yD("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var a=t.concat(n);return 1===a.length&&a.push(1),a}},{key:"computeMask",value:function(e,t){return null}},{key:"getConfig",value:function(){var e={axes:this.axes,normalize:this.normalize},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(wz);Az.className="Dot",FE(Az);var Iz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).supportsMasking=!0,r.stddev=e.stddev,r}return N(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this),t={stddev:this.stddev};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return BE((function(){n.invokeCallHook(e,t);var r=oL(e);return NP((function(){return KE(TP(r.shape,0,n.stddev),r)}),(function(){return r}),t.training||!1)}))}}]),n}(yL);Iz.className="GaussianNoise",FE(Iz);var Nz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r}return N(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return BE((function(){n.invokeCallHook(e,t);var r=oL(e);if(n.rate>0&&n.rate<1){return NP((function(){var e=Math.sqrt(n.rate/(1-n.rate));return CC(r,TP(r.shape,1,e))}),(function(){return r}),t.training||!1)}return r}))}}]),n}(yL);Nz.className="GaussianDropout",FE(Nz);var Rz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r.noiseShape=e.noiseShape,r}return N(n,[{key:"_getNoiseShape",value:function(e){return this.noiseShape||oL(e).shape}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=nv(D(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return BE((function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return NP((function(){var t=oL(e),a=-1.7580993408473766,i=E_(zM(r),n.rate);i=vP(i,"float32");var o=Math.pow((1-n.rate)*(1+n.rate*Math.pow(a,2)),-.5),s=-o*a*n.rate,l=KE(CC(t,i),CC(KE(i,-1),a));return KE(CC(l,o),s)}),(function(){return oL(e)}),t.training||!1)}return e}))}}]),n}(yL);function Oz(e,t,n,r,a){var i,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)i=OC(e,t,n,r,a,o);else if(3===e.rank)i=DC(e,t,n,r,a,o);else{if(4!==e.rank)throw new yD("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");i=PC(e,t,n,r,a,o)}return i}function Dz(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Py(r.slice().sort(),mP(0,e.rank-1))?function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return BE((function(){var i=mM(e,r),o=i.mean,s=i.variance;return[Oz(e,o,s,n,t,a),o,s]}))}(e,t,n,r,a):function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return BE((function(){var i,o=mM(e,r),s=o.mean,l=o.variance,u=[],c=X(mP(0,e.rank));try{for(c.s();!(i=c.n()).done;){var d=i.value;-1!==r.indexOf(d)?u.push(1):u.push(e.shape[d])}}catch(JNe){c.e(JNe)}finally{c.f()}var h=wC(s,u),f=wC(l,u),p=null==t?null:wC(t,u),m=null==n?null:wC(n,u);return[Oz(e,h,f,m,p,a),s,l]}))}(e,t,n,r,a)}Rz.className="AlphaDropout",FE(Rz);var Pz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),null==e&&(e={}),(r=t.call(this,e)).supportsMasking=!0,r.axis=null==e.axis?-1:e.axis,r.momentum=null==e.momentum?.99:e.momentum,r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=QP(e.betaInitializer||"zeros"),r.gammaInitializer=QP(e.gammaInitializer||"ones"),r.movingMeanInitializer=QP(e.movingMeanInitializer||"zeros"),r.movingVarianceInitializer=QP(e.movingVarianceInitializer||"ones"),r.betaConstraint=XD(e.betaConstraint),r.gammaConstraint=XD(e.gammaConstraint),r.betaRegularizer=kj(e.betaRegularizer),r.gammaRegularizer=kj(e.gammaRegularizer),r}return N(n,[{key:"build",value:function(e){e=sL(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new gD("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new fL({ndim:e.length,axes:(0,kt.Z)({},t,n)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}},{key:"call",value:function(e,t){var n=this;return BE((function(){var r=null!=t.training&&t.training,a=oL(e),i=a.shape,o=i.length,s=mP(0,o),l=n.axis>=0?n.axis:n.axis+o;s.splice(l,1);var u=xD(1,o);u[l]=i[l];var c=s.slice();c.sort();var d=!Py(c,mP(0,o).slice(0,o-1));if(!r)return function(){if(d){var e=wC(n.movingMean.read(),u),t=wC(n.movingVariance.read(),u),r=n.center?wC(n.beta.read(),u):null,i=n.scale?wC(n.gamma.read(),u):null;return Oz(a,e,t,r,i,n.epsilon)}return Oz(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var h=Dz(a,n.gamma.read(),n.beta.read(),s,n.epsilon),f=(0,Z.Z)(h,3),p=f[0],m=f[1],v=f[2],g=function(e,t,n){BE((function(){var r=1-n,a=e.read(),i=CC(U_(a,t),r);e.write(U_(a,i))}))};return g(n.movingMean,m,n.momentum),g(n.movingVariance,v,n.momentum),p}))}},{key:"getConfig",value:function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:$P(this.betaInitializer),gammaInitializer:$P(this.gammaInitializer),movingMeanInitializer:$P(this.movingMeanInitializer),movingVarianceInitializer:$P(this.movingVarianceInitializer),betaRegularizer:xj(this.betaRegularizer),gammaRegularizer:xj(this.gammaRegularizer),betaConstraint:GD(this.betaConstraint),gammaConstraint:GD(this.gammaConstraint)},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);Pz.className="BatchNormalization",FE(Pz);var Lz=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),null==e&&(e={}),(r=t.call(this,e)).axis=null==e.axis?-1:e.axis,"number"===typeof r.axis){if(!Number.isInteger(r.axis))throw new Error("Expected axis to be an integer, but received ".concat(r.axis))}else{if(!Array.isArray(r.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(r.axis)));var a,i=X(r.axis);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!Number.isInteger(o))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(r.axis)))}}catch(JNe){i.e(JNe)}finally{i.f()}}return r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=QP(e.betaInitializer||"zeros"),r.gammaInitializer=QP(e.gammaInitializer||"ones"),r.betaRegularizer=kj(e.betaRegularizer),r.gammaRegularizer=kj(e.gammaRegularizer),r.supportsMasking=!0,r}return N(n,[{key:"build",value:function(e){var t=(e=sL(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);var r,a=X(this.axis);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i<0||i>=t)throw new Error("Invalid axis: ".concat(i))}}catch(JNe){a.e(JNe)}finally{a.f()}if(this.axis.length!==RD(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));var o=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",o,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",o,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}},{key:"call",value:function(e,t){var n=this,r=oL(e),a=r.shape,i=a.length;return BE((function(){var e,t=mM(r,n.axis,!0),o=t.mean,s=t.variance,l=xD(1,i),u=X(n.axis);try{for(u.s();!(e=u.n()).done;){var c=e.value;l[c]=a[c]}}catch(JNe){u.e(JNe)}finally{u.f()}for(var d=function(e){return null!=e&&e.shape.length!==i?wC(e,l):e},h=d(n.gamma.read()),f=d(n.beta.read()),p=[],m=[],v=0;v<i;++v)-1!==n.axis.indexOf(v)?(p.push(a[v]),m.push(1)):(p.push(1),m.push(a[v]));return o=b_(o,p),s=b_(s,p),h=b_(h,m),f=b_(f,m),Oz(r,o,s,f,h,n.epsilon)}))}},{key:"getConfig",value:function(){var e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:$P(this.betaInitializer),gammaInitializer:$P(this.gammaInitializer),betaRegularizer:xj(this.betaRegularizer),gammaRegularizer:xj(this.gammaRegularizer)},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);Lz.className="LayerNormalization",FE(Lz);var Fz=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),null==e&&(e={}),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)r.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)r.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new gD("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));var a,i;if("number"===typeof e.padding[0])a=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new gD("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(a=e.padding[0],2!==e.padding[1].length)throw new gD("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));i=e.padding[1]}r.padding=[a,i]}return r.inputSpec=[new fL({ndim:4})],r}return N(n,[{key:"computeOutputShape",value:function(e){var t,n;return e=sL(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}},{key:"call",value:function(e,t){var n=this;return BE((function(){return function(e,t,n){return BE((function(){if(4!==e.rank)throw new gD("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(e.rank,"-D tensor."));if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new gD("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new gD("Unknown data format: ".concat(n,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");var r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],kM(e,r)}))}(oL(e),n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={padding:this.padding,dataFormat:this.dataFormat},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL);function jz(e,t,n,r,a,i){return BE((function(){var o;tP(a),rP(i),nP(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=Rj(e,a);var s="same"===r?"same":"valid";return o="max"===i?nM(e,t,n,s):kC(e,t,n,s),"channelsFirst"===a&&(o=jA(o,[0,3,1,2])),o}))}function zz(e,t,n,r,a,i){return BE((function(){var o;tP(a),rP(i),nP(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=Oj(e,a);var s="same"===r?"same":"valid";return o="max"===i?rM(e,t,n,s):SC(e,t,n,s),"channelsFirst"===a&&(o=jA(o,[0,4,1,2,3])),o}))}Fz.className="ZeroPadding2D",FE(Fz);var Bz=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),null==e.poolSize&&(e.poolSize=2),r=t.call(this,e),"number"===typeof e.poolSize)r.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new gD("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));r.poolSize=e.poolSize}if(LD(r.poolSize,"poolSize"),null==e.strides)r.strides=r.poolSize;else if("number"===typeof e.strides)r.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new gD("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));r.strides=e.strides}return LD(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,nP(r.padding),r.inputSpec=[new fL({ndim:3})],r}return N(n,[{key:"computeOutputShape",value:function(e){var t=Ij((e=sL(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}},{key:"call",value:function(e,t){var n=this;return BE((function(){n.invokeCallHook(e,t),e=gP(oL(e),2);var r=n.poolingFunction(oL(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return gA(r,[2])}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL),Uz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return tP(a),nP(r),jz(e,t,n,r,a,"max")}}]),n}(Bz);Uz.className="MaxPooling1D",FE(Uz);var Wz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return tP(a),nP(r),jz(e,t,n,r,a,"avg")}}]),n}(Bz);Wz.className="AveragePooling1D",FE(Wz);var Zz=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),null==e.poolSize&&(e.poolSize=[2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new gD("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides];return LD(r.poolSize,"poolSize"),LD(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,tP(r.dataFormat),nP(r.padding),r.inputSpec=[new fL({ndim:4})],r}return N(n,[{key:"computeOutputShape",value:function(e){e=sL(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=Ij(t,this.poolSize[0],this.padding,this.strides[0]),n=Ij(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}},{key:"call",value:function(e,t){var n=this;return BE((function(){return n.invokeCallHook(e,t),n.poolingFunction(oL(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL),Vz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return tP(a),nP(r),jz(e,t,n,r,a,"max")}}]),n}(Zz);Vz.className="MaxPooling2D",FE(Vz);var Hz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return tP(a),nP(r),jz(e,t,n,r,a,"avg")}}]),n}(Zz);Hz.className="AveragePooling2D",FE(Hz);var Gz=function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),null==e.poolSize&&(e.poolSize=[2,2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new gD("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides,e.strides];return LD(r.poolSize,"poolSize"),LD(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,tP(r.dataFormat),nP(r.padding),r.inputSpec=[new fL({ndim:5})],r}return N(n,[{key:"computeOutputShape",value:function(e){e=sL(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=Ij(t,this.poolSize[0],this.padding,this.strides[0]),n=Ij(n,this.poolSize[1],this.padding,this.strides[1]),r=Ij(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}},{key:"call",value:function(e,t){var n=this;return BE((function(){return n.invokeCallHook(e,t),n.poolingFunction(oL(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL),qz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return tP(a),nP(r),zz(e,t,n,r,a,"max")}}]),n}(Gz);qz.className="MaxPooling3D",FE(qz);var Xz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return tP(a),nP(r),zz(e,t,n,r,a,"avg")}}]),n}(Gz);Xz.className="AveragePooling3D",FE(Xz);var Yz=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).inputSpec=[new fL({ndim:3})],r}return N(n,[{key:"computeOutputShape",value:function(e){return[e[0],e[2]]}},{key:"call",value:function(e,t){throw new yD}}]),n}(yL),Kz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e||{})}return N(n,[{key:"call",value:function(e,t){return BE((function(){var t=oL(e);return oM(t,1)}))}}]),n}(Yz);Kz.className="GlobalAveragePooling1D",FE(Kz);var Jz=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e||{})}return N(n,[{key:"call",value:function(e,t){return BE((function(){var t=oL(e);return B_(t,1)}))}}]),n}(Yz);Jz.className="GlobalMaxPooling1D",FE(Jz);var $z=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,tP(r.dataFormat),r.inputSpec=[new fL({ndim:4})],r}return N(n,[{key:"computeOutputShape",value:function(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}},{key:"call",value:function(e,t){throw new yD}},{key:"getConfig",value:function(){var e={dataFormat:this.dataFormat},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(yL),Qz=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"call",value:function(e,t){var n=this;return BE((function(){var t=oL(e);return"channelsLast"===n.dataFormat?oM(t,[1,2]):oM(t,[2,3])}))}}]),n}($z);Qz.className="GlobalAveragePooling2D",FE(Qz);var eB=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"call",value:function(e,t){var n=this;return BE((function(){var t=oL(e);return"channelsLast"===n.dataFormat?B_(t,[1,2]):B_(t,[2,3])}))}}]),n}($z);eB.className="GlobalMaxPooling2D",FE(eB);var tB=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).layer=e.layer,r}return N(n,[{key:"build",value:function(e){this.built=!0}},{key:"trainable",get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)}},{key:"trainableWeights",get:function(){return this.layer.trainableWeights}},{key:"nonTrainableWeights",get:function(){return this.layer.nonTrainableWeights}},{key:"updates",get:function(){return this.layer._updates}},{key:"losses",get:function(){return this.layer.losses}},{key:"getWeights",value:function(){return this.layer.getWeights()}},{key:"setWeights",value:function(e){this.layer.setWeights(e)}},{key:"getConfig",value:function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"setFastWeightInitDuringBuild",value:function(e){nv(D(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=OL(t.layer,n);delete t.layer;var a={layer:r};return Object.assign(a,t),new e(a)}}]),n}(yL),nB=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).supportsMasking=!0,r}return N(n,[{key:"build",value:function(e){if((e=sL(e)).length<3)throw new gD("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];var t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),nv(D(n.prototype),"build",this).call(this,e)}},{key:"computeOutputShape",value:function(e){var t=[(e=sL(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}},{key:"call",value:function(e,t){var n=this;return BE((function(){return Kj((function(e,r){return[oL(n.layer.call(e,t)),[]]}),e=oL(e),[],!1,null,null,!1,!0)[1]}))}}]),n}(tB);nB.className="TimeDistributed",FE(nB);var rB=function(e){O(n,e);var t=z(n);function n(e){var r;M(this,n),r=t.call(this,e);var a=e.layer.getConfig(),i={};i.className=e.layer.getClassName(),i.config=a,r.forwardLayer=OL(i),a.goBackwards=!0!==a.goBackwards;var o={};if(o.className=e.layer.getClassName(),o.config=a,r.backwardLayer=OL(o),r.forwardLayer.name="forward_"+r.forwardLayer.name,r.backwardLayer.name="backward_"+r.backwardLayer.name,r.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,function(e){DD(QD,"BidirectionalMergeMode",e)}(r.mergeMode),e.weights)throw new yD("weights support is not implemented for Bidirectional layer yet.");return r._stateful=e.layer.stateful,r.returnSequences=e.layer.returnSequences,r.returnState=e.layer.returnState,r.supportsMasking=!0,r._trainable=!0,r.inputSpec=e.layer.inputSpec,r.numConstants=null,r}return N(n,[{key:"trainable",get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}},{key:"getWeights",value:function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}},{key:"setWeights",value:function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),this.returnState?(r=a.slice(1),t=a[0]):t=a[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):SD(n)}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var i=Yj(e,r,a,this.numConstants);if(e=i.inputs,r=i.initialState,a=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return nv(D(n.prototype),"apply",this).call(this,e,t);var o=[],s=[];if(null!=r){var l=r.length;if(l%2>0)throw new gD("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=r,o.push.apply(o,(0,_.Z)(r));var u=r.map((function(e){return new fL({shape:e.shape})}));this.forwardLayer.stateSpec=u.slice(0,l/2),this.backwardLayer.stateSpec=u.slice(l/2),s.push.apply(s,(0,_.Z)(u))}if(null!=a)throw new yD("Support for constants in Bidirectional layers is not implemented yet.");for(var c=o[0]instanceof pL,d=0,h=o;d<h.length;d++){if(h[d]instanceof pL!==c)throw new gD("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(c){var f=[e].concat(o),p=this.inputSpec.concat(s),m=this.inputSpec;this.inputSpec=p;var v=nv(D(n.prototype),"apply",this).call(this,f,t);return this.inputSpec=m,v}return nv(D(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return BE((function(){var r,a,i,o,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),a=n.backwardLayer.call(e,t);else{var l=s.slice(0,s.length/2),u=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:l})),a=n.backwardLayer.call(e,Object.assign(t,{initialState:u}))}return n.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),n.returnSequences&&(a=HM(a,1)),"concat"===n.mergeMode?o=wP([r,a]):"sum"===n.mergeMode?o=KE(r,a):"ave"===n.mergeMode?o=CC(.5,KE(r,a)):"mul"===n.mergeMode?o=CC(r,a):null==n.mergeMode&&(o=[r,a]),n.returnState?null==n.mergeMode?o.concat(i):[o].concat(i):o}))}},{key:"resetStates",value:function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}},{key:"build",value:function(e){var t=this;oP(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),oP(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0}},{key:"computeMask",value:function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(e){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n}},{key:"trainableWeights",get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}},{key:"nonTrainableWeights",get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}},{key:"setFastWeightInitDuringBuild",value:function(e){nv(D(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e={mergeMode:this.mergeMode},t=nv(D(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"fromConfig",value:function(e,t){var n=OL(t.layer);if(delete t.layer,null!=t.numConstants)throw new yD("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)}}]),n}(tB);rB.className="Bidirectional",FE(rB);var aB,iB;hb().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(aB||(aB={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(iB||(iB={}));var oB={};function sB(e){return oB[e]}function lB(e,t,n,r,a){var i=t.inputParams[e];if(i&&void 0!==i.inputIndexStart){var o=i.inputIndexStart,s=0===i.inputIndexEnd?void 0:void 0===i.inputIndexEnd?o+1:i.inputIndexEnd;if("tensor"===i.type)return uB(t.inputNames[i.inputIndexStart],n,r,a);if("tensors"===i.type)return t.inputNames.slice(o,s).map((function(e){return uB(e,n,r,a)}));var l=uB(t.inputNames.slice(o)[0],n,r,a),u=l.dataSync();return"number"===i.type?u[0]:tb(l.shape,u)}var c=t.attrParams[e];return c&&c.value}function uB(e,t,n,r){var a=hB(e),i=(0,Z.Z)(a,2),o=i[0],s=i[1];if(null!=r){var l=r.getHashTableHandleByName(o);if(null!=l)return l}var u=n.currentContextIds.find((function(e){return!!t[dB(o,e)]}));return void 0!==u?t[dB(o,u)][s]:void 0}function cB(e,t){var n=hB(e),r=(0,Z.Z)(n,3),a=r[0],i=r[1],o=r[2];return[dB(a,t&&t.currentContextId),i,o]}function dB(e,t){return t?"".concat(e,"-").concat(t):e}function hB(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function fB(e,t,n){var r=lB("pad",e,t,n);if("explicit"===r){r=lB("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],i=0;i<4;i++)a[i][0]=r[2*i],a[i][1]=r[2*i+1];return a}return r}function pB(e){return e.kept?e:JT(e)}var mB=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],vB=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],gB=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}],yB=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],bB=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],xB=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],wB=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],kB=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],SB=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],TB=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}],EB=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],CB=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],_B=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],MB=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],AB=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],IB=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],NB=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],RB=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],OB=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],DB=function(){function e(){var t;M(this,e);var n=[a,i,o,s,l,u,c,d,h,f,p,m,v,g,y,b,x,w,k],r=(t=[]).concat.apply(t,(0,_.Z)(n.map((function(e){return e.json}))));this.opMappers=r.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return N(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.node,a=[],i=[],o=[],s=r.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?a.push(e[n.name]):"Const"===n.op?i.push(e[n.name]):null!=n.input&&0!==n.input.length||o.push(e[n.name]),e}),{}),l=[],u=[],c={},d={};null!=n&&(c=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));var h=Object.keys(s);h.forEach((function(e){var t=s[e];t.inputNames.forEach((function(e,n){var r=cB(e),a=(0,Z.Z)(r,3),i=a[0],o=a[2],l=s[i];if(null!=l.outputs){var u=l.outputs.indexOf(o);if(-1!==u){var c="".concat(i,":").concat(u);t.inputNames[n]=c}}t.inputs.push(l),l.children.push(t)}))})),0===Object.keys(d).length?h.forEach((function(e){var t=s[e];0===t.children.length&&u.push(t)})):Object.keys(d).forEach((function(e){var t=cB(e),n=(0,Z.Z)(t,1)[0],r=s[n];null!=r&&(r.signatureKey=d[e],u.push(r))})),Object.keys(c).length>0?Object.keys(c).forEach((function(e){var t=cB(e),n=(0,Z.Z)(t,1)[0],r=s[n];r&&(r.signatureKey=c[e],l.push(r))})):l=a;var f={};null!=e.library&&null!=e.library.function&&(f=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var p={nodes:s,inputs:l,outputs:u,weights:i,placeholders:a,signature:n,functions:f};return o.length>0&&(p.initNodes=o),p}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=sB(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.substr(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=LB(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=LB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=GB(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=GB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=jB(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=jB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=HB(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=HB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=FB(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=FB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=XB(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=XB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=VB(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=VB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=qB(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=qB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=UB(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=UB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=WB(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=WB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(a=BB(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=BB(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,r=[],a={};null!=n&&(a=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e}),{}));var i=[],o=[];e.signature.inputArg.forEach((function(e){var t=cB(e.name),n=(0,Z.Z)(t,1)[0],r={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:zB(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,i.push(r),a[n]=r})),Object.keys(a).forEach((function(e){var t=a[e];t.inputNames.forEach((function(e,n){var r=cB(e),i=(0,Z.Z)(r,3),o=i[0],s=i[2],l=a[o];if(null!=l.outputs){var u=l.outputs.indexOf(s);if(-1!==u){var c="".concat(o,":").concat(u);t.inputNames[n]=c}}t.inputs.push(l),l.children.push(t)}))}));var s=e.ret;e.signature.outputArg.forEach((function(e){var t=cB(s[e.name]),n=(0,Z.Z)(t,2),r=n[0],i=n[1],l=a[r];null!=l&&(l.defaultOutput=i,o.push(l))}));var l=this.mapArgsToSignature(e);return{nodes:a,inputs:i,outputs:o,weights:r,placeholders:[],signature:l}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function PB(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var t=hb().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function LB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?PB(a.s,r):n}function FB(e,t,n){var r=e[t];return r?r.b:n}function jB(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function zB(e){switch("string"===typeof e&&(e=aB[e]),e){case aB.DT_FLOAT:case aB.DT_HALF:return"float32";case aB.DT_INT32:case aB.DT_INT64:case aB.DT_INT8:case aB.DT_UINT8:return"int32";case aB.DT_BOOL:return"bool";case aB.DT_DOUBLE:return"float32";case aB.DT_STRING:return"string";default:return null}}function BB(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function UB(e,t,n){var r=e[t];return r&&r.type?zB(r.type):n}function WB(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return zB(e)})):n}function ZB(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function VB(e,t,n){var r=e[t];return r&&r.shape?ZB(r.shape):n}function HB(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function GB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return PB(e,r)})):n}function qB(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return ZB(e)})):n}function XB(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var YB=function(){function e(t,n,r){var a=this;M(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return a.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=a.getAttr(t),e}),{}))}return N(e,[{key:"getInput",value:function(e){return uB(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return uB(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return jB(this.node.rawAttrs,e,t);if(null!=n.s)return LB(this.node.rawAttrs,e,t);if(null!=n.b)return FB(this.node.rawAttrs,e,t);if(null!=n.shape)return VB(this.node.rawAttrs,e,t);if(null!=n.type)return UB(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return HB(this.node.rawAttrs,e,t);if(null!=n.list.s)return GB(this.node.rawAttrs,e,t);if(null!=n.list.shape)return qB(this.node.rawAttrs,e,t);if(null!=n.list.b)return XB(this.node.rawAttrs,e,t);if(null!=n.list.type)return WB(this.node.rawAttrs,e,t)}return t}}]),e}();function KB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){Iy(e.length===t.length,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}));for(var r=0;r<e.length;r++){var a=e[r],i=t[r];Iy(a<0||i<0||a===i,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}}}function JB(e){return"number"!==typeof e&&!e.some((function(e){return e<0}))}function $B(e,t,n){var r=QB(e,n),a=!JB(r);if(a&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(a&&t.forEach((function(e){r=QB(e.shape,r)})),!JB(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function QB(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var n=[],r=0;r<e.length;++r){var a=e[r],i=t[r];if(a>=0&&i>=0&&a!==i)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=a>=0?a:i}return n}var eU=function(){function e(t,n,r,a,i,o,s){M(this,e),this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=i,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=HE(0),WE(this.idTensor)}return N(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),KB(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,WE(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return BS([],[0].concat(this.elementShape));var r=this.readMany(e);return KB(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),yA(r,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return BS([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return KB(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(r[0].shape,")")),TC(r,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var n=Math.max.apply(Math,(0,_.Z)(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,NA(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var r=0,a=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var i=0===r?0:t.size/r,o=[];BE((function(){t=wC(t,[1,r,i]);for(var s=0;s<e.length;++s){var l=[0,0===s?0:a[s-1],0],u=[1,e[s],i];o[s]=wC(MC(t,l,u),n.elementShape)}return o}));for(var s=[],l=0;l<e.length;l++)s[l]=l;this.writeMany(s,o)}}]),e}(),tU=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;M(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=r,null!=t&&t.forEach((function(e){if(r!==e.dtype)throw new Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(e.dtype));KB(n,e.shape,"TensorList shape mismatch: "),WE(e)})),this.idTensor=HE(0),this.maxNumElements=a,WE(this.idTensor)}return N(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,_.Z)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==r&&this.tensors.length!==r)throw new Error("Operation expected a list with ".concat(r," elements but got a list with ").concat(this.tensors.length," elements."));KB(e,this.elementShape,"TensorList shape mismatch: ");var a=$B(this.elementShape,this.tensors,e);return BE((function(){var e=n.tensors.map((function(e){return wC(e,a)}));return yA(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=$B(this.elementShape,this.tensors,e),r=this.tensors.pop();return KB(r.shape,e,"TensorList shape mismatch: "),wC(r,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(KB(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");WE(e),this.tensors.push(e)}},{key:"resize",value:function(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));this.tensors.length=e}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));KB(this.tensors[e].shape,t,"TensorList shape mismatch: ");var r=$B(this.elementShape,this.tensors,t);return wC(this.tensors[e],r)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));KB(this.elementShape,t.shape,"TensorList shape mismatch: "),WE(t),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var r=this;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));KB(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var a=$B(this.elementShape,this.tensors,n);return 0===e.length?BS([],[0].concat(a)):BE((function(){var t=e.map((function(e){return wC(r.tensors[e],a)}));return yA(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));KB(this.elementShape,t,"TensorList shape mismatch: ");var r=$B(this.elementShape,this.tensors,t);return 0===this.size()?BS([],[0].concat(r)):BE((function(){var e=n.tensors.map((function(e){return wC(e,r)}));return TC(e,0)}))}}]),e}();function nU(e,t,n){var r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));KB(e.shape.slice(1),t,"TensorList shape mismatch: ");var a=NA(e);return new tU(a,t,r)}function rU(e,t,n){return new tU([],e,t,n)}function aU(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var a=Math.max.apply(Math,(0,_.Z)(t));if(null!=r&&-1!==r&&a>=r)throw new Error("Max index must be < array size (".concat(a,"  vs. ").concat(r,")"));var i=new tU([],n,e.dtype,r),o=NA(e,0);return t.forEach((function(e,t){i.setItem(e,o[t])})),i}function iU(e,t,n){var r=0,a=t.map((function(e){return r+=e}));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));for(var i=QB(e.shape.slice(1),n),o=0===r?0:e.size/r,s=BE((function(){var n=[];e=wC(e,[1,r,o]);for(var s=0;s<t.length;++s){var l=[0,0===s?0:a[s-1],0],u=[1,t[s],o];n[s]=wC(MC(e,l,u),i)}return e.dispose(),n})),l=new tU([],n,e.dtype,t.length),u=0;u<s.length;u++)l.setItem(u,s[u]);return l}var oU=function(){var e=mo(fo().mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h,f,p,m,v,g,y,b,x,w,k,S,T,E,C,_,M,A,I,N,R,O,D,P,L,F,j,z,B,U,W,Z,V,H,G,q,X,Y,K,J,$,Q,ee,te,ne,re,ae,ie,oe,se,le,ue,ce,de,he,fe,pe,me,ve,ge,ye,be,xe,we,ke,Se,Te,Ee,Ce,_e,Me,Ae,Ie,Ne,Re,Oe,De,Pe,Le,Fe,je,ze,Be,Ue,We,Ze,Ve,He,Ge,qe,Xe,Ye,Ke,Je,$e;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="If"===e.t0||"StatelessIf"===e.t0?3:"While"===e.t0||"StatelessWhile"===e.t0?15:"LoopCond"===e.t0?33:"Switch"===e.t0?35:"Merge"===e.t0?46:"Enter"===e.t0?51:"Exit"===e.t0?55:"NextIteration"===e.t0?58:"TensorArrayV3"===e.t0?61:"TensorArrayWriteV3"===e.t0?71:"TensorArrayReadV3"===e.t0?77:"TensorArrayGatherV3"===e.t0?81:"TensorArrayScatterV3"===e.t0?86:"TensorArrayConcatV3"===e.t0?92:"TensorArraySplitV3"===e.t0?96:"TensorArraySizeV3"===e.t0?102:"TensorArrayCloseV3"===e.t0?105:"TensorListSetItem"===e.t0?109:"TensorListGetItem"===e.t0?115:"TensorListScatterV2"===e.t0||"TensorListScatter"===e.t0?121:"TensorListReserve"===e.t0||"EmptyTensorList"===e.t0?128:"TensorListGather"===e.t0?135:"TensorListStack"===e.t0?141:"TensorListFromTensor"===e.t0?147:"TensorListConcat"===e.t0?153:"TensorListPushBack"===e.t0?158:"TensorListPopBack"===e.t0?163:"TensorListSplit"===e.t0?168:174;break;case 3:return a=lB("thenBranch",t,n,r),i=lB("elseBranch",t,n,r),o=lB("cond",t,n,r),s=lB("args",t,n,r),e.next=9,o.data();case 9:if(!e.sent[0]){e.next=14;break}return e.abrupt("return",r.functionMap[a].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 14:return e.abrupt("return",r.functionMap[i].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 15:return l=lB("body",t,n,r),u=lB("cond",t,n,r),c=lB("args",t,n,r),e.next=20,r.functionMap[u].executeFunctionAsync(c,r.tensorArrayMap,r.tensorListMap);case 20:return d=e.sent,h=c.map((function(e){return e.id})),e.next=24,d[0].data();case 24:f=e.sent,d.forEach((function(e){e.kept||-1!==h.indexOf(e.id)||e.dispose()})),p=c,m=fo().mark((function e(){var t,n,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p,e.next=3,r.functionMap[l].executeFunctionAsync(p,r.tensorArrayMap,r.tensorListMap);case 3:return p=e.sent,n=p.map((function(e){return e.id})),t.forEach((function(e){e.kept||-1!==h.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()})),e.next=8,r.functionMap[u].executeFunctionAsync(p,r.tensorArrayMap,r.tensorListMap);case 8:return a=e.sent,e.next=11,a[0].data();case 11:f=e.sent,a.forEach((function(e){e.kept||-1!==h.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()}));case 13:case"end":return e.stop()}}),e)}));case 28:if(!f[0]){e.next=32;break}return e.delegateYield(m(),"t1",30);case 30:e.next=28;break;case 32:return e.abrupt("return",p);case 33:return v=lB("pred",t,n,r),e.abrupt("return",[pB(v)]);case 35:return g=lB("pred",t,n,r),(y=lB("data",t,n,r)).kept||(y=pB(y)),e.next=40,g.data();case 40:if(!e.sent[0]){e.next=44;break}e.t2=[void 0,y],e.next=45;break;case 44:e.t2=[y,void 0];case 45:return e.abrupt("return",e.t2);case 46:if(b=t.inputNames.find((function(e){return void 0!==uB(e,n,r)})),!b){e.next=50;break}return x=uB(b,n,r),e.abrupt("return",[pB(x)]);case 50:return e.abrupt("return",void 0);case 51:return w=lB("frameName",t,n,r),k=lB("tensor",t,n,r),r.enterFrame(w),e.abrupt("return",[pB(k)]);case 55:return S=lB("tensor",t,n,r),r.exitFrame(),e.abrupt("return",[pB(S)]);case 58:return T=lB("tensor",t,n,r),r.nextIteration(),e.abrupt("return",[pB(T)]);case 61:return E=lB("size",t,n,r),C=lB("dtype",t,n,r),_=lB("elementShape",t,n,r),M=lB("dynamicSize",t,n,r),A=lB("clearAfterRead",t,n,r),I=lB("identicalElementShapes",t,n,r),N=lB("name",t,n,r),R=new eU(N,C,E,_,I,M,A),r.addTensorArray(R),e.abrupt("return",[R.idTensor,HE(1)]);case 71:return O=lB("tensorArrayId",t,n,r),D=lB("index",t,n,r),P=lB("tensor",t,n,r),(L=r.getTensorArray(O.id)).write(D,P),e.abrupt("return",[L.idTensor]);case 77:return F=lB("tensorArrayId",t,n,r),j=lB("index",t,n,r),z=r.getTensorArray(F.id),e.abrupt("return",[z.read(j)]);case 81:return B=lB("tensorArrayId",t,n,r),U=lB("indices",t,n,r),W=lB("dtype",t,n,r),Z=r.getTensorArray(B.id),e.abrupt("return",[Z.gather(U,W)]);case 86:return V=lB("tensorArrayId",t,n,r),H=lB("indices",t,n,r),G=lB("tensor",t,n,r),(q=r.getTensorArray(V.id)).scatter(H,G),e.abrupt("return",[q.idTensor]);case 92:return X=lB("tensorArrayId",t,n,r),Y=r.getTensorArray(X.id),K=lB("dtype",t,n,r),e.abrupt("return",[Y.concat(K)]);case 96:return J=lB("tensorArrayId",t,n,r),$=lB("tensor",t,n,r),Q=lB("lengths",t,n,r),(ee=r.getTensorArray(J.id)).split(Q,$),e.abrupt("return",[ee.idTensor]);case 102:return te=lB("tensorArrayId",t,n,r),ne=r.getTensorArray(te.id),e.abrupt("return",[HE(ne.size(),"int32")]);case 105:return re=lB("tensorArrayId",t,n,r),(ae=r.getTensorArray(re.id)).clearAndClose(),e.abrupt("return",[ae.idTensor]);case 109:return ie=lB("tensorListId",t,n,r),oe=lB("index",t,n,r),se=lB("tensor",t,n,r),(le=r.getTensorList(ie.id)).setItem(oe,se),e.abrupt("return",[le.idTensor]);case 115:return ue=lB("tensorListId",t,n,r),ce=lB("index",t,n,r),de=lB("elementShape",t,n,r),he=lB("elementDType",t,n,r),fe=r.getTensorList(ue.id),e.abrupt("return",[fe.getItem(ce,de,he)]);case 121:return pe=lB("indices",t,n,r),me=lB("tensor",t,n,r),ve=lB("elementShape",t,n,r),ge=lB("numElements",t,n,r),ye=aU(me,pe,ve,ge),r.addTensorList(ye),e.abrupt("return",[ye.idTensor]);case 128:return be=lB("elementShape",t,n,r),xe=lB("elementDType",t,n,r),we="TensorListReserve"===t.op?"numElements":"maxNumElements",ke=lB(we,t,n,r),Se=rU(be,xe,ke),r.addTensorList(Se),e.abrupt("return",[Se.idTensor]);case 135:return Te=lB("tensorListId",t,n,r),Ee=lB("indices",t,n,r),Ce=lB("elementShape",t,n,r),_e=lB("elementDType",t,n,r),Me=r.getTensorList(Te.id),e.abrupt("return",[Me.gather(Ee,_e,Ce)]);case 141:return Ae=lB("tensorListId",t,n,r),Ie=lB("elementShape",t,n,r),Ne=lB("elementDType",t,n,r),Re=lB("numElements",t,n,r),Oe=r.getTensorList(Ae.id),e.abrupt("return",[Oe.stack(Ie,Ne,Re)]);case 147:return De=lB("tensor",t,n,r),Pe=lB("elementShape",t,n,r),Le=lB("elementDType",t,n,r),Fe=nU(De,Pe,Le),r.addTensorList(Fe),e.abrupt("return",[Fe.idTensor]);case 153:return je=lB("tensorListId",t,n,r),ze=r.getTensorList(je.id),Be=lB("dtype",t,n,r),Ue=lB("elementShape",t,n,r),e.abrupt("return",[ze.concat(Be,Ue)]);case 158:return We=lB("tensorListId",t,n,r),Ze=lB("tensor",t,n,r),(Ve=r.getTensorList(We.id)).pushBack(Ze),e.abrupt("return",[Ve.idTensor]);case 163:return He=lB("tensorListId",t,n,r),Ge=lB("elementShape",t,n,r),qe=lB("elementDType",t,n,r),Xe=r.getTensorList(He.id),e.abrupt("return",[Xe.popBack(Ge,qe)]);case 168:return Ye=lB("tensor",t,n,r),Ke=lB("elementShape",t,n,r),Je=lB("lengths",t,n,r),$e=iU(Ye,Je,Ke),r.addTensorList($e),e.abrupt("return",[$e.idTensor]);case 174:throw TypeError("Node type ".concat(t.op," is not implemented"));case 175:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function sU(e,t,n){var r=lB("fusedOps",e,t,n),a=(0,Z.Z)(r,2),i=a[0],o=a[1],s="biasadd"===i,l=!s,u="prelu"===o,c="fusedbatchnorm"===i,d=lB("numArgs",e,t,n);if(s){if(u&&2!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&s&&1!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(c)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var h=lB("strides",e,t,n),f=fB(e,t,n),p=lB("dataFormat",e,t,n).toUpperCase(),m=lB("dilations",e,t,n),v=lB("args",e,t,n),g=(0,Z.Z)(v,2),y=g[0],b=g[1];return l&&(b=y,y=void 0),{stride:h,pad:f,dataFormat:p,dilations:m,biasArg:y,preluArg:b,activationFunc:o,leakyreluAlpha:lB("leakyreluAlpha",e,t,n)}}function lU(e,t,n){return{boxes:lB("boxes",e,t,n),scores:lB("scores",e,t,n),maxOutputSize:lB("maxOutputSize",e,t,n),iouThreshold:lB("iouThreshold",e,t,n),scoreThreshold:lB("scoreThreshold",e,t,n),softNmsSigma:lB("softNmsSigma",e,t,n)}}var uU=function(){var e=mo(fo().mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h,f,p,m,v,g,y,b,x,w,k,S,T,E,C,_;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="NonMaxSuppressionV5"===e.t0?3:"NonMaxSuppressionV4"===e.t0?8:"NonMaxSuppressionV3"===e.t0||"NonMaxSuppressionV2"===e.t0?14:"Where"===e.t0?19:"ListDiff"===e.t0?26:27;break;case 3:return a=lU(t,n,r),i=a.boxes,o=a.scores,s=a.maxOutputSize,l=a.iouThreshold,u=a.scoreThreshold,c=a.softNmsSigma,e.next=6,lN.nonMaxSuppressionWithScoreAsync(i,o,s,l,u,c);case 6:return d=e.sent,e.abrupt("return",[d.selectedIndices,d.selectedScores]);case 8:return h=lU(t,n,r),f=h.boxes,p=h.scores,m=h.maxOutputSize,v=h.iouThreshold,g=h.scoreThreshold,y=lB("padToMaxOutputSize",t,n,r),e.next=12,lN.nonMaxSuppressionPaddedAsync(f,p,m,v,g,y);case 12:return b=e.sent,e.abrupt("return",[b.selectedIndices,b.validOutputs]);case 14:return x=lU(t,n,r),w=x.boxes,k=x.scores,S=x.maxOutputSize,T=x.iouThreshold,E=x.scoreThreshold,e.next=17,lN.nonMaxSuppressionAsync(w,k,S,T,E);case 17:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 19:return C=KT(lB("condition",t,n,r),"bool"),e.next=22,PA(C);case 22:return e.t2=e.sent,_=[e.t2],C.dispose(),e.abrupt("return",_);case 26:return e.abrupt("return",tA(lB("x",t,n,r),lB("y",t,n,r)));case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),cU=function(){function e(t,n){M(this,e),this.keyDType=t,this.valueDType=n,this.handle=HE(0),this.tensorMap=new Map,WE(this.handle)}return N(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return HE(this.size(),"int32")}},{key:"import",value:function(){var e=mo(fo().mark((function e(t,n){var r,a=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),e.abrupt("return",BE((function(){var e=NA(n),t=r.length,i=e.length;Iy(t===i,(function(){return"The number of elements doesn't match, keys has "+"".concat(t," elements, the values has ").concat(i," ")+"elements."}));for(var o=0;o<t;o++){var s=r[o],l=e[o];WE(l),a.tensorMap.set(s,l)}return a.handle})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=mo(fo().mark((function e(t,n){var r,a=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,e.abrupt("return",BE((function(){for(var e=[],t=0;t<r.length;t++){var i=r[t],o=a.findWithDefault(i,n);e.push(o)}return yA(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}]),e}(),dU=function(){var e=mo(fo().mark((function e(t,n,r,a){var i,o,s,l,u,c,d,h,f,p,m,v,g;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="HashTable"===e.t0||"HashTableV2"===e.t0?3:"LookupTableImport"===e.t0||"LookupTableImportV2"===e.t0?8:"LookupTableFind"===e.t0||"LookupTableFindV2"===e.t0?16:"LookupTableSize"===e.t0||"LookupTableSizeV2"===e.t0?24:27;break;case 3:return i=lB("keyDType",t,n,r),o=lB("valueDType",t,n,r),s=new cU(i,o),a.addHashTable(t.name,s),e.abrupt("return",[s.handle]);case 8:return l=lB("tableHandle",t,n,r,a),u=lB("keys",t,n,r),c=lB("values",t,n,r),d=a.getHashTableById(l.id),e.next=14,d.import(u,c);case 14:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 16:return h=lB("tableHandle",t,n,r,a),f=lB("keys",t,n,r),p=lB("defaultValue",t,n,r),m=a.getHashTableById(h.id),e.next=22,m.find(f,p);case 22:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 24:return v=lB("tableHandle",t,n,r,a),g=a.getHashTableById(v.id),e.abrupt("return",[g.tensorSize()]);case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function hU(e,t,n,r){var a=function(e,t,n){switch(e.category){case"arithmetic":return BE((function(){return function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[KE(lB("a",e,t,n),lB("b",e,t,n))];case"AddN":return[JE(lB("tensors",e,t,n))];case"FloorMod":case"Mod":return[fM(lB("a",e,t,n),lB("b",e,t,n))];case"Mul":return[CC(lB("a",e,t,n),lB("b",e,t,n))];case"RealDiv":case"Div":return[s_(lB("a",e,t,n),lB("b",e,t,n))];case"DivNoNan":return[d_(lB("a",e,t,n),lB("b",e,t,n))];case"FloorDiv":return[o_(lB("a",e,t,n),lB("b",e,t,n))];case"Sub":return[U_(lB("a",e,t,n),lB("b",e,t,n))];case"Minimum":return[dM(lB("a",e,t,n),lB("b",e,t,n))];case"Maximum":return[iM(lB("a",e,t,n),lB("b",e,t,n))];case"Pow":return[AM(lB("a",e,t,n),lB("b",e,t,n))];case"SquaredDifference":return[vA(lB("a",e,t,n),lB("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"basic_math":return BE((function(){return function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[qE(lB("x",e,t,n))];case"Acos":return[XE(lB("x",e,t,n))];case"Acosh":return[YE(lB("x",e,t,n))];case"Asin":return[nC(lB("x",e,t,n))];case"Asinh":return[rC(lB("x",e,t,n))];case"Atan":return[aC(lB("x",e,t,n))];case"Atan2":return[iC(lB("x",e,t,n),lB("y",e,t,n))];case"Atanh":return[oC(lB("x",e,t,n))];case"Ceil":return[zC(lB("x",e,t,n))];case"Complex":return[jS(lB("real",e,t,n),lB("imag",e,t,n))];case"Cos":return[$C(lB("x",e,t,n))];case"Cosh":return[QC(lB("x",e,t,n))];case"Elu":return[p_(lB("x",e,t,n))];case"Erf":return[m_(lB("x",e,t,n))];case"Exp":return[v_(lB("x",e,t,n))];case"Expm1":return[y_(lB("x",e,t,n))];case"Floor":return[k_(lB("x",e,t,n))];case"Log":return[P_(lB("x",e,t,n))];case"Log1p":return[L_(lB("x",e,t,n))];case"Imag":return[C_(lB("x",e,t,n))];case"Neg":return[F_(lB("x",e,t,n))];case"Reciprocal":return[WM(lB("x",e,t,n))];case"Real":return[UM(lB("x",e,t,n))];case"Relu":return[ZM(lB("x",e,t,n))];case"Round":return[KM(lB("x",e,t,n))];case"Selu":return[$M(lB("x",e,t,n))];case"Sigmoid":return[_C(lB("x",e,t,n))];case"Sin":return[rA(lB("x",e,t,n))];case"Sign":return[nA(lB("x",e,t,n))];case"Sinh":return[aA(lB("x",e,t,n))];case"Softplus":return[j_(lB("x",e,t,n))];case"Sqrt":return[mA(lB("x",e,t,n))];case"Square":return[pM(lB("x",e,t,n))];case"Tanh":return[AC(lB("x",e,t,n))];case"Tan":return[wA(lB("x",e,t,n))];case"ClipByValue":return[BC(lB("x",e,t,n),lB("clipValueMin",e,t,n),lB("clipValueMax",e,t,n))];case"Relu6":return[VM(lB("x",e,t,n))];case"Rsqrt":return[JM(uB(e.inputNames[0],t,n))];case"Prod":return[NM(lB("x",e,t,n),lB("axes",e,t,n))];case"LeakyRelu":return[I_(lB("x",e,t,n),lB("alpha",e,t,n))];case"Prelu":return[IM(lB("x",e,t,n),lB("alpha",e,t,n))];case"IsNan":return[A_(uB(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"control":return oU(e,t,n);case"convolution":return BE((function(){return function(e,t,n){switch(e.op){case"Conv1D":var r=lB("stride",e,t,n),a=lB("pad",e,t,n),i=lB("dataFormat",e,t,n).toUpperCase(),o=lB("dilation",e,t,n);return[GC(lB("x",e,t,n),lB("filter",e,t,n),r,a,i,o)];case"Conv2D":var s=lB("strides",e,t,n),l=fB(e,t,n),u=lB("dataFormat",e,t,n).toUpperCase(),c=lB("dilations",e,t,n);return[HC(lB("x",e,t,n),lB("filter",e,t,n),[s[1],s[2]],l,u,[c[1],c[2]])];case"_FusedConv2D":var d=sU(e,t,n),h=d.stride,f=d.pad,p=d.dataFormat,m=d.dilations,v=d.biasArg,g=d.preluArg,y=d.activationFunc,b=d.leakyreluAlpha;return[rI({x:lB("x",e,t,n),filter:lB("filter",e,t,n),strides:[h[1],h[2]],pad:f,dataFormat:p,dilations:[m[1],m[2]],bias:v,activation:y,preluActivationWeights:g,leakyreluAlpha:b})];case"FusedDepthwiseConv2dNative":var x=sU(e,t,n),w=x.stride,k=x.pad,S=x.dataFormat,T=x.dilations,E=x.biasArg,C=x.preluArg,_=x.activationFunc,M=x.leakyreluAlpha;return[oI({x:lB("x",e,t,n),filter:lB("filter",e,t,n),strides:[w[1],w[2]],pad:k,dataFormat:S,dilations:[T[1],T[2]],bias:E,activation:_,preluActivationWeights:C,leakyreluAlpha:M})];case"Conv2DBackpropInput":case"Conv2dTranspose":var A=lB("outputShape",e,t,n),I=lB("strides",e,t,n),N=fB(e,t,n);return[XC(lB("x",e,t,n),lB("filter",e,t,n),A,[I[1],I[2]],N)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var R=lB("strides",e,t,n),O=fB(e,t,n),D=lB("dilations",e,t,n),P=lB("dataFormat",e,t,n).toUpperCase();return[r_(lB("input",e,t,n),lB("filter",e,t,n),[R[1],R[2]],O,P,[D[1],D[2]])];case"Conv3D":var L=lB("strides",e,t,n),F=lB("pad",e,t,n),j=lB("dataFormat",e,t,n).toUpperCase(),z=lB("dilations",e,t,n);return[YC(lB("x",e,t,n),lB("filter",e,t,n),[L[1],L[2],L[3]],F,j,[z[1],z[2],z[3]])];case"AvgPool":var B=lB("strides",e,t,n),U=lB("pad",e,t,n),W=lB("kernelSize",e,t,n);return[kC(lB("x",e,t,n),[W[1],W[2]],[B[1],B[2]],U)];case"MaxPool":var Z=lB("strides",e,t,n),V=lB("pad",e,t,n),H=lB("kernelSize",e,t,n);return[nM(lB("x",e,t,n),[H[1],H[2]],[Z[1],Z[2]],V)];case"MaxPoolWithArgmax":var G=lB("strides",e,t,n),q=lB("pad",e,t,n),X=lB("kernelSize",e,t,n),Y=lB("includeBatchInIndex",e,t,n),K=aM(lB("x",e,t,n),[X[1],X[2]],[G[1],G[2]],q,Y);return[K.result,K.indexes];case"AvgPool3D":var J=lB("strides",e,t,n),$=lB("pad",e,t,n),Q=lB("kernelSize",e,t,n);return[SC(lB("x",e,t,n),[Q[1],Q[2],Q[3]],[J[1],J[2],J[3]],$)];case"MaxPool3D":var ee=lB("strides",e,t,n),te=lB("pad",e,t,n),ne=lB("kernelSize",e,t,n);return[rM(lB("x",e,t,n),[ne[1],ne[2],ne[3]],[ee[1],ee[2],ee[3]],te)];case"Dilation2D":var re=lB("strides",e,t,n),ae=lB("pad",e,t,n),ie=lB("dilations",e,t,n),oe=re[1],se=re[2],le=ie[1],ue=ie[2];return[i_(lB("x",e,t,n),lB("filter",e,t,n),[oe,se],ae,[le,ue],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"creation":return BE((function(){return function(e,t,n){switch(e.op){case"Fill":var r=lB("shape",e,t,n),a=lB("dtype",e,t,n);return[w_(r,lB("value",e,t,n),a)];case"LinSpace":return[O_(lB("start",e,t,n),lB("stop",e,t,n),lB("num",e,t,n))];case"Multinomial":var i=lB("logits",e,t,n),o=lB("numSamples",e,t,n),s=lB("seed",e,t,n);return[gM(i,o,s)];case"OneHot":var l=lB("indices",e,t,n),u=lB("depth",e,t,n),c=lB("onValue",e,t,n),d=lB("offValue",e,t,n);return[bM(l,u,c,d)];case"Ones":return[lM(lB("shape",e,t,n),lB("dtype",e,t,n))];case"OnesLike":return[xM(lB("x",e,t,n))];case"RandomUniform":return[zM(lB("shape",e,t,n),lB("minval",e,t,n),lB("maxval",e,t,n),lB("dtype",e,t,n))];case"Range":return[BM(lB("start",e,t,n),lB("stop",e,t,n),lB("step",e,t,n),lB("dtype",e,t,n))];case"TruncatedNormal":var h=lB("shape",e,t,n),f=lB("mean",e,t,n),p=lB("stdDev",e,t,n),m=lB("seed",e,t,n);return[MA(h,f,p,lB("dtype",e,t,n),m)];case"Zeros":return[sM(lB("shape",e,t,n),lB("dtype",e,t,n))];case"ZerosLike":return[c_(lB("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"dynamic":return uU(e,t,n);case"evaluation":return BE((function(){return function(e,t,n){switch(e.op){case"TopKV2":var r=lB("x",e,t,n),a=lB("k",e,t,n),i=lB("sorted",e,t,n),o=_A(r,a,i);return[o.values,o.indices];case"Unique":var s=lB("x",e,t,n),l=AA(s);return[l.values,l.indices];case"UniqueV2":var u=lB("x",e,t,n),c=lB("axis",e,t,n),d=AA(u,c);return[d.values,d.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"image":return BE((function(){return function(e,t,n){switch(e.op){case"ResizeBilinear":var r=lB("images",e,t,n),a=lB("size",e,t,n),i=lB("alignCorners",e,t,n),o=lB("halfPixelCenters",e,t,n);return[lN.resizeBilinear(r,[a[0],a[1]],i,o)];case"ResizeNearestNeighbor":var s=lB("images",e,t,n),l=lB("size",e,t,n),u=lB("alignCorners",e,t,n),c=lB("halfPixelCenters",e,t,n);return[lN.resizeNearestNeighbor(s,[l[0],l[1]],u,c)];case"CropAndResize":var d=lB("image",e,t,n),h=lB("boxes",e,t,n),f=lB("boxInd",e,t,n),p=lB("cropSize",e,t,n),m=lB("method",e,t,n),v=lB("extrapolationValue",e,t,n);return[lN.cropAndResize(d,h,f,p,m,v)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"graph":return BE((function(){return function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=lB("default",e,t,n);return[uB(e.name,t,n)||r];case"Placeholder":return[uB(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[pB(lB("x",e,t,n))];case"IdentityN":return lB("x",e,t,n).map((function(e){return pB(e)}));case"Shape":return[kA(lB("x",e,t,n).shape,"int32")];case"ShapeN":return lB("x",e,t,n).map((function(e){return kA(e.shape)}));case"Size":return[HE(lB("x",e,t,n).size,"int32")];case"Rank":return[HE(lB("x",e,t,n).rank,"int32")];case"NoOp":return[HE(1)];case"Print":var a=lB("x",e,t,n),i=lB("data",e,t,n),o=lB("message",e,t,n),s=lB("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(o);for(var l=0;l<i.length;l++)console.log(Array.prototype.slice.call(i[l].dataSync()).slice(0,s));return[a];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"logical":return BE((function(){return function(e,t,n){switch(e.op){case"Equal":return[l_(lB("a",e,t,n),lB("b",e,t,n))];case"NotEqual":return[yM(lB("a",e,t,n),lB("b",e,t,n))];case"Greater":return[T_(lB("a",e,t,n),lB("b",e,t,n))];case"GreaterEqual":return[E_(lB("a",e,t,n),lB("b",e,t,n))];case"Less":return[N_(lB("a",e,t,n),lB("b",e,t,n))];case"LessEqual":return[R_(lB("a",e,t,n),lB("b",e,t,n))];case"LogicalAnd":return[$_(lB("a",e,t,n),lB("b",e,t,n))];case"LogicalNot":return[Q_(lB("a",e,t,n))];case"LogicalOr":return[eM(lB("a",e,t,n),lB("b",e,t,n))];case"Select":case"SelectV2":return[u_(lB("condition",e,t,n),lB("a",e,t,n),lB("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"matrices":return BE((function(){return function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[EC(lB("a",e,t,n),lB("b",e,t,n),lB("transposeA",e,t,n),lB("transposeB",e,t,n))];case"Einsum":return[f_.apply(S,[lB("equation",e,t,n)].concat((0,_.Z)(lB("tensors",e,t,n))))];case"Transpose":return[jA(lB("x",e,t,n),lB("perm",e,t,n))];case"_FusedMatMul":var r=lB("fusedOps",e,t,n),a=(0,Z.Z)(r,2),i=a[0],o=a[1],s="biasadd"===i,l="prelu"===o,u=lB("numArgs",e,t,n),c=lB("leakyreluAlpha",e,t,n);if(s){if(l&&2!==u)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&1!==u)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var d=lB("args",e,t,n),h=(0,Z.Z)(d,2),f=h[0],p=h[1];return[sI({a:lB("a",e,t,n),b:lB("b",e,t,n),transposeA:lB("transposeA",e,t,n),transposeB:lB("transposeB",e,t,n),bias:f,activation:o,preluActivationWeights:p,leakyreluAlpha:c})];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"normalization":return BE((function(){return function(e,t,n){switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[RC(lB("x",e,t,n),lB("mean",e,t,n),lB("variance",e,t,n),lB("offset",e,t,n),lB("scale",e,t,n),lB("epsilon",e,t,n))];case"LRN":return[D_(lB("x",e,t,n),lB("radius",e,t,n),lB("bias",e,t,n),lB("alpha",e,t,n),lB("beta",e,t,n))];case"Softmax":return[uA(lB("x",e,t,n))];case"LogSoftmax":return[Z_(lB("x",e,t,n))];case"SparseToDense":return[HA(lB("sparseIndices",e,t,n),lB("outputShape",e,t,n),lB("sparseValues",e,t,n),lB("defaultValue",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"reduction":return BE((function(){return function(e,t,n){switch(e.op){case"Max":var r=lB("axis",e,t,n),a=lB("keepDims",e,t,n);return[B_(lB("x",e,t,n),r,a)];case"Mean":var i=lB("axis",e,t,n),o=lB("keepDims",e,t,n);return[oM(lB("x",e,t,n),i,o)];case"Min":var s=lB("axis",e,t,n),l=lB("keepDims",e,t,n);return[cM(lB("x",e,t,n),s,l)];case"Sum":var u=lB("axis",e,t,n),c=lB("keepDims",e,t,n);return[W_(lB("x",e,t,n),u,c)];case"All":var d=lB("axis",e,t,n),h=lB("keepDims",e,t,n);return[$E(lB("x",e,t,n),d,h)];case"Any":var f=lB("axis",e,t,n),p=lB("keepDims",e,t,n);return[QE(lB("x",e,t,n),f,p)];case"ArgMax":var m=lB("axis",e,t,n);return[eC(lB("x",e,t,n),m)];case"ArgMin":var v=lB("axis",e,t,n);return[tC(lB("x",e,t,n),v)];case"Prod":var g=lB("axis",e,t,n),y=lB("keepDims",e,t,n);return[NM(lB("x",e,t,n),g,y)];case"Cumsum":var b=lB("axis",e,t,n),x=lB("exclusive",e,t,n),w=lB("reverse",e,t,n);return[e_(lB("x",e,t,n),b,x,w)];case"Bincount":var k=lB("x",e,t,n),S=lB("weights",e,t,n),T=lB("size",e,t,n);return[LC(k,S,T)];case"DenseBincount":var E=lB("x",e,t,n),C=lB("weights",e,t,n),_=lB("size",e,t,n),M=lB("binaryOutput",e,t,n);return[t_(E,C,_,M)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"slice_join":return BE((function(){return function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var r=lB("n",e,t,n),a=lB("axis",e,t,n),i=lB("tensors",e,t,n);return i=i.slice(0,r),[TC(i,a)];case"Gather":var o=lB("x",e,t,n),s=lB("indices",e,t,n);return[S_(o,KT(s,"int32"),0)];case"GatherV2":var l=lB("axis",e,t,n),u=lB("batchDims",e,t,n),c=lB("x",e,t,n),d=lB("indices",e,t,n);return[S_(c,KT(d,"int32"),l,u)];case"Reverse":for(var h=lB("dims",e,t,n),f=[],p=0;p<h.length;p++)h[p]&&f.push(p);var m=lB("x",e,t,n);return[HM(m,f)];case"ReverseV2":var v=lB("axis",e,t,n),g=lB("x",e,t,n);return[HM(g,v)];case"Slice":var y=lB("begin",e,t,n),b=lB("size",e,t,n);return[MC(lB("x",e,t,n),y,b)];case"StridedSlice":var x=lB("begin",e,t,n),w=lB("end",e,t,n),k=lB("strides",e,t,n),S=lB("beginMask",e,t,n),T=lB("endMask",e,t,n),E=lB("ellipsisMask",e,t,n),C=lB("newAxisMask",e,t,n),_=lB("shrinkAxisMask",e,t,n),M=lB("x",e,t,n);return[xA(M,x,w,k,S,T,E,C,_)];case"Pack":return BE((function(){var r=lB("axis",e,t,n),a=lB("tensors",e,t,n),i=a[0].shape,o=gA(a[0]).shape,s=a.map((function(e){var t=Py(e.shape,i);if(!t&&!Py(gA(e).shape,o))throw new Error("the input tensors shape does not match");return t?e:wC(e,i)}));return[yA(s,r)]}));case"Unpack":var A=lB("axis",e,t,n),I=lB("tensor",e,t,n);return NA(I,A);case"Tile":var N=lB("reps",e,t,n);return[b_(lB("x",e,t,n),N)];case"Split":case"SplitV":var R=lB("axis",e,t,n),O=lB("numOrSizeSplits",e,t,n),D=lB("x",e,t,n);return fA(D,O,R);case"ScatterNd":var P=lB("indices",e,t,n),L=lB("values",e,t,n),F=lB("shape",e,t,n);return[VA(P,L,F)];case"GatherNd":var j=lB("x",e,t,n),z=lB("indices",e,t,n);return[GA(j,z)];case"SparseToDense":var B=lB("sparseIndices",e,t,n),U=lB("outputShape",e,t,n),W=lB("sparseValues",e,t,n),Z=lB("defaultValue",e,t,n);return[HA(B,W,U,W.dtype===Z.dtype?Z:KT(Z,W.dtype))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"sparse":return BE((function(){return function(e,t,n){switch(e.op){case"SparseFillEmptyRows":var r=dN.sparseFillEmptyRows(lB("indices",e,t,n),lB("values",e,t,n),lB("denseShape",e,t,n),lB("defaultValue",e,t,n));return[r.outputIndices,r.outputValues,r.emptyRowIndicator,r.reverseIndexMap];case"SparseReshape":var a=dN.sparseReshape(lB("inputIndices",e,t,n),lB("inputShape",e,t,n),lB("newShape",e,t,n));return[a.outputIndices,a.outputShape];case"SparseSegmentMean":return[dN.sparseSegmentMean(lB("data",e,t,n),lB("indices",e,t,n),lB("segmentIds",e,t,n))];case"SparseSegmentSum":return[dN.sparseSegmentSum(lB("data",e,t,n),lB("indices",e,t,n),lB("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"spectral":return BE((function(){return function(e,t,n){switch(e.op){case"FFT":return[cA(lB("x",e,t,n))];case"IFFT":return[dA(lB("x",e,t,n))];case"RFFT":return[pA(lB("x",e,t,n))];case"IRFFT":return[hA(lB("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"string":return BE((function(){return function(e,t,n){switch(e.op){case"StringNGrams":var r=hN.stringNGrams(lB("data",e,t,n),lB("dataSplits",e,t,n),lB("separator",e,t,n),lB("nGramWidths",e,t,n),lB("leftPad",e,t,n),lB("rightPad",e,t,n),lB("padWidth",e,t,n),lB("preserveShortSequences",e,t,n));return[r.nGrams,r.nGramsSplits];case"StringSplit":var a=hN.stringSplit(lB("input",e,t,n),lB("delimiter",e,t,n),lB("skipEmpty",e,t,n));return[a.indices,a.values,a.shape];case"StringToHashBucketFast":return[hN.stringToHashBucketFast(lB("input",e,t,n),lB("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"transformation":return BE((function(){return function(e,t,n){switch(e.op){case"Cast":return[KT(lB("x",e,t,n),lB("dtype",e,t,n))];case"ExpandDims":var r=lB("axis",e,t,n);return[g_(lB("x",e,t,n),r)];case"Squeeze":var a=lB("axis",e,t,n);return[gA(lB("x",e,t,n),a)];case"Reshape":return[wC(lB("x",e,t,n),lB("shape",e,t,n))];case"MirrorPad":return[hM(lB("x",e,t,n),lB("padding",e,t,n),lB("mode",e,t,n))];case"PadV2":case"Pad":return[kM(lB("x",e,t,n),lB("padding",e,t,n),lB("constantValue",e,t,n))];case"SpaceToBatchND":var i=lB("blockShape",e,t,n),o=lB("paddings",e,t,n);return[_M(lB("x",e,t,n),i,o)];case"BatchToSpaceND":var s=lB("blockShape",e,t,n),l=lB("crops",e,t,n);return[NC(lB("x",e,t,n),s,l)];case"DepthToSpace":var u=lB("blockSize",e,t,n),c=lB("dataFormat",e,t,n).toUpperCase();return[n_(lB("x",e,t,n),u,c)];case"BroadcastTo":return[jC(lB("x",e,t,n),lB("shape",e,t,n))];case"BroadcastArgs":return[FC(lB("s0",e,t,n),lB("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"hash_table":return dU(e,t,n,r);case"custom":var a=sB(e.op);if(a&&a.customExecutor)return a.customExecutor(new YB(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return lb(a)?a.then((function(e){return[].concat(e)})):[].concat(a)}var fU=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};M(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return N(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}]),e}();function pU(e,t,n,r){var a=new Set,i=[],o=null,s=null,l=new Set,u=Object.keys(e).map((function(e){return hB(e)[0]})),c=[];null!=r&&(c=r.map((function(e){return hB(e.name)[0]})));for(var d=(0,_.Z)(t);d.length>0;){var h=d.pop();(yU(h)||bU(h)||xU(h))&&null==o&&(s=(o=h).children.map((function(e){return e.name})).filter((function(e){return a.has(e)}))),a.add(h.name),null==n[h.name]&&(-1===u.indexOf(h.name)&&-1===c.indexOf(h.name)&&(0!==h.inputs.length?h.inputs.forEach((function(e){l.has(e.name)||(l.add(e.name),d.push(e))})):i.push(h.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:i,dynamicNode:o,syncInputs:s}}var mU=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],vU=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],gU=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function yU(e){return mU.indexOf(e.op)>=0}function bU(e){return vU.indexOf(e.op)>=0}function xU(e){return gU.indexOf(e.op)>=0}var wU=function(){function e(t,n){var r=this;M(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return N(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,(0,_.Z)(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}},{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}},{key:"compile",value:function(e,t){var n=pU(e,t,this.weightMap,this._initNodes),r=n.missingInputs,a=n.dynamicNode,i=n.syncInputs;if(null!=a)throw new Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(i,"]"));if(r.length>0){var o=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(o,"] from the provided inputs ")+"[".concat(s,"]. Missing the following inputs: [").concat(r,"]"))}return function(e,t,n){var r=n.usedNodes,a=n.inputs,i=[],o=Object.keys(a).map((function(e){return hB(e)[0]})).map((function(t){return e.nodes[t]})),s=e.initNodes;o.forEach((function(e){r.has(e.name)&&i.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&i.push(e)})),null!=s&&s.forEach((function(e){r.has(e.name)&&i.push(e)}));for(var l=new Set,u=[];i.length>0;){var c=i.pop();l.add(c.name),t[c.name]||u.push(c),c.children.forEach((function(e){!l.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return l.has(e.name)}))&&i.push(e)}))}return u}(this.graph,this.weightMap,n)}},{key:"execute",value:function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var a=r.map((function(e){return n.graph.nodes[hB(e)[0]]})),i=t.map((function(e){return hB(e)[0]})),o=i.map((function(e){return n.graph.nodes[e]}));this.resetIntermediateTensors(),0===o.length&&(o=this._outputs);var s=this.getCompilationKey(a,o),l=this.compiledMap.get(s);null==l&&(l=this.compile(e,o),this.compiledMap.set(s,l));var u={},c={};return BE((function(){var r=new fU(n.weightMap,u,c,n.functionExecutorMap),a=Object.assign({},n.weightMap);Object.keys(e).forEach((function(t){var n=hB(t),r=(0,Z.Z)(n,2),i=r[0],o=[];o[r[1]]=e[t],a[i]=o}));for(var o=n.getFrozenTensorIds(a),s={},d=0;d<l.length;d++){var h=l[d];if(!a[h.name]){var f=hU(h,a,r,n._resourceManager);if(lb(f))throw new Error("The execution of the op '".concat(h.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");a[h.name]=f,n.checkTensorForDisposal(h.name,h,a,r,o,i,s)}}return null==n.parent&&r.dispose(o),t.map((function(e){return uB(e,a,r)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,a,i,o){var s=this;"control"!==t.category&&-1===i.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var i=function(e,t,n){return t[dB(e,n.currentContextId)]}(e.name,n,r);null!=i&&i.forEach((function(e){if(e&&!e.kept&&!a.has(e.id)){var n=o[e.id];if(1===n){if(s.keepTensorForDebug){var i=cB(t.name,r),l=(0,Z.Z)(i,2),u=l[0],c=l[1];s.intermediateTensors[u]||(s.intermediateTensors[u]=[]),s.intermediateTensors[u][c]=e}else e.dispose();delete o[e.id]}else null!=n&&o[e.id]--}}))}})))}},{key:"executeAsync",value:function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._executeAsync(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){var e=this;this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((function(t){return e.intermediateTensors[t].forEach((function(e){return e.dispose()}))})),this.disposeTensorsMap())}},{key:"disposeTensorsMap",value:function(){var e=this;this.tensorsMap&&Object.keys(this.tensorsMap).forEach((function(t){e.tensorsMap[t].forEach((function(t){!t||t.kept||t.isDisposed||e.keepIds.has(t.id)||t.dispose()}))}))}},{key:"getIntermediateTensors",value:function(){return this.tensorsMap}},{key:"resetIntermediateTensors",value:function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach((function(e){return e.dispose()})),delete this.intermediateTensors[e]}},{key:"_executeAsync",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i,o,s,l,u,c=this,d=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=d.length>3&&void 0!==d[3]?d[3]:{},i=d.length>4&&void 0!==d[4]?d[4]:{},(r=d.length>2&&void 0!==d[2]&&d[2])||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=hb().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d4){console.warn(d4.message)}return this.resetIntermediateTensors(),o=new fU(this.weightMap,a,i,this.functionExecutorMap),e.next=9,this.executeWithControlFlow(t,o,n,r);case 9:return this.tensorsMap=e.sent,s=n.map((function(e){return uB(e,c.tensorsMap,o)})),l=s.map((function(e){return e.id})),u=Object.keys(t).map((function(e){return t[e].id})),this.keepIds=new Set([].concat((0,_.Z)(l),(0,_.Z)(u),(0,_.Z)(this.weightIds))),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&o.dispose(this.keepIds),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=mo(fo().mark((function e(t,n,r){var a,i=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reduce((function(e,t,n){return e[i.inputs[n].name]=t,e}),{}),e.abrupt("return",this._executeAsync(a,this.outputNodes,!0,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=mo(fo().mark((function e(t,n,r,a){var i,o,s,l,u,c,d,h,f,p,m,v,g,y,b,x,w,k=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object.keys(t),o=i.map((function(e){return k.graph.nodes[hB(e)[0]]})),s=r.map((function(e){return hB(e)[0]})),0===(l=s.map((function(e){return k.graph.nodes[e]}))).length&&(l=this._outputs),u=pU(t,l,this.weightMap,this._initNodes),c=u.usedNodes,d=u.missingInputs,h=u.dynamicNode,f=u.syncInputs,p=[].concat((0,_.Z)(o),(0,_.Z)(this.graph.weights),(0,_.Z)(this._initNodes||[])).map((function(e){return{node:e,contexts:n.currentContext}})),m=Object.assign({},this.weightMap),Object.keys(t).forEach((function(e){var n=hB(e),r=(0,Z.Z)(n,2),a=r[0],i=[];i[r[1]]=t[e],m[a]=i})),v={},g=this.getFrozenTensorIds(m),y={};case 12:if(!(p.length>0)){e.next=18;break}return b=this.processStack(o,p,n,m,y,g,s,v,c),e.next=16,Promise.all(b);case 16:e.next=12;break;case 18:if(null!=h||a||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),!((x=l.filter((function(e){return!yU(e)&&!uB(e.name,m,n)})).map((function(e){return e.name}))).length>0)){e.next=24;break}throw w="",null!=h&&(w="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(f,"]")),new Error("Cannot compute the outputs [".concat(x,"] from the provided ")+"inputs [".concat(i,"]. Consider providing the following inputs: ")+"[".concat(d,"]. ").concat(w));case 24:return e.abrupt("return",m);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,r,a,i,o,s,l){for(var u=this,c=[],d=function(){var e=t.pop();n.currentContext=e.contexts;var d="";if("Enter"===e.node.op&&lB("isConstant",e.node,r,n)){var h=cB(e.node.name,n),f=(0,Z.Z)(h,1);d=f[0]}if(null==r[e.node.name]){var p=hU(e.node,r,n,u._resourceManager);if(!d){var m=cB(e.node.name,n),v=(0,Z.Z)(m,1);d=v[0]}var g=n.currentContext;lb(p)?c.push(p.then((function(c){return r[d]=c,n.currentContext=g,u.checkTensorForDisposal(d,e.node,r,n,i,o,s),u.processChildNodes(e.node,t,n,r,a,l),c}))):(r[d]=p,u.checkTensorForDisposal(d,e.node,r,n,i,o,s),u.processChildNodes(e.node,t,n,r,a,l))}else u.processChildNodes(e.node,t,n,r,a,l)};t.length>0;)d();return c}},{key:"processChildNodes",value:function(e,t,n,r,a,i){e.children.forEach((function(e){var o=cB(e.name,n),s=(0,Z.Z)(o,1)[0];!a[s]&&i.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!uB(e,r,n)}))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!uB(e,r,n)}))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],a=hB(n),i=(0,Z.Z)(a,1)[0],o=t.graph.nodes[i];if(o.attrParams.shape&&o.attrParams.shape.value){var s=o.attrParams.shape.value,l=s.length===r.shape.length&&r.shape.every((function(e,t){return-1===s[t]||s[t]===e}));Iy(l,(function(){return"The shape of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be [".concat(s,"], but was ")+"[".concat(r.shape,"]")}))}o.attrParams.dtype&&o.attrParams.dtype.value&&Iy(r.dtype===o.attrParams.dtype.value,(function(){return"The dtype of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(o.attrParams.dtype.value,", but was ").concat(r.dtype)}))}))}},{key:"mapInputs",value:function(e){var t={};for(var n in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n])t[this._signature.inputs[n].name]=e[n];else t[n]=e[n]}return t}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=hB(e),r=(0,Z.Z)(n,1)[0];return null==t.graph.nodes[r]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=hB(e),r=(0,Z.Z)(n,1)[0];if(!t.graph.nodes[r])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}]),e}(),kU=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return N(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),SU="?tfjs-format=file",TU="model.json",EU=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,e),this.modelUrl=t,this.loadOptions=n,this.version="n/a",null==n&&(this.loadOptions={}),this.resourceManager=new kU}return N(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=pE(e,this.loadOptions);else{var t=lT(e,this.loadOptions);if(0===t.length)t.push(pE(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.findIOHandler(),null!=this.handler.load){e.next=3;break}throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");case 3:return e.next=5,this.handler.load();case 5:return t=e.sent,e.abrupt("return",this.loadSync(t));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadSync",value:function(e){this.artifacts=e;var t,n=this.artifacts.modelTopology;t=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=t,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer);var r=HS(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new wU(DB.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var a=DB.Instance.transformGraph(e.modelInitializer);this.initializer=new wU(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}},{key:"save",value:function(){var e=mo(fo().mark((function e(t,n){var r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=sT(t)).length){e.next=6;break}throw new Error("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Error("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.abrupt("return",t.save(this.artifacts));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e,t){return this.execute(e,this.outputNodes)}},{key:"normalizeInputs",value:function(e){if(!(e instanceof oS)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+"the graph model has ".concat(this.inputNodes.length," placeholders, ")+"while there are ".concat(e.length," input tensors."));return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"execute",value:function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=mo(fo().mark((function e(t,n){var r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeInputs(t),n=this.normalizeOutputs(n),e.next=4,this.executor.executeAsync(t,n);case 4:return r=e.sent,e.abrupt("return",r.length>1?r:r[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}]),e}();function CU(e){return _U.apply(this,arguments)}function _U(){return _U=mo(fo().mark((function e(t){var n,r,a=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},null!=t){e.next=3;break}throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");case 3:return null==n&&(n={}),n.fromTFHub&&null==t.load&&(t.endsWith("/")||(t+="/"),t="".concat(t).concat(TU).concat(SU)),r=new EU(t,n),e.next=8,r.load();case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),_U.apply(this,arguments)}function MU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(RU(e)){var i=Array.isArray(e)?[]:{};for(var o in r.add(e),e){var s=MU(e[o],t,n,r);i[o]=s}return r.delete(e),e.__proto__&&(i.__proto__=e.__proto__),i}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,a.value),a.value}function AU(e){return IU(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:NU)}function IU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(RU(r)){var i=Array.isArray(r)?[]:{};n.add(r);var o=function(r){var a=e.map((function(e){return e[r]})),o=IU(a,t,n);i[r]=o};for(var s in r)o(s);return n.delete(r),i}throw new Error("Can't recurse into non-iterable type: ".concat(r))}return a.value}function NU(e){return null===e?null:RU(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function RU(e){var t=!1;hb().get("IS_BROWSER")?t=e instanceof TextDecoder:t=e instanceof n(4977).StringDecoder;return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof oS)&&!(e instanceof Promise)&&!t)}function OU(e){return function(e,t){return MU(e,t)}(e,DU)}function DU(e){return e instanceof oS?{value:e.clone(),recurse:!1}:RU(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var PU=function(){function e(t){if(M(this,e),this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return N(e,[{key:"wrap",value:function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}},{key:"get",value:function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}},{key:"set",value:function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}},{key:"length",value:function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}},{key:"isFull",value:function(){return this.length()===this.capacity}},{key:"isEmpty",value:function(){return 0===this.length()}},{key:"push",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}},{key:"pushAll",value:function(e){var t,n=X(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.push(r)}}catch(JNe){n.e(JNe)}finally{n.f()}}},{key:"pop",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e}},{key:"unshift",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}},{key:"shift",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}},{key:"shuffleExcise",value:function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}]),e}(),LU=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.call(this,n.INITIAL_CAPACITY)}return N(n,[{key:"isFull",value:function(){return!1}},{key:"push",value:function(e){nv(D(n.prototype),"isFull",this).call(this)&&this.expand(),nv(D(n.prototype),"push",this).call(this,e)}},{key:"unshift",value:function(e){nv(D(n.prototype),"isFull",this).call(this)&&this.expand(),nv(D(n.prototype),"unshift",this).call(this,e)}},{key:"expand",value:function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}]),n}(PU);function FU(e){return new WU(e)}function jU(e,t){return new QU(e,t)}LU.INITIAL_CAPACITY=32;var zU,BU=function(){function e(){M(this,e)}return N(e,[{key:"toArray",value:function(){var e=mo(fo().mark((function e(){var t,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.next();case 3:n=e.sent;case 4:if(n.done){e.next=11;break}return t.push(n.value),e.next=8,this.next();case 8:n=e.sent,e.next=4;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.prefetch(100),n=[],e.next=4,t.next();case 4:r=e.sent;case 5:if(r.done){e.next=12;break}return n.push(r.value),e.next=9,t.next();case 9:r=e.sent,e.next=5;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveFully",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:t=e.sent;case 3:if(t.done){e.next=9;break}return e.next=6,this.next();case 6:t=e.sent,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveWhile",value:function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:n=e.sent,r=t(n.value);case 4:if(n.done||!r){e.next=11;break}return e.next=7,this.next();case 7:n=e.sent,r=t(n.value),e.next=4;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e){return new YU(this,e)}},{key:"filter",value:function(e){return new qU(this,e)}},{key:"map",value:function(e){return new XU(this,e)}},{key:"mapAsync",value:function(e){return new KU(this,e)}},{key:"serialMapAsync",value:function(e){return new KU(this,e).serial()}},{key:"flatmap",value:function(e){return new $U(this,e)}},{key:"forEachAsync",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map(t).resolveFully());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serialForEach",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serialMapAsync(t).resolveWhile((function(e){return!0===e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rowMajorBatch",value:function(e){return new GU(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"columnMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NU;return this.rowMajorBatch(e,t).map((function(e){return AU(e,n)}))}},{key:"concatenate",value:function(e,t){return new QU(new UU([this,e]),t)}},{key:"take",value:function(e){return e<0||null==e?this:new HU(this,e)}},{key:"skip",value:function(e){return e<0||null==e?this:new VU(this,e)}},{key:"prefetch",value:function(e){return new eW(this,e)}},{key:"shuffle",value:function(e,t){return new tW(this,e,t)}},{key:"serial",value:function(){return new ZU(this)}}]),e}(),UU=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).items=e,r.trav=0,r}return N(n,[{key:"summary",value:function(){return"Array of ".concat(this.items.length," items")}},{key:"next",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.trav>=this.items.length)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=this.items[this.trav],this.trav++,e.abrupt("return",{value:OU(t),done:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(BU),WU=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).nextFn=e,r}return N(n,[{key:"summary",value:function(){return"Function call"}},{key:"next",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.nextFn());case 4:throw e.prev=4,e.t0=e.catch(0),e.t0.message="Error thrown while iterating through a dataset: ".concat(e.t0.message),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()}]),n}(BU),ZU=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).upstream=e,r.lastRead=Promise.resolve({value:null,done:!1}),r}return N(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Serial")}},{key:"next",value:function(){var e=mo(fo().mark((function e(){var t=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.upstream.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(BU),VU=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return N(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Skip")}},{key:"next",value:function(){var e=mo(fo().mark((function e(){var t=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++<this.maxCount)){e.next=9;break}return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done){e.next=6;break}return e.abrupt("return",t);case 6:UE(t.value),e.next=0;break;case 9:return e.abrupt("return",this.upstream.next());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(BU),HU=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a}return N(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Take")}},{key:"next",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++>=this.maxCount)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.abrupt("return",this.upstream.next());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(BU),GU=function(e){O(n,e);var t=z(n);function n(e,r){var a,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return M(this,n),(a=t.call(this)).upstream=e,a.batchSize=r,a.enableSmallLastBatch=i,a.lastRead=Promise.resolve({value:null,done:!1}),a}return N(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}},{key:"next",value:function(){var e=mo(fo().mark((function e(){var t=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=mo(fo().mark((function e(){var t,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[];case 1:if(!(t.length<this.batchSize)){e.next=12;break}return e.next=4,this.upstream.next();case 4:if(!(n=e.sent).done){e.next=9;break}if(!(this.enableSmallLastBatch&&t.length>0)){e.next=8;break}return e.abrupt("return",{value:t,done:!1});case 8:return e.abrupt("return",{value:null,done:!0});case 9:t.push(n.value),e.next=1;break;case 12:return e.abrupt("return",{value:t,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(BU),qU=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this)).upstream=e,a.predicate=r,a.lastRead=Promise.resolve({value:null,done:!1}),a}return N(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Filter")}},{key:"next",value:function(){var e=mo(fo().mark((function e(){var t=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done&&!this.predicate(t.value)){e.next=6;break}return e.abrupt("return",t);case 6:UE(t.value),e.next=0;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(BU),XU=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return N(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Map")}},{key:"next",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a,i,o,s;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:n=bS(t.value),r=this.transform(t.value),a=bS(r),i=X(n);try{for(i.s();!(o=i.n()).done;)yS(s=o.value,a)||s.dispose()}catch(JNe){i.e(JNe)}finally{i.f()}return e.abrupt("return",{value:r,done:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(BU),YU=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this)).upstream=e,a.handler=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return N(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> handleErrors")}},{key:"next",value:function(){var e=mo(fo().mark((function e(){var t=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,this.upstream.next();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),this.handler(e.t0)){e.next=11;break}return e.abrupt("return",{value:null,done:!0});case 11:e.next=0;break;case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()}]),n}(BU),KU=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return N(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> AsyncMap")}},{key:"next",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a,i,o,s;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:return n=bS(t.value),e.next=8,this.transform(t.value);case 8:r=e.sent,a=bS(r),i=X(n);try{for(i.s();!(o=i.n()).done;)yS(s=o.value,a)||s.dispose()}catch(JNe){i.e(JNe)}finally{i.f()}return e.abrupt("return",{value:r,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(BU),JU=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.call(this)).outputQueue=new LU,e.lastRead=Promise.resolve({value:null,done:!1}),e}return N(n,[{key:"next",value:function(){var e=mo(fo().mark((function e(){var t=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.outputQueue.length()){e.next=7;break}return e.next=3,this.pump();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:e.next=0;break;case 7:return e.abrupt("return",{value:this.outputQueue.shift(),done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(BU),$U=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return N(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Flatmap")}},{key:"pump",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a,i,o,s;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",!1);case 5:n=bS(t.value),r=this.transform(t.value),a=bS(r),this.outputQueue.pushAll(r),i=X(n);try{for(i.s();!(o=i.n()).done;)yS(s=o.value,a)||s.dispose()}catch(JNe){i.e(JNe)}finally{i.f()}return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(JU),QU=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this)).baseErrorHandler=r,a.lastRead=null,a.iterator=null,a.moreIterators=e,a}return N(n,[{key:"summary",value:function(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}},{key:"next",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.readFromChain(this.lastRead),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readFromChain",value:function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(null!=this.iterator){e.next=10;break}return e.next=5,this.moreIterators.next();case 5:if(!(n=e.sent).done){e.next=8;break}return e.abrupt("return",{value:null,done:!0});case 8:this.iterator=n.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler));case 10:return e.next=12,this.iterator.next();case 12:if(!(r=e.sent).done){e.next=16;break}return this.iterator=null,e.abrupt("return",this.readFromChain(t));case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(BU);!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(zU||(zU={}));var eW=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this)).upstream=e,a.bufferSize=r,a.buffer=new PU(r),a}return N(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Prefetch")}},{key:"refill",value:function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}}},{key:"next",value:function(){return this.refill(),this.buffer.shift()}}]),n}(BU),tW=function(e){O(n,e);var t=z(n);function n(e,r,a){var i;return M(this,n),(i=t.call(this,e,r)).upstream=e,i.windowSize=r,i.upstreamExhausted=!1,i.random=OM.alea(a||Vk().toString()),i.lastRead=Promise.resolve({value:null,done:!1}),i}return N(n,[{key:"next",value:function(){var e=mo(fo().mark((function e(){var t=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"randomInt",value:function(e){return Math.floor(this.random()*e)}},{key:"chooseIndex",value:function(){return this.randomInt(this.buffer.length())}},{key:"serialNext",value:function(){var e=mo(fo().mark((function e(){var t,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.upstreamExhausted||this.refill();case 1:if(this.buffer.isEmpty()){e.next=14;break}return t=this.chooseIndex(),e.next=5,this.buffer.shuffleExcise(t);case 5:if(!(n=e.sent).done){e.next=10;break}this.upstreamExhausted=!0,e.next=12;break;case 10:return this.refill(),e.abrupt("return",n);case 12:e.next=1;break;case 14:return e.abrupt("return",{value:null,done:!0});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(eW),nW=function(){function e(){M(this,e),this.size=null}return N(e,[{key:"batch",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return Iy(e>0,(function(){return"batchSize needs to be positive, but it is\n      ".concat(e)})),t=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/e):Math.floor(this.size/e),rW(mo(fo().mark((function t(){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.iterator();case 2:return t.abrupt("return",t.sent.columnMajorBatch(e,n,aW));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"concatenate",value:function(e){var t,n=this;return t=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,rW(mo(fo().mark((function t(){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=t.sent,t.next=5,e.iterator();case 5:return t.t1=t.sent,t.abrupt("return",t.t0.concatenate.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))),t)}},{key:"filter",value:function(e){var t,n=this;return t=this.size===1/0?1/0:null,rW(mo(fo().mark((function t(){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.filter((function(t){return BE((function(){return e(t)}))})));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"forEachAsync",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.iterator();case 2:return e.abrupt("return",e.sent.forEachAsync(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){var t=this;return rW(mo(fo().mark((function n(){return fo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.map((function(t){return BE((function(){return e(t)}))})));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"mapAsync",value:function(e){var t=this;return rW(mo(fo().mark((function n(){return fo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.mapAsync(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"prefetch",value:function(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var t=this;return rW(mo(fo().mark((function n(){return fo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.prefetch(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"repeat",value:function(e){var t,n=this;return t=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,rW(mo(fo().mark((function t(){var r;return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=FU(mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 4:case"end":return e.stop()}}),e)})))),t.abrupt("return",jU(r.take(e)));case 2:case"end":return t.stop()}}),t)}))),t)}},{key:"skip",value:function(e){var t,n=this;return t=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,rW(mo(fo().mark((function t(){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.skip(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"shuffle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));var r=this,a=OM.alea(t||Vk().toString());return rW(mo(fo().mark((function t(){var i;return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.int32(),n&&(i+=a.int32()),t.next=4,r.iterator();case 4:return t.abrupt("return",t.sent.shuffle(e,i.toString()));case 5:case"end":return t.stop()}}),t)}))),this.size)}},{key:"take",value:function(e){var t,n=this;return t=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,rW(mo(fo().mark((function t(){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.take(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"toArray",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArray());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArrayForTest());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new(function(n){O(a,n);var r=z(a);function a(){var e;return M(this,a),(e=r.apply(this,arguments)).size=t,e}return N(a,[{key:"iterator",value:function(){var t=mo(fo().mark((function t(){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),a}(nW))}function aW(e){if(null===e)return null;var t,n=e[0];return null==(t=n)||function(e){return null===e||"object"!==typeof e&&"function"!==typeof e}(t)||Array.isArray(t)||"object"===typeof t&&t instanceof oS||Gy(t)?{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof oS?yA(e):BS(e)}(e),recurse:!1}:{value:null,recurse:!0}}nW.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");function iW(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&Iy("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}var oW=OA,sW=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.call(this)).blockSize=48,e.firstUse=!0,e.data=new ky(F(e),jE()),e}return N(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,hb().get("IS_NODE")&&bk("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&Xy(n[0])){var a=n.map((function(e){return Hk(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;return"complex64"===n?ZN(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return Gk(e)}))}catch(Mte){throw new Error("Failed to decode encoded string bytes into utf-8")}return YT(e.shape,e.dtype,n)}},{key:"makeOutput",value:function(e,t,n){var r=this.write(e,t,n);return jE().makeTensorFromDataId(r,t,n,this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e).complexTensorInfos;null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vk(),t(),r=Vk()-n,e.abrupt("return",{kernelMs:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){iW([e],"where");var t=this.readSync(e.dataId);return oW(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return nv(D(n.prototype),"epsilon",this).call(this)}}]),n}(Sy);sW.nextDataId=0;function lW(e,t,n){return function(r){var a=r.inputs,i=r.attrs,o=r.backend,s=a.x;if(iW(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var l=o,u=l.data.get(s.dataId).values,c=Dy(s.shape),d=n||s.dtype,h=Vy(d,c),f=0;f<c;++f)h[f]=t(u[f],i);return l.makeTensorInfo(s.shape,d,h)}}function uW(e,t,n){return function(r){var a=r.inputs,i=r.attrs,o=r.backend,s=a.x;if(iW(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var l=o,u=l.data.get(s.dataId).values,c=n||s.dtype,d=t(u,c,i);return l.makeTensorInfo(s.shape,c,d)}}ZE("cpu",(function(){return new sW}),1);var cW=lW(hx,(function(e){return e>=0?e:Math.exp(e)-1})),dW={kernelName:hx,backendName:"cpu",kernelFunc:cW};function hW(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var fW={kernelName:Ax,backendName:"cpu",kernelFunc:hW};function pW(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.alpha;iW([a],"leakyRelu");for(var o=Dy(a.shape),s=n.data.get(a.dataId).values,l=Zy("float32",o),u=0;u<s.length;u++)l[u]=s[u]<0?i*s[u]:s[u];return n.makeTensorInfo(a.shape,"float32",l)}var mW={kernelName:Px,backendName:"cpu",kernelFunc:pW};function vW(e){return function(t,n,r,a,i){var o=kE(t,n),s=o.length,l=Qy(o),u=Zy(i,Dy(o)),c=t.length,d=n.length,h=Qy(t),f=Qy(n),p=xE(t,o),m=xE(n,o);if(p.length+m.length===0)for(var v=0;v<u.length;++v)u[v]=e(r[v%r.length],a[v%a.length]);else for(var g=function(){var t=sb(y,s,l),n=t.slice(-c);p.forEach((function(e){return n[e]=0}));var i=ob(n,c,h),o=t.slice(-d);m.forEach((function(e){return o[e]=0}));var v=ob(o,d,f);u[y]=e(r[i],a[v])},y=0;y<u.length;++y)g();return[u,o]}}var gW=vW((function(e,t){return e<0?t*e:e}));function yW(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha;iW([r,a],"prelu");var i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=gW(r.shape,a.shape,i,o,"float32"),l=(0,Z.Z)(s,2),u=l[0],c=l[1];return n.makeTensorInfo(c,"float32",u)}var bW={kernelName:vw,backendName:"cpu",kernelFunc:yW},xW=lW(ww,(function(e){return Math.max(0,e)})),wW={kernelName:ww,backendName:"cpu",kernelFunc:xW},kW=lW(_w,(function(e){return Math.min(Math.max(0,e),6)})),SW={kernelName:_w,backendName:"cpu",kernelFunc:kW};function TW(e){return function(t,n,r){for(var a=Zy(n,t.length),i=0;i<t.length;++i)a[i]=e(t[i],r);return a}}var EW=TW((function(e){return 1/(1+Math.exp(-e))})),CW=lW(jw,(function(e){return 1/(1+Math.exp(-e))})),_W={kernelName:jw,backendName:"cpu",kernelFunc:CW};function MW(e,t,n,r,a){if("linear"===n)return hW({inputs:{x:t},backend:e});if("relu"===n)return xW({inputs:{x:t},backend:e});if("elu"===n)return cW({inputs:{x:t},backend:e});if("relu6"===n)return kW({inputs:{x:t},backend:e});if("prelu"===n)return yW({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return pW({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return CW({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function AW(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",o)},s}var IW={kernelName:Wb,backendName:"cpu",kernelFunc:AW};function NW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n)return AW({inputs:{real:NW(e,t,"float32"),imag:NW(e,t,"float32")},backend:e});var r=rb(Dy(t),n);return e.makeTensorInfo(t,n,r)}function RW(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var OW={kernelName:bw,backendName:"cpu",kernelFunc:RW};function DW(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dtype;if("complex64"===i){if("complex64"===a.dtype)return hW({inputs:{x:a},backend:n});var o=NW(n,a.shape,a.dtype),s=DW({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),l=AW({inputs:{real:s,imag:o},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}if("complex64"===a.dtype){var u=RW({inputs:{input:a},backend:n}),c=DW({inputs:{x:u},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(u),c}if(!Hy(a.dtype,i)){var d=hW({inputs:{x:a},backend:n});return{dataId:d.dataId,shape:d.shape,dtype:i}}if("int32"===i){var h=n.data.get(a.dataId).values,f=Int32Array.from(h);return n.makeTensorInfo(a.shape,"int32",f)}if("bool"===i){var p=n.data.get(a.dataId).values,m=Zk([0],a.dtype),v=vW((function(e,t){return e!==t?1:0}))(a.shape,[],p,m,"bool"),g=(0,Z.Z)(v,2),y=g[0],b=g[1];return n.makeTensorInfo(b,"bool",y)}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(i))}var PW={kernelName:zb,backendName:"cpu",kernelFunc:DW};function LW(e,t,n,r){return null==n?function(n){var a=n.inputs,i=n.backend,o=a.a,s=a.b,l=i;iW([o,s],e);var u=l.data.get(o.dataId).values,c=l.data.get(s.dataId).values,d="string"===o.dtype?cR(u):u,h="string"===o.dtype?cR(c):c,f=r||o.dtype,p=t(o.shape,s.shape,d,h,f),m=(0,Z.Z)(p,2),v=m[0],g=m[1];return l.makeTensorInfo(g,f,v)}:function(e){var a=e.inputs,i=e.backend,o=a.a,s=a.b,l=i;if("complex64"===o.dtype||"complex64"===s.dtype){var u=DW({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),c=l.data.get(u.dataId),d=c.complexTensorInfos.real,h=c.complexTensorInfos.imag,f=l.data.get(d.dataId).values,p=l.data.get(h.dataId).values,m=DW({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),v=l.data.get(m.dataId),g=v.complexTensorInfos.real,y=v.complexTensorInfos.imag,b=l.data.get(g.dataId).values,x=l.data.get(y.dataId).values,w=n(o.shape,s.shape,f,p,b,x),k=(0,Z.Z)(w,3),S=k[0],T=k[1],E=k[2],C=l.makeTensorInfo(E,"float32",S),_=l.makeTensorInfo(E,"float32",T),M=AW({inputs:{real:C,imag:_},backend:l});return l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(m),l.disposeIntermediateTensorInfo(C),l.disposeIntermediateTensorInfo(_),M}var A=l.data.get(o.dataId).values,I=l.data.get(s.dataId).values,N=r||o.dtype,R=t(o.shape,s.shape,A,I,N),O=(0,Z.Z)(R,2),D=O[0],P=O[1];return l.makeTensorInfo(P,N,D)}}function FW(e){return function(t,n,r,a,i,o){var s=kE(t,n),l=Dy(s),u=s.length,c=Qy(s),d=Zy("float32",l),h=Zy("float32",l),f=xE(t,s),p=xE(n,s),m=ZN(r,a),v=ZN(i,o),g=t.length,y=Qy(t),b=n.length,x=Qy(n);if(f.length+p.length===0)for(var w=0;w<d.length;w++){var k=w%m.length,S=w%v.length,T=e(m[2*k],m[2*k+1],v[2*S],v[2*S+1]);d[w]=T.real,h[w]=T.imag}else for(var E=function(){var t=sb(C,u,c),n=t.slice(-g);f.forEach((function(e){return n[e]=0}));var r=ob(n,g,y),a=t.slice(-b);p.forEach((function(e){return a[e]=0}));var i=ob(a,b,x),o=e(m[2*r],m[2*r+1],v[2*i],v[2*i+1]);d[C]=o.real,h[C]=o.imag},C=0;C<d.length;C++)E();return[d,h,s]}}var jW=vW((function(e,t){return e+t})),zW=FW((function(e,t,n,r){return{real:e+n,imag:t+r}})),BW=LW(xb,jW,zW),UW={kernelName:xb,backendName:"cpu",kernelFunc:BW};function WW(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.shape,o=Dy(a.shape),s=By(i,o),l=Dy(s);Iy(o===l,(function(){return"The new shape (".concat(s,") has ").concat(l," elements and the old ")+"shape (".concat(a.shape,") has ").concat(o," elements. The new shape and old ")+"shape must have the same number of elements."})),n.incRef(a.dataId);var u=n.data.get(a.dataId);if(null!=u.complexTensorInfos){var c=u.complexTensorInfos.real,d=u.complexTensorInfos.imag;c.shape=s,d.shape=s}return{dataId:a.dataId,shape:s,dtype:a.dtype}}var ZW={kernelName:kw,backendName:"cpu",kernelFunc:WW};function VW(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,o=r.transposeA,s=r.transposeB;iW([a,i],"matMul");var l=a.shape.length,u=i.shape.length,c=o?a.shape[l-2]:a.shape[l-1],d=s?i.shape[u-1]:i.shape[u-2],h=o?a.shape[l-1]:a.shape[l-2],f=s?i.shape[u-2]:i.shape[u-1],p=a.shape.slice(0,-2),m=i.shape.slice(0,-2),v=Dy(p),g=Dy(m),y=kE(a.shape.slice(0,-2),i.shape.slice(0,-2)).concat([h,f]);Iy(c===d,(function(){return"Error in matMul: inner shapes (".concat(c,") and (")+"".concat(d,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(i.shape," and transposeA=").concat(o)+" and transposeB=".concat(s," must match.")}));for(var b=s?[g,f,d]:[g,d,f],x=WW({inputs:{x:a},backend:n,attrs:{shape:o?[v,c,h]:[v,h,c]}}),w=WW({inputs:{x:i},backend:n,attrs:{shape:b}}),k=o?x.shape[1]:x.shape[2],S=o?x.shape[2]:x.shape[1],T=s?w.shape[1]:w.shape[2],E=Math.max(v,g),C=n.data.get(x.dataId).values,_=n.data.get(w.dataId).values,M=Qy(x.shape),A=Qy(w.shape),I=o?[M[0],1,M[1]]:[M[0],M[1],1],N=(0,Z.Z)(I,3),R=N[0],O=N[1],D=N[2],P=s?[1,A[1],A[0]]:[A[1],1,A[0]],L=(0,Z.Z)(P,3),F=L[0],j=L[1],z=L[2],B=S*T,U=YT([E,S,T],x.dtype),W=U.values,V=n.blockSize,H=0;H<E;H++)for(var G=0;G<S;G+=V)for(var q=0;q<T;q+=V)for(var X=0;X<k;X+=V)for(var Y=Math.min(G+V,S),K=Math.min(q+V,T),J=Math.min(X+V,k),$=G;$<Y;$++)for(var Q=q;Q<K;Q++){for(var ee=0,te=X;te<J;te++){var ne=Math.min(H,v-1)*R,re=Math.min(H,g-1)*z;ee+=C[ne+$*O+te*D]*_[te*F+Q*j+re]}W[H*B+($*T+Q)]+=ee}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(y,U.dtype,U.values)}var HW={kernelName:Pb,backendName:"cpu",kernelFunc:VW};var GW={kernelName:vk,backendName:"cpu",kernelFunc:function(e){var t,n,r,a=e.inputs,i=e.backend,o=e.attrs,s=a.a,l=a.b,u=a.bias,c=a.preluActivationWeights,d=o.transposeA,h=o.transposeB,f=o.activation,p=o.leakyreluAlpha,m=[];t=VW({inputs:{a:s,b:l},attrs:{transposeA:d,transposeB:h},backend:i}),u&&(n=BW({inputs:{a:t,b:u},backend:i}),m.push(t),t=n),f&&(r=MW(i,t,f,c,p),m.push(t),t=r);for(var v=0,g=m;v<g.length;v++){var y=g[v];i.disposeIntermediateTensorInfo(y)}return t}};function qW(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var XW={kernelName:gb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;iW(t,"abs");var r=new Float32Array(Dy(t.shape));return r=qW(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},YW=lW(yb,(function(e){return Math.acos(e)})),KW={kernelName:yb,backendName:"cpu",kernelFunc:YW},JW=lW(bb,(function(e){return Math.acosh(e)})),$W={kernelName:bb,backendName:"cpu",kernelFunc:JW};var QW={kernelName:wb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;iW(t,"addN");for(var a=r.map((function(e){return n.data.get(e.dataId).values})),i=YT(r[0].shape,r[0].dtype),o=i.values,s=0;s<r.length;s++)for(var l=a[s],u=0;u<o.length;u++)o[u]+=l[u];return n.makeTensorInfo(i.shape,i.dtype,i.values)}};function eZ(e,t,n,r,a){for(var i=t.length,o=Dy(t),s=Qy(t),l=Qy(a),u=Zy(n,Dy(a)),c=0;c<o;++c){for(var d=sb(c,i,s),h=new Array(d.length),f=0;f<h.length;f++)h[f]=d[r[f]];u[ob(h,i,l)]=e[c]}return u}function tZ(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.perm;iW(a,"transpose");for(var o=a.shape.length,s=new Array(o),l=0;l<s.length;l++)s[l]=a.shape[i[l]];var u=eZ(r.data.get(a.dataId).values,a.shape,a.dtype,i,s);return{dataId:r.write(u,s,a.dtype),shape:s,dtype:a.dtype}}var nZ={kernelName:lk,backendName:"cpu",kernelFunc:tZ};var rZ={kernelName:kb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims;iW(a,"all");var s=Uy(i,a.shape),l=s,u=X_(l,a.shape.length),c=a;null!=u&&(c=tZ({inputs:{x:a},backend:n,attrs:{perm:u}}),l=K_(l.length,a.shape.length)),q_("all",l,c.shape.length);for(var d=H_(c.shape,l),h=(0,Z.Z)(d,2),f=h[0],p=Dy(h[1]),m=rb(Dy(f),c.dtype),v=n.data.get(c.dataId).values,g=0;g<m.length;++g){for(var y=g*p,b=v[y],x=0;x<p;++x){var w=v[y+x];b=b&&w}m[g]=b}null!=u&&n.disposeIntermediateTensorInfo(c);var k=n.makeTensorInfo(f,c.dtype,m);if(o){var S=WW({inputs:{x:k},backend:n,attrs:{shape:G_(f,s)}});return n.disposeIntermediateTensorInfo(k),S}return k}};var aZ={kernelName:Sb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims;iW(a,"any");var s=Uy(i,a.shape),l=s,u=X_(l,a.shape.length),c=a;null!=u&&(c=tZ({inputs:{x:a},backend:n,attrs:{perm:u}}),l=K_(l.length,a.shape.length)),q_("any",l,c.shape.length);for(var d=H_(c.shape,l),h=(0,Z.Z)(d,2),f=h[0],p=Dy(h[1]),m=rb(Dy(f),c.dtype),v=n.data.get(c.dataId).values,g=0;g<m.length;++g){for(var y=g*p,b=v[y],x=0;x<p;++x){var w=v[y+x];b=b||w}m[g]=b}null!=u&&n.disposeIntermediateTensorInfo(c);var k=n.makeTensorInfo(f,c.dtype,m);if(o){var S=WW({inputs:{x:k},backend:n,attrs:{shape:G_(f,s)}});return n.disposeIntermediateTensorInfo(k),S}return k}};var iZ={kernelName:Tb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis;iW(a,"argMax");var o=Uy(i,a.shape),s=X_(o,a.shape.length),l=a,u=[];null!=s&&(l=tZ({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),o=K_(o.length,l.shape.length)),q_("argMax",o=[o[0]],l.shape.length);for(var c=H_(l.shape,o),d=(0,Z.Z)(c,2),h=d[0],f=d[1],p=rb(Dy(h),"int32"),m=Dy(f),v=n.data.get(l.dataId).values,g=0;g<p.length;++g){for(var y=g*m,b=v[y],x=0,w=0;w<m;++w){var k=v[y+w];k>b&&(b=k,x=w)}p[g]=x}return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(h,"int32",p)}};var oZ={kernelName:Eb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis;iW(a,"argMin");var o=Uy(i,a.shape),s=X_(o,a.shape.length),l=a,u=[];null!=s&&(l=tZ({inputs:{x:a},backend:n,attrs:{perm:s}}),u.push(l),o=K_(o.length,l.shape.length)),q_("argMin",o=[o[0]],l.shape.length);for(var c=H_(l.shape,o),d=(0,Z.Z)(c,2),h=d[0],f=d[1],p=rb(Dy(h),"int32"),m=Dy(f),v=n.data.get(l.dataId).values,g=0;g<p.length;++g){for(var y=g*m,b=v[y],x=0,w=0;w<m;++w){var k=v[y+w];k<b&&(b=k,x=w)}p[g]=x}return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(h,"int32",p)}},sZ=lW(Cb,(function(e){return Math.asin(e)})),lZ={kernelName:Cb,backendName:"cpu",kernelFunc:sZ},uZ=lW(_b,(function(e){return Math.asinh(e)})),cZ={kernelName:_b,backendName:"cpu",kernelFunc:uZ},dZ=lW(Mb,(function(e){return Math.atan(e)})),hZ={kernelName:Mb,backendName:"cpu",kernelFunc:dZ},fZ=vW((function(e,t){return Math.atan2(e,t)})),pZ=LW(Ib,fZ),mZ={kernelName:Ib,backendName:"cpu",kernelFunc:pZ},vZ=lW(Ab,(function(e){return Math.atanh(e)})),gZ={kernelName:Ab,backendName:"cpu",kernelFunc:vZ};function yZ(e,t,n,r,a,i){for(var o=a.strideHeight,s=a.strideWidth,l=a.dilationHeight,u=a.dilationWidth,c=a.effectiveFilterHeight,d=a.effectiveFilterWidth,h=a.padInfo.top,f=a.padInfo.left,p="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=YT(a.outShape,n),v=m.values,g=a.outShape[1]*a.outShape[2]*a.outShape[3],y=a.outShape[2]*a.outShape[3],b=a.outShape[3],x=0;x<a.batchSize;++x)for(var w=x*g,k=x*r[0],S=0;S<a.inChannels;++S)for(var T=0;T<a.outHeight;++T)for(var E=T*o-h,C=Math.max(0,E),_=Math.min(a.inHeight,c+E),M=w+T*y,A=0;A<a.outWidth;++A){for(var I=A*s-f,N=Math.max(0,I),R=Math.min(a.inWidth,d+I),O=p,D=0,P=0,L=C;L<_;L+=l){for(var F=k+L*r[1],j=N;j<R;j+=u){var z=e[F+j*r[2]+S];"max"===i&&z>O?O=z:"avg"===i&&(D+=z,P++)}if(isNaN(O))break}v[M+A*b+S]="avg"===i?D/P:O}return m}function bZ(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=YT(r.outShape,"int32"),s=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,f=r.padInfo.top,p=r.padInfo.left,m=YT(t,n,e),v=0;v<r.batchSize;++v)for(var g=0;g<r.inChannels;++g)for(var y=0;y<r.outHeight;++y){for(var b=y*s-f,x=b;x<0;)x+=u;for(var w=Math.min(r.inHeight,d+b),k=0;k<r.outWidth;++k){for(var S=k*l-p,T=S;T<0;)T+=c;for(var E=Math.min(r.inWidth,h+S),C=Number.NEGATIVE_INFINITY,_=-1,M=x;M<w;M+=u)for(var A=M-b,I=T;I<E;I+=c){var N=I-S,R=m.get(v,M,I,g);R>C&&(C=R,_=a?i?((v*r.inHeight+M)*r.inWidth+I)*r.inChannels+g:(M*r.inWidth+I)*r.inChannels+g:A*h+N)}o.set(_,v,y,k,g)}}return o}function xZ(e,t,n,r,a,i){for(var o=a.strideDepth,s=a.strideHeight,l=a.strideWidth,u=a.dilationDepth,c=a.dilationHeight,d=a.dilationWidth,h=a.effectiveFilterDepth,f=a.effectiveFilterHeight,p=a.effectiveFilterWidth,m=a.padInfo.front,v=a.padInfo.top,g=a.padInfo.left,y="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=YT(a.outShape,n),x=b.values,w=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],k=a.outShape[2]*a.outShape[3]*a.outShape[4],S=a.outShape[3]*a.outShape[4],T=a.outShape[4],E=0;E<a.batchSize;++E)for(var C=E*w,_=E*r[0],M=0;M<a.inChannels;++M)for(var A=0;A<a.outDepth;++A){for(var I=A*o-m,N=I;N<0;)N+=u;for(var R=Math.min(a.inDepth,h+I),O=C+A*k,D=0;D<a.outHeight;++D){for(var P=D*s-v,L=P;L<0;)L+=c;for(var F=Math.min(a.inHeight,f+P),j=O+D*S,z=0;z<a.outWidth;++z){for(var B=z*l-g,U=B;U<0;)U+=d;for(var W=Math.min(a.inWidth,p+B),Z=j+z*T,V=y,H=0,G=0,q=N;q<R;q+=u){for(var X=_+q*r[1],Y=L;Y<F;Y+=c){for(var K=X+Y*r[2],J=U;J<W;J+=d){var $=e[K+J*r[3]+M];if("max"===i&&$>V?V=$:"avg"===i&&(H+=$,G++),isNaN(V))break}if(isNaN(V))break}if(isNaN(V))break}x[Z+M]="avg"===i?H/G:V}}}return b}var wZ={kernelName:Nb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;iW(a,"avgPool");var i=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode;Iy(yC(o,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var u,c=lC(a.shape,i,o,1,s,l);if(1===c.filterWidth&&1===c.filterHeight&&Py(c.inShape,c.outShape))u=hW({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,h=Qy(a.shape),f=yZ(d,a.shape,a.dtype,h,c,"avg");u=n.makeTensorInfo(c.outShape,a.dtype,f.values)}return u}};var kZ={kernelName:Ob,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode,u=r.dataFormat;iW(a,"avgPool3d");var c=uC(a.shape,i,o,1,s,l,u),d=xZ(n.data.get(a.dataId).values,a.shape,a.dtype,Qy(a.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};var SZ={kernelName:Db,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=r.filterSize,s=r.strides,l=r.pad,u=r.dimRoundingMode;iW([a,i],"avgPool3DGrad");for(var c=uC(i.shape,o,s,1,l,u),d=c.strideDepth,h=c.strideHeight,f=c.strideWidth,p=c.filterDepth,m=c.filterHeight,v=c.filterWidth,g=c.dilationDepth,y=c.dilationHeight,b=c.dilationWidth,x=c.effectiveFilterDepth,w=c.effectiveFilterHeight,k=c.effectiveFilterWidth,S=x-1-c.padInfo.front,T=k-1-c.padInfo.left,E=w-1-c.padInfo.top,C=YT(i.shape,"float32"),_=1/(p*m*v),M=n.bufferSync(a),A=0;A<c.batchSize;++A)for(var I=0;I<c.inChannels;++I)for(var N=0;N<c.inDepth;++N)for(var R=0;R<c.inHeight;++R)for(var O=0;O<c.inWidth;++O){for(var D=N-S,P=R-E,L=O-T,F=0,j=0;j<x;j+=g){var z=(D+j)/d;if(!(z<0||z>=c.outDepth||Math.floor(z)!==z))for(var B=0;B<w;B+=y){var U=(P+B)/h;if(!(U<0||U>=c.outHeight||Math.floor(U)!==U))for(var W=0;W<k;W+=b){var Z=(L+W)/f;if(!(Z<0||Z>=c.outWidth||Math.floor(Z)!==Z))F+=M.get(A,z,U,Z,I)}}}C.set(F*_,A,N,R,O,I)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};var TZ={kernelName:Rb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=i;iW([a,i],"avgPoolGrad");for(var s=r.filterSize,l=r.strides,u=r.pad,c=lC(o.shape,s,l,1,u),d=c.strideHeight,h=c.strideWidth,f=c.filterHeight,p=c.filterWidth,m=c.dilationHeight,v=c.dilationWidth,g=c.effectiveFilterHeight,y=c.effectiveFilterWidth,b=y-1-c.padInfo.left,x=g-1-c.padInfo.top,w=YT(o.shape,"float32"),k=1/(f*p),S=n.data.get(a.dataId).values,T=YT(a.shape,"float32",S),E=0;E<c.batchSize;++E)for(var C=0;C<c.inChannels;++C)for(var _=0;_<c.inHeight;++_)for(var M=0;M<c.inWidth;++M){for(var A=_-x,I=M-b,N=0,R=0;R<g;R+=m){var O=(A+R)/d;if(!(O<0||O>=c.outHeight||Math.floor(O)!==O))for(var D=0;D<y;D+=v){var P=(I+D)/h;if(!(P<0||P>=c.outWidth||Math.floor(P)!==P))N+=T.get(E,O,P,C)}}w.set(N*k,E,_,M,C)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var EZ={kernelName:Tx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.scale,o=t.offset,s=t.mean,l=t.variance;Iy(s.shape.length===l.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),Iy(null==o||s.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),Iy(null==i||s.shape.length===i.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),iW([a,s,l,i,o],"batchNorm");var u=r.varianceEpsilon;null==u&&(u=.001);for(var c=n.data.get(a.dataId).values,d=n.data.get(s.dataId).values,h=n.data.get(l.dataId).values,f=i?n.data.get(i.dataId).values:new Float32Array([1]),p=o?n.data.get(o.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),v=p.length,g=f.length,y=h.length,b=d.length,x=0,w=0,k=0,S=0,T=0;T<c.length;++T)m[T]=p[x++]+(c[T]-d[w++])*f[k++]/Math.sqrt(h[S++]+u),x>=v&&(x=0),w>=b&&(w=0),k>=g&&(k=0),S>=y&&(S=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};function CZ(e,t,n,r,a){var i=IE(r,t,n),o=Dy(n),s=Qy(r);if(i){var l=NE(t,s);return"string"===a?e.slice(l,l+o):e.subarray(l,l+o)}for(var u=YT(r,a,"string"===a?cR(e):e),c=YT(n,a),d=0;d<c.size;++d){var h=c.indexToLoc(d),f=h.map((function(e,n){return e+t[n]}));c.set.apply(c,[u.get.apply(u,(0,_.Z)(f))].concat((0,_.Z)(h)))}return"string"===a?c.values.map((function(e){return Hk(e)})):c.values}function _Z(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,o=r.size;iW(a,"slice");var s=RE(a,i,o),l=(0,Z.Z)(s,2),u=l[0],c=l[1];ME(a,u,c);var d=CZ(n.data.get(a.dataId).values,u,c,a.shape,a.dtype);return n.makeTensorInfo(c,a.dtype,d)}var MZ={kernelName:Dw,backendName:"cpu",kernelFunc:_Z};var AZ={kernelName:Lb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.crops;iW([a],"batchToSpaceND");var s=i.reduce((function(e,t){return e*t})),l=AN(a.shape,i,s),u=IN(l.length,i.length),c=NN(a.shape,i,s),d=RN(o,i.length),h=ON(c,o,i.length),f=WW({inputs:{x:a},backend:n,attrs:{shape:l}}),p=tZ({inputs:{x:f},backend:n,attrs:{perm:u}}),m=WW({inputs:{x:p},backend:n,attrs:{shape:c}}),v=_Z({inputs:{x:m},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),v}};function IZ(e,t,n,r,a){for(var i=Dy(r),o=rb(a,n),s=0;s<e.length;s++){var l=e[s];if(l<0)throw new Error("Input x must be non-negative!");l>=a||(o[l]+=i>0?t[s]:1)}return o}function NZ(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],i=e.shape[1],o=YT([a,n],t.dtype),s=0;s<a;s++)for(var l=0;l<i;l++){var u=e.get(s,l);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(r?o.set(1,s,u):t.size>0?o.set(o.get(s,u)+t.get(s,l),s,u):o.set(o.get(s,u)+1,s,u))}return o}var RZ={kernelName:Fb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=IZ(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,s)}};var OZ={kernelName:jb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=kE(Array.from(i),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},DZ=TW((function(e){return Math.ceil(e)})),PZ=uW(Bb,DZ),LZ={kernelName:Bb,backendName:"cpu",kernelFunc:PZ},FZ=lW(Ub,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),jZ={kernelName:Ub,backendName:"cpu",kernelFunc:FZ},zZ={kernelName:Zb,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(Dy(t.shape)),a=n.data.get(t.dataId),i=a.complexTensorInfos.real,o=a.complexTensorInfos.imag,s=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values,u=0;u<s.length;u++){var c=s[u],d=l[u];r[u]=Math.hypot(c,d)}return n.makeOutput(r,t.shape,"float32")}};function BZ(e,t,n,r){var a=Vy(n,Dy(t));if(r&&"string"!==n){var i=0;e.forEach((function(e){var t=Dy(e.shape);a.set(e.vals,i),i+=t}))}else{var o=0;e.forEach((function(e){for(var r="string"===n?cR(e.vals):e.vals,i=0,s=0;s<e.shape[0];++s)for(var l=s*t[1]+o,u=0;u<e.shape[1];++u)a[l+u]=r[i++];o+=e.shape[1]}))}return a}function UZ(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var WZ={kernelName:Nx,backendName:"cpu",kernelFunc:UZ};function ZZ(e){var t=e.inputs,n=e.backend,r=Uy(e.attrs.axis,t[0].shape)[0],a=EN(t.map((function(e){return e.shape})),r);if(0===Dy(a))return n.makeTensorInfo(a,t[0].dtype,[]);var i=t.filter((function(e){return Dy(e.shape)>0}));if(1===i.length)return hW({inputs:{x:i[0]},backend:n});var o=i.map((function(e){return e.shape}));if(TN(o,r),"complex64"===i[0].dtype){var s=i.map((function(e){return RW({inputs:{input:e},backend:n})})),l=i.map((function(e){return UZ({inputs:{input:e},backend:n})})),u=ZZ({inputs:s,backend:n,attrs:{axis:r}}),c=ZZ({inputs:l,backend:n,attrs:{axis:r}}),d=AW({inputs:{real:u,imag:c},backend:n});return s.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),d}var h=i.map((function(e){var t=Dy(e.shape.slice(r));return WW({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),f=h.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));a=EN(h.map((function(e){return e.shape})),1);var p=1===h[0].shape[0],m=BZ(f,a,t[0].dtype,p),v=EN(i.map((function(e){return e.shape})),r),g=n.makeTensorInfo(v,t[0].dtype,m);return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}var VZ={kernelName:Vb,backendName:"cpu",kernelFunc:ZZ};function HZ(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,l=r.dataFormat,u=r.dilations,c=r.dimRoundingMode;iW([a,i],"conv2d");for(var d=bC(l),h=cC(a.shape,i.shape,o,u,s,c,!1,d),f=h.filterHeight,p=h.filterWidth,m=h.dilationHeight,v=h.dilationWidth,g=h.padInfo.left,y=h.padInfo.top,b="channelsLast"===h.dataFormat,x=new rS(h.outShape,a.dtype),w=Qy(a.shape),k=Qy(i.shape),S=w[0],T=b?w[1]:w[2],E=b?w[2]:1,C=b?1:w[1],_=x.strides[0],M=b?x.strides[1]:x.strides[2],A=b?x.strides[2]:1,I=b?1:x.strides[1],N=n.data.get(a.dataId).values,R=n.data.get(i.dataId).values,O=x.values,D=0;D<h.batchSize;++D)for(var P=D*S,L=D*_,F=0;F<h.outHeight;++F)for(var j=L+F*M,z=F*h.strideHeight-y,B=0;B<f;++B){var U=z+B*m;if(!(U<0||U>=h.inHeight))for(var W=B*k[0],Z=P+U*T,V=0;V<h.outWidth;++V)for(var H=j+V*A,G=V*h.strideWidth-g,q=0;q<p;++q){var X=G+q*v;if(!(X<0||X>=h.inWidth))for(var Y=Z+X*E,K=W+q*k[1],J=0;J<h.inChannels;++J){for(var $=N[Y+J*C],Q=0;Q<h.outChannels;++Q)O[H+Q*I]+=$*R[K+Q];K+=h.outChannels}}}return n.makeTensorInfo(x.shape,x.dtype,O)}var GZ={kernelName:Hb,backendName:"cpu",kernelFunc:HZ};var qZ={kernelName:Gb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.pad,l=r.dataFormat,u=r.dimRoundingMode,c=r.filterShape;iW([a,i],"conv2dBackpropFilter");for(var d=bC(l),h=cC(a.shape,c,o,1,s,u,!1,d),f=h.strideHeight,p=h.strideWidth,m=h.filterHeight,v=h.filterWidth,g="channelsLast"===h.dataFormat,y=new rS(h.filterShape,"float32"),b=h.padInfo.left,x=h.padInfo.top,w=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,S=new rS(a.shape,a.dtype,w),T=new rS(i.shape,i.dtype,k),E=0;E<m;++E)for(var C=Math.max(0,Math.ceil((x-E)/f)),_=Math.min(h.outHeight,(h.inHeight+x-E)/f),M=0;M<v;++M)for(var A=Math.max(0,Math.ceil((b-M)/p)),I=Math.min(h.outWidth,(h.inWidth+b-M)/p),N=0;N<h.inChannels;++N)for(var R=0;R<h.outChannels;++R){for(var O=0,D=0;D<h.batchSize;++D)for(var P=C;P<_;++P)for(var L=E+P*f-x,F=A;F<I;++F){var j=M+F*p-b;O+=g?S.get(D,L,j,N)*T.get(D,P,F,R):S.get(D,N,L,j)*T.get(D,R,P,F)}y.set(O,E,M,N,R)}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var XZ={kernelName:qb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.inputShape,s=r.strides,l=r.pad,u=r.dataFormat,c=r.dimRoundingMode;iW([a,i],"conv2dBackpropInput");var d=Qy(i.shape),h=Qy(a.shape),f=bC(u),p=cC(o,i.shape,s,1,l,c,!1,f),m=new rS(p.inShape,"float32"),v=m.values,g=n.data.get(a.dataId).values,y=n.data.get(i.dataId).values,b=(0,Z.Z)(d,3),x=b[0],w=b[1],k=b[2],S=p.batchSize,T=p.filterHeight,E=p.filterWidth,C=p.inChannels,_=p.inHeight,M=p.inWidth,A=p.outChannels,I=p.outHeight,N=p.outWidth,R=p.strideHeight,O=p.strideWidth;f=p.dataFormat;for(var D=T-1-p.padInfo.top,P=E-1-p.padInfo.left,L="channelsLast"===f,F=m.strides[0],j=L?m.strides[1]:m.strides[2],z=L?m.strides[2]:1,B=L?1:m.strides[1],U=h[0],W=L?h[1]:h[2],V=L?h[2]:1,H=L?1:h[1],G=0;G<S;++G)for(var q=0;q<C;++q)for(var X=0;X<_;++X)for(var Y=X-D,K=Math.max(0,Math.ceil(Y/R)),J=Math.min(I,(T+Y)/R),$=0;$<M;++$){for(var Q=$-P,ee=Math.max(0,Math.ceil(Q/O)),te=Math.min(N,(E+Q)/O),ne=0,re=K;re<J;++re)for(var ae=re*R-Y,ie=ee;ie<te;++ie)for(var oe=U*G+W*re+V*ie,se=x*(T-1-ae)+w*(E-1-(ie*O-Q))+k*q,le=0;le<A;++le){ne+=g[oe+H*le]*y[se+le]}v[F*G+j*X+z*$+B*q]=ne}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};var YZ={kernelName:Xb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,l=r.dilations;iW([a,i],"conv3d");for(var u=dC(a.shape,i.shape,o,l,s),c=u.filterDepth,d=u.filterHeight,h=u.filterWidth,f=u.dilationDepth,p=u.dilationHeight,m=u.dilationWidth,v=u.padInfo,g=v.front,y=v.left,b=v.top,x=new rS(u.outShape,a.dtype),w=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,S=x.values,T=Qy(a.shape),E=Qy(i.shape),C=0;C<u.batchSize;++C)for(var _=C*T[0],M=C*x.strides[0],A=0;A<u.outDepth;++A)for(var I=M+A*x.strides[1],N=A*u.strideDepth-g,R=0;R<c;++R){var O=N+R*f;if(!(O<0||O>=u.inDepth))for(var D=R*E[0],P=_+O*T[1],L=0;L<u.outHeight;++L)for(var F=I+L*x.strides[2],j=L*u.strideHeight-b,z=0;z<d;++z){var B=j+z*p;if(!(B<0||B>=u.inHeight))for(var U=D+z*E[1],W=P+B*T[2],Z=0;Z<u.outWidth;++Z)for(var V=F+Z*u.outChannels,H=Z*u.strideWidth-y,G=0;G<h;++G){var q=H+G*m;if(!(q<0||q>=u.inWidth))for(var X=U+G*E[2],Y=W+q*u.inChannels,K=X,J=0;J<u.inChannels;++J){for(var $=w[Y+J],Q=0;Q<u.outChannels;++Q)S[V+Q]+=$*k[K+Q];K+=u.outChannels}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var KZ={kernelName:Yb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.pad,l=r.filterShape;iW([a,i],"conv3dBackpropFilterV2");for(var u=Qy(a.shape),c=Qy(i.shape),d=dC(a.shape,l,o,1,s),h=d.strideDepth,f=d.strideHeight,p=d.strideWidth,m=d.filterDepth,v=d.filterHeight,g=d.filterWidth,y=new rS(d.filterShape,"float32"),b=y.values,x=(0,Z.Z)(y.strides,4),w=x[0],k=x[1],S=x[2],T=x[3],E=n.data.get(i.dataId).values,C=(0,Z.Z)(c,4),_=C[0],M=C[1],A=C[2],I=C[3],N=n.data.get(a.dataId).values,R=(0,Z.Z)(u,4),O=R[0],D=R[1],P=R[2],L=R[3],F=d.padInfo.front,j=d.padInfo.left,z=d.padInfo.top,B=0;B<m;++B)for(var U=Math.max(0,Math.ceil((F-B)/h)),W=Math.min(d.outDepth,(d.inDepth+F-B)/h),V=B*w,H=0;H<v;++H)for(var G=Math.max(0,Math.ceil((z-H)/f)),q=Math.min(d.outHeight,(d.inHeight+z-H)/f),X=H*k+V,Y=0;Y<g;++Y)for(var K=Math.max(0,Math.ceil((j-Y)/p)),J=Math.min(d.outWidth,(d.inWidth+j-Y)/p),$=Y*S+X,Q=0;Q<d.inChannels;++Q)for(var ee=Q*T+$,te=0;te<d.outChannels;++te){for(var ne=0,re=0;re<d.batchSize;++re)for(var ae=re*O,ie=re*_,oe=U;oe<W;++oe)for(var se=(B+oe*h-F)*D+ae,le=oe*M+ie,ue=G;ue<q;++ue)for(var ce=(H+ue*f-z)*P+se,de=ue*A+le,he=K;he<J;++he){var fe=he*I+de;ne+=N[(Y+he*p-j)*L+ce+Q]*E[fe+te]}b[ee+te]=ne}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var JZ={kernelName:Kb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.pad,s=r.strides,l=r.inputShape;iW([a],"conv3dBackpropInputV2");for(var u=Qy(a.shape),c=Qy(i.shape),d=dC(l,i.shape,s,1,o),h=new rS(d.inShape,"float32"),f=h.values,p=(0,Z.Z)(h.strides,4),m=p[0],v=p[1],g=p[2],y=p[3],b=n.data.get(a.dataId).values,x=(0,Z.Z)(u,4),w=x[0],k=x[1],S=x[2],T=x[3],E=n.data.get(i.dataId).values,C=(0,Z.Z)(c,4),_=C[0],M=C[1],A=C[2],I=C[3],N=d.batchSize,R=d.filterDepth,O=d.filterHeight,D=d.filterWidth,P=d.inChannels,L=d.inDepth,F=d.inHeight,j=d.inWidth,z=d.outChannels,B=d.outDepth,U=d.outHeight,W=d.outWidth,V=d.strideDepth,H=d.strideHeight,G=d.strideWidth,q=R-1-d.padInfo.front,X=O-1-d.padInfo.top,Y=D-1-d.padInfo.left,K=0;K<N;++K)for(var J=0;J<P;++J)for(var $=0;$<L;++$)for(var Q=$-q,ee=Math.max(0,Math.ceil(Q/V)),te=Math.min(B,(R+Q)/V),ne=0;ne<F;++ne)for(var re=ne-X,ae=Math.max(0,Math.ceil(re/H)),ie=Math.min(U,(O+re)/H),oe=0;oe<j;++oe){for(var se=oe-Y,le=Math.max(0,Math.ceil(se/G)),ue=Math.min(W,(D+se)/G),ce=0,de=ee;de<te;++de)for(var he=de*V-Q,fe=ae;fe<ie;++fe)for(var pe=fe*H-re,me=le;me<ue;++me)for(var ve=w*K+k*de+S*fe+T*me,ge=_*(R-1-he)+M*(O-1-pe)+A*(D-1-(me*G-se))+I*J,ye=0;ye<z;++ye){ce+=b[ve+ye]*E[ge+ye]}f[m*K+v*$+g*ne+y*oe+J]=ce}return n.makeTensorInfo(h.shape,h.dtype,h.values)}},$Z=lW(Jb,(function(e){return Math.cos(e)})),QZ={kernelName:Jb,backendName:"cpu",kernelFunc:$Z},eV=lW($b,(function(e){return Math.cosh(e)})),tV={kernelName:$b,backendName:"cpu",kernelFunc:eV};var nV={kernelName:ex,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,o=t.boxInd,s=r.cropSize,l=r.method,u=r.extrapolationValue,c=(0,Z.Z)(a.shape,4),d=c[0],h=c[1],f=c[2],p=c[3],m=i.shape[0],v=(0,Z.Z)(s,2),g=v[0],y=v[1],b=YT([m,g,y,p],"float32"),x=n.data.get(i.dataId).values,w=n.data.get(o.dataId).values,k=n.data.get(a.dataId).values,S=Qy(a.shape),T=Qy(b.shape),E=0;E<m;E++){var C=4*E,_=x[C],M=x[C+1],A=x[C+2],I=x[C+3],N=w[E];if(!(N>=d))for(var R=g>1?(A-_)*(h-1)/(g-1):0,O=y>1?(I-M)*(f-1)/(y-1):0,D=0;D<g;D++){var P=g>1?_*(h-1)+D*R:.5*(_+A)*(h-1);if(P<0||P>h-1)for(var L=0;L<y;L++)for(var F=0;F<p;F++){var j=F+L*T[2]+D*T[1]+E*T[0];b.values[j]=u}else if("bilinear"===l)for(var z=Math.floor(P),B=Math.ceil(P),U=P-z,W=0;W<y;W++){var V=y>1?M*(f-1)+W*O:.5*(M+I)*(f-1);if(V<0||V>f-1)for(var H=0;H<p;H++){var G=H+W*T[2]+D*T[1]+E*T[0];b.values[G]=u}else for(var q=Math.floor(V),X=Math.ceil(V),Y=V-q,K=0;K<p;K++){var J=K+q*S[2]+z*S[1]+N*S[0],$=k[J],Q=k[J=K+X*S[2]+z*S[1]+N*S[0]],ee=k[J=K+q*S[2]+B*S[1]+N*S[0]],te=$+(Q-$)*Y,ne=ee+(k[J=K+X*S[2]+B*S[1]+N*S[0]]-ee)*Y;J=K+W*T[2]+D*T[1]+E*T[0],b.values[J]=te+(ne-te)*U}}else for(var re=0;re<y;++re){var ae=y>1?M*(f-1)+re*O:.5*(M+I)*(f-1);if(ae<0||ae>f-1)for(var ie=0;ie<p;ie++){var oe=ie+re*T[2]+D*T[1]+E*T[0];b.values[oe]=u}else for(var se=Math.round(ae),le=Math.round(P),ue=0;ue<p;ue++){var ce=ue+se*S[2]+le*S[1]+N*S[0],de=ue+re*T[2]+D*T[1]+E*T[0];b.values[de]=k[ce]}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};var rV={kernelName:Qb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse;iW(a,"cumsum");var l=X_([i],a.shape.length),u=a;null!=l&&(u=tZ({inputs:{x:a},backend:n,attrs:{perm:l}}));var c=K_(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(u.shape.length-1," but got axis=").concat(c));for(var d=mS(u.dtype,"int32"),h=rb(Dy(u.shape),d),f=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],m=s?function(e,t){return e+p-t-1}:function(e,t){return e+t},v=0;v<f.length;v+=p)for(var g=0;g<p;g++){var y=m(v,g);if(0===g)h[y]=o?0:f[y];else{var b=m(v,g-1);h[y]=o?f[b]+h[b]:f[y]+h[b]}}var x=n.makeTensorInfo(u.shape,d,h);if(null!=l){var w=tZ({inputs:{x:x},backend:n,attrs:{perm:Y_(l)}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(u),w}return x}};var aV={kernelName:tx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=r.binaryOutput;if(1===a.shape.length){var l=IZ(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,l)}if(2===a.shape.length){var u=NZ(n.bufferSync(a),n.bufferSync(i),o,s);return n.makeTensorInfo(u.shape,i.dtype,u.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}};var iV={kernelName:nx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,o=r.dataFormat;Iy("NHWC"===o,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(o)}));for(var s=a.shape[0],l=a.shape[1],u=a.shape[2],c=a.shape[3],d=l*i,h=u*i,f=c/(i*i),p=n.data.get(a.dataId).values,m=new Float32Array(s*d*h*f),v=0,g=0;g<s;++g)for(var y=0;y<d;++y)for(var b=Math.floor(y/i),x=y%i,w=0;w<h;++w)for(var k=Math.floor(w/i),S=(x*i+w%i)*f,T=0;T<f;++T){var E=T+S+c*(k+u*(b+l*g));m[v++]=p[E]}return n.makeTensorInfo([s,d,h,f],a.dtype,m)}};function oV(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,l=r.dilations,u=r.dimRoundingMode;iW([a,i],"depthwiseConv2DNative");var c=Qy(a.shape),d=Qy(i.shape),h=l;null==h&&(h=[1,1]),Iy(yC(o,h),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(o," and dilations '").concat(h,"'")}));for(var f=cC(a.shape,i.shape,o,h,s,u,!0),p=f.filterHeight,m=f.filterWidth,v=f.dilationHeight,g=f.dilationWidth,y=f.padInfo,b=y.left,x=y.top,w=f.outChannels/f.inChannels,k=new rS(f.outShape,a.dtype),S=n.data.get(a.dataId).values,T=n.data.get(i.dataId).values,E=k.values,C=0;C<f.batchSize;++C)for(var _=C*c[0],M=C*k.strides[0],A=0;A<f.outHeight;++A)for(var I=M+A*k.strides[1],N=A*f.strideHeight-x,R=0;R<p;++R){var O=N+R*v;if(!(O<0||O>=f.inHeight))for(var D=R*d[0],P=_+O*c[1],L=0;L<f.outWidth;++L)for(var F=I+L*k.strides[2],j=L*f.strideWidth-b,z=0;z<m;++z){var B=j+z*g;if(!(B<0||B>=f.inWidth))for(var U=D+z*d[1],W=P+B*f.inChannels,Z=F,V=U,H=0;H<f.inChannels;++H){for(var G=S[W+H],q=0;q<w;++q)E[Z+q]+=G*T[V+q];Z+=w,V+=w}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}var sV={kernelName:rx,backendName:"cpu",kernelFunc:oV};var lV={kernelName:ax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.dilations,l=r.pad,u=r.dimRoundingMode,c=r.filterShape;iW([a,i],"depthwiseConv2dNativeBackpropFilter");for(var d=cC(a.shape,c,o,s,l,u,!0),h=d.strideHeight,f=d.strideWidth,p=d.filterHeight,m=d.filterWidth,v=new rS(d.filterShape,"float32"),g=d.padInfo.left,y=d.padInfo.top,b=d.outChannels/d.inChannels,x=n.data.get(a.dataId).values,w=new rS(a.shape,a.dtype,x),k=n.data.get(i.dataId).values,S=new rS(i.shape,i.dtype,k),T=0;T<p;++T)for(var E=Math.max(0,Math.ceil((y-T)/h)),C=Math.min(d.outHeight,(d.inHeight+y-T)/h),_=0;_<m;++_)for(var M=Math.max(0,Math.ceil((g-_)/f)),A=Math.min(d.outWidth,(d.inWidth+g-_)/f),I=0;I<d.outChannels;++I){for(var N=Math.trunc(I/b),R=I%b,O=0,D=0;D<d.batchSize;++D)for(var P=E;P<C;++P)for(var L=T+P*h-y,F=M;F<A;++F){var j=_+F*f-g;O+=w.get(D,L,j,N)*S.get(D,P,F,I)}v.set(O,T,_,N,R)}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};var uV={kernelName:ix,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.strides,s=r.dilations,l=r.pad,u=r.dimRoundingMode,c=r.inputShape;iW([a,i],"depthwiseConv2DNativeBackpropInput");for(var d=Qy(a.shape),h=Qy(i.shape),f=cC(c,i.shape,o,s,l,u,!0),p=new rS(f.inShape,"float32"),m=p.values,v=(0,Z.Z)(p.strides,3),g=v[0],y=v[1],b=v[2],x=n.data.get(a.dataId).values,w=(0,Z.Z)(d,3),k=w[0],S=w[1],T=w[2],E=n.data.get(i.dataId).values,C=(0,Z.Z)(h,3),_=C[0],M=C[1],A=C[2],I=f.batchSize,N=f.filterHeight,R=f.filterWidth,O=f.inChannels,D=f.inHeight,P=f.inWidth,L=f.outChannels,F=f.outHeight,j=f.outWidth,z=f.strideHeight,B=f.strideWidth,U=N-1-f.padInfo.top,W=R-1-f.padInfo.left,V=L/O,H=0;H<I;++H)for(var G=0;G<O;++G)for(var q=0;q<D;++q)for(var X=q-U,Y=Math.max(0,Math.ceil(X/z)),K=Math.min(F,(N+X)/z),J=0;J<P;++J){for(var $=J-W,Q=Math.max(0,Math.ceil($/B)),ee=Math.min(j,(R+$)/B),te=0,ne=Y;ne<K;++ne)for(var re=ne*z-X,ae=Q;ae<ee;++ae)for(var ie=k*H+S*ne+T*ae,oe=_*(N-1-re)+M*(R-1-(ae*B-$))+A*G,se=0;se<V;++se){te+=x[ie+(G*V+se)]*E[oe+se]}m[g*H+y*q+b*J+G]=te}return n.makeTensorInfo(p.shape,p.dtype,p.values)}};var cV={kernelName:ox,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,a=Dy(r.shape),i=n.data.get(r.dataId).values,o=YT([a,a],r.dtype),s=o.values,l=0;l<i.length;l++)s[l*a+l]=i[l];var u=[].concat((0,_.Z)(r.shape),(0,_.Z)(r.shape));return n.makeTensorInfo(u,o.dtype,o.values)}},dV={kernelName:sx,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,l=r.dilations,u=n,c=u.data.get(a.dataId).values,d=a.shape.length,h=u.data.get(i.dataId).values,f=i.shape.length,p=sC(a.shape,i.shape,o,s,"NHWC",l),m=p.batchSize,v=p.inHeight,g=p.inWidth,y=p.inChannels,b=p.outHeight,x=p.outWidth,w=p.padInfo,k=p.strideHeight,S=p.strideWidth,T=p.filterHeight,E=p.filterWidth,C=p.dilationHeight,_=p.dilationWidth,M=p.outShape,A=Dy(M),I=M.length,N=Vy(a.dtype,A),R=0;R<m;++R)for(var O=0;O<b;++O)for(var D=O*k-w.top,P=0;P<x;++P)for(var L=P*S-w.left,F=0;F<y;++F){for(var j=Number.MIN_SAFE_INTEGER,z=0;z<T;++z){var B=D+z*C;if(B>=0&&B<v)for(var U=0;U<E;++U){var W=L+U*_;if(W>=0&&W<g){var Z=ob([R,B,W,F],d,Qy(a.shape)),V=ob([z,U,F],f,Qy(i.shape)),H=c[Z]+h[V];H>j&&(j=H)}}}N[ob([R,O,P,F],I,Qy(M))]=j}return{dataId:u.write(Zk(N,a.dtype),M,a.dtype),shape:M,dtype:a.dtype}}},hV={kernelName:ux,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.dy,s=r.strides,l=r.pad,u=r.dilations,c=n,d=tb(a.shape,c.data.get(a.dataId).values),h=tb(i.shape,c.data.get(i.dataId).values),f=sC(a.shape,i.shape,s,l,"NHWC",u),p=f.batchSize,m=f.inHeight,v=f.inWidth,g=f.inChannels,y=f.outHeight,b=f.outWidth,x=f.padInfo,w=f.strideHeight,k=f.strideWidth,S=f.filterHeight,T=f.filterWidth,E=f.dilationHeight,C=f.dilationWidth,_=f.outShape;Iy(o.rank===_.length,(function(){return"Error in ".concat(ux,", dy ")+"must have the same rank as output ".concat(_.length,", but got ")+"".concat(o.rank)}));for(var M=tb(_,c.data.get(o.dataId).values),A=ab(i.shape,i.dtype),I=0;I<p;++I)for(var N=0;N<y;++N)for(var R=N*w-x.top,O=0;O<b;++O)for(var D=O*k-x.left,P=0;P<g;++P){for(var L=Number.MIN_SAFE_INTEGER,F=0,j=0,z=0;z<S;++z){var B=R+z*E;if(B>=0&&B<m)for(var U=0;U<T;++U){var W=D+U*C;if(W>=0&&W<v){var Z=d[I][B][W][P]+h[z][U][P];Z>L&&(L=Z,F=z,j=U)}}}A[F][j][P]+=M[I][N][O][P]}return{dataId:c.write(Zk(A,a.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},fV={kernelName:lx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.dy,s=r.strides,l=r.pad,u=r.dilations,c=n,d=tb(a.shape,c.data.get(a.dataId).values),h=tb(i.shape,c.data.get(i.dataId).values),f=sC(a.shape,i.shape,s,l,"NHWC",u),p=f.batchSize,m=f.inHeight,v=f.inWidth,g=f.inChannels,y=f.outHeight,b=f.outWidth,x=f.padInfo,w=f.strideHeight,k=f.strideWidth,S=f.filterHeight,T=f.filterWidth,E=f.dilationHeight,C=f.dilationWidth,_=f.outShape;Iy(o.rank===_.length,(function(){return"Error in ".concat(lx,", dy ")+"must have the same rank as output ".concat(_.length,", but got ")+"".concat(o.rank)}));for(var M=tb(_,c.data.get(o.dataId).values),A=ab(a.shape,a.dtype),I=0;I<p;++I)for(var N=0;N<y;++N)for(var R=N*w-x.top,O=0;O<b;++O)for(var D=O*k-x.left,P=0;P<g;++P){for(var L=Number.MIN_SAFE_INTEGER,F=R<0?0:R,j=D<0?0:D,z=0;z<S;++z){var B=R+z*E;if(B>=0&&B<m)for(var U=0;U<T;++U){var W=D+U*C;if(W>=0&&W<v){var Z=d[I][B][W][P]+h[z][U][P];Z>L&&(L=Z,F=B,j=W)}}}A[I][F][j][P]+=M[I][N][O][P]}return{dataId:c.write(Zk(A,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},pV=vW((function(e,t){return e*t})),mV=FW((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),vV=LW(iw,pV,mV),gV={kernelName:iw,backendName:"cpu",kernelFunc:vV};function yV(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.axis,s=a.keepDims;iW(i,"sum");var l=(t="bool"===i.dtype?DW({inputs:{x:i},backend:r,attrs:{dtype:"int32"}}):hW({inputs:{x:i},backend:r})).shape.length,u=Uy(o,t.shape),c=X_(u,l),d=u,h=t;null!=c&&(h=tZ({inputs:{x:t},backend:r,attrs:{perm:c}}),d=K_(d.length,l)),q_("sum",d,h.shape.length);for(var f=H_(h.shape,d),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=NW(r,m,mS(h.dtype,"int32")),y=Dy(v),b=r.data.get(g.dataId).values,x=r.data.get(h.dataId).values,w=0;w<b.length;++w){for(var k=w*y,S=0,T=0;T<y;++T)S+=x[k+T];b[w]=S}if(s){var E=g;g=WW({inputs:{x:g},backend:r,attrs:{shape:G_(g.shape,u)}}),r.disposeIntermediateTensorInfo(E)}return r.disposeIntermediateTensorInfo(t),null!=c&&r.disposeIntermediateTensorInfo(h),g}var bV={kernelName:Uw,backendName:"cpu",kernelFunc:yV};var xV={kernelName:dx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=JN(e.attrs.equation,r.length),i=a.allDims,o=a.summedDims,s=a.idDims;QN(i.length,s,r);for(var l=eR(o,s),u=l.path,c=l.steps,d=c.length,h=null,f=i.length,p=[],m=0;m<d;++m){var v,g=X(c[m]);try{for(g.s();!(v=g.n()).done;){var y=v.value,b=$N(f,s[y]),x=b.permutationIndices,w=b.expandDims,k=void 0;tR(x)?k=r[y]:(k=tZ({inputs:{x:r[y]},backend:n,attrs:{perm:x}}),p.push(k));for(var S=k.shape.slice(),T=0;T<w.length;++T)S.splice(w[T],0,1);Py(k.shape,S)||(k=WW({inputs:{x:k},backend:n,attrs:{shape:S}}),p.push(k)),null===h?h=k:(h=vV({inputs:{a:k,b:h},backend:n}),p.push(h))}}catch(JNe){g.e(JNe)}finally{g.f()}m<d-1&&(u[m]>=0&&(h=yV({inputs:{x:h},backend:n,attrs:{axis:u[m]-(i.length-f),keepDims:!1}}),p.push(h)),f--)}for(var E=0,C=p;E<C.length;E++){var _=C[E];_!==h&&n.disposeIntermediateTensorInfo(_)}return h}};var wV={kernelName:fx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y;iW([r,a],"eluGrad");for(var i=new Float32Array(Dy(a.shape)),o=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values,l=0;l<o.length;++l){var u=o[l];i[l]=u>=1?s[l]:s[l]*(u+1)}return n.makeTensorInfo(a.shape,"float32",i)}},kV=vW((function(e,t){return e===t?1:0})),SV=LW(mx,kV,null,"bool"),TV={kernelName:mx,backendName:"cpu",kernelFunc:SV},EV=lW(px,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+.3275911*n);return t*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-n*n))})),CV={kernelName:px,backendName:"cpu",kernelFunc:EV},_V=TW((function(e){return Math.exp(e)})),MV=uW(vx,_V,"float32"),AV={kernelName:vx,backendName:"cpu",kernelFunc:MV};function IV(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.input,i=r.dim,o=a.shape.length,s=a.shape.slice(),l=i;return i<0&&(Iy(-(o+1)<=i,(function(){return"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]")})),l=o+i+1),s.splice(l,0,1),WW({inputs:{x:a},backend:n,attrs:{shape:s}})}var NV={kernelName:gx,backendName:"cpu",kernelFunc:IV},RV=TW((function(e){return Math.expm1(e)})),OV=uW(yx,RV),DV={kernelName:yx,backendName:"cpu",kernelFunc:OV},PV=vW((function(e,t){return e/t})),LV=LW(cx,PV),FV={kernelName:cx,backendName:"cpu",kernelFunc:LV},jV=vW((function(e,t){return e-t})),zV=FW((function(e,t,n,r){return{real:e-n,imag:t-r}})),BV=LW(nk,jV,zV),UV={kernelName:nk,backendName:"cpu",kernelFunc:BV};function WV(e,t,n){for(var r=e.shape,a=r[0],i=r[1],o=n.data.get(e.dataId),s=o.complexTensorInfos.real,l=o.complexTensorInfos.imag,u=[a,i],c=Dy(u),d=Zy("float32",c),h=Zy("float32",c),f=0;f<a;f++){for(var p=_Z({inputs:{x:s},backend:n,attrs:{begin:[f,0],size:[1,i]}}),m=_Z({inputs:{x:l},backend:n,attrs:{begin:[f,0],size:[1,i]}}),v=AW({inputs:{real:p,imag:m},backend:n}),g=ZV(v,t,n),y=ZN(g.real,g.imag),b=0;b<i;b++){var x=VN(y,b);d[f*i+b]=x.real,h[f*i+b]=x.imag}n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v)}var w=n.makeTensorInfo(u,"float32",d),k=n.makeTensorInfo(u,"float32",h),S=AW({inputs:{real:w,imag:k},backend:n});return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(k),S}function ZV(e,t,n){var r=Dy(e.shape),a=n.data.get(e.dataId),i=n.data.get(a.complexTensorInfos.real.dataId).values,o=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((g=r)&g-1)){var s=VV(i,o,r,t,n),l=[e.shape[0],e.shape[1]];if(t){var u=n.makeTensorInfo(l,"float32",s.real),c=n.makeTensorInfo(l,"float32",s.imag),d=n.makeTensorInfo([],"float32",Wk(r,"float32")),h=hW({inputs:{x:d},backend:n}),f=FV.kernelFunc({inputs:{a:u,b:d},backend:n}),p=FV.kernelFunc({inputs:{a:c,b:h},backend:n}),m=n.data.get(f.dataId).values,v=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),{real:m,imag:v}}return s}var g,y=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var i=0,o=0,s=0;s<t;s++){var l=GN(a*s,t,n),u=VN(e,s);i+=u.real*l.real-u.imag*l.imag,o+=u.real*l.imag+u.imag*l.real}n&&(i/=t,o/=t),HN(r,i,o,a)}return r}(ZN(i,o),r,t);return function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(y)}function VV(e,t,n,r,a){if(1===n)return{real:e,imag:t};var i=ZN(e,t),o=n/2,s=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(i),l=s.real,u=s.imag,c=[l.length],d=a.makeTensorInfo(c,"float32",l),h=a.makeTensorInfo(c,"float32",u),f=AW({inputs:{real:d,imag:h},backend:a}),p=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(i),m=p.real,v=p.imag,g=[m.length],y=a.makeTensorInfo(g,"float32",m),b=a.makeTensorInfo(g,"float32",v),x=AW({inputs:{real:y,imag:b},backend:a}),w=VV(l,u,o,r,a),k=w.real,S=w.imag,T=[k.length],E=a.makeTensorInfo(T,"float32",k),C=a.makeTensorInfo(T,"float32",S),_=AW({inputs:{real:E,imag:C},backend:a}),M=VV(m,v,o,r,a),A=M.real,I=M.imag,N=[A.length],R=a.makeTensorInfo(N,"float32",A),O=a.makeTensorInfo(N,"float32",I),D=AW({inputs:{real:R,imag:O},backend:a}),P=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}(n,r),L=[P.real.length],F=a.makeTensorInfo(L,"float32",P.real),j=a.makeTensorInfo(L,"float32",P.imag),z=AW({inputs:{real:F,imag:j},backend:a}),B=vV({inputs:{a:z,b:D},backend:a}),U=BW({inputs:{a:_,b:B},backend:a}),W=BV({inputs:{a:_,b:B},backend:a}),Z=RW({inputs:{input:U},backend:a}),V=RW({inputs:{input:W},backend:a}),H=UZ({inputs:{input:U},backend:a}),G=UZ({inputs:{input:W},backend:a}),q=ZZ({inputs:[Z,V],backend:a,attrs:{axis:0}}),X=ZZ({inputs:[H,G],backend:a,attrs:{axis:0}}),Y=a.data.get(q.dataId).values,K=a.data.get(X.dataId).values;return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(f),a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(E),a.disposeIntermediateTensorInfo(C),a.disposeIntermediateTensorInfo(_),a.disposeIntermediateTensorInfo(R),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(D),a.disposeIntermediateTensorInfo(F),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(Z),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(X),{real:Y,imag:K}}var HV={kernelName:bx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=Dy(r.shape),i=r.shape[r.shape.length-1],o=WW({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),s=WV(o,!1,n),l=WW({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}};function GV(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,i=n.dtype||Ky(a),o=Vy(i,Dy(r));return function(e,t,n){e.fill(t)}(o,a),t.makeTensorInfo(r,i,o)}var qV={kernelName:xx,backendName:"cpu",kernelFunc:GV};var XV={kernelName:wx,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,a=n,i=Zy(r.dtype,Dy(r.shape)),o=(0,Z.Z)(r.shape,4),s=o[0],l=o[1],u=o[2],c=o[3],d=a.data.get(r.dataId).values,h=0;h<s;h++)for(var f=h*u*l*c,p=0;p<l;p++)for(var m=p*(u*c),v=0;v<u;v++)for(var g=v*c,y=0;y<c;y++){var b=Math.round(u-v-1),x=f+m+g+y,w=d[x];if(b>=0&&b<u)w=d[f+m+b*c+y];i[x]=w}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},YV=TW((function(e){return Math.floor(e)})),KV=uW(kx,YV),JV={kernelName:kx,backendName:"cpu",kernelFunc:KV},$V=vW((function(e,t){return Math.floor(e/t)})),QV=LW(Sx,$V,null,"int32"),eH={kernelName:Sx,backendName:"cpu",kernelFunc:QV};var tH={kernelName:gk,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,l=r.strides,u=r.pad,c=r.dataFormat,d=r.dilations,h=r.dimRoundingMode,f=r.activation,p=r.leakyreluAlpha,m=HZ({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h}});if(o){var v=m;m=BW({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(v)}if(f){var g=m;m=MW(n,m,f,s,p),n.disposeIntermediateTensorInfo(g)}return m}};var nH={kernelName:yk,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,l=r.strides,u=r.pad,c=r.dataFormat,d=r.dilations,h=r.dimRoundingMode,f=r.activation,p=r.leakyreluAlpha,m=oV({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h}});if(o){var v=m;m=BW({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(v)}if(f){var g=m;m=MW(n,m,f,s,p),n.disposeIntermediateTensorInfo(g)}return m}};function rH(e,t,n,r,a,i,o,s,l){for(var u=YT([r,i],n),c=0;c<r;c++){for(var d=[],h=0,f=0;f<a;f++){var p=e[c*a+f];h+=p*o[f],d.push(p)}if(h<0||h>=l/i)throw new Error("Invalid indices: ".concat(d," does not index into ").concat(s));for(var m=0;m<i;m++)u.values[c*i+m]=t.get.apply(t,(0,_.Z)(t.indexToLoc(h*i+m)))}return u}var aH={kernelName:Cx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,i=Dy(r.shape),o=a.shape,s=o[o.length-1],l=DN(r,a),u=(0,Z.Z)(l,4),c=u[0],d=u[1],h=u[2],f=u[3];if(0===d)return n.makeTensorInfo(c,r.dtype,[]);var p=rH(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,d,s,h,f,r.shape,i);return n.makeTensorInfo(c,r.dtype,p.values)}};function iH(e,t,n){for(var r=YT(n,e.dtype),a=0;a<r.size;++a){var i=r.indexToLoc(a).slice(),o=i[0],s=i[2],l=t.locToIndex([o,s]);i[2]=t.values[l];var u=e.locToIndex(i);0<=u&&u<e.values.length&&(r.values[a]=e.values[u])}return r}var oH={kernelName:Ex,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.indices,o=r.axis,s=r.batchDims;iW([a,i],"gatherV2");for(var l=Uy(o,a.shape)[0],u=n.data.get(i.dataId).values,c=a.shape[l],d=function(){var e=u[h];Iy(e<=c-1&&e>=0,(function(){return"GatherV2: the index value ".concat(e," is not in [0, ").concat(c-1,"]")}))},h=0;h<u.length;++h)d();var f=s;null==s&&(f=0);var p=Dy(i.shape),m=uR(a,i,l,f),v=WW({inputs:{x:a},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),g=WW({inputs:{x:i},backend:n,attrs:{shape:[m.batchSize,p/m.batchSize]}}),y=[m.batchSize,m.outerSize,p/m.batchSize,m.sliceSize],b=n.bufferSync(g),x=iH(n.bufferSync(v),b,y);return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),n.makeTensorInfo(m.outputShape,x.dtype,x.values)}},sH=vW((function(e,t){return e>t?1:0})),lH=LW(_x,sH,null,"bool"),uH={kernelName:_x,backendName:"cpu",kernelFunc:lH},cH=vW((function(e,t){return e>=t?1:0})),dH=LW(Mx,cH,null,"bool"),hH={kernelName:Mx,backendName:"cpu",kernelFunc:dH};var fH={kernelName:Ix,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=Dy(r.shape),i=r.shape[r.shape.length-1],o=WW({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),s=WV(o,!0,n),l=WW({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}},pH=lW(Rx,(function(e){return Number.isFinite(e)?1:0}),"bool"),mH={kernelName:Rx,backendName:"cpu",kernelFunc:pH},vH=lW(Ox,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),gH={kernelName:Ox,backendName:"cpu",kernelFunc:vH},yH=lW(Dx,(function(e){return Number.isNaN(e)?1:0}),"bool"),bH={kernelName:Dx,backendName:"cpu",kernelFunc:yH},xH=vW((function(e,t){return e<t?1:0})),wH=LW(Lx,xH,null,"bool"),kH={kernelName:Lx,backendName:"cpu",kernelFunc:wH},SH=vW((function(e,t){return e<=t?1:0})),TH=LW(Fx,SH,null,"bool"),EH={kernelName:Fx,backendName:"cpu",kernelFunc:TH};function CH(e,t,n){var r=(t-e)/(n-1),a=rb(n,"float32");a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+r;return a}var _H={kernelName:jx,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=CH(n.start,n.stop,n.num);return t.makeTensorInfo([r.length],"float32",r)}},MH=TW((function(e){return Math.log(e)})),AH=uW(zx,MH),IH={kernelName:zx,backendName:"cpu",kernelFunc:AH},NH=lW(Bx,(function(e){return Math.log1p(e)})),RH={kernelName:Bx,backendName:"cpu",kernelFunc:NH},OH=vW((function(e,t){return e&&t})),DH=LW(Ux,OH,null,"bool"),PH={kernelName:Ux,backendName:"cpu",kernelFunc:DH},LH=lW(Wx,(function(e){return e?0:1}),"bool"),FH={kernelName:Wx,backendName:"cpu",kernelFunc:LH},jH=vW((function(e,t){return e||t})),zH=LW(Zx,jH,null,"bool"),BH={kernelName:Zx,backendName:"cpu",kernelFunc:zH};var UH={kernelName:Vx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.depthRadius,o=r.bias,s=r.alpha,l=r.beta;iW(a,"LRN");var u=a.shape[3],c=u-1,d=n.data.get(a.dataId).values,h=Dy(a.shape),f=new Float32Array(h);function p(e){for(var t=e%u,n=e-t+Math.max(0,t-i),r=e-t+Math.min(t+i,c),a=0;n<=r;n++){var o=d[n];a+=o*o}return a}for(var m=0;m<h;m++){var v=p(m),g=d[m]*Math.pow(o+s*v,-l);f[m]=g}return n.makeTensorInfo(a.shape,a.dtype,f)}};var WH={kernelName:Hx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.y,o=t.dy,s=r.depthRadius,l=r.bias,u=r.alpha,c=r.beta;iW(o,"LRNGrad");for(var d=Dy(o.shape),h=o.shape[3],f=n.data.get(o.dataId).values,p=n.data.get(a.dataId).values,m=n.data.get(i.dataId).values,v=new Float32Array(d),g=d,y=0;y<g;y++){for(var b=y%h,x=y-b+Math.max(0,b-s),w=y-b+Math.min(h,b+s+1),k=0,S=x;S<w;S++)k+=Math.pow(p[S],2);k=u*k+l;for(var T=x;T<w;T++){var E=-2*u*c*p[T]*m[y]/k;y===T&&(E+=Math.pow(k,-c)),E*=f[y],v[T]+=E}}return n.makeTensorInfo(o.shape,a.dtype,v)}};function ZH(e,t,n,r){for(var a=Zy(r,Dy(n)),i=0;i<a.length;++i){for(var o=i*t,s=e[o],l=0;l<t;++l){var u=e[o+l];(Number.isNaN(u)||u>s)&&(s=u)}a[i]=s}return a}function VH(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reductionIndices,o=r.keepDims,s=n,l=a.shape,u=l.length,c=Uy(i,l),d=c,h=X_(d,u),f=s.data.get(a.dataId).values;if(null!=h){for(var p=new Array(u),m=0;m<p.length;m++)p[m]=l[h[m]];f=eZ(f,l,a.dtype,h,p),d=K_(d.length,u),l=p}iW(a,"max"),q_("max",d,u);var v=H_(l,d),g=(0,Z.Z)(v,2),y=g[0],b=ZH(f,Dy(g[1]),y,a.dtype),x=s.write(b,y,a.dtype),w=y;o&&(w=G_(y,c));return{dataId:x,shape:w,dtype:a.dtype}}var HH={kernelName:Gx,backendName:"cpu",kernelFunc:VH},GH=vW((function(e,t){return Math.max(e,t)})),qH=LW(qx,GH),XH={kernelName:qx,backendName:"cpu",kernelFunc:qH};var YH={kernelName:Xx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;iW(a,"maxPool");var i=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode;Iy(yC(o,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var u,c=lC(a.shape,i,o,1,s,l);if(1===c.filterWidth&&1===c.filterHeight&&Py(c.inShape,c.outShape))u=hW({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,h=Qy(a.shape),f=yZ(d,a.shape,a.dtype,h,c,"max");u=n.makeTensorInfo(c.outShape,a.dtype,f.values)}return u}};var KH={kernelName:Kx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode,u=r.dataFormat;iW(a,"maxPool3d");var c=uC(a.shape,i,o,1,s,l,u),d=xZ(n.data.get(a.dataId).values,a.shape,a.dtype,Qy(a.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};var JH={kernelName:Jx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=r.filterSize,s=r.strides,l=r.pad,u=r.dimRoundingMode;iW([a,i],"maxPool3DGrad");for(var c=uC(i.shape,o,s,1,l,u),d=function(e,t){for(var n=YT(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,i=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.front,f=t.padInfo.top,p=t.padInfo.left,m=0;m<t.batchSize;++m)for(var v=0;v<t.inChannels;++v)for(var g=0;g<t.outDepth;++g){for(var y=g*r-h,b=y;b<0;)b+=o;for(var x=Math.min(t.inDepth,u+y),w=0;w<t.outHeight;++w){for(var k=w*a-f,S=k;S<0;)S+=s;for(var T=Math.min(t.inHeight,c+k),E=0;E<t.outWidth;++E){for(var C=E*i-p,_=C;_<0;)_+=l;for(var M=Math.min(t.inWidth,d+C),A=Number.NEGATIVE_INFINITY,I=-1,N=b;N<x;N+=o)for(var R=N-y,O=S;O<T;O+=s)for(var D=O-k,P=_;P<M;P+=l){var L=P-C,F=e.get(m,N,O,P,v);F>=A&&(A=F,I=R*c*d+D*c+L)}n.set(I,m,g,w,E,v)}}}return n}(n.bufferSync(i),c),h=c.strideDepth,f=c.strideHeight,p=c.strideWidth,m=c.dilationDepth,v=c.dilationHeight,g=c.dilationWidth,y=c.effectiveFilterDepth,b=c.effectiveFilterHeight,x=c.effectiveFilterWidth,w=y-1-c.padInfo.front,k=x-1-c.padInfo.left,S=b-1-c.padInfo.top,T=YT(i.shape,"float32"),E=n.bufferSync(a),C=0;C<c.batchSize;++C)for(var _=0;_<c.inChannels;++_)for(var M=0;M<c.inDepth;++M)for(var A=0;A<c.inHeight;++A)for(var I=0;I<c.inWidth;++I){for(var N=M-w,R=A-S,O=I-k,D=0,P=0;P<y;P+=m){var L=(N+P)/h;if(!(L<0||L>=c.outDepth||Math.floor(L)!==L))for(var F=0;F<b;F+=v){var j=(R+F)/f;if(!(j<0||j>=c.outHeight||Math.floor(j)!==j))for(var z=0;z<x;z+=g){var B=(O+z)/p;if(!(B<0||B>=c.outWidth||Math.floor(B)!==B)){var U=y*b*x-1-d.get(C,L,j,B,_)===P*b*x+F*x+z?1:0;if(0!==U)D+=E.get(C,L,j,B,_)*U}}}}T.set(D,C,M,A,I,_)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}};var $H={kernelName:Yx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=i;iW([i,t.output],"maxPoolGrad");for(var s=r.filterSize,l=r.strides,u=r.pad,c=r.dimRoundingMode,d=lC(o.shape,s,l,1,u,c),h=n.data.get(o.dataId).values,f=YT(d.outShape,o.dtype,bZ(h,o.shape,o.dtype,d).values),p=d.strideHeight,m=d.strideWidth,v=d.dilationHeight,g=d.dilationWidth,y=d.effectiveFilterHeight,b=d.effectiveFilterWidth,x=b-1-d.padInfo.left,w=y-1-d.padInfo.top,k=YT(o.shape,"float32"),S=n.data.get(a.dataId).values,T=YT(a.shape,"float32",S),E=0;E<d.batchSize;++E)for(var C=0;C<d.inChannels;++C)for(var _=0;_<d.inHeight;++_)for(var M=0;M<d.inWidth;++M){for(var A=_-w,I=M-x,N=0,R=0;R<y;R+=v){var O=(A+R)/p;if(!(O<0||O>=d.outHeight||Math.floor(O)!==O))for(var D=0;D<b;D+=g){var P=(I+D)/m;if(!(P<0||P>=d.outWidth||Math.floor(P)!==P)){var L=y*b-1-f.get(E,O,P,C)===R*b+D?1:0;if(0!==L)N+=T.get(E,O,P,C)*L}}}k.set(N,E,_,M,C)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};var QH={kernelName:$x,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.filterSize,o=n.strides,s=n.pad,l=n.includeBatchInIndex,u=r;iW(a,"MaxPoolWithArgmax");var c=u.data.get(a.dataId).values,d=lC(a.shape,i,o,[1,1],s),h=function(e,t,n,r,a){var i=yZ(e,0,n,Qy(t),a,"max"),o=bZ(e,t,n,a,!0,r);return[i.values,o.values]}(c,a.shape,a.dtype,l,d),f=(0,Z.Z)(h,2),p=f[0],m=f[1],v=u.write(p,d.outShape,a.dtype),g=u.write(m,d.outShape,a.dtype);return[{dataId:v,shape:d.outShape,dtype:a.dtype},{dataId:g,shape:d.outShape,dtype:"int32"}]}};var eG={kernelName:Qx,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims,s=Uy(i,a.shape),l=Dy(H_(a.shape,s)[1]),u=[],c=n.makeTensorInfo([],"float32",new Float32Array([l]));u.push(c);var d=DW({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});u.push(d);var h=LV({inputs:{a:d,b:c},backend:n});u.push(h);var f=yV({inputs:{x:h},backend:n,attrs:{axis:i,keepDims:o}});return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}};var tG={kernelName:ew,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims;iW(a,"min");var s=Uy(i,a.shape),l=s,u=X_(l,a.shape.length),c=a;null!=u&&(c=tZ({inputs:{x:a},backend:n,attrs:{perm:u}}),l=K_(l.length,a.shape.length)),q_("min",l,c.shape.length);for(var d=H_(c.shape,l),h=(0,Z.Z)(d,2),f=h[0],p=Dy(h[1]),m=rb(Dy(f),c.dtype),v=n.data.get(c.dataId).values,g=0;g<m.length;++g){for(var y=g*p,b=v[y],x=0;x<p;++x){var w=v[y+x];(Number.isNaN(w)||w<b)&&(b=w)}m[g]=b}null!=u&&n.disposeIntermediateTensorInfo(c);var k=n.makeTensorInfo(f,c.dtype,m);if(o){var S=WW({inputs:{x:k},backend:n,attrs:{shape:G_(f,s)}});return n.disposeIntermediateTensorInfo(k),S}return k}},nG=vW((function(e,t){return Math.min(e,t)})),rG=LW(tw,nG),aG={kernelName:tw,backendName:"cpu",kernelFunc:rG};var iG={kernelName:nw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,o=r.mode;iW(a,"mirrorPad");for(var s=i.map((function(e,t){return e[0]+a.shape[t]+e[1]})),l=i.map((function(e){return e[0]})),u=i.map((function(e,t){return e[0]+a.shape[t]})),c="reflect"===o?0:1,d=n.data.get(a.dataId).values,h=a.shape.length,f=Qy(a.shape),p=Dy(s),m=s.length,v=Qy(s),g=Zy(a.dtype,p),y=0;y<p;y++){for(var b=sb(y,m,v),x=0;x<m;x++)b[x]<l[x]?b[x]=2*l[x]-b[x]-c:b[x]>=u[x]&&(b[x]=2*(u[x]-1)-b[x]+c);b=b.map((function(e,t){return e-l[t]}));var w=ob(b,h,f);g[y]=d[w]}return{dataId:n.write(g,s,a.dtype),shape:s,dtype:a.dtype}}},oG=vW((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),sG=LW(rw,oG),lG={kernelName:rw,backendName:"cpu",kernelFunc:sG};function uG(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.dim,o=a.shape.length,s=i;if(-1===s&&(s=o-1),s!==o-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(o," and dim was ").concat(s));var l=Uy([s],a.shape),u=VH({inputs:{x:a},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=G_(u.shape,l),d=WW({inputs:{x:u},backend:n,attrs:{shape:c}}),h=BV({inputs:{a:a,b:d},backend:n}),f=MV({inputs:{x:h},backend:n}),p=yV({inputs:{x:f},backend:n,attrs:{axis:l,keepDims:!1}}),m=WW({inputs:{x:p},backend:n,attrs:{shape:c}}),v=LV({inputs:{a:f,b:m},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),v}var cG={kernelName:Vw,backendName:"cpu",kernelFunc:uG};var dG={kernelName:aw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.numSamples,o=r.seed,s=r.normalized;iW(a,"multinomial");for(var l=s?a:uG({inputs:{logits:a},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],d=n.data.get(l.dataId).values,h=[u,i],f=rb(Dy(h),"int32"),p=0;p<u;++p){var m=p*c,v=new Float32Array(c-1);v[0]=d[m];for(var g=1;g<v.length;++g)v[g]=v[g-1]+d[m+g];for(var y=OM.alea(o.toString()),b=p*i,x=0;x<i;++x){var w=y();f[b+x]=v.length;for(var k=0;k<v.length;k++)if(w<v[k]){f[b+x]=k;break}}}return s||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(h,"int32",f)}};function hG(e,t,n){var r=Wk(-1,n);return pV([],t,r,e,n)}var fG={kernelName:ow,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x;iW(r,"neg");var a=hG(n.data.get(r.dataId).values,r.shape,r.dtype),i=(0,Z.Z)(a,2),o=i[0],s=i[1];return n.makeTensorInfo(s,r.dtype,o)}},pG=xI;var mG={kernelName:lw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold;iW(a,"NonMaxSuppression");var u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,d=pG(u,c,o,s,l).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},vG=wI;var gG={kernelName:uw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold,u=r.padToMaxOutputSize;iW(a,"NonMaxSuppressionPadded");var c=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,h=vG(c,d,o,s,l,u),f=h.selectedIndices,p=h.validOutputs;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},yG=kI;var bG={kernelName:cw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold,u=r.softNmsSigma;iW(a,"NonMaxSuppressionWithScore");var c=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,h=yG(c,d,o,s,l,u),f=h.selectedIndices,p=h.selectedScores;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([p.length],"float32",new Float32Array(p))]}},xG=vW((function(e,t){return e!==t?1:0})),wG=LW(sw,xG,null,"bool"),kG={kernelName:sw,backendName:"cpu",kernelFunc:wG};var SG={kernelName:hw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=r.depth,o=r.onValue,s=r.offValue;iW(a,"oneHot");var l=Dy(a.shape),u=new Float32Array(l*i);u.fill(s);for(var c=n.data.get(a.dataId).values,d=0;d<l;++d)c[d]>=0&&c[d]<i&&(u[d*i+c[d]]=o);return n.makeTensorInfo([].concat((0,_.Z)(a.shape),[i]),"int32",u)}};function TG(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var a=RW({inputs:{input:r},backend:n}),i=TG({inputs:{x:a},backend:n}),o=UZ({inputs:{input:r},backend:n}),s=TG({inputs:{x:o},backend:n}),l=AW({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}return GV({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var EG={kernelName:hk,backendName:"cpu",kernelFunc:TG};var CG={kernelName:dw,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){var i=RW({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),s=UZ({inputs:{input:a},backend:r}),l=TG({inputs:{x:s},backend:r}),u=AW({inputs:{real:o,imag:l},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(l),u}return GV({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function _G(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return IV({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,i=t[0].dtype;t.forEach((function(e){Ny(a,e.shape,"All tensors passed to stack must have matching shapes"),Iy(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=t.map((function(e){var t=IV({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),l=ZZ({inputs:s,backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l}var MG={kernelName:fw,backendName:"cpu",kernelFunc:_G};var AG={kernelName:pw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,o=r.constantValue;iW(a,"pad");var s=i.map((function(e,t){return e[0]+a.shape[t]+e[1]})),l=i.map((function(e){return e[0]})),u=n.data.get(a.dataId).values,c=Dy(a.shape),d=a.shape.length,h=Qy(a.shape),f=Dy(s),p=s.length,m=Qy(s),v=Zy(a.dtype,f);0!==o&&v.fill(o);for(var g=0;g<c;g++){var y=sb(g,d,h).map((function(e,t){return e+l[t]}));v[ob(y,p,m)]=u[g]}return{dataId:n.write(v,s,a.dtype),shape:s,dtype:a.dtype}}},IG=vW((function(e,t){return Math.pow(e,t)})),NG=LW(mw,IG),RG={kernelName:mw,backendName:"cpu",kernelFunc:NG};function OG(e,t,n,r){for(var a=H_(e,r),i=(0,Z.Z)(a,2),o=i[0],s=i[1],l=mS(t,"int32"),u=rb(Dy(o),l),c=Dy(s),d=0;d<u.length;++d){for(var h=d*c,f=1,p=0;p<c;++p)f*=n[h+p];u[d]=f}return{outVals:u,outShape:o,outDtype:l}}var DG={kernelName:gw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims;iW(a,"prod");var s=a.shape.length,l=Uy(i,a.shape),u=X_(l,s),c=l,d=a,h=[];null!=u&&(d=tZ({inputs:{x:a},backend:n,attrs:{perm:u}}),h.push(d),c=K_(c.length,s));var f=n.data.get(d.dataId).values,p=OG(d.shape,d.dtype,f,c),m=p.outVals,v=p.outShape,g=p.outDtype,y=v;return o&&(y=G_(v,l)),h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(y,g,m)}};function PG(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return rb(0,r);var a=rb(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+n;return a}var LG={kernelName:yw,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.dtype,o=PG(r,a,n.step,i);return t.makeTensorInfo([o.length],i,o)}},FG=lW(xw,(function(e){return 1/e})),jG={kernelName:xw,backendName:"cpu",kernelFunc:FG};var zG={kernelName:Ew,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,o=r.halfPixelCenters,s=r.size;iW(a,"resizeBilinear");for(var l=Qy(a.shape),u=(0,Z.Z)(s,2),c=u[0],d=u[1],h=(0,Z.Z)(a.shape,4),f=h[0],p=h[1],m=h[2],v=h[3],g=n.data.get(a.dataId).values,y=new Float32Array(Dy([f,c,d,v])),b=[i&&c>1?p-1:p,i&&d>1?m-1:m],x=[i&&c>1?c-1:c,i&&d>1?d-1:d],w=0,k=b[0]/x[0],S=b[1]/x[1],T=0;T<f;T++)for(var E=0;E<c;E++){var C=void 0;C=o?k*(E+.5)-.5:k*E;for(var _=Math.max(0,Math.floor(C)),M=C-_,A=Math.min(p-1,Math.ceil(C)),I=T*l[0]+_*l[1],N=T*l[0]+A*l[1],R=0;R<d;R++){var O=void 0;O=o?S*(R+.5)-.5:S*R;for(var D=Math.max(0,Math.floor(O)),P=O-D,L=Math.min(m-1,Math.ceil(O)),F=I+D*l[2],j=N+D*l[2],z=I+L*l[2],B=N+L*l[2],U=0;U<v;U++){var W=g[F+U],V=g[j+U],H=W+(g[z+U]-W)*P,G=H+(V+(g[B+U]-V)*P-H)*M;y[w++]=G}}}return n.makeTensorInfo([f,c,d,v],"float32",y)}};var BG={kernelName:Cw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners;iW([i,a],"resizeBilinearGrad");for(var s=Qy(a.shape),l=(0,Z.Z)(a.shape,4),u=l[0],c=l[1],d=l[2],h=l[3],f=(0,Z.Z)(i.shape,3),p=f[1],m=f[2],v=new Float32Array(u*c*d*h),g=[o&&p>1?c-1:c,o&&m>1?d-1:d],y=[o&&p>1?p-1:p,o&&m>1?m-1:m],b=g[0]/y[0],x=g[1]/y[1],w=n.data.get(i.dataId).values,k=0,S=0;S<u;S++)for(var T=S*s[0],E=0;E<p;E++)for(var C=E*b,_=Math.floor(C),M=Math.min(Math.ceil(C),c-1),A=T+_*s[1],I=T+M*s[1],N=C-_,R=1-N,O=0;O<m;O++)for(var D=O*x,P=Math.floor(D),L=Math.min(Math.ceil(D),d-1),F=D-P,j=1-F,z=A+P*s[2],B=A+L*s[2],U=I+P*s[2],W=I+L*s[2],V=R*j,H=R*F,G=N*j,q=N*F,X=0;X<h;X++){var Y=w[k++];v[z+X]+=Y*V,v[B+X]+=Y*H,v[U+X]+=Y*G,v[W+X]+=Y*q}return n.makeTensorInfo([u,d,c,h],"float32",v)}};var UG={kernelName:Sw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,o=r.halfPixelCenters,s=r.size;iW(a,"resizeNearestNeighbor");for(var l=Qy(a.shape),u=(0,Z.Z)(s,2),c=u[0],d=u[1],h=(0,Z.Z)(a.shape,4),f=h[0],p=h[1],m=h[2],v=h[3],g=n.data.get(a.dataId).values,y=new Float32Array(f*c*d*v),b=[i&&c>1?p-1:p,i&&d>1?m-1:m],x=[i&&c>1?c-1:c,i&&d>1?d-1:d],w=b[0]/x[0],k=b[1]/x[1],S=0,T=0;T<f;T++)for(var E=T*l[0],C=0;C<c;C++){var _=o?w*(C+.5):w*C,M=Math.min(p-1,i?Math.round(_):Math.floor(_));o&&(M=Math.max(0,M));for(var A=E+M*l[1],I=0;I<d;I++){var N=o?k*(I+.5):k*I,R=Math.min(m-1,i?Math.round(N):Math.floor(N));o&&(R=Math.max(0,R));for(var O=A+R*l[2],D=0;D<v;D++){var P=g[O+D];y[S++]=P}}}return n.makeTensorInfo([f,c,d,v],a.dtype,y)}};var WG={kernelName:Tw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners;iW([i,a],"resizeNearestNeighborGrad");for(var s=Qy(a.shape),l=Qy(i.shape),u=(0,Z.Z)(a.shape,4),c=u[0],d=u[1],h=u[2],f=u[3],p=(0,Z.Z)(i.shape,3),m=p[1],v=p[2],g=new Float32Array(c*d*h*f),y=n.data.get(i.dataId).values,b=[o&&m>1?d-1:d,o&&v>1?h-1:h],x=[o&&m>1?m-1:m,o&&v>1?v-1:v],w=b[0]/x[0],k=b[1]/x[1],S=1/w,T=1/k,E=2*Math.ceil(S)+2,C=2*Math.ceil(T)+2,_=0;_<c;_++)for(var M=_*s[0],A=0;A<d;A++)for(var I=M+A*s[1],N=Math.floor(A*S),R=Math.floor(N-E/2),O=0;O<h;O++)for(var D=I+O*s[2],P=Math.floor(O*T),L=Math.floor(P-C/2),F=0;F<f;F++){for(var j=0,z=0;z<E;z++){var B=z+R;if(!(B<0||B>=m)){var U=M+B*l[1],W=B*w;if(A===Math.min(d-1,o?Math.round(W):Math.floor(W)))for(var V=0;V<C;V++){var H=V+L;if(!(H<0||H>=v)){var G=U+H*l[2],q=H*k;O===Math.min(h-1,o?Math.round(q):Math.floor(q))&&(j+=y[G+F])}}}}g[D+F]=j}return n.makeTensorInfo(a.shape,a.dtype,g)}};var ZG={kernelName:Mw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dims;iW(a,"reverse");var o=a.shape.length,s=Uy(i,a.shape);if(0===o)return hW({inputs:{x:a},backend:n});for(var l=new rS(a.shape,a.dtype),u=n.bufferSync(a),c=function(){var e=l.indexToLoc(d),t=e.slice();s.forEach((function(e){return t[e]=a.shape[e]-1-t[e]})),l.set.apply(l,[u.get.apply(u,(0,_.Z)(t))].concat((0,_.Z)(e)))},d=0;d<l.size;d++)c();return n.makeTensorInfo(l.shape,l.dtype,l.values)}},VG={kernelName:mk,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=n.radians,o=n.fillValue,s=n.center,l=r,u=Zy(a.dtype,Dy(a.shape)),c=(0,Z.Z)(a.shape,4),d=c[0],h=c[1],f=c[2],p=c[3],m=MN(s,h,f),v=(0,Z.Z)(m,2),g=v[0],y=v[1],b=Math.sin(i),x=Math.cos(i),w=l.data.get(a.dataId).values,k=0;k<d;k++)for(var S=k*f*h*p,T=0;T<h;T++)for(var E=T*(f*p),C=0;C<f;C++)for(var _=C*p,M=0;M<p;M++){var A=[d,T,C,M],I=A[2],N=A[1],R=(I-g)*x-(N-y)*b,O=(I-g)*b+(N-y)*x;R=Math.round(R+g),O=Math.round(O+y);var D=o;if("number"!==typeof o&&(D=3===M?255:o[M]),R>=0&&R<f&&O>=0&&O<h)D=w[S+O*(f*p)+R*p+M];u[S+E+_+M]=D}return{dataId:l.write(u,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},HG=lW(Aw,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),GG={kernelName:Aw,backendName:"cpu",kernelFunc:HG},qG=TW((function(e){return 1/Math.sqrt(e)})),XG=uW(Iw,qG),YG={kernelName:Iw,backendName:"cpu",kernelFunc:XG};function KG(e,t,n,r,a,i,o,s,l,u){var c=[r/a,a],d=e.values,h=t.values;if(0===r)return YT(n,t.dtype);var f=YT(c,t.dtype);f.values.fill(l);for(var p=0;p<i;p++){for(var m=[],v=0,g=0;g<o;g++){var y=d[p*o+g];m.push(y),v+=y*s[g]}if(v<0||v>=r/a)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(var b=0;b<a;b++)u?f.values[v*a+b]+=h[p*a+b]:f.values[v*a+b]=0===t.rank?h[0]:h[p*a+b]}return f}var JG={kernelName:Nw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=t.updates,o=r.shape,s=ZA(0,a,o),l=s.sliceRank,u=s.numUpdates,c=s.sliceSize,d=s.strides,h=s.outputSize,f=KG(n.bufferSync(a),n.bufferSync(i),o,h,c,u,l,d,0,!0);return n.makeTensorInfo(o,f.dtype,f.values)}};var $G={kernelName:Rw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,i=t.e;iW([r,a,i],"select");for(var o=r.shape.length,s=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=mS(a.dtype,i.dtype),d=rb(Dy(a.shape),c),h=0,f=0===o||o>1||1===a.shape.length?1:Dy(a.shape.slice(1)),p=0;p<s.length;p++)for(var m=0;m<f;m++)1===s[p]?d[h++]=l[p]:d[h++]=u[p];return n.makeTensorInfo(a.shape,c,d)}},QG=lW(Ow,(function(e){return e>=0?1.0507009873554805*e:1.7580993408473768*(Math.exp(e)-1)})),eq={kernelName:Ow,backendName:"cpu",kernelFunc:QG},tq=lW(Fw,(function(e){return e<0?-1:e>0?1:0})),nq={kernelName:Fw,backendName:"cpu",kernelFunc:tq},rq=lW(Pw,(function(e){return Math.sin(e)})),aq={kernelName:Pw,backendName:"cpu",kernelFunc:rq},iq=lW(Lw,(function(e){return Math.sinh(e)})),oq={kernelName:Lw,backendName:"cpu",kernelFunc:iq},sq=Math.log(1.1920928955078125e-7)+2,lq=lW(zw,(function(e){var t=e>-sq,n=e<sq,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),uq={kernelName:zw,backendName:"cpu",kernelFunc:lq};var cq={kernelName:Ww,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.paddings;iW([a],"spaceToBatchND");var s=Dy(i),l=[[0,0]];l.push.apply(l,(0,_.Z)(o));for(var u=1+i.length;u<a.shape.length;++u)l.push([0,0]);var c=AG.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),d=AN(c.shape,i,s,!1),h=IN(d.length,i.length,!1),f=NN(c.shape,i,s,!1),p=WW({inputs:{x:c},backend:n,attrs:{shape:d}}),m=tZ({inputs:{x:p},backend:n,attrs:{perm:h}}),v=WW({inputs:{x:m},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),v}};function dq(e,t,n,r,a,i,o){var s=t[0],l=i[0],u=new Array(l),c=new Array(s),d=t[1];if(0===l){if(0!==s)throw new Error("Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(s));return[Vy(n,0),[0,d],Vy(a,0),u,c]}for(var h=!0,f=0,p=new Array(l).fill(0),m=0;m<s;++m){var v=e[m*d];if(v<0)throw new Error(aR(m,v));if(v>=l)throw new Error(iR(m,v,l));++p[v],h=h&&v>=f,f=v}for(var g=!0,y=0;y<l;++y){var b=0===p[y];u[y]=b,g=g&&!b,p[y]=Math.max(p[y],1),y>0&&(p[y]+=p[y-1])}if(g&&h){for(var x=e,w=r,k=0;k<s;++k)c[k]=k;return[x,[s,d],w,u,c]}for(var S=p[l-1],T=Vy(n,S*d),E=Vy(a,S),C=new Array(l).fill(0),_=0;_<s;++_){var M=e[_*d],A=C[M],I=(0===M?0:p[M-1])+A;C[M]++;for(var N=0;N<d;++N)T[I*d+N]=e[_*d+N];E[I]=r[_],c[_]=I}for(var R=0;R<l;++R){if(0===C[R]){var O=0===R?0:p[R-1];T[O*d+0]=R;for(var D=1;D<d;++D)T[O*d+D]=0;E[O]=o}}return[T,[S,d],E,u,c]}var hq={kernelName:Hw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,i=t.denseShape,o=t.defaultValue;if(1!==i.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(i.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(a.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values[0],d=dq(s,r.shape,r.dtype,l,a.dtype,u,c),h=(0,Z.Z)(d,5),f=h[0],p=h[1],m=h[2],v=h[3],g=h[4];return[n.makeTensorInfo(p,r.dtype,f),n.makeTensorInfo([p[0]],a.dtype,m),n.makeTensorInfo([v.length],"bool",new Uint8Array(v.map((function(e){return Number(e)})))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}};function fq(e,t,n,r,a){for(var i,o=Dy(r),s=t[0],l=a.length,u=[],c=1,d=-1,h=0;h<l;++h){var f=a[h];if(-1===f){if(-1!==d)throw new Error((i=h,"only one output dimension may be -1, not both ".concat(d," and ").concat(i)));d=h,u.push(1)}else{if(f<0)throw new Error(oR(h,f));c*=f,u.push(f)}}if(-1!==d){if(c<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");var p=Math.trunc(o/c);if(c*p!==o)throw new Error(function(e,t){var n=Dy(e),r=Dy(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}(r,u));u[d]=p}if(Dy(u)!==o)throw new Error(function(e,t){var n=Dy(e),r=Dy(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}(r,u));var m=r.length,v=[];if(m>0){v[m-1]=1;for(var g=m-2;g>=0;--g)v[g]=v[g+1]*r[g+1]}var y=[];if(l>0){y[l-1]=1;for(var b=l-2;b>=0;--b)y[b]=y[b+1]*u[b+1]}for(var x=Vy(n,s*l),w=0;w<s;++w){for(var k=0,S=0;S<m;++S)k+=e[w*m+S]*v[S];for(var T=0;T<l;++T)x[w*l+T]=Math.trunc(k/y[T]),k%=y[T]}return[x,[s,l],u]}var pq={kernelName:Gw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,i=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));var o=Array.from(n.data.get(a.dataId).values),s=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),u=fq(s,r.shape,r.dtype,o,l),c=(0,Z.Z)(u,3),d=c[0],h=c[1],f=c[2];return[n.makeTensorInfo(h,r.dtype,d),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}};function mq(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=r.length,l=[t[0],e.length/t[0]],u=l[1],c=s>0?a[s-1]+1:0;if(c<0)throw new Error("segment ids must be >= 0");var d=t.slice();d[0]=c;var h=d.reduce((function(e,t){return e*t}),1),f=Vy(n,h);if(0===s)return c>0&&f.fill(o),[f,d];if(c<=0)throw new Error("segment ids must be >= 0");for(var p=0,m=1,v=0,g=a[p];;){var y=0;if(m<s){if(g===(y=a[m])){++m;continue}if(g>=y)throw new Error("segment ids are not increasing")}if(g<0||g>=c)throw new Error(sR(g,c));g>v&&f.fill(o,v*u,g*u);for(var b=p;b<m;++b){var x=r[b];if(x<0||x>=l[0])throw new Error(lR(b,r[b],l[0]));for(var w=0;w<u;w++)f[g*u+w]+=e[x*u+w]}if(i)for(var k=0;k<u;k++)f[g*u+k]/=m-p;if(p=m,v=g+1,g=y,++m>s)break}return v<c&&f.fill(o,v*u,c*u),[f,d]}var vq={kernelName:qw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(i.shape));if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,u=mq(o,r.shape,r.dtype,s,l,!0),c=(0,Z.Z)(u,2),d=c[0],h=c[1];return n.makeTensorInfo(h,r.dtype,d)}};var gq={kernelName:Xw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(i.shape));if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,u=mq(o,r.shape,r.dtype,s,l),c=(0,Z.Z)(u,2),d=c[0],h=c[1];return n.makeTensorInfo(h,r.dtype,d)}};var yq={kernelName:Yw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,i=t.sparseValues,o=t.defaultValue,s=r.outputShape,l=ZA(0,a,s),u=l.sliceRank,c=l.numUpdates,d=l.sliceSize,h=l.strides,f=l.outputSize,p=KG(n.bufferSync(a),n.bufferSync(i),s,f,d,c,u,h,n.data.get(o.dataId).values[0],!1);return n.makeTensorInfo(s,p.dtype,p.values)}};var bq={kernelName:Zw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.numOrSizeSplits,o=Uy(r.axis,a.shape)[0],s=rR(a,i,o),l=new Array(a.shape.length).fill(0),u=a.shape.slice();return s.map((function(e){var t=(0,_.Z)(u);t[o]=e;var r=_Z({inputs:{x:a},backend:n,attrs:{begin:l,size:t}});return l[o]+=e,r}))}},xq=TW((function(e){return Math.sqrt(e)})),wq=lW(Bw,(function(e){return Math.sqrt(e)})),kq={kernelName:Bw,backendName:"cpu",kernelFunc:wq},Sq={kernelName:Jw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;iW(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),s=0;s<i.length;++s){var l=i[s];o[s]=l*l}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Tq=vW((function(e,t){var n=e-t;return n*n})),Eq=LW(Kw,Tq),Cq={kernelName:Kw,backendName:"cpu",kernelFunc:Eq},_q=lW(fk,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),Mq={kernelName:fk,backendName:"cpu",kernelFunc:_q};function Aq(e,t,n,r){for(var a=YT(e,t.dtype),i=0;i<a.size;i++){for(var o=a.indexToLoc(i),s=new Array(o.length),l=0;l<s.length;l++)s[l]=o[l]*n[l]+r[l];a.set.apply(a,[t.get.apply(t,s)].concat((0,_.Z)(o)))}return a}var Iq={kernelName:$w,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,o=r.end,s=r.strides,l=r.beginMask,u=r.endMask,c=r.ellipsisMask,d=r.newAxisMask,h=r.shrinkAxisMask;iW(a,"stridedSlice");var f,p=OE(a.shape,i,o,s,l,u,c,d,h),m=p.finalShapeSparse,v=p.finalShape,g=p.isIdentity,y=p.sliceDim0,b=p.isSimpleSlice,x=p.begin,w=p.end,k=p.strides;if(g)f=WW({inputs:{x:a},backend:n,attrs:{shape:v}});else if(y||b){Iy(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var S=AE(x,w,k),T=_Z({inputs:{x:a},backend:n,attrs:{begin:x,size:S}});f=WW({inputs:{x:T},backend:n,attrs:{shape:v}}),n.disposeIntermediateTensorInfo(T)}else{var E=Aq(m,n.bufferSync(a),k,x);f=n.makeTensorInfo(v,E.dtype,E.values)}return f}},Nq=function(){function e(t,n,r,a,i,o){M(this,e),this.separator=Hk(t),this.nGramWidths=n,this.leftPad=Hk(r),this.rightPad=Hk(a),this.padWidth=i,this.preserveShort=o}return N(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,a,i){for(var o=this,s=function(){var s=o.getPadWidth(i),u=Math.max(0,s-l),c=Math.max(0,s-(a-(l+1))),d=i-(u+c),h=t+(u>0?0:l-s),f=0;f+=u*o.leftPad.length;for(var p=0;p<d;++p)f+=e[h+p].length;f+=c*o.rightPad.length,f+=(u+c+d-1)*o.separator.length,n[r+l]=new Uint8Array(f);for(var m=n[r+l],v=0,g=function(e){return e.forEach((function(e){return m[v++]=e}))},y=0;y<u;++y)g(o.leftPad),g(o.separator);for(var b=0;b<d-1;++b)g(e[h+b]),g(o.separator);if(d>0){g(e[h+d-1]);for(var x=0;x<c;++x)g(o.separator),g(o.rightPad)}else{for(var w=0;w<c-1;++w)g(o.rightPad),g(o.separator);g(o.rightPad)}},l=0;l<a;++l)s()}},{key:"compute",value:function(e,t){var n=this,r=e.length,a=t.length;if(a>0){var i=t[0];if(0!==i)throw new Error("First split value must be 0, got ".concat(i));for(var o=1;o<a;++o){var s=t[o]>=i;if(!(s=s&&t[o]<=r))throw new Error("Invalid split value ".concat(t[o],", must be in [").concat(i,", ").concat(r,"]"));i=t[o]}if(i!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(i))}var l=a-1,u=Vy("int32",a);if(0===r||0===a){for(var c=new Array(r),d=0;d<=l;++d)u[d]=0;return[c,u]}u[0]=0;for(var h=function(){var e=t[f]-t[f-1],r=0;n.nGramWidths.forEach((function(t){r+=n.getNumNGrams(e,t)})),n.preserveShort&&e>0&&0===r&&(r=1),u[f]=u[f-1]+r},f=1;f<=l;++f)h();for(var p=new Array(u[l]),m=function(r){var a=t[r],i=u[r];if(n.nGramWidths.forEach((function(o){var s=t[r+1]-t[r],l=n.getNumNGrams(s,o);n.createNGrams(e,a,p,i,l,o),i+=l})),n.preserveShort&&i===u[r]){var o=t[r+1]-t[r];if(0===o)return"continue";var s=o+2*n.padWidth;n.createNGrams(e,a,p,i,1,s)}},v=0;v<l;++v)m(v);return[p,u]}}]),e}();function Rq(e,t,n,r,a,i,o,s){return new Nq(n,r,a,i,o,s).compute(e,t)}var Oq={kernelName:Qw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,i=r.nGramWidths,o=r.leftPad,s=r.rightPad,l=r.padWidth,u=r.preserveShortSequences,c=t.data,d=t.dataSplits,h=Rq(n.data.get(c.dataId).values,n.data.get(d.dataId).values,a,i,o,s,l,u),f=(0,Z.Z)(h,2),p=f[0],m=f[1];return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(d.shape,"int32",m)]}};function Dq(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var a=0,i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){var o=e.subarray(a,i);n&&0===o.length||r.push(o),a=i+1}}else{for(var s=t[0],l=e.indexOf(s);-1!==l;){var u=e.subarray(0,l);n&&0===u.length||r.push(u),l=(e=e.subarray(l+1)).indexOf(s)}n&&0===e.length||r.push(e)}else for(var c=0;c<e.length;++c)r.push(e.subarray(c,c+1))}function Pq(e,t,n){for(var r=e.length,a=[],i=0,o=0,s=new Array(r),l=0;l<r;++l){var u=a.length;Dq(e[l],t,n,a);var c=a.length-u;s[l]=c,i+=c,o=Math.max(o,c)}for(var d=Vy("int32",2*i),h=new Array(i),f=[r,o],p=0,m=0;m<r;++m)for(var v=0;v<s[m];++v)d[2*p]=m,d[2*p+1]=v,h[p]=a[p],++p;return[d,h,f]}var Lq={kernelName:ek,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,i=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==i.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(i.shape));var o=Pq(n.data.get(a.dataId).values,n.data.get(i.dataId).values[0],r),s=(0,Z.Z)(o,3),l=s[0],u=s[1],c=s[2],d=u.length;return[n.makeTensorInfo([d,2],"int32",l),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(c))]}};function Fq(e,t){for(var n=Vy("int32",e.length),r=0;r<e.length;++r)n[r]=Uk(e[r]).modulo(t).getLowBitsUnsigned();return n}var jq={kernelName:tk,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=Fq(n.data.get(a.dataId).values,r);return n.makeTensorInfo(a.shape,"int32",i)}},zq=lW(rk,(function(e){return Math.tan(e)})),Bq={kernelName:rk,backendName:"cpu",kernelFunc:zq},Uq=lW(ak,(function(e){return Math.tanh(e)}));function Wq(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];for(var a=YT(n,e.dtype),i=0;i<a.values.length;++i){for(var o=a.indexToLoc(i),s=new Array(e.rank),l=0;l<s.length;l++)s[l]=o[l]%e.shape[l];var u=e.locToIndex(s);a.values[i]=e.values[u]}return a}var Zq={kernelName:ik,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;iW(a,"tile");var o=Wq(n.bufferSync(a),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}},Vq=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function Hq(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;r>n;){if(r-n>600){var a=r-n+1,i=t-n+1,o=Math.log(a),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(a-s)/a)*Math.sign(i-a/2);Hq(e,t,Math.max(n,Math.floor(t-i*s/a+l)),Math.min(r,Math.floor(t+(a-i)*s/a+l)))}var u=e[t],c=n,d=r;for(My(e,n,t),Vq(e[r],u)>0&&My(e,n,r);c<d;){for(My(e,c,d),c++,d--;Vq(e[c],u)<0;)c+=1;for(;Vq(e[d],u)>0;)d-=1}0===Vq(e[n],u)?My(e,n,d):My(e,d+=1,r),d<=t&&(n=d+1),t<=d&&(r=d-1)}}function Gq(e,t,n,r,a){for(var i=t[t.length-1],o=e.length/i,s=i,l=Zy(n,o*r),u=Zy("int32",o*r),c=function(){var t=d*s,n=e.subarray(t,t+s),i=new Array(n.length);n.forEach((function(e,t){return i[t]={value:e,index:t}})),r<i.length&&(Hq(i,r),i=i.slice(0,r)),a&&i.sort(Vq);for(var o=d*r,c=l.subarray(o,o+r),h=u.subarray(o,o+r),f=0;f<r;f++)c[f]=i[f].value,h[f]=i[f].index},d=0;d<o;d++)c();var h=t.slice();return h[h.length-1]=r,[YT(h,n,l),YT(h,"int32",u)]}var qq={kernelName:ok,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,o=r.sorted;iW(a,"topk");var s=Gq(n.data.get(a.dataId).values,a.shape,a.dtype,i,o),l=(0,Z.Z)(s,2),u=l[0],c=l[1];return[n.makeTensorInfo(u.shape,u.dtype,u.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}};var Xq={kernelName:sk,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=t.transforms,o=n.interpolation,s=n.fillMode,l=n.fillValue,u=n.outputShape,c=(0,Z.Z)(a.shape,4),d=c[0],h=c[1],f=c[2],p=c[3],m=null!=u?u:[h,f],v=(0,Z.Z)(m,2),g=v[0],y=v[1],b=[d,g,y,p],x=Qy(a.shape),w=x[0],k=x[1],S=x[2],T=Zy(a.dtype,Dy(b));T.fill(l);for(var E=r.data.get(a.dataId).values,C=r.data.get(i.dataId).values,_=0;_<d;++_){for(var M=1===i.shape[0]?C:C.subarray(8*_,8*_+8),A=0;A<g;++A)for(var I=0;I<y;++I)for(var N=0;N<p;++N){var R=void 0,O=M[6]*I+M[7]*A+1;if(0!==O){var D=(M[0]*I+M[1]*A+M[2])/O,P=(M[3]*I+M[4]*A+M[5])/O,L=Yq(D,f,s),F=Yq(P,h,s);switch(o){case"nearest":R=Jq(E,h,f,w,k,S,_,F,L,N,l);break;case"bilinear":R=$q(E,h,f,w,k,S,_,F,L,N,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(o))}T[_*w+A*k+I*S+N]=R}}return r.makeTensorInfo(b,a.dtype,T)}return{dataId:r.write(T,b,a.dtype),shape:a.shape,dtype:a.dtype}}};function Yq(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var a=2*t;(n-=a*Math.trunc(n/a))>=t&&(n=a-n-1)}return Cy(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var a=t-1;n-=t*Math.trunc(n/a)}return Cy(0,n,t-1)}(e,t);case"nearest":return function(e,t){return Cy(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function Kq(e,t,n,r,a,i,o,s,l,u,c){return 0<=s&&s<t&&0<=l&&l<n?e[o*r+s*a+l*i+u]:c}function Jq(e,t,n,r,a,i,o,s,l,u,c){return Kq(e,t,n,r,a,i,o,Math.round(s),Math.round(l),u,c)}function $q(e,t,n,r,a,i,o,s,l,u,c){var d=Math.floor(s),h=Math.floor(l),f=d+1,p=h+1;return(f-s)*((p-l)*Kq(e,t,n,r,a,i,o,d,h,u,c)+(l-h)*Kq(e,t,n,r,a,i,o,d,p,u,c))+(s-d)*((p-l)*Kq(e,t,n,r,a,i,o,f,h,u,c)+(l-h)*Kq(e,t,n,r,a,i,o,f,p,u,c))}function Qq(e,t,n,r){for(var a=Uy(t,n)[0],i=[1,n[0],1],o=0;o<a;o++)i[0]*=n[o];i[1]=n[a];for(var s=a+1;s<n.length;s++)i[2]*=n[s];for(var l={},u=new Int32Array(n[a]),c=new rS(i,r,e),d=[],h=1===i[0]&&1===i[2],f=0;f<n[a];f++){var p=void 0;if(h)p=e[f].toString();else{for(var m=[],v=0;v<i[0];v++)for(var g=0;g<i[2];g++)m.push(c.get(v,f,g));p=m.join(",")}if(void 0!==l[p])u[f]=l[p];else{var y=Object.keys(l).length;l[p]=y,u[f]=y,d.push(f)}}var b=i.slice();b[1]=Object.keys(l).length;var x=new rS(b,r);d.forEach((function(e,t){for(var n=0;n<i[0];n++)for(var r=0;r<i[2];r++)x.set(c.get(n,e,r),n,t,r)}));var w=n.slice();return w[a]=b[1],{outputValues:x.values,outputShape:w,indices:u}}var eX={kernelName:uk,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;iW(i,"unique");var o=Qq(r.data.get(i.dataId).values,a,i.shape,i.dtype),s=o.outputValues,l=o.outputShape,u=o.indices;return[r.makeTensorInfo(l,i.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}};var tX={kernelName:ck,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a.shape.length,s=a.shape[i],l=new Array(o-1),u=0,c=0;c<o;c++)c!==i&&(l[u++]=a.shape[c]);var d=new Array(o).fill(0),h=a.shape.slice();h[i]=1;for(var f=new Array(s),p=0;p<f.length;p++){d[i]=p;var m=_Z({inputs:{x:a},backend:n,attrs:{begin:d,size:h}});f[p]=WW({inputs:{x:m},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(m)}return f}};for(var nX={kernelName:dk,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.segmentIds,o=r.numSegments;iW(a,"unsortedSegmentSum");for(var s=[],l=[],u=a.shape.length-i.shape.length,c=i,d=0;d<u;++d){var h=IV({inputs:{input:c},backend:n,attrs:{dim:d+1}});c=h,l.push(h)}for(var f=0;f<o;++f){var p=Wk(f,"int32"),m=n.makeTensorInfo([],"int32",p),v=SV({inputs:{a:m,b:c},backend:n}),g=DW({inputs:{x:v},backend:n,attrs:{dtype:"float32"}}),y=vV({inputs:{a:g,b:a},backend:n}),b=yV({inputs:{x:y},backend:n,attrs:{axis:0,keepDims:!1}});s.push(b),l.push(m),l.push(v),l.push(g),l.push(y),l.push(b)}var x=_G({inputs:s,backend:n,attrs:{axis:0}});return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),x}},rX=0,aX=[GW,XW,KW,$W,UW,QW,rZ,aZ,iZ,oZ,lZ,cZ,hZ,mZ,gZ,wZ,kZ,SZ,TZ,HW,EZ,AZ,RZ,OZ,PW,LZ,jZ,IW,zZ,VZ,GZ,qZ,XZ,YZ,KZ,JZ,QZ,tV,nV,rV,aV,iV,sV,lV,uV,cV,dV,hV,fV,xV,dW,wV,TV,CV,AV,NV,DV,HV,qV,XV,JV,eH,tH,nH,aH,oH,uH,hH,fW,fH,WZ,mH,gH,bH,mW,kH,EH,_H,IH,RH,PH,FH,BH,UH,WH,HH,XH,YH,KH,JH,$H,QH,eG,tG,aG,iG,lG,dG,gV,fG,mG,gG,bG,kG,SG,CG,MG,AG,RG,bW,DG,LG,OW,FV,jG,wW,SW,ZW,zG,BG,UG,WG,ZG,VG,GG,YG,JG,$G,eq,_W,nq,aq,oq,MZ,cG,uq,cq,hq,pq,vq,gq,yq,bq,kq,Sq,Cq,Mq,Iq,Oq,Lq,jq,UV,bV,Bq,{kernelName:ak,backendName:"cpu",kernelFunc:Uq},Zq,qq,Xq,nZ,eX,tX,nX,EG];rX<aX.length;rX++){Ek(aX[rX])}var iX,oX,sX,lX={},uX={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function cX(e,t){if(!(e in lX)){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete lX[e]}),!1),1===e)return n.getContext("webgl",uX)||n.getContext("experimental-webgl",uX);return n.getContext("webgl2",uX)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;lX[e]=n}var r=lX[e];return null==r||r.isContextLost()?(delete lX[e],cX(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),lX[e])}function dX(e,t){return[t,e]}function hX(e){var t=Dy(e);return Fy(Math.ceil(t/4))}function fX(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function pX(e,t){var n,r,a,i,o,s,l,u,c,d,h=e;return 2===hb().getNumber("WEBGL_VERSION")?(n=h.R32F,r=h.R16F,a=h.RGBA16F,i=h.RGBA32F,o=h.RED,l=4,u=1,c=h.HALF_FLOAT,d=h.FLOAT,s=h.RGBA8):(n=e.RGBA,r=e.RGBA,a=e.RGBA,i=h.RGBA,o=e.RGBA,l=4,u=4,c=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,s=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:s,downloadUnpackNumChannels:l,defaultNumChannels:u,textureTypeHalfFloat:c,textureTypeFloat:d}}function mX(e,t){var n=t();return hb().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(iX||(iX={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(oX||(oX={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(sX||(sX={}));function vX(e){return!!(hb().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function gX(e,t){return MX(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function yX(e,t){var n=MX(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(mX(e,(function(){return e.shaderSource(n,t)})),mX(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw function(e,t){var n=wX.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],a=e.split("\n"),i=a.length.toString().length+2,o=a.map((function(e,t){return jy((t+1).toString(),i)+e})),s=0,l=0;l<o.length;l++)s=Math.max(o[l].length,s);var u=o.slice(0,r-1),c=o.slice(r-1,r),d=o.slice(r);console.log(u.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(jy(c[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var bX,xX,wX=/ERROR: [0-9]+:([0-9]+):/g;function kX(e,t){if(mX(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function SX(e,t,n,r,a,i,o){var s=e.getAttribLocation(t,n);return-1!==s&&(mX(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),mX(e,(function(){return e.vertexAttribPointer(s,a,e.FLOAT,!1,i,o)})),mX(e,(function(){return e.enableVertexAttribArray(s)})),!0)}function TX(e,t,n,r){mX(e,(function(){return function(e,t,n){AX(e,n),mX(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),mX(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}(e,t,r)})),mX(e,(function(){return e.uniform1i(n,r)}))}function EX(e,t,n){mX(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),mX(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function CX(e,t){mX(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),mX(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function _X(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function MX(e,t,n){var r=mX(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function AX(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var a="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(a,"."))}}function IX(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Dy(e.slice(0,e.length-t))}function NX(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function RX(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[IX(e)].concat((0,_.Z)(NX(e)))),t}function OX(e){return e%2===0}function DX(e,t){if(Py(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(OX(n)&&OX(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&OX(e[0])&&OX(t[0])}function PX(e,t){return null!=e.getExtension(t)}function LX(e){try{if(null!=cX(e))return!0}catch(d4){return console.log("Error when getting WebGL context: ",d4),!1}return!1}function FX(e){if(0===e)return!1;var t=cX(e);if(1!==e){if(PX(t,"EXT_color_buffer_float"))return jX(t);var n="EXT_color_buffer_half_float";if(PX(t,n)){var r=t.getExtension(n);return function(e,t){var n=pX(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var a=1,i=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),s}(t,r)}return!1}return!!PX(t,"OES_texture_float")&&(!!PX(t,"WEBGL_color_buffer_float")&&jX(t))}function jX(e){var t=pX(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function zX(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&Iy("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."}))}))}var BX=hb();function UX(){var e,t,n,r,a,i,o,s,l,u;return 2===hb().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",o="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}function WX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=Qy(t);return r.map((function(t,a){var i="int ".concat(e[a]," = ").concat(n," / ").concat(t),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(t):"index -= ".concat(e[a]," * ").concat(t);return"".concat(i,"; ").concat(o,";")})).join("")}function ZX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=Qy(t);return r.map((function(t,a){var i="int ".concat(e[a]," = ").concat(n," / outShapeStrides[").concat(a,"]"),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * outShapeStrides[").concat(a,"]"):"index -= ".concat(e[a]," * outShapeStrides[").concat(a,"]");return"".concat(i,"; ").concat(o,";")})).join("")}function VX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=e.map((function(e,t){return t})),a=function(e,t){var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),a=new Array(n-1);a[n-2]=r[n-1];for(var i=n-3;i>=0;--i)a[i]="(".concat(a[i+1]," * ").concat(r[i+1],")");return a}(r,t);return a.map((function(t,r){var i="int ".concat(e[r]," = ").concat(n," / ").concat(a[r]),o=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(a[r]):"index -= ".concat(e[r]," * ").concat(a[r]);return"".concat(i,"; ").concat(o,";")})).join("")}function HX(e){var t=Qy(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}BX.registerFlag("HAS_WEBGL",(function(){return BX.getNumber("WEBGL_VERSION")>0})),BX.registerFlag("WEBGL_VERSION",(function(){return LX(2)?2:LX(1)?1:0})),BX.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),BX.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===BX.get("WEBGL_VERSION")})),BX.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),BX.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),BX.registerFlag("WEBGL_PACK",(function(){return BX.getBool("HAS_WEBGL")})),BX.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return BX.getBool("WEBGL_PACK")})),BX.registerFlag("WEBGL_PACK_CLIP",(function(){return BX.getBool("WEBGL_PACK")})),BX.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return BX.getBool("WEBGL_PACK")})),BX.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return BX.getBool("WEBGL_PACK")})),BX.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return BX.getBool("WEBGL_PACK")})),BX.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return BX.getBool("WEBGL_PACK")})),BX.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return BX.getBool("WEBGL_PACK")})),BX.registerFlag("WEBGL_PACK_REDUCE",(function(){return BX.getBool("WEBGL_PACK")})),BX.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return BX.getBool("WEBGL_PACK")})),BX.registerFlag("WEBGL_CONV_IM2COL",(function(){return BX.getBool("WEBGL_PACK")})),BX.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return function(e){if(null==bX){var t=cX(e);bX=t.getParameter(t.MAX_TEXTURE_SIZE)}return bX}(BX.getNumber("WEBGL_VERSION"))})),BX.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return function(e){if(null==xX){var t=cX(e);xX=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,xX)}(BX.getNumber("WEBGL_VERSION"))})),BX.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=BX.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;var t=cX(e);return PX(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:PX(t,"EXT_disjoint_timer_query")?1:0}(e)})),BX.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return BX.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!MS()})),BX.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return function(e){if(0===e)return!1;var t=cX(e);if(1===e){if(!PX(t,"OES_texture_float"))return!1}else if(!PX(t,"EXT_color_buffer_float"))return!1;return jX(t)}(BX.getNumber("WEBGL_VERSION"))})),BX.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!BX.getBool("WEBGL_FORCE_F16_TEXTURES")&&BX.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),BX.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return FX(BX.getNumber("WEBGL_VERSION"))})),BX.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return 2===(e=BX.getNumber("WEBGL_VERSION"))&&null!=cX(e).fenceSync;var e})),BX.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return BX.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),BX.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),BX.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return MS()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),BX.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),BX.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),BX.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),BX.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128}));var GX="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",qX=xE;function XX(e,t,n){var r=[];if(e.forEach((function(e){var t=Dy(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(aY(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));var a,i,o=r.join("\n"),s=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,a="";a+=n?KX(e,r):YX(e,r);var i=e.shapeInfo.logicalShape,o=t.logicalShape;i.length<=o.length&&(a+=n?function(e,t){var n,r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),i="get"+a+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,l=qX(e.shapeInfo.logicalShape,t.logicalShape),u=rY(s),c=s-o,d=["x","y","z","w","u","v"];n=0===o?"":s<2&&l.length>=1?"coords = 0;":l.map((function(e){return"coords.".concat(d[e+c]," = 0;")})).join("\n");var h="";h=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(d[t+c])})).join(", ");var f="return outputValue;",p=1===Dy(e.shapeInfo.logicalShape),m=Dy(t.logicalShape),v=1===m;if(1!==o||p||v){if(p&&!v)f=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(l.length){var g=o-2,y=o-1;l.indexOf(g)>-1&&l.indexOf(y)>-1?f="return vec4(outputValue.x);":l.indexOf(g)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(y)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}}else f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(i,"() {\n      ").concat(u," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(a,"(").concat(h,");\n      ").concat(f,"\n    }\n  ")}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&Py(o,i))return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var u,c=rY(l),d=qX(e.shapeInfo.logicalShape,t.logicalShape),h=l-s,f=["x","y","z","w","u","v"];u=0===s?"":l<2&&d.length>=1?"coords = 0;":d.map((function(e){return"coords.".concat(f[e+h]," = 0;")})).join("\n");var p="";p=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(f[t+h])})).join(", ");return"\n    float ".concat(a,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(u,"\n      return get").concat(r,"(").concat(p,");\n    }\n  ")}(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),l=t.texShape,u=UX(),c=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(u),d=function(e){var t="".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(JX,"\n    ").concat($X,"\n    ").concat(QX,"\n  ");return t}(u);return t.isPacked?(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Py(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");var a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2),o=i,s="",l="b, r, c",u=2;u<e.length-1;u++)o*=e[e.length-u-1],s="\n      int b".concat(u," = index / ").concat(o,";\n      index -= b").concat(u," * ").concat(o,";\n    ")+s,l="b".concat(u,", ")+l;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec").concat(e.length,"(").concat(l,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,l,n.enableShapeUniforms),i=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(u)):(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(Py(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){var r=ZX(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}var a=WX(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){var r=ZX(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}var a=WX(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=WX(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=WX(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,l,n.enableShapeUniforms),i=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(u)),n.packedInputs&&(d+=eY),[d,c,i,o,a,s,n.userCode].join("\n")}function YX(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var a=(0,Z.Z)(e.shapeInfo.texShape,2),i=a[0],o=a[1];if(1===i&&1===o)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=tY(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var l=(0,Z.Z)(e.shapeInfo.texShape,2),u=l[0],c=l[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(u,", ").concat(c,", ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(nY(e),"\n      }\n    ");var a=e.shapeInfo.texShape,i=a[0],o=a[1];if(1===o&&1===i)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=tY(n);if(1===o)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(i,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(1===i)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(o,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(t)return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(i,", ").concat(o,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(null!=i&&Py(n,i)){if(t)return"\n      float ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var o=i[0],s=i[1];return"\n    float ".concat(a,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}var l=Wy(n),u=l.newShape,c=l.keptDims,d=u;if(d.length<n.length){var h=iY(e,d),f=["row","col"];return"\n      ".concat(YX(h,t),"\n      float ").concat(a,"(int row, int col) {\n        return ").concat(a,"(").concat(oY(f,c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(nY(e),"\n      }\n    ");var p=i[0],m=i[1],v=tY(r);if(1===m)return t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(p,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(1===p)return t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(m,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(t)return"\n      float ".concat(a,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(v,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");return"\n  float ".concat(a,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(v,";\n    vec2 uv = uvFromFlat(").concat(p,", ").concat(m,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],o=n[2],s=Wy(n),l=s.newShape,u=s.keptDims,c=l;if(c.length<n.length){var d=iY(e,c),h=["row","col","depth"];return"\n        ".concat(YX(d,t),"\n        float ").concat(a,"(int row, int col, int depth) {\n          return ").concat(a,"(").concat(oY(h,u),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(i,", ").concat(o,", 1)));\n        ").concat(nY(e),"\n      }\n    ");var f=e.shapeInfo.texShape,p=f[0],m=f[1],v=e.shapeInfo.flatOffset;if(m===i&&null==v)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(a,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(o,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(m,".0, ").concat(p,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(m===o&&null==v)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(m,".0, ").concat(p,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");var g=tY(r);if(t)return"\n    float ".concat(a,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * ").concat(i," + col * ").concat(o," + depth + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    ");return"\n      float ".concat(a,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(i," + col * ").concat(o," + depth + ").concat(g,";\n        vec2 uv = uvFromFlat(").concat(p,", ").concat(m,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}(e,t);case 4:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],o=n[2]*i,s=n[1]*o,l=Wy(n),u=l.newShape,c=l.keptDims;if(u.length<n.length){var d=iY(e,u),h=["row","col","depth","depth2"];return"\n      ".concat(YX(d,t),"\n      float ").concat(a,"(int row, int col, int depth, int depth2) {\n        return ").concat(a,"(").concat(oY(h,c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(o,", ").concat(i,", 1)));\n        ").concat(nY(e),"\n      }\n    ");var f=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,m=p[0],v=p[1],g="int stride2 = ".concat(r,"Shape[3];"),y="int stride1 = ".concat(r,"Shape[2] * stride2;"),b="int stride0 = ".concat(r,"Shape[1] * stride1;");if(v===s&&null==f)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        ").concat(g,"\n        ").concat(y,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(o,", ").concat(i,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(v===i&&null==f)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var x=tY(r);if(t)return"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(g,"\n      ").concat(y,"\n      ").concat(b,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(x,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");return"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," +\n          depth * ").concat(i," + depth2;\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(v,", index + ").concat(x,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}(e,t);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],i=t[3]*a,o=t[2]*i,s=t[1]*o,l=Wy(t),u=l.newShape,c=l.keptDims;if(u.length<t.length){var d=iY(e,u),h=["row","col","depth","depth2","depth3"];return"\n      ".concat(YX(d),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(oY(h,c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(o,", ").concat(i,", ").concat(a,")) +\n          depth3;\n        ").concat(nY(e),"\n      }\n    ");var f=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,m=p[0],v=p[1];if(v===s&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(o,", ").concat(i,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(v===a&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=tY(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," + depth * ").concat(i," +\n          depth2 * ").concat(a," + depth3 + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(v,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=Wy(t),i=a.newShape,o=a.keptDims;if(i.length<t.length){var s=iY(e,i),l=["row","col","depth","depth2","depth3","depth4"];return"\n      ".concat(YX(s),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(oY(l,o),");\n      }\n    ")}var u=t[5],c=t[4]*u,d=t[3]*c,h=t[2]*d,f=t[1]*h;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(f,", ").concat(h,", ").concat(d,", ").concat(c,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(u,", 1)));\n        ").concat(nY(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,m=e.shapeInfo.texShape,v=m[0],g=m[1];if(g===f&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(h,", ").concat(d,", ").concat(c,", ").concat(u,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(g===u&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var y=tY(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(f," + col * ").concat(h," + depth * ").concat(d," +\n          depth2 * ").concat(c," + depth3 * ").concat(u," + depth4 + ").concat(y,";\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(g,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function KX(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=UX();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=UX();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ");var o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=i[0],s=i[1],l=UX();if(null!=i&&Py(n,i))return t?"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(l.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n\n        return ").concat(l.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(a,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ");var u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(c,", ").concat(u[0],", ").concat(u[1],", row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){var s=[1,2],l=iY(e,n.slice(1)),u=["b","row","col"];return"\n        ".concat(KX(l,t),"\n        vec4 ").concat(a,"(int b, int row, int col) {\n          return ").concat(a,"(").concat(oY(u,s),");\n        }\n      ")}var c=UX();if(t)return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");var d=o[0],h=o[1],f=Math.ceil(n[2]/2),p=f*Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(d,", ").concat(h,", ").concat(p,", ").concat(f,", b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=UX();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var i=e.shapeInfo.logicalShape,o=i.length,s=e.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=l[0],c=l[1],d=Math.ceil(i[o-1]/2),h=d*Math.ceil(i[o-2]/2),f="int b, int row, int col",p="b * ".concat(h," + (row / 2) * ").concat(d," + (col / 2)"),m=2;m<o-1;m++)f="int b".concat(m,", ")+f,h*=i[o-m-1],p="b".concat(m," * ").concat(h," + ")+p;return"\n    vec4 ".concat(r,"(").concat(f,") {\n      int index = ").concat(p,";\n      int texR = index / ").concat(c,";\n      int texC = index - texR * ").concat(c,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(c,", ").concat(u,");\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var JX="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",$X="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",QX="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",eY="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function tY(e){return"offset".concat(e)}function nY(e){var t=e.name,n=Dy(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function rY(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function aY(e,t,n){var r=Wy(t),a=r.newShape,i=r.keptDims,o=t.length,s=e&&3===o&&1===t[0],l=s?t.slice(1):a,u=!e&&o>1&&!Py(t,n)&&a.length<o||s;return{useSqueezeShape:u,uniformShape:u?l:t,keptDims:i}}function iY(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function oY(e,t){return t.map((function(t){return e[t]})).join(", ")}function sY(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach((function(e,n){var r=e.logicalShape,a=t[n],i=a.shape;if(!Py(r,i))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(i," must match"));if(!e.isUniform||!a.isUniform){var o=e.texShape,s=a.isUniform?null:a.texData.texShape;if(!Py(o,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(o," and ").concat(s," must match"))}}))}function lY(e){return hb().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var uY=N((function e(t){M(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=iX.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=UX();this.outputShape=t,this.enableShapeUniforms=lY(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?ZX(["r","c","d"],t):WX(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),cY=N((function e(t){M(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=iX.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=UX();this.outputShape=t,this.enableShapeUniforms=lY(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?ZX(["r","c","d"],t):WX(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),dY=N((function e(t){M(this,e),this.variableNames=["A"],this.outTexUsage=oX.DOWNLOAD;var n=UX();this.outputShape=t,this.userCode="\n      ".concat(GX,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),hY=N((function e(t){M(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=oX.DOWNLOAD;var n=UX();this.outputShape=t,this.userCode="\n      ".concat(GX,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),fY=N((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];M(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=UX();this.outputShape=t,this.enableShapeUniforms=lY(this.outputShape.length);var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":HX(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ").concat(r.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(r.output," = vec4(").concat(a,", 0., 0., 0.);\n      }\n    ")})),pY=N((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];M(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=UX();this.outputShape=t,this.enableShapeUniforms=lY(this.outputShape.length);var a="",i="result";n&&(i="floor(result * 255. + 0.5)");for(var o=0;o<=1;o++)for(var s=0;s<=1;s++){var l=2*o+s;a+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(s," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(s,";\n          if (localCoords[1] + ").concat(o," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(o,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(l,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(l,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(l,"] = values[2];\n            } else {\n              result[").concat(l,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":HX(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(a,"\n\n          ").concat(r.output," = ").concat(i,";\n        }\n    ")}));function mY(e){var t=UX();return function(e,t){var n=MX(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(mX(e,(function(){return e.shaderSource(n,t)})),mX(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function vY(e){return function(e,t){var n=MX(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return mX(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),mX(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function gY(e){return function(e,t){var n=MX(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return mX(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),mX(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Uint16Array([0,1,2,2,1,3]))}function yY(e,t,n,r,a,i){!function(e,t){var n=hb().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var a="[".concat(e,"x").concat(t,"]"),i="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+i+".")}}(t,n);var o=function(e){return MX(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}(e),s=e.TEXTURE_2D;return mX(e,(function(){return e.bindTexture(s,o)})),mX(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),mX(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),mX(e,(function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)})),mX(e,(function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===hb().getNumber("WEBGL_VERSION")?mX(e,(function(){return e.texImage2D(s,0,r,t,n,0,a,i,null)})):mX(e,(function(){return e.texStorage2D(s,1,r,t,n)})),mX(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),{texture:o,texShape:[n,t]}}function bY(e){return e.internalFormatFloat}function xY(e){return e.internalFormatHalfFloat}function wY(e){return e.downloadTextureFormat}function kY(e){return e.internalFormatPackedFloat}function SY(e){return e.internalFormatPackedHalfFloat}function TY(e,t,n,r,a,i,o,s){var l=e,u=new Float32Array(function(e,t){var n=fX(e,t),r=(0,Z.Z)(n,2);return r[0]*r[1]*4}(i,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}var EY=function(){function e(t){M(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=hb().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,function(e,t){lX[e]=t}(n,t)):this.gl=cX(n);var r="WEBGL_color_buffer_float",a="EXT_color_buffer_half_float";if(1===hb().getNumber("WEBGL_VERSION")){var i="OES_texture_half_float";if(this.textureFloatExtension=gX(this.gl,"OES_texture_float"),PX(this.gl,i))this.textureHalfFloatExtension=gX(this.gl,i);else if(hb().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),PX(this.gl,a))this.colorBufferHalfFloatExtension=gX(this.gl,a);else if(hb().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",PX(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!PX(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=vY(this.gl),this.indexBuffer=gY(this.gl),this.framebuffer=function(e){return MX(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=pX(this.gl,this.textureHalfFloatExtension)}return N(e,[{key:"debug",get:function(){return hb().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;mX(t,(function(){return t.finish()})),mX(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),mX(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),mX(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),mX(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),mX(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=dX(t,n),i=(0,Z.Z)(a,2);return yY(e,i[0],i[1],bY(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=dX(t,n),i=(0,Z.Z)(a,2);return yY(e,i[0],i[1],xY(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=dX(t,n),i=(0,Z.Z)(a,2);return yY(e,i[0],i[1],wY(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),function(e,t,n){mX(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===hb().getNumber("WEBGL_VERSION")?mX(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})):mX(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===hb().getNumber("WEBGL_VERSION")?mX(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})):mX(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),mX(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,i){var o,s,l;mX(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),a instanceof Uint8Array?(o=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,l=e.RGBA):(o=new Float32Array(n*r*4),s=e.FLOAT,l=i.internalFormatPackedFloat),o.set(a),2===hb().getNumber("WEBGL_VERSION")?mX(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,o)})):mX(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,s,o)})),mX(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=fX(t,n),i=(0,Z.Z)(a,2);return yY(e,i[0],i[1],SY(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=fX(t,n),i=(0,Z.Z)(a,2);return yY(e,i[0],i[1],kY(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(CX(this.gl,this.framebuffer),this.outputTexture=null),mX(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n,r){var a=dX(t,n),i=(0,Z.Z)(a,2),o=i[0],s=i[1],l=new Uint8Array(t*n*4);return mX(e,(function(){return e.readPixels(0,0,o,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,l)})),new Float32Array(l.buffer)}(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,a,i){return TY(this.gl,e,0,0,0,a,i,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return function(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=function(e,t,n,r){var a=e.createBuffer();mX(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var i=16*t*n;return mX(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)})),mX(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),mX(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if(hb().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=a.clientWaitSync(i,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=i}else hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n){var r=new Float32Array(t*n*4);return mX(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=mY(n));var r=function(e){return MX(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}(n);return mX(n,(function(){return n.attachShader(r,t.vertexShader)})),mX(n,(function(){return n.attachShader(r,e)})),function(e,t){if(mX(e,(function(){return e.linkProgram(t)})),!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(n,r),this.debug&&kX(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=function(e,t,n){return mX(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),SX(e,t,"clipSpacePos",n,3,20,0)&&SX(e,t,"uv",n,2,20,12)}(n,this.program,this.vertexBuffer)),r}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&mX(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&kX(this.gl,this.program),mX(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?function(e,t,n){return MX(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),mX(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),TX(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=fX(t,n),a=(0,Z.Z)(r,2),i=a[0],o=a[1];this.setOutputMatrixTextureDriver(e,i,o)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&kX(this.gl,this.program),_X(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),mX(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),mX(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=gX(this.gl,2===hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2!==hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=mo(fo().mark((function e(t){var n=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zy((function(){return n.disposed||n.isQueryAvailable(t,hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}var i=this.getQueryTimerExtensionWebGL1(),o=i.getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||zy((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),EX(this.gl,e,this.framebuffer),this.debug&&_X(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(EX(this.gl,this.outputTexture,this.framebuffer),this.debug&&_X(this.gl)):CX(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;EX(r,e,this.framebuffer),this.debug&&_X(r),this.outputTexture=e,mX(r,(function(){return r.viewport(0,0,t,n)})),mX(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var a=this;this.throwIfDisposed(),mX(this.gl,(function(){return a.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();var CY=jW,_Y=IZ,MY=NZ,AY=DZ,IY=BZ,NY=kV,RY=_V,OY=RV,DY=YV,PY=rH,LY=iH,FY=sH,jY=cH,zY=xH,BY=SH,UY=CH,WY=MH,ZY=ZH,VY=GH,HY=nG,GY=pV,qY=hG,XY=xG,YY=OG,KY=PG,JY=qG,$Y=EW,QY=qW,eK=CZ,tK=dq,nK=fq,rK=mq,aK=xq,iK=Aq,oK=Rq,sK=Pq,lK=Fq,uK=jV,cK=Wq,dK=Gq,hK=eZ,fK=Qq;function pK(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function mK(e,t){return 1===t?[e]:pK(e,t)}var vK=function(){function e(t){if(M(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=lY(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=mK("rc",this.rank),r=rY(this.rank),a=this.getOutOfBoundsCondition(n),i=this.getSetup(n),o=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(a,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(i,"\n\n            setOutput(vec4(").concat(o,"));\n          }\n        }\n      ")}}return N(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var a="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),i=2;i<this.rank;i++)a="".concat(e[e.length-1-i],",")+a;t.push(a)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var n=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(n," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),gK=N((function e(t,n){M(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=lY(this.outputShape.length);for(var r="",a=0;a<4;a++){var i="thisRC = rc;";a%2===1&&(i+="thisRC.z += 1;"),a>1&&(i+="thisRC.y += 1;"),r+="\n        ".concat(i,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){var n=t?VX(["r","c","d"],"inputShape"):WX(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":HX(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")}));var yK=function(){function e(t){M(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return N(e,[{key:"acquireTexture",value:function(e,t,n){var r=xK(t,n),a=wK(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);var i,o=bK(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}return r===sX.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===sX.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===sX.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===sX.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===sX.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),i}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var a=xK(n,r),i=wK(t,a,r);i in this.freeTextures||(this.freeTextures[i]=[]);var o=bK(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=hb().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;var l=this.usedTextures[i],u=l.indexOf(e);if(u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l.splice(u,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function bK(e,t,n,r,a){var i,o=function(e,t){switch(e){case sX.PACKED_2X2_FLOAT32:return kY(t);case sX.PACKED_2X2_FLOAT16:return SY(t);case sX.UNPACKED_FLOAT32:return bY(t);case sX.UNPACKED_FLOAT16:return xY(t);case sX.PACKED_4X1_UNSIGNED_BYTE:return wY(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(a){var s=fX(e[0],e[1]),l=(0,Z.Z)(s,2);i=l[0]*l[1]}else{var u=dX(e[0],e[1]),c=(0,Z.Z)(u,2);i=c[0]*c[1]}var d=function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,o);return i*d}function xK(e,t){if(e===oX.UPLOAD)return sX.PACKED_2X2_FLOAT32;if(e===oX.RENDER||null==e)return function(e){return hb().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?sX.PACKED_2X2_FLOAT32:sX.UNPACKED_FLOAT32:e?sX.PACKED_2X2_FLOAT16:sX.UNPACKED_FLOAT16}(t);if(e===oX.DOWNLOAD||e===oX.PIXELS)return sX.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function wK(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var kK=N((function e(t,n){M(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=lY(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),SK="if (isnan(x)) return x;",TK="return x;",EK="return abs(x);";var CK="return (x >= 0.0) ? x : (exp(x) - 1.0);",_K=SK+"\n  return (x < 0.0) ? 0.0 : x;\n",MK=SK+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",AK="return x;",IK="return 1.0 / (1.0 + exp(-1.0 * x));",NK="return x;",RK="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",OK="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",DK="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",PK="return 1.0 / (1.0 + exp(-1.0 * x));",LK=N((function e(t,n){M(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=lY(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),FK=N((function e(t){M(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=lY(this.outputShape.length);var n=t.length,r=mK("rc",n),a=rY(n),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),o=r.slice(-2),s=n<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(i,");\n\n        setOutput(getChannel(packedInput, ").concat(s,"));\n      }\n    ")})),jK=OA,zK={};var BK=hb().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");var UK=function(e){O(n,e);var t=z(n);function n(e){var r,a,i;if(M(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!hb().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof EY)a=e;else{var o=cX(hb().getNumber("WEBGL_VERSION"),e);a=new EY(o)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var s=cX(hb().getNumber("WEBGL_VERSION"));a=new EY(s),r.binaryCache=((i=hb().getNumber("WEBGL_VERSION"))in zK||(zK[i]={}),zK[i]),r.gpgpuCreatedLocally=!0}return r.gpgpu=a,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new yK(r.gpgpu),r.numMBBeforeWarning=null==hb().global.screen?1024:hb().global.screen.height*hb().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new ky(F(r),jE()),r}return N(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"write",value:function(e,t,n){if((hb().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||hb().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:oX.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){if(hb().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:oX.UPLOAD,refCount:a})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,a=t.complexTensorInfos,i=t.slice,o=t.shape,s=t.isPacked;if(null!=i){var l;l=s?new LK(o,AK):new kK(o,AK);var u=this.runWebGLProgram(l,[{dataId:e,shape:o,dtype:r}],r),c=this.readSync(u.dataId);return this.disposeIntermediateTensorInfo(u),c}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var d,h,f=null!=this.activeTimers;(f&&(d=Vk()),"complex64"===r)?h=ZN(this.readSync(a.real.dataId),this.readSync(a.imag.dataId)):h=this.getValuesFromTexture(e);return f&&(this.downloadWaitMs+=Vk()-d),this.convertAndCacheOnCPU(e,h)}},{key:"read",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i,o,s,l,u,c,d,h,f,p,m,v,g,y,b,x,w,k,S,T;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(r=this.texData.get(t),a=r.values,i=r.shape,o=r.slice,s=r.dtype,l=r.complexTensorInfos,u=r.isPacked,null==o){e.next=11;break}return c=u?new LK(i,AK):new kK(i,AK),d=this.runWebGLProgram(c,[{dataId:t,shape:i,dtype:s}],s),h=this.read(d.dataId),this.disposeIntermediateTensorInfo(d),e.abrupt("return",h);case 11:if(null==a){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(!hb().getBool("DEBUG")){e.next=16;break}if(hb().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==hb().getNumber("WEBGL_VERSION")){e.next=16;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 16:if(f=null,"complex64"!==s&&hb().get("WEBGL_BUFFER_SUPPORTED")&&(p=this.decode(t),v=this.texData.get(p.dataId),f=(m=this.gpgpu).createBufferFromTexture.apply(m,[v.texture.texture].concat((0,_.Z)(hX(i))))),this.pendingRead.set(t,[]),"complex64"===s){e.next=22;break}return e.next=22,this.gpgpu.createAndWaitForFence();case 22:if("complex64"!==s){e.next=31;break}return e.next=25,Promise.all([this.read(l.real.dataId),this.read(l.imag.dataId)]);case 25:y=e.sent,b=y[0],x=y[1],g=ZN(b,x),e.next=32;break;case 31:null==f?g=this.getValuesFromTexture(t):(w=Dy(i),g=this.gpgpu.downloadFloat32MatrixFromBuffer(f,w));case 32:return null!=p&&this.disposeIntermediateTensorInfo(p),null!=f&&mX(k=this.gpgpu.gl,(function(){return k.deleteBuffer(f)})),S=this.convertAndCacheOnCPU(t,g),T=this.pendingRead.get(t),this.pendingRead.delete(t),T.forEach((function(e){return e(S)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&jE().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",S);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),r=n.values,a=n.shape,i=n.slice,o=n.dtype,s=n.isPacked,l=n.texture;if("complex64"===o)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=i){var u;u=s?new LK(a,AK):new kK(a,AK);var c=this.runWebGLProgram(u,[{dataId:e,shape:a,dtype:o}],o),d=this.readToGPU(c,t);return this.disposeIntermediateTensorInfo(c),d}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var h=this.decode(e,t.customTexShape),f=jE().makeTensorFromDataId(h.dataId,h.shape,h.dtype),p=this.texData.get(h.dataId);return Object.assign({tensorRef:f},p.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return Gk(e)}))}catch(Mte){throw new Error("Failed to decode encoded string bytes into utf-8")}return YT(e.shape,e.dtype,n)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!vX(n)){if(hb().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.isPacked,i=Dy(n);if(hb().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var o,s=this.decode(e),l=this.texData.get(s.dataId),u=(o=this.gpgpu).downloadMatrixFromPackedTexture.apply(o,[l.texture.texture].concat((0,_.Z)(hX(n)))).subarray(0,i);return this.disposeIntermediateTensorInfo(s),u}var c=hb().getBool("WEBGL_PACK")&&!0===a,d=c?RX(n):n,h=c?new hY(d):new dY(d),f=this.runWebGLProgram(h,[{shape:d,dtype:r,dataId:e}],"float32"),p=this.texData.get(f.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(p.texture.texture,p.texShape[0],p.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(f),m}},{key:"timerAvailable",value:function(){return hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,r=[],a=!1;null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,e();var i=Oy(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),o=Oy(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e}));this.activeTimers=n,a&&(this.programTimersStack=null);var s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return mo(fo().mark((function e(){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=8;break}return e.next=3,Promise.all(i);case 3:n=e.sent,s.kernelMs=Ay(n),s.getExtraProfileInfo=function(){return n.map((function(e,t){return{name:o[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=9;break;case 8:s.kernelMs={error:"WebGL query timers are not supported in this environment."};case 9:return t.uploadWaitMs=0,t.downloadWaitMs=0,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Vk(),endMs:null}}},{key:"endTimer",value:function(e){return hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Vk(),e)}},{key:"getQueryTime",value:function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(hb().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e).complexTensorInfos;return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,i=t.usage,o=t.isPacked,s=t.slice,l=s&&s.origDataId||e,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,o)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:BK;return hb().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&Dy(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){bk("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return jK(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new LK(e.shape,t),a=this.compileAndRun(r,[e],n);return jE().makeTensorFromDataId(a.dataId,a.shape,a.dtype)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=QY(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(hb().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,EK,e.dtype);var n=new kK(e.shape,EK),r=this.compileAndRun(n,[e]);return jE().makeTensorFromDataId(r.dataId,r.shape,r.dtype)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&Xy(n[0])){var a=n.map((function(e){return Hk(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){var r=this.makeTensorInfo(e,t,n).dataId;return jE().makeTensorFromDataId(r,e,t,this)}},{key:"unpackTensor",value:function(e){var t=new FK(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new vK(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[IX(e.shape)].concat((0,_.Z)(NX(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[IX(t)].concat((0,_.Z)(NX(t))),i=new gK(a,n),o=[n],s=this.runWebGLProgram(i,[r],e.dtype,o,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),r=n.isPacked,a=n.shape,i=n.dtype;null!=t&&Iy(Dy(a)<=t[0]*t[1]*4,(function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."}));var o,s=RX(a);o=r?new cY(s):new uY(s);var l=[null!=t?t:hX(s)];return{dtype:i,shape:a,dataId:this.runWebGLProgram(o,[{shape:s,dtype:i,dataId:e}],i,l,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var a=this,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0,s=this.makeTensorInfo(e.outputShape,n),l=this.texData.get(s.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===iX.DENSE){var u=null!=o?o:hX(e.outputShape);l.texShape=u.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(l.usage=e.outTexUsage),0===Dy(s.shape))return l.values=Zy(s.dtype,0),s;var c=[],d=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&Dy(t.shape)<=hb().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(a.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),c.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!DX(n.shape,t.shape)){var r=t,i=t.shape;t.shape=n.shape,t=a.packedReshape(t,i),c.push(t),n=a.texData.get(t.dataId),r.shape=i}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);var h,f={shape:s.shape,texData:l,isUniform:!1},p=function(e,t,n){var r="";t.concat(n).forEach((function(t){var a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var i=t.texData.texShape,o=aY(e.packedInputs,t.shape,i),s=o.useSqueezeShape,l=o.uniformShape,u=o.keptDims,c="",d="",h="";if(1===l.length&&e.packedInputs){var f=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];c="".concat(f[0]>1,"_").concat(f[1]>1)}else if(2!==l.length||e.packedInputs){if(l.length>2&&!e.packedInputs){var p=Qy(l);h="".concat(p[0]===i[1],"_").concat(p[p.length-1]===i[1])}}else d="".concat(l[0]>1,"_").concat(l[1]>1);var m=t.shape.length,v=2===l.length&&Py(t.shape,i),g=1===Dy(t.shape),y=xE(t.shape,n.shape),b=!e.packedInputs&&m===n.shape.length&&Py(i,n.texData.texShape),x=e.packedInputs||l.length>2?"":"".concat(i[0]>1,"_").concat(i[1]>1);r+="".concat(m,"_").concat(b,"_").concat(s?u:"","_").concat(l.length,"_").concat(g,"_").concat(y,"_").concat(v,"_").concat(c,"_").concat(d,"_").concat(h,"_").concat(x,"_").concat(a)}else{var w=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(w,"_").concat(a)}}));var a=e.userCode,i=e.constructor.name;return i+"_"+r+"_"+a+"".concat(hb().getNumber("WEBGL_VERSION"))}(e,d,f),m=this.getAndSaveBinary(p,(function(){return function(e,t,n,r){var a=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),i=a.map((function(e){return e.shapeInfo})),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=XX(a,o,t),l=yX(e.gl,s),u=e.createProgram(l),c=null,d=e.getUniformLocation(u,"NAN",!1);1===hb().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(u,"INFINITY",!1));for(var h,f,p,m=!1,v={},g={},y={},b=0;b<t.variableNames.length;b++){var x=t.variableNames[b];v[x]=e.getUniformLocation(u,x,m),v["offset".concat(x)]=e.getUniformLocation(u,"offset".concat(x),m),t.enableShapeUniforms&&(g["".concat(x,"Shape")]=e.getUniformLocation(u,"".concat(x,"Shape"),m),y["".concat(x,"TexShape")]=e.getUniformLocation(u,"".concat(x,"TexShape"),m))}t.enableShapeUniforms&&(h=e.getUniformLocation(u,"outShape",m),p=e.getUniformLocation(u,"outShapeStrides",m),f=e.getUniformLocation(u,"outTexShape",m));var w=[];return t.customUniforms&&t.customUniforms.forEach((function(t,n){w[n]=e.getUniformLocation(u,t.name,m)})),{program:t,fragmentShader:l,source:s,webGLProgram:u,uniformLocations:v,customUniformLocations:w,inShapeInfos:i,outShapeInfo:o,infLoc:c,nanLoc:d,inShapesLocations:g,inTexShapesLocations:y,outShapeLocation:h,outShapeStridesLocation:p,outTexShapeLocation:f}}(a.gpgpu,e,d,f)})),v=null!=this.activeTimers;v&&(h=this.startTimer()),function(e,t,n,r,a){t.program.enableShapeUniforms||(sY(t.inShapeInfos,n),sY([t.outShapeInfo],[r]));var i=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,o[0],o[1]):e.setOutputMatrixTexture(i.texture,o[0],o[1]),e.setProgram(t.webGLProgram),1===hb().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var a=t.program.variableNames[r],i=t.uniformLocations[a],o=t.uniformLocations["offset".concat(a)],s=t.inShapesLocations["".concat(a,"Shape")],l=t.inTexShapesLocations["".concat(a,"TexShape")];if(s){var u=aY(t.program.packedInputs,n.shape,n.texData.texShape).uniformShape;switch(u.length){case 1:e.gl.uniform1iv(s,new Int32Array(u));break;case 2:e.gl.uniform2iv(s,new Int32Array(u));break;case 3:e.gl.uniform3iv(s,new Int32Array(u));break;case 4:e.gl.uniform4iv(s,new Int32Array(u))}}if(l&&e.gl.uniform2i(l,n.texData.texShape[0],n.texData.texShape[1]),null!=i)if(n.isUniform)if(Dy(n.shape)<2)e.gl.uniform1f(i,n.uniformValues[0]);else{var c=n.uniformValues;c instanceof Float32Array||(c=new Float32Array(c)),e.gl.uniform1fv(i,c)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,i,r)}));var s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var l=Qy(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(l));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(l));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(l))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a&&t.program.customUniforms.forEach((function(n,r){var i=t.customUniformLocations[r],o=a[r];if("float"===n.type)e.gl.uniform1fv(i,o);else if("vec2"===n.type)e.gl.uniform2fv(i,o);else if("vec3"===n.type)e.gl.uniform3fv(i,o);else if("vec4"===n.type)e.gl.uniform4fv(i,o);else if("int"===n.type)e.gl.uniform1iv(i,o);else if("ivec2"===n.type)e.gl.uniform2iv(i,o);else if("ivec3"===n.type)e.gl.uniform3iv(i,o);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(i,o)}})),e.executeProgram()}(this.gpgpu,m,d,f,r),c.forEach((function(e){return a.disposeIntermediateTensorInfo(e)})),v&&(h=this.endTimer(h),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(h)}));var g=hb().get("WEBGL_FLUSH_THRESHOLD");if(g>0){var y=Vk();y-this.lastGlFlushTime>g&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=y)}if(!hb().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&!1===i){var b=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),b}return s}},{key:"compileAndRun",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return n=n||t[0].dtype,this.runWebGLProgram(e,t,n,r,a)}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!hb().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=BE((function(){if(!hb().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=hb().getBool("DEBUG");hb().set("DEBUG",!1);var n=e.abs(HE(1e-8)).dataSync()[0];if(hb().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.values,i=t.texture,o=t.usage,s=t.isPacked;if(null==i){var l,u=null!=this.activeTimers;u&&(l=Vk());var c=t.texShape;if(null==c&&(c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=hb().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,e=e.map((function(t,n){return n>=e.length-2?_y(e[n]):e[n]})),1===e.length&&(e=[2,e[0]])),2!==e.length){var r=Wy(e);e=r.newShape}var a=Dy(e);if(e.length<=1&&a<=n)return[1,a];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var i=IX(e),o=2,s=2;if(e.length){var l=NX(e),u=(0,Z.Z)(l,2);o=u[0],s=u[1]}return Fy(a=i*(o/2)*(s/2)).map((function(e){return 2*e}))}return Fy(a)}(n,s),t.texShape=c),null!=a){var d,h=RX(n),f=c[1],p=c[0],m=a instanceof Uint8Array||a instanceof Uint8ClampedArray;if(s||!m){var v=fX(c[0],c[1]),g=(0,Z.Z)(v,2);f=g[0],p=g[1]}d=s?new pY(h,m):new fY(h,m);var y=m?[p,f]:c,b=this.makeTensorInfo(y,r),x=this.texData.get(b.dataId);x.usage=m?oX.PIXELS:oX.UPLOAD,x.texShape=y,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(b.dataId),f,p,a);var w=[[p,f]],k=this.runWebGLProgram(d,[b],r,w,!0),S=this.texData.get(k.dataId);t.texture=S.texture,t.texShape=S.texShape,t.isPacked=S.isPacked,t.usage=S.usage,this.disposeIntermediateTensorInfo(b),this.texData.delete(k.dataId),t.values=null,u&&(this.uploadWaitMs+=Vk()-l)}else{var T=this.acquireTexture(c,o,r,s);t.texture=T}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*qy(t)}}]),n}(Sy);UK.nextDataId=0;AS()&&ZE("webgl",(function(){return new UK}),2);var WK="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n",ZK=N((function e(t,n,r){M(this,e),this.variableNames=["A","B"],this.outputShape=kE(n,r),this.enableShapeUniforms=lY(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")})),VK="\n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n",HK=N((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];M(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=kE(n,r);var i=this.outputShape.length;this.enableShapeUniforms=lY(i);var o="";if(a)if(0===i||1===Dy(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var s=rY(i);if(o="\n          ".concat(s," coords = getOutputCoords();\n        "),1===i)this.enableShapeUniforms?o+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":o+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var l=mK("coords",i);this.enableShapeUniforms?o+="\n            bool nextRowOutOfBounds =\n              (".concat(l[i-2]," + 1) >= outShape[").concat(i," - 2];\n            bool nextColOutOfBounds =\n              (").concat(l[i-1]," + 1) >= outShape[").concat(i," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):o+="\n            bool nextRowOutOfBounds =\n              (".concat(l[i-2]," + 1) >= ").concat(this.outputShape[i-2],";\n            bool nextColOutOfBounds =\n              (").concat(l[i-1]," + 1) >= ").concat(this.outputShape[i-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(o,"\n\n        setOutput(result);\n      }\n    ")}));function GK(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var qK={kernelName:Ax,backendName:"webgl",kernelFunc:GK};function XK(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),s=GK({inputs:{x:r},backend:n}),l=GK({inputs:{x:a},backend:n});return o.complexTensorInfos={real:s,imag:l},i}var YK={kernelName:Wb,backendName:"webgl",kernelFunc:XK},KK="return (a < 0.) ? b * a : a;",JK="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var $K={kernelName:Px,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.alpha,o=n.makeTensorInfo([],"float32",Wk(i,"float32")),s=hb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new HK(JK,a.shape,o.shape):new ZK(KK,a.shape,o.shape),l=n.runWebGLProgram(s,[a,o],"float32");return n.disposeIntermediateTensorInfo(o),l}},QK="return (a < 0.) ? b * a : a;",eJ="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var tJ={kernelName:vw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha,i=hb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new HK(eJ,r.shape,a.shape):new ZK(QK,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],"float32")}},nJ="if (isnan(x)) return x;";function rJ(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,a=e.dtype;return function(e){var i,o=e.inputs,s=e.backend,l=o.x,u=s,c=a||l.dtype;if(u.shouldExecuteOnCPU([l])&&null!=r){var d=u.texData.get(l.dataId),h=r(d.values,c);return u.makeTensorInfo(l.shape,c,h)}return i=hb().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new LK(l.shape,n):new kK(l.shape,t),u.runWebGLProgram(i,[l],c)}}function aJ(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,a=void 0!==r&&r,i=e.supportsComplex,o=void 0!==i&&i,s=e.cpuKernelImpl,l=e.dtype;return function(e){var r=e.inputs,i=e.backend,u=r.a,c=r.b,d=i;if(o&&"complex64"===u.dtype){var h=d.texData.get(u.dataId),f=d.texData.get(c.dataId),p=[[h.complexTensorInfos.real,f.complexTensorInfos.real],[h.complexTensorInfos.imag,f.complexTensorInfos.imag]].map((function(e){var n=(0,Z.Z)(e,2),r=n[0],a=n[1],i={dataId:r.dataId,dtype:r.dtype,shape:u.shape},o={dataId:a.dataId,dtype:a.dtype,shape:c.shape},s=new ZK(t,u.shape,c.shape);return d.runWebGLProgram(s,[i,o],mS(r.dtype,a.dtype))})),m=(0,Z.Z)(p,2),v=m[0],g=m[1],y=XK({inputs:{real:v,imag:g},backend:d});return d.disposeIntermediateTensorInfo(v),d.disposeIntermediateTensorInfo(g),y}var b,x=l||mS(u.dtype,c.dtype);if(("string"===u.dtype||"string"===c.dtype||d.shouldExecuteOnCPU([u,c]))&&null!=s){var w=d.texData.get(u.dataId).values,k=d.texData.get(c.dataId).values,S="string"===u.dtype?cR(w):w,T="string"===u.dtype?cR(k):k,E=s(u.shape,c.shape,S,T,x),C=(0,Z.Z)(E,2),_=C[0],M=C[1],A=d.makeTensorInfo(M,x);return d.texData.get(A.dataId).values=_,A}return b=hb().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new HK(n,u.shape,c.shape,a):new ZK(t,u.shape,c.shape),d.runWebGLProgram(b,[u,c],x)}}function iJ(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?NK:TK;if("relu"===e)return t?OK:_K;if("elu"===e)return t?RK:CK;if("relu6"===e)return t?DK:MK;if("prelu"===e)return t?eJ:QK;if("leakyrelu"===e)return t?JK:KK;if("sigmoid"===e)return t?PK:IK;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var oJ=N((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=arguments.length>8&&void 0!==arguments[8]&&arguments[8];M(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=lY(this.outputShape.length);var c=a?t[1]:t[2],d=Math.ceil(c/2),h=a?"i * 2, rc.y":"rc.y, i * 2",f=i?"rc.z, i * 2":"i * 2, rc.z",p=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],v="",g="";s&&(v=l?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(s,"\n        }"):u?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(s,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(s,"\n        }"),g="result = activation(result);");var y=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");var b="rc.x",x="rc.x";t[0]<n[0]?b="int(min(float(rc.x), ".concat(t[0]-1,".))"):n[0]<t[0]&&(x="int(min(float(rc.x), ".concat(n[0]-1,".))")),this.userCode="\n      ".concat(v,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(d,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(d,"; i++) {\n          int batchA = ").concat(b,";\n          int batchB = ").concat(x,";\n          vec4 a = getMatrixA(batchA, ").concat(h,");\n          vec4 b = getMatrixB(batchB, ").concat(f,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(p[0]," * ").concat(m[0],");\n          result += (").concat(p[1]," * ").concat(m[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(y,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")})),sJ={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"},lJ=N((function e(t,n,r){M(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=kE(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")})),uJ="return a * b;";function cJ(e){var t,n=e.inputs,r=e.backend,a=n.a,i=n.b,o=mS(a.dtype,i.dtype);if("complex64"===a.dtype){var s=r.texData.get(a.dataId),l=r.texData.get(i.dataId),u=new lJ(sJ.REAL,a.shape,i.shape),c=new lJ(sJ.IMAG,a.shape,i.shape),d=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:a.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:i.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:i.shape}],h=r.runWebGLProgram(u,d,"float32"),f=r.runWebGLProgram(c,d,"float32"),p=XK({inputs:{real:h,imag:f},backend:r});return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(f),p}if(r.shouldExecuteOnCPU([a,i])){var m=r.texData.get(a.dataId),v=r.texData.get(i.dataId),g=GY(a.shape,i.shape,m.values,v.values,o),y=(0,Z.Z)(g,2),b=y[0],x=y[1],w=r.makeTensorInfo(x,o);return r.texData.get(w.dataId).values=b,w}return t=hb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new HK(uJ,a.shape,i.shape):new ZK(uJ,a.shape,i.shape),r.runWebGLProgram(t,[a,i],o)}var dJ={kernelName:iw,backendName:"webgl",kernelFunc:cJ};function hJ(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.shape,o=n,s=Dy(a.shape),l=By(i,s),u=Dy(l);Iy(s===u,(function(){return"The new shape (".concat(l,") has ").concat(u," elements and the old ")+"shape (".concat(a.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."}));var c=o.texData.get(a.dataId);return!c.isPacked||DX(a.shape,l)||null!==c.texture&&DX(c.shape,l)?(o.incRef(a.dataId),{dataId:a.dataId,shape:l,dtype:a.dtype}):function(e,t,n){var r=[IX(e.shape)].concat((0,_.Z)(NX(e.shape))),a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[IX(t)].concat((0,_.Z)(NX(t))),o=new gK(i,r),s=[r],l=n.runWebGLProgram(o,[a],e.dtype,s,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(a,l,o)}var fJ={kernelName:kw,backendName:"webgl",kernelFunc:hJ},pJ=N((function e(t,n){M(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.outSize;this.outputShape=[a,o];var s=4*Math.floor(r/4),l=r%4,u="sumValue += dot(values, ones);";if(null!=n){var c=1/n;u="sumValue += dot(values * ".concat(Ly(c)?c.toPrecision(2):c,", ones);")}var d="";i%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(u,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===l,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(u,"\n        } else if (").concat(2===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(u,"\n        } else if (").concat(3===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(u,"\n        }\n        setOutput(sumValue);\n      }\n    ")})),mJ=N((function e(t,n){M(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.outSize;this.outputShape=[a,o];var s="0.0",l="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",l="min"):"max"===n&&(s="-1.0 / 1e-20",l="max");var u="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?u="sumValue":"prod"===n?u="prodValue":"all"===n?u="allValue":"any"===n&&(u="anyValue");var c=4*Math.floor(r/4),d=r%4,h="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(l,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(l,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),f="vec4";"all"===n?(s="1.0",h="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",f="bvec4"):"any"===n&&(s="0.0",h="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",f="bvec4");var p="";i%r>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(s,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(s,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(c,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(h,"\n        }\n\n        int inIdx = inOffset + ").concat(c,";\n        if (").concat(1===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(h,"\n        } else if (").concat(2===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(h,"\n        } else if (").concat(3===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(h,"\n        }\n        setOutput(").concat(u,");\n      }\n    ")}));function vJ(e,t,n,r){for(var a=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=_N(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),i=e,o=0;o<a.length;o++){var s,l=a[o],u=l.inSize,c=l.windowSize,d=l.outSize,h=void 0;h="mean"===n?0===o?new pJ({windowSize:c,inSize:u,batchSize:e.shape[0],outSize:d},u):new pJ({windowSize:c,inSize:u,batchSize:e.shape[0],outSize:d}):new mJ({windowSize:c,inSize:u,batchSize:e.shape[0],outSize:d},n),s=i,i=r.runWebGLProgram(h,[i],t),s.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(s)}return i}var gJ=N((function e(t,n){M(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.rank=r.length;var i=rY(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(i," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")}));var yJ=N((function e(t,n){M(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var i=rY(this.rank),o=pK("rc",this.rank),s=new Array(this.rank),l=0;l<n.length;l++)s[n[l]]=o[l];var u="vec2(".concat(s.slice(-2).join(),")"),c="++".concat(o[this.rank-1]," < ").concat(r[this.rank-1]),d="getChannel(getA(".concat(s.join(),"), ").concat(u,")");this.userCode="\n    void main() {\n      ".concat(i," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(d,";\n      if(").concat(c,") {\n        result[1] = ").concat(d,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(d,";\n        if(").concat(c,") {\n          result[3] = ").concat(d,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}));function bJ(e,t,n){var r=hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new yJ(e.shape,t):new gJ(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function xJ(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var a=t,i=e.shape.length,o=Uy(a,e.shape),s=o,l=X_(s,i),u=null!=l,c=e;u&&(c=bJ(e,l,r),s=K_(s.length,i)),q_("sum",s,i);var d=H_(c.shape,s),h=(0,Z.Z)(d,2),f=h[0],p=h[1],m=f;n&&(m=G_(f,o));var v=Dy(p),g=hJ({inputs:{x:c},attrs:{shape:[Dy(e.shape)/v,v]},backend:r}),y=vJ(g,vS(e.dtype),"sum",r),b=hJ({inputs:{x:y},attrs:{shape:m},backend:r});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(y),u&&r.disposeIntermediateTensorInfo(c),b}(t.x,r.axis,r.keepDims,n)}var wJ={kernelName:Uw,backendName:"webgl",kernelFunc:xJ};function kJ(e){for(var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.perm,s=r,l=i.shape.length,u=new Array(l),c=0;c<u.length;c++)u[c]=i.shape[o[c]];if(s.shouldExecuteOnCPU([i])){var d=s.texData.get(i.dataId).values,h=hK(d,i.shape,i.dtype,o,u);t=s.makeTensorInfo(u,i.dtype),s.texData.get(t.dataId).values=h}else t=bJ(i,o,s);return t}var SJ={kernelName:lk,backendName:"webgl",kernelFunc:kJ},TJ=1e3;function EJ(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,i=e.backend,o=e.bias,s=void 0===o?null:o,l=e.preluActivationWeights,u=void 0===l?null:l,c=e.leakyreluAlpha,d=void 0===c?0:c,h=e.activation,f=void 0===h?null:h,p=t.shape.length,m=n.shape.length,v=r?t.shape[p-2]:t.shape[p-1],g=a?n.shape[m-1]:n.shape[m-2],y=r?t.shape[p-1]:t.shape[p-2],b=a?n.shape[m-2]:n.shape[m-1],x=t.shape.slice(0,-2),w=n.shape.slice(0,-2),k=Dy(x),S=Dy(w),T=kE(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([y,b]);Iy(v===g,(function(){return"Error in matMul: inner shapes (".concat(v,") and (")+"".concat(g,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match.")}));var E,C=r?[k,v,y]:[k,y,v],_=a?[S,b,g]:[S,g,b],M=hJ({inputs:{x:t},backend:i,attrs:{shape:C}}),A=hJ({inputs:{x:n},backend:i,attrs:{shape:_}}),I=[M,A],N=Math.max(k,S),R=r?M.shape[1]:M.shape[2],O=null!=s,D=null!=u,P="leakyrelu"===f,L=null!=f?iJ(f,!0):null;if((1===y||1===b)&&R>TJ&&!1===(O||D||P||null!=L)){var F=M,j=A;r&&(F=kJ({inputs:{x:M},backend:i,attrs:{perm:[0,2,1]}}),I.push(F)),a&&(j=kJ({inputs:{x:A},backend:i,attrs:{perm:[0,2,1]}}),I.push(j));var z=1===b,B=F;1!==b&&(B=hJ({inputs:{x:F},backend:i,attrs:{shape:[N,R,1]}}),I.push(B));var U=1===b?2:1,W=j;z&&(W=hJ({inputs:{x:j},backend:i,attrs:{shape:[N,1,R]}}),I.push(W));var Z=cJ({inputs:{a:B,b:W},backend:i});E=xJ({inputs:{x:Z},backend:i,attrs:{axis:U,keepDims:!0}}),I.push(Z)}else{var V=mS(t.dtype,n.dtype),H=new oJ(C,_,[N,y,b],r,a,O,L,D,P),G=[M,A];if(null!=s&&G.push(s),D&&G.push(u),P){var q=i.makeTensorInfo([],"float32",Wk(d,"float32"));G.push(q),I.push(q)}E=i.runWebGLProgram(H,G,V)}var X=hJ({inputs:{x:E},backend:i,attrs:{shape:T}});I.push(E);for(var Y=0,K=I;Y<K.length;Y++){var J=K[Y];i.disposeIntermediateTensorInfo(J)}return X}var CJ={kernelName:vk,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,o=t.bias,s=t.preluActivationWeights,l=r.transposeA,u=r.transposeB,c=r.activation;return EJ({a:a,b:i,transposeA:l,transposeB:u,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:c})}},_J="return abs(x);";var MJ={kernelName:gb,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){var i=r.texData.get(a.dataId),o=QY(i.values);return r.makeTensorInfo(a.shape,a.dtype,o)}return t=hb().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new LK(a.shape,_J):new kK(a.shape,_J),r.runWebGLProgram(t,[a],a.dtype)}},AJ=rJ({opSnippet:SK+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),IJ={kernelName:yb,backendName:"webgl",kernelFunc:AJ},NJ=rJ({opSnippet:SK+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),RJ={kernelName:bb,backendName:"webgl",kernelFunc:NJ},OJ="return a + b;",DJ=aJ({opSnippet:OJ,packedOpSnippet:OJ,supportsComplex:!0,cpuKernelImpl:CY}),PJ={kernelName:xb,backendName:"webgl",kernelFunc:DJ},LJ=N((function e(t,n){M(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")})),FJ=N((function e(t,n){M(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")}));var jJ={kernelName:wb,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n;if(1===a.length)return GK({inputs:{x:a[0]},backend:r});if(a.length>hb().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(a.length/2),o=e({inputs:a.slice(0,i),backend:r}),s=e({inputs:a.slice(i),backend:r});return e({inputs:[o,s],backend:r})}var l=a.map((function(e){return e.dtype})).reduce((function(e,t){return mS(e,t)})),u=a.map((function(e){return e.shape})),c=hb().getBool("WEBGL_PACK")?new FJ(a[0].shape,u):new LJ(a[0].shape,u);return r.runWebGLProgram(c,a,l)}};var zJ={kernelName:kb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims,s=a.shape.length,l=Uy(i,a.shape),u=l,c=X_(u,s),d=a;null!=c&&(d=kJ({inputs:{x:a},backend:n,attrs:{perm:c}}),u=K_(u.length,s)),q_("all",u,s);var h,f=H_(d.shape,u),p=(0,Z.Z)(f,2),m=p[0],v=hJ({inputs:{x:d},backend:n,attrs:{shape:[-1,Dy(p[1])]}}),g=vJ(v,v.dtype,"all",n);return h=hJ(o?{inputs:{x:g},backend:n,attrs:{shape:G_(m,l)}}:{inputs:{x:g},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),null!=c&&n.disposeIntermediateTensorInfo(d),h}};var BJ={kernelName:Sb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims,s=a.shape.length,l=Uy(i,a.shape),u=l,c=X_(u,s),d=a;null!=c&&(d=kJ({inputs:{x:a},backend:n,attrs:{perm:c}}),u=K_(u.length,s)),q_("any",u,s);var h,f=H_(d.shape,u),p=(0,Z.Z)(f,2),m=p[0],v=hJ({inputs:{x:d},backend:n,attrs:{shape:[-1,Dy(p[1])]}}),g=vJ(v,v.dtype,"any",n);return h=hJ(o?{inputs:{x:g},backend:n,attrs:{shape:G_(m,l)}}:{inputs:{x:g},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),null!=c&&n.disposeIntermediateTensorInfo(d),h}},UJ=N((function e(t,n,r){M(this,e),this.variableNames=["A"];var a=t.windowSize,i=t.batchSize,o=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===n?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(l,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(s," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")})),WJ=N((function e(t,n,r,a){M(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Iy(t.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var i=t[t.length-1],o=Math.ceil(i/n);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),a||this.variableNames.push("bestIndicesA");var s,l,u=this.outputShape,c=u.length,d=rY(c),h=mK("coords",c);if(1===o){var f=rY(l=c+1);s="\n        ".concat(f," sourceLocR = ").concat(f,"(").concat(h.join(),", 0);\n        ++").concat(h[c-1],";\n        ").concat(f," sourceLocG = ").concat(f,"(").concat(h.join(),", 0);\n        ++").concat(h[c-2],";\n        ").concat(f," sourceLocA = ").concat(f,"(").concat(h.join(),", 0);\n        --").concat(h[c-1],";\n        ").concat(f," sourceLocB = ").concat(f,"(").concat(h.join(),", 0);\n        --").concat(h[c-2],";")}else l=c,s="\n        ".concat(d," sourceLocR = coords;\n        ++").concat(h[c-1],";\n        ").concat(d," sourceLocG = coords;\n        ++").concat(h[c-2],";\n        ").concat(d," sourceLocA = coords;\n        --").concat(h[c-1],";\n        ").concat(d," sourceLocB = coords;\n        --").concat(h[c-2],";");var p=["x","y","z","w","u","v"].slice(0,l),m="."+p[l-1],v=p.map((function(e){return"int "+e})),g=mK("sourceLocR",l-1).concat("inIdx.r"),y=mK("sourceLocG",l-1).concat("inIdx.g"),b=mK("sourceLocB",l-1).concat("inIdx.b"),x=mK("sourceLocA",l-1).concat("inIdx.a"),w="max"===r?"greaterThan":"lessThan",k=a?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),")));"),S="vec4(\n            getAChannel(".concat(g.join(),"),\n            hasNextCol ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(b.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(x.join(),") : 0.)"),T=a?"":"\n      float getBestIndicesAChannel(".concat(v.join(),") {\n        return getChannel(getBestIndicesA(").concat(p.join(),"),\n                                          vec2(").concat(p.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(v.join(),") {\n        return getChannel(getA(").concat(p.join(),"),\n                               vec2(").concat(p.slice(-2).join(),"));\n      }\n      ").concat(T,"\n      void main() {\n        ").concat(d," coords = getOutputCoords();\n        bool hasNextCol = ").concat(h[c-1]," < ").concat(u[c-1]-1,";\n        bool hasNextRow = ").concat(h[c-2]," < ").concat(u[c-2]-1,";\n        ").concat(s,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(m,", sourceLocG").concat(m,",\n          sourceLocB").concat(m,", sourceLocA").concat(m,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(S,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(k,"\n          vec4 candidate = ").concat(S,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(w,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}));function ZJ(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.shape[0],i=t.shape[1];null!=r&&(a=r.shape[0],i=r.shape[1]);var o=_N(i),s={windowSize:o,inSize:i,batchSize:a,outSize:Math.ceil(i/o)},l=new UJ(s,n,null==r),u=[t];null!=r&&u.push(r);var c=e.runWebGLProgram(l,u,"int32");if(1===c.shape[1])return c;var d=ZJ(e,t,n,c);return e.disposeIntermediateTensorInfo(c),d}function VJ(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null!=r?r.shape:t.shape,i=_N(a[a.length-1]),o=new WJ(a,i,n,null==r),s=null==r?[t]:[t,r],l=e.runWebGLProgram(o,s,"int32");if(l.shape.length===t.shape.length){var u=VJ(e,t,n,l);return e.disposeIntermediateTensorInfo(l),u}return l}function HJ(e,t,n,r){var a=[n];if(q_("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!hb().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var i=[],o=e.texData.get(t.dataId),s=t;null!==o&&o.isPacked&&(s=e.unpackTensor(t),i.push(s));var l=H_(s.shape,a),u=(0,Z.Z)(l,2),c=u[0],d=Dy(u[1]),h=hJ({inputs:{x:s},backend:e,attrs:{shape:[-1,d]}});i.push(h);var f=ZJ(e,h,r);i.push(f);var p=hJ({inputs:{x:f},backend:e,attrs:{shape:c}});return i.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),p}return VJ(e,t,r)}var GJ={kernelName:Tb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=Uy(r.axis,a.shape),o=X_(i,a.shape.length),s=a,l=[];null!=o&&(s=kJ({inputs:{x:a},backend:n,attrs:{perm:o}}),l.push(s),i=K_(i.length,s.shape.length)),q_("argMax",[i[0]],s.shape.length);var u=HJ(n,s,i[0],"max");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}};var qJ={kernelName:Eb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=Uy(r.axis,a.shape),o=X_(i,a.shape.length),s=a,l=[];null!=o&&(s=kJ({inputs:{x:a},backend:n,attrs:{perm:o}}),l.push(s),i=K_(i.length,s.shape.length)),q_("argMin",[i[0]],s.shape.length);var u=HJ(n,s,i[0],"min");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}},XJ=rJ({opSnippet:SK+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),YJ={kernelName:Cb,backendName:"webgl",kernelFunc:XJ},KJ=rJ({opSnippet:SK+"return log(x + sqrt(x * x + 1.0));"}),JJ={kernelName:_b,backendName:"webgl",kernelFunc:KJ},$J=rJ({opSnippet:SK+"\n  return atan(x);\n"}),QJ={kernelName:Mb,backendName:"webgl",kernelFunc:$J},e$=aJ({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),t$={kernelName:Ib,backendName:"webgl",kernelFunc:e$},n$=rJ({opSnippet:SK+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),r$={kernelName:Ab,backendName:"webgl",kernelFunc:n$},a$=N((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(M(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideHeight,l=t.strideWidth,u=t.dilationHeight,c=t.dilationWidth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,f=t.padInfo.top,p=t.padInfo.left;this.outputShape=t.outShape;var m="avg"===n,v="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),g="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),y="0.0";if(m||(y="-1.0 / 1e-20"),r){this.userCode="\n        const ivec2 strides = ivec2(".concat(s,", ").concat(l,");\n        const ivec2 pads = ivec2(").concat(f,", ").concat(p,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(u,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(c,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(">="," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?i?v:g:"wR * ".concat(h," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var b="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(b="avgValue / count");var x=4*Math.floor(o/4),w=o%4,k="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(s,", ").concat(l,");\n      const ivec2 pads = ivec2(").concat(f,", ").concat(p,");\n      const float initializationValue = ").concat(y,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(y,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(d,";\n            wR += ").concat(u,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(x,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(c,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              getValue(batch, xR, xC + 3 * ").concat(c,", d)\n            );\n\n            ").concat(k,"\n          }\n\n          int xC = xCCorner + ").concat(x,";\n          if (").concat(1===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(k,"\n          } else if (").concat(2===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(k,"\n          } else if (").concat(3===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              initializationValue\n            );\n\n            ").concat(k,"\n          }\n        }\n        setOutput(").concat(b,");\n      }\n    ")}})),i$=N((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(M(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideDepth,l=t.strideHeight,u=t.strideWidth,c=t.dilationDepth,d=t.dilationHeight,h=t.dilationWidth,f=t.effectiveFilterDepth,p=t.effectiveFilterHeight,m=t.effectiveFilterWidth,v=t.padInfo.front,g=t.padInfo.top,y=t.padInfo.left;this.outputShape=t.outShape;var b="avg"===n,x="0.0";if(b||(x="-1.0 / 1e-20"),r){this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(s,", ").concat(l,", ").concat(u,");\n        const ivec3 pads = ivec3(").concat(v,", ").concat(g,", ").concat(y,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(f,";\n              wD += ").concat(c,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(p,";\n                wR += ").concat(d,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(h,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(">="," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?i?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(p," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var w="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(w="avgValue / count");var k=4*Math.floor(o/4),S=o%4,T="\n      if (".concat(b,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(s,", ").concat(l,", ").concat(u,");\n      const ivec3 pads = ivec3(").concat(v,", ").concat(g,", ").concat(y,");\n      const float initializationValue = ").concat(x,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(x,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(f,";\n            wD += ").concat(c,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,";\n            wR += ").concat(d,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(k,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(h,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(h,", ch)\n              );\n\n              ").concat(T,"\n            }\n\n            int xC = xCCorner + ").concat(k,";\n            if (").concat(1===S,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(2===S,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(3===S,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(h,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(h,", ch),\n                initializationValue\n              );\n\n              ").concat(T,"\n            }\n          }\n          setOutput(").concat(w,");\n        }\n      }\n    ")}}));var o$={kernelName:Nb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;zX(a,"avgPool");var i=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode;Iy(yC(o,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var u=lC(a.shape,i,o,1,s,l);if(1===u.filterWidth&&1===u.filterHeight&&Py(u.inShape,u.outShape))return GK({inputs:{x:a},backend:n});var c=new a$(u,"avg",!1);return n.runWebGLProgram(c,[a],"float32")}};var s$={kernelName:Ob,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode,u=r.dataFormat,c=uC(a.shape,i,o,[1,1,1],s,l,u),d=new i$(c,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}},l$=N((function e(t){M(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,s=t.dilationWidth,l=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=l-1-t.padInfo.top,d=u-1-t.padInfo.left,h=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(c,", ").concat(d,");\n      const float avgMultiplier = float(").concat(h,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(l,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(u,";\n            wC+= ").concat(s,") {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),u$=N((function e(t){M(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,l=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,d=t.effectiveFilterDepth,h=t.effectiveFilterHeight,f=t.effectiveFilterWidth,p=d-1-t.padInfo.front,m=h-1-t.padInfo.top,v=f-1-t.padInfo.left,g=1/(n*r*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(p,", ").concat(m,", ").concat(v,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(l,") {\n          float dyD = float(dyDCorner + wD) / ").concat(i,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(h,";\n              wR += ").concat(u,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(f,";\n                wC += ").concat(c,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var c$={kernelName:Db,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=r.filterSize,s=r.strides,l=r.pad,u=r.dimRoundingMode,c=uC(i.shape,o,s,[1,1,1],l,u),d=new u$(c);return n.runWebGLProgram(d,[a],i.dtype)}};var d$={kernelName:Rb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=i;zX([a,i],"avgPoolGrad");var s=r.filterSize,l=r.strides,u=r.pad,c=lC(o.shape,s,l,1,u),d=new l$(c);return n.runWebGLProgram(d,[a],o.dtype)}};var h$={kernelName:Pb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return EJ({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},f$=N((function e(t,n,r,a,i,o){M(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],kE(t,n),kE(t,r);var s="0.0";null!=a&&(kE(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var l="1.0";null!=i&&(kE(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(s,";\n        float scale = ").concat(l,";\n        float inv = scale * inversesqrt(variance + float(").concat(o,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")})),p$=N((function e(t,n,r,a,i,o){M(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],kE(t,n),kE(t,r);var s="vec4(0.0)";null!=a&&(kE(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var l="vec4(1.0)";null!=i&&(kE(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(s,";\n        vec4 scale = ").concat(l,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(o,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")})),m$={kernelName:Tx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.mean,o=t.variance,s=t.offset,l=t.scale;Iy(i.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),Iy(null==s||i.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),Iy(null==l||i.shape.length===l.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var u=r.varianceEpsilon;null==u&&(u=.001);var c=[a,i,o],d=null;null!=s&&(d=s.shape,c.push(s));var h=null;null!=l&&(h=l.shape,c.push(l));var f=hb().getBool("WEBGL_PACK_NORMALIZATION")?new p$(a.shape,i.shape,o.shape,d,h,u):new f$(a.shape,i.shape,o.shape,d,h,u);return n.runWebGLProgram(f,c,c[0].dtype)}},v$=N((function e(t){M(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=rY(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,a=function(e){if(1===e)return"sourceLoc";if(e<=6)return g$.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),i=t.map((function(e,t){return"sourceLoc.".concat(g$[t]," = start[").concat(t,"] + coords.").concat(g$[t],";")}));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(i.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(a,"));\n      }\n    ")})),g$=["x","y","z","w","u","v"];var y$=N((function e(t){M(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=rY(this.rank),r=mK("coords",this.rank),a=mK("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),o="getChannel(getSource(".concat(a.join(),"), ").concat(i,")"),s="\n      result.x = ".concat(o,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(a[this.rank-1],";\n      }\n    "),l=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),u=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(a[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(u,"\n        vec4 result = vec4(0.);\n        ").concat(s,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")}));function b$(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=RE(a,r.begin,r.size),o=(0,Z.Z)(i,2),s=o[0],l=o[1];if(ME(a,s,l),0===Dy(l))return n.makeTensorInfo(l,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){var u=n.texData.get(a.dataId),c=eK(u.values,s,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,c)}var d=n.texData.get(a.dataId).isPacked,h=IE(a.shape,s,l);if(d||!h){var f=hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new y$(l):new v$(l),p=[s];return n.runWebGLProgram(f,[a],a.dtype,p)}return n.uploadToGPU(a.dataId),function(e,t,n,r){var a=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),o=r.texData.get(i.dataId);Object.assign(o,a),o.refCount=1,o.shape=n,o.dtype=e.dtype;var s=NE(t,Qy(e.shape));a.slice&&(s+=a.slice.flatOffset),o.slice={flatOffset:s,origDataId:a.slice&&a.slice.origDataId||e.dataId};var l=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,l+1),i}(a,s,l,n)}var x$={kernelName:Dw,backendName:"webgl",kernelFunc:b$},w$={kernelName:Lb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.crops;Iy(a.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),l=AN(a.shape,i,s),u=IN(l.length,i.length),c=NN(a.shape,i,s),d=RN(o,i.length),h=ON(c,o,i.length),f=[],p=hJ({inputs:{x:a},backend:n,attrs:{shape:l}}),m=kJ({inputs:{x:p},backend:n,attrs:{perm:u}}),v=hJ({inputs:{x:m},backend:n,attrs:{shape:c}}),g=b$({inputs:{x:v},backend:n,attrs:{begin:d,size:h}});return f.push(p),f.push(m),f.push(v),f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}};var k$={kernelName:Fb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=n.readSync(a.dataId),l=n.readSync(i.dataId),u=_Y(s,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}};var S$={kernelName:jb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,i=n.readSync(r.dataId),o=n.readSync(a.dataId),s=kE(Array.from(i),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},T$=aJ({opSnippet:"return float(a != b);",cpuKernelImpl:XY,dtype:"bool"}),E$={kernelName:sw,backendName:"webgl",kernelFunc:T$};function C$(e){var t=e.inputs,n=e.backend,r=t.input;return GK({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var _$={kernelName:bw,backendName:"webgl",kernelFunc:C$},M$="return float(int(x));";var A$={kernelName:zb,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=t.attrs,i=n.x,o=a.dtype;if("complex64"===o){if("complex64"===i.dtype)return GK({inputs:{x:i},backend:r});var s=sM(i.shape),l=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),u=XK({inputs:{real:l,imag:s},backend:r});return s.dispose(),r.disposeIntermediateTensorInfo(l),u}if("complex64"===i.dtype){var c=C$({inputs:{input:i},backend:r}),d=e({inputs:{x:c},backend:r,attrs:{dtype:o}});return r.disposeIntermediateTensorInfo(c),d}if(!Hy(i.dtype,o)){var h=GK({inputs:{x:i},backend:r});return{dataId:h.dataId,shape:h.shape,dtype:o}}if("int32"===o)return function(e,t){var n=new kK(e.shape,M$),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===o){var f=r.makeTensorInfo([],"bool",Zy("bool",1)),p=T$({inputs:{a:i,b:f},backend:r});return r.disposeIntermediateTensorInfo(f),p}throw new Error("Error in Cast: failed to cast ".concat(i.dtype," to ").concat(o))}},I$="return ceil(x);",N$=rJ({opSnippet:I$,packedOpSnippet:I$,cpuKernelImpl:AY}),R$={kernelName:Bb,backendName:"webgl",kernelFunc:N$},O$=N((function e(t){M(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "})),D$=N((function e(t){M(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}));var P$={kernelName:Ub,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.clipValueMin,s=a.clipValueMax;t=hb().getBool("WEBGL_PACK_CLIP")?new D$(i.shape):new O$(i.shape);var l=[[o],[s]];return r.runWebGLProgram(t,[i],i.dtype,l)}},L$=N((function e(t){M(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}));function F$(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var j$={kernelName:Zb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n.texData.get(r.dataId),i=new L$(r.shape),o=[F$(r,a.complexTensorInfos.real),F$(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}},z$=N((function e(t){M(this,e),this.outputShape=[],this.outputShape=EN(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var a=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],i=1;i<n.length;i++){var o=n[i-1];a.push("else if (yC < ".concat(n[i],") ")+"setOutput(getT".concat(i,"(yR, yC-").concat(o,"));"))}var s=n.length,l=n[n.length-1];a.push("else setOutput(getT".concat(s,"(yR, yC-").concat(l,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(a.join("\n        "),"\n      }\n    ")})),B$=N((function e(t,n){M(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=EN(t,n);var r=this.outputShape,a=r.length,i=rY(a),o=mK("coords",a),s=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var l=new Array(t.length-1);l[0]=t[0][n];for(var u=1;u<l.length;u++)l[u]=l[u-1]+t[u][n];for(var c=s[n],d=s.slice(-2),h=s.join(),f="if (".concat(c," < ").concat(l[0],") {\n        return getChannel(\n            getT0(").concat(h,"), vec2(").concat(d.join(),"));\n        }"),p=1;p<l.length;p++){var m=l[p-1];f+="\n        if (".concat(c," < ").concat(l[p],"  && ").concat(c," >= ").concat(l[p-1],") {\n          return getChannel(\n            getT").concat(p,"(").concat(U$(s,c,m),"),\n            vec2(").concat(U$(d,c,m),"));\n        }")}var v=l.length,g=l[l.length-1];f+="\n        return getChannel(\n          getT".concat(v,"(").concat(U$(s,c,g),"),\n          vec2(").concat(U$(d,c,g),"));"),this.userCode="\n      float getValue(".concat(s.map((function(e){return"int "+e})),") {\n        ").concat(f,"\n      }\n\n      void main() {\n        ").concat(i," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(o,"), 0., 0., 0.);\n\n        ").concat(o[a-1]," = ").concat(o[a-1]," + 1;\n        if (").concat(o[a-1]," < ").concat(r[a-1],") {\n          result.g = getValue(").concat(o,");\n        }\n\n        ").concat(o[a-2]," = ").concat(o[a-2]," + 1;\n        if (").concat(o[a-2]," < ").concat(r[a-2],") {\n          result.a = getValue(").concat(o,");\n        }\n\n        ").concat(o[a-1]," = ").concat(o[a-1]," - 1;\n        if (").concat(o[a-2]," < ").concat(r[a-2]," &&\n            ").concat(o[a-1]," < ").concat(r[a-1],") {\n          result.b = getValue(").concat(o,");\n        }\n        setOutput(result);\n      }\n    ")}));function U$(e,t,n){var r=e.indexOf(t),a=e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e}));return a.join()}function W$(e){var t=e.inputs,n=e.backend,r=t.input;return GK({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var Z$={kernelName:Nx,backendName:"webgl",kernelFunc:W$};function V$(e,t,n){var r=e[0].dtype;if("complex64"===r){var a=e.map((function(e){return C$({inputs:{input:e},backend:n})})),i=e.map((function(e){return W$({inputs:{input:e},backend:n})})),o=V$(a,t,n),s=V$(i,t,n),l=XK({inputs:{real:o,imag:s},backend:n});return a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}var u=n.shouldExecuteOnCPU(e);if("string"===r&&(u=!0),u){var c=e.map((function(e){var r=Dy(e.shape.slice(t));return hJ({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),d=c.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),h=EN(c.map((function(e){return e.shape})),1),f=1===c[0].shape[0],p=IY(d,h,r,f),m=EN(e.map((function(e){return e.shape})),t),v=n.makeTensorInfo(m,r,p);return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}if(e.length>hb().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var g=Math.floor(e.length/2),y=V$(e.slice(0,g),t,n),b=V$(e.slice(g),t,n),x=V$([y,b],t,n);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),x}if(hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var w=new B$(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(w,e,r)}var k=function(e,t,n){var r=EN(e.map((function(e){return e.shape})),t),a=e.map((function(e){return hJ({inputs:{x:e},attrs:{shape:[-1,Dy(e.shape.slice(t))]},backend:n})}));return{tensors2D:a,outShape:r}}(e,t,n),S=k.tensors2D,T=k.outShape,E=new z$(S.map((function(e){return e.shape}))),C=n.runWebGLProgram(E,S,r);S.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var _=hJ({inputs:{x:C},attrs:{shape:T},backend:n});return n.disposeIntermediateTensorInfo(C),_}function H$(e){var t=e.inputs,n=e.backend,r=Uy(e.attrs.axis,t[0].shape)[0],a=EN(t.map((function(e){return e.shape})),r);if(0===Dy(a))return n.makeTensorInfo(a,t[0].dtype,[]);var i=t.filter((function(e){return Dy(e.shape)>0}));if(1===i.length)return GK({inputs:{x:i[0]},backend:n});var o=i.map((function(e){return e.shape}));return TN(o,r),V$(i,r,n)}var G$={kernelName:Vb,backendName:"webgl",kernelFunc:H$},q$=N((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];M(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,s=t.padInfo.left,l=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,d=t.dilationWidth,h=t.filterHeight,f=t.filterWidth,p=4*Math.floor(t.inChannels/4),m=t.inChannels%4,v="channelsLast"===t.dataFormat,g=v?1:2,y=v?2:3,b=v?3:1,x="",w="";r&&(x=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),w="result = activation(result);");var k=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(x,"\n\n      const ivec2 strides = ivec2(").concat(l,", ").concat(u,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(b,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(y,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(h,"; wR++) {\n          int xR = xRCorner + wR * ").concat(c,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(f,"; wC++) {\n            int xC = xCCorner + wC * ").concat(d,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(v,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===m,") {\n\n              if (").concat(v,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(p,") *\n                    getW(wR, wC, ").concat(p,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(p,", xR, xC) *\n                    getW(wR, wC, ").concat(p,", d2);\n              }\n\n            } else if (").concat(2===m,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2)\n              );\n\n              if (").concat(v,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===m,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2),\n                getW(wR, wC, ").concat(p," + 2, d2)\n              );\n\n              if (").concat(v,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1),\n                  getX(batch, xR, xC, ").concat(p," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC),\n                  getX(batch, ").concat(p," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(k,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")})),X$=N((function e(t){M(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,l=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,d=t.filterDepth,h=t.filterHeight,f=t.filterWidth,p=4*Math.floor(t.inChannels/4),m=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(i,", ").concat(o,", ").concat(s,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(d,"; wF++) {\n          int xF = xFCorner + wF * ").concat(l,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,"; wR++) {\n            int xR = xRCorner + wR * ").concat(u,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(f,"; wC++) {\n              int xC = xCCorner + wC * ").concat(c,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===m,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(p,") *\n                  getW(wF, wR, wC, ").concat(p,", d2);\n              } else if (").concat(2===m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1),\n                  getX(batch, xF, xR, xC, ").concat(p," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2),\n                  getW(wF, wR, wC, ").concat(p," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Y$=N((function e(t,n){M(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=lY(this.outputShape.length);for(var r=n.dataFormat,a=UX(),i="channelsLast"===r,o=i?0:1,s=i?1:2,l=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":"if(blockIndex < ".concat(t[1]," && pos < ").concat(t[0],") {"),u="",c=0;c<=1;c++)for(var d=0;d<=1;d++)u+="\n          blockIndex = rc.y + ".concat(d,";\n          pos = rc.x + ").concat(c,";\n\n          ").concat(l,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(o,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(s,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(i,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*c+d,"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*c+d,"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(u,"\n\n        ").concat(a.output," = result;\n      }\n    ")}));function K$(e){var t,n=e.x,r=e.filter,a=e.convInfo,i=e.backend,o=e.bias,s=void 0===o?null:o,l=e.preluActivationWeights,u=void 0===l?null:l,c=e.leakyreluAlpha,d=void 0===c?0:c,h=e.activation,f=void 0===h?null:h,p=n.shape,m=i.texData.get(n.dataId),v=a.inChannels,g=p[0]*p[1]*p[2],y=a.outChannels,b="channelsLast"===a.dataFormat,x=[];if(!((1===g||1===y)&&v>TJ)&&m.isPacked&&b&&null!=m.texture&&p[2]%2!==0&&Py(m.shape.slice(-3),p.slice(-3))){var w=p[0]*p[1]*(p[2]+1),k={dataId:n.dataId,shape:[1,w,a.inChannels],dtype:n.dtype},S=m.shape;m.shape=m.shape.slice(),m.shape[m.shape.length-2]++,Iy(DX(m.shape,k.shape),(function(){return"packed reshape ".concat(m.shape," to ").concat(k.shape," isn't free")}));var T=hJ({inputs:{x:r},backend:i,attrs:{shape:[1,a.inChannels,a.outChannels]}});x.push(T);var E=EJ({a:k,b:T,backend:i,transposeA:false,transposeB:false,bias:s,activation:f,preluActivationWeights:u,leakyreluAlpha:d}),C=i.texData.get(E.dataId);Iy(C.isPacked,(function(){return"batchMatMul result is expected to be packed"})),m.shape=S,C.shape=a.outShape,(t=GK({inputs:{x:E},backend:i})).shape=a.outShape,x.push(E)}else{var _=hJ({inputs:{x:n},backend:i,attrs:{shape:[1,b?p[0]*p[1]*p[2]:p[0]*p[2]*p[3],a.inChannels]}}),M=hJ({inputs:{x:r},backend:i,attrs:{shape:[1,a.inChannels,a.outChannels]}}),A=EJ({a:_,b:M,transposeA:false,transposeB:false,backend:i,bias:s,activation:f,preluActivationWeights:u,leakyreluAlpha:d});t=hJ({inputs:{x:A},backend:i,attrs:{shape:a.outShape}}),x.push(_),x.push(M),x.push(A)}for(var I=0,N=x;I<N.length;I++){var R=N[I];i.disposeIntermediateTensorInfo(R)}return t}function J$(e){var t=e.x,n=e.filter,r=e.convInfo,a=e.backend,i=e.bias,o=void 0===i?null:i,s=e.preluActivationWeights,l=void 0===s?null:s,u=e.leakyreluAlpha,c=void 0===u?0:u,d=e.activation,h=void 0===d?null:d,f=r.filterWidth,p=r.filterHeight,m=r.inChannels,v=r.outWidth,g=r.outHeight,y="channelsLast"===r.dataFormat,b=f*p*m,x=g*v,w=[b,x],k=[],S=hJ({inputs:{x:t},backend:a,attrs:{shape:t.shape.slice(1)}}),T=hJ({inputs:{x:n},backend:a,attrs:{shape:[1,b,Dy(n.shape)/b]}});k.push(S),k.push(T);var E=new Y$(w,r),C=[S.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],_=a.runWebGLProgram(E,[S],"float32",C),M=hJ({inputs:{x:_},backend:a,attrs:{shape:[1,w[0],w[1]]}});k.push(_),k.push(M);var A=null!=o,I=null!=l,N="leakyrelu"===h,R=h?iJ(h,!0):null,O=new oJ(M.shape,T.shape,[1,x,r.outChannels],!0,!1,A,R,I,N),D=[M,T];if(o&&D.push(o),I&&D.push(l),N){var P=a.makeTensorInfo([],"float32",Wk(c,"float32"));D.push(P),k.push(P)}var L=a.runWebGLProgram(O,D,"float32"),F=hJ({inputs:{x:L},backend:a,attrs:{shape:y?[1,g,v,r.outChannels]:[1,r.outChannels,g,v]}});k.push(L);for(var j=0,z=k;j<z.length;j++){var B=z[j];a.disposeIntermediateTensorInfo(B)}return F}var $$={kernelName:Hb,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=n.filter,s=a.strides,l=a.pad,u=a.dataFormat,c=a.dilations,d=a.dimRoundingMode,h=bC(u),f=cC(i.shape,o.shape,s,c,l,d,!1,h);if(1!==f.filterHeight||1!==f.filterWidth||1!==f.dilationHeight||1!==f.dilationWidth||1!==f.strideHeight||1!==f.strideWidth||"SAME"!==f.padInfo.type&&"VALID"!==f.padInfo.type)if(hb().getBool("WEBGL_CONV_IM2COL")&&1===i.shape[0])t=J$({x:i,filter:o,convInfo:f,backend:r});else{var p=new q$(f);t=r.runWebGLProgram(p,[i,o],"float32")}else t=K$({x:i,filter:o,convInfo:f,backend:r});var m=hJ({inputs:{x:t},backend:r,attrs:{shape:f.outShape}});return r.disposeIntermediateTensorInfo(t),m}},Q$=N((function e(t){M(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              if (").concat(o,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),eQ=N((function e(t){M(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o="channelsLast"===t.dataFormat,s=n-1-t.padInfo.top,l=r-1-t.padInfo.left,u=o?1:2,c=o?2:3,d=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(l,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(d,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(u,"], coords[").concat(c,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),tQ=N((function e(t){M(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.padInfo.front,o=t.padInfo.top,s=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(i,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(s,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),nQ=N((function e(t){M(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,l=n-1-t.padInfo.front,u=r-1-t.padInfo.top,c=a-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(l,", ").concat(u,", ").concat(c,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(i,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var rQ={kernelName:Gb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.pad,l=r.dataFormat,u=r.dimRoundingMode,c=r.filterShape,d=bC(l),h=cC(a.shape,c,o,1,s,u,!1,d),f=new Q$(h);return n.runWebGLProgram(f,[a,i],"float32")}};var aQ={kernelName:qb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.inputShape,s=r.strides,l=r.pad,u=r.dataFormat,c=r.dimRoundingMode,d=bC(u),h=cC(o,i.shape,s,1,l,c,!1,d),f=new eQ(h);return n.runWebGLProgram(f,[a,i],"float32")}};var iQ={kernelName:Xb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,l=r.dilations,u=dC(a.shape,i.shape,o,l,s),c=new X$(u);return n.runWebGLProgram(c,[a,i],"float32")}};var oQ={kernelName:Yb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.pad,l=r.filterShape,u=dC(a.shape,l,o,1,s),c=new tQ(u);return n.runWebGLProgram(c,[a,i],"float32")}};var sQ={kernelName:Kb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.pad,s=r.strides,l=dC(r.inputShape,i.shape,s,1,o),u=new nQ(l);return n.runWebGLProgram(u,[a,i],"float32")}},lQ=rJ({opSnippet:nJ+"\n  return cos(x);\n"}),uQ={kernelName:Jb,backendName:"webgl",kernelFunc:lQ},cQ=rJ({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),dQ={kernelName:$b,backendName:"webgl",kernelFunc:cQ},hQ=N((function e(t,n,r,a,i){M(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=(0,Z.Z)(t,4),s=o[0],l=o[1],u=o[2],c=o[3],d=(0,Z.Z)(n,1)[0],h=(0,Z.Z)(r,2),f=h[0],p=h[1];this.outputShape=[d,f,p,c];var m="bilinear"===a?1:0,v="".concat(l-1,".0"),g="".concat(u-1,".0"),y=f>1?["".concat((l-1)/(f-1)),"(y2-y1) * height_ratio","y1*".concat(v," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(v)],b=(0,Z.Z)(y,3),x=b[0],w=b[1],k=b[2],S=p>1?["".concat((u-1)/(p-1)),"(x2-x1) * width_ratio","x1*".concat(g," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(g)],T=(0,Z.Z)(S,3),E=T[0],C=T[1],_=T[2];this.userCode="\n      const float height_ratio = float(".concat(x,");\n      const float width_ratio = float(").concat(E,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(w,";\n        float width_scale = ").concat(C,";\n\n        float in_y = ").concat(k,";\n        if( in_y < 0.0 || in_y > ").concat(v," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n        float in_x = ").concat(_,";\n        if( in_x < 0.0 || in_x > ").concat(g," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(m," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")})),fQ={kernelName:ex,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,o=t.boxInd,s=r.cropSize,l=r.method,u=r.extrapolationValue,c=new hQ(a.shape,i.shape,s,l,u);return n.runWebGLProgram(c,[a,i,o],"float32")}},pQ=N((function e(t,n,r){M(this,e),this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=t;var a=t.length,i=n?"0.0":"getX(".concat(mQ(a,"coords"),")"),o=t[t.length-1],s="",l="";n?(s=r?"end != ".concat(o-1):"end != 0",l=r?"end + 1":"end - 1"):(s=r?"end + pow2 < ".concat(o):"end >= pow2",l=r?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(rY(a)," coords = getOutputCoords();\n        int end = ").concat(vQ(a,"coords"),";\n        float val = ").concat(i,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(s,") {\n          int idx = ").concat(l,";\n          ").concat(vQ(a,"coords")," = idx;\n          val += getX(").concat(mQ(a,"coords"),");\n        }\n        setOutput(val);\n      }\n    ")}));function mQ(e,t){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw Error("Cumulative sum for rank ".concat(e," is not yet supported"))}function vQ(e,t){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw Error("Cumulative sum for rank ".concat(e," is not yet supported"))}var gQ={kernelName:Qb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse,l=a.shape.length,u=X_([i],l),c=a;null!=u&&(c=kJ({inputs:{x:a},backend:n,attrs:{perm:u}}));var d=K_(1,l)[0];if(d!==l-1)throw new Error("WebGL cumsum shader expects an inner-most axis=".concat(a.shape.length-1," ")+"but got axis=".concat(i));for(var h=c.shape[d],f=GK({inputs:{x:c},backend:n}),p=0;p<=Math.ceil(Math.log2(h))-1;p++){var m=new pQ(c.shape,!1,s),v=[[p]],g=f;f=n.runWebGLProgram(m,[f],f.dtype,v),n.disposeIntermediateTensorInfo(g)}if(o){var y=new pQ(c.shape,o,s),b=f;f=n.runWebGLProgram(y,[f],f.dtype),n.disposeIntermediateTensorInfo(b)}if(null!=u){var x=kJ({inputs:{x:f},backend:n,attrs:{perm:Y_(u)}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(c),x}return f}};var yQ={kernelName:tx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=r.binaryOutput;if(1===a.shape.length){var l=n.readSync(a.dataId),u=n.readSync(i.dataId),c=_Y(l,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}if(2===a.shape.length){var d=n.bufferSync(a),h=n.bufferSync(i),f=MY(d,h,o,s);return n.makeTensorInfo(f.shape,i.dtype,f.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}},bQ=function(){function e(t,n,r){M(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return N(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var xQ={kernelName:nx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,o=r.dataFormat,s=a.shape[0],l=("NHWC"===o?a.shape[1]:a.shape[2])*i,u=("NHWC"===o?a.shape[2]:a.shape[3])*i,c=("NHWC"===o?a.shape[3]:a.shape[1])/(i*i),d=new bQ("NHWC"===o?[s,l,u,c]:[s,c,l,u],i,o);return n.runWebGLProgram(d,[a],a.dtype)}},wQ=N((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];M(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=lY(this.outputShape.length);var o=t.filterHeight,s=t.filterWidth,l=t.outChannels/t.inChannels,u="",c="";r&&(u=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),c="result = activation(result);");var d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(u,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(l,";\n        int q = d2 - d1 * ").concat(l,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(o,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(d,"\n        ").concat(c,"\n        setOutput(result);\n      }\n    ")})),kQ=N((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];M(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=lY(this.outputShape.length);for(var o=t.outChannels/t.inChannels,s=t.padInfo.left,l=t.strideWidth,u=t.dilationWidth,c=t.filterHeight,d=t.filterWidth,h=d,f="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",p=0;p<d;p++)f+="\n          vec4 xTexelC".concat(2*p,";\n          int xTexelC").concat(2*p,"Ready;\n          vec4 xTexelC").concat(2*p+1,";\n          int xTexelC").concat(2*p+1,"Ready;\n          vec4 xC").concat(p,";");f+="\n    for (int r = 0; r < ".concat(c,"; r++) {\n      ");for(var m=0;m<d;m++)f+="\n          xTexelC".concat(2*m," = vec4(0.0);\n          xTexelC").concat(2*m,"Ready = 0;\n          xTexelC").concat(2*m+1," = vec4(0.0);\n          xTexelC").concat(2*m+1,"Ready = 0;\n          xC").concat(m," = vec4(0.0);");f+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var v=0;v<(h+1)/2;v++){var g=2*v;if(f+="\n          xC = xCCorner + ".concat(g*u,";\n          "),1===l){if(g<d&&(s%2===1?(f+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n              "),f+=1===u&&g>0?"\n                xC".concat(g," = vec4(xTexelC").concat(g-2,".zw, xTexelC").concat(g,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(g," = vec4(previous.zw, xTexelC").concat(g,".xy);\n                  } else {\n                    xC").concat(g," = vec4(0.0, 0.0, xTexelC").concat(g,".xy);\n                  }\n                  ")):f+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                xC").concat(g," = xTexelC").concat(g,";\n                "),g+1<d)){var y=s%2===0?_y(u):u;u%2===0&&s%2===1||u%2!==0&&s%2!==1?(f+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(y,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                    xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(g+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(g+1,"Ready = 1;\n                  }\n                  "),u>1&&(f+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                      xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n                      xTexelC").concat(g,"Ready = 1;\n                    }\n                    ")),f+="\n                  xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".xy);\n                  ")):f+=1===y?"\n                    xC".concat(g+1," = xTexelC").concat(g,";\n                    "):"\n                    xCOffset = xC + ".concat(y,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                      xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(g+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(g+1,"Ready = 1;\n                    }\n\n                    xC").concat(g+1," = xTexelC").concat(g+1,";\n                    ")}}else g<d&&(s%2===1?(f+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                  xTexelC").concat(g+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(g+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g+1,"Ready = 1;\n                }\n\n                xC").concat(g," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n              "),g+1<d&&(f+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(g+1," = vec4(xTexelC").concat(g+1,".xy, final.xy);\n                "))):(f+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                  xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(g+1,"Ready = 1;\n                }\n\n                xC").concat(g," = vec4(\n                  xTexelC").concat(g,".xy, xTexelC").concat(g+1,".xy);\n              "),g+1<d&&(f+="\n                  xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n                "))));g<d&&(f+="\n            wTexel = getW(r, ".concat(g,", d1, q);\n            dotProd += xC").concat(g," * vec4(wTexel.xz, wTexel.xz);\n          "),g+1<d&&(f+="\n              wTexel = getW(r, ".concat(g+1,", d1, q);\n              dotProd += xC").concat(g+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}f+="\n    }\n  ",f+="\n      }\n    ";var b="",x="";r&&(b=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),x="result = activation(result);");var w=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(b,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(o,";\n        int q = d2 - d1 * ").concat(o,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(f,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(w,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")}));var SQ={kernelName:rx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,l=r.dilations,u=r.dimRoundingMode,c=l;null==c&&(c=[1,1]),Iy(yC(o,c),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(o," and dilations '").concat(c,"'")}));var d,h=cC(a.shape,i.shape,o,c,s,u,!0);d=hb().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels===1?new kQ(h):new wQ(h);var f=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return n.runWebGLProgram(d,[a,i],"float32",f)}},TQ=N((function e(t){M(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),EQ=N((function e(t){M(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=n-1-t.padInfo.top,s=r-1-t.padInfo.left,l=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(l,"; dm++) {\n              int d2 = d1 * ").concat(l," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var CQ={kernelName:ax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.dilations,l=r.pad,u=r.dimRoundingMode,c=r.filterShape,d=cC(a.shape,c,o,s,l,u,!0),h=new TQ(d);return n.runWebGLProgram(h,[a,i],"float32")}};var _Q={kernelName:ix,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.strides,s=r.dilations,l=r.pad,u=r.dimRoundingMode,c=cC(r.inputShape,i.shape,o,s,l,u,!0),d=new EQ(c);return n.runWebGLProgram(d,[a,i],"float32")}},MQ=N((function e(t){M(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}));var AQ={kernelName:ox,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=[].concat((0,_.Z)(r.shape),(0,_.Z)(r.shape)),i=Dy(r.shape),o=hJ({inputs:{x:r},backend:n,attrs:{shape:[i]}}),s=new MQ(i),l=n.runWebGLProgram(s,[o],o.dtype),u=hJ({inputs:{x:l},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),u}},IQ=N((function e(t){M(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,a=t.padInfo,i=t.strideHeight,o=t.strideWidth,s=t.filterHeight,l=t.filterWidth,u=t.dilationHeight,c=t.dilationWidth,d=a.top,h=a.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(i,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(h,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(s,"; h++) {\n          int hIn = hBeg + h * ").concat(u,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(l,"; w++) {\n              int wIn = wBeg + w * ").concat(c,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}));var NQ={kernelName:sx,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=n.filter,s=a.strides,l=a.pad,u=a.dilations,c=sC(i.shape,o.shape,s,l,"NHWC",u),d=new IQ(c),h=hJ({inputs:{x:t=r.runWebGLProgram(d,[i,o],"float32")},backend:r,attrs:{shape:c.outShape}});return r.disposeIntermediateTensorInfo(t),h}};var RQ={kernelName:dx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=JN(e.attrs.equation,r.length),i=a.allDims,o=a.summedDims,s=a.idDims;QN(i.length,s,r);for(var l=eR(o,s),u=l.path,c=l.steps,d=c.length,h=null,f=i.length,p=[],m=0;m<d;++m){var v,g=X(c[m]);try{for(g.s();!(v=g.n()).done;){var y=v.value,b=$N(f,s[y]),x=b.permutationIndices,w=b.expandDims,k=void 0;tR(x)?k=r[y]:(k=kJ({inputs:{x:r[y]},backend:n,attrs:{perm:x}}),p.push(k));for(var S=k.shape.slice(),T=0;T<w.length;++T)S.splice(w[T],0,1);Py(k.shape,S)||(k=hJ({inputs:{x:k},backend:n,attrs:{shape:S}}),p.push(k)),null===h?h=k:(h=cJ({inputs:{a:k,b:h},backend:n}),p.push(h))}}catch(JNe){g.e(JNe)}finally{g.f()}m<d-1&&(u[m]>=0&&(h=xJ({inputs:{x:h},backend:n,attrs:{axis:u[m]-(i.length-f),keepDims:!1}}),p.push(h)),f--)}for(var E=0,C=p;E<C.length;E++){var _=C[E];_!==h&&n.disposeIntermediateTensorInfo(_)}return h}},OQ=rJ({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),DQ={kernelName:hx,backendName:"webgl",kernelFunc:OQ},PQ={kernelName:fx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y,i=hb().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new HK("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new ZK("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)}},LQ=aJ({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:NY}),FQ={kernelName:mx,backendName:"webgl",kernelFunc:LQ},jQ=rJ({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(FN,";\n  float a1 = ").concat(jN,";\n  float a2 = ").concat(zN,";\n  float a3 = ").concat(BN,";\n  float a4 = ").concat(UN,";\n  float a5 = ").concat(WN,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),zQ={kernelName:px,backendName:"webgl",kernelFunc:jQ},BQ=rJ({opSnippet:nJ+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:RY,dtype:"float32"}),UQ={kernelName:vx,backendName:"webgl",kernelFunc:BQ};function WQ(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.dim,i=t.input,o=i.shape.length,s=i.shape.slice(),l=a;return a<0&&(Iy(-(o+1)<=a,(function(){return"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]")})),l=o+a+1),s.splice(l,0,1),hJ({inputs:{x:i},backend:r,attrs:{shape:s}})}var ZQ={kernelName:gx,backendName:"webgl",kernelFunc:WQ},VQ="return exp(x) - 1.0;",HQ=rJ({opSnippet:VQ,packedOpSnippet:VQ,cpuKernelImpl:OY}),GQ={kernelName:yx,backendName:"webgl",kernelFunc:HQ},qQ=N((function e(t,n,r){M(this,e),this.variableNames=["real","imag"];var a=n[1];this.outputShape=n;var i,o=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=r?"".concat(a,".0"):"1.0";if("real"===t)i="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));i="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(i,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}));function XQ(e,t,n){var r=n.texData.get(e.dataId),a=Dy(e.shape),i=e.shape[e.shape.length-1],o=hJ({inputs:{x:e},backend:n,attrs:{shape:[a/i,i]}}),s=o.shape,l=new qQ("real",s,t),u=new qQ("imag",s,t),c=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(l,c,"float32"),h=n.runWebGLProgram(u,c,"float32"),f=XK({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);var p=hJ({inputs:{x:f},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(f),p}var YQ={kernelName:bx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return XQ(t.input,!1,n)}},KQ=N((function e(t,n){M(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}));function JQ(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,i=n.dtype;if("string"===(i=i||Ky(a))){var o=Vy(i,Dy(r));return o.fill(a),t.makeTensorInfo(r,i,o)}var s=new KQ(r,a),l=[[a]];return t.runWebGLProgram(s,[],i,l)}var $Q,QQ={kernelName:xx,backendName:"webgl",kernelFunc:JQ},e0=N((function e(t){M(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),t0={kernelName:wx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n,i=new e0(r.shape);return a.runWebGLProgram(i,[r],r.dtype)}},n0="return floor(x);",r0=rJ({opSnippet:n0,packedOpSnippet:n0,cpuKernelImpl:DY}),a0={kernelName:kx,backendName:"webgl",kernelFunc:r0},i0=aJ({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),o0={kernelName:Sx,backendName:"webgl",kernelFunc:i0},s0=N((function e(t){M(this,e),this.variableNames=["A"];var n=UX(),r=(0,Z.Z)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(i,".0, ").concat(a,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")})),l0=N((function e(t){M(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=UX(),r=(0,Z.Z)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(i,".0, ").concat(a,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),u0={kernelName:pk,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,i=r.numChannels,o="undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement,s="undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement,l=o?[a.videoWidth,a.videoHeight]:[a.width,a.height],u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=[d,c],f=[d,c,i];(s||o)&&(null==$Q&&($Q=document.createElement("canvas").getContext("2d")),$Q.canvas.width=c,$Q.canvas.height=d,$Q.drawImage(a,0,0,c,d),a=$Q.canvas);var p=n.makeTensorInfo(h,"int32");n.texData.get(p.dataId).usage=oX.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),a);var m=hb().getBool("WEBGL_PACK")?new l0(f):new s0(f),v=n.runWebGLProgram(m,[p],"int32");return n.disposeData(p.dataId),v}};var c0={kernelName:gk,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=n.filter,s=n.bias,l=n.preluActivationWeights,u=a.strides,c=a.pad,d=a.dataFormat,h=a.dilations,f=a.dimRoundingMode,p=a.activation,m=a.leakyreluAlpha,v=bC(d),g=cC(i.shape,o.shape,u,h,c,f,!1,v),y=[];if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(hb().getBool("WEBGL_CONV_IM2COL")&&1===i.shape[0])t=J$({x:i,filter:o,convInfo:g,backend:r,bias:s,activation:p,preluActivationWeights:l,leakyreluAlpha:m});else{var b=null!=s,x=null!=l,w="leakyrelu"===p,k=p?iJ(p,!1):null,S=new q$(g,b,k,x,w),T=[i,o];if(s&&T.push(s),l&&T.push(l),w){var E=r.makeTensorInfo([],"float32",Wk(m,"float32"));T.push(E),y.push(E)}t=r.runWebGLProgram(S,T,"float32")}else t=K$({x:i,filter:o,convInfo:g,backend:r,bias:s,activation:p,preluActivationWeights:l,leakyreluAlpha:m});var C=hJ({inputs:{x:t},backend:r,attrs:{shape:g.outShape}});return y.push(t),y.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),C}};var d0={kernelName:yk,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,l=r.strides,u=r.pad,c=r.dilations,d=r.dimRoundingMode,h=r.activation,f=r.leakyreluAlpha,p=[],m=c;null==m&&(m=[1,1]),Iy(yC(l,m),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(l," and dilations '").concat(m,"'")}));var v,g=cC(a.shape,i.shape,l,m,u,d,!0),y=hb().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,b=h?iJ(h,y):null,x=[a,i],w=null!=o,k=null!=s,S="leakyrelu"===h;if(w&&x.push(o),k&&x.push(s),S){var T=n.makeTensorInfo([],"float32",Wk(f,"float32"));x.push(T),p.push(T)}v=y?new kQ(g,w,b,k,S):new wQ(g,w,b,k,S);var E=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],C=n.runWebGLProgram(v,x,"float32",E);return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),C}},h0=N((function e(t,n,r){M(this,e),this.sliceDim=t,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;var a=rY(n.length),i=rY(r.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        ".concat(a," strides = ").concat(a,"(").concat(this.strides,");\n         void main() {\n          ").concat(i," coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ").concat(this.sliceDim,"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ").concat(o,";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      ")}));var f0={kernelName:Cx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,i=a.shape,o=i[i.length-1],s=Dy(r.shape),l=DN(r,a),u=(0,Z.Z)(l,4),c=u[0],d=u[1],h=u[2],f=u[3],p=hJ({inputs:{x:a},backend:n,attrs:{shape:[d,o]}}),m=hJ({inputs:{x:r},backend:n,attrs:{shape:[Dy(r.shape)/h,h]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){var v=n.readSync(a.dataId),g=n.bufferSync(r),y=PY(v,g,r.dtype,d,o,h,f,r.shape,s);return n.makeTensorInfo(c,r.dtype,y.values)}var b=new h0(o,f,[d,h]),x=n.runWebGLProgram(b,[m,p],m.dtype),w=hJ({inputs:{x:x},backend:n,attrs:{shape:c}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(x),w}},p0=N((function e(t,n){M(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=rY(this.rank),a=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++)2===a?r.push("index"):r.push("".concat(n[a]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(t[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(a,"));\n      }\n    ")}));function m0(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.indices,o=r.axis,s=r.batchDims,l=Uy(o,a.shape)[0];if(hb().get("DEBUG"))for(var u=n.readSync(i.dataId),c=a.shape[l],d=function(){var e=u[h];Iy(e<=c-1&&e>=0,(function(){return"GatherV2: the index value ".concat(e," is not in [0, ").concat(c-1,"]")}))},h=0;h<u.length;++h)d();var f=uR(a,i,l,s),p=Dy(i.shape),m=[],v=hJ({inputs:{x:a},backend:n,attrs:{shape:[f.batchSize,f.outerSize,f.dimSize,f.sliceSize]}}),g=hJ({inputs:{x:i},backend:n,attrs:{shape:[f.batchSize,p/f.batchSize]}});m.push(v),m.push(g);var y=[f.batchSize,f.outerSize,p/f.batchSize,f.sliceSize];if(n.shouldExecuteOnCPU([a,i])||"string"===a.dtype){var b=n.bufferSync(g),x=n.bufferSync(v),w=LY(x,b,y);return m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(f.outputShape,w.dtype,w.values)}var k=new p0(v.shape,y),S=n.runWebGLProgram(k,[v,g],v.dtype);m.push(S);var T=hJ({inputs:{x:S},backend:n,attrs:{shape:f.outputShape}});return m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),T}var v0={kernelName:Ex,backendName:"webgl",kernelFunc:m0},g0=aJ({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:FY,dtype:"bool"}),y0={kernelName:_x,backendName:"webgl",kernelFunc:g0},b0=aJ({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:jY}),x0={kernelName:Mx,backendName:"webgl",kernelFunc:b0};var w0={kernelName:Ix,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return XQ(t.input,!0,n)}},k0=rJ({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),S0={kernelName:Rx,backendName:"webgl",kernelFunc:k0},T0=rJ({opSnippet:"return float(isinf(x));",dtype:"bool"}),E0={kernelName:Ox,backendName:"webgl",kernelFunc:T0},C0=rJ({opSnippet:"return float(isnan(x));",dtype:"bool"}),_0={kernelName:Dx,backendName:"webgl",kernelFunc:C0},M0=aJ({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:zY,dtype:"bool"}),A0={kernelName:Lx,backendName:"webgl",kernelFunc:M0},I0=aJ({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:BY,dtype:"bool"}),N0={kernelName:Fx,backendName:"webgl",kernelFunc:I0};var R0={kernelName:jx,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.num,o=UY(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}},O0=rJ({opSnippet:nJ+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:WY}),D0={kernelName:zx,backendName:"webgl",kernelFunc:O0},P0=rJ({opSnippet:nJ+"\n  return log(1.0 + x);\n"}),L0={kernelName:Bx,backendName:"webgl",kernelFunc:P0},F0=aJ({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),j0={kernelName:Ux,backendName:"webgl",kernelFunc:F0},z0=rJ({opSnippet:"return float(!(x >= 1.0));"}),B0={kernelName:Wx,backendName:"webgl",kernelFunc:z0},U0=aJ({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),W0={kernelName:Zx,backendName:"webgl",kernelFunc:U0},Z0=N((function e(t,n,r,a,i){M(this,e),this.variableNames=["x"],this.outputShape=[];var o,s=n,l=t[3]-1;this.outputShape=t;var u="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(u,")"):1===i?"1.0/(".concat(u,")"):"exp(log(".concat(u,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(l,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(o,";\n        setOutput(val);\n      }\n    ")})),V0=N((function e(t,n,r,a,i){M(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,s=n,l=t[3]-1;this.outputShape=t;var u="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(u,")"):1===i?"1.0/(".concat(u,")"):"exp(log(".concat(u,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(l,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(o,";\n        setOutput(result);\n      }\n    ")})),H0={kernelName:Vx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.depthRadius,o=r.bias,s=r.alpha,l=r.beta,u=hb().getBool("WEBGL_PACK_NORMALIZATION")?new V0(a.shape,i,o,s,l):new Z0(a.shape,i,o,s,l);return n.runWebGLProgram(u,[a],a.dtype)}},G0=N((function e(t,n,r,a,i){M(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(i,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(i,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")})),q0={kernelName:Hx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.y,o=t.dy,s=r.depthRadius,l=r.bias,u=r.alpha,c=r.beta,d=new G0(a.shape,s,l,u,c);return n.runWebGLProgram(d,[a,i,o],a.dtype)}};function X0(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reductionIndices,o=r.keepDims,s=a.shape.length,l=Uy(i,a.shape),u=l,c=X_(u,s),d=null!=c,h=n.shouldExecuteOnCPU([a]),f=a;if(d){if(h){for(var p=n.texData.get(f.dataId).values,m=new Array(s),v=0;v<m.length;v++)m[v]=a.shape[c[v]];var g=hK(p,a.shape,a.dtype,c,m);f=n.makeTensorInfo(m,a.dtype),n.texData.get(f.dataId).values=g}else f=bJ(a,c,n);u=K_(u.length,s)}q_("max",u,s);var y,b=H_(f.shape,u),x=(0,Z.Z)(b,2),w=x[0],k=x[1],S=w;if(o&&(S=G_(w,l)),h){var T=n.texData.get(f.dataId).values,E=ZY(T,Dy(k),S,a.dtype);y=n.makeTensorInfo(S,a.dtype),n.texData.get(y.dataId).values=E}else y=function(e,t,n,r){var a=Dy(t),i=hJ({inputs:{x:e},attrs:{shape:[Dy(e.shape)/a,a]},backend:r}),o=vJ(i,e.dtype,"max",r),s=hJ({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),s}(f,k,S,n);return d&&n.disposeIntermediateTensorInfo(f),y}var Y0={kernelName:Gx,backendName:"webgl",kernelFunc:X0},K0=aJ({opSnippet:WK+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  "+VK+"\n  return result;\n",cpuKernelImpl:VY}),J0={kernelName:qx,backendName:"webgl",kernelFunc:K0};var $0={kernelName:Xx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;zX(a,"maxPool");var i=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode;Iy(yC(o,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var u=lC(a.shape,i,o,1,s,l);if(1===u.filterWidth&&1===u.filterHeight&&Py(u.inShape,u.outShape))return GK({inputs:{x:a},backend:n});var c=new a$(u,"max",!1);return n.runWebGLProgram(c,[a],a.dtype)}};var Q0={kernelName:Kx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,o=r.strides,s=r.pad,l=r.dataFormat,u=r.dimRoundingMode,c=uC(a.shape,i,o,[1,1,1],s,u,l),d=new i$(c,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}},e1=N((function e(t){M(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,i=t.effectiveFilterHeight,o=t.effectiveFilterWidth,s=i-1-t.padInfo.top,l=o-1-t.padInfo.left,u=i*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(l,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(i,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(u," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),t1=N((function e(t){M(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,s=t.dilationWidth,l=t.effectiveFilterDepth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,d=l-1-t.padInfo.front,h=u-1-t.padInfo.top,f=c-1-t.padInfo.left,p=l*u*c-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(d,", ").concat(h,", ").concat(f,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(l,";\n           wD += ").concat(i,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(u,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(c,";\n                wC += ").concat(s,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(p," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(u," * ").concat(c," +\n                  wR * ").concat(c," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var n1={kernelName:Jx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=r.filterSize,s=r.strides,l=r.pad,u=r.dimRoundingMode,c=uC(i.shape,o,s,[1,1,1],l,u),d=new i$(c,"max",!0),h=n.runWebGLProgram(d,[i],i.dtype),f=new t1(c),p=n.runWebGLProgram(f,[a,h],i.dtype);return n.disposeIntermediateTensorInfo(h),p}};var r1={kernelName:Yx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=i;zX([i,t.output],"maxPoolGrad");var s=r.filterSize,l=r.strides,u=r.pad,c=r.dimRoundingMode,d=lC(o.shape,s,l,1,u,c),h=new a$(d,"max",!0),f=n.runWebGLProgram(h,[o],o.dtype),p=new e1(d),m=n.runWebGLProgram(p,[a,f],o.dtype);return n.disposeIntermediateTensorInfo(f),m}};var a1={kernelName:$x,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.filterSize,o=n.strides,s=n.pad,l=n.includeBatchInIndex,u=r;Iy(4===a.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")}));var c=[1,1];Iy(yC(o,c),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(c,"'")}));var d=lC(a.shape,i,o,c,s),h=function(e,t,n,r){var a=new a$(n,"max",!1),i=r.runWebGLProgram(a,[e],"float32");return a=new a$(n,"max",!0,!0,t),[i,r.runWebGLProgram(a,[e],"float32")]}(a,l,d,u),f=(0,Z.Z)(h,2);return[f[0],f[1]]}};var i1={kernelName:Qx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.keepDims,o=n.axis,s=r,l=a.shape.length,u=Uy(o,a.shape),c=u,d=X_(c,l),h=null!=d,f=s.shouldExecuteOnCPU([a]),p=[],m=a;if(h){if(f){for(var v=s.texData.get(m.dataId).values,g=new Array(l),y=0;y<g.length;y++)g[y]=a.shape[d[y]];var b=hK(v,a.shape,a.dtype,d,g);m=s.makeTensorInfo(g,a.dtype),s.texData.get(m.dataId).values=b}else m=bJ(a,d,s);p.push(m),c=K_(c.length,l)}q_("sum",c,l);var x=H_(m.shape,c),w=(0,Z.Z)(x,2),k=w[0],S=w[1],T=k;i&&(T=G_(k,u));for(var E=function(e,t,n,r){var a=Dy(t),i=hJ({inputs:{x:e},attrs:{shape:[Dy(e.shape)/a,a]},backend:r}),o=vJ(i,"float32","mean",r),s=hJ({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),s}(m,S,T,s),C=0,_=p;C<_.length;C++){var M=_[C];s.disposeIntermediateTensorInfo(M)}return E}};var o1={kernelName:ew,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims,s=a.shape.length,l=Uy(i,a.shape),u=l,c=X_(u,s),d=a;null!=c&&(d=kJ({inputs:{x:a},backend:n,attrs:{perm:c}}),u=K_(u.length,a.shape.length)),q_("min",u,s);var h,f=H_(d.shape,u),p=(0,Z.Z)(f,2),m=p[0],v=hJ({inputs:{x:d},backend:n,attrs:{shape:[-1,Dy(p[1])]}}),g=vJ(v,v.dtype,"min",n);return h=hJ(o?{inputs:{x:g},backend:n,attrs:{shape:G_(m,l)}}:{inputs:{x:g},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),null!=c&&n.disposeIntermediateTensorInfo(d),h}},s1=aJ({opSnippet:WK+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  "+VK+"\n  return result;\n",cpuKernelImpl:HY}),l1={kernelName:tw,backendName:"webgl",kernelFunc:s1},u1=N((function e(t,n,r){M(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=rY(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),u="reflect"===r?0:1;this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(a,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(u,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(u,";\n          }\n        }\n        ").concat(i," coords = outC - start;\n        setOutput(getX(").concat(l,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(u,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(u,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")})),c1=N((function e(t,n,r){M(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=rY(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),l=mK("rc",a),u=mK("source",a),c="".concat(l[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(u.slice(-2).join(),")"),h="reflect"===r?0:1,f="";if(1===a){var p="\n        ".concat(i," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(h,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(h,";\n        }\n        source -= start;\n      ");f="\n        ".concat(i," rc = outputLoc;\n        ").concat(p,"\n        result[0] = getChannel(getX(").concat(u.join(),"), ").concat(d,");\n        ").concat(l[a-1]," += 1;\n        if(").concat(c,") {\n          ").concat(p,"\n          result[1] = getChannel(getX(").concat(u.join(),"), ").concat(d,");\n        }\n      ")}else{var m="\n        ".concat(i," source = rc;\n        ").concat(i," lt = ").concat(i,"(lessThan(source, start));\n        ").concat(i," gte = ").concat(i,"(greaterThanEqual(source, end));\n        ").concat(i," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(h,") +\n                gte * ((end - 1) * 2 - source + ").concat(h,");\n        source -= start;\n      ");f="\n        ".concat(i," rc = outputLoc;\n        ").concat(m,"\n        result[0] = getChannel(getX(").concat(u.join(),"), ").concat(d,");\n        ").concat(l[a-1]," += 1;\n        if(").concat(c,") {\n          ").concat(m,"\n          result[1] = getChannel(getX(").concat(u.join(),"), ").concat(d,");\n        }\n        rc = outputLoc;\n        ").concat(l[a-2]," += 1;\n        if(").concat(l[a-2]," < ").concat(this.outputShape[a-2],") {\n          ").concat(m,"\n          result[2] = getChannel(getX(").concat(u.join(),"), ").concat(d,");\n          ").concat(l[a-1]," += 1;\n          if(").concat(c,") {\n            ").concat(m,"\n            result[3] = getChannel(getX(").concat(u.join(),"), ").concat(d,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")})),d1={kernelName:nw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,o=r.mode,s=hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new c1(a.shape,i,o):new u1(a.shape,i,o);return n.runWebGLProgram(s,[a],a.dtype)}},h1=aJ({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  "+VK+"\n  return result;\n"}),f1={kernelName:rw,backendName:"webgl",kernelFunc:h1},p1=N((function e(t,n,r){M(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")})),m1=aJ({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),v1={kernelName:cx,backendName:"webgl",kernelFunc:m1},g1="return a - b;",y1=aJ({opSnippet:g1,packedOpSnippet:g1,supportsComplex:!0,cpuKernelImpl:uK}),b1={kernelName:nk,backendName:"webgl",kernelFunc:y1};function x1(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=Uy([r.dim],a.shape),o=X0({inputs:{x:a},backend:n,attrs:{reductionIndices:i,keepDims:!1}}),s=G_(o.shape,i),l=hJ({inputs:{x:o},backend:n,attrs:{shape:s}}),u=y1({inputs:{a:a,b:l},backend:n}),c=BQ({inputs:{x:u},backend:n}),d=xJ({inputs:{x:c},backend:n,attrs:{axis:i,keepDims:!1}}),h=hJ({inputs:{x:d},backend:n,attrs:{shape:s}}),f=m1({inputs:{a:c,b:h},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),f}var w1={kernelName:Vw,backendName:"webgl",kernelFunc:x1};var k1={kernelName:aw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.numSamples,o=r.seed,s=r.normalized,l=s?a:x1({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),u=l.shape[0],c=l.shape[1],d=new p1(u,c,i),h=[[o]],f=n.runWebGLProgram(d,[l],"int32",h);return s||n.disposeIntermediateTensorInfo(l),f}},S1=SK+"\n  return -x;\n";var T1={kernelName:ow,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])){var i=r.texData.get(a.dataId),o=qY(i.values,a.shape,a.dtype),s=(0,Z.Z)(o,2),l=s[0],u=s[1];return r.makeTensorInfo(u,a.dtype,l)}return t=hb().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new LK(a.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new kK(a.shape,S1),r.runWebGLProgram(t,[a],a.dtype)}},E1=xI;var C1={kernelName:lw,backendName:"webgl",kernelFunc:function(e){bk("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold,u=n.readSync(a.dataId),c=n.readSync(i.dataId),d=E1(u,c,o,s,l).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},_1=wI;var M1={kernelName:uw,backendName:"webgl",kernelFunc:function(e){bk("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold,u=r.padToMaxOutputSize,c=n.readSync(a.dataId),d=n.readSync(i.dataId),h=_1(c,d,o,s,l,u),f=h.selectedIndices,p=h.validOutputs;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},A1=kI;var I1={kernelName:cw,backendName:"webgl",kernelFunc:function(e){bk("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold,u=r.softNmsSigma,c=n.readSync(a.dataId),d=n.readSync(i.dataId),h=A1(c,d,o,s,l,u),f=h.selectedIndices,p=h.selectedScores;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([p.length],"float32",new Float32Array(p))]}},N1=N((function e(t,n,r,a){M(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")})),R1={kernelName:hw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=r.depth,o=r.onValue,s=r.offValue,l=Dy(a.shape),u=new N1(l,i,o,s),c=hJ({inputs:{x:a},backend:n,attrs:{shape:[l]}}),d=n.runWebGLProgram(u,[c],a.dtype);n.disposeIntermediateTensorInfo(c);var h=hJ({inputs:{x:d},backend:n,attrs:{shape:[].concat((0,_.Z)(a.shape),[i])}});return n.disposeIntermediateTensorInfo(d),h}};function O1(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var a=C$({inputs:{input:r},backend:n}),i=O1({inputs:{x:a},backend:n}),o=W$({inputs:{input:r},backend:n}),s=O1({inputs:{x:o},backend:n}),l=XK({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}return JQ({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var D1={kernelName:hk,backendName:"webgl",kernelFunc:O1};var P1={kernelName:dw,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){var i=C$({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),s=W$({inputs:{input:a},backend:r}),l=O1({inputs:{x:s},backend:r}),u=XK({inputs:{real:o,imag:l},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(l),u}return JQ({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};var L1={kernelName:fw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return WQ({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,i=t[0].dtype;t.forEach((function(e){Ny(a,e.shape,"All tensors passed to stack must have matching shapes"),Iy(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=t.map((function(e){var t=WQ({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),l=H$({inputs:s,backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l}},F1=N((function e(t,n,r){M(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=rY(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(i," coords = outC - start;\n          setOutput(getX(").concat(l,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")})),j1=N((function e(t,n,r){M(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var a=t.length,i=rY(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),l=mK("rc",a),u=mK("source",a),c="".concat(l[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(u.slice(-2).join(),")"),h=["".concat(i," rc = outputLoc;"),"".concat(l[a-1]," += 1;\n       if(").concat(c,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(l[a-2]," += 1;\n       if(").concat(l[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(l[a-1]," += 1;\n         if(").concat(c,") {")],f=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",p="",m=0,v=1===a?2:4;m<v;m++)p+="\n        ".concat(h[m],"\n        if (").concat(f,") {\n          result[").concat(m,"] = float(value);\n        } else {\n          ").concat(i," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(u.join(),"), ").concat(d,");\n        }\n      ");p+=1===a?"} ":"}}",this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")})),z1=function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,o=r.constantValue;if(0===Dy(a.shape)){var s=i.map((function(e,t){return e[0]+a.shape[t]+e[1]}));return JQ({backend:n,attrs:{shape:s,value:o,dtype:a.dtype}})}var l=hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new j1(a.shape,i,o):new F1(a.shape,i,o),u=[[o]];return n.runWebGLProgram(l,[a],a.dtype,u)},B1={kernelName:pw,backendName:"webgl",kernelFunc:z1},U1=aJ({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  "+VK+"\n  return result;\n"}),W1={kernelName:mw,backendName:"webgl",kernelFunc:U1};var Z1={kernelName:gw,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.axis,s=a.keepDims,l=i.shape.length,u=[],c=Uy(o,i.shape),d=c,h=X_(d,l),f=i;if(null!=h&&(f=kJ({inputs:{x:i},backend:r,attrs:{perm:h}}),d=K_(d.length,l),u.push(f)),q_("prod",d,l),r.shouldExecuteOnCPU([f])){var p=r.texData.get(f.dataId).values,m=YY(f.shape,f.dtype,p,d),v=m.outVals,g=m.outShape,y=m.outDtype;t=r.makeTensorInfo(g,y,v)}else{var b=H_(f.shape,d),x=(0,Z.Z)(b,2),w=x[0],k=Dy(x[1]),S=hJ({inputs:{x:f},backend:r,attrs:{shape:[-1,k]}}),T=vJ(S,vS(i.dtype),"prod",r);t=hJ({inputs:{x:T},backend:r,attrs:{shape:w}}),u.push(S),u.push(T)}if(s){u.push(t);var E=G_(t.shape,c);t=hJ({inputs:{x:t},backend:r,attrs:{shape:E}})}return u.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}},V1=function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.step,o=n.dtype,s=KY(r,a,i,o);return t.makeTensorInfo([s.length],o,s)},H1={kernelName:yw,backendName:"webgl",kernelFunc:V1},G1=rJ({opSnippet:"return 1.0 / x;"}),q1={kernelName:xw,backendName:"webgl",kernelFunc:G1},X1=rJ({opSnippet:SK+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Y1={kernelName:ww,backendName:"webgl",kernelFunc:X1},K1=rJ({opSnippet:SK+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),J1={kernelName:_w,backendName:"webgl",kernelFunc:K1},$1=N((function e(t,n,r,a,i){M(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,Z.Z)(t,4),s=o[0],l=o[1],u=o[2],c=o[3];this.outputShape=[s,n,r,c];var d,h=[a&&n>1?l-1:l,a&&r>1?u-1:u],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];d=i?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/f[0],",\n          ").concat(h[1]/f[1],");\n      const vec2 inputShapeRC = vec2(").concat(l,".0, ").concat(u,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")})),Q1=N((function e(t,n,r,a,i){M(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,Z.Z)(t,4),s=o[0],l=o[1],u=o[2],c=o[3];this.outputShape=[s,n,r,c];var d,h=[a&&n>1?l-1:l,a&&r>1?u-1:u],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];d=i?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/f[0],",\n          ").concat(h[1]/f[1],",\n          ").concat(h[1]/f[1],");\n      const vec3 inputShapeRC = vec3(").concat(l,".0, ").concat(u,".0,\n                                     ").concat(u,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}));var e2={kernelName:Ew,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,o=r.halfPixelCenters,s=r.size,l=(0,Z.Z)(s,2),u=l[0],c=l[1],d=hb().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Q1(a.shape,u,c,i,o):new $1(a.shape,u,c,i,o);return n.runWebGLProgram(d,[a],"float32")}},t2=N((function e(t,n,r){M(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,Z.Z)(n,3),i=a[1],o=a[2],s=(0,Z.Z)(t,3),l=s[1],u=s[2],c=[r&&l>1?i-1:i,r&&u>1?o-1:o],d=[r&&l>1?l-1:l,r&&u>1?u-1:u],h=c[0]/d[0],f=c[1]/d[1],p=1/h,m=1/f,v=2*Math.ceil(p)+2,g=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(f,");\n\n        const float invHeightScale = float(").concat(p,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(v,");\n        const int winWidth = int(").concat(g,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(l,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(u,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(i-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(o-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var n2={kernelName:Cw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,s=new t2(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}},r2=N((function e(t,n,r,a,i){M(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,Z.Z)(t,4),s=o[0],l=o[1],u=o[2],c=o[3];this.outputShape=[s,n,r,c];var d,h=[a&&n>1?l-1:l,a&&r>1?u-1:u],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],p=a?"0.5":"0.0";d=i?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/f[0],",\n          ").concat(h[1]/f[1],");\n      const vec2 inputShapeRC = vec2(").concat(l,".0, ").concat(u,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(p,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")})),a2=N((function e(t,n,r,a,i){M(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,Z.Z)(t,4),s=o[0],l=o[1],u=o[2],c=o[3];this.outputShape=[s,n,r,c];var d,h=[a&&n>1?l-1:l,a&&r>1?u-1:u],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],p=a?"0.5":"0.0";d=i?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/f[0],",\n          ").concat(h[1]/f[1],",\n          ").concat(h[1]/f[1],");\n      const vec3 inputShapeRC = vec3(").concat(l,".0, ").concat(u,".0,\n                                     ").concat(u,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(p,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}));var i2={kernelName:Sw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,o=r.halfPixelCenters,s=r.size,l=(0,Z.Z)(s,2),u=l[0],c=l[1],d=hb().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new a2(a.shape,u,c,i,o):new r2(a.shape,u,c,i,o);return n.runWebGLProgram(d,[a],a.dtype)}},o2=N((function e(t,n,r){M(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,Z.Z)(n,3),i=a[1],o=a[2],s=(0,Z.Z)(t,3),l=s[1],u=s[2],c=[r&&l>1?i-1:i,r&&u>1?o-1:o],d=[r&&l>1?l-1:l,r&&u>1?u-1:u],h=c[0]/d[0],f=c[1]/d[1],p=1/h,m=1/f,v=2*Math.ceil(p)+2,g=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(f,");\n\n        const float invHeightScale = float(").concat(p,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(v,");\n        const int winWidth = int(").concat(g,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(l,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(u,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(c[0],") *\n                (float(dyR) / float(").concat(d[0],"));\n\n            float sourceFracCol =\n                float(").concat(c[1],") *\n                  (float(dyC) / float(").concat(d[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(i,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var s2={kernelName:Tw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,s=new o2(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}},l2=N((function e(t,n){M(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var a=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),i=rY(r);this.userCode="\n      void main() {\n        ".concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")})),u2=N((function e(t,n){M(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var a=mK("rc",r),i="".concat(a[r-1]," + 1 < ").concat(this.outputShape[r-1]),o="".concat(a[r-2]," + 1 < ").concat(this.outputShape[r-2]),s=rY(r);function l(e){var r=t.map((function(r,a){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(a,e)})),a=r.join(","),i=r.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(i,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(i,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(s," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return l(e)}(a.slice()),";\n          if(").concat(i,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",l(e)}(a.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",l(e)}(a.slice()),";\n            if(").concat(i,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",l(e)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}));var c2={kernelName:Mw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dims,o=a.shape.length,s=Uy(i,a.shape);if(0===o)return GK({inputs:{x:a},backend:n});var l=hb().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new u2(a.shape,s):new l2(a.shape,s);return n.runWebGLProgram(l,[a],a.dtype)}},d2=N((function e(t,n){M(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],a=t[2];this.outputShape=t;var i="";i="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(i,"\n          if(coordX >= 0 && coordX < ").concat(a," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),h2={kernelName:mk,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=n.radians,o=n.fillValue,s=n.center,l=r,u=new d2(a.shape,o),c=MN(s,a.shape[1],a.shape[2]),d=(0,Z.Z)(c,2),h=[[d[0],d[1],Math.sin(i),Math.cos(i)]];return l.runWebGLProgram(u,[a],a.dtype,h)}},f2=rJ({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),p2={kernelName:Aw,backendName:"webgl",kernelFunc:f2},m2=rJ({opSnippet:"return inversesqrt(x);",cpuKernelImpl:JY}),v2={kernelName:Iw,backendName:"webgl",kernelFunc:m2},g2=N((function e(t,n,r,a,i,o){M(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=rY(i.length),l=rY(o.length),u="";1===r?u="i":2===r&&(u="i, j");var c="getIndices(".concat(u,")"),d="";1===a?d="i":2===a&&(d="i, coords[1]");var h="getUpdates(".concat(d,")"),f=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(i,");\n\n        void main() {\n          ").concat(l," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(c,");\n              flattenedIndex += index * ").concat(f,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(h,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")}));var y2={kernelName:Nw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=t.updates,o=r.shape,s=ZA(0,a,o),l=s.sliceRank,u=s.numUpdates,c=s.sliceSize,d=s.strides,h=s.outputSize,f=[h/c,c];if(0===h)return n.makeTensorInfo(o,a.dtype);var p=hJ({inputs:{x:a},backend:n,attrs:{shape:[u,l]}}),m=hJ({inputs:{x:i},backend:n,attrs:{shape:[u,c]}}),v=n.makeTensorInfo([],"float32",new Float32Array([0])),g=new g2(u,l,p.shape.length,m.shape.length,d,f),y=n.runWebGLProgram(g,[m,p,v],m.dtype),b=hJ({inputs:{x:y},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),b}},b2=N((function e(t,n,r){var a,i;if(M(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)i="resRC",a="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],l=[],u=0;u<n.length;u++)l.push("".concat(o[u])),u<t&&s.push("".concat(o[u]));a=s.join(),i=l.join()}var c=rY(r);this.userCode="\n      void main() {\n        ".concat(c," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(i,"));\n        } else {\n          setOutput(getB(").concat(i,"));\n        }\n      }\n    ")}));var x2={kernelName:Rw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,i=t.e,o=new b2(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(o,[r,a,i],mS(a.dtype,i.dtype))}},w2=rJ({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(PN,";\n  float scale = ").concat(LN,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),k2={kernelName:Ow,backendName:"webgl",kernelFunc:w2},S2=rJ({opSnippet:nJ+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:$Y}),T2={kernelName:jw,backendName:"webgl",kernelFunc:S2},E2=rJ({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),C2={kernelName:Fw,backendName:"webgl",kernelFunc:E2},_2=rJ({opSnippet:nJ+"\n  return sin(x);\n"}),M2={kernelName:Pw,backendName:"webgl",kernelFunc:_2},A2=rJ({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),I2={kernelName:Lw,backendName:"webgl",kernelFunc:A2},N2=rJ({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),R2={kernelName:zw,backendName:"webgl",kernelFunc:N2},O2={kernelName:Ww,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.paddings;Iy(a.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),l=[[0,0]];l.push.apply(l,(0,_.Z)(o));for(var u=1+i.length;u<a.shape.length;++u)l.push([0,0]);var c=[],d=z1({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),h=AN(d.shape,i,s,!1),f=IN(h.length,i.length,!1),p=NN(d.shape,i,s,!1),m=hJ({inputs:{x:d},backend:n,attrs:{shape:h}}),v=kJ({inputs:{x:m},backend:n,attrs:{perm:f}}),g=hJ({inputs:{x:v},backend:n,attrs:{shape:p}});return c.push(d),c.push(m),c.push(v),c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}};var D2={kernelName:Hw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,i=t.denseShape,o=t.defaultValue;if(1!==i.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(i.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(a.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.readSync(r.dataId),l=n.readSync(a.dataId),u=n.readSync(i.dataId),c=n.readSync(o.dataId)[0],d=tK(s,r.shape,r.dtype,l,a.dtype,u,c),h=(0,Z.Z)(d,5),f=h[0],p=h[1],m=h[2],v=h[3],g=h[4];return[n.makeTensorInfo(p,r.dtype,f),n.makeTensorInfo([p[0]],a.dtype,m),n.makeTensorInfo([v.length],"bool",new Uint8Array(v.map((function(e){return Number(e)})))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}};var P2={kernelName:Gw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,i=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(a.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));var o=Array.from(n.readSync(a.dataId)),s=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),u=nK(s,r.shape,r.dtype,o,l),c=(0,Z.Z)(u,3),d=c[0],h=c[1],f=c[2];return[n.makeTensorInfo(h,r.dtype,d),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}};var L2={kernelName:qw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(i.shape));var o=n.readSync(r.dataId),s=n.readSync(a.dataId),l=n.readSync(i.dataId),u=rK(o,r.shape,r.dtype,s,l,!0),c=(0,Z.Z)(u,2),d=c[0],h=c[1];return n.makeTensorInfo(h,r.dtype,d)}};var F2={kernelName:Xw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(a.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(i.shape));var o=n.readSync(r.dataId),s=n.readSync(a.dataId),l=n.readSync(i.dataId),u=rK(o,r.shape,r.dtype,s,l),c=(0,Z.Z)(u,2),d=c[0],h=c[1];return n.makeTensorInfo(h,r.dtype,d)}};var j2={kernelName:Yw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,i=t.sparseValues,o=t.defaultValue,s=r.outputShape,l=ZA(0,a,s),u=l.sliceRank,c=l.numUpdates,d=l.strides,h=l.outputSize,f=new g2(c,u,a.shape.length,i.shape.length,d,[h,1],!1),p=n.runWebGLProgram(f,[i,a,o],i.dtype),m=hJ({inputs:{x:p},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(p),m}};var z2={kernelName:Zw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.numOrSizeSplits,o=Uy(r.axis,a.shape)[0],s=rR(a,i,o),l=a.shape.length,u=new Array(l).fill(0),c=a.shape.slice();return s.map((function(e){var t=(0,_.Z)(c);t[o]=e;var r=b$({inputs:{x:a},backend:n,attrs:{begin:u,size:t}});return u[o]+=e,r}))}},B2="return sqrt(x);",U2=rJ({opSnippet:B2,packedOpSnippet:B2,cpuKernelImpl:aK}),W2={kernelName:Bw,backendName:"webgl",kernelFunc:U2},Z2={kernelName:Jw,backendName:"webgl",kernelFunc:rJ({opSnippet:"return x * x;"})},V2="return (a - b) * (a - b);",H2=aJ({opSnippet:V2,packedOpSnippet:V2}),G2={kernelName:Kw,backendName:"webgl",kernelFunc:H2};var q2={kernelName:fk,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=SK+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new kK(a.shape,i);return r.runWebGLProgram(o,[a],a.dtype)}},X2=N((function e(t,n,r){M(this,e),this.variableNames=["x"],this.outputShape=r;var a=r.length,i=rY(r.length),o=rY(r.length),s="";if(1===a)s="coords * strides + begin";else{var l=0;s=r.map((function(e,t){return l++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(l-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(i," begin = ").concat(i,"(").concat(t,");\n      ").concat(i," strides = ").concat(i,"(").concat(n,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(s,"));\n      }\n    ")}));var Y2={kernelName:$w,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.begin,s=a.end,l=a.strides,u=a.beginMask,c=a.endMask,d=a.ellipsisMask,h=a.newAxisMask,f=a.shrinkAxisMask,p=OE(i.shape,o,s,l,u,c,d,h,f),m=p.finalShapeSparse,v=p.finalShape,g=p.isIdentity,y=p.sliceDim0,b=p.isSimpleSlice,x=p.begin,w=p.end,k=p.strides;if(g)t=hJ({inputs:{x:i},backend:r,attrs:{shape:v}});else if(y||b){Iy(i.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(i.shape.length)}));var S=AE(x,w,k),T=b$({inputs:{x:i},backend:r,attrs:{begin:x,size:S}});t=hJ({inputs:{x:T},backend:r,attrs:{shape:v}}),r.disposeIntermediateTensorInfo(T)}else{if(r.shouldExecuteOnCPU([i])){var E=r.readSync(i.dataId),C=YT(i.shape,i.dtype,E),_=iK(m,C,k,x);t=r.makeTensorInfo(v,i.dtype,_.values)}else{var M=new X2(x,k,m);t=r.runWebGLProgram(M,[i],i.dtype)}}var A=hJ({inputs:{x:t},backend:r,attrs:{shape:v}});return r.disposeIntermediateTensorInfo(t),A}};var K2={kernelName:Qw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,i=r.nGramWidths,o=r.leftPad,s=r.rightPad,l=r.padWidth,u=r.preserveShortSequences,c=t.data,d=t.dataSplits,h=n.readSync(c.dataId),f=n.readSync(d.dataId),p=oK(h,f,a,i,o,s,l,u),m=(0,Z.Z)(p,2),v=m[0],g=m[1];return[n.makeTensorInfo([v.length],"string",v),n.makeTensorInfo(d.shape,"int32",g)]}};var J2={kernelName:ek,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,i=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==i.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(i.shape));var o=n.readSync(a.dataId),s=n.readSync(i.dataId)[0],l=sK(o,s,r),u=(0,Z.Z)(l,3),c=u[0],d=u[1],h=u[2],f=d.length;return[n.makeTensorInfo([f,2],"int32",c),n.makeTensorInfo([f],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(h))]}};var $2={kernelName:tk,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=n.readSync(a.dataId),o=lK(i,r);return n.makeTensorInfo(a.shape,"int32",o)}},Q2=rJ({opSnippet:"return tan(x);"}),e3={kernelName:rk,backendName:"webgl",kernelFunc:Q2},t3=rJ({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),n3={kernelName:ak,backendName:"webgl",kernelFunc:t3},r3=N((function e(t,n){M(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*n[a];this.outputShape=r,this.rank=r.length;var i=rY(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push("imod(".concat(n[a],", ").concat(e[a],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")}));function a3(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;if("string"===a.dtype||a.shape.length>5){var o=n.readSync(a.dataId),s="string"===a.dtype?o.map((function(e){return Gk(e)})):o,l=YT(a.shape,a.dtype,s),u=cK(l,i);return n.makeTensorInfo(u.shape,u.dtype,u.values)}var c=new r3(a.shape,i);return n.runWebGLProgram(c,[a],a.dtype)}var i3={kernelName:ik,backendName:"webgl",kernelFunc:a3},o3=N((function e(t){M(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "})),s3=N((function e(t){M(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}));function l3(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function u3(e){for(var t=1;t<e;)t*=2;return t}var c3={kernelName:ok,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,o=r.sorted,s=hb().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=hb().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=a.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([a])||c<s||i>l){var d=n.readSync(a.dataId),h=dK(d,u,a.dtype,i,o),f=(0,Z.Z)(h,2),p=f[0],m=f[1];return[n.makeTensorInfo(p.shape,p.dtype,p.values),n.makeTensorInfo(m.shape,m.dtype,m.values)]}if(0===i)return u[u.length-1]=0,[n.makeTensorInfo(u,a.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(1===c)return[a,JQ({attrs:{shape:u,dtype:"int32",value:0},backend:n})];var v=n.texData.get(a.dataId),g=null!==v&&v.isPacked,y=g?n.unpackTensor(a):a,b=Dy(u)/c,x=hJ({inputs:{x:y},attrs:{shape:[b,c]},backend:n});g&&l3(n,y);for(var w=u3(i),k=u3(c),S=null,T=function(){return null===S?[x,x]:[x,S]},E=function(e,t,r){var a=T(),i=new o3(r),o=[[c],[null===S?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=S;S=n.runWebGLProgram(i,a,"int32",o),l3(n,s)},C=1;C<w;C*=2)for(var _=2*C,M=C;M>=1;M/=2)E(_,M,[b,k]);for(var A=k;A>w;A/=2){var I=T(),N=new s3([b,A/2]),R=[[c],[null===S?1:0],[w]],O=S;S=n.runWebGLProgram(N,I,"int32",R),l3(n,O);for(var D=w/2,P=2*D,L=D;L>=1;L/=2)E(P,L,S.shape)}var F=S;S=b$({inputs:{x:S},backend:n,attrs:{begin:0,size:[b,i]}}),l3(n,F);var j=m0({inputs:{x:x,indices:S},backend:n,attrs:{axis:1,batchDims:1}});l3(n,x);var z=u.slice(0,-1);z.push(i),F=S,S=hJ({inputs:{x:S},attrs:{shape:z},backend:n}),l3(n,F);var B=j;return j=hJ({inputs:{x:j},attrs:{shape:z},backend:n}),l3(n,B),[j,S]}},d3=N((function e(t,n,r,a,i,o){M(this,e),this.variableNames=["Image","Transforms"],this.outputShape=o;var s,l="nearest"===r?1:2;switch(a){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(i,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(i,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(l," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}));var h3={kernelName:sk,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.transforms,o=r.interpolation,s=r.fillMode,l=r.fillValue,u=r.outputShape,c=(0,Z.Z)(a.shape,4),d=c[0],h=c[1],f=c[2],p=c[3],m=null!=u?u:[h,f],v=(0,Z.Z)(m,2),g=v[0],y=v[1],b=new d3(h,f,o,s,l,[d,g,y,p]);return n.runWebGLProgram(b,[a,i],"float32")}};var f3={kernelName:uk,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;zX(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var o=r.readSync(i.dataId),s=fK(o,a,i.shape,i.dtype),l=s.outputValues,u=s.outputShape,c=s.indices;return[r.makeTensorInfo(u,i.dtype,l),r.makeTensorInfo([c.length],"int32",c)]}};var p3={kernelName:ck,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a,s=o.shape.length,l=a.shape[i],u=new Array(s-1),c=0,d=0;d<s;d++)d!==i&&(u[c++]=o.shape[d]);var h=[],f=new Array(s).fill(0),p=o.shape.slice();p[i]=1;for(var m=new Array(l),v=0;v<m.length;v++){f[i]=v;var g=b$({inputs:{x:o},backend:n,attrs:{begin:f,size:p}}),y=hJ({inputs:{x:g},backend:n,attrs:{shape:u}});m[v]=y,h.push(g)}return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),m}},m3=N((function e(t,n){M(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.numSegments,s=o*Math.ceil(i/r);this.outputShape=[a,s];var l=4*Math.floor(r/4),u=r%4,c="\n        sumValue += dot(values, segFilter);\n    ",d="";i%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      "));var h="";i%r>0&&(h="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(h,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===u,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(c,"\n        } else if (").concat(2===u,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(c,"\n        } else if (").concat(3===u,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(c,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}));for(var v3={kernelName:dk,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.segmentIds,o=r.numSegments,s=a.shape.length,l=[],u=0,c=X_([u],s),d=a;null!=c&&(d=kJ({inputs:{x:a},backend:n,attrs:{perm:c}}),l.push(d),u=K_(1,s)[0]);var h=function(e,t,n){for(var r=[],a=e.length,i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}(d.shape,u,o),f=Dy([d.shape[u]]),p=hJ({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}});l.push(p);var m=function e(t,r,a,i,o){var s=t.shape[0],u=t.shape[1],c=function(e,t){var n,r=!1;for(e<=CN?(n=e,r=!0):n=$y(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=$y(e,n+1);return n}(u,o),d=new m3({windowSize:c,inSize:u,batchSize:s,numSegments:o},r),h=n.compileAndRun(d,[t,a],i);if(l.push(h),h.shape[1]===o)return h;var f=V1({backend:n,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),p=a3({inputs:{x:f},backend:n,attrs:{reps:[u/c]}});return l.push(f),l.push(p),e(h,r,p,i,o)}(p,"unsortedSegmentSum",i,vS(a.dtype),o),v=hJ({inputs:{x:m},backend:n,attrs:{shape:h}}),g=v;if(null!=c){l.push(v);var y=Y_(c);g=kJ({inputs:{x:g},backend:n,attrs:{perm:y}})}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}},g3=0,y3=[CJ,MJ,IJ,RJ,PJ,jJ,zJ,BJ,GJ,qJ,YJ,JJ,QJ,t$,r$,o$,s$,c$,d$,h$,m$,w$,k$,S$,A$,R$,P$,YK,j$,G$,$$,rQ,aQ,iQ,oQ,sQ,uQ,dQ,fQ,gQ,yQ,xQ,SQ,CQ,_Q,AQ,NQ,RQ,DQ,PQ,FQ,zQ,UQ,ZQ,GQ,YQ,QQ,t0,a0,o0,u0,c0,d0,f0,v0,y0,x0,qK,w0,Z$,S0,E0,_0,$K,A0,N0,R0,D0,L0,j0,B0,W0,H0,q0,Y0,J0,$0,Q0,n1,r1,a1,i1,o1,l1,d1,f1,k1,dJ,T1,C1,M1,I1,E$,R1,P1,L1,B1,W1,tJ,Z1,H1,_$,v1,q1,Y1,J1,fJ,e2,n2,i2,s2,c2,h2,p2,v2,y2,x2,k2,T2,C2,M2,I2,x$,w1,R2,O2,D2,P2,L2,F2,j2,z2,W2,Z2,G2,q2,Y2,K2,J2,$2,b1,wJ,e3,n3,i3,c3,h3,SJ,f3,p3,v3,D1];g3<y3.length;g3++){Ek(y3[g3])}var b3=function(e){var t=e.open,n=e.closeModal,r="/icv_web_model/model.json",a=["Pala","Cuerpo","Cabina_Pala","Oruga","Brazo","Balde","Trasero_Pala","Camion","Neumaticos","Tolva","Cabina_Camion","Parrilla","Trasero_Camion"],i=(0,T.useState)(null),o=(0,Z.Z)(i,2),s=o[0],l=o[1],u=(0,T.useState)(""),c=(0,Z.Z)(u,2),d=c[0],h=c[1],f=(0,T.useState)(!1),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=(0,T.useState)(!1),y=(0,Z.Z)(g,2),b=y[0],x=y[1];(0,T.useEffect)((function(){var e=!1;if(!e)return CU(r).then((function(t){e||l(t)})),function(){e=!0}}),[]);var w=function(e,t,n){var r=e.naturalWidth,a=e.naturalHeight;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#000000",n.fillRect(0,0,t.width,t.height);var i=Math.min(t.width/e.naturalWidth,t.height/e.naturalHeight),o=Math.round(r*i),s=Math.round(a*i);n.drawImage(e,0,0,r,a,(t.width-o)/2,(t.height-s)/2,o,s)},k=function(){var e=mo(fo().mark((function e(t){var n,r,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById("canvas"),r=n.getContext("2d"),w(t.target,n,r),i=BE((function(){return lN.resizeBilinear(EE(n),[640,640]).div(255).expandDims(0)})),s&&i&&s.executeAsync(i).then((function(e){v(!1),x(!0);var t="16px sans-serif";r.font=t,r.textBaseline="top";var i,o=(0,Z.Z)(e,4),s=o[0],l=o[1],u=o[2],c=o[3],d=s.dataSync(),h=l.dataSync(),f=u.dataSync(),p=c.dataSync()[0];for(UE(e),i=0;i<p;++i){var m=d.slice(4*i,4*(i+1)),g=(0,Z.Z)(m,4),y=g[0],b=g[1],w=g[2],k=g[3];y*=n.width,w*=n.width,b*=n.height;var S=w-y,T=(k*=n.height)-b,E=a[f[i]],C=h[i].toFixed(2);r.strokeStyle="#00FFFF",r.lineWidth=4,r.strokeRect(y,b,S,T),r.fillStyle="#00FFFF";var _=r.measureText(E+":"+C).width,M=parseInt(t,10);r.fillRect(y,b,_+4,M+4)}for(i=0;i<p;++i){var A=d.slice(4*i,4*(i+1)),I=(0,Z.Z)(A,3),N=I[0],R=I[1];N*=n.width,R*=n.height;var O=a[f[i]],D=h[i].toFixed(2);r.fillStyle="#000000",r.fillText(O+":"+D,N,R)}})).catch((function(e){v(!1),alert("Se detecta que la m\xe1quina no est\xe1 completa en la im\xe1gen. Por favor al\xe9jese de la m\xe1quina para que el sistema logre identificar todas las partes.")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ct.jsx)(Xc,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Ct.jsxs)(vg,{sx:ii,children:[(0,Ct.jsxs)("div",{className:"Dropzone-page",children:[(0,Ct.jsxs)("h3",{children:["Inserte su im\xe1gen. ",(0,Ct.jsx)("br",{})," Para cambiar solo vuelva a tocar el cuadrado."]}),s?(0,Ct.jsxs)(wy.Z,{className:"Dropzone",accept:"image/jpeg, image/png, .jpg, .jpeg, .png",multiple:!1,onDrop:function(e,t,n){b?(v(!0),CU(r).then((function(t){l(t),setTimeout((function(){h(e[0].preview||n[0])}),2e3)}))):(v(!0),setTimeout((function(){h(e[0].preview||n[0])}),2e3))},children:[d?(0,Ct.jsx)("img",{alt:"upload preview",onLoad:k,className:"Dropzone-img",src:d}):(0,Ct.jsx)("h2",{children:"Presione para elegir una foto desde el archivo"}),(0,Ct.jsx)("canvas",{id:"canvas",width:"640",height:"640"})]}):(0,Ct.jsx)("div",{className:"Dropzone",children:"Cargando modelo..."})]}),(0,Ct.jsx)(Pg,{open:m,withProgress:!1,loadingData:"Cargando datos..."}),(0,Ct.jsx)(gy,{onClick:function(){n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})},x3=(n.p,function(e){var t=e.open,n=(e.report,e.closeModal),r=(0,T.useState)([]),a=(0,Z.Z)(r,2),i=a[0],o=a[1],s=(0,T.useState)(""),l=(0,Z.Z)(s,2),u=l[0],c=l[1],d=(0,T.useState)(""),h=(0,Z.Z)(d,2),f=h[0],p=h[1],m=localStorage.getItem("_id"),v=Ze();(0,T.useEffect)((function(){Vi(m).then((function(e){o(e.data.reverse())}))}),[]);return(0,Ct.jsx)(Xc,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Ct.jsxs)(vg,{sx:ai,children:[(0,Ct.jsxs)(Lh,{container:!0,style:{paddingTop:50},children:[(0,Ct.jsx)(Lh,{item:!0,xl:4,md:3,sm:2,xs:null}),(0,Ct.jsxs)(Lh,{item:!0,xl:4,md:6,sm:8,xs:12,children:[(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("h1",{children:"Dejenos sus comentarios de la aplicaci\xf3n."}),(0,Ct.jsx)(pf,{value:f,onChange:function(e){p(e.target.value)},placeholder:"Asunto",style:{width:"100%",fontSize:18,fontFamily:"Raleway"}}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Vh,{"aria-label":"empty textarea",placeholder:"Deje su comentario",minRows:10,maxRows:15,style:{width:"100%",fontSize:18,fontFamily:"Raleway"},value:u,onChange:function(e){c(e.target.value)}})]}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Hm,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){!function(){if(f.length>0&&u.length>1){var e={sendDate:Date.now(),message:u,from:localStorage.getItem("_id"),subject:f};navigator.onLine?Gi(e).then((function(e){Vi(m).then((function(e){o(e.data.reverse())})),alert("Mensaje enviado."),c(""),p("")})):alert("Error de red")}else alert("Asunto y comentario son obligatorios.")}()},children:"Enviar Mensaje"}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&(0,Ct.jsx)(Hm,{variant:"contained",color:"primary",style:{borderRadius:50,marginLeft:10},onClick:function(){n(),v("/internal-messages")},children:"Listado de mensajes"})]}),(0,Ct.jsx)(Lh,{item:!0,xl:4,md:3,sm:2,xs:null})]}),(0,Ct.jsxs)(Lh,{container:!0,style:{paddingTop:50},children:[(0,Ct.jsx)(Lh,{item:!0,xl:4,md:3,sm:2,xs:null}),(0,Ct.jsx)(Lh,{item:!0,xl:4,md:6,sm:8,xs:12,children:(0,Ct.jsx)("div",{style:{overFlow:"auto",maxHeight:200,display:"block"},children:i.map((function(e,t){return e.answer||(e.answer="No hay respuesta."),(0,Ct.jsxs)("div",{style:{width:"100%",fontSize:16,padding:10,borderRadius:20,borderStyle:"solid",borderWidth:1,borderColor:"#000",marginBottom:30},children:[(0,Ct.jsx)("div",{style:{position:"relative",top:0,width:"100%"},children:(0,Ct.jsx)(gy,{onClick:function(){!function(e,t){navigator.onLine&&confirm("Confirme la eliminaci\xf3n de su consulta.")&&qi(e).then((function(e){var t=i.filter((function(t){if(t._id!==e.data._id)return t}));o(t),alert("Mensaje borrado.")}))}(e._id)},style:{position:"absolute",right:0,top:0,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})}),(0,Ct.jsx)("p",{children:(0,Ct.jsx)("b",{children:e.subject})}),(0,Ct.jsx)("p",{style:{whiteSpace:"pre-line"},children:e.message}),(0,Ct.jsxs)("p",{style:{textAlign:"right"},children:["Enviado ",di(e.sendDate)," "]}),(0,Ct.jsx)("p",{children:(0,Ct.jsx)("b",{children:"Respuesta:"})}),(0,Ct.jsx)("p",{children:e.answer})]},t)}))})}),(0,Ct.jsx)(Lh,{item:!0,xl:4,md:3,sm:2,xs:null})]}),(0,Ct.jsx)(gy,{onClick:n,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})}),w3=n(97),k3=n.n(w3),S3=function(e){var t=e.open,n=e.handleClose,r=e.astList,a=(0,T.useState)(screen.height),i=(0,Z.Z)(a,2),o=i[0],s=i[1],l=(0,T.useState)(screen.width),u=(0,Z.Z)(l,2),c=u[0],d=u[1];window.addEventListener("resize",(function(e){s(e.target.screen.availHeight),d(e.target.screen.availWidth)}));var h={width:c,height:o,facingMode:"user"};return(0,Ct.jsx)(Xc,{open:t,style:{backgroundColor:"#ccc"},id:"cameraModal",children:(0,Ct.jsx)("div",{style:{textAlign:"center"},children:(0,Ct.jsx)(k3(),{audio:!1,height:o,screenshotFormat:"image/jpeg",width:c,videoConstraints:h,children:function(e){var t=e.getScreenshot;return(0,Ct.jsx)("div",{style:{position:"absolute",width:"100%",textAlign:"center",bottom:100},children:(0,Ct.jsx)(Jd,{onClick:function(){var e=t();r.push({id:Date.now(),image:e}),n()},children:(0,Ct.jsx)(Eu,{icon:Qo})})})}})})})};function T3(e){return(0,bc.Z)("MuiAppBar",e)}(0,yc.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var E3=["className","color","enableColorOnDark","position"],C3=function(e,t){return e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t},_3=(0,Dc.ZP)(td,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat((0,Ju.Z)(n.position))],t["color".concat((0,Ju.Z)(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,xt.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,xt.Z)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,xt.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,xt.Z)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:C3(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:C3(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:C3(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:C3(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),M3=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiAppBar"}),r=n.className,a=n.color,i=void 0===a?"primary":a,o=n.enableColorOnDark,s=void 0!==o&&o,l=n.position,u=void 0===l?"fixed":l,c=(0,wt.Z)(n,E3),d=(0,xt.Z)({},n,{color:i,position:u,enableColorOnDark:s}),h=function(e){var t=e.color,n=e.position,r=e.classes,a={root:["root","color".concat((0,Ju.Z)(t)),"position".concat((0,Ju.Z)(n))]};return(0,Yu.Z)(a,T3,r)}(d);return(0,Ct.jsx)(_3,(0,xt.Z)({square:!0,component:"header",ownerState:d,elevation:4,className:(0,Xu.Z)(h.root,r,"fixed"===u&&"mui-fixed"),ref:t},c))})),A3=M3;function I3(e){return(0,bc.Z)("MuiToolbar",e)}(0,yc.Z)("MuiToolbar",["root","gutters","regular","dense"]);var N3=["className","component","disableGutters","variant"],R3=(0,Dc.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&(0,kt.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),O3=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiToolbar"}),r=n.className,a=n.component,i=void 0===a?"div":a,o=n.disableGutters,s=void 0!==o&&o,l=n.variant,u=void 0===l?"regular":l,c=(0,wt.Z)(n,N3),d=(0,xt.Z)({},n,{component:i,disableGutters:s,variant:u}),h=function(e){var t=e.classes,n={root:["root",!e.disableGutters&&"gutters",e.variant]};return(0,Yu.Z)(n,I3,t)}(d);return(0,Ct.jsx)(R3,(0,xt.Z)({as:i,className:(0,Xu.Z)(h.root,r),ref:t,ownerState:d},c))})),D3=O3,P3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPkAAAD6CAYAAABj2+E+AAABVWlDQ1BEaXNwbGF5IFAzAAAoz2NgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGgkwMjB8uwYiGRgu64LMOiU1tUm1XsDXYqbw1YuvRJsY8AOulNTiZCD9B4hTkwuKSoBGpgDZyuUlBSB2B5AtUgR0FJA9B8ROh7A3gNhJEPYRsJqQIGcg+waQrZCckQg0g/EHkK2ThCSejsSG2gsC3C6ZxQU5iZUKAcYMVAclqRUlINo5v6CyKDM9o0TBERhKqQqeecl6OgpGBobmDAygMIeo/hwIDktGsTMIseb7DAy2+////78bIea1n4FhI1An106EmIYFA4MgNwPDiZ0FiUWJYCFmIGZKS2Ng+LScgYE3koFB+AJQT3RxmrERJPZ4nBgYWO/9//9ZjYGBfTIDw98J////XvT//9/FQM13GBgO5AEAFwJl7w8EHeAAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAnOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5MzM4Y2ZlLWEyODctNDk2MC1iODcyLTk5YWY2YWRjYzYwYSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjJkZTFlNjU4LTg3NDEtYmY0YS05NzYyLTVlZjMxNzAxM2Q3YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyMjhiZDNiLWViZDEtNDM3Ny04N2UxLTkwNDMxNmNjZmIwOSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRpc3BsYXkgUDMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI4YmQzYi1lYmQxLTQzNzctODdlMS05MDQzMTZjY2ZiMDkiIHN0RXZ0OndoZW49IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTkzMzhjZmUtYTI4Ny00OTYwLWI4NzItOTlhZjZhZGNjNjBhIiBzdEV2dDp3aGVuPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjAwNjQ2MkNDRjBEN0QxMUI4RkYyRTQxQTc0NjAyQzRGPC9yZGY6bGk+IDxyZGY6bGk+MUMwODU5NjM2MTVEOTlDOEY4MDlEOEQ2MzEwNjk2MTI8L3JkZjpsaT4gPHJkZjpsaT4xQzYxNjVFODQwNTlBRjBCQUNFQzcwMUNFRUE4ODUzODwvcmRmOmxpPiA8cmRmOmxpPjU3NjEzM0IwMTc1ODM0QTM5OTRBQTA4RjYxRUJCQzE2PC9yZGY6bGk+IDxyZGY6bGk+NUZCQzczNEJBQzk2MzYxMDI0NzFDMkMxRDQzRkNENUU8L3JkZjpsaT4gPHJkZjpsaT44NEJFRkM1N0VDRjBBMkQ2MTFCRTM4QjIyODU0NDFFQjwvcmRmOmxpPiA8cmRmOmxpPkIxQkEyNkY5RDM3QzE4MTg3RjMwMzRBQTFCQkIzNUVBPC9yZGY6bGk+IDxyZGY6bGk+Q0JDOTNCMzBEQ0YxNkU3RDgzMzYyNDdBMDAyOTU4MzM8L3JkZjpsaT4gPHJkZjpsaT5GOEVEOEI3NEZGRkVDNkRBNDExNzZGRDUyNzY5NTk1NTwvcmRmOmxpPiA8cmRmOmxpPkZFNkJEMEJBNUJFQzE5RDQ3OTE0NEMxNTJDQkJDRUYyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDowMEMyNkRBQzI0MjA2ODExOERCQkQ4MzgxN0Q4NjVFNTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NjgyNWRjMjQtY2ZhOC00ODBlLWE5MmItMmUzNDM5ZThhNWQ0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo2OUQ3QUJCNDIxMjA2ODExOEY2MkVGRUNFNjdBQ0M0MzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QTZDNzJERDQwNzIwNjgxMTk1RkVDRDVERDFDODBCMTU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkQxQjVGNTREQTFDMjExRTFBQzZEQ0JBNUM5RDJGMjAwPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDpFMUI3NzlGNzM2MjA2ODExOTEwOUQyOEQxMkM0ODBCNzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6Y2Q3YzM4MWQtM2M1Yy00ZGYxLTg2NWEtODFkZDBlOWI5NDFhPC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HBn8IgAAD+lJREFUeF7t3QlslfWax/GnLTule2lpAaGsIt4rXHZkkaWUTa2CDE7UmQR09Dp4NTG5hnGJjnGJUclMzOio6L3qzCAqA5dNwYV1FOPGDKC54IJQkVX2rTh9Xv8VkJ5z3tO+5z2Hx+8nOeH/vG1SKPmd9z3/Ne3HGgLArHT3JwCjCDlgHCEHjCPkgHGEHDCOkAPGEXLAOEIOGEfIAeMIOWAcIQeMI+SAcYQcMI6QA8YRcsA4Qg4YR8gB4wg5YBwhB4wj5IBxhBwwjpADxhFywDhCDhhHyAHjCDlgHCEHjCPkgHGEHDCOkAPGEXLAOEIOGEfIAeMIOWAcIQeMI+SAcYQcMI6QA8YRcsA4Qg4YR8gB4wg5YBwhB4wj5IBxhBwwjpADxhFywDhCDhhHyAHjCDlgHCEHjCPkgHGEHDCOkAPGEXLAOEIOGEfIAeMIOWAcIQeMI+SAcYQcMI6QA8YRcsA4Qg4YR8gB4wg5YBwhB4wj5IBxhBwwjpADxhFywDhCDhhHyAHjCDlgHCEHjEv7sYZrI4IvvvhCli9fLlu2bJHjx49Lfn6+9OnTR0aMGCHNmjVz3wWkJkIeg4Z7/vz5rjpb69at5dZbb5Xs7Gx3BUg9PK5HoXfwSAFX33//vbz44ouuAlITIY/irbfecq3INm/eLF999ZWrgNRDyKP48ssvXSs6DTqQqgh5FCdPnnSt6Px+H5AMhDyKwsJC14pOO+CAVEXIo+jfv79rRZaZmSk9evRwFZB6CHkUw4YNkw4dOrjqXGlpaTJlyhRp2rSpuwKkHsbJYzh27JjMnTtX1q1bJ2f+qvLy8mTy5MncxZHyCLlPP/zwg9fbfuLECS/gHTt2lPR0HoSQ+gg5YBy3IsA4Qg4Yx+N6FMuWLfNesTz88MOulViHDh2S3bt3e6/9+/d7/QP6Uo0aNfJWxOlimZycHCkqKoqr1//I1m9k13vvuCp8Ob/rI60uvMhV/vxYXS07/vLfrvqF9HQpnnilK37dCHkUixcvliVLlrgqslmzZrlWsHbu3CkbNmzwlrhqp592/vmlw3u6JFaHALt06SLdu3f3wh/JyQP7ZfXIIXLq2FF3JVy5/QbIJf8e32KfXe8sl/V/uMVVZ8sfMlx+869Pu+rXjZBHkYyQ6x167dq18vHHH0tVVZW7GowLLrhA+vbt662Fb968ubt62sa7/yjfzX/DVeEbsOBNad7+AlfF9tk//oPsXlH304cGXIMOPpOnjK1bt8oLL7wg9957ryxatCjwgKuvv/7aG/O/55575NVXX5W9e/e6r/ykTeUk10qO7a/Nca3Yjn1XJXtWveeqszUrKZW8wUNdBUKeZDt27JDZs2fLY4895t29T5065b6SOLq7zapVq+SBBx7wwn7gwAHvek7vPtKirJPXToaqea/JqZq/mx/6vT9G+F2VTp4qacxh+Bm/iSTRlWt6x9ZOu08++cRdDVd1dbUX9gcffFA2btzoXSu5arL3ZzKc2LdXdi5b6qrINNwa8rqkN25c80RytaugCHkSbNu2TR599FFZunRpKHfuWI4cOfLzxhfaI61BSRY/j+x7Vq+Uo1XbXXW2wvIKaZyb5yooQh6y999/X5544gnvMT0VNc7JlYKR5a4K374PP5DDW6JvwrH99chvBKXX/K1roRYhD4kOYsybN09eeeWVn8e2U1UyH9nVtrn/6VrnOr5rl+yOMJ6f2a27ZF/Sy1WoRchDoI/kL7/8srzzTvCTTXQoLOilrjpm3bxde1eF77sF8+TUsWOuOlvVvLneJJi6lF4z1bVwJsbJowhinFx/vS+99JJ8+OGH7kr96O4zOqmlrKzMm82mu9acuee7/hydEac7yOrwm37G1s602p7zWCoqKmTs2LGuEvn62X+TLf/yhKvCd+E/P3LujLWaf+P/TBgtR77d6i6cltGypQxevloy6hj//7Uj5FEEEfLXX39d3nuv7vHcWFq1aiUDBgzwJrBosOOl/7XffPONrFmzRj766CNv6CySX4ZcH4vXlA+NeNdMtOzf9pLefzr7sX3v+2vlkxv/zlVnazv1Ounyx39yFc5EyKNoaMh1eErHoeOVlZUl5eXlXsAbB9TTffjwYXn77bfl3XffrbNP4JchV+tv/73sejv23P1E6Td3gbTs0tVVNR97at6kzpx22yizlc7fdRUi4TN5gujsMr2Lx0Pnmw8fPlxmzpwpQ4YMCSzgqkWLFjJhwgS5++67pWfPnu5qdCVXXeNaybH9tf9yrZ+kN2kijVpl/fwi4P4Q8gTQLaN0iqpONvFL79633HKLVFZWJvR8NV2lNn36dLn22mtjvonkDR4iTYvbuCp8VfPfkOojR1yF+iLkCbBw4ULZs2ePq2IrLS2VO++8U7p2Pf1ommi6E+1tt93mvblEolND21yZvNlj1dqRuGShq1BfhDxg2tG1YsUKV8XWuXNnmTFjRtSwJUq7du3kjjvukNzcXHflXCWVk5I6D3z7q5HHzOEPIQ/YggULvF5tP9q2bSvTpk1L6vHHGnA9mTXSm4w+rucNutRV4dv/f+vl4KYNrkJ9EPIA6Smo+vJDQ3XTTTfVua47bAUFBTJ48GBXnavk6imulRzb5vyHa6E+CHmA/JyCqrQX/YYbbkjKI3p95A+7TJrkF7gqfDsW/8X7fI76IeQB0QUnfu/iQ4cO9T6Lny/SMjKS2wF3+HBN0Be4CvEi5AHRWWV+6BDWuHHjXHX+aJPsRSs8stcbIQ+AdrTpri5+jBw5MqkdbfXVvG07b+FKshz8fJPs/9/PXIV4EPIA6LCZn51UdS76oEGDXHX+KZmU3A44htPqh5AHQLdN9qNfv36BTlUNW8Flo6RxlG2dE23H4oXe1tGIDyEPgO6J7oeG/Hymc8eLJ1a6Kny6OGXPWn99HziNkAdAF6PEoiehFhcXu+r8lcxdY9KbNpPc/gNdBb8IeQCOHo196kiY89ITSbdszu71O1eFq2jseGmcne0q+EXIQ6Knl1hRcnVylqCWXnOtayEehDwkun2TFYWjx/y0YUOIWl3U03shfoQ8JPqZ3IqMZs2leOIVrgpH2ylstVxfhDwkqbAQJUhhnpvWKCtLWlecf7MEUwUhD0nQ2yYnW2a3CyXrootdlVhtrrja61lH/RDykOiWUNa0CakDjv3UG4aQh8RiyIsqxktGixauSoy8gZfGdWY5zkXIQxLPnm/nCz3QoHVN0BOJu3jDEfKQ6MkmFiVyzLxpUbHkD7/MVagvQh6Sb7/91rVsyer5G8ns2s1VwdJVb2npGa5CfRHyADRp0sS1Ivv8889dy55EbCiR1qhR0g93sIKQB6B9+9gngOrj+u7du11lS/GEKwIf4iocMVqaFCRvXzlLCHkAOnTo4FrRffDBB65lix5ZVDiq3FXBKJ3CPPWgEPIA9OjRw7Wi05DrWeUWBblrTMuyzpLT5/xee59KCHkAOnbsKJmZma6KTIfR1q1b5ypbcnr3kRYdOrqqYUoYNgsUIQ9Aenq6XHyxvymeS5curfPoYAuCGE7TyTXFl1/pKgSBkAfk0kv9HSWknW/LliXvzO9EKr68UtIbuIdd0bjLpVHL2E9F8I+QB0TPNfPbAach37Ztm6vsaJyTKwWXjXRV/dDhFjxCHqBRo0a5VnQnT56U559/Xo6k0Nnbfg9pjKVk0t+4VvyyL+mdsIk1v2aEPEA9e/b0vc3Trl27vKBXV1e7K8mzf/9+efPNN13VMHoAQ7PStq6KD9s7JQYhD5AeZDhx4kRXxaZnp82ePTupQT906JA89dRT3ptOIGp+B/XZ0bVxbp4Ulle4CkEi5AHr0qWL9O3b11WxrV+/Xp5++mlfO74GTYP95JNPSlVVlbsSjDZXTop7znlJ5aQGd9qhboQ8ASorK32Nm9fSee2PP/64bN++3V1JPD31RX9mIlbH6XTU/GHDXeWD3v0n1/+zPKIj5AnQsmVLue6667zHd7/06GMN3fLlyxP6+K6bV8yZM8d7etBH9VpBj93HM2aeP2S4NCspdRWCRsgTpHv37lJREd9nTA3a/Pnz5ZFHHvEe44Pq8Vb6xrFy5Uq5//77ZfXq1e7qadrjH6S8wUO89eB+sDFEYhHyBBozZoz06tXLVf7pXf3ZZ5+Vhx56yAvmmXfceO3du1cWLVok9913n8ydO1cOHjzovpJY+pncz46u2hOvbwhInLSau0VwtwtjFi9eLEuWLHFVZLNmzXKtc+kd9JlnnpFNmza5K/HTabOdO3f2XmVlZVJUVCRZWVnuq6fpf6XOj9eOND2EcePGjb4n3ei03GnTprkqGEertsvasSP0L+aunKvTH+6U9n8f7M/F2Qh5FEGEXB0/flyee+65BgX9l/QIZP3sr1s968o27Z3XV30/Wyci5Oqz30+X3atWuOps2ps+aNlKb6YcEofH9RDozjE33nij9O7d211pOA3zvn37vEf7nTt3yoEDB1Jy4Uu0XWNajxlHwENAyEOSkZEh119/vYwfPz6uXvfzXcGwEdIkv+4dXlhSGg5CHiINd3l5udx8883SqlW4BwYmi+7V1uaKq1x1mp7Akv3b+DslET9CngTdunWTmTNnyoABA9yV5NKnDO3US5S6etlZbRYeQp4kegDi1KlTZcaMGb6XqCaCdrjdddddMnx4HDPU4qQnoOjClVq6XrxonP85/mgYQp5knTp1kttvv12mT5/uDY+FQT826Io5/bnao15YWOi+kjhndsAV1zy+Zxg75TWVMYQWRVBDaPHQcW2dkfbpp58GPnElPz/f6+EfOHCg1w7TqePHZc3oIXJi3z7p/8YiaVHWyX0FiUbIo0hGyGvp2PeWLVu8hST659atW+OeeqpDd7onfNeuXb1pttpOZs/+Xx97SA5s3CC9nvuzu4IwEPIodAzazyotv5s4NoQGvPaABl0iqnd5HRev3V1GP+PrBJmcnBzvVVxcLAUFBSk1XHdoy1/l8ObNUjh6jLuCMBBywDg63gDjCDlgHCEHjCPkgHGEHDCOkAPGEXLAOEIOGEfIAeMIOWAcIQeMI+SAcYQcMI6QA8YRcsA4Qg4YR8gB4wg5YBwhB4wj5IBxhBwwjpADxhFywDhCDhhHyAHjCDlgHCEHjCPkgHGEHDCOkAPGEXLAOEIOGEfIAeMIOWAcIQeMI+SAcYQcMI6QA8YRcsA4Qg4YR8gB4wg5YBwhB4wj5IBxhBwwjpADxhFywDhCDhhHyAHjCDlgHCEHjCPkgHGEHDCOkAPGEXLAOEIOGEfIAeMIOWAcIQeMI+SAcYQcMI6QA8YRcsA4Qg4YR8gB4wg5YBwhB4wj5IBxhBwwjpADxhFywDhCDhhHyAHjCDlgHCEHjCPkgHGEHDCOkAPGEXLAOEIOGEfIAeMIOWAcIQeMI+SAcYQcMI6QA8YRcsA4Qg4YR8gB4wg5YBwhB4wj5IBxhBwwjpADpon8P160iYdFVeG6AAAAAElFTkSuQmCC",L3=n(2120),F3=n.n(L3),j3=ei((function(e){return{appbar:{height:80,width:"100%",backgroundColor:"#fff",borderBottomRightRadius:30,color:"#000"},locationIcon:{height:60,width:100,display:"flex",alignItems:"center",justifyContent:"center"},locationText:{display:"flex",flex:1,justifyContent:"flex-end",alignItems:"center",fontSize:"1rem"},languageSelector:{marginRight:15,"&.MuiInputBase-root":{color:"white"},"& .MuiSelect-icon":{color:"white"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}}}})),z3=function(){var e=j3(),t=(0,T.useContext)(bNe).isOnline,n=yNe().navBarOpen,r=cNe(),a=r.isAuthenticated,i=r.userData,o=(r.admin,r.site,(0,T.useState)("")),s=(0,Z.Z)(o,2),l=s[0],u=s[1],c=TNe().message,d=VNe(),h=d.downloadingData3D,f=d.progressDownload3D,p=d.openDownload3D,m=d.openVersion;(0,T.useEffect)((function(){"Recursos descargados"===h||"Modelos 3D descargados."===h?(u("Recursos 3D descargados"),setTimeout((function(){u("")}),1e3)):u("".concat(h," - ").concat(Math.trunc(f),"%. No desconecte internet")),console.log(h,f,p,m)}),[h,f,p,m]);var v=Ze();(0,T.useEffect)((function(){console.log("La red est\xe1 o no conectada: ",t),t||F3()({icon:P3,title:"Alerta",subtitle:"P\xe9rdida de conexi\xf3n",message:"El dispositivo no cuenta con conexi\xf3n a internet.",theme:"red",native:!0})}),[t]);return(0,Ct.jsx)(A3,{className:e.appbar,children:(0,Ct.jsx)("div",{className:"header-bar",children:(0,Ct.jsxs)(D3,{children:[!n&&(0,Ct.jsx)(gt,{to:"/",children:(0,Ct.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAABpCAYAAADoScsPAAABVWlDQ1BEaXNwbGF5IFAzAAAoz2NgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGgkwMjB8uwYiGRgu64LMOiU1tUm1XsDXYqbw1YuvRJsY8AOulNTiZCD9B4hTkwuKSoBGpgDZyuUlBSB2B5AtUgR0FJA9B8ROh7A3gNhJEPYRsJqQIGcg+waQrZCckQg0g/EHkK2ThCSejsSG2gsC3C6ZxQU5iZUKAcYMVAclqRUlINo5v6CyKDM9o0TBERhKqQqeecl6OgpGBobmDAygMIeo/hwIDktGsTMIseb7DAy2+////78bIea1n4FhI1An106EmIYFA4MgNwPDiZ0FiUWJYCFmIGZKS2Ng+LScgYE3koFB+AJQT3RxmrERJPZ4nBgYWO/9//9ZjYGBfTIDw98J////XvT//9/FQM13GBgO5AEAFwJl7w8EHeAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAnOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5MzM4Y2ZlLWEyODctNDk2MC1iODcyLTk5YWY2YWRjYzYwYSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjJkZTFlNjU4LTg3NDEtYmY0YS05NzYyLTVlZjMxNzAxM2Q3YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyMjhiZDNiLWViZDEtNDM3Ny04N2UxLTkwNDMxNmNjZmIwOSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRpc3BsYXkgUDMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI4YmQzYi1lYmQxLTQzNzctODdlMS05MDQzMTZjY2ZiMDkiIHN0RXZ0OndoZW49IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTkzMzhjZmUtYTI4Ny00OTYwLWI4NzItOTlhZjZhZGNjNjBhIiBzdEV2dDp3aGVuPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjAwNjQ2MkNDRjBEN0QxMUI4RkYyRTQxQTc0NjAyQzRGPC9yZGY6bGk+IDxyZGY6bGk+MUMwODU5NjM2MTVEOTlDOEY4MDlEOEQ2MzEwNjk2MTI8L3JkZjpsaT4gPHJkZjpsaT4xQzYxNjVFODQwNTlBRjBCQUNFQzcwMUNFRUE4ODUzODwvcmRmOmxpPiA8cmRmOmxpPjU3NjEzM0IwMTc1ODM0QTM5OTRBQTA4RjYxRUJCQzE2PC9yZGY6bGk+IDxyZGY6bGk+NUZCQzczNEJBQzk2MzYxMDI0NzFDMkMxRDQzRkNENUU8L3JkZjpsaT4gPHJkZjpsaT44NEJFRkM1N0VDRjBBMkQ2MTFCRTM4QjIyODU0NDFFQjwvcmRmOmxpPiA8cmRmOmxpPkIxQkEyNkY5RDM3QzE4MTg3RjMwMzRBQTFCQkIzNUVBPC9yZGY6bGk+IDxyZGY6bGk+Q0JDOTNCMzBEQ0YxNkU3RDgzMzYyNDdBMDAyOTU4MzM8L3JkZjpsaT4gPHJkZjpsaT5GOEVEOEI3NEZGRkVDNkRBNDExNzZGRDUyNzY5NTk1NTwvcmRmOmxpPiA8cmRmOmxpPkZFNkJEMEJBNUJFQzE5RDQ3OTE0NEMxNTJDQkJDRUYyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDowMEMyNkRBQzI0MjA2ODExOERCQkQ4MzgxN0Q4NjVFNTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NjgyNWRjMjQtY2ZhOC00ODBlLWE5MmItMmUzNDM5ZThhNWQ0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo2OUQ3QUJCNDIxMjA2ODExOEY2MkVGRUNFNjdBQ0M0MzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QTZDNzJERDQwNzIwNjgxMTk1RkVDRDVERDFDODBCMTU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkQxQjVGNTREQTFDMjExRTFBQzZEQ0JBNUM5RDJGMjAwPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDpFMUI3NzlGNzM2MjA2ODExOTEwOUQyOEQxMkM0ODBCNzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6Y2Q3YzM4MWQtM2M1Yy00ZGYxLTg2NWEtODFkZDBlOWI5NDFhPC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HBn8IgAAB6ZJREFUeNrtnX1oVlUcx+82ddOardSYgmZTwwm+la0MbZQRNSlXWFLCUMOMslWGFma4CjQEUysqNGOlYLM/XBnRaqZh2RuhEZmVurQXZUZppqbLPX1P/CZPj8+9O+c+595z77m/Ax98u297fh/Pc8/b7zipVMphGFn4Q2BYGIaFYVgYhoVhWBiGYWEYFoZhYRgWhmFhGBaGYbQL01Fqa2uvBU3gGEiBPeAp0NPhEtliRBhIMY8kycZ3oB+HhoX5D8gwwUOWDj7k0LAwHcI0SwgjGMvhYWGEMMclhZnL4WFhhDCnJYVZwOFhYYQwuySFuZ3Dw8IIYR6VkKUVnMvhYWGEMEVgm4cs4ivrFg4NC5PeD1MM6kF7hiw/gioOCwtzVk8vidMPTAY1YDwo4JCwMK7CcGFhWBgWhoXhYr5ZfbgzwvoAcK9e4HIwBTxAz1dHzAf3iVYbHaPU1P9gxCWDwIMGuVT188A5XcA0F2pMCFMn03EXoCBDSIz14GfJTsQORKtuN1gLZoD+nXz4JeA4SBlikw9hJnlc7+1ECIPr9QWPg68VBZHhUzAbnOcSgHqDwggGKwqz0eNaE60WBte5DDSAtgBEyURMBHsBDMgIwHjDwixRkKU/OO1ynRaQb6UwOH8oeCMESbJxisS5MC0QOw0KcwgUSgqz0OM6j5h66Q1MGJxXCJ4MqUbpjD/ADRSIOYZrmTslZMkH+1zOPwn6WCUMzhkJvo2AKOnUUTB604duSpgtEsJUeZy/1mSzWrswOH46OBExWc4IQwFZZ7iWKe9EmA0e515lhTA4Lg8sjaAo2YSZYFiY5R6ylII2l/N2mO640yIMjukCXg0o0KLz8KhmYfLAboPC/A6KXISZ73HerNgLQzXLGg0BFUtaXgRTqQneM+M++aAPGAfuoSkZB/0IIxGYMKjJIosQeY/L8X+Cc2wQZkUOkoiALwLlPltiQtYrwOq0RXiywnhV/WGwLYswXl+Vz0ZhLCknYfBv9/oU5QCNC3XX2IN8Psl3QkYYiZfLMBie8TyFNITRQV7UBh99C4O/rwAnFUURUz6XBbkElyaCvSkpTJVhYZ6L22i1L2HESDFoUZTlV7GGO8SR7+kZ667qXDrI9hsU5qz3EluFWa4oy3ZQGvZ8EXp5PuAmDElTZ7iWuctqYfDnMQoL4ASbTWaBEAOQYJ+HMF6DfGHwue3CNCvI8qXbVIOQpRkMZnl0lr1juJYZbaUwlEdGpSVU6sSgIGDVhoVZaaswzQqtocq4zI2lqZAHDQpzFBRbJQzNa5GtXZbHbUI1ArbIcC0zyzZhlknK8kscU50hYGWGhdlhjTDUBS87Sbs2rss2xERtw9JU2CJMhcLYUPcYCzPFsDCrbRHmCcnjljgxLjSW85tBYcQymBIbhHlP8rhhTswLArbUcC1zmw3CHJE4psWxoIjpk4ZrmAtsEEaGlx1LCoK21ZAwr9jyDiPD3RYJU2NImDFJEqbSImF6gMMhy/KFTf0wMgx0LCpiclPIwkxLmjAllgkzKuRVBN2TJox1OfHEXJWQhFlq1Wh1EmsYEmZmFNOA2CJMfwuFKaapB0HK0uT3+eIuzDjHwoKArgpYmOqkCjPDUmEqApTlJ1CQVGGedywtCOpXAQmT0y4xURbmmMQxuywW5v4AZDklluvaKswWyePKLBUmiAycDbk+V5SFWewnQ4Jl0qzRLEylzcJcLXmcWD7bxVJhdGbg/EbHM0VZmALaaEvm2GkW1zK7NAkz22phxMPh15WSwohN0ossFeZhTWuQeiZBmNF+sz1ZJIyODJwv6XqeOKx8/ERSmL/BKEulWZ+jMCOSJEy1Qi3zQxQW4qc9e54mYXLJwPmRzp8pDsKIBW2fKUizCXSLgCyluvbepsSFe30KMzVRwtCHf43ikMEGk9LQHkxi55R6jV9LfjJwtoJuiROGgqCak/d9E+utcc9BlM41pVkYkYHzH0VhFuv++eIkTC+FfpkOxN4Dw0OU5UZwKO3+9TqvDwEaFWRpBwMTKwwF5HrF1GUpSok6F3QNUJRiShCdee8GzcJMVBBmYxA/axzz9C70ORViJ7W48jWK0o12Y3Or+Ro1C1NA81lkhKliYZwz6dxfz2EOzU5K8Nw7B1EG0L5MBzq5V6PugElm4BQtqnwW5v//s5tynHzVRunQFlArrK+HoGXgZhpB36FwjyCEuYjeT7yEmRfU12+cdzPpAd7VvIuJSMq8n2qh7yn3TC77MDUGEbROMnCKYYTeLIx7TbMuwvslBSXMrR7CvBZkSzD2O7JRT/BjPlpPcRamq0cGzrEsjJw41ynuZRRbYUiaxVlk2R50X5Ntu8qW0D5GUZBF7LryUIDCDM4izEwWxp8448E2kzULGBLCtIf0DJxHctmlJNHCpIlzE9gakiTt4C1wZYjzZO5IE2ZFGPe0Wpg0cUZS131rAKLspV3ZLg57oDMjA2c5C6N/zEdMLK8UqVrBxzRLT1WQv2h7nQWUSzjPMVggyjNgc1j3MyHMUBrT8SSk0eVCMZpN95xDPbkraPfYevr90zSUMEm8l+gci9IkzDAw2VphmGTCHwLDwjAsDMPCMCwMw8IwDAvDsDAMC8OwMAwLw7AwDOPGv3Wb5ZG6WpljAAAAAElFTkSuQmCC",height:75})}),a&&i&&(0,Ct.jsx)(T.Fragment,{children:(0,Ct.jsx)("div",{className:"user-name",onClick:function(){v("/user-profile")},children:(0,Ct.jsxs)("dl",{children:[(0,Ct.jsx)("dt",{style:{margin:0},children:(0,Ct.jsxs)("div",{children:[" ",(0,Ct.jsxs)("p",{className:"nombre",children:[" ",i.name," ",i.lastName," "]})," "]})}),(0,Ct.jsxs)(Lh,{container:!0,children:[i.roles&&i.roles.map((function(e,t){return(0,Ct.jsx)(Lh,{item:!0,style:{marginRight:10},children:(n=e,"superAdmin"===n?"Super Administrador":"admin"===n?"Administrador":"sapExecutive"===n?"Ejecutivo SAP":"inspectionWorker"===n?"Operario de Inspecci\xf3n":"maintenceOperator"===n?"Operario de Mantenci\xf3n":"shiftManager"===n?"Jefe de turno - Inspecci\xf3n y Mantenci\xf3n":"chiefMachinery"===n?"Jefe de maquinaria":"observer"===n?"Observador":void 0)},t);var n})),(0,Ct.jsx)(Lh,{item:!0,children:(0,Ct.jsx)("strong",{children:l})})]})]})})}),(0,Ct.jsxs)("div",{style:{position:"absolute",right:10},children:[(0,Ct.jsxs)("p",{children:[" ",(0,Ct.jsx)("b",{children:c.length>0&&c})," ",(0,Ct.jsx)(Eu,{icon:rs,color:t?"#2FB83F":"#B62800"})," ",t?"Online":"Offline"]}),!t&&(0,Ct.jsx)("p",{children:"Sin red"})]})]})})})},B3=n(9864),U3=ei((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}})),W3=function(){var e=mNe().dictionary,t=cNe(),n=t.login,r=t.loginRut,a=(0,T.useState)(""),i=(0,Z.Z)(a,2),o=i[0],s=i[1],l=(0,T.useState)(""),u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=(0,T.useState)(""),f=(0,Z.Z)(h,2),p=f[0],m=f[1],v=(0,T.useState)("rut"),g=(0,Z.Z)(v,2),y=g[0],b=g[1],x=(0,T.useState)("email"),w=(0,Z.Z)(x,2),k=w[0],S=w[1],E=U3(),C=Ze(),_=Ue(),M=(0,T.useState)("password"),A=(0,Z.Z)(M,2),I=A[0],N=A[1],R=function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"rut":return d((0,B3.format)(e.target.value));case"email":return s(e.target.value);case"password":return m(e.target.value)}};(0,T.useEffect)((function(){_.pathname.length}),[]);var O=function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"email"!==y){e.next=8;break}return e.next=4,n(o,p);case 4:e.sent.state&&C("/welcome",{replace:!0}),e.next=13;break;case 8:if("rut"!==y){e.next=13;break}return e.next=11,r(c,p);case 11:e.sent.state&&C("/welcome",{replace:!0});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ct.jsx)(Lh,{container:!0,style:{padding:10,height:"50%"},alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("form",{onSubmit:O,children:(0,Ct.jsxs)(Lh,{container:!0,item:!0,spacing:2,children:["rut"===y&&(0,Ct.jsx)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:(0,Ct.jsx)(Am,{type:"text",name:"rut",label:e.login.rutField,value:c,onChange:R,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),"email"===y&&(0,Ct.jsx)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:(0,Ct.jsx)(Am,{type:"email",name:"email",label:e.login.emailField,value:o,onChange:R,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),(0,Ct.jsxs)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:[(0,Ct.jsx)(Am,{type:I,name:"password",label:e.login.passwordField,value:p,onChange:R,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}}),(0,Ct.jsxs)(Jd,{style:{width:0,position:"relative",right:25,zIndex:1,padding:0},onClick:function(){N("password"===I?"text":"password")},children:["password"===I&&(0,Ct.jsx)(Eu,{icon:cs}),"text"===I&&(0,Ct.jsx)(Eu,{icon:ds})]})]}),(0,Ct.jsx)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:(0,Ct.jsx)(Hm,{className:E.button,style:{marginBottom:20},type:"submit",variant:"contained",color:"primary",children:e.login.loginButton})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:(0,Ct.jsxs)(Hm,{className:E.button,variant:"contained",onClick:function(){"email"===y?(b("rut"),S("email")):(b("email"),S("rut"))},children:["Usar ",k]})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",children:"rut"===k&&(0,Ct.jsx)("p",{className:"link-text",onClick:function(){C("/reset-password")},children:e.login.forgotPasswordText})})]})})})};function Z3(e){return(0,bc.Z)("MuiDrawer",e)}(0,yc.Z)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var V3=["BackdropProps"],H3=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],G3=function(e,t){var n=e.ownerState;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},q3=(0,Dc.ZP)(Xc,{name:"MuiDrawer",slot:"Root",overridesResolver:G3})((function(e){var t=e.theme;return{zIndex:(t.vars||t).zIndex.drawer}})),X3=(0,Dc.ZP)("div",{shouldForwardProp:Dc.FO,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:G3})({flex:"0 0 auto"}),Y3=(0,Dc.ZP)(td,{name:"MuiDrawer",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["paperAnchor".concat((0,Ju.Z)(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat((0,Ju.Z)(n.anchor))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})})),K3={left:"right",right:"left",top:"down",bottom:"up"};var J3,$3,Q3,e4,t4=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiDrawer"}),r=Bu(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},i=n.anchor,o=void 0===i?"left":i,s=n.BackdropProps,l=n.children,u=n.className,c=n.elevation,d=void 0===c?16:c,h=n.hideBackdrop,f=void 0!==h&&h,p=n.ModalProps,m=(void 0===p?{}:p).BackdropProps,v=n.onClose,g=n.open,y=void 0!==g&&g,b=n.PaperProps,x=void 0===b?{}:b,w=n.SlideProps,k=n.TransitionComponent,S=void 0===k?qu:k,E=n.transitionDuration,C=void 0===E?a:E,_=n.variant,M=void 0===_?"temporary":_,A=(0,wt.Z)(n.ModalProps,V3),I=(0,wt.Z)(n,H3),N=T.useRef(!1);T.useEffect((function(){N.current=!0}),[]);var R=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?K3[t]:t}(r,o),O=o,D=(0,xt.Z)({},n,{anchor:O,elevation:d,open:y,variant:M},I),P=function(e){var t=e.classes,n=e.anchor,r=e.variant,a={root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat((0,Ju.Z)(n)),"temporary"!==r&&"paperAnchorDocked".concat((0,Ju.Z)(n))]};return(0,Yu.Z)(a,Z3,t)}(D),L=(0,Ct.jsx)(Y3,(0,xt.Z)({elevation:"temporary"===M?d:0,square:!0},x,{className:(0,Xu.Z)(P.paper,x.className),ownerState:D,children:l}));if("permanent"===M)return(0,Ct.jsx)(X3,(0,xt.Z)({className:(0,Xu.Z)(P.root,P.docked,u),ownerState:D,ref:t},I,{children:L}));var F=(0,Ct.jsx)(S,(0,xt.Z)({in:y,direction:K3[R],timeout:C,appear:N.current},w,{children:L}));return"persistent"===M?(0,Ct.jsx)(X3,(0,xt.Z)({className:(0,Xu.Z)(P.root,P.docked,u),ownerState:D,ref:t},I,{children:F})):(0,Ct.jsx)(q3,(0,xt.Z)({BackdropProps:(0,xt.Z)({},s,m,{transitionDuration:C}),className:(0,Xu.Z)(P.root,P.modal,u),open:y,ownerState:D,onClose:v,hideBackdrop:f,ref:t},I,A,{children:F}))})),n4=t4,r4=(0,mm.Z)((0,Ct.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),a4=ei((function(e){return{drawer:{width:250,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:330,maxWidth:"100vw",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},drawerClose:{width:"15vw",maxWidth:99,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:" hidden"},drawerPaper:{marginTop:0,backgroundColor:"#212121",border:"none",borderEndEndRadius:30,borderTopRightRadius:30},drawerContainer:{position:"relative"},drawerBottom:{position:"absolute",backgroundColor:"rgb(228, 228, 228)",width:"100%",display:"flex",bottom:0,padding:5},bottomButtons:{height:54,width:54},sideButtons:{width:"5vh",maxWidth:26,height:"2.5vh",color:"#FFFFFF"},sideButtonsCloseMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:100,paddingTop:20},sideButtonsOpenMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:10,paddingTop:20},divider:{width:"100%",backgroundColor:"rgba(255, 255, 255, 0.18)"},searchField:{"& .MuiFormLabel-root":{color:"white"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"},"& .fa-search":{color:"white"},"& .MuiInputBase-input":{color:"white"}},listItemText:{whiteSpace:"normal",color:"white",fontWeight:"bold"}}})),i4=function(){var e,t,n=cNe(),r=n.isSapExecutive,a=n.isShiftManager,i=n.isChiefMachinery,o=n.admin,s=n.logout,l=TNe().getReports,u=a4(),c=yNe(),d=c.navBarOpen,h=c.handleNavBar,f=(0,T.useState)(""),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=Ue(),y=(0,T.useState)(!0),b=(0,Z.Z)(y,2),x=b[0],w=b[1],k=(0,T.useState)(!0),S=(0,Z.Z)(k,2),E=S[0],C=S[1],_=(0,T.useState)(!1),M=(0,Z.Z)(_,2),A=M[0],I=M[1],N=(0,T.useState)(!1),R=(0,Z.Z)(N,2),O=R[0],D=R[1],P=(0,T.useState)(!1),L=(0,Z.Z)(P,2),F=L[0],j=L[1],z=function(){d&&h()};return(0,T.useEffect)((function(){o&&w(!1),(o||r||a||i)&&C(!1)}),[o,r,a,i]),(0,T.useEffect)((function(){g&&v(g.pathname)}),[g]),(0,Ct.jsx)("div",{children:(0,Ct.jsx)(n4,{className:(0,Xu.Z)((0,Xu.Z)(u.drawer,(e={},(0,kt.Z)(e,u.drawerOpen,d),(0,kt.Z)(e,u.drawerClose,!d),e))),variant:"permanent",classes:{paper:(0,Xu.Z)(u.drawerPaper,(t={},(0,kt.Z)(t,u.drawerOpen,d),(0,kt.Z)(t,u.drawerClose,!d),t))},children:(0,Ct.jsxs)("div",{className:u.drawerContainer,children:[(0,Ct.jsx)(Lh,{container:!0,spacing:2,style:{padding:d?8:"8px 0 0 0"},children:(0,Ct.jsxs)(Lh,{item:!0,xs:12,container:!0,children:[(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"right":"center"},children:(0,Ct.jsx)(Jd,{title:d?"Cerrar Men\xfa":"Abrir Men\xfa",onClick:h,className:d?u.sideButtonsOpenMenu:u.sideButtonsCloseMenu,children:d?(0,Ct.jsx)(Gm,{}):(0,Ct.jsx)(r4,{})})}),d&&(0,Ct.jsxs)("div",{style:{padding:10},children:[(0,Ct.jsx)("img",{height:60,src:"./assets/Logologo_icv_1.svg",alt:""}),(0,Ct.jsx)("p",{style:{color:"#fff",margin:0},children:"Ingenier\xeda Civil Vicente"})]}),(0,Ct.jsx)("div",{style:{height:1,backgroundColor:"#fff",width:"100%",marginRight:10,marginLeft:10}}),(0,Ct.jsx)("div",{style:{width:"100%",marginTop:20,textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"Inicio",children:(0,Ct.jsxs)(gt,{to:"/welcome",className:u.sideButtons,style:{textDecoration:"none",color:"/welcome"===m?"#BE2E26":"#FFFFFF"},children:[(0,Ct.jsx)(Eu,{icon:hs})," ",d?" Inicio":""]})})}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"Calendario",children:(0,Ct.jsxs)(gt,{to:"/calendar",className:u.sideButtons,style:{textDecoration:"none",color:"/calendar"===m?"#BE2E26":"#FFFFFF"},children:[(0,Ct.jsx)(Eu,{icon:$o})," ",d?" Calendario":""]})})}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"Listado Asignaciones",children:(0,Ct.jsxs)(gt,{to:"/assignment",className:u.sideButtons,style:{color:m.includes("/assignment")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[(0,Ct.jsx)(Eu,{icon:ms})," ",d?" Listado Asignaciones":""]})})}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"M\xe1quinas",children:(0,Ct.jsxs)(gt,{to:"/machines",className:u.sideButtons,style:{textDecoration:"none",color:m.match("/machines")?"#BE2E26":"#FFFFFF"},children:[(0,Ct.jsx)(Eu,{icon:Rs})," ",d?" M\xe1quinas":""]})})}),!x&&(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"Obras",children:(0,Ct.jsxs)(gt,{to:"/sites",className:u.sideButtons,style:{color:"/sites"===m?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[(0,Ct.jsx)(Eu,{icon:ys})," ",d?" Obras":""]})})}),!E&&(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"Ordenes de Trabajo",children:(0,Ct.jsxs)(gt,{to:"/reports",className:u.sideButtons,style:{color:m.includes("/reports")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[(0,Ct.jsx)(Eu,{icon:as})," ",d?" Ordenes de Trabajo":""]})})}),!x&&(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"Administraci\xf3n",children:(0,Ct.jsxs)(gt,{to:"/administration",className:u.sideButtons,style:{color:m.includes("/administration")||m.includes("/users")||m.includes("/edit-user")||m.includes("/new-users")||m.includes("/patterns")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[(0,Ct.jsx)(Eu,{icon:Ds})," ",d?" Administraci\xf3n":""]})})}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"Perfil",children:(0,Ct.jsxs)(gt,{to:"/user-profile",className:u.sideButtons,style:{color:m.includes("/user-profile")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[(0,Ct.jsx)(Eu,{icon:Os})," ",d?" Perfil":""]})})}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"Actualizar",onClickCapture:function(){l()},children:(0,Ct.jsxs)("div",{className:u.sideButtons,style:{color:"#FFFFFF",textDecoration:"none"},children:[(0,Ct.jsx)(Eu,{icon:As})," ",d?" Actualizar":""]})})}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"Int. Artificial",onClickCapture:function(){D(!0)},children:(0,Ct.jsxs)("div",{className:u.sideButtons,style:{color:"/pms"===m?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[(0,Ct.jsx)(Eu,{icon:Ts})," ",d?" Int. Artificial":""]})})}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"Mensajes App",onClickCapture:function(){j(!0)},children:(0,Ct.jsxs)("div",{className:u.sideButtons,style:{color:"/pms"===m?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[(0,Ct.jsx)(Eu,{icon:os})," ",d?" Mensajes App":""]})})}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:z,title:"Opciones",children:(0,Ct.jsxs)(gt,{to:"/options",className:u.sideButtons,style:{color:"/options"===m?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[(0,Ct.jsx)(Eu,{icon:Ms})," ",d?" Opciones":""]})})}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:d?"left":"center"},children:(0,Ct.jsx)(Jd,{style:{padding:9},onClick:s,title:"Cerrar Sesi\xf3n",children:(0,Ct.jsxs)("div",{className:u.sideButtons,children:[(0,Ct.jsx)(Eu,{icon:_s})," ",d?" Cerrar Sesi\xf3n":""]})})})]})}),A&&(0,Ct.jsx)(xy,{open:A,closeModal:function(){I(!1)}}),O&&(0,Ct.jsx)(b3,{open:O,closeModal:function(){D(!1)}}),F&&(0,Ct.jsx)(x3,{open:F,closeModal:function(){j(!1)}})]})})})},o4=ei((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}})),s4=function(){var e=mNe().dictionary,t=(cNe().login,(0,T.useState)("")),n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=(0,T.useState)(!1),o=(0,Z.Z)(i,2),s=o[0],l=o[1],u=o4(),c=Ze(),d=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,h();case 4:n=e.sent,console.log(n),n.data.status?"no-email"===n.data.status&&(alert(n.data.message),l(!1)):(alert(n.data.message),l(!1),c("/",{replace:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("No se pudo obtener el reset");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){return new Promise((function(e){vi(r).then((function(t){e(t)})).catch((function(t){e(t)}))}))};return(0,Ct.jsxs)(Lh,{container:!0,style:{padding:20,height:"50%"},alignItems:"center",justifyContent:"center",children:[(0,Ct.jsx)("form",{onSubmit:d,children:(0,Ct.jsxs)(Lh,{container:!0,item:!0,spacing:2,children:[(0,Ct.jsx)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:(0,Ct.jsx)(Am,{type:"email",name:"email",label:e.login.emailField,value:r,onChange:function(e){var t;if("email"===(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name))return a(e.target.value)},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:(0,Ct.jsx)(Hm,{className:u.button,type:"submit",variant:"contained",color:"primary",children:"SOLICITAR"})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:(0,Ct.jsx)(Hm,{className:u.button,variant:"contained",color:"primary",onClick:function(){c(-1)},children:"VOLVER"})})]})}),s&&(0,Ct.jsx)(Pg,{open:s,loadingData:"Solicitando restablecer contrase\xf1a",withProgress:!1})]})},l4=ei((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}})),u4=function(e){var t=e.id,n=mNe().dictionary,r=(0,T.useState)(""),a=(0,Z.Z)(r,2),i=a[0],o=a[1],s=(0,T.useState)(""),l=(0,Z.Z)(s,2),u=l[0],c=l[1],d=(0,T.useState)(""),h=(0,Z.Z)(d,2),f=h[0],p=h[1],m=(0,T.useState)(!1),v=(0,Z.Z)(m,2),g=v[0],y=v[1],b=(0,T.useState)(!1),x=(0,Z.Z)(b,2),w=x[0],k=x[1],S=l4(),E=Ze(),C=(0,T.useState)("password"),_=(0,Z.Z)(C,2),M=_[0],A=_[1],I=(0,T.useState)("password"),N=(0,Z.Z)(I,2),R=N[0],O=N[1];(0,T.useEffect)((function(){p(t)}),[]);var D=function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"password":return o(e.target.value);case"confirmPassword":return c(e.target.value)}},P=function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i===u?i.length>5?gi(i,f).then((function(e){alert("Contrase\xf1a cambiada con \xe9xito"),E("/")})).catch((function(e){alert("Error al crear contrase\xf1a. El correo utilizado est\xe1 vencido. Revise si le ha llegado un correo nuevo con la solicitud de restauraci\xf3n de contrase\xf1a actualizado o espere un m\xe1ximo de 10 minutos m\xe1s. Si el error persiste, contacte al administrador.")})):alert("Contrase\xf1a debe contener al menos 6 car\xe1cteres."):alert("Contrase\xf1as ingresadas no coinciden");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){y(i!==u),i.length<6?k(!0):k(!1)};return(0,Ct.jsx)(Lh,{container:!0,style:{padding:20,height:"50%"},alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("form",{children:(0,Ct.jsxs)(Lh,{container:!0,item:!0,spacing:2,children:[(0,Ct.jsxs)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",children:[(0,Ct.jsx)(Am,{type:M,name:"password",label:n.restorePassword.passwordField,value:i,onChange:D,onBlur:function(e){return L()},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"},id:"password"}),(0,Ct.jsxs)(Jd,{style:{width:0,position:"relative",right:25,zIndex:1,padding:0},onClick:function(){A("password"===M?"text":"password")},children:["password"===M&&(0,Ct.jsx)(Eu,{icon:cs}),"text"===M&&(0,Ct.jsx)(Eu,{icon:ds})]})]}),(0,Ct.jsxs)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:[(0,Ct.jsx)(Am,{type:R,name:"confirmPassword",label:n.restorePassword.confirmPasswordField,value:u,onChange:D,onBlur:function(e){return L()},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"},id:"c_password"}),(0,Ct.jsxs)(Jd,{style:{width:0,position:"relative",right:25,zIndex:1,padding:0},onClick:function(){O("password"===R?"text":"password")},children:["password"===R&&(0,Ct.jsx)(Eu,{icon:cs}),"text"===R&&(0,Ct.jsx)(Eu,{icon:ds})]})]}),w&&(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,Ct.jsx)("p",{style:{color:"red"},children:(0,Ct.jsx)("strong",{children:"Contrase\xf1as deben ser de 6 car\xe1cteres m\xednimo"})})}),g&&(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,Ct.jsx)("p",{style:{color:"red"},children:(0,Ct.jsx)("strong",{children:"Contrase\xf1as no coinciden"})})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:(0,Ct.jsx)(Hm,{className:S.button,variant:"contained",color:"primary",onClick:function(){P()},children:n.restorePassword.button})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:(0,Ct.jsx)(Hm,{className:S.button,variant:"contained",color:"primary",onClick:function(){E("/",{replace:!0})},children:n.restorePassword.cancel})})]})})})},c4=(ei((function(e){return{}})),ei((function(e){return{}})),"undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback),d4=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t!==n;){var r=t.nextSibling;e.removeChild(t),t=r}},h4="{{lit-".concat(String(Math.random()).slice(2),"}}"),f4="\x3c!--".concat(h4,"--\x3e"),p4=new RegExp("".concat(h4,"|").concat(f4)),m4=N((function e(t,n){M(this,e),this.parts=[],this.element=n;for(var r=[],a=[],i=document.createTreeWalker(n.content,133,null,!1),o=0,s=-1,l=0,u=t.strings,c=t.values.length;l<c;){var d=i.nextNode();if(null!==d){if(s++,1===d.nodeType){if(d.hasAttributes()){for(var h=d.attributes,f=h.length,p=0,m=0;m<f;m++)v4(h[m].name,"$lit$")&&p++;for(;p-- >0;){var v=u[l],g=b4.exec(v)[2],y=g.toLowerCase()+"$lit$",b=d.getAttribute(y);d.removeAttribute(y);var x=b.split(p4);this.parts.push({type:"attribute",index:s,name:g,strings:x}),l+=x.length-1}}"TEMPLATE"===d.tagName&&(a.push(d),i.currentNode=d.content)}else if(3===d.nodeType){var w=d.data;if(w.indexOf(h4)>=0){for(var k=d.parentNode,S=w.split(p4),T=S.length-1,E=0;E<T;E++){var C=void 0,_=S[E];if(""===_)C=y4();else{var A=b4.exec(_);null!==A&&v4(A[2],"$lit$")&&(_=_.slice(0,A.index)+A[1]+A[2].slice(0,-5)+A[3]),C=document.createTextNode(_)}k.insertBefore(C,d),this.parts.push({type:"node",index:++s})}""===S[T]?(k.insertBefore(y4(),d),r.push(d)):d.data=S[T],l+=T}}else if(8===d.nodeType)if(d.data===h4){var I=d.parentNode;null!==d.previousSibling&&s!==o||(s++,I.insertBefore(y4(),d)),o=s,this.parts.push({type:"node",index:s}),null===d.nextSibling?d.data="":(r.push(d),s--),l++}else for(var N=-1;-1!==(N=d.data.indexOf(h4,N+1));)this.parts.push({type:"node",index:-1}),l++}else i.currentNode=a.pop()}for(var R=0,O=r;R<O.length;R++){var D=O[R];D.parentNode.removeChild(D)}})),v4=function(e,t){var n=e.length-t.length;return n>=0&&e.slice(n)===t},g4=function(e){return-1!==e.index},y4=function(){return document.createComment("")},b4=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function x4(e,t){for(var n=e.element.content,r=e.parts,a=document.createTreeWalker(n,133,null,!1),i=k4(r),o=r[i],s=-1,l=0,u=[],c=null;a.nextNode();){s++;var d=a.currentNode;for(d.previousSibling===c&&(c=null),t.has(d)&&(u.push(d),null===c&&(c=d)),null!==c&&l++;void 0!==o&&o.index===s;)o.index=null!==c?-1:o.index-l,o=r[i=k4(r,i)]}u.forEach((function(e){return e.parentNode.removeChild(e)}))}var w4=function(e){for(var t=11===e.nodeType?0:1,n=document.createTreeWalker(e,133,null,!1);n.nextNode();)t++;return t},k4=function(e){for(var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)+1;t<e.length;t++){var n=e[t];if(g4(n))return t}return-1},S4=new WeakMap,T4=function(e){return"function"==typeof e&&S4.has(e)},E4={},C4={},_4=function(){function e(t,n,r){M(this,e),this.__parts=[],this.template=t,this.processor=n,this.options=r}return N(e,[{key:"update",value:function(e){var t,n=0,r=X(this.__parts);try{for(r.s();!(t=r.n()).done;){var a=t.value;void 0!==a&&a.setValue(e[n]),n++}}catch(JNe){r.e(JNe)}finally{r.f()}var i,o=X(this.__parts);try{for(o.s();!(i=o.n()).done;){var s=i.value;void 0!==s&&s.commit()}}catch(JNe){o.e(JNe)}finally{o.f()}}},{key:"_clone",value:function(){for(var e,t=c4?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,a=document.createTreeWalker(t,133,null,!1),i=0,o=0,s=a.nextNode();i<r.length;)if(e=r[i],g4(e)){for(var l;o<e.index;)o++,"TEMPLATE"===s.nodeName&&(n.push(s),a.currentNode=s.content),null===(s=a.nextNode())&&(a.currentNode=n.pop(),s=a.nextNode());if("node"===e.type){var u=this.processor.handleTextExpression(this.options);u.insertAfterNode(s.previousSibling),this.__parts.push(u)}else(l=this.__parts).push.apply(l,(0,_.Z)(this.processor.handleAttributeExpressions(s,e.name,e.strings,this.options)));i++}else this.__parts.push(void 0),i++;return c4&&(document.adoptNode(t),customElements.upgrade(t)),t}}]),e}(),M4=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:function(e){return e}}),A4=" ".concat(h4," "),I4=function(){function e(t,n,r,a){M(this,e),this.strings=t,this.values=n,this.type=r,this.processor=a}return N(e,[{key:"getHTML",value:function(){for(var e=this.strings.length-1,t="",n=!1,r=0;r<e;r++){var a=this.strings[r],i=a.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===a.indexOf("--\x3e",i+1);var o=b4.exec(a);t+=null===o?a+(n?A4:f4):a.substr(0,o.index)+o[1]+o[2]+"$lit$"+o[3]+h4}return t+=this.strings[e]}},{key:"getTemplateElement",value:function(){var e=document.createElement("template"),t=this.getHTML();return void 0!==M4&&(t=M4.createHTML(t)),e.innerHTML=t,e}}]),e}(),N4=function(e){return null===e||!("object"==typeof e||"function"==typeof e)},R4=function(e){return Array.isArray(e)||!(!e||!e[Symbol.iterator])},O4=function(){function e(t,n,r){M(this,e),this.dirty=!0,this.element=t,this.name=n,this.strings=r,this.parts=[];for(var a=0;a<r.length-1;a++)this.parts[a]=this._createPart()}return N(e,[{key:"_createPart",value:function(){return new D4(this)}},{key:"_getValue",value:function(){var e=this.strings,t=e.length-1,n=this.parts;if(1===t&&""===e[0]&&""===e[1]){var r=n[0].value;if("symbol"==typeof r)return String(r);if("string"==typeof r||!R4(r))return r}for(var a="",i=0;i<t;i++){a+=e[i];var o=n[i];if(void 0!==o){var s=o.value;if(N4(s)||!R4(s))a+="string"==typeof s?s:String(s);else{var l,u=X(s);try{for(u.s();!(l=u.n()).done;){var c=l.value;a+="string"==typeof c?c:String(c)}}catch(JNe){u.e(JNe)}finally{u.f()}}}}return a+=e[t]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),e}(),D4=function(){function e(t){M(this,e),this.value=void 0,this.committer=t}return N(e,[{key:"setValue",value:function(e){e===E4||N4(e)&&e===this.value||(this.value=e,T4(e)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;T4(this.value);){var e=this.value;this.value=E4,e(this)}this.value!==E4&&this.committer.commit()}}]),e}(),P4=function(){function e(t){M(this,e),this.value=void 0,this.__pendingValue=void 0,this.options=t}return N(e,[{key:"appendInto",value:function(e){this.startNode=e.appendChild(y4()),this.endNode=e.appendChild(y4())}},{key:"insertAfterNode",value:function(e){this.startNode=e,this.endNode=e.nextSibling}},{key:"appendIntoPart",value:function(e){e.__insert(this.startNode=y4()),e.__insert(this.endNode=y4())}},{key:"insertAfterPart",value:function(e){e.__insert(this.startNode=y4()),this.endNode=e.endNode,e.endNode=this.startNode}},{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){if(null!==this.startNode.parentNode){for(;T4(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=E4,e(this)}var t=this.__pendingValue;t!==E4&&(N4(t)?t!==this.value&&this.__commitText(t):t instanceof I4?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):R4(t)?this.__commitIterable(t):t===C4?(this.value=C4,this.clear()):this.__commitText(t))}}},{key:"__insert",value:function(e){this.endNode.parentNode.insertBefore(e,this.endNode)}},{key:"__commitNode",value:function(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}},{key:"__commitText",value:function(e){var t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}},{key:"__commitTemplateResult",value:function(e){var t=this.options.templateFactory(e);if(this.value instanceof _4&&this.value.template===t)this.value.update(e.values);else{var n=new _4(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}},{key:"__commitIterable",value:function(t){Array.isArray(this.value)||(this.value=[],this.clear());var n,r,a=this.value,i=0,o=X(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;void 0===(n=a[i])&&(n=new e(this.options),a.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(a[i-1])),n.setValue(s),n.commit(),i++}}catch(JNe){o.e(JNe)}finally{o.f()}i<a.length&&(a.length=i,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;d4(this.startNode.parentNode,e.nextSibling,this.endNode)}}]),e}(),L4=function(){function e(t,n,r){if(M(this,e),this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=n,this.strings=r}return N(e,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;T4(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=E4,e(this)}if(this.__pendingValue!==E4){var t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=E4}}}]),e}(),F4=function(e){O(n,e);var t=z(n);function n(e,r,a){var i;return M(this,n),(i=t.call(this,e,r,a)).single=2===a.length&&""===a[0]&&""===a[1],i}return N(n,[{key:"_createPart",value:function(){return new j4(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:nv(D(n.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),n}(O4),j4=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n)}(D4),z4=!1;!function(){try{var e={get capture(){return z4=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(c4){}}();var B4=function(){function e(t,n,r){var a=this;M(this,e),this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=function(e){return a.handleEvent(e)}}return N(e,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;T4(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=E4,e(this)}if(this.__pendingValue!==E4){var t=this.__pendingValue,n=this.value,r=null==t||null!=n&&(t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive),a=null!=t&&(null==n||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),a&&(this.__options=U4(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=E4}}},{key:"handleEvent",value:function(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}]),e}(),U4=function(e){return e&&(z4?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)};function W4(e){var t=Z4.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},Z4.set(e.type,t));var n=t.stringsArray.get(e.strings);if(void 0!==n)return n;var r=e.strings.join(h4);return void 0===(n=t.keyString.get(r))&&(n=new m4(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}var Z4=new Map,V4=new WeakMap,H4=function(e,t,n){var r=V4.get(t);void 0===r&&(d4(t,t.firstChild),V4.set(t,r=new P4(Object.assign({templateFactory:W4},n))),r.appendInto(t)),r.setValue(e),r.commit()},G4=new(function(){function e(){M(this,e)}return N(e,[{key:"handleAttributeExpressions",value:function(e,t,n,r){var a=t[0];return"."===a?new F4(e,t.slice(1),n).parts:"@"===a?[new B4(e,t.slice(1),r.eventContext)]:"?"===a?[new L4(e,t.slice(1),n)]:new O4(e,t,n).parts}},{key:"handleTextExpression",value:function(e){return new P4(e)}}]),e}());"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");var q4=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new I4(e,n,"html",G4)},X4=function(e,t){return"".concat(e,"--").concat(t)},Y4=!0;void 0===window.ShadyCSS?Y4=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Y4=!1);var K4=function(e){return function(t){var n=X4(t.type,e),r=Z4.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},Z4.set(n,r));var a=r.stringsArray.get(t.strings);if(void 0!==a)return a;var i=t.strings.join(h4);if(void 0===(a=r.keyString.get(i))){var o=t.getTemplateElement();Y4&&window.ShadyCSS.prepareTemplateDom(o,e),a=new m4(t,o),r.keyString.set(i,a)}return r.stringsArray.set(t.strings,a),a}},J4=["html","svg"],$4=new Set;window.JSCompiler_renameProperty=function(e,t){return e};var Q4={toAttribute:function(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},e5=function(e,t){return t!==e&&(t==t||e==e)},t5={attribute:!0,type:String,converter:Q4,reflect:!1,hasChanged:e5},n5=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.call(this)).initialize(),e}return N(n,[{key:"initialize",value:function(){var e=this;this._updateState=0,this._updatePromise=new Promise((function(t){return e._enableUpdatingResolver=t})),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}},{key:"_saveInstanceProperties",value:function(){var e=this;this.constructor._classProperties.forEach((function(t,n){if(e.hasOwnProperty(n)){var r=e[n];delete e[n],e._instanceProperties||(e._instanceProperties=new Map),e._instanceProperties.set(n,r)}}))}},{key:"_applyInstanceProperties",value:function(){var e=this;this._instanceProperties.forEach((function(t,n){return e[n]=t})),this._instanceProperties=void 0}},{key:"connectedCallback",value:function(){this.enableUpdating()}},{key:"enableUpdating",value:function(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(e,t,n){t!==n&&this._attributeToProperty(e,n)}},{key:"_propertyToAttribute",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t5,r=this.constructor,a=r._attributeNameForProperty(e,n);if(void 0!==a){var i=r._propertyValueToAttribute(t,n);if(void 0===i)return;this._updateState=8|this._updateState,null==i?this.removeAttribute(a):this.setAttribute(a,i),this._updateState=-9&this._updateState}}},{key:"_attributeToProperty",value:function(e,t){if(!(8&this._updateState)){var n=this.constructor,r=n._attributeToPropertyMap.get(e);if(void 0!==r){var a=n.getPropertyOptions(r);this._updateState=16|this._updateState,this[r]=n._propertyValueFromAttribute(t,a),this._updateState=-17&this._updateState}}}},{key:"requestUpdateInternal",value:function(e,t,n){var r=!0;if(void 0!==e){var a=this.constructor;n=n||a.getPropertyOptions(e),a._valueHasChanged(this[e],t,n.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,n))):r=!1}!this._hasRequestedUpdate&&r&&(this._updatePromise=this._enqueueUpdate())}},{key:"requestUpdate",value:function(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}},{key:"_enqueueUpdate",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._updateState=4|this._updateState,e.prev=1,e.next=4,this._updatePromise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:if(t=this.performUpdate(),e.t1=null!=t,!e.t1){e.next=13;break}return e.next=13,t;case 13:return e.abrupt("return",!this._hasRequestedUpdate);case 14:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_hasRequestedUpdate",get:function(){return 4&this._updateState}},{key:"hasUpdated",get:function(){return 1&this._updateState}},{key:"performUpdate",value:function(){if(this._hasRequestedUpdate){this._instanceProperties&&this._applyInstanceProperties();var e=!1,t=this._changedProperties;try{(e=this.shouldUpdate(t))?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}}},{key:"_markUpdated",value:function(){this._changedProperties=new Map,this._updateState=-5&this._updateState}},{key:"updateComplete",get:function(){return this._getUpdateComplete()}},{key:"_getUpdateComplete",value:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._updatePromise}},{key:"shouldUpdate",value:function(e){return!0}},{key:"update",value:function(e){var t=this;void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((function(e,n){return t._propertyToAttribute(n,t[n],e)})),this._reflectingProperties=void 0),this._markUpdated()}},{key:"updated",value:function(e){}},{key:"firstUpdated",value:function(e){}}],[{key:"observedAttributes",get:function(){var e=this;this.finalize();var t=[];return this._classProperties.forEach((function(n,r){var a=e._attributeNameForProperty(r,n);void 0!==a&&(e._attributeToPropertyMap.set(a,r),t.push(a))})),t}},{key:"_ensureClassProperties",value:function(){var e=this;if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((function(t,n){return e._classProperties.set(n,t)}))}}},{key:"createProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t5;if(this._ensureClassProperties(),this._classProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var n="symbol"==typeof e?Symbol():"__".concat(e),r=this.getPropertyDescriptor(e,n,t);void 0!==r&&Object.defineProperty(this.prototype,e,r)}}},{key:"getPropertyDescriptor",value:function(e,t,n){return{get:function(){return this[t]},set:function(r){var a=this[e];this[t]=r,this.requestUpdateInternal(e,a,n)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(e){return this._classProperties&&this._classProperties.get(e)||t5}},{key:"finalize",value:function(){var e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var t,n=this.properties,r=X([].concat((0,_.Z)(Object.getOwnPropertyNames(n)),(0,_.Z)("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[])));try{for(r.s();!(t=r.n()).done;){var a=t.value;this.createProperty(a,n[a])}}catch(JNe){r.e(JNe)}finally{r.f()}}}},{key:"_attributeNameForProperty",value:function(e,t){var n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}},{key:"_valueHasChanged",value:function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e5)(e,t)}},{key:"_propertyValueFromAttribute",value:function(e,t){var n=t.type,r=t.converter||Q4,a="function"==typeof r?r:r.fromAttribute;return a?a(e,n):e}},{key:"_propertyValueToAttribute",value:function(e,t){if(void 0!==t.reflect){var n=t.type,r=t.converter;return(r&&r.toAttribute||Q4.toAttribute)(e,n)}}}]),n}(U(HTMLElement));n5.finalized=!0;function r5(e){return function(t,n){return void 0!==n?function(e,t,n){t.constructor.createProperty(n,e)}(e,t,n):function(e,t){return"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?Object.assign(Object.assign({},t),{finisher:function(n){n.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer:function(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher:function(n){n.createProperty(t.key,e)}}}(e,t)}}var a5=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,i5=Symbol(),o5=function(){function e(t,n){if(M(this,e),n!==i5)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}return N(e,[{key:"styleSheet",get:function(){return void 0===this._styleSheet&&(a5?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}},{key:"toString",value:function(){return this.cssText}}]),e}();(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");var s5={},l5=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"initialize",value:function(){nv(D(n.prototype),"initialize",this).call(this),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}},{key:"createRenderRoot",value:function(){return this.attachShadow(this.constructor.shadowRootOptions)}},{key:"adoptStyles",value:function(){var e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?a5?this.renderRoot.adoptedStyleSheets=e.map((function(e){return e instanceof CSSStyleSheet?e:e.styleSheet})):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map((function(e){return e.cssText})),this.localName))}},{key:"connectedCallback",value:function(){nv(D(n.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}},{key:"update",value:function(e){var t=this,r=this.render();nv(D(n.prototype),"update",this).call(this,e),r!==s5&&this.constructor.render(r,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((function(e){var n=document.createElement("style");n.textContent=e.cssText,t.renderRoot.appendChild(n)})))}},{key:"render",value:function(){return s5}}],[{key:"getStyles",value:function(){return this.styles}},{key:"_getUniqueStyles",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_styles",this))){var e=this.getStyles();if(Array.isArray(e)){var t=function e(t,n){return t.reduceRight((function(t,n){return Array.isArray(n)?e(n,t):(t.add(n),t)}),n)}(e,new Set),n=[];t.forEach((function(e){return n.unshift(e)})),this._styles=n}else this._styles=void 0===e?[]:[e];this._styles=this._styles.map((function(e){if(e instanceof CSSStyleSheet&&!a5){var t=Array.prototype.slice.call(e.cssRules).reduce((function(e,t){return e+t.cssText}),"");return new o5(String(t),i5)}return e}))}}}]),n}(n5);l5.finalized=!0,l5.render=function(e,t,n){if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");var r=n.scopeName,a=V4.has(t),i=Y4&&11===t.nodeType&&!!t.host,o=i&&!$4.has(r),s=o?document.createDocumentFragment():t;if(H4(e,s,Object.assign({templateFactory:K4(r)},n)),o){var l=V4.get(s);V4.delete(s),function(e,t,n){$4.add(e);var r=n?n.element:document.createElement("template"),a=t.querySelectorAll("style"),i=a.length;if(0!==i){for(var o=document.createElement("style"),s=0;s<i;s++){var l=a[s];l.parentNode.removeChild(l),o.textContent+=l.textContent}!function(e){J4.forEach((function(t){var n=Z4.get(X4(t,e));void 0!==n&&n.keyString.forEach((function(e){var t=e.element.content,n=new Set;Array.from(t.querySelectorAll("style")).forEach((function(e){n.add(e)})),x4(e,n)}))}))}(e);var u=r.content;n?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.element.content,a=e.parts;if(null!=n)for(var i=document.createTreeWalker(r,133,null,!1),o=k4(a),s=0,l=-1;i.nextNode();)for(l++,i.currentNode===n&&(s=w4(t),n.parentNode.insertBefore(t,n));-1!==o&&a[o].index===l;){if(s>0){for(;-1!==o;)a[o].index+=s,o=k4(a,o);return}o=k4(a,o)}else r.appendChild(t)}(n,o,u.firstChild):u.insertBefore(o,u.firstChild),window.ShadyCSS.prepareTemplateStyles(r,e);var c=u.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==c)t.insertBefore(c.cloneNode(!0),t.firstChild);else if(n){u.insertBefore(o,u.firstChild);var d=new Set;d.add(o),x4(n,d)}}else window.ShadyCSS.prepareTemplateStyles(r,e)}(r,s,l.value instanceof _4?l.value.template:void 0),d4(t,t.firstChild),t.appendChild(s),V4.set(t,l)}!a&&i&&window.ShadyCSS.styleElement(t.host)},l5.shadowRootOptions={mode:"open"};var u5=null!=navigator.xr&&null!=self.XRSession&&null!=navigator.xr.isSessionSupported,c5=u5&&self.XRSession.prototype.requestHitTestSource,d5=null!=self.ResizeObserver,h5=null!=self.IntersectionObserver,f5=c5;(function(){var e=navigator.userAgent||navigator.vendor||self.opera;/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))})(),/\bCrOS\b/.test(navigator.userAgent);var p5=/android/i.test(navigator.userAgent),m5=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!self.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,v5=function(){var e=document.createElement("a");return Boolean(e.relList&&e.relList.supports&&e.relList.supports("ar"))}();/Safari\//.test(navigator.userAgent);var g5=/firefox/i.test(navigator.userAgent),y5=/OculusBrowser/.test(navigator.userAgent);m5&&/CriOS\//.test(navigator.userAgent);for(var b5=p5&&!g5&&!y5,x5=q4(J3||(J3=pd(['\n<style>\n:host {\n  display: block;\n  position: relative;\n  contain: strict;\n  width: 300px;\n  height: 150px;\n}\n\n/* NOTE: This ruleset is our integration surface area with the\n * :focus-visible polyfill.\n *\n * @see https://github.com/WICG/focus-visible/pull/196 */\n:host([data-js-focus-visible]:focus:not(.focus-visible)),\n:host([data-js-focus-visible]) :focus:not(.focus-visible) {\n  outline: none;\n}\n\n.container {\n  position: relative;\n}\n\n.userInput {\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: relative;\n  overflow: hidden;\n}\n\ncanvas {\n  position: absolute;\n  display: none;\n  pointer-events: none;\n  /* NOTE(cdata): Chrome 76 and below apparently have a bug\n   * that causes our canvas not to display pixels unless it is\n   * on its own render layer\n   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893\n   */\n  transform: translateZ(0);\n}\n\ncanvas.show {\n  display: block;\n}\n\n/* Adapted from HTML5 Boilerplate\n *\n * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */\n.screen-reader-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\n\n.slot {\n  position: absolute;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.slot > * {\n  pointer-events: initial;\n}\n\n.annotation-wrapper ::slotted(*) {\n  opacity: var(--max-hotspot-opacity, 1);\n  transition: opacity 0.3s;\n}\n\n.pointer-tumbling .annotation-wrapper ::slotted(*) {\n  pointer-events: none;\n}\n\n.annotation-wrapper ::slotted(*) {\n  pointer-events: initial;\n}\n\n.annotation-wrapper.hide ::slotted(*) {\n  opacity: var(--min-hotspot-opacity, 0.25);\n}\n\n.slot.poster {\n  opacity: 0;\n  transition: opacity 0.3s 0.3s;\n  background-color: inherit;\n}\n\n.slot.poster.show {\n  opacity: 1;\n  transition: none;\n}\n\n.slot.poster.quick {\n  transition: none;\n}\n\n.slot.poster > * {\n  pointer-events: initial;\n}\n\n.slot.poster:not(.show) > * {\n  pointer-events: none;\n}\n\n#default-poster {\n  width: 100%;\n  height: 100%;\n  /* The default poster is a <button> so we need to set display\n   * to prevent it from being affected by text-align: */\n  display: block;\n  position: absolute;\n  border: none;\n  padding: 0;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: var(--poster-color, #fff);\n  background-image: var(--poster-image, none);\n}\n\n#default-progress-bar {\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  overflow: hidden;\n}\n\n#default-progress-bar > .mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: var(--progress-mask, #fff);\n  transition: opacity 0.3s;\n  opacity: 0.2;\n}\n\n#default-progress-bar > .bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--progress-bar-height, 5px);\n  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));\n  transition: transform 0.09s;\n  transform-origin: top left;\n  transform: scaleX(0);\n  overflow: hidden;\n}\n\n#default-progress-bar > .bar.hide {\n  transition: opacity 0.3s 1s;\n  opacity: 0;\n}\n\n.slot.interaction-prompt {\n  display: var(--interaction-prompt-display, flex);\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  align-items: center;\n  justify-content: center;\n\n  opacity: 0;\n  will-change: opacity;\n  overflow: hidden;\n  transition: opacity 0.3s;\n}\n\n.slot.interaction-prompt.visible {\n  opacity: 1;\n}\n\n.slot.interaction-prompt > .animated-container {\n  will-change: transform, opacity;\n}\n\n.slot.interaction-prompt > * {\n  pointer-events: none;\n}\n\n.slot.ar-button {\n  -moz-user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n\n  display: var(--ar-button-display, block);\n}\n\n.slot.ar-button:not(.enabled) {\n  display: none;\n}\n\n.fab {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  background-color: #fff;\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);\n  border-radius: 100px;\n}\n\n.fab > * {\n  opacity: 0.87;\n}\n\n#default-ar-button {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  transform: scale(var(--ar-button-scale, 1));\n  transform-origin: bottom right;\n}\n\n.slot.default {\n  pointer-events: none;\n}\n\n.slot.progress-bar {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button:not(.enabled) {\n  display: none;\n}\n\n#default-exit-webxr-ar-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n}\n\n#default-exit-webxr-ar-button > svg {\n  fill: #fff;\n}\n</style>\n<div class="container">\n  <div class="userInput" tabindex="0" role="img"\n      aria-label="A depiction of a 3D model"\n      aria-live="polite">\n      <div class="slot canvas">\n        <slot name="canvas">\n          <canvas></canvas>\n        </slot>\n      </div>\n  </div>\n\n  \x3c!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM\n        will have their <slot> elements removed by ShadyCSS --\x3e\n  <div class="slot poster">\n    <slot name="poster">\n      <button type="button" id="default-poster" aria-hidden="true" aria-label="Activate to view in 3D!"></button>\n    </slot>\n  </div>\n\n  <div class="slot ar-button">\n    <slot name="ar-button">\n      <a id="default-ar-button" part="default-ar-button" class="fab"\n          tabindex="2"\n          aria-label="View this 3D model up close">\n        ','\n      </a>\n    </slot>\n  </div>\n\n  <div class="slot interaction-prompt">\n    <div class="animated-container">\n      <slot name="interaction-prompt" aria-hidden="true">\n        ','\n      </slot>\n    </div>\n  </div>\n\n  <div class="slot default">\n    <slot></slot>\n\n    <div class="slot progress-bar">\n      <slot name="progress-bar">\n        <div id="default-progress-bar" aria-hidden="true">\n          <div class="mask" part="default-progress-mask"></div>\n          <div class="bar" part="default-progress-bar"></div>\n        </div>\n      </slot>\n    </div>\n    \n    <div class="slot exit-webxr-ar-button">\n      <slot name="exit-webxr-ar-button">\n        <a id="default-exit-webxr-ar-button" part="default-exit-webxr-ar-button"\n            tabindex="3"\n            aria-label="Exit AR"\n            aria-hidden="true">\n          ',"\n        </a>\n      </slot>\n    </div>\n  </div>\n</div>"])),q4($3||($3=pd(['\n<svg version="1.1" id="view_x5F_in_x5F_AR_x5F_icon"\n\t xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"\n\t viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">\n<rect id="Bounding_Box" x="0" y="0" fill="none" width="24" height="24"/>\n<g id="Art_layer">\n\t<path d="M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z"/>\n\t<path d="M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z"/>\n\t<path d="M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z"/>\n\t<path d="M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z"/>\n\t<g>\n\t\t<path d="M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3\n\t\t\tl5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62\n\t\t\tl4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z"/>\n\t</g>\n</g>\n</svg>']))),q4(Q3||(Q3=pd(['\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="36">\n    <defs>\n        <path id="A" d="M.001.232h24.997V36H.001z" />\n    </defs>\n    <g transform="translate(-11 -4)" fill="none" fill-rule="evenodd">\n        <path fill-opacity="0" fill="#fff" d="M0 0h44v44H0z" />\n        <g transform="translate(11 3)">\n            <path d="M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z" fill-opacity=".5" fill="#e4e4e4" />\n            <path d="M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91" fill-opacity=".6" fill="#000" />\n            <path d="M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z" fill="#fff" />\n            <g transform="translate(0 .769)">\n                <mask id="B" fill="#fff">\n                    <use xlink:href="#A" />\n                </mask>\n                <path d="M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325" fill-opacity=".05" fill="#000" mask="url(#B)" />\n            </g>\n        </g>\n    </g>\n</svg>']))),q4(e4||(e4=pd(['\n<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000">\n    \x3c!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement\n         support for dynamic re-coloring of UI components --\x3e\n    <defs>\n      <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">\n        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>\n        <feOffset dx="0" dy="0" result="offsetblur"/>\n        <feFlood flood-color="#000000"/>\n        <feComposite in2="offsetblur" operator="in"/>\n        <feMerge>\n          <feMergeNode/>\n          <feMergeNode in="SourceGraphic"/>\n        </feMerge>\n      </filter>\n    </defs>\n    <path filter="url(#drop-shadow)" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'])))),w5=function(){function e(){M(this,e)}return N(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,a=n.length;r<a;r++)n[r].call(this,e);e.target=null}}}}]),e}(),k5=1234567,S5=Math.PI/180,T5=180/Math.PI,E5=[],C5=0;C5<256;C5++)E5[C5]=(C5<16?"0":"")+C5.toString(16);var _5="undefined"!=typeof crypto&&"randomUUID"in crypto;function M5(){if(_5)return crypto.randomUUID().toUpperCase();var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(E5[255&e]+E5[e>>8&255]+E5[e>>16&255]+E5[e>>24&255]+"-"+E5[255&t]+E5[t>>8&255]+"-"+E5[t>>16&15|64]+E5[t>>24&255]+"-"+E5[63&n|128]+E5[n>>8&255]+"-"+E5[n>>16&255]+E5[n>>24&255]+E5[255&r]+E5[r>>8&255]+E5[r>>16&255]+E5[r>>24&255]).toUpperCase()}function A5(e,t,n){return Math.max(t,Math.min(n,e))}function I5(e,t){return(e%t+t)%t}function N5(e,t,n){return(1-n)*e+n*t}function R5(e){return 0==(e&e-1)&&0!==e}function O5(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function D5(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var P5=Object.freeze({__proto__:null,DEG2RAD:S5,RAD2DEG:T5,generateUUID:M5,clamp:A5,euclideanModulo:I5,mapLinear:function(e,t,n,r,a){return r+(e-t)*(a-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:N5,damp:function(e,t,n,r){return N5(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(I5(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(k5=e%2147483647),((k5=16807*k5%2147483647)-1)/2147483646},degToRad:function(e){return e*S5},radToDeg:function(e){return e*T5},isPowerOfTwo:R5,ceilPowerOfTwo:O5,floorPowerOfTwo:D5,setQuaternionFromProperEuler:function(e,t,n,r,a){var i=Math.cos,o=Math.sin,s=i(n/2),l=o(n/2),u=i((t+r)/2),c=o((t+r)/2),d=i((t-r)/2),h=o((t-r)/2),f=i((r-t)/2),p=o((r-t)/2);switch(a){case"XYX":e.set(s*c,l*d,l*h,s*u);break;case"YZY":e.set(l*h,s*c,l*d,s*u);break;case"ZXZ":e.set(l*d,l*h,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}}),L5=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;M(this,t),this.x=e,this.y=n}return N(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),a=this.x-e.x,i=this.y-e.y;return this.x=a*n-i*r+e.x,this.y=a*r+i*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}();L5.prototype.isVector2=!0;var F5,j5=function(){function e(){M(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return N(e,[{key:"set",value:function(e,t,n,r,a,i,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=a,u[5]=s,u[6]=n,u[7]=i,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,a=this.elements,i=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],x=r[2],w=r[5],k=r[8];return a[0]=i*p+o*g+s*x,a[3]=i*m+o*y+s*w,a[6]=i*v+o*b+s*k,a[1]=l*p+u*g+c*x,a[4]=l*m+u*y+c*w,a[7]=l*v+u*b+c*k,a[2]=d*p+h*g+f*x,a[5]=d*m+h*y+f*w,a[8]=d*v+h*b+f*k,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*i*u-t*o*l-n*a*u+n*o*s+r*a*l-r*i*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*i-o*l,d=o*s-u*a,h=l*a-i*s,f=t*c+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*i)*p,e[3]=d*p,e[4]=(u*t-r*s)*p,e[5]=(r*a-o*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(i*t-n*a)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,a,i,o){var s=Math.cos(a),l=Math.sin(a);return this.set(n*s,n*l,-n*(s*i+l*o)+i+e,-r*l,r*s,-r*(-l*i+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,a=r[0],i=r[3],o=r[6],s=r[1],l=r[4],u=r[7];return r[0]=t*a+n*s,r[3]=t*i+n*l,r[6]=t*o+n*u,r[1]=-n*a+t*s,r[4]=-n*i+t*l,r[7]=-n*o+t*u,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function z5(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}function B5(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}j5.prototype.isMatrix3=!0;var U5=function(){function e(){M(this,e)}return N(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===F5&&(F5=B5("canvas")),F5.width=e.width,F5.height=e.height;var n=F5.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=F5}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}]),e}(),W5=0,Z5=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1001,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1001,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1006,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1008,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1023,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1009,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3e3;return M(this,n),e=t.call(this),Object.defineProperty(F(e),"id",{value:W5++}),e.uuid=M5(),e.name="",e.image=r,e.mipmaps=[],e.mapping=a,e.wrapS=i,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=d,e.format=u,e.internalFormat=null,e.type=c,e.offset=new L5(0,0),e.repeat=new L5(1,1),e.center=new L5(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new j5,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=h,e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e}return N(n,[{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=M5()),!t&&void 0===e.images[r.uuid]){var a;if(Array.isArray(r)){a=[];for(var i=0,o=r.length;i<o;i++)r[i].isDataTexture?a.push(V5(r[i].image)):a.push(V5(r[i]))}else a=V5(r);e.images[r.uuid]={uuid:r.uuid,url:a}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(w5);function V5(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?U5.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Z5.DEFAULT_IMAGE=void 0,Z5.DEFAULT_MAPPING=300,Z5.prototype.isTexture=!0;var H5=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;M(this,t),this.x=e,this.y=n,this.z=r,this.w=a}return N(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,a=this.w,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12]*a,this.y=i[1]*t+i[5]*n+i[9]*r+i[13]*a,this.z=i[2]*t+i[6]*n+i[10]*r+i[14]*a,this.w=i[3]*t+i[7]*n+i[11]*r+i[15]*a,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,a,i=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],d=s[1],h=s[5],f=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(u-d)<i&&Math.abs(c-p)<i&&Math.abs(f-m)<i){if(Math.abs(u+d)<o&&Math.abs(c+p)<o&&Math.abs(f+m)<o&&Math.abs(l+h+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(h+1)/2,b=(v+1)/2,x=(u+d)/4,w=(c+p)/4,k=(f+m)/4;return g>y&&g>b?g<i?(n=0,r=.707106781,a=.707106781):(r=x/(n=Math.sqrt(g)),a=w/n):y>b?y<i?(n=.707106781,r=0,a=.707106781):(n=x/(r=Math.sqrt(y)),a=k/r):b<i?(n=.707106781,r=.707106781,a=0):(n=w/(a=Math.sqrt(b)),r=k/a),this.set(n,r,a,t),this}var S=Math.sqrt((m-f)*(m-f)+(c-p)*(c-p)+(d-u)*(d-u));return Math.abs(S)<.001&&(S=1),this.x=(m-f)/S,this.y=(c-p)/S,this.z=(d-u)/S,this.w=Math.acos((l+h+v-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}();H5.prototype.isVector4=!0;var G5=function(e){O(n,e);var t=z(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return M(this,n),(a=t.call(this)).width=e,a.height=r,a.depth=1,a.scissor=new H5(0,0,e,r),a.scissorTest=!1,a.viewport=new H5(0,0,e,r),a.texture=new Z5(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),a.texture.isRenderTargetTexture=!0,a.texture.image={width:e,height:r,depth:1},a.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,a.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,a.texture.minFilter=void 0!==i.minFilter?i.minFilter:1006,a.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,a.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,a.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,a}return N(n,[{key:"setTexture",value:function(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}},{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=qo({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(w5);G5.prototype.isWebGLRenderTarget=!0,function(e){O(n,e);var t=z(n);function n(e,r,a){var i;M(this,n);var o=(i=t.call(this,e,r)).texture;i.texture=[];for(var s=0;s<a;s++)i.texture[s]=o.clone();return i}return N(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,a=this.texture.length;r<a;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}]),n}(G5).prototype.isWebGLMultipleRenderTargets=!0;var q5=function(e){O(n,e);var t=z(n);function n(e,r,a){var i;return M(this,n),(i=t.call(this,e,r,a)).samples=4,i}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.samples=e.samples,this}}]),n}(G5);q5.prototype.isWebGLMultisampleRenderTarget=!0;var X5=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;M(this,e),this._x=t,this._y=n,this._z=r,this._w=a}return N(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,a=e._z,i=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(a/2),d=s(n/2),h=s(r/2),f=s(a/2);switch(i){case"XYZ":this._x=d*u*c+l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c-d*h*f;break;case"YXZ":this._x=d*u*c+l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c+d*h*f;break;case"ZXY":this._x=d*u*c-l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c-d*h*f;break;case"ZYX":this._x=d*u*c-l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c+d*h*f;break;case"YZX":this._x=d*u*c+l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c-d*h*f;break;case"XZY":this._x=d*u*c-l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],a=t[8],i=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],d=n+o+c;if(d>0){var h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-s)*h,this._y=(a-l)*h,this._z=(i-r)*h}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(u-s)/f,this._x=.25*f,this._y=(r+i)/f,this._z=(a+l)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(a-l)/p,this._x=(r+i)/p,this._y=.25*p,this._z=(s+u)/p}else{var m=2*Math.sqrt(1+c-n-o);this._w=(i-r)/m,this._x=(a+l)/m,this._y=(s+u)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(A5(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,a=e._z,i=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+i*o+r*l-a*s,this._y=r*u+i*s+a*o-n*l,this._z=a*u+i*l+n*s-r*o,this._w=i*u-n*o-r*s-a*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,a=this._z,i=this._w,o=i*e._w+n*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=i,this._x=n,this._y=r,this._z=a,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*i+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*a+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),d=Math.sin((1-t)*c)/u,h=Math.sin(t*c)/u;return this._w=i*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=a*d+this._z*h,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(a),n*Math.cos(a),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,a,i,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],d=a[i+0],h=a[i+1],f=a[i+2],p=a[i+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=d,e[t+1]=h,e[t+2]=f,void(e[t+3]=p);if(c!==p||s!==d||l!==h||u!==f){var m=1-o,v=s*d+l*h+u*f+c*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,v*g);m=Math.sin(m*x)/b,o=Math.sin(o*x)/b}var w=o*g;if(s=s*m+d*w,l=l*m+h*w,u=u*m+f*w,c=c*m+p*w,m===1-o){var k=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=k,l*=k,u*=k,c*=k}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,a,i){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=a[i],d=a[i+1],h=a[i+2],f=a[i+3];return e[t]=o*f+u*c+s*h-l*d,e[t+1]=s*f+u*d+l*c-o*h,e[t+2]=l*f+u*h+o*d-s*c,e[t+3]=u*f-o*c-s*d-l*h,e}}]),e}();X5.prototype.isQuaternion=!0;var Y5=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;M(this,t),this.x=e,this.y=n,this.z=r}return N(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(J5.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(J5.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements,i=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*i,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*i,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*i,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.x,i=e.y,o=e.z,s=e.w,l=s*t+i*r-o*n,u=s*n+o*t-a*r,c=s*r+a*n-i*t,d=-a*t-i*n-o*r;return this.x=l*s+d*-a+u*-o-c*-i,this.y=u*s+d*-i+c*-a-l*-o,this.z=c*s+d*-o+l*-i-u*-a,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=t.x,o=t.y,s=t.z;return this.x=r*s-a*o,this.y=a*i-n*s,this.z=n*o-r*i,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return K5.copy(this).projectOnVector(e),this.sub(K5)}},{key:"reflect",value:function(e){return this.sub(K5.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(A5(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}();Y5.prototype.isVector3=!0;var K5=new Y5,J5=new X5,$5=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y5(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y5(-1/0,-1/0,-1/0);M(this,e),this.min=t,this.max=n}return N(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,a=-1/0,i=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],d=e[s+2];u<t&&(t=u),c<n&&(n=c),d<r&&(r=d),u>a&&(a=u),c>i&&(i=c),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(a,i,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,a=-1/0,i=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),d=e.getZ(s);u<t&&(t=u),c<n&&(n=c),d<r&&(r=d),u>a&&(a=u),c>i&&(i=c),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(a,i,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=e6.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),t6.copy(t.boundingBox),t6.applyMatrix4(e.matrixWorld),this.union(t6));for(var n=e.children,r=0,a=n.length;r<a;r++)this.expandByObject(n[r]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,e6),e6.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(l6),u6.subVectors(this.max,l6),n6.subVectors(e.a,l6),r6.subVectors(e.b,l6),a6.subVectors(e.c,l6),i6.subVectors(r6,n6),o6.subVectors(a6,r6),s6.subVectors(n6,a6);var t=[0,-i6.z,i6.y,0,-o6.z,o6.y,0,-s6.z,s6.y,i6.z,0,-i6.x,o6.z,0,-o6.x,s6.z,0,-s6.x,-i6.y,i6.x,0,-o6.y,o6.x,0,-s6.y,s6.x,0];return!!h6(t,n6,r6,a6,u6)&&(!!h6(t=[1,0,0,0,1,0,0,0,1],n6,r6,a6,u6)&&(c6.crossVectors(i6,o6),h6(t=[c6.x,c6.y,c6.z],n6,r6,a6,u6)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return e6.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(e6).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Q5[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Q5[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Q5[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Q5[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Q5[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Q5[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Q5[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Q5[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Q5)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();$5.prototype.isBox3=!0;var Q5=[new Y5,new Y5,new Y5,new Y5,new Y5,new Y5,new Y5,new Y5],e6=new Y5,t6=new $5,n6=new Y5,r6=new Y5,a6=new Y5,i6=new Y5,o6=new Y5,s6=new Y5,l6=new Y5,u6=new Y5,c6=new Y5,d6=new Y5;function h6(e,t,n,r,a){for(var i=0,o=e.length-3;i<=o;i+=3){d6.fromArray(e,i);var s=a.x*Math.abs(d6.x)+a.y*Math.abs(d6.y)+a.z*Math.abs(d6.z),l=t.dot(d6),u=n.dot(d6),c=r.dot(d6);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var f6=new $5,p6=new Y5,m6=new Y5,v6=new Y5,g6=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;M(this,e),this.center=t,this.radius=n}return N(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):f6.setFromPoints(e).getCenter(n);for(var r=0,a=0,i=e.length;a<i;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){v6.subVectors(e,this.center);var t=v6.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(v6.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return m6.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(p6.copy(e.center).add(m6)),this.expandByPoint(p6.copy(e.center).sub(m6)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),y6=new Y5,b6=new Y5,x6=new Y5,w6=new Y5,k6=new Y5,S6=new Y5,T6=new Y5,E6=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y5(0,0,-1);M(this,e),this.origin=t,this.direction=n}return N(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,y6)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=y6.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(y6.copy(this.direction).multiplyScalar(t).add(this.origin),y6.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){b6.copy(e).add(t).multiplyScalar(.5),x6.copy(t).sub(e).normalize(),w6.copy(this.origin).sub(b6);var a,i,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(x6),c=w6.dot(this.direction),d=-w6.dot(x6),h=w6.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(i=u*c-d,s=l*f,(a=u*d-c)>=0)if(i>=-s)if(i<=s){var p=1/f;o=(a*=p)*(a+u*(i*=p)+2*c)+i*(u*a+i+2*d)+h}else i=l,o=-(a=Math.max(0,-(u*i+c)))*a+i*(i+2*d)+h;else i=-l,o=-(a=Math.max(0,-(u*i+c)))*a+i*(i+2*d)+h;else i<=-s?o=-(a=Math.max(0,-(-u*l+c)))*a+(i=a>0?-l:Math.min(Math.max(-l,-d),l))*(i+2*d)+h:i<=s?(a=0,o=(i=Math.min(Math.max(-l,-d),l))*(i+2*d)+h):o=-(a=Math.max(0,-(u*l+c)))*a+(i=a>0?l:Math.min(Math.max(-l,-d),l))*(i+2*d)+h;else i=u>0?-l:l,o=-(a=Math.max(0,-(u*i+c)))*a+i*(i+2*d)+h;return n&&n.copy(this.direction).multiplyScalar(a).add(this.origin),r&&r.copy(x6).multiplyScalar(i).add(b6),o}},{key:"intersectSphere",value:function(e,t){y6.subVectors(e.center,this.origin);var n=y6.dot(this.direction),r=y6.dot(y6)-n*n,a=e.radius*e.radius;if(r>a)return null;var i=Math.sqrt(a-r),o=n-i,s=n+i;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,a,i,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),u>=0?(a=(e.min.y-d.y)*u,i=(e.max.y-d.y)*u):(a=(e.max.y-d.y)*u,i=(e.min.y-d.y)*u),n>i||a>r?null:((a>n||n!=n)&&(n=a),(i<r||r!=r)&&(r=i),c>=0?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,y6)}},{key:"intersectTriangle",value:function(e,t,n,r,a){k6.subVectors(t,e),S6.subVectors(n,e),T6.crossVectors(k6,S6);var i,o=this.direction.dot(T6);if(o>0){if(r)return null;i=1}else{if(!(o<0))return null;i=-1,o=-o}w6.subVectors(this.origin,e);var s=i*this.direction.dot(S6.crossVectors(w6,S6));if(s<0)return null;var l=i*this.direction.dot(k6.cross(w6));if(l<0)return null;if(s+l>o)return null;var u=-i*w6.dot(T6);return u<0?null:this.at(u/o,a)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),C6=function(){function e(){M(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return N(e,[{key:"set",value:function(e,t,n,r,a,i,o,s,l,u,c,d,h,f,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=a,v[5]=i,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=d,v[3]=h,v[7]=f,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/_6.setFromMatrixColumn(e,0).length(),a=1/_6.setFromMatrixColumn(e,1).length(),i=1/_6.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*i,t[9]=n[9]*i,t[10]=n[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,a=e.z,i=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(a),c=Math.sin(a);if("XYZ"===e.order){var d=i*u,h=i*c,f=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=h+f*l,t[5]=d-p*l,t[9]=-o*s,t[2]=p-d*l,t[6]=f+h*l,t[10]=i*s}else if("YXZ"===e.order){var m=s*u,v=s*c,g=l*u,y=l*c;t[0]=m+y*o,t[4]=g*o-v,t[8]=i*l,t[1]=i*c,t[5]=i*u,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=i*s}else if("ZXY"===e.order){var b=s*u,x=s*c,w=l*u,k=l*c;t[0]=b-k*o,t[4]=-i*c,t[8]=w+x*o,t[1]=x+w*o,t[5]=i*u,t[9]=k-b*o,t[2]=-i*l,t[6]=o,t[10]=i*s}else if("ZYX"===e.order){var S=i*u,T=i*c,E=o*u,C=o*c;t[0]=s*u,t[4]=E*l-T,t[8]=S*l+C,t[1]=s*c,t[5]=C*l+S,t[9]=T*l-E,t[2]=-l,t[6]=o*s,t[10]=i*s}else if("YZX"===e.order){var _=i*s,M=i*l,A=o*s,I=o*l;t[0]=s*u,t[4]=I-_*c,t[8]=A*c+M,t[1]=c,t[5]=i*u,t[9]=-o*u,t[2]=-l*u,t[6]=M*c+A,t[10]=_-I*c}else if("XZY"===e.order){var N=i*s,R=i*l,O=o*s,D=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=N*c+D,t[5]=i*u,t[9]=R*c-O,t[2]=O*c-R,t[6]=o*u,t[10]=D*c+N}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(A6,e,I6)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return O6.subVectors(e,t),0===O6.lengthSq()&&(O6.z=1),O6.normalize(),N6.crossVectors(n,O6),0===N6.lengthSq()&&(1===Math.abs(n.z)?O6.x+=1e-4:O6.z+=1e-4,O6.normalize(),N6.crossVectors(n,O6)),N6.normalize(),R6.crossVectors(O6,N6),r[0]=N6.x,r[4]=R6.x,r[8]=O6.x,r[1]=N6.y,r[5]=R6.y,r[9]=O6.y,r[2]=N6.z,r[6]=R6.z,r[10]=O6.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,a=this.elements,i=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],x=n[15],w=r[0],k=r[4],S=r[8],T=r[12],E=r[1],C=r[5],_=r[9],M=r[13],A=r[2],I=r[6],N=r[10],R=r[14],O=r[3],D=r[7],P=r[11],L=r[15];return a[0]=i*w+o*E+s*A+l*O,a[4]=i*k+o*C+s*I+l*D,a[8]=i*S+o*_+s*N+l*P,a[12]=i*T+o*M+s*R+l*L,a[1]=u*w+c*E+d*A+h*O,a[5]=u*k+c*C+d*I+h*D,a[9]=u*S+c*_+d*N+h*P,a[13]=u*T+c*M+d*R+h*L,a[2]=f*w+p*E+m*A+v*O,a[6]=f*k+p*C+m*I+v*D,a[10]=f*S+p*_+m*N+v*P,a[14]=f*T+p*M+m*R+v*L,a[3]=g*w+y*E+b*A+x*O,a[7]=g*k+y*C+b*I+x*D,a[11]=g*S+y*_+b*N+x*P,a[15]=g*T+y*M+b*R+x*L,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],i=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],d=e[10],h=e[14];return e[3]*(+a*s*c-r*l*c-a*o*d+n*l*d+r*o*h-n*s*h)+e[7]*(+t*s*h-t*l*d+a*i*d-r*i*h+r*l*u-a*s*u)+e[11]*(+t*l*c-t*o*h-a*i*c+n*i*h+a*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*d+r*i*c-n*i*d+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],h=e[11],f=e[12],p=e[13],m=e[14],v=e[15],g=c*m*l-p*d*l+p*s*h-o*m*h-c*s*v+o*d*v,y=f*d*l-u*m*l-f*s*h+i*m*h+u*s*v-i*d*v,b=u*p*l-f*c*l+f*o*h-i*p*h-u*o*v+i*c*v,x=f*c*s-u*p*s-f*o*d+i*p*d+u*o*m-i*c*m,w=t*g+n*y+r*b+a*x;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var k=1/w;return e[0]=g*k,e[1]=(p*d*a-c*m*a-p*r*h+n*m*h+c*r*v-n*d*v)*k,e[2]=(o*m*a-p*s*a+p*r*l-n*m*l-o*r*v+n*s*v)*k,e[3]=(c*s*a-o*d*a-c*r*l+n*d*l+o*r*h-n*s*h)*k,e[4]=y*k,e[5]=(u*m*a-f*d*a+f*r*h-t*m*h-u*r*v+t*d*v)*k,e[6]=(f*s*a-i*m*a-f*r*l+t*m*l+i*r*v-t*s*v)*k,e[7]=(i*d*a-u*s*a+u*r*l-t*d*l-i*r*h+t*s*h)*k,e[8]=b*k,e[9]=(f*c*a-u*p*a-f*n*h+t*p*h+u*n*v-t*c*v)*k,e[10]=(i*p*a-f*o*a+f*n*l-t*p*l-i*n*v+t*o*v)*k,e[11]=(u*o*a-i*c*a-u*n*l+t*c*l+i*n*h-t*o*h)*k,e[12]=x*k,e[13]=(u*p*r-f*c*r+f*n*d-t*p*d-u*n*m+t*c*m)*k,e[14]=(f*o*r-i*p*r-f*n*s+t*p*s+i*n*m-t*o*m)*k,e[15]=(i*c*r-u*o*r+u*n*s-t*c*s-i*n*d+t*o*d)*k,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),a=1-n,i=e.x,o=e.y,s=e.z,l=a*i,u=a*o;return this.set(l*i+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*i,0,l*s-r*o,u*s+r*i,a*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,a,i){return this.set(1,n,a,0,e,1,i,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,a=t._x,i=t._y,o=t._z,s=t._w,l=a+a,u=i+i,c=o+o,d=a*l,h=a*u,f=a*c,p=i*u,m=i*c,v=o*c,g=s*l,y=s*u,b=s*c,x=n.x,w=n.y,k=n.z;return r[0]=(1-(p+v))*x,r[1]=(h+b)*x,r[2]=(f-y)*x,r[3]=0,r[4]=(h-b)*w,r[5]=(1-(d+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(f+y)*k,r[9]=(m-g)*k,r[10]=(1-(d+p))*k,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,a=_6.set(r[0],r[1],r[2]).length(),i=_6.set(r[4],r[5],r[6]).length(),o=_6.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],M6.copy(this);var s=1/a,l=1/i,u=1/o;return M6.elements[0]*=s,M6.elements[1]*=s,M6.elements[2]*=s,M6.elements[4]*=l,M6.elements[5]*=l,M6.elements[6]*=l,M6.elements[8]*=u,M6.elements[9]*=u,M6.elements[10]*=u,t.setFromRotationMatrix(M6),n.x=a,n.y=i,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,a,i){void 0===i&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*a/(t-e),l=2*a/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),d=-(i+a)/(i-a),h=-2*i*a/(i-a);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,a,i){var o=this.elements,s=1/(t-e),l=1/(n-r),u=1/(i-a),c=(t+e)*s,d=(n+r)*l,h=(i+a)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();C6.prototype.isMatrix4=!0;var _6=new Y5,M6=new C6,A6=new Y5(0,0,0),I6=new Y5(1,1,1),N6=new Y5,R6=new Y5,O6=new Y5,D6=new C6,P6=new X5,L6=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;M(this,e),this._x=t,this._y=n,this._z=r,this._order=a}return N(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,a=r[0],i=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(A5(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-i,a)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-A5(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,a),this._z=0);break;case"ZXY":this._x=Math.asin(A5(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-c,h),this._z=Math.atan2(-i,l)):(this._y=0,this._z=Math.atan2(s,a));break;case"ZYX":this._y=Math.asin(-A5(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,a)):(this._x=0,this._z=Math.atan2(-i,l));break;case"YZX":this._z=Math.asin(A5(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-A5(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return D6.makeRotationFromQuaternion(e),this.setFromRotationMatrix(D6,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return P6.setFromEuler(this),this.setFromQuaternion(P6,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new Y5(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();L6.prototype.isEuler=!0,L6.DefaultOrder="XYZ",L6.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var F6=function(){function e(){M(this,e),this.mask=1}return N(e,[{key:"set",value:function(e){this.mask=1<<e|0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!=(this.mask&e.mask)}}]),e}(),j6=0,z6=new Y5,B6=new X5,U6=new C6,W6=new Y5,Z6=new Y5,V6=new Y5,H6=new X5,G6=new Y5(1,0,0),q6=new Y5(0,1,0),X6=new Y5(0,0,1),Y6={type:"added"},K6={type:"removed"},J6=function(e){O(n,e);var t=z(n);function n(){var e;M(this,n),e=t.call(this),Object.defineProperty(F(e),"id",{value:j6++}),e.uuid=M5(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new Y5,a=new L6,i=new X5,o=new Y5(1,1,1);return a._onChange((function(){i.setFromEuler(a,!1)})),i._onChange((function(){a.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(F(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new C6},normalMatrix:{value:new j5}}),e.matrix=new C6,e.matrixWorld=new C6,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new F6,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return N(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return B6.setFromAxisAngle(e,t),this.quaternion.multiply(B6),this}},{key:"rotateOnWorldAxis",value:function(e,t){return B6.setFromAxisAngle(e,t),this.quaternion.premultiply(B6),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(G6,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(q6,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(X6,e)}},{key:"translateOnAxis",value:function(e,t){return z6.copy(e).applyQuaternion(this.quaternion),this.position.add(z6.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(G6,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(q6,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(X6,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(U6.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?W6.copy(e):W6.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Z6.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?U6.lookAt(Z6,W6,this.up):U6.lookAt(W6,Z6,this.up),this.quaternion.setFromRotationMatrix(U6),r&&(U6.extractRotation(r.matrixWorld),B6.setFromRotationMatrix(U6),this.quaternion.premultiply(B6.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Y6)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(K6)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(K6)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),U6.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),U6.multiply(e.parent.matrixWorld)),e.applyMatrix4(U6),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var a=this.children[n].getObjectByProperty(e,t);if(void 0!==a)return a}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Z6,e,V6),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Z6,H6,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,a=0,i=r.length;a<i;a++)r[a].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function a(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);var i=this.geometry.parameters;if(void 0!==i&&void 0!==i.shapes){var o=i.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];a(e.shapes,u)}else a(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],d=0,h=this.material.length;d<h;d++)c.push(a(e.materials,this.material[d]));r.material=c}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var m=this.animations[p];r.animations.push(a(e.animations,m))}}if(t){var v=S(e.geometries),g=S(e.materials),y=S(e.textures),b=S(e.images),x=S(e.shapes),w=S(e.skeletons),k=S(e.animations);v.length>0&&(n.geometries=v),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),x.length>0&&(n.shapes=x),w.length>0&&(n.skeletons=w),k.length>0&&(n.animations=k)}return n.object=r,n;function S(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(w5);J6.DefaultUp=new Y5(0,1,0),J6.DefaultMatrixAutoUpdate=!0,J6.prototype.isObject3D=!0;var $6=new Y5,Q6=new Y5,e8=new Y5,t8=new Y5,n8=new Y5,r8=new Y5,a8=new Y5,i8=new Y5,o8=new Y5,s8=new Y5,l8=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Y5;M(this,e),this.a=t,this.b=n,this.c=r}return N(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return $6.subVectors(this.c,this.b),Q6.subVectors(this.a,this.b),.5*$6.cross(Q6).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,a,i){return e.getUV(t,this.a,this.b,this.c,n,r,a,i)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,a=this.a,i=this.b,o=this.c;n8.subVectors(i,a),r8.subVectors(o,a),i8.subVectors(e,a);var s=n8.dot(i8),l=r8.dot(i8);if(s<=0&&l<=0)return t.copy(a);o8.subVectors(e,i);var u=n8.dot(o8),c=r8.dot(o8);if(u>=0&&c<=u)return t.copy(i);var d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(a).addScaledVector(n8,n);s8.subVectors(e,o);var h=n8.dot(s8),f=r8.dot(s8);if(f>=0&&h<=f)return t.copy(o);var p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(a).addScaledVector(r8,r);var m=u*f-h*c;if(m<=0&&c-u>=0&&h-f>=0)return a8.subVectors(o,i),r=(c-u)/(c-u+(h-f)),t.copy(i).addScaledVector(a8,r);var v=1/(m+p+d);return n=p*v,r=d*v,t.copy(a).addScaledVector(n8,n).addScaledVector(r8,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),$6.subVectors(e,t),r.cross($6);var a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,a){$6.subVectors(r,t),Q6.subVectors(n,t),e8.subVectors(e,t);var i=$6.dot($6),o=$6.dot(Q6),s=$6.dot(e8),l=Q6.dot(Q6),u=Q6.dot(e8),c=i*l-o*o;if(0===c)return a.set(-2,-1,-1);var d=1/c,h=(l*s-o*u)*d,f=(i*u-o*s)*d;return a.set(1-h-f,f,h)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,t8),t8.x>=0&&t8.y>=0&&t8.x+t8.y<=1}},{key:"getUV",value:function(e,t,n,r,a,i,o,s){return this.getBarycoord(e,t,n,r,t8),s.set(0,0),s.addScaledVector(a,t8.x),s.addScaledVector(i,t8.y),s.addScaledVector(o,t8.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return $6.subVectors(n,t),Q6.subVectors(e,t),$6.cross(Q6).dot(r)<0}}]),e}(),u8=0,c8=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),e=t.call(this),Object.defineProperty(F(e),"id",{value:u8++}),e.uuid=M5(),e.name="",e.type="Material",e.fog=!0,e.blending=1,e.side=0,e.vertexColors=!1,e.opacity=1,e.format=1023,e.transparent=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=100,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=7680,e.stencilZFail=7680,e.stencilZPass=7680,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return N(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenTint&&this.sheenTint.isColor&&(n.sheenTint=this.sheenTint.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularTint&&this.specularTint.isColor&&(n.specularTint=this.specularTint.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularTintMap&&this.specularTintMap.isTexture&&(n.specularTintMap=this.specularTintMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationTint&&(n.attenuationTint=this.attenuationTint.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),1023!==this.format&&(n.format=this.format),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var a=r(e.textures),i=r(e.images);a.length>0&&(n.textures=a),i.length>0&&(n.images=i)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var a=0;a!==r;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(w5);c8.prototype.isMaterial=!0;var d8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},h8={h:0,s:0,l:0},f8={h:0,s:0,l:0};function p8(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function m8(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function v8(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var g8=function(){function e(t,n,r){return M(this,e),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return N(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=I5(e,1),t=A5(t,0,1),n=A5(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,a=2*n-r;this.r=p8(a,r,e+1/3),this.g=p8(a,r,e),this.b=p8(a,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,a=n[1],i=n[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){var u=n[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=d8[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=m8(e.r),this.g=m8(e.g),this.b=m8(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=v8(e.r),this.g=v8(e.g),this.b=v8(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t,n,r=this.r,a=this.g,i=this.b,o=Math.max(r,a,i),s=Math.min(r,a,i),l=(s+o)/2;if(s===o)t=0,n=0;else{var u=o-s;switch(n=l<=.5?u/(o+s):u/(2-o-s),o){case r:t=(a-i)/u+(a<i?6:0);break;case a:t=(i-r)/u+2;break;case i:t=(r-a)/u+4}t/=6}return e.h=t,e.s=n,e.l=l,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(h8),h8.h+=e,h8.s+=t,h8.l+=n,this.setHSL(h8.h,h8.s,h8.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(h8),e.getHSL(f8);var n=N5(h8.h,f8.h,t),r=N5(h8.s,f8.s,t),a=N5(h8.l,f8.l,t);return this.setHSL(n,r,a),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();g8.NAMES=d8,g8.prototype.isColor=!0,g8.prototype.r=1,g8.prototype.g=1,g8.prototype.b=1;var y8=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="MeshBasicMaterial",r.color=new g8(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(c8);y8.prototype.isMeshBasicMaterial=!0;var b8=new Y5,x8=new L5,w8=function(){function e(t,n,r){if(M(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}return N(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new g8),t[n++]=i.r,t[n++]=i.g,t[n++]=i.b}return this}},{key:"copyVector2sArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new L5),t[n++]=i.x,t[n++]=i.y}return this}},{key:"copyVector3sArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new Y5),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new H5),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n++]=i.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)x8.fromBufferAttribute(this,t),x8.applyMatrix3(e),this.setXY(t,x8.x,x8.y);else if(3===this.itemSize)for(var r=0,a=this.count;r<a;r++)b8.fromBufferAttribute(this,r),b8.applyMatrix3(e),this.setXYZ(r,b8.x,b8.y,b8.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)b8.x=this.getX(t),b8.y=this.getY(t),b8.z=this.getZ(t),b8.applyMatrix4(e),this.setXYZ(t,b8.x,b8.y,b8.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)b8.x=this.getX(t),b8.y=this.getY(t),b8.z=this.getZ(t),b8.applyNormalMatrix(e),this.setXYZ(t,b8.x,b8.y,b8.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)b8.x=this.getX(t),b8.y=this.getY(t),b8.z=this.getZ(t),b8.transformDirection(e),this.setXYZ(t,b8.x,b8.y,b8.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,t){return this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,t){return this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,t){return this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,t){return this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}();w8.prototype.isBufferAttribute=!0;var k8=function(e){O(n,e);var t=z(n);function n(e,r,a){return M(this,n),t.call(this,new Uint16Array(e),r,a)}return N(n)}(w8),S8=function(e){O(n,e);var t=z(n);function n(e,r,a){return M(this,n),t.call(this,new Uint32Array(e),r,a)}return N(n)}(w8);(function(e){O(n,e);var t=z(n);function n(e,r,a){return M(this,n),t.call(this,new Uint16Array(e),r,a)}return N(n)})(w8).prototype.isFloat16BufferAttribute=!0;var T8=function(e){O(n,e);var t=z(n);function n(e,r,a){return M(this,n),t.call(this,new Float32Array(e),r,a)}return N(n)}(w8),E8=0,C8=new C6,_8=new J6,M8=new Y5,A8=new $5,I8=new $5,N8=new Y5,R8=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),e=t.call(this),Object.defineProperty(F(e),"id",{value:E8++}),e.uuid=M5(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return N(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(z5(e)>65535?S8:k8)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new j5).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var a=this.attributes.tangent;return void 0!==a&&(a.transformDirection(e),a.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return C8.makeRotationFromQuaternion(e),this.applyMatrix4(C8),this}},{key:"rotateX",value:function(e){return C8.makeRotationX(e),this.applyMatrix4(C8),this}},{key:"rotateY",value:function(e){return C8.makeRotationY(e),this.applyMatrix4(C8),this}},{key:"rotateZ",value:function(e){return C8.makeRotationZ(e),this.applyMatrix4(C8),this}},{key:"translate",value:function(e,t,n){return C8.makeTranslation(e,t,n),this.applyMatrix4(C8),this}},{key:"scale",value:function(e,t,n){return C8.makeScale(e,t,n),this.applyMatrix4(C8),this}},{key:"lookAt",value:function(e){return _8.lookAt(e),_8.updateMatrix(),this.applyMatrix4(_8.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(M8).negate(),this.translate(M8.x,M8.y,M8.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new T8(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new $5);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Y5(-1/0,-1/0,-1/0),new Y5(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var a=t[n];A8.setFromBufferAttribute(a),this.morphTargetsRelative?(N8.addVectors(this.boundingBox.min,A8.min),this.boundingBox.expandByPoint(N8),N8.addVectors(this.boundingBox.max,A8.max),this.boundingBox.expandByPoint(N8)):(this.boundingBox.expandByPoint(A8.min),this.boundingBox.expandByPoint(A8.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new g6);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Y5,1/0);if(e){var n=this.boundingSphere.center;if(A8.setFromBufferAttribute(e),t)for(var r=0,a=t.length;r<a;r++){var i=t[r];I8.setFromBufferAttribute(i),this.morphTargetsRelative?(N8.addVectors(A8.min,I8.min),A8.expandByPoint(N8),N8.addVectors(A8.max,I8.max),A8.expandByPoint(N8)):(A8.expandByPoint(I8.min),A8.expandByPoint(I8.max))}A8.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)N8.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(N8));if(t)for(var u=0,c=t.length;u<c;u++)for(var d=t[u],h=this.morphTargetsRelative,f=0,p=d.count;f<p;f++)N8.fromBufferAttribute(d,f),h&&(M8.fromBufferAttribute(e,f),N8.add(M8)),o=Math.max(o,n.distanceToSquared(N8));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,a=t.normal.array,i=t.uv.array,o=r.length/3;void 0===t.tangent&&this.setAttribute("tangent",new w8(new Float32Array(4*o),4));for(var s=t.tangent.array,l=[],u=[],c=0;c<o;c++)l[c]=new Y5,u[c]=new Y5;var d=new Y5,h=new Y5,f=new Y5,p=new L5,m=new L5,v=new L5,g=new Y5,y=new Y5,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var x=0,w=b.length;x<w;++x)for(var k=b[x],S=k.start,T=S,E=S+k.count;T<E;T+=3)L(n[T+0],n[T+1],n[T+2]);for(var C=new Y5,_=new Y5,M=new Y5,A=new Y5,I=0,N=b.length;I<N;++I)for(var R=b[I],O=R.start,D=O,P=O+R.count;D<P;D+=3)F(n[D+0]),F(n[D+1]),F(n[D+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function L(e,t,n){d.fromArray(r,3*e),h.fromArray(r,3*t),f.fromArray(r,3*n),p.fromArray(i,2*e),m.fromArray(i,2*t),v.fromArray(i,2*n),h.sub(d),f.sub(d),m.sub(p),v.sub(p);var a=1/(m.x*v.y-v.x*m.y);isFinite(a)&&(g.copy(h).multiplyScalar(v.y).addScaledVector(f,-m.y).multiplyScalar(a),y.copy(f).multiplyScalar(m.x).addScaledVector(h,-v.x).multiplyScalar(a),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(y),u[t].add(y),u[n].add(y))}function F(e){M.fromArray(a,3*e),A.copy(M);var t=l[e];C.copy(t),C.sub(M.multiplyScalar(M.dot(t))).normalize(),_.crossVectors(A,t);var n=_.dot(u[e])<0?-1:1;s[4*e]=C.x,s[4*e+1]=C.y,s[4*e+2]=C.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new w8(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,a=n.count;r<a;r++)n.setXYZ(r,0,0,0);var i=new Y5,o=new Y5,s=new Y5,l=new Y5,u=new Y5,c=new Y5,d=new Y5,h=new Y5;if(e)for(var f=0,p=e.count;f<p;f+=3){var m=e.getX(f+0),v=e.getX(f+1),g=e.getX(f+2);i.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),d.subVectors(s,o),h.subVectors(i,o),d.cross(h),l.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),l.add(d),u.add(d),c.add(d),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)i.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),d.subVectors(s,o),h.subVectors(i,o),d.cross(h),n.setXYZ(y+0,d.x,d.y,d.z),n.setXYZ(y+1,d.x,d.y,d.z),n.setXYZ(y+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var a=n[r].array,i=e.attributes[r],o=i.array,s=i.itemSize*t,l=Math.min(o.length,a.length-s),u=0,c=s;u<l;u++,c++)a[c]=o[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)N8.fromBufferAttribute(e,t),N8.normalize(),e.setXYZ(t,N8.x,N8.y,N8.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,a=e.normalized,i=new n.constructor(t.length*r),o=0,s=0,l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var c=0;c<r;c++)i[s++]=n[o++]}return new w8(i,r,a)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,a=this.attributes;for(var i in a){var o=e(a[i],r);t.setAttribute(i,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],d=0,h=c.length;d<h;d++){var f=e(c[d],r);u.push(f)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,m=0,v=p.length;m<v;m++){var g=p[m];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var a=this.attributes;for(var i in a){var o=a[i];e.data.attributes[i]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],d=[],h=0,f=c.length;h<f;h++){var p=c[h];d.push(p.toJSON(e.data))}d.length>0&&(s[u]=d,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var m=this.groups;m.length>0&&(e.data.groups=JSON.parse(JSON.stringify(m)));var v=this.boundingSphere;return null!==v&&(e.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var a in r){var i=r[a];this.setAttribute(a,i.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,d=u.length;c<d;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var h=e.groups,f=0,p=h.length;f<p;f++){var m=h[f];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(w5);R8.prototype.isBufferGeometry=!0;var O8=new C6,D8=new E6,P8=new g6,L8=new Y5,F8=new Y5,j8=new Y5,z8=new Y5,B8=new Y5,U8=new Y5,W8=new Y5,Z8=new Y5,V8=new Y5,H8=new L5,G8=new L5,q8=new L5,X8=new Y5,Y8=new Y5,K8=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new R8,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new y8;return M(this,n),(e=t.call(this)).type="Mesh",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(e,t){var n,r=this.geometry,a=this.material,i=this.matrixWorld;if(void 0!==a&&(null===r.boundingSphere&&r.computeBoundingSphere(),P8.copy(r.boundingSphere),P8.applyMatrix4(i),!1!==e.ray.intersectsSphere(P8)&&(O8.copy(i).invert(),D8.copy(e.ray).applyMatrix4(O8),null===r.boundingBox||!1!==D8.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,s=r.attributes.position,l=r.morphAttributes.position,u=r.morphTargetsRelative,c=r.attributes.uv,d=r.attributes.uv2,h=r.groups,f=r.drawRange;if(null!==o)if(Array.isArray(a))for(var p=0,m=h.length;p<m;p++)for(var v=h[p],g=a[v.materialIndex],y=Math.max(v.start,f.start),b=Math.min(o.count,Math.min(v.start+v.count,f.start+f.count));y<b;y+=3){var x=o.getX(y),w=o.getX(y+1),k=o.getX(y+2);(n=J8(this,g,e,D8,s,l,u,c,d,x,w,k))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=v.materialIndex,t.push(n))}else for(var S=Math.max(0,f.start),T=Math.min(o.count,f.start+f.count);S<T;S+=3){var E=o.getX(S),C=o.getX(S+1),_=o.getX(S+2);(n=J8(this,a,e,D8,s,l,u,c,d,E,C,_))&&(n.faceIndex=Math.floor(S/3),t.push(n))}else if(void 0!==s)if(Array.isArray(a))for(var M=0,A=h.length;M<A;M++)for(var I=h[M],N=a[I.materialIndex],R=Math.max(I.start,f.start),O=Math.min(s.count,Math.min(I.start+I.count,f.start+f.count));R<O;R+=3)(n=J8(this,N,e,D8,s,l,u,c,d,R,R+1,R+2))&&(n.faceIndex=Math.floor(R/3),n.face.materialIndex=I.materialIndex,t.push(n));else for(var D=Math.max(0,f.start),P=Math.min(s.count,f.start+f.count);D<P;D+=3)(n=J8(this,a,e,D8,s,l,u,c,d,D,D+1,D+2))&&(n.faceIndex=Math.floor(D/3),t.push(n))}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),n}(J6);function J8(e,t,n,r,a,i,o,s,l,u,c,d){L8.fromBufferAttribute(a,u),F8.fromBufferAttribute(a,c),j8.fromBufferAttribute(a,d);var h=e.morphTargetInfluences;if(i&&h){W8.set(0,0,0),Z8.set(0,0,0),V8.set(0,0,0);for(var f=0,p=i.length;f<p;f++){var m=h[f],v=i[f];0!==m&&(z8.fromBufferAttribute(v,u),B8.fromBufferAttribute(v,c),U8.fromBufferAttribute(v,d),o?(W8.addScaledVector(z8,m),Z8.addScaledVector(B8,m),V8.addScaledVector(U8,m)):(W8.addScaledVector(z8.sub(L8),m),Z8.addScaledVector(B8.sub(F8),m),V8.addScaledVector(U8.sub(j8),m)))}L8.add(W8),F8.add(Z8),j8.add(V8)}e.isSkinnedMesh&&(e.boneTransform(u,L8),e.boneTransform(c,F8),e.boneTransform(d,j8));var g=function(e,t,n,r,a,i,o,s){if(null===(1===t.side?r.intersectTriangle(o,i,a,!0,s):r.intersectTriangle(a,i,o,2!==t.side,s)))return null;Y8.copy(s),Y8.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Y8);return l<n.near||l>n.far?null:{distance:l,point:Y8.clone(),object:e}}(e,t,n,r,L8,F8,j8,X8);if(g){s&&(H8.fromBufferAttribute(s,u),G8.fromBufferAttribute(s,c),q8.fromBufferAttribute(s,d),g.uv=l8.getUV(X8,L8,F8,j8,H8,G8,q8,new L5)),l&&(H8.fromBufferAttribute(l,u),G8.fromBufferAttribute(l,c),q8.fromBufferAttribute(l,d),g.uv2=l8.getUV(X8,L8,F8,j8,H8,G8,q8,new L5));var y={a:u,b:c,c:d,normal:new Y5,materialIndex:0};l8.getNormal(L8,F8,j8,y.normal),g.face=y}return g}K8.prototype.isMesh=!0;var $8=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;M(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:a,depth:i,widthSegments:o,heightSegments:s,depthSegments:l};var u=F(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],d=[],h=[],f=[],p=0,m=0;function v(e,t,n,r,a,i,o,s,l,v,g){for(var y=i/l,b=o/v,x=i/2,w=o/2,k=s/2,S=l+1,T=v+1,E=0,C=0,_=new Y5,M=0;M<T;M++)for(var A=M*b-w,I=0;I<S;I++){var N=I*y-x;_[e]=N*r,_[t]=A*a,_[n]=k,d.push(_.x,_.y,_.z),_[e]=0,_[t]=0,_[n]=s>0?1:-1,h.push(_.x,_.y,_.z),f.push(I/l),f.push(1-M/v),E+=1}for(var R=0;R<v;R++)for(var O=0;O<l;O++){var D=p+O+S*R,P=p+O+S*(R+1),L=p+(O+1)+S*(R+1),F=p+(O+1)+S*R;c.push(D,P,F),c.push(P,L,F),C+=6}u.addGroup(m,C,g),m+=C,p+=E}return v("z","y","x",-1,-1,i,a,r,l,s,0),v("z","y","x",1,-1,i,a,-r,l,s,1),v("x","z","y",1,1,r,i,a,o,l,2),v("x","z","y",1,-1,r,i,-a,o,l,3),v("x","y","z",1,-1,r,a,i,o,s,4),v("x","y","z",-1,-1,r,a,-i,o,s,5),e.setIndex(c),e.setAttribute("position",new T8(d,3)),e.setAttribute("normal",new T8(h,3)),e.setAttribute("uv",new T8(f,2)),e}return N(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(R8);function Q8(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var a=e[n][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?t[n][r]=a.clone():Array.isArray(a)?t[n][r]=a.slice():t[n][r]=a}return t}function e7(e){for(var t={},n=0;n<e.length;n++){var r=Q8(e[n]);for(var a in r)t[a]=r[a]}return t}var t7={clone:Q8,merge:e7},n7=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="ShaderMaterial",r.defines={},r.uniforms={},r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),r.setValues(e)),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Q8(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=nv(D(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}]),n}(c8);n7.prototype.isShaderMaterial=!0;var r7=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.call(this)).type="Camera",e.matrixWorldInverse=new C6,e.projectionMatrix=new C6,e.projectionMatrixInverse=new C6,e}return N(n,[{key:"copy",value:function(e,t){return nv(D(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){nv(D(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){nv(D(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(J6);r7.prototype.isCamera=!0;var a7=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return M(this,n),(e=t.call(this)).type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=i,e.far=o,e.focus=10,e.aspect=a,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return N(n,[{key:"copy",value:function(e,t){return nv(D(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*T5*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*S5*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*T5*Math.atan(Math.tan(.5*S5*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,a,i){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*S5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-.5*r,i=this.view;if(null!==this.view&&this.view.enabled){var o=i.fullWidth,s=i.fullHeight;a+=i.offsetX*r/o,t-=i.offsetY*n/s,r*=i.width/o,n*=i.height/s}var l=this.filmOffset;0!==l&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=nv(D(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(r7);a7.prototype.isPerspectiveCamera=!0;var i7=function(e){O(n,e);var t=z(n);function n(e,r,a){var i;if(M(this,n),(i=t.call(this)).type="CubeCamera",!0!==a.isWebGLCubeRenderTarget)return j(i,void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."));i.renderTarget=a;var o=new a7(90,1,e,r);o.layers=i.layers,o.up.set(0,-1,0),o.lookAt(new Y5(1,0,0)),i.add(o);var s=new a7(90,1,e,r);s.layers=i.layers,s.up.set(0,-1,0),s.lookAt(new Y5(-1,0,0)),i.add(s);var l=new a7(90,1,e,r);l.layers=i.layers,l.up.set(0,0,1),l.lookAt(new Y5(0,1,0)),i.add(l);var u=new a7(90,1,e,r);u.layers=i.layers,u.up.set(0,0,-1),u.lookAt(new Y5(0,-1,0)),i.add(u);var c=new a7(90,1,e,r);c.layers=i.layers,c.up.set(0,-1,0),c.lookAt(new Y5(0,0,1)),i.add(c);var d=new a7(90,1,e,r);return d.layers=i.layers,d.up.set(0,-1,0),d.lookAt(new Y5(0,0,-1)),i.add(d),j(i)}return N(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=(0,Z.Z)(this.children,6),a=r[0],i=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;var h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,a),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,u),e.setRenderTarget(d),e.xr.enabled=c}}]),n}(J6),o7=function(e){O(n,e);var t=z(n);function n(e,r,a,i,o,s,l,u,c,d){var h;return M(this,n),(h=t.call(this,e=void 0!==e?e:[],r=void 0!==r?r:301,a,i,o,s,l,u,c,d)).flipY=!1,h}return N(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Z5);o7.prototype.isCubeTexture=!0;var s7=function(e){O(n,e);var t=z(n);function n(e,r,a){var i;return M(this,n),Number.isInteger(r)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),r=a),i=t.call(this,e,e,r),r=r||{},i.texture=new o7(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),i.texture.isRenderTargetTexture=!0,i.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,i.texture.minFilter=void 0!==r.minFilter?r.minFilter:1006,i.texture._needsFlipEnvMap=!1,i}return N(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.format=1023,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",a="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new $8(5,5,5),o=new n7({name:"CubemapFromEquirect",uniforms:Q8(n),vertexShader:r,fragmentShader:a,side:1,blending:0});o.uniforms.tEquirect.value=t;var s=new K8(i,o),l=t.minFilter;return 1008===t.minFilter&&(t.minFilter=1006),new i7(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var a=e.getRenderTarget(),i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(a)}}]),n}(G5);s7.prototype.isWebGLCubeRenderTarget=!0;var l7=new Y5,u7=new Y5,c7=new j5,d7=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y5(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;M(this,e),this.normal=t,this.constant=n}return N(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=l7.subVectors(n,t).cross(u7.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(l7),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(n).multiplyScalar(a).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||c7.getNormalMatrix(e),r=this.coplanarPoint(l7).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();d7.prototype.isPlane=!0;var h7=new g6,f7=new Y5,p7=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new d7,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new d7,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new d7,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new d7,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new d7,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new d7;M(this,e),this.planes=[t,n,r,a,i,o]}return N(e,[{key:"set",value:function(e,t,n,r,a,i){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(a),o[5].copy(i),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],d=n[8],h=n[9],f=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,c-s,p-d,y-m).normalize(),t[1].setComponents(o+r,c+s,p+d,y+m).normalize(),t[2].setComponents(o+a,c+l,p+h,y+v).normalize(),t[3].setComponents(o-a,c-l,p-h,y-v).normalize(),t[4].setComponents(o-i,c-u,p-f,y-g).normalize(),t[5].setComponents(o+i,c+u,p+f,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),h7.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(h7)}},{key:"intersectsSprite",value:function(e){return h7.center.set(0,0,0),h7.radius=.7071067811865476,h7.applyMatrix4(e.matrixWorld),this.intersectsSphere(h7)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,a=0;a<6;a++)if(t[a].distanceToPoint(n)<r)return!1;return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(f7.x=r.normal.x>0?e.max.x:e.min.x,f7.y=r.normal.y>0?e.max.y:e.min.y,f7.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(f7)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function m7(){var e=null,t=!1,n=null,r=null;function a(t,i){n(t,i),r=e.requestAnimationFrame(a)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(a),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function v7(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,a){if(t.isGLBufferAttribute){var i=r.get(t);(!i||i.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var a=t.array,i=t.usage,o=e.createBuffer();e.bindBuffer(r,o),e.bufferData(r,a,i),t.onUploadCallback();var s=5126;return a instanceof Float32Array?s=5126:a instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):a instanceof Uint16Array?t.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:a instanceof Int16Array?s=5122:a instanceof Uint32Array?s=5125:a instanceof Int32Array?s=5124:a instanceof Int8Array?s=5120:(a instanceof Uint8Array||a instanceof Uint8ClampedArray)&&(s=5121),{buffer:o,type:s,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,a)):o.version<t.version&&(function(t,r,a){var i=r.array,o=r.updateRange;e.bindBuffer(a,t),-1===o.count?e.bufferSubData(a,0,i):(n?e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i,o.offset,o.count):e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,a),o.version=t.version)}}}}var g7=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;M(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:a,widthSegments:i,heightSegments:o};for(var s=r/2,l=a/2,u=Math.floor(i),c=Math.floor(o),d=u+1,h=c+1,f=r/u,p=a/c,m=[],v=[],g=[],y=[],b=0;b<h;b++)for(var x=b*p-l,w=0;w<d;w++){var k=w*f-s;v.push(k,-x,0),g.push(0,0,1),y.push(w/u),y.push(1-b/c)}for(var S=0;S<c;S++)for(var T=0;T<u;T++){var E=T+d*S,C=T+d*(S+1),_=T+1+d*(S+1),A=T+1+d*S;m.push(E,C,A),m.push(C,_,A)}return e.setIndex(m),e.setAttribute("position",new T8(v,3)),e.setAttribute("normal",new T8(g,3)),e.setAttribute("uv",new T8(y,2)),e}return N(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(R8),y7={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenTint, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenTint * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularTintFactor = specularTint;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARTINTMAP\n\t\t\tspecularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularTintFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenTint = sheenTint;\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenTint;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenTint, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {\n\t\t\tfloat texelIndex = float( vertexIndex * stride + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV ).xyz;\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\t#ifndef USE_MORPHNORMALS\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];\n\t\t\t#else\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];\n\t\t\t#endif\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationTint, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationTint;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( float roughness, float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularTint;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARTINTMAP\n\t\tuniform sampler2D specularTintMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenTint;\n\tuniform float sheenRoughness;\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},b7={common:{diffuse:{value:new g8(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new j5},uv2Transform:{value:new j5},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new L5(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new g8(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new g8(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new j5}},sprite:{diffuse:{value:new g8(16777215)},opacity:{value:1},center:{value:new L5(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new j5}}},x7={basic:{uniforms:e7([b7.common,b7.specularmap,b7.envmap,b7.aomap,b7.lightmap,b7.fog]),vertexShader:y7.meshbasic_vert,fragmentShader:y7.meshbasic_frag},lambert:{uniforms:e7([b7.common,b7.specularmap,b7.envmap,b7.aomap,b7.lightmap,b7.emissivemap,b7.fog,b7.lights,{emissive:{value:new g8(0)}}]),vertexShader:y7.meshlambert_vert,fragmentShader:y7.meshlambert_frag},phong:{uniforms:e7([b7.common,b7.specularmap,b7.envmap,b7.aomap,b7.lightmap,b7.emissivemap,b7.bumpmap,b7.normalmap,b7.displacementmap,b7.fog,b7.lights,{emissive:{value:new g8(0)},specular:{value:new g8(1118481)},shininess:{value:30}}]),vertexShader:y7.meshphong_vert,fragmentShader:y7.meshphong_frag},standard:{uniforms:e7([b7.common,b7.envmap,b7.aomap,b7.lightmap,b7.emissivemap,b7.bumpmap,b7.normalmap,b7.displacementmap,b7.roughnessmap,b7.metalnessmap,b7.fog,b7.lights,{emissive:{value:new g8(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:y7.meshphysical_vert,fragmentShader:y7.meshphysical_frag},toon:{uniforms:e7([b7.common,b7.aomap,b7.lightmap,b7.emissivemap,b7.bumpmap,b7.normalmap,b7.displacementmap,b7.gradientmap,b7.fog,b7.lights,{emissive:{value:new g8(0)}}]),vertexShader:y7.meshtoon_vert,fragmentShader:y7.meshtoon_frag},matcap:{uniforms:e7([b7.common,b7.bumpmap,b7.normalmap,b7.displacementmap,b7.fog,{matcap:{value:null}}]),vertexShader:y7.meshmatcap_vert,fragmentShader:y7.meshmatcap_frag},points:{uniforms:e7([b7.points,b7.fog]),vertexShader:y7.points_vert,fragmentShader:y7.points_frag},dashed:{uniforms:e7([b7.common,b7.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:y7.linedashed_vert,fragmentShader:y7.linedashed_frag},depth:{uniforms:e7([b7.common,b7.displacementmap]),vertexShader:y7.depth_vert,fragmentShader:y7.depth_frag},normal:{uniforms:e7([b7.common,b7.bumpmap,b7.normalmap,b7.displacementmap,{opacity:{value:1}}]),vertexShader:y7.meshnormal_vert,fragmentShader:y7.meshnormal_frag},sprite:{uniforms:e7([b7.sprite,b7.fog]),vertexShader:y7.sprite_vert,fragmentShader:y7.sprite_frag},background:{uniforms:{uvTransform:{value:new j5},t2D:{value:null}},vertexShader:y7.background_vert,fragmentShader:y7.background_frag},cube:{uniforms:e7([b7.envmap,{opacity:{value:1}}]),vertexShader:y7.cube_vert,fragmentShader:y7.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:y7.equirect_vert,fragmentShader:y7.equirect_frag},distanceRGBA:{uniforms:e7([b7.common,b7.displacementmap,{referencePosition:{value:new Y5},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:y7.distanceRGBA_vert,fragmentShader:y7.distanceRGBA_frag},shadow:{uniforms:e7([b7.lights,b7.fog,{color:{value:new g8(0)},opacity:{value:1}}]),vertexShader:y7.shadow_vert,fragmentShader:y7.shadow_frag}};function w7(e,t,n,r,a){var i,o,s=new g8(0),l=0,u=null,c=0,d=null;function h(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,a)}return{getClearColor:function(){return s},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),h(s,l=t)},getClearAlpha:function(){return l},setClearAlpha:function(e){h(s,l=e)},render:function(n,a){var f=!1,p=!0===a.isScene?a.background:null;p&&p.isTexture&&(p=t.get(p));var m=e.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(p=null),null===p?h(s,l):p&&p.isColor&&(h(p,1),f=!0),(e.autoClear||f)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||306===p.mapping)?(void 0===o&&((o=new K8(new $8(1,1,1),new n7({name:"BackgroundCubeMaterial",uniforms:Q8(x7.cube.uniforms),vertexShader:x7.cube.vertexShader,fragmentShader:x7.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(o)),o.material.uniforms.envMap.value=p,o.material.uniforms.flipEnvMap.value=p.isCubeTexture&&!1===p.isRenderTargetTexture?-1:1,u===p&&c===p.version&&d===e.toneMapping||(o.material.needsUpdate=!0,u=p,c=p.version,d=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):p&&p.isTexture&&(void 0===i&&((i=new K8(new g7(2,2),new n7({name:"BackgroundMaterial",uniforms:Q8(x7.background.uniforms),vertexShader:x7.background.vertexShader,fragmentShader:x7.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(i)),i.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),i.material.uniforms.uvTransform.value.copy(p.matrix),u===p&&c===p.version&&d===e.toneMapping||(i.material.needsUpdate=!0,u=p,c=p.version,d=e.toneMapping),n.unshift(i,i.geometry,i.material,0,0,null))}}}function k7(e,t,n,r){var a=e.getParameter(34921),i=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==i,s={},l=h(null),u=l;function c(t){return r.isWebGL2?e.bindVertexArray(t):i.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):i.deleteVertexArrayOES(t)}function h(e){for(var t=[],n=[],r=[],i=0;i<a;i++)t[i]=0,n[i]=0,r[i]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function f(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){m(e,0)}function m(n,a){var i=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;i[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==a&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,a),s[n]=a)}function v(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,a=n.length;r<a;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,a,i,o,s){!0!==r.isWebGL2||5124!==a&&5125!==a?e.vertexAttribPointer(t,n,a,i,o,s):e.vertexAttribIPointer(t,n,a,o,s)}function y(){b(),u!==l&&c((u=l).object)}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(a,l,d,y,b){var x=!1;if(o){var w=function(t,n,a){var o=!0===a.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];return void 0===c&&(c=h(r.isWebGL2?e.createVertexArray():i.createVertexArrayOES()),u[o]=c),c}(y,d,l);u!==w&&c((u=w).object),x=function(e,t){var n=u.attributes,r=e.attributes,a=0;for(var i in r){var o=n[i],s=r[i];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;a++}return u.attributesNum!==a||u.index!==t}(y,b),x&&function(e,t){var n={},r=e.attributes,a=0;for(var i in r){var o=r[i],s={};s.attribute=o,o.data&&(s.data=o.data),n[i]=s,a++}u.attributes=n,u.attributesNum=a,u.index=t}(y,b)}else{var k=!0===l.wireframe;u.geometry===y.id&&u.program===d.id&&u.wireframe===k||(u.geometry=y.id,u.program=d.id,u.wireframe=k,x=!0)}!0===a.isInstancedMesh&&(x=!0),null!==b&&n.update(b,34963),x&&(function(a,i,o,s){if(!1!==r.isWebGL2||!a.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){f();var l=s.attributes,u=o.getAttributes(),c=i.defaultAttributeValues;for(var d in u){var h=u[d];if(h.location>=0){var y=l[d];if(void 0===y&&("instanceMatrix"===d&&a.instanceMatrix&&(y=a.instanceMatrix),"instanceColor"===d&&a.instanceColor&&(y=a.instanceColor)),void 0!==y){var b=y.normalized,x=y.itemSize,w=n.get(y);if(void 0===w)continue;var k=w.buffer,S=w.type,T=w.bytesPerElement;if(y.isInterleavedBufferAttribute){var E=y.data,C=E.stride,_=y.offset;if(E&&E.isInstancedInterleavedBuffer){for(var M=0;M<h.locationSize;M++)m(h.location+M,E.meshPerAttribute);!0!==a.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=E.meshPerAttribute*E.count)}else for(var A=0;A<h.locationSize;A++)p(h.location+A);e.bindBuffer(34962,k);for(var I=0;I<h.locationSize;I++)g(h.location+I,x/h.locationSize,S,b,C*T,(_+x/h.locationSize*I)*T)}else{if(y.isInstancedBufferAttribute){for(var N=0;N<h.locationSize;N++)m(h.location+N,y.meshPerAttribute);!0!==a.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)}else for(var R=0;R<h.locationSize;R++)p(h.location+R);e.bindBuffer(34962,k);for(var O=0;O<h.locationSize;O++)g(h.location+O,x/h.locationSize,S,b,x*T,x/h.locationSize*O*T)}}else if(void 0!==c){var D=c[d];if(void 0!==D)switch(D.length){case 2:e.vertexAttrib2fv(h.location,D);break;case 3:e.vertexAttrib3fv(h.location,D);break;case 4:e.vertexAttrib4fv(h.location,D);break;default:e.vertexAttrib1fv(h.location,D)}}}}v()}}(a,l,d,y),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var a in r)d(r[a].object),delete r[a];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var a in r)d(r[a].object),delete r[a];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var a in r)d(r[a].object),delete r[a];delete n[e.id]}}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:v}}function S7(e,t,n,r){var a,i=r.isWebGL2;this.setMode=function(e){a=e},this.render=function(t,r){e.drawArrays(a,t,r),n.update(r,a,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,u;if(i)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](a,r,o,s),n.update(o,a,s)}}}function T7(e,t,n){var r;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var i="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=i||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),d=e.getParameter(35660),h=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),m=e.getParameter(36347),v=e.getParameter(36348),g=e.getParameter(36349),y=d>0,b=i||t.has("OES_texture_float");return{isWebGL2:i,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:a,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:i?e.getParameter(36183):0}}function E7(e){var t=this,n=null,r=0,a=!1,i=!1,o=new d7,s=new j5,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,a){var i=null!==e?e.length:0,u=null;if(0!==i){if(u=l.value,!0!==a||null===u){var c=r+4*i,d=n.matrixWorldInverse;s.getNormalMatrix(d),(null===u||u.length<c)&&(u=new Float32Array(c));for(var h=0,f=r;h!==i;++h,f+=4)o.copy(e[h]).applyMatrix4(d,s),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=i,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,i){var o=0!==e.length||t||0!==r||a;return a=t,n=c(e,i,0),r=e.length,o},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,u()},this.setState=function(t,o,s){var d=t.clippingPlanes,h=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!a||null===d||0===d.length||i&&!f)i?c(null):u();else{var m=i?0:r,v=4*m,g=p.clippingState||null;l.value=g,g=c(d,o,v,s);for(var y=0;y!==v;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=m}}}function C7(e){var t=new WeakMap;function n(e,t){return 303===t?e.mapping=301:304===t&&(e.mapping=302),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var a=t.get(n);void 0!==a&&(t.delete(n),a.dispose())}return{get:function(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){var i=a.mapping;if(303===i||304===i){if(t.has(a))return n(t.get(a).texture,a.mapping);var o=a.image;if(o&&o.height>0){var s=e.getRenderTarget(),l=new s7(o.height/2);return l.fromEquirectangularTexture(e,a),t.set(a,l),e.setRenderTarget(s),a.addEventListener("dispose",r),n(l.texture,a.mapping)}return null}}return a},dispose:function(){t=new WeakMap}}}x7.physical={uniforms:e7([x7.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new L5(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenTint:{value:new g8(0)},sheenRoughness:{value:0},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new L5},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new g8(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new g8(1,1,1)},specularTintMap:{value:null}}]),vertexShader:y7.meshphysical_vert,fragmentShader:y7.meshphysical_frag};var _7=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return M(this,n),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=a,e.top=i,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return N(n,[{key:"copy",value:function(e,t){return nv(D(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,a,i){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,a=n-e,i=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i=(a+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(a,i,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=nv(D(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(r7);_7.prototype.isOrthographicCamera=!0;var M7=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).type="RawShaderMaterial",r}return N(n)}(n7);M7.prototype.isRawShaderMaterial=!0;var A7=Math.pow(2,8),I7=[.125,.215,.35,.446,.526,.582],N7=5+I7.length,R7={3e3:0,3001:1,3002:2,3004:3,3005:4,3006:5,3007:6},O7=new _7,D7=function(){for(var e=[],t=[],n=[],r=8,a=0;a<N7;a++){var i=Math.pow(2,r);t.push(i);var o=1/i;a>4?o=I7[a-8+4-1]:0==a&&(o=0),n.push(o);for(var s=1/(i-1),l=-s/2,u=1+s/2,c=[l,l,u,l,u,u,l,l,u,u,l,u],d=new Float32Array(108),h=new Float32Array(72),f=new Float32Array(36),p=0;p<6;p++){var m=p%3*2/3-1,v=p>2?0:-1,g=[m,v,0,m+2/3,v,0,m+2/3,v+1,0,m,v,0,m+2/3,v+1,0,m,v+1,0];d.set(g,18*p),h.set(c,12*p);var y=[p,p,p,p,p,p];f.set(y,6*p)}var b=new R8;b.setAttribute("position",new w8(d,3)),b.setAttribute("uv",new w8(h,2)),b.setAttribute("faceIndex",new w8(f,1)),e.push(b),r>4&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}(),P7=D7._lodPlanes,L7=D7._sizeLods,F7=D7._sigmas,j7=new g8,z7=null,B7=(1+Math.sqrt(5))/2,U7=1/B7,W7=[new Y5(1,1,1),new Y5(-1,1,1),new Y5(1,1,-1),new Y5(-1,1,-1),new Y5(0,B7,U7),new Y5(0,B7,-U7),new Y5(U7,0,B7),new Y5(-U7,0,B7),new Y5(B7,U7,0),new Y5(-B7,U7,0)],Z7=function(){function e(t){M(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(e){var t=new Float32Array(20),n=new Y5(0,1,0);return new M7({name:"SphericalGaussianBlur",defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:R7[3e3]},outputEncoding:{value:R7[3e3]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1})}(),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}return N(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;z7=this._renderer.getRenderTarget();var a=this._allocateTargets();return this._sceneToCubeUV(e,n,r,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}},{key:"fromEquirectangular",value:function(e){return this._fromTexture(e)}},{key:"fromCubemap",value:function(e){return this._fromTexture(e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapShader&&(this._cubemapShader=X7(),this._compileMaterial(this._cubemapShader))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectShader&&(this._equirectShader=q7(),this._compileMaterial(this._equirectShader))}},{key:"dispose",value:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<P7.length;e++)P7[e].dispose()}},{key:"_cleanup",value:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(z7),e.scissorTest=!1,G7(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e){z7=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(e){var t={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:V7(e)?e.encoding:3002,depthBuffer:!1},n=H7(t);return n.depthBuffer=!e,this._pingPongRenderTarget=H7(t),n}},{key:"_compileMaterial",value:function(e){var t=new K8(P7[0],e);this._renderer.compile(t,O7)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var a=new a7(90,1,t,n),i=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.outputEncoding,c=s.toneMapping;s.getClearColor(j7),s.toneMapping=0,s.outputEncoding=3e3,s.autoClear=!1;var d=new y8({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),h=new K8(new $8,d),f=!1,p=e.background;p?p.isColor&&(d.color.copy(p),e.background=null,f=!0):(d.color.copy(j7),f=!0);for(var m=0;m<6;m++){var v=m%3;0==v?(a.up.set(0,i[m],0),a.lookAt(o[m],0,0)):1==v?(a.up.set(0,0,i[m]),a.lookAt(0,o[m],0)):(a.up.set(0,i[m],0),a.lookAt(0,0,o[m])),G7(r,v*A7,m>2?A7:0,A7,A7),s.setRenderTarget(r),f&&s.render(h,a),s.render(e,a)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=c,s.outputEncoding=u,s.autoClear=l,e.background=p}},{key:"_setEncoding",value:function(e,t){!0===this._renderer.capabilities.isWebGL2&&1023===t.format&&1009===t.type&&3001===t.encoding?e.value=R7[3e3]:e.value=R7[t.encoding]}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=X7()):null==this._equirectShader&&(this._equirectShader=q7());var r=e.isCubeTexture?this._cubemapShader:this._equirectShader,a=new K8(P7[0],r),i=r.uniforms;i.envMap.value=e,e.isCubeTexture||i.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(i.inputEncoding,e),this._setEncoding(i.outputEncoding,t.texture),G7(t,0,0,3*A7,2*A7),n.setRenderTarget(t),n.render(a,O7)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<N7;r++){var a=Math.sqrt(F7[r]*F7[r]-F7[r-1]*F7[r-1]),i=W7[(r-1)%W7.length];this._blur(e,r-1,r,a,i)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,a){var i=this._pingPongRenderTarget;this._halfBlur(e,i,t,n,r,"latitudinal",a),this._halfBlur(i,e,n,n,r,"longitudinal",a)}},{key:"_halfBlur",value:function(e,t,n,r,a,i,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==i&&"longitudinal"!==i&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new K8(P7[r],l),c=l.uniforms,d=L7[n]-1,h=isFinite(a)?Math.PI/(2*d):2*Math.PI/39,f=a/h,p=isFinite(a)?1+Math.floor(3*f):20;p>20&&console.warn("sigmaRadians, ".concat(a,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to 20"));for(var m=[],v=0,g=0;g<20;++g){var y=g/f,b=Math.exp(-y*y/2);m.push(b),0==g?v+=b:g<p&&(v+=2*b)}for(var x=0;x<m.length;x++)m[x]=m[x]/v;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===i,o&&(c.poleAxis.value=o),c.dTheta.value=h,c.mipInt.value=8-n,this._setEncoding(c.inputEncoding,e.texture),this._setEncoding(c.outputEncoding,e.texture);var w=L7[r];G7(t,3*Math.max(0,A7-2*w),(0===r?0:2*A7)+2*w*(r>4?r-8+4:0),3*w,2*w),s.setRenderTarget(t),s.render(u,O7)}}]),e}();function V7(e){return void 0!==e&&1009===e.type&&(3e3===e.encoding||3001===e.encoding||3007===e.encoding)}function H7(e){var t=new G5(3*A7,3*A7,e);return t.texture.mapping=306,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function G7(e,t,n,r,a){e.viewport.set(t,n,r,a),e.scissor.set(t,n,r,a)}function q7(){var e=new L5(1,1);return new M7({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:R7[3e3]},outputEncoding:{value:R7[3e3]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1})}function X7(){return new M7({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:R7[3e3]},outputEncoding:{value:R7[3e3]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1})}function Y7(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var a=t.get(n);void 0!==a&&(t.delete(n),a.dispose())}return{get:function(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){var i=a.mapping,o=303===i||304===i,s=301===i||302===i;if(o||s){if(t.has(a))return t.get(a).texture;var l=a.image;if(o&&l&&l.height>0||s&&l&&function(e){for(var t=0,n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(l)){var u=e.getRenderTarget();null===n&&(n=new Z7(e));var c=o?n.fromEquirectangular(a):n.fromCubemap(a);return t.set(a,c),e.setRenderTarget(u),a.addEventListener("dispose",r),c.texture}return null}}return a},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function K7(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function J7(e,t,n,r){var a={},i=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete a[s.id];var u=i.get(s);u&&(t.remove(u),i.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,a=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],d=s[l+1],h=s[l+2];n.push(c,d,d,h,h,c)}}else{var f=a.array;o=a.version;for(var p=0,m=f.length/3-1;p<m;p+=3){var v=p+0,g=p+1,y=p+2;n.push(v,g,g,y,y,v)}}var b=new(z5(n)>65535?S8:k8)(n,1);b.version=o;var x=i.get(e);x&&t.remove(x),i.set(e,b)}return{get:function(e,t){return!0===a[t.id]||(t.addEventListener("dispose",o),a[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var a=e.morphAttributes;for(var i in a)for(var o=a[i],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return i.get(e)}}}function $7(e,t,n,r){var a,i,o,s=r.isWebGL2;this.setMode=function(e){a=e},this.setIndex=function(e){i=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(a,r,i,t*o),n.update(r,a,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,d;if(s)c=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[d](a,l,i,r*o,u),n.update(l,a,u)}}}function Q7(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}var e9=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return M(this,n),(e=t.call(this,null)).image={data:r,width:a,height:i,depth:o},e.magFilter=1003,e.minFilter=1003,e.wrapR=1001,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return N(n)}(Z5);function t9(e,t){return e[0]-t[0]}function n9(e,t){return Math.abs(t[1])-Math.abs(e[1])}function r9(e,t){var n=1,r=t.isInterleavedBufferAttribute?t.data.array:t.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),e.divideScalar(n)}function a9(e,t,n){for(var r={},a=new Float32Array(8),i=new WeakMap,o=new Y5,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c,d){var h=l.morphTargetInfluences;if(!0===t.isWebGL2){var f=u.morphAttributes.position.length,p=i.get(u);if(void 0===p||p.count!==f){void 0!==p&&p.texture.dispose();var m=void 0!==u.morphAttributes.normal,v=u.morphAttributes.position,g=u.morphAttributes.normal||[],y=!0===m?2:1,b=u.attributes.position.count*y,x=1;b>t.maxTextureSize&&(x=Math.ceil(b/t.maxTextureSize),b=t.maxTextureSize);var w=new Float32Array(b*x*4*f),k=new e9(w,b,x,f);k.format=1023,k.type=1015;for(var S=4*y,T=0;T<f;T++)for(var E=v[T],C=g[T],_=b*x*4*T,M=0;M<E.count;M++){o.fromBufferAttribute(E,M),!0===E.normalized&&r9(o,E);var A=M*S;w[_+A+0]=o.x,w[_+A+1]=o.y,w[_+A+2]=o.z,w[_+A+3]=0,!0===m&&(o.fromBufferAttribute(C,M),!0===C.normalized&&r9(o,C),w[_+A+4]=o.x,w[_+A+5]=o.y,w[_+A+6]=o.z,w[_+A+7]=0)}p={count:f,texture:k,size:new L5(b,x)},i.set(u,p)}for(var I=0,N=0;N<h.length;N++)I+=h[N];var R=u.morphTargetsRelative?1:1-I;d.getUniforms().setValue(e,"morphTargetBaseInfluence",R),d.getUniforms().setValue(e,"morphTargetInfluences",h),d.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),d.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var O=void 0===h?0:h.length,D=r[u.id];if(void 0===D||D.length!==O){D=[];for(var P=0;P<O;P++)D[P]=[P,0];r[u.id]=D}for(var L=0;L<O;L++){var F=D[L];F[0]=L,F[1]=h[L]}D.sort(n9);for(var j=0;j<8;j++)j<O&&D[j][1]?(s[j][0]=D[j][0],s[j][1]=D[j][1]):(s[j][0]=Number.MAX_SAFE_INTEGER,s[j][1]=0);s.sort(t9);for(var z=u.morphAttributes.position,B=u.morphAttributes.normal,U=0,W=0;W<8;W++){var Z=s[W],V=Z[0],H=Z[1];V!==Number.MAX_SAFE_INTEGER&&H?(z&&u.getAttribute("morphTarget"+W)!==z[V]&&u.setAttribute("morphTarget"+W,z[V]),B&&u.getAttribute("morphNormal"+W)!==B[V]&&u.setAttribute("morphNormal"+W,B[V]),a[W]=H,U+=H):(z&&!0===u.hasAttribute("morphTarget"+W)&&u.deleteAttribute("morphTarget"+W),B&&!0===u.hasAttribute("morphNormal"+W)&&u.deleteAttribute("morphNormal"+W),a[W]=0)}var G=u.morphTargetsRelative?1:1-U;d.getUniforms().setValue(e,"morphTargetBaseInfluence",G),d.getUniforms().setValue(e,"morphTargetInfluences",a)}}}}function i9(e,t,n,r){var a=new WeakMap;function i(e){var t=e.target;t.removeEventListener("dispose",i),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,l=t.get(e,s);return a.get(l)!==o&&(t.update(l),a.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",i)&&e.addEventListener("dispose",i),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){a=new WeakMap}}}e9.prototype.isDataTexture2DArray=!0;var o9=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return M(this,n),(e=t.call(this,null)).image={data:r,width:a,height:i,depth:o},e.magFilter=1003,e.minFilter=1003,e.wrapR=1001,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return N(n)}(Z5);o9.prototype.isDataTexture3D=!0;var s9=new Z5,l9=new e9,u9=new o9,c9=new o7,d9=[],h9=[],f9=new Float32Array(16),p9=new Float32Array(9),m9=new Float32Array(4);function v9(e,t,n){var r=e[0];if(r<=0||r>0)return e;var a=t*n,i=d9[a];if(void 0===i&&(i=new Float32Array(a),d9[a]=i),0!==t){r.toArray(i,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(i,s)}return i}function g9(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function y9(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function b9(e,t){var n=h9[t];void 0===n&&(n=new Int32Array(t),h9[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function x9(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function w9(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(g9(n,t))return;e.uniform2fv(this.addr,t),y9(n,t)}}function k9(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(g9(n,t))return;e.uniform3fv(this.addr,t),y9(n,t)}}function S9(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(g9(n,t))return;e.uniform4fv(this.addr,t),y9(n,t)}}function T9(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(g9(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),y9(n,t)}else{if(g9(n,r))return;m9.set(r),e.uniformMatrix2fv(this.addr,!1,m9),y9(n,r)}}function E9(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(g9(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),y9(n,t)}else{if(g9(n,r))return;p9.set(r),e.uniformMatrix3fv(this.addr,!1,p9),y9(n,r)}}function C9(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(g9(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),y9(n,t)}else{if(g9(n,r))return;f9.set(r),e.uniformMatrix4fv(this.addr,!1,f9),y9(n,r)}}function _9(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function M9(e,t){var n=this.cache;g9(n,t)||(e.uniform2iv(this.addr,t),y9(n,t))}function A9(e,t){var n=this.cache;g9(n,t)||(e.uniform3iv(this.addr,t),y9(n,t))}function I9(e,t){var n=this.cache;g9(n,t)||(e.uniform4iv(this.addr,t),y9(n,t))}function N9(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function R9(e,t){var n=this.cache;g9(n,t)||(e.uniform2uiv(this.addr,t),y9(n,t))}function O9(e,t){var n=this.cache;g9(n,t)||(e.uniform3uiv(this.addr,t),y9(n,t))}function D9(e,t){var n=this.cache;g9(n,t)||(e.uniform4uiv(this.addr,t),y9(n,t))}function P9(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.safeSetTexture2D(t||s9,a)}function L9(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture3D(t||u9,a)}function F9(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.safeSetTextureCube(t||c9,a)}function j9(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture2DArray(t||l9,a)}function z9(e,t){e.uniform1fv(this.addr,t)}function B9(e,t){var n=v9(t,this.size,2);e.uniform2fv(this.addr,n)}function U9(e,t){var n=v9(t,this.size,3);e.uniform3fv(this.addr,n)}function W9(e,t){var n=v9(t,this.size,4);e.uniform4fv(this.addr,n)}function Z9(e,t){var n=v9(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function V9(e,t){var n=v9(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function H9(e,t){var n=v9(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function G9(e,t){e.uniform1iv(this.addr,t)}function q9(e,t){e.uniform2iv(this.addr,t)}function X9(e,t){e.uniform3iv(this.addr,t)}function Y9(e,t){e.uniform4iv(this.addr,t)}function K9(e,t){e.uniform1uiv(this.addr,t)}function J9(e,t){e.uniform2uiv(this.addr,t)}function $9(e,t){e.uniform3uiv(this.addr,t)}function Q9(e,t){e.uniform4uiv(this.addr,t)}function eee(e,t,n){var r=t.length,a=b9(n,r);e.uniform1iv(this.addr,a);for(var i=0;i!==r;++i)n.safeSetTexture2D(t[i]||s9,a[i])}function tee(e,t,n){var r=t.length,a=b9(n,r);e.uniform1iv(this.addr,a);for(var i=0;i!==r;++i)n.safeSetTextureCube(t[i]||c9,a[i])}function nee(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return x9;case 35664:return w9;case 35665:return k9;case 35666:return S9;case 35674:return T9;case 35675:return E9;case 35676:return C9;case 5124:case 35670:return _9;case 35667:case 35671:return M9;case 35668:case 35672:return A9;case 35669:case 35673:return I9;case 5125:return N9;case 36294:return R9;case 36295:return O9;case 36296:return D9;case 35678:case 36198:case 36298:case 36306:case 35682:return P9;case 35679:case 36299:case 36307:return L9;case 35680:case 36300:case 36308:case 36293:return F9;case 36289:case 36303:case 36311:case 36292:return j9}}(t.type)}function ree(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return z9;case 35664:return B9;case 35665:return U9;case 35666:return W9;case 35674:return Z9;case 35675:return V9;case 35676:return H9;case 5124:case 35670:return G9;case 35667:case 35671:return q9;case 35668:case 35672:return X9;case 35669:case 35673:return Y9;case 5125:return K9;case 36294:return J9;case 36295:return $9;case 36296:return Q9;case 35678:case 36198:case 36298:case 36306:case 35682:return eee;case 35680:case 36300:case 36308:case 36293:return tee}}(t.type)}function aee(e){this.id=e,this.seq=[],this.map={}}ree.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),y9(t,e)},aee.prototype.setValue=function(e,t,n){for(var r=this.seq,a=0,i=r.length;a!==i;++a){var o=r[a];o.setValue(e,t[o.id],n)}};var iee=/(\w+)(\])?(\[|\.)?/g;function oee(e,t){e.seq.push(t),e.map[t.id]=t}function see(e,t,n){var r=e.name,a=r.length;for(iee.lastIndex=0;;){var i=iee.exec(r),o=iee.lastIndex,s=i[1],l="]"===i[2],u=i[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===a){oee(n,void 0===u?new nee(s,e,t):new ree(s,e,t));break}var c=n.map[s];void 0===c&&oee(n,c=new aee(s)),n=c}}function lee(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var a=e.getActiveUniform(t,r);see(a,e.getUniformLocation(t,a.name),this)}}function uee(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}lee.prototype.setValue=function(e,t,n,r){var a=this.map[t];void 0!==a&&a.setValue(e,n,r)},lee.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},lee.upload=function(e,t,n,r){for(var a=0,i=t.length;a!==i;++a){var o=t[a],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},lee.seqWithValue=function(e,t){for(var n=[],r=0,a=e.length;r!==a;++r){var i=e[r];i.id in t&&n.push(i)}return n};var cee=0;function dee(e){switch(e){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function hee(e,t,n){var r=e.getShaderParameter(t,35713),a=e.getShaderInfoLog(t).trim();return r&&""===a?"":n.toUpperCase()+"\n\n"+a+"\n\n"+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function fee(e,t){var n=dee(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function pee(e,t){var n=dee(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function mee(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function vee(e){return""!==e}function gee(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function yee(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var bee=/^[ \t]*#include +<([\w\d./]+)>/gm;function xee(e){return e.replace(bee,wee)}function wee(e,t){var n=y7[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return xee(n)}var kee=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,See=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Tee(e){return e.replace(See,Cee).replace(kee,Eee)}function Eee(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Cee(e,t,n,r)}function Cee(e,t,n,r){for(var a="",i=parseInt(t);i<parseInt(n);i++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function _ee(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Mee(e,t,n,r){var a,i,o=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),d=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),h=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case 302:case 307:t="ENVMAP_MODE_REFRACTION"}return t}(n),f=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),p=e.gammaFactor>0?e.gammaFactor:1,m=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(vee).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((a=[v].filter(vee).join("\n")).length>0&&(a+="\n"),(i=[m,v].filter(vee).join("\n")).length>0&&(i+="\n")):(a=[_ee(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularTintMap?"#define USE_SPECULARTINTMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(vee).join("\n"),i=[m,_ee(n),"#define SHADER_NAME "+n.shaderName,v,"#define GAMMA_FACTOR "+p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularTintMap?"#define USE_SPECULARTINTMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?y7.tonemapping_pars_fragment:"",0!==n.toneMapping?mee("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",1022===n.format?"#define OPAQUE":"",y7.encodings_pars_fragment,n.map?fee("mapTexelToLinear",n.mapEncoding):"",n.matcap?fee("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?fee("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?fee("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.specularTintMap?fee("specularTintMapTexelToLinear",n.specularTintMapEncoding):"",n.lightMap?fee("lightMapTexelToLinear",n.lightMapEncoding):"",pee("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(vee).join("\n")),l=yee(l=gee(l=xee(l),n),n),u=yee(u=gee(u=xee(u),n),n),l=Tee(l),u=Tee(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",a=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,i=["#define varying in","300 es"===n.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+i);var b,x,w=y+i+u,k=uee(o,35633,y+a+l),S=uee(o,35632,w);if(o.attachShader(g,k),o.attachShader(g,S),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var T=o.getProgramInfoLog(g).trim(),E=o.getShaderInfoLog(k).trim(),C=o.getShaderInfoLog(S).trim(),_=!0,M=!0;if(!1===o.getProgramParameter(g,35714)){_=!1;var A=hee(o,k,"vertex"),I=hee(o,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+T+"\n"+A+"\n"+I)}else""!==T?console.warn("THREE.WebGLProgram: Program Info Log:",T):""!==E&&""!==C||(M=!1);M&&(this.diagnostics={runnable:_,programLog:T,vertexShader:{log:E,prefix:a},fragmentShader:{log:C,prefix:i}})}return o.deleteShader(k),o.deleteShader(S),this.getUniforms=function(){return void 0===b&&(b=new lee(o,g)),b},this.getAttributes=function(){return void 0===x&&(x=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),a=0;a<r;a++){var i=e.getActiveAttrib(t,a),o=i.name,s=1;35674===i.type&&(s=2),35675===i.type&&(s=3),35676===i.type&&(s=4),n[o]={type:i.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,g)),x},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=cee++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=k,this.fragmentShader=S,this}function Aee(e,t,n,r,a,i,o){var s=[],l=a.isWebGL2,u=a.logarithmicDepthBuffer,c=a.floatVertexTextures,d=a.maxVertexUniforms,h=a.vertexTextures,f=a.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},m=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","specularIntensityMap","specularTintMap","specularTintMapEncoding","roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","sheen","transmission","transmissionMap","thicknessMap"];function v(e){var t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=3e3,l&&e&&e.isTexture&&1023===e.format&&1009===e.type&&3001===e.encoding&&(t=3e3),t}return{getParameters:function(i,s,m,g,y){var b,x,w=g.fog,k=i.isMeshStandardMaterial?g.environment:null,S=(i.isMeshStandardMaterial?n:t).get(i.envMap||k),T=p[i.type],E=y.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(c)return 1024;var n=d,r=Math.floor((n-20)/4),a=Math.min(r,t.length);return a<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+a+"."),0):a}(y):0;if(null!==i.precision&&((f=a.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",f,"instead.")),T){var C=x7[T];b=C.vertexShader,x=C.fragmentShader}else b=i.vertexShader,x=i.fragmentShader;var _=e.getRenderTarget(),M=i.alphaTest>0,A=i.clearcoat>0;return{isWebGL2:l,shaderID:T,shaderName:i.type,vertexShader:b,fragmentShader:x,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:f,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:h,outputEncoding:null!==_?v(_.texture):e.outputEncoding,map:!!i.map,mapEncoding:v(i.map),matcap:!!i.matcap,matcapEncoding:v(i.matcap),envMap:!!S,envMapMode:S&&S.mapping,envMapEncoding:v(S),envMapCubeUV:!!S&&(306===S.mapping||307===S.mapping),lightMap:!!i.lightMap,lightMapEncoding:v(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:v(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:1===i.normalMapType,tangentSpaceNormalMap:0===i.normalMapType,clearcoat:A,clearcoatMap:A&&!!i.clearcoatMap,clearcoatRoughnessMap:A&&!!i.clearcoatRoughnessMap,clearcoatNormalMap:A&&!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,specularIntensityMap:!!i.specularIntensityMap,specularTintMap:!!i.specularTintMap,specularTintMapEncoding:v(i.specularTintMap),alphaMap:!!i.alphaMap,alphaTest:M,gradientMap:!!i.gradientMap,sheen:i.sheen>0,transmission:i.transmission>0,transmissionMap:!!i.transmissionMap,thicknessMap:!!i.thicknessMap,combine:i.combine,vertexTangents:!!i.normalMap&&!!y.geometry&&!!y.geometry.attributes.tangent,vertexColors:i.vertexColors,vertexAlphas:!0===i.vertexColors&&!!y.geometry&&!!y.geometry.attributes.color&&4===y.geometry.attributes.color.itemSize,vertexUvs:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatMap||i.clearcoatRoughnessMap||i.clearcoatNormalMap||i.displacementMap||i.transmissionMap||i.thicknessMap||i.specularIntensityMap||i.specularTintMap),uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmission>0||i.transmissionMap||i.thicknessMap||i.specularIntensityMap||i.specularTintMap||!i.displacementMap),fog:!!w,useFog:i.fog,fogExp2:w&&w.isFogExp2,flatShading:!!i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===y.isSkinnedMesh&&E>0,maxBones:E,useVertexTexture:c,morphTargets:!!y.geometry&&!!y.geometry.morphAttributes.position,morphNormals:!!y.geometry&&!!y.geometry.morphAttributes.normal,morphTargetsCount:y.geometry&&y.geometry.morphAttributes.position?y.geometry.morphAttributes.position.length:0,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,format:i.format,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&m.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,doubleSided:2===i.side,flipSided:1===i.side,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||r.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(!1===t.isRawShaderMaterial){for(var a=0;a<m.length;a++)n.push(t[m[a]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=x7[n];t=t7.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,a=0,o=s.length;a<o;a++){var l=s[a];if(l.cacheKey===n){++(r=l).usedTimes;break}}return void 0===r&&(r=new Mee(e,n,t,i),s.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){var t=s.indexOf(e);s[t]=s[s.length-1],s.pop(),e.destroy()}},programs:s}}function Iee(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Nee(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ree(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Oee(e){var t=[],n=0,r=[],a=[],i=[],o={id:-1};function s(r,a,i,s,l,u){var c=t[n],d=e.get(i);return void 0===c?(c={id:r.id,object:r,geometry:a,material:i,program:d.program||o,groupOrder:s,renderOrder:r.renderOrder,z:l,group:u},t[n]=c):(c.id=r.id,c.object=r,c.geometry=a,c.material=i,c.program=d.program||o,c.groupOrder=s,c.renderOrder=r.renderOrder,c.z=l,c.group=u),n++,c}return{opaque:r,transmissive:a,transparent:i,init:function(){n=0,r.length=0,a.length=0,i.length=0},push:function(e,t,n,o,l,u){var c=s(e,t,n,o,l,u);n.transmission>0?a.push(c):!0===n.transparent?i.push(c):r.push(c)},unshift:function(e,t,n,o,l,u){var c=s(e,t,n,o,l,u);n.transmission>0?a.unshift(c):!0===n.transparent?i.unshift(c):r.unshift(c)},finish:function(){for(var e=n,r=t.length;e<r;e++){var a=t[e];if(null===a.id)break;a.id=null,a.object=null,a.geometry=null,a.material=null,a.program=null,a.group=null}},sort:function(e,t){r.length>1&&r.sort(e||Nee),a.length>1&&a.sort(t||Ree),i.length>1&&i.sort(t||Ree)}}}function Dee(e){var t=new WeakMap;return{get:function(n,r){var a;return!1===t.has(n)?(a=new Oee(e),t.set(n,[a])):r>=t.get(n).length?(a=new Oee(e),t.get(n).push(a)):a=t.get(n)[r],a},dispose:function(){t=new WeakMap}}}function Pee(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Y5,color:new g8};break;case"SpotLight":n={position:new Y5,direction:new Y5,color:new g8,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Y5,color:new g8,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Y5,skyColor:new g8,groundColor:new g8};break;case"RectAreaLight":n={color:new g8,position:new Y5,halfWidth:new Y5,halfHeight:new Y5}}return e[t.id]=n,n}}}var Lee=0;function Fee(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function jee(e,t){for(var n=new Pee,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new L5};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new L5,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=0;i<9;i++)a.probe.push(new Y5);var o=new Y5,s=new C6,l=new C6;return{setup:function(i,o){for(var s=0,l=0,u=0,c=0;c<9;c++)a.probe[c].set(0,0,0);var d=0,h=0,f=0,p=0,m=0,v=0,g=0,y=0;i.sort(Fee);for(var b=!0!==o?Math.PI:1,x=0,w=i.length;x<w;x++){var k=i[x],S=k.color,T=k.intensity,E=k.distance,C=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)s+=S.r*T*b,l+=S.g*T*b,u+=S.b*T*b;else if(k.isLightProbe)for(var _=0;_<9;_++)a.probe[_].addScaledVector(k.sh.coefficients[_],T);else if(k.isDirectionalLight){var M=n.get(k);if(M.color.copy(k.color).multiplyScalar(k.intensity*b),k.castShadow){var A=k.shadow,I=r.get(k);I.shadowBias=A.bias,I.shadowNormalBias=A.normalBias,I.shadowRadius=A.radius,I.shadowMapSize=A.mapSize,a.directionalShadow[d]=I,a.directionalShadowMap[d]=C,a.directionalShadowMatrix[d]=k.shadow.matrix,v++}a.directional[d]=M,d++}else if(k.isSpotLight){var N=n.get(k);if(N.position.setFromMatrixPosition(k.matrixWorld),N.color.copy(S).multiplyScalar(T*b),N.distance=E,N.coneCos=Math.cos(k.angle),N.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),N.decay=k.decay,k.castShadow){var R=k.shadow,O=r.get(k);O.shadowBias=R.bias,O.shadowNormalBias=R.normalBias,O.shadowRadius=R.radius,O.shadowMapSize=R.mapSize,a.spotShadow[f]=O,a.spotShadowMap[f]=C,a.spotShadowMatrix[f]=k.shadow.matrix,y++}a.spot[f]=N,f++}else if(k.isRectAreaLight){var D=n.get(k);D.color.copy(S).multiplyScalar(T),D.halfWidth.set(.5*k.width,0,0),D.halfHeight.set(0,.5*k.height,0),a.rectArea[p]=D,p++}else if(k.isPointLight){var P=n.get(k);if(P.color.copy(k.color).multiplyScalar(k.intensity*b),P.distance=k.distance,P.decay=k.decay,k.castShadow){var L=k.shadow,F=r.get(k);F.shadowBias=L.bias,F.shadowNormalBias=L.normalBias,F.shadowRadius=L.radius,F.shadowMapSize=L.mapSize,F.shadowCameraNear=L.camera.near,F.shadowCameraFar=L.camera.far,a.pointShadow[h]=F,a.pointShadowMap[h]=C,a.pointShadowMatrix[h]=k.shadow.matrix,g++}a.point[h]=P,h++}else if(k.isHemisphereLight){var j=n.get(k);j.skyColor.copy(k.color).multiplyScalar(T*b),j.groundColor.copy(k.groundColor).multiplyScalar(T*b),a.hemi[m]=j,m++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(a.rectAreaLTC1=b7.LTC_FLOAT_1,a.rectAreaLTC2=b7.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(a.rectAreaLTC1=b7.LTC_HALF_1,a.rectAreaLTC2=b7.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=s,a.ambient[1]=l,a.ambient[2]=u;var z=a.hash;z.directionalLength===d&&z.pointLength===h&&z.spotLength===f&&z.rectAreaLength===p&&z.hemiLength===m&&z.numDirectionalShadows===v&&z.numPointShadows===g&&z.numSpotShadows===y||(a.directional.length=d,a.spot.length=f,a.rectArea.length=p,a.point.length=h,a.hemi.length=m,a.directionalShadow.length=v,a.directionalShadowMap.length=v,a.pointShadow.length=g,a.pointShadowMap.length=g,a.spotShadow.length=y,a.spotShadowMap.length=y,a.directionalShadowMatrix.length=v,a.pointShadowMatrix.length=g,a.spotShadowMatrix.length=y,z.directionalLength=d,z.pointLength=h,z.spotLength=f,z.rectAreaLength=p,z.hemiLength=m,z.numDirectionalShadows=v,z.numPointShadows=g,z.numSpotShadows=y,a.version=Lee++)},setupView:function(e,t){for(var n=0,r=0,i=0,u=0,c=0,d=t.matrixWorldInverse,h=0,f=e.length;h<f;h++){var p=e[h];if(p.isDirectionalLight){var m=a.directional[n];m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(d),n++}else if(p.isSpotLight){var v=a.spot[i];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(d),v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(d),i++}else if(p.isRectAreaLight){var g=a.rectArea[u];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(d),l.identity(),s.copy(p.matrixWorld),s.premultiply(d),l.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(l),g.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var y=a.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(d),r++}else if(p.isHemisphereLight){var b=a.hemi[c];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(d),b.direction.normalize(),c++}}},state:a}}function zee(e,t){var n=new jee(e,t),r=[],a=[];return{init:function(){r.length=0,a.length=0},state:{lightsArray:r,shadowsArray:a,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){a.push(e)}}}function Bee(e,t){var n=new WeakMap;return{get:function(r){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(r)?(a=new zee(e,t),n.set(r,[a])):i>=n.get(r).length?(a=new zee(e,t),n.get(r).push(a)):a=n.get(r)[i],a},dispose:function(){n=new WeakMap}}}var Uee=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="MeshDepthMaterial",r.depthPacking=3200,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(c8);Uee.prototype.isMeshDepthMaterial=!0;var Wee=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="MeshDistanceMaterial",r.referencePosition=new Y5,r.nearDistance=1,r.farDistance=1e3,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.fog=!1,r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(c8);function Zee(e,t,n){var r=new p7,a=new L5,i=new L5,o=new H5,s=new Uee({depthPacking:3201}),l=new Wee,u={},c=n.maxTextureSize,d={0:1,1:0,2:2},h=new n7({uniforms:{shadow_pass:{value:null},resolution:{value:new L5},radius:{value:4},samples:{value:8}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\nuniform float samples;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;var p=new R8;p.setAttribute("position",new w8(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new K8(p,h),v=this;function g(n,r){var a=t.update(m);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,h.uniforms.samples.value=n.blurSamples,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,h,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,f.uniforms.samples.value=n.blurSamples,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,m,null)}function y(t,n,r,a,i,o,c){var h=null,f=!0===a.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(h=void 0!==f?f:!0===a.isPointLight?l:s,e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length||r.displacementMap&&0!==r.displacementScale||r.alphaMap&&r.alphaTest>0){var p=h.uuid,m=r.uuid,v=u[p];void 0===v&&(v={},u[p]=v);var g=v[m];void 0===g&&(g=h.clone(),v[m]=g),h=g}return h.visible=r.visible,h.wireframe=r.wireframe,h.side=3===c?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:d[r.side],h.alphaMap=r.alphaMap,h.alphaTest=r.alphaTest,h.clipShadows=r.clipShadows,h.clippingPlanes=r.clippingPlanes,h.clipIntersection=r.clipIntersection,h.displacementMap=r.displacementMap,h.displacementScale=r.displacementScale,h.displacementBias=r.displacementBias,h.wireframeLinewidth=r.wireframeLinewidth,h.linewidth=r.linewidth,!0===a.isPointLight&&!0===h.isMeshDistanceMaterial&&(h.referencePosition.setFromMatrixPosition(a.matrixWorld),h.nearDistance=i,h.farDistance=o),h}function b(n,a,i,o,s){if(!1!==n.visible){if(n.layers.test(a.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,d=0,h=c.length;d<h;d++){var f=c[d],p=u[f.materialIndex];if(p&&p.visible){var m=y(n,0,p,o,i.near,i.far,s);e.renderBufferDirect(i,null,l,m,n,f)}}else if(u.visible){var v=y(n,0,u,o,i.near,i.far,s);e.renderBufferDirect(i,null,l,v,n,null)}}for(var g=n.children,x=0,w=g.length;x<w;x++)b(g[x],a,i,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,n,s){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var f=0,p=t.length;f<p;f++){var m=t[f],y=m.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){a.copy(y.mapSize);var x=y.getFrameExtents();if(a.multiply(x),i.copy(y.mapSize),(a.x>c||a.y>c)&&(a.x>c&&(i.x=Math.floor(c/x.x),a.x=i.x*x.x,y.mapSize.x=i.x),a.y>c&&(i.y=Math.floor(c/x.y),a.y=i.y*x.y,y.mapSize.y=i.y)),null===y.map&&!y.isPointLightShadow&&3===this.type){var w={minFilter:1006,magFilter:1006,format:1023};y.map=new G5(a.x,a.y,w),y.map.texture.name=m.name+".shadowMap",y.mapPass=new G5(a.x,a.y,w),y.camera.updateProjectionMatrix()}if(null===y.map){y.map=new G5(a.x,a.y,{minFilter:1003,magFilter:1003,format:1023}),y.map.texture.name=m.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var k=y.getViewportCount(),S=0;S<k;S++){var T=y.getViewport(S);o.set(i.x*T.x,i.y*T.y,i.x*T.z,i.y*T.w),h.viewport(o),y.updateMatrices(m,S),r=y.getFrustum(),b(n,s,y.camera,m,this.type)}y.isPointLightShadow||3!==this.type||g(y,s),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}v.needsUpdate=!1,e.setRenderTarget(l,u,d)}}}function Vee(e,t,n){var r=n.isWebGL2,a=new function(){var t=!1,n=new H5,r=null,a=new H5(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,i,o,s){!0===s&&(t*=o,r*=o,i*=o),n.set(t,r,i,o),!1===a.equals(n)&&(e.clearColor(t,r,i,o),a.copy(n))},reset:function(){t=!1,r=null,a.set(-1,0,0,0)}}},i=new function(){var t=!1,n=null,r=null,a=null;return{setTest:function(e){e?F(2929):j(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;default:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){a!==t&&(e.clearDepth(t),a=t)},reset:function(){t=!1,n=null,r=null,a=null}}},o=new function(){var t=!1,n=null,r=null,a=null,i=null,o=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?F(2960):j(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&a===n&&i===o||(e.stencilFunc(t,n,o),r=t,a=n,i=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,a=null,i=null,o=null,s=null,l=null,u=null}}},s={},l=null,u={},c=null,d=!1,h=null,f=null,p=null,m=null,v=null,g=null,y=null,b=!1,x=null,w=null,k=null,S=null,T=null,E=e.getParameter(35661),C=!1,_=0,M=e.getParameter(7938);-1!==M.indexOf("WebGL")?(_=parseFloat(/^WebGL (\d)/.exec(M)[1]),C=_>=1):-1!==M.indexOf("OpenGL ES")&&(_=parseFloat(/^OpenGL ES (\d)/.exec(M)[1]),C=_>=2);var A=null,I={},N=e.getParameter(3088),R=e.getParameter(2978),O=(new H5).fromArray(N),D=(new H5).fromArray(R);function P(t,n,r){var a=new Uint8Array(4),i=e.createTexture();e.bindTexture(t,i),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,a);return i}var L={};function F(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function j(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}L[3553]=P(3553,3553,1),L[34067]=P(34067,34069,6),a.setClear(0,0,0,1),i.setClear(1),o.setClear(0),F(2929),i.setFunc(3),Z(!1),V(1),F(2884),W(0);var z={100:32774,101:32778,102:32779};if(r)z[103]=32775,z[104]=32776;else{var B=t.get("EXT_blend_minmax");null!==B&&(z[103]=B.MIN_EXT,z[104]=B.MAX_EXT)}var U={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function W(t,n,r,a,i,o,s,l){if(0!==t){if(!1===d&&(F(3042),d=!0),5===t)i=i||n,o=o||r,s=s||a,n===f&&i===v||(e.blendEquationSeparate(z[n],z[i]),f=n,v=i),r===p&&a===m&&o===g&&s===y||(e.blendFuncSeparate(U[r],U[a],U[o],U[s]),p=r,m=a,g=o,y=s),h=t,b=null;else if(t!==h||l!==b){if(100===f&&100===v||(e.blendEquation(32774),f=100,v=100),l)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}p=null,m=null,g=null,y=null,h=t,b=l}}else!0===d&&(j(3042),d=!1)}function Z(t){x!==t&&(t?e.frontFace(2304):e.frontFace(2305),x=t)}function V(t){0!==t?(F(2884),t!==w&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):j(2884),w=t}function H(t,n,r){t?(F(32823),S===n&&T===r||(e.polygonOffset(n,r),S=n,T=r)):j(32823)}function G(t){void 0===t&&(t=33984+E-1),A!==t&&(e.activeTexture(t),A=t)}return{buffers:{color:a,depth:i,stencil:o},enable:F,disable:j,bindFramebuffer:function(t,n){return null===n&&null!==l&&(n=l),u[t]!==n&&(e.bindFramebuffer(t,n),u[t]=n,r&&(36009===t&&(u[36160]=n),36160===t&&(u[36009]=n)),!0)},bindXRFramebuffer:function(t){t!==l&&(e.bindFramebuffer(36160,t),l=t)},useProgram:function(t){return c!==t&&(e.useProgram(t),c=t,!0)},setBlending:W,setMaterial:function(e,t){2===e.side?j(2884):F(2884);var n=1===e.side;t&&(n=!n),Z(n),1===e.blending&&!1===e.transparent?W(0):W(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),i.setFunc(e.depthFunc),i.setTest(e.depthTest),i.setMask(e.depthWrite),a.setMask(e.colorWrite);var r=e.stencilWrite;o.setTest(r),r&&(o.setMask(e.stencilWriteMask),o.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),o.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),H(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?F(32926):j(32926)},setFlipSided:Z,setCullFace:V,setLineWidth:function(t){t!==k&&(C&&e.lineWidth(t),k=t)},setPolygonOffset:H,setScissorTest:function(e){e?F(3089):j(3089)},activeTexture:G,bindTexture:function(t,n){null===A&&G();var r=I[A];void 0===r&&(r={type:void 0,texture:void 0},I[A]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||L[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=I[A];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===O.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),O.copy(t))},viewport:function(t){!1===D.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),D.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===r&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),s={},A=null,I={},l=null,u={},c=null,d=!1,h=null,f=null,p=null,m=null,v=null,g=null,y=null,b=!1,x=null,w=null,k=null,S=null,T=null,O.set(0,0,e.canvas.width,e.canvas.height),D.set(0,0,e.canvas.width,e.canvas.height),a.reset(),i.reset(),o.reset()}}}function Hee(e,t,n,r,a,i,o){var s,l=a.isWebGL2,u=a.maxTextures,c=a.maxCubemapSize,d=a.maxTextureSize,h=a.maxSamples,f=new WeakMap,p=!1;try{p="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function m(e,t){return p?new OffscreenCanvas(e,t):B5("canvas")}function v(e,t,n,r){var a=1;if((e.width>r||e.height>r)&&(a=r/Math.max(e.width,e.height)),a<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var i=t?D5:Math.floor,o=i(a*e.width),l=i(a*e.height);void 0===s&&(s=m(o,l));var u=n?m(o,l):s;return u.width=o,u.height=l,u.getContext("2d").drawImage(e,0,0,o,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+l+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function g(e){return R5(e.width)&&R5(e.height)}function y(e,t){return e.generateMipmaps&&t&&1003!==e.minFilter&&1006!==e.minFilter}function b(t,n,a,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log2(Math.max(a,i,o))}function x(n,r,a,i){if(!1===l)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var o=r;return 6403===r&&(5126===a&&(o=33326),5131===a&&(o=33325),5121===a&&(o=33321)),6407===r&&(5126===a&&(o=34837),5131===a&&(o=34843),5121===a&&(o=32849)),6408===r&&(5126===a&&(o=34836),5131===a&&(o=34842),5121===a&&(o=3001===i?35907:32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function w(e){return 1003===e||1004===e||1005===e?9728:9729}function k(t){var n=t.target;n.removeEventListener("dispose",k),function(t){var n=r.get(t);void 0!==n.__webglInit&&(e.deleteTexture(n.__webglTexture),r.remove(t))}(n),n.isVideoTexture&&f.delete(n),o.memory.textures--}function S(t){var n=t.target;n.removeEventListener("dispose",S),function(t){var n=t.texture,a=r.get(t),i=r.get(n);if(t){if(void 0!==i.__webglTexture&&(e.deleteTexture(i.__webglTexture),o.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(a.__webglFramebuffer[s]),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer[s]);else e.deleteFramebuffer(a.__webglFramebuffer),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer),a.__webglMultisampledFramebuffer&&e.deleteFramebuffer(a.__webglMultisampledFramebuffer),a.__webglColorRenderbuffer&&e.deleteRenderbuffer(a.__webglColorRenderbuffer),a.__webglDepthRenderbuffer&&e.deleteRenderbuffer(a.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(var l=0,u=n.length;l<u;l++){var c=r.get(n[l]);c.__webglTexture&&(e.deleteTexture(c.__webglTexture),o.memory.textures--),r.remove(n[l])}r.remove(n),r.remove(t)}}(n)}var T=0;function E(e,t){var a=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;f.get(e)!==t&&(f.set(e,t),e.update())}(e),e.version>0&&a.__version!==e.version){var i=e.image;if(void 0===i)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==i.complete)return void N(a,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,a.__webglTexture)}function C(t,a){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,r,a){if(6===r.image.length){I(t,r),n.activeTexture(33984+a),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);for(var o=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),s=r.image[0]&&r.image[0].isDataTexture,u=[],d=0;d<6;d++)u[d]=o||s?s?r.image[d].image:r.image[d]:v(r.image[d],!1,!0,c);var h,f=u[0],p=g(f)||l,m=i.convert(r.format),w=i.convert(r.type),k=x(r.internalFormat,m,w,r.encoding);if(A(34067,r,p),o){for(var S=0;S<6;S++){h=u[S].mipmaps;for(var T=0;T<h.length;T++){var E=h[T];1023!==r.format&&1022!==r.format?null!==m?n.compressedTexImage2D(34069+S,T,k,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+S,T,k,E.width,E.height,0,m,w,E.data)}}t.__maxMipLevel=h.length-1}else{h=r.mipmaps;for(var C=0;C<6;C++)if(s){n.texImage2D(34069+C,0,k,u[C].width,u[C].height,0,m,w,u[C].data);for(var _=0;_<h.length;_++){var M=h[_].image[C].image;n.texImage2D(34069+C,_+1,k,M.width,M.height,0,m,w,M.data)}}else{n.texImage2D(34069+C,0,k,m,w,u[C]);for(var N=0;N<h.length;N++){var R=h[N];n.texImage2D(34069+C,N+1,k,m,w,R.image[C])}}t.__maxMipLevel=h.length}y(r,p)&&b(34067,r,f.width,f.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}}(o,t,a):(n.activeTexture(33984+a),n.bindTexture(34067,o.__webglTexture))}var _={1e3:10497,1001:33071,1002:33648},M={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function A(n,i,o){if(o?(e.texParameteri(n,10242,_[i.wrapS]),e.texParameteri(n,10243,_[i.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,_[i.wrapR]),e.texParameteri(n,10240,M[i.magFilter]),e.texParameteri(n,10241,M[i.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),1001===i.wrapS&&1001===i.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,w(i.magFilter)),e.texParameteri(n,10241,w(i.minFilter)),1003!==i.minFilter&&1006!==i.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(1015===i.type&&!1===t.has("OES_texture_float_linear"))return;if(!1===l&&1016===i.type&&!1===t.has("OES_texture_half_float_linear"))return;(i.anisotropy>1||r.get(i).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i.anisotropy,a.getMaxAnisotropy())),r.get(i).__currentAnisotropy=i.anisotropy)}}function I(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",k),t.__webglTexture=e.createTexture(),o.memory.textures++)}function N(t,r,a){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),I(t,r),n.activeTexture(33984+a),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);var s,u=function(e){return!l&&(1001!==e.wrapS||1001!==e.wrapT||1003!==e.minFilter&&1006!==e.minFilter)}(r)&&!1===g(r.image),c=v(r.image,u,!1,d),h=g(c)||l,f=i.convert(r.format),p=i.convert(r.type),m=x(r.internalFormat,f,p,r.encoding);A(o,r,h);var w=r.mipmaps;if(r.isDepthTexture)m=6402,l?m=1015===r.type?36012:1014===r.type?33190:1020===r.type?35056:33189:1015===r.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===r.format&&6402===m&&1012!==r.type&&1014!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=1012,p=i.convert(r.type)),1027===r.format&&6402===m&&(m=34041,1020!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=1020,p=i.convert(r.type))),n.texImage2D(3553,0,m,c.width,c.height,0,f,p,null);else if(r.isDataTexture)if(w.length>0&&h){for(var k=0,S=w.length;k<S;k++)s=w[k],n.texImage2D(3553,k,m,s.width,s.height,0,f,p,s.data);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,m,c.width,c.height,0,f,p,c.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var T=0,E=w.length;T<E;T++)s=w[T],1023!==r.format&&1022!==r.format?null!==f?n.compressedTexImage2D(3553,T,m,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,T,m,s.width,s.height,0,f,p,s.data);t.__maxMipLevel=w.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,c.width,c.height,c.depth,0,f,p,c.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,c.width,c.height,c.depth,0,f,p,c.data),t.__maxMipLevel=0;else if(w.length>0&&h){for(var C=0,_=w.length;C<_;C++)s=w[C],n.texImage2D(3553,C,m,f,p,s);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,m,f,p,c),t.__maxMipLevel=0;y(r,h)&&b(o,r,c.width,c.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function R(t,a,o,s,l){var u=i.convert(o.format),c=i.convert(o.type),d=x(o.internalFormat,u,c,o.encoding);32879===l||35866===l?n.texImage3D(l,0,d,a.width,a.height,a.depth,0,u,c,null):n.texImage2D(l,0,d,a.width,a.height,0,u,c,null),n.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function O(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var a=33189;if(r){var o=n.depthTexture;o&&o.isDepthTexture&&(1015===o.type?a=36012:1014===o.type&&(a=33190));var s=D(n);e.renderbufferStorageMultisample(36161,s,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var l=D(n);e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var u=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,c=i.convert(u.format),d=i.convert(u.type),h=x(u.internalFormat,c,d,u.encoding);if(r){var f=D(n);e.renderbufferStorageMultisample(36161,f,h,n.width,n.height)}else e.renderbufferStorage(36161,h,n.width,n.height)}e.bindRenderbuffer(36161,null)}function D(e){return l&&e.isWebGLMultisampleRenderTarget?Math.min(h,e.samples):0}var P=!1,L=!1;this.allocateTextureUnit=function(){var e=T;return e>=u&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+u),T+=1,e},this.resetTextureUnits=function(){T=0},this.setTexture2D=E,this.setTexture2DArray=function(e,t){var a=r.get(e);e.version>0&&a.__version!==e.version?N(a,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,a.__webglTexture))},this.setTexture3D=function(e,t){var a=r.get(e);e.version>0&&a.__version!==e.version?N(a,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,a.__webglTexture))},this.setTextureCube=C,this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),c=r.get(s);t.addEventListener("dispose",S),!0!==t.isWebGLMultipleRenderTargets&&(c.__webglTexture=e.createTexture(),c.__version=s.version,o.memory.textures++);var d=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,f=!0===t.isWebGLMultisampleRenderTarget,p=s.isDataTexture3D||s.isDataTexture2DArray,m=g(t)||l;if(!l||1022!==s.format||1015!==s.type&&1016!==s.type||(s.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),d){u.__webglFramebuffer=[];for(var v=0;v<6;v++)u.__webglFramebuffer[v]=e.createFramebuffer()}else if(u.__webglFramebuffer=e.createFramebuffer(),h)if(a.drawBuffers)for(var w=t.texture,k=0,T=w.length;k<T;k++){var C=r.get(w[k]);void 0===C.__webglTexture&&(C.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(f)if(l){u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,u.__webglColorRenderbuffer);var _=i.convert(s.format),M=i.convert(s.type),I=x(s.internalFormat,_,M,s.encoding),N=D(t);e.renderbufferStorageMultisample(36161,N,I,t.width,t.height),n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,u.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),O(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(d){n.bindTexture(34067,c.__webglTexture),A(34067,s,m);for(var P=0;P<6;P++)R(u.__webglFramebuffer[P],t,s,36064,34069+P);y(s,m)&&b(34067,s,t.width,t.height),n.unbindTexture()}else if(h){for(var L=t.texture,F=0,j=L.length;F<j;F++){var z=L[F],B=r.get(z);n.bindTexture(3553,B.__webglTexture),A(3553,z,m),R(u.__webglFramebuffer,t,z,36064+F,3553),y(z,m)&&b(3553,z,t.width,t.height)}n.unbindTexture()}else{var U=3553;p&&(l?U=s.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(U,c.__webglTexture),A(U,s,m),R(u.__webglFramebuffer,t,s,36064,U),y(s,m)&&b(U,s,t.width,t.height,t.depth),n.unbindTexture()}t.depthBuffer&&function(t){var a=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,a){if(a&&a.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!a.depthTexture||!a.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0),E(a.depthTexture,0);var i=r.get(a.depthTexture).__webglTexture;if(1026===a.depthTexture.format)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(1027!==a.depthTexture.format)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(a.__webglFramebuffer,t)}else if(i){a.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,a.__webglFramebuffer[o]),a.__webglDepthbuffer[o]=e.createRenderbuffer(),O(a.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,a.__webglFramebuffer),a.__webglDepthbuffer=e.createRenderbuffer(),O(a.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}(t)},this.updateRenderTargetMipmap=function(e){for(var t=g(e)||l,a=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],i=0,o=a.length;i<o;i++){var s=a[i];if(y(s,t)){var u=e.isWebGLCubeRenderTarget?34067:3553,c=r.get(s).__webglTexture;n.bindTexture(u,c),b(u,s,e.width,e.height),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(l){var a=t.width,i=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024);var s=r.get(t);n.bindFramebuffer(36008,s.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,s.__webglFramebuffer),e.blitFramebuffer(0,0,a,i,0,0,a,i,o,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,s.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===P&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),P=!0),e=e.texture),E(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===L&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),L=!0),e=e.texture),C(e,t)}}function Gee(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(1012===e)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(1015===e)return 5126;if(1016===e)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(1021===e)return 6406;if(1022===e)return 6407;if(1023===e)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(1026===e)return 6402;if(1027===e)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===e)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===e)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===e||37496===e)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(37492===e)return n.COMPRESSED_RGB8_ETC2;if(37496===e)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:36492===e?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:1020===e?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}Wee.prototype.isMeshDistanceMaterial=!0;var qee=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return M(this,n),(e=t.call(this)).cameras=r,e}return N(n)}(a7);qee.prototype.isArrayCamera=!0;var Xee=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.call(this)).type="Group",e}return N(n)}(J6);Xee.prototype.isGroup=!0;var Yee={type:"move"},Kee=function(){function e(){M(this,e),this._targetRay=null,this._grip=null,this._hand=null}return N(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Xee,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Xee,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Y5,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Y5),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Xee,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Y5,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Y5),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,a=null,i=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==o&&(null!==(r=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Yee))),l&&e.hand){i=!0;var u,c=X(e.hand.values());try{for(c.s();!(u=c.n()).done;){var d=u.value,h=t.getJointPose(d,n);if(void 0===l.joints[d.jointName]){var f=new Xee;f.matrixAutoUpdate=!1,f.visible=!1,l.joints[d.jointName]=f,l.add(f)}var p=l.joints[d.jointName];null!==h&&(p.matrix.fromArray(h.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=h.radius),p.visible=null!==h}}catch(JNe){c.e(JNe)}finally{c.f()}var m=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],g=m.position.distanceTo(v.position);l.inputState.pinching&&g>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&g<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(null!==(a=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),a.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(a.linearVelocity)):s.hasLinearVelocity=!1,a.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(a.angularVelocity)):s.hasAngularVelocity=!1));return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==a),null!==l&&(l.visible=null!==i),this}}]),e}(),Jee=function(e){O(n,e);var t=z(n);function n(e,r){var a;M(this,n);var i=F(a=t.call(this)),o=e.state,s=null,l=1,u=null,c="local-floor",d=null,h=null,f=null,p=null,m=null,v=!1,g=null,y=null,b=null,x=null,w=null,k=null,S=[],T=new Map,E=new a7;E.layers.enable(1),E.viewport=new H5;var C=new a7;C.layers.enable(2),C.viewport=new H5;var _=[E,C],A=new qee;A.layers.enable(1),A.layers.enable(2);var I=null,N=null;function R(e){var t=T.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function O(){T.forEach((function(e,t){e.disconnect(t)})),T.clear(),I=null,N=null,o.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),f&&r.deleteFramebuffer(f),g&&r.deleteFramebuffer(g),y&&r.deleteRenderbuffer(y),b&&r.deleteRenderbuffer(b),f=null,g=null,y=null,b=null,m=null,p=null,h=null,s=null,B.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function D(e){for(var t=s.inputSources,n=0;n<S.length;n++)T.set(t[n],S[n]);for(var r=0;r<e.removed.length;r++){var a=e.removed[r],i=T.get(a);i&&(i.dispatchEvent({type:"disconnected",data:a}),T.delete(a))}for(var o=0;o<e.added.length;o++){var l=e.added[o],u=T.get(l);u&&u.dispatchEvent({type:"connected",data:l})}}a.cameraAutoUpdate=!0,a.enabled=!1,a.isPresenting=!1,a.getController=function(e){var t=S[e];return void 0===t&&(t=new Kee,S[e]=t),t.getTargetRaySpace()},a.getControllerGrip=function(e){var t=S[e];return void 0===t&&(t=new Kee,S[e]=t),t.getGripSpace()},a.getHand=function(e){var t=S[e];return void 0===t&&(t=new Kee,S[e]=t),t.getHandSpace()},a.setFramebufferScaleFactor=function(e){l=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},a.setReferenceSpaceType=function(e){c=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},a.getReferenceSpace=function(){return u},a.getBaseLayer=function(){return null!==p?p:m},a.getBinding=function(){return h},a.getFrame=function(){return x},a.getSession=function(){return s},a.setSession=function(){var e=mo(fo().mark((function e(t){var n,a,d,x,S;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(s=t)){e.next=20;break}if(s.addEventListener("select",R),s.addEventListener("selectstart",R),s.addEventListener("selectend",R),s.addEventListener("squeeze",R),s.addEventListener("squeezestart",R),s.addEventListener("squeezeend",R),s.addEventListener("end",O),s.addEventListener("inputsourceschange",D),n=r.getContextAttributes(),e.t0=!0!==n.xrCompatible,!e.t0){e.next=7;break}return e.next=7,r.makeXRCompatible();case 7:if(void 0!==s.renderState.layers){e.next=12;break}a={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:l},m=new XRWebGLLayer(s,r,a),s.updateRenderState({baseLayer:m}),e.next=13;break;case 12:r instanceof WebGLRenderingContext?(d={antialias:!0,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:l},m=new XRWebGLLayer(s,r,d),s.updateRenderState({layers:[m]})):(v=n.antialias,x=null,n.depth&&(k=256,n.stencil&&(k|=1024),w=n.stencil?33306:36096,x=n.stencil?35056:33190),S={colorFormat:n.alpha?32856:32849,depthFormat:x,scaleFactor:l},h=new XRWebGLBinding(s,r),p=h.createProjectionLayer(S),f=r.createFramebuffer(),s.updateRenderState({layers:[p]}),v&&(g=r.createFramebuffer(),y=r.createRenderbuffer(),r.bindRenderbuffer(36161,y),r.renderbufferStorageMultisample(36161,4,32856,p.textureWidth,p.textureHeight),o.bindFramebuffer(36160,g),r.framebufferRenderbuffer(36160,36064,36161,y),r.bindRenderbuffer(36161,null),null!==x&&(b=r.createRenderbuffer(),r.bindRenderbuffer(36161,b),r.renderbufferStorageMultisample(36161,4,x,p.textureWidth,p.textureHeight),r.framebufferRenderbuffer(36160,w,36161,b),r.bindRenderbuffer(36161,null)),o.bindFramebuffer(36160,null)));case 13:return e.next=15,s.requestReferenceSpace(c);case 15:u=e.sent,B.setContext(s),B.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var P=new Y5,L=new Y5;function j(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}a.updateCamera=function(e){if(null!==s){A.near=C.near=E.near=e.near,A.far=C.far=E.far=e.far,I===A.near&&N===A.far||(s.updateRenderState({depthNear:A.near,depthFar:A.far}),I=A.near,N=A.far);var t=e.parent,n=A.cameras;j(A,t);for(var r=0;r<n.length;r++)j(n[r],t);A.matrixWorld.decompose(A.position,A.quaternion,A.scale),e.position.copy(A.position),e.quaternion.copy(A.quaternion),e.scale.copy(A.scale),e.matrix.copy(A.matrix),e.matrixWorld.copy(A.matrixWorld);for(var a=e.children,i=0,o=a.length;i<o;i++)a[i].updateMatrixWorld(!0);2===n.length?function(e,t,n){P.setFromMatrixPosition(t.matrixWorld),L.setFromMatrixPosition(n.matrixWorld);var r=P.distanceTo(L),a=t.projectionMatrix.elements,i=n.projectionMatrix.elements,o=a[14]/(a[10]-1),s=a[14]/(a[10]+1),l=(a[9]+1)/a[5],u=(a[9]-1)/a[5],c=(a[8]-1)/a[0],d=(i[8]+1)/i[0],h=o*c,f=o*d,p=r/(-c+d),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=o+p,g=s+p,y=h-m,b=f+(r-m),x=l*s/g*v,w=u*s/g*v;e.projectionMatrix.makePerspective(y,b,x,w,v,g)}(A,E,C):A.projectionMatrix.copy(E.projectionMatrix)}},a.getCamera=function(){return A},a.getFoveation=function(){return null!==p?p.fixedFoveation:null!==m?m.fixedFoveation:void 0},a.setFoveation=function(e){null!==p&&(p.fixedFoveation=e),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=e)};var z=null,B=new m7;return B.setAnimationLoop((function(e,t){if(d=t.getViewerPose(u),x=t,null!==d){var n=d.views;null!==m&&o.bindXRFramebuffer(m.framebuffer);var a=!1;n.length!==A.cameras.length&&(A.cameras.length=0,a=!0);for(var i=0;i<n.length;i++){var l=n[i],c=null;if(null!==m)c=m.getViewport(l);else{var y=h.getViewSubImage(p,l);o.bindXRFramebuffer(f),void 0!==y.depthStencilTexture&&r.framebufferTexture2D(36160,w,3553,y.depthStencilTexture,0),r.framebufferTexture2D(36160,36064,3553,y.colorTexture,0),c=y.viewport}var b=_[i];b.matrix.fromArray(l.transform.matrix),b.projectionMatrix.fromArray(l.projectionMatrix),b.viewport.set(c.x,c.y,c.width,c.height),0===i&&A.matrix.copy(b.matrix),!0===a&&A.cameras.push(b)}v&&(o.bindXRFramebuffer(g),null!==k&&r.clear(k))}for(var T=s.inputSources,E=0;E<S.length;E++){var C=S[E],M=T[E];C.update(M,t,u)}if(z&&z(e,t),v){var I=p.textureWidth,N=p.textureHeight;o.bindFramebuffer(36008,g),o.bindFramebuffer(36009,f),r.invalidateFramebuffer(36008,[w]),r.invalidateFramebuffer(36009,[w]),r.blitFramebuffer(0,0,I,N,0,0,I,N,16384,9728),r.invalidateFramebuffer(36008,[36064]),o.bindFramebuffer(36008,null),o.bindFramebuffer(36009,null),o.bindFramebuffer(36160,g)}x=null})),a.setAnimationLoop=function(e){z=e},a.dispose=function(){},a}return N(n)}(w5);function $ee(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap),n.alphaTest>0&&(t.alphaTest.value=n.alphaTest);var r,a,i=e.get(n).envMap;if(i){t.envMap.value=i,t.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,t.reflectivity.value=n.reflectivity,t.ior.value=n.ior,t.refractionRatio.value=n.refractionRatio;var o=e.get(i).__maxMipLevel;void 0!==o&&(t.maxMipLevel.value=o)}n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap?r=n.clearcoatRoughnessMap:n.specularIntensityMap?r=n.specularIntensityMap:n.specularTintMap?r=n.specularTintMap:n.transmissionMap?r=n.transmissionMap:n.thicknessMap&&(r=n.thicknessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?a=n.aoMap:n.lightMap&&(a=n.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),t.uv2Transform.value.copy(a.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,1===n.side&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),1===n.side&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,a,i,o){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?function(e,t,r){n(e,t),e.ior.value=t.ior,t.sheen>0&&(e.sheenTint.value.copy(t.sheenTint).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate())),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationTint.value.copy(t.attenuationTint)),e.specularIntensity.value=t.specularIntensity,e.specularTint.value.copy(t.specularTint),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap),t.specularTintMap&&(e.specularTintMap.value=t.specularTintMap)}(e,r,o):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){var a;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?a=t.map:t.alphaMap&&(a=t.alphaMap),void 0!==a&&(!0===a.matrixAutoUpdate&&a.updateMatrix(),e.uvTransform.value.copy(a.matrix))}(e,r,a,i):r.isSpriteMaterial?function(e,t){var n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Qee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0!==e.canvas?e.canvas:function(){var e=B5("canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,a=void 0===e.depth||e.depth,i=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,d=null,h=null,f=[],p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;var m=this,v=!1,g=0,y=0,b=null,x=-1,w=null,k=new H5,S=new H5,T=null,E=t.width,C=t.height,_=1,M=null,A=null,I=new H5(0,0,E,C),N=new H5(0,0,E,C),R=!1,O=[],D=new p7,P=!1,L=!1,F=null,j=new C6,z=new Y5,B={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function U(){return null===b?_:1}var W,Z,V,H,G,q,X,Y,K,J,$,Q,ee,te,ne,re,ae,ie,oe,se,le,ue,ce,de=n;function he(e,n){for(var r=0;r<e.length;r++){var a=e[r],i=t.getContext(a,n);if(null!==i)return i}return null}try{var fe={alpha:r,depth:a,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if(t.addEventListener("webglcontextlost",ge,!1),t.addEventListener("webglcontextrestored",ye,!1),null===de){var pe=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&pe.shift(),null===(de=he(pe,fe)))throw he(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===de.getShaderPrecisionFormat&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function me(){W=new K7(de),Z=new T7(de,W,e),W.init(Z),ue=new Gee(de,W,Z),V=new Vee(de,W,Z),O[0]=1029,H=new Q7(de),G=new Iee,q=new Hee(de,W,V,G,Z,ue,H),X=new C7(m),Y=new Y7(m),K=new v7(de,Z),ce=new k7(de,W,K,Z),J=new J7(de,K,H,ce),$=new i9(de,J,K,H),oe=new a9(de,Z,q),re=new E7(G),Q=new Aee(m,X,Y,W,Z,ce,re),ee=new $ee(G),te=new Dee(G),ne=new Bee(W,Z),ie=new w7(m,X,V,$,s),ae=new Zee(m,$,Z),se=new S7(de,W,H,Z),le=new $7(de,W,H,Z),H.programs=Q.programs,m.capabilities=Z,m.extensions=W,m.properties=G,m.renderLists=te,m.shadowMap=ae,m.state=V,m.info=H}me();var ve=new Jee(m,de);function ge(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function ye(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;var e=H.autoReset,t=ae.enabled,n=ae.autoUpdate,r=ae.needsUpdate,a=ae.type;me(),H.autoReset=e,ae.enabled=t,ae.autoUpdate=n,ae.needsUpdate=r,ae.type=a}function be(e){var t=e.target;t.removeEventListener("dispose",be),function(e){(function(e){var t=G.get(e).programs;void 0!==t&&t.forEach((function(e){Q.releaseProgram(e)}))})(e),G.remove(e)}(t)}this.xr=ve,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){var e=W.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=W.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return _},this.setPixelRatio=function(e){void 0!==e&&(_=e,this.setSize(E,C,!1))},this.getSize=function(e){return e.set(E,C)},this.setSize=function(e,n,r){ve.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(E=e,C=n,t.width=Math.floor(e*_),t.height=Math.floor(n*_),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(E*_,C*_).floor()},this.setDrawingBufferSize=function(e,n,r){E=e,C=n,_=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(k)},this.getViewport=function(e){return e.copy(I)},this.setViewport=function(e,t,n,r){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,r),V.viewport(k.copy(I).multiplyScalar(_).floor())},this.getScissor=function(e){return e.copy(N)},this.setScissor=function(e,t,n,r){e.isVector4?N.set(e.x,e.y,e.z,e.w):N.set(e,t,n,r),V.scissor(S.copy(N).multiplyScalar(_).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(e){V.setScissorTest(R=e)},this.setOpaqueSort=function(e){M=e},this.setTransparentSort=function(e){A=e},this.getClearColor=function(e){return e.copy(ie.getClearColor())},this.setClearColor=function(){ie.setClearColor.apply(ie,arguments)},this.getClearAlpha=function(){return ie.getClearAlpha()},this.setClearAlpha=function(){ie.setClearAlpha.apply(ie,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),de.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ge,!1),t.removeEventListener("webglcontextrestored",ye,!1),te.dispose(),ne.dispose(),G.dispose(),X.dispose(),Y.dispose(),$.dispose(),ce.dispose(),ve.dispose(),ve.removeEventListener("sessionstart",we),ve.removeEventListener("sessionend",ke),F&&(F.dispose(),F=null),Se.stop()},this.renderBufferImmediate=function(e,t){ce.initAttributes();var n=G.get(e);e.hasPositions&&!n.position&&(n.position=de.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=de.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=de.createBuffer()),e.hasColors&&!n.color&&(n.color=de.createBuffer());var r=t.getAttributes();e.hasPositions&&(de.bindBuffer(34962,n.position),de.bufferData(34962,e.positionArray,35048),ce.enableAttribute(r.position.location),de.vertexAttribPointer(r.position.location,3,5126,!1,0,0)),e.hasNormals&&(de.bindBuffer(34962,n.normal),de.bufferData(34962,e.normalArray,35048),ce.enableAttribute(r.normal.location),de.vertexAttribPointer(r.normal.location,3,5126,!1,0,0)),e.hasUvs&&(de.bindBuffer(34962,n.uv),de.bufferData(34962,e.uvArray,35048),ce.enableAttribute(r.uv.location),de.vertexAttribPointer(r.uv.location,2,5126,!1,0,0)),e.hasColors&&(de.bindBuffer(34962,n.color),de.bufferData(34962,e.colorArray,35048),ce.enableAttribute(r.color.location),de.vertexAttribPointer(r.color.location,3,5126,!1,0,0)),ce.disableUnusedAttributes(),de.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,a,i){null===t&&(t=B);var o=a.isMesh&&a.matrixWorld.determinant()<0,s=Ie(e,t,n,r,a);V.setMaterial(r,o);var l=n.index,u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c,d=1;!0===r.wireframe&&(l=J.getWireframeAttribute(n),d=2),ce.setup(a,r,s,n,l);var h=se;null!==l&&(c=K.get(l),(h=le).setIndex(c));var f=null!==l?l.count:u.count,p=n.drawRange.start*d,m=n.drawRange.count*d,v=null!==i?i.start*d:0,g=null!==i?i.count*d:1/0,y=Math.max(p,v),b=Math.min(f,p+m,v+g)-1,x=Math.max(0,b-y+1);if(0!==x){if(a.isMesh)!0===r.wireframe?(V.setLineWidth(r.wireframeLinewidth*U()),h.setMode(1)):h.setMode(4);else if(a.isLine){var w=r.linewidth;void 0===w&&(w=1),V.setLineWidth(w*U()),a.isLineSegments?h.setMode(1):a.isLineLoop?h.setMode(2):h.setMode(3)}else a.isPoints?h.setMode(0):a.isSprite&&h.setMode(4);if(a.isInstancedMesh)h.renderInstances(y,x,a.count);else if(n.isInstancedBufferGeometry){var k=Math.min(n.instanceCount,n._maxInstanceCount);h.renderInstances(y,x,k)}else h.render(y,x)}},this.compile=function(e,t){(h=ne.get(e)).init(),p.push(h),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights(m.physicallyCorrectLights),e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++)Me(n[r],e,t);else Me(n,e,t)})),p.pop(),h=null};var xe=null;function we(){Se.stop()}function ke(){Se.start()}var Se=new m7;function Te(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){r&&z.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);var a=$.update(e),i=e.material;i.visible&&d.push(e,a,i,n,z.z,null)}}else if(e.isImmediateRenderObject)r&&z.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j),d.push(e,null,e.material,n,z.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==H.render.frame&&(e.skeleton.update(),e.skeleton.frame=H.render.frame),!e.frustumCulled||D.intersectsObject(e))){r&&z.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);var o=$.update(e),s=e.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var f=l[u],p=s[f.materialIndex];p&&p.visible&&d.push(e,o,p,n,z.z,f)}else s.visible&&d.push(e,o,s,n,z.z,null)}for(var m=e.children,v=0,g=m.length;v<g;v++)Te(m[v],t,n,r)}}function Ee(e,t,n,r){var a=e.opaque,i=e.transmissive,s=e.transparent;h.setupLightsView(n),i.length>0&&function(e,t,n){if(null===F){var r=!0===o&&!0===Z.isWebGL2;F=new(r?q5:G5)(1024,1024,{generateMipmaps:!0,type:null!==ue.convert(1016)?1016:1009,minFilter:1008,magFilter:1003,wrapS:1001,wrapT:1001})}var a=m.getRenderTarget();m.setRenderTarget(F),m.clear();var i=m.toneMapping;m.toneMapping=0,Ce(e,t,n),m.toneMapping=i,q.updateMultisampleRenderTarget(F),q.updateRenderTargetMipmap(F),m.setRenderTarget(a)}(a,t,n),r&&V.viewport(k.copy(r)),a.length>0&&Ce(a,t,n),i.length>0&&Ce(i,t,n),s.length>0&&Ce(s,t,n)}function Ce(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,a=0,i=e.length;a<i;a++){var o=e[a],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&_e(s,t,n,l,u,c)}}function _e(e,t,n,r,a,i){if(e.onBeforeRender(m,t,n,r,a,i),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),a.onBeforeRender(m,t,n,r,e,i),e.isImmediateRenderObject){var o=Ie(n,t,r,a,e);V.setMaterial(a),ce.reset(),function(e,t){e.render((function(e){m.renderBufferImmediate(e,t)}))}(e,o)}else!0===a.transparent&&2===a.side?(a.side=1,a.needsUpdate=!0,m.renderBufferDirect(n,t,r,a,e,i),a.side=0,a.needsUpdate=!0,m.renderBufferDirect(n,t,r,a,e,i),a.side=2):m.renderBufferDirect(n,t,r,a,e,i);e.onAfterRender(m,t,n,r,a,i)}function Me(e,t,n){!0!==t.isScene&&(t=B);var r=G.get(e),a=h.state.lights,i=h.state.shadowsArray,o=a.state.version,s=Q.getParameters(e,a.state,i,t,n),l=Q.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Y:X).get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",be),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Ae(e,s),c}else s.uniforms=Q.getUniforms(e),e.onBuild(s,m),e.onBeforeCompile(s,m),c=Q.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var d=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=re.uniform),Ae(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=a.state.ambient,d.lightProbe.value=a.state.probe,d.directionalLights.value=a.state.directional,d.directionalLightShadows.value=a.state.directionalShadow,d.spotLights.value=a.state.spot,d.spotLightShadows.value=a.state.spotShadow,d.rectAreaLights.value=a.state.rectArea,d.ltc_1.value=a.state.rectAreaLTC1,d.ltc_2.value=a.state.rectAreaLTC2,d.pointLights.value=a.state.point,d.pointLightShadows.value=a.state.pointShadow,d.hemisphereLights.value=a.state.hemi,d.directionalShadowMap.value=a.state.directionalShadowMap,d.directionalShadowMatrix.value=a.state.directionalShadowMatrix,d.spotShadowMap.value=a.state.spotShadowMap,d.spotShadowMatrix.value=a.state.spotShadowMatrix,d.pointShadowMap.value=a.state.pointShadowMap,d.pointShadowMatrix.value=a.state.pointShadowMatrix);var f=c.getUniforms(),p=lee.seqWithValue(f.seq,d);return r.currentProgram=c,r.uniformsList=p,c}function Ae(e,t){var n=G.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents}function Ie(e,t,n,r,a){!0!==t.isScene&&(t=B),q.resetTextureUnits();var i=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===b?m.outputEncoding:b.texture.encoding,l=(r.isMeshStandardMaterial?Y:X).get(r.envMap||o),u=!0===r.vertexColors&&!!n&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n&&!!n.attributes.tangent,d=!!n&&!!n.morphAttributes.position,f=!!n&&!!n.morphAttributes.normal,p=n&&n.morphAttributes.position?n.morphAttributes.position.length:0,v=G.get(r),g=h.state.lights;if(!0===P&&(!0===L||e!==w)){var y=e===w&&r.id===x;re.setState(r,e,y)}var k=!1;r.version===v.__version?v.needsLights&&v.lightsStateVersion!==g.state.version||v.outputEncoding!==s||a.isInstancedMesh&&!1===v.instancing?k=!0:a.isInstancedMesh||!0!==v.instancing?a.isSkinnedMesh&&!1===v.skinning?k=!0:a.isSkinnedMesh||!0!==v.skinning?v.envMap!==l||r.fog&&v.fog!==i?k=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===re.numPlanes&&v.numIntersection===re.numIntersection?(v.vertexAlphas!==u||v.vertexTangents!==c||v.morphTargets!==d||v.morphNormals!==f||!0===Z.isWebGL2&&v.morphTargetsCount!==p)&&(k=!0):k=!0:k=!0:k=!0:(k=!0,v.__version=r.version);var S=v.currentProgram;!0===k&&(S=Me(r,t,a));var T,E,M=!1,A=!1,I=!1,N=S.getUniforms(),R=v.uniforms;if(V.useProgram(S.program)&&(M=!0,A=!0,I=!0),r.id!==x&&(x=r.id,A=!0),M||w!==e){if(N.setValue(de,"projectionMatrix",e.projectionMatrix),Z.logarithmicDepthBuffer&&N.setValue(de,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,A=!0,I=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var O=N.map.cameraPosition;void 0!==O&&O.setValue(de,z.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&N.setValue(de,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||a.isSkinnedMesh)&&N.setValue(de,"viewMatrix",e.matrixWorldInverse)}if(a.isSkinnedMesh){N.setOptional(de,a,"bindMatrix"),N.setOptional(de,a,"bindMatrixInverse");var D=a.skeleton;D&&(Z.floatVertexTextures?(null===D.boneTexture&&D.computeBoneTexture(),N.setValue(de,"boneTexture",D.boneTexture,q),N.setValue(de,"boneTextureSize",D.boneTextureSize)):N.setOptional(de,D,"boneMatrices"))}return!n||void 0===n.morphAttributes.position&&void 0===n.morphAttributes.normal||oe.update(a,n,r,S),(A||v.receiveShadow!==a.receiveShadow)&&(v.receiveShadow=a.receiveShadow,N.setValue(de,"receiveShadow",a.receiveShadow)),A&&(N.setValue(de,"toneMappingExposure",m.toneMappingExposure),v.needsLights&&(E=I,(T=R).ambientLightColor.needsUpdate=E,T.lightProbe.needsUpdate=E,T.directionalLights.needsUpdate=E,T.directionalLightShadows.needsUpdate=E,T.pointLights.needsUpdate=E,T.pointLightShadows.needsUpdate=E,T.spotLights.needsUpdate=E,T.spotLightShadows.needsUpdate=E,T.rectAreaLights.needsUpdate=E,T.hemisphereLights.needsUpdate=E),i&&r.fog&&ee.refreshFogUniforms(R,i),ee.refreshMaterialUniforms(R,r,_,C,F),lee.upload(de,v.uniformsList,R,q)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(lee.upload(de,v.uniformsList,R,q),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&N.setValue(de,"center",a.center),N.setValue(de,"modelViewMatrix",a.modelViewMatrix),N.setValue(de,"normalMatrix",a.normalMatrix),N.setValue(de,"modelMatrix",a.matrixWorld),S}Se.setAnimationLoop((function(e){xe&&xe(e)})),"undefined"!=typeof window&&Se.setContext(window),this.setAnimationLoop=function(e){xe=e,ve.setAnimationLoop(e),null===e?Se.stop():Se.start()},ve.addEventListener("sessionstart",we),ve.addEventListener("sessionend",ke),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==v){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===ve.enabled&&!0===ve.isPresenting&&(!0===ve.cameraAutoUpdate&&ve.updateCamera(t),t=ve.getCamera()),!0===e.isScene&&e.onBeforeRender(m,e,t,b),(h=ne.get(e,p.length)).init(),p.push(h),j.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),D.setFromProjectionMatrix(j),L=this.localClippingEnabled,P=re.init(this.clippingPlanes,L,t),(d=te.get(e,f.length)).init(),f.push(d),Te(e,t,0,m.sortObjects),d.finish(),!0===m.sortObjects&&d.sort(M,A),!0===P&&re.beginShadows();var n=h.state.shadowsArray;if(ae.render(n,e,t),!0===P&&re.endShadows(),!0===this.info.autoReset&&this.info.reset(),ie.render(d,e),h.setupLights(m.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,a=0,i=r.length;a<i;a++){var o=r[a];Ee(d,e,o,o.viewport)}else Ee(d,e,t);null!==b&&(q.updateMultisampleRenderTarget(b),q.updateRenderTargetMipmap(b)),!0===e.isScene&&e.onAfterRender(m,e,t),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),ce.resetDefaultState(),x=-1,w=null,p.pop(),h=p.length>0?p[p.length-1]:null,f.pop(),d=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=e,g=t,y=n,e&&void 0===G.get(e).__webglFramebuffer&&q.setupRenderTarget(e);var r=null,a=!1,i=!1;if(e){var o=e.texture;(o.isDataTexture3D||o.isDataTexture2DArray)&&(i=!0);var s=G.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=s[t],a=!0):r=e.isWebGLMultisampleRenderTarget?G.get(e).__webglMultisampledFramebuffer:s,k.copy(e.viewport),S.copy(e.scissor),T=e.scissorTest}else k.copy(I).multiplyScalar(_).floor(),S.copy(N).multiplyScalar(_).floor(),T=R;if(V.bindFramebuffer(36160,r)&&Z.drawBuffers){var l=!1;if(e)if(e.isWebGLMultipleRenderTargets){var u=e.texture;if(O.length!==u.length||36064!==O[0]){for(var c=0,d=u.length;c<d;c++)O[c]=36064+c;O.length=u.length,l=!0}}else 1===O.length&&36064===O[0]||(O[0]=36064,O.length=1,l=!0);else 1===O.length&&1029===O[0]||(O[0]=1029,O.length=1,l=!0);l&&(Z.isWebGL2?de.drawBuffers(O):W.get("WEBGL_draw_buffers").drawBuffersWEBGL(O))}if(V.viewport(k),V.scissor(S),V.setScissorTest(T),a){var h=G.get(e.texture);de.framebufferTexture2D(36160,36064,34069+t,h.__webglTexture,n)}else if(i){var f=G.get(e.texture),p=t||0;de.framebufferTextureLayer(36160,36064,f.__webglTexture,n||0,p)}x=-1},this.readRenderTargetPixels=function(e,t,n,r,a,i,o){if(e&&e.isWebGLRenderTarget){var s=G.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){V.bindFramebuffer(36160,s);try{var l=e.texture,u=l.format,c=l.type;if(1023!==u&&ue.convert(u)!==de.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var d=1016===c&&(W.has("EXT_color_buffer_half_float")||Z.isWebGL2&&W.has("EXT_color_buffer_float"));if(!(1009===c||ue.convert(c)===de.getParameter(35738)||1015===c&&(Z.isWebGL2||W.has("OES_texture_float")||W.has("WEBGL_color_buffer_float"))||d))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===de.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-a&&de.readPixels(t,n,r,a,ue.convert(u),ue.convert(c),i):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{var h=null!==b?G.get(b).__webglFramebuffer:null;V.bindFramebuffer(36160,h)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),a=Math.floor(t.image.width*r),i=Math.floor(t.image.height*r),o=ue.convert(t.format);Z.isWebGL2&&(6407===o&&(o=32849),6408===o&&(o=32856)),q.setTexture2D(t,0),de.copyTexImage2D(3553,n,o,e.x,e.y,a,i,0),V.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=t.image.width,i=t.image.height,o=ue.convert(n.format),s=ue.convert(n.type);q.setTexture2D(n,0),de.pixelStorei(37440,n.flipY),de.pixelStorei(37441,n.premultiplyAlpha),de.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?de.texSubImage2D(3553,r,e.x,e.y,a,i,o,s,t.image.data):t.isCompressedTexture?de.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):de.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&de.generateMipmap(3553),V.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(m.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var i,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=ue.convert(r.format),c=ue.convert(r.type);if(r.isDataTexture3D)q.setTexture3D(r,0),i=32879;else{if(!r.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");q.setTexture2DArray(r,0),i=35866}de.pixelStorei(37440,r.flipY),de.pixelStorei(37441,r.premultiplyAlpha),de.pixelStorei(3317,r.unpackAlignment);var d=de.getParameter(3314),h=de.getParameter(32878),f=de.getParameter(3316),p=de.getParameter(3315),v=de.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;de.pixelStorei(3314,g.width),de.pixelStorei(32878,g.height),de.pixelStorei(3316,e.min.x),de.pixelStorei(3315,e.min.y),de.pixelStorei(32877,e.min.z),n.isDataTexture||n.isDataTexture3D?de.texSubImage3D(i,a,t.x,t.y,t.z,o,s,l,u,c,g.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),de.compressedTexSubImage3D(i,a,t.x,t.y,t.z,o,s,l,u,g.data)):de.texSubImage3D(i,a,t.x,t.y,t.z,o,s,l,u,c,g),de.pixelStorei(3314,d),de.pixelStorei(32878,h),de.pixelStorei(3316,f),de.pixelStorei(3315,p),de.pixelStorei(32877,v),0===a&&r.generateMipmaps&&de.generateMipmap(i),V.unbindTexture()}},this.initTexture=function(e){q.setTexture2D(e,0),V.unbindTexture()},this.resetState=function(){g=0,y=0,b=null,V.reset(),ce.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n)})(Qee).prototype.isWebGL1Renderer=!0;var ete=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:F(e)})),e}return N(n,[{key:"copy",value:function(e,t){return nv(D(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=nv(D(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(J6);ete.prototype.isScene=!0;var tte=function(){function e(t,n){M(this,e),this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=M5()}return N(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=M5()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=M5()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();tte.prototype.isInterleavedBuffer=!0;var nte=new Y5,rte=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];M(this,e),this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===a}return N(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)nte.x=this.getX(t),nte.y=this.getY(t),nte.z=this.getZ(t),nte.applyMatrix4(e),this.setXYZ(t,nte.x,nte.y,nte.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)nte.x=this.getX(t),nte.y=this.getY(t),nte.z=this.getZ(t),nte.applyNormalMatrix(e),this.setXYZ(t,nte.x,nte.y,nte.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)nte.x=this.getX(t),nte.y=this.getY(t),nte.z=this.getZ(t),nte.transformDirection(e),this.setXYZ(t,nte.x,nte.y,nte.z);return this}},{key:"setX",value:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var a=r*this.data.stride+this.offset,i=0;i<this.itemSize;i++)n.push(this.data.array[a+i]);return new w8(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,a=0;a<this.itemSize;a++)t.push(this.data.array[r+a]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();rte.prototype.isInterleavedBufferAttribute=!0;var ate,ite=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="SpriteMaterial",r.color=new g8(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(c8);ite.prototype.isSpriteMaterial=!0;var ote=new Y5,ste=new Y5,lte=new Y5,ute=new L5,cte=new L5,dte=new C6,hte=new Y5,fte=new Y5,pte=new Y5,mte=new L5,vte=new L5,gte=new L5;function yte(e,t,n,r,a,i){ute.subVectors(e,n).addScalar(.5).multiply(r),void 0!==a?(cte.x=i*ute.x-a*ute.y,cte.y=a*ute.x+i*ute.y):cte.copy(ute),e.copy(t),e.x+=cte.x,e.y+=cte.y,e.applyMatrix4(dte)}(function(e){O(n,e);var t=z(n);function n(e){var r;if(M(this,n),(r=t.call(this)).type="Sprite",void 0===ate){ate=new R8;var a=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new tte(a,5);ate.setIndex([0,1,2,0,2,3]),ate.setAttribute("position",new rte(i,3,0,!1)),ate.setAttribute("uv",new rte(i,2,3,!1))}return r.geometry=ate,r.material=void 0!==e?e:new ite,r.center=new L5(.5,.5),j(r)}return N(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ste.setFromMatrixScale(this.matrixWorld),dte.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),lte.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ste.multiplyScalar(-lte.z);var n,r,a=this.material.rotation;0!==a&&(r=Math.cos(a),n=Math.sin(a));var i=this.center;yte(hte.set(-.5,-.5,0),lte,i,ste,n,r),yte(fte.set(.5,-.5,0),lte,i,ste,n,r),yte(pte.set(.5,.5,0),lte,i,ste,n,r),mte.set(0,0),vte.set(1,0),gte.set(1,1);var o=e.ray.intersectTriangle(hte,fte,pte,!1,ote);if(null!==o||(yte(fte.set(-.5,.5,0),lte,i,ste,n,r),vte.set(0,1),null!==(o=e.ray.intersectTriangle(hte,pte,fte,!1,ote)))){var s=e.ray.origin.distanceTo(ote);s<e.near||s>e.far||t.push({distance:s,point:ote.clone(),uv:l8.getUV(ote,hte,fte,pte,mte,vte,gte,new L5),face:null,object:this})}}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n})(J6).prototype.isSprite=!0;var bte=new Y5,xte=new H5,wte=new H5,kte=new Y5,Ste=new C6,Tte=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this,e,r)).type="SkinnedMesh",a.bindMode="attached",a.bindMatrix=new C6,a.bindMatrixInverse=new C6,a}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new H5,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){nv(D(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;xte.fromBufferAttribute(r.attributes.skinIndex,e),wte.fromBufferAttribute(r.attributes.skinWeight,e),bte.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var a=0;a<4;a++){var i=wte.getComponent(a);if(0!==i){var o=xte.getComponent(a);Ste.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(kte.copy(bte).applyMatrix4(Ste),i)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(K8);Tte.prototype.isSkinnedMesh=!0;var Ete=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.call(this)).type="Bone",e}return N(n)}(J6);Ete.prototype.isBone=!0;var Cte=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1003,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1003,f=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return M(this,n),(e=t.call(this,null,l,u,c,d,h,o,s,f,p)).image={data:r,width:a,height:i},e.magFilter=d,e.minFilter=h,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return N(n)}(Z5);Cte.prototype.isDataTexture=!0;var _te=new C6,Mte=new C6,Ate=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];M(this,e),this.uuid=M5(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return N(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new C6)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new C6;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,a=this.bones.length;r<a;r++){var i=this.bones[r];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,a=0,i=e.length;a<i;a++){var o=e[a]?e[a].matrixWorld:Mte;_te.multiplyMatrices(o,t[a]),_te.toArray(n,16*a)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=O5(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new Cte(t,e,e,1023,1015);return this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var a=e.bones[n],i=t[a];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),i=new Ete),this.bones.push(i),this.boneInverses.push((new C6).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,a=t.length;r<a;r++){var i=t[r];e.bones.push(i.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),Ite=function(e){O(n,e);var t=z(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return M(this,n),"number"==typeof a&&(o=a,a=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(i=t.call(this,e,r,a)).meshPerAttribute=o,i}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(w8);Ite.prototype.isInstancedBufferAttribute=!0;var Nte=new C6,Rte=new C6,Ote=[],Dte=new K8;(function(e){O(n,e);var t=z(n);function n(e,r,a){var i;return M(this,n),(i=t.call(this,e,r)).instanceMatrix=new Ite(new Float32Array(16*a),16),i.instanceColor=null,i.count=a,i.frustumCulled=!1,i}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Dte.geometry=this.geometry,Dte.material=this.material,void 0!==Dte.material)for(var a=0;a<r;a++){this.getMatrixAt(a,Nte),Rte.multiplyMatrices(n,Nte),Dte.matrixWorld=Rte,Dte.raycast(e,Ote);for(var i=0,o=Ote.length;i<o;i++){var s=Ote[i];s.instanceId=a,s.object=this,t.push(s)}Ote.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new Ite(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n})(K8).prototype.isInstancedMesh=!0;var Pte=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="LineBasicMaterial",r.color=new g8(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}]),n}(c8);Pte.prototype.isLineBasicMaterial=!0;var Lte=new Y5,Fte=new Y5,jte=new C6,zte=new E6,Bte=new g6,Ute=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new R8,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pte;return M(this,n),(e=t.call(this)).type="Line",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,a=t.count;r<a;r++)Lte.fromBufferAttribute(t,r-1),Fte.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Lte.distanceTo(Fte);e.setAttribute("lineDistance",new T8(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,i=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Bte.copy(n.boundingSphere),Bte.applyMatrix4(r),Bte.radius+=a,!1!==e.ray.intersectsSphere(Bte)){jte.copy(r).invert(),zte.copy(e.ray).applyMatrix4(jte);var o=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new Y5,u=new Y5,c=new Y5,d=new Y5,h=this.isLineSegments?2:1;if(n.isBufferGeometry){var f=n.index,p=n.attributes.position;if(null!==f)for(var m=Math.max(0,i.start),v=Math.min(f.count,i.start+i.count)-1;m<v;m+=h){var g=f.getX(m),y=f.getX(m+1);if(l.fromBufferAttribute(p,g),u.fromBufferAttribute(p,y),!(zte.distanceSqToSegment(l,u,d,c)>s)){d.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(d);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var x=Math.max(0,i.start),w=Math.min(p.count,i.start+i.count)-1;x<w;x+=h)if(l.fromBufferAttribute(p,x),u.fromBufferAttribute(p,x+1),!(zte.distanceSqToSegment(l,u,d,c)>s)){d.applyMatrix4(this.matrixWorld);var k=e.ray.origin.distanceTo(d);k<e.near||k>e.far||t.push({distance:k,point:c.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(J6);Ute.prototype.isLine=!0;var Wte=new Y5,Zte=new Y5,Vte=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this,e,r)).type="LineSegments",a}return N(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,a=t.count;r<a;r+=2)Wte.fromBufferAttribute(t,r),Zte.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Wte.distanceTo(Zte);e.setAttribute("lineDistance",new T8(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),n}(Ute);Vte.prototype.isLineSegments=!0;var Hte=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this,e,r)).type="LineLoop",a}return N(n)}(Ute);Hte.prototype.isLineLoop=!0;var Gte=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="PointsMaterial",r.color=new g8(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(c8);Gte.prototype.isPointsMaterial=!0;var qte=new C6,Xte=new E6,Yte=new g6,Kte=new Y5,Jte=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new R8,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gte;return M(this,n),(e=t.call(this)).type="Points",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,i=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Yte.copy(n.boundingSphere),Yte.applyMatrix4(r),Yte.radius+=a,!1!==e.ray.intersectsSphere(Yte)){qte.copy(r).invert(),Xte.copy(e.ray).applyMatrix4(qte);var o=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){var l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,i.start),d=Math.min(l.count,i.start+i.count);c<d;c++){var h=l.getX(c);Kte.fromBufferAttribute(u,h),$te(Kte,h,s,r,e,t,this)}else for(var f=Math.max(0,i.start),p=Math.min(u.count,i.start+i.count);f<p;f++)Kte.fromBufferAttribute(u,f),$te(Kte,f,s,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(J6);function $te(e,t,n,r,a,i,o){var s=Xte.distanceSqToPoint(e);if(s<n){var l=new Y5;Xte.closestPointToPoint(e,l),l.applyMatrix4(r);var u=a.ray.origin.distanceTo(l);if(u<a.near||u>a.far)return;i.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}Jte.prototype.isPoints=!0,function(e){O(n,e);var t=z(n);function n(e,r,a,i,o,s,l,u,c){var d;M(this,n),(d=t.call(this,e,r,a,i,o,s,l,u,c)).format=void 0!==l?l:1022,d.minFilter=void 0!==s?s:1006,d.magFilter=void 0!==o?o:1006,d.generateMipmaps=!1;var h=F(d);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){h.needsUpdate=!0,e.requestVideoFrameCallback(t)})),d}return N(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Z5).prototype.isVideoTexture=!0;var Qte=function(e){O(n,e);var t=z(n);function n(e,r,a,i,o,s,l,u,c,d,h,f){var p;return M(this,n),(p=t.call(this,null,s,l,u,c,d,i,o,h,f)).image={width:r,height:a},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return N(n)}(Z5);Qte.prototype.isCompressedTexture=!0,function(e){O(n,e);var t=z(n);function n(e,r,a,i,o,s,l,u,c){var d;return M(this,n),(d=t.call(this,e,r,a,i,o,s,l,u,c)).needsUpdate=!0,d}return N(n)}(Z5).prototype.isCanvasTexture=!0,function(e){O(n,e);var t=z(n);function n(e,r,a,i,o,s,l,u,c,d){var h;if(M(this,n),1026!==(d=void 0!==d?d:1026)&&1027!==d)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===a&&1026===d&&(a=1012),void 0===a&&1027===d&&(a=1020),(h=t.call(this,null,i,o,s,l,u,d,a,c)).image={width:e,height:r},h.magFilter=void 0!==l?l:1003,h.minFilter=void 0!==u?u:1003,h.flipY=!1,h.generateMipmaps=!1,h}return N(n)}(Z5).prototype.isDepthTexture=!0,new Y5,new Y5,new Y5,new l8;var ene=function(){function e(){M(this,e),this.type="Curve",this.arcLengthDivisions=200}return N(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),a=0;n.push(0);for(var i=1;i<=e;i++)a+=(t=this.getPoint(i/e)).distanceTo(r),n.push(a),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),a=0,i=r.length;n=t||e*r[i-1];for(var o,s=0,l=i-1;s<=l;)if((o=r[a=Math.floor(s+(l-s)/2)]-n)<0)s=a+1;else{if(!(o>0)){l=a;break}l=a-1}if(r[a=l]===n)return a/(i-1);var u=r[a];return(a+(n-u)/(r[a+1]-u))/(i-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,a=e+n;r<0&&(r=0),a>1&&(a=1);var i=this.getPoint(r),o=this.getPoint(a),s=t||(i.isVector2?new L5:new Y5);return s.copy(o).sub(i).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Y5,r=[],a=[],i=[],o=new Y5,s=new C6,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new Y5)}a[0]=new Y5,i[0]=new Y5;var c=Number.MAX_VALUE,d=Math.abs(r[0].x),h=Math.abs(r[0].y),f=Math.abs(r[0].z);d<=c&&(c=d,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),f<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),a[0].crossVectors(r[0],o),i[0].crossVectors(r[0],a[0]);for(var p=1;p<=e;p++){if(a[p]=a[p-1].clone(),i[p]=i[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var m=Math.acos(A5(r[p-1].dot(r[p]),-1,1));a[p].applyMatrix4(s.makeRotationAxis(o,m))}i[p].crossVectors(r[p],a[p])}if(!0===t){var v=Math.acos(A5(a[0].dot(a[e]),-1,1));v/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(v=-v);for(var g=1;g<=e;g++)a[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),i[g].crossVectors(r[g],a[g])}return{tangents:r,normals:a,binormals:i}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),tne=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return M(this,n),(e=t.call(this)).type="EllipseCurve",e.aX=r,e.aY=a,e.xRadius=i,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=l,e.aClockwise=u,e.aRotation=c,e}return N(n,[{key:"getPoint",value:function(e,t){for(var n=t||new L5,r=2*Math.PI,a=this.aEndAngle-this.aStartAngle,i=Math.abs(a)<Number.EPSILON;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(a=i?0:r),!0!==this.aClockwise||i||(a===r?a=-r:a-=r);var o=this.aStartAngle+e*a,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,h=l-this.aY;s=d*u-h*c+this.aX,l=d*c+h*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return nv(D(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(ene);tne.prototype.isEllipseCurve=!0;var nne=function(e){O(n,e);var t=z(n);function n(e,r,a,i,o,s){var l;return M(this,n),(l=t.call(this,e,r,a,a,i,o,s)).type="ArcCurve",l}return N(n)}(tne);function rne(){var e=0,t=0,n=0,r=0;function a(a,i,o,s){e=a,t=o,n=-3*a+3*i-2*o-s,r=2*a-2*i+o+s}return{initCatmullRom:function(e,t,n,r,i){a(t,n,i*(n-e),i*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,i,o,s){var l=(t-e)/i-(n-e)/(i+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;a(t,n,l*=o,u*=o)},calc:function(a){var i=a*a;return e+t*a+n*i+r*(i*a)}}}nne.prototype.isArcCurve=!0;var ane=new Y5,ine=new rne,one=new rne,sne=new rne,lne=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return M(this,n),(e=t.call(this)).type="CatmullRomCurve3",e.points=r,e.closed=a,e.curveType=i,e.tension=o,e}return N(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y5,a=this.points,i=a.length,o=(i-(this.closed?0:1))*e,s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/i)+1)*i:0===l&&s===i-1&&(s=i-2,l=1),this.closed||s>0?t=a[(s-1)%i]:(ane.subVectors(a[0],a[1]).add(a[0]),t=ane);var u=a[s%i],c=a[(s+1)%i];if(this.closed||s+2<i?n=a[(s+2)%i]:(ane.subVectors(a[i-1],a[i-2]).add(a[i-1]),n=ane),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,h=Math.pow(t.distanceToSquared(u),d),f=Math.pow(u.distanceToSquared(c),d),p=Math.pow(c.distanceToSquared(n),d);f<1e-4&&(f=1),h<1e-4&&(h=f),p<1e-4&&(p=f),ine.initNonuniformCatmullRom(t.x,u.x,c.x,n.x,h,f,p),one.initNonuniformCatmullRom(t.y,u.y,c.y,n.y,h,f,p),sne.initNonuniformCatmullRom(t.z,u.z,c.z,n.z,h,f,p)}else"catmullrom"===this.curveType&&(ine.initCatmullRom(t.x,u.x,c.x,n.x,this.tension),one.initCatmullRom(t.y,u.y,c.y,n.y,this.tension),sne.initCatmullRom(t.z,u.z,c.z,n.z,this.tension));return r.set(ine.calc(l),one.calc(l),sne.calc(l)),r}},{key:"copy",value:function(e){nv(D(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){nv(D(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push((new Y5).fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(ene);function une(e,t,n,r,a){var i=.5*(r-t),o=.5*(a-n),s=e*e;return(2*n-2*r+i+o)*(e*s)+(-3*n+3*r-2*i-o)*s+i*e+n}function cne(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function dne(e,t,n,r,a){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,a)}lne.prototype.isCatmullRomCurve3=!0;var hne=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new L5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new L5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new L5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new L5;return M(this,n),(e=t.call(this)).type="CubicBezierCurve",e.v0=r,e.v1=a,e.v2=i,e.v3=o,e}return N(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new L5,n=this.v0,r=this.v1,a=this.v2,i=this.v3;return t.set(dne(e,n.x,r.x,a.x,i.x),dne(e,n.y,r.y,a.y,i.y)),t}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return nv(D(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(ene);hne.prototype.isCubicBezierCurve=!0;var fne=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Y5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Y5;return M(this,n),(e=t.call(this)).type="CubicBezierCurve3",e.v0=r,e.v1=a,e.v2=i,e.v3=o,e}return N(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y5,n=this.v0,r=this.v1,a=this.v2,i=this.v3;return t.set(dne(e,n.x,r.x,a.x,i.x),dne(e,n.y,r.y,a.y,i.y),dne(e,n.z,r.z,a.z,i.z)),t}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return nv(D(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(ene);fne.prototype.isCubicBezierCurve3=!0;var pne=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new L5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new L5;return M(this,n),(e=t.call(this)).type="LineCurve",e.v1=r,e.v2=a,e}return N(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new L5;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new L5;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return nv(D(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(ene);pne.prototype.isLineCurve=!0;var mne=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new L5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new L5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new L5;return M(this,n),(e=t.call(this)).type="QuadraticBezierCurve",e.v0=r,e.v1=a,e.v2=i,e}return N(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new L5,n=this.v0,r=this.v1,a=this.v2;return t.set(cne(e,n.x,r.x,a.x),cne(e,n.y,r.y,a.y)),t}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return nv(D(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(ene);mne.prototype.isQuadraticBezierCurve=!0;var vne=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Y5;return M(this,n),(e=t.call(this)).type="QuadraticBezierCurve3",e.v0=r,e.v1=a,e.v2=i,e}return N(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y5,n=this.v0,r=this.v1,a=this.v2;return t.set(cne(e,n.x,r.x,a.x),cne(e,n.y,r.y,a.y),cne(e,n.z,r.z,a.z)),t}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return nv(D(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(ene);vne.prototype.isQuadraticBezierCurve3=!0;var gne=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return M(this,n),(e=t.call(this)).type="SplineCurve",e.points=r,e}return N(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new L5,n=this.points,r=(n.length-1)*e,a=Math.floor(r),i=r-a,o=n[0===a?a:a-1],s=n[a],l=n[a>n.length-2?n.length-1:a+1],u=n[a>n.length-3?n.length-1:a+2];return t.set(une(i,o.x,s.x,l.x,u.x),une(i,o.y,s.y,l.y,u.y)),t}},{key:"copy",value:function(e){nv(D(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push(a.clone())}return this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var a=this.points[t];e.points.push(a.toArray())}return e}},{key:"fromJSON",value:function(e){nv(D(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push((new L5).fromArray(a))}return this}}]),n}(ene);gne.prototype.isSplineCurve=!0;var yne=Object.freeze({__proto__:null,ArcCurve:nne,CatmullRomCurve3:lne,CubicBezierCurve:hne,CubicBezierCurve3:fne,EllipseCurve:tne,LineCurve:pne,LineCurve3:function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Y5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y5;return M(this,n),(e=t.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=r,e.v2=a,e}return N(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y5;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return nv(D(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(ene),QuadraticBezierCurve:mne,QuadraticBezierCurve3:vne,SplineCurve:gne}),bne=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return N(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new pne(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),a=0;a<r.length;){if(r[a]>=n){var i=r[a]-n,o=this.curves[a],s=o.getLength(),l=0===s?0:1-i/s;return o.getPointAt(l,t)}a++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,a=this.curves;r<a.length;r++)for(var i=a[r],o=i&&i.isEllipseCurve?2*t:i&&(i.isLineCurve||i.isLineCurve3)?1:i&&i.isSplineCurve?t*i.points.length:t,s=i.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){nv(D(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var a=this.curves[t];e.curves.push(a.toJSON())}return e}},{key:"fromJSON",value:function(e){nv(D(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var a=e.curves[t];this.curves.push((new yne[a.type]).fromJSON(a))}return this}}]),n}(ene),xne=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="Path",r.currentPoint=new L5,e&&r.setFromPoints(e),r}return N(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new pne(this.currentPoint.clone(),new L5(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var a=new mne(this.currentPoint.clone(),new L5(e,t),new L5(n,r));return this.curves.push(a),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,a,i){var o=new hne(this.currentPoint.clone(),new L5(e,t),new L5(n,r),new L5(a,i));return this.curves.push(o),this.currentPoint.set(a,i),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new gne(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,a,i){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,a,i),this}},{key:"absarc",value:function(e,t,n,r,a,i){return this.absellipse(e,t,n,n,r,a,i),this}},{key:"ellipse",value:function(e,t,n,r,a,i,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,a,i,o,s),this}},{key:"absellipse",value:function(e,t,n,r,a,i,o,s){var l=new tne(e,t,n,r,a,i,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return nv(D(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(bne),wne=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).uuid=M5(),r.type="Shape",r.holes=[],r}return N(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){nv(D(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var a=e.holes[t];this.holes.push(a.clone())}return this}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var a=this.holes[t];e.holes.push(a.toJSON())}return e}},{key:"fromJSON",value:function(e){nv(D(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var a=e.holes[t];this.holes.push((new xne).fromJSON(a))}return this}}]),n}(xne);function kne(e,t,n,r,a){var i,o;if(a===function(e,t,n,r){for(var a=0,i=t,o=n-r;i<n;i+=r)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a}(e,t,n,r)>0)for(i=t;i<n;i+=r)o=Zne(i,e[i],e[i+1],o);else for(i=n-r;i>=t;i-=r)o=Zne(i,e[i],e[i+1],o);return o&&Fne(o,o.next)&&(Vne(o),o=o.next),o}function Sne(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Fne(r,r.next)&&0!==Lne(r.prev,r,r.next))r=r.next;else{if(Vne(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Tne(e,t,n,r,a,i,o){if(e){!o&&i&&function(e,t,n,r){var a=e;do{null===a.z&&(a.z=Rne(a.x,a.y,t,n,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,function(e){var t,n,r,a,i,o,s,l,u=1;do{for(n=e,e=null,i=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(a=n,n=n.nextZ,s--):(a=r,r=r.nextZ,l--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;n=r}i.nextZ=null,u*=2}while(o>1)}(a)}(e,r,a,i);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,i?Cne(e,r,a,i):Ene(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),Vne(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Tne(e=_ne(Sne(e),t,n),t,n,r,a,i,2):2===o&&Mne(e,t,n,r,a,i):Tne(Sne(e),t,n,r,a,i,1);break}}}function Ene(e){var t=e.prev,n=e,r=e.next;if(Lne(t,n,r)>=0)return!1;for(var a=e.next.next;a!==e.prev;){if(Dne(t.x,t.y,n.x,n.y,r.x,r.y,a.x,a.y)&&Lne(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function Cne(e,t,n,r){var a=e.prev,i=e,o=e.next;if(Lne(a,i,o)>=0)return!1;for(var s=a.x<i.x?a.x<o.x?a.x:o.x:i.x<o.x?i.x:o.x,l=a.y<i.y?a.y<o.y?a.y:o.y:i.y<o.y?i.y:o.y,u=a.x>i.x?a.x>o.x?a.x:o.x:i.x>o.x?i.x:o.x,c=a.y>i.y?a.y>o.y?a.y:o.y:i.y>o.y?i.y:o.y,d=Rne(s,l,t,n,r),h=Rne(u,c,t,n,r),f=e.prevZ,p=e.nextZ;f&&f.z>=d&&p&&p.z<=h;){if(f!==e.prev&&f!==e.next&&Dne(a.x,a.y,i.x,i.y,o.x,o.y,f.x,f.y)&&Lne(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&Dne(a.x,a.y,i.x,i.y,o.x,o.y,p.x,p.y)&&Lne(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=d;){if(f!==e.prev&&f!==e.next&&Dne(a.x,a.y,i.x,i.y,o.x,o.y,f.x,f.y)&&Lne(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&Dne(a.x,a.y,i.x,i.y,o.x,o.y,p.x,p.y)&&Lne(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function _ne(e,t,n){var r=e;do{var a=r.prev,i=r.next.next;!Fne(a,i)&&jne(a,r,r.next,i)&&Une(a,i)&&Une(i,a)&&(t.push(a.i/n),t.push(r.i/n),t.push(i.i/n),Vne(r),Vne(r.next),r=e=i),r=r.next}while(r!==e);return Sne(r)}function Mne(e,t,n,r,a,i){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Pne(o,s)){var l=Wne(o,s);return o=Sne(o,o.next),l=Sne(l,l.next),Tne(o,t,n,r,a,i),void Tne(l,t,n,r,a,i)}s=s.next}o=o.next}while(o!==e)}function Ane(e,t){return e.x-t.x}function Ine(e,t){if(t=function(e,t){var n,r=t,a=e.x,i=e.y,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>o){if(o=s,s===a){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(a===o)return n;var l,u=n,c=n.x,d=n.y,h=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&Dne(i<d?a:o,i,c,d,i<d?o:a,i,r.x,r.y)&&(l=Math.abs(i-r.y)/(a-r.x),Une(r,e)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&Nne(n,r)))&&(n=r,h=l)),r=r.next}while(r!==u);return n}(e,t),t){var n=Wne(t,e);Sne(t,t.next),Sne(n,n.next)}}function Nne(e,t){return Lne(e.prev,e,t.prev)<0&&Lne(t.next,e,e.next)<0}function Rne(e,t,n,r,a){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*a)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*a)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function One(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Dne(e,t,n,r,a,i,o,s){return(a-o)*(t-s)-(e-o)*(i-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(i-s)-(a-o)*(r-s)>=0}function Pne(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&jne(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Une(e,t)&&Une(t,e)&&function(e,t){var n=e,r=!1,a=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&a<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Lne(e.prev,e,t.prev)||Lne(e,t.prev,t))||Fne(e,t)&&Lne(e.prev,e,e.next)>0&&Lne(t.prev,t,t.next)>0)}function Lne(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Fne(e,t){return e.x===t.x&&e.y===t.y}function jne(e,t,n,r){var a=Bne(Lne(e,t,n)),i=Bne(Lne(e,t,r)),o=Bne(Lne(n,r,e)),s=Bne(Lne(n,r,t));return a!==i&&o!==s||!(0!==a||!zne(e,n,t))||!(0!==i||!zne(e,r,t))||!(0!==o||!zne(n,e,r))||!(0!==s||!zne(n,t,r))}function zne(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Bne(e){return e>0?1:e<0?-1:0}function Une(e,t){return Lne(e.prev,e,e.next)<0?Lne(e,t,e.next)>=0&&Lne(e,e.prev,t)>=0:Lne(e,t,e.prev)<0||Lne(e,e.next,t)<0}function Wne(e,t){var n=new Hne(e.i,e.x,e.y),r=new Hne(t.i,t.x,t.y),a=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=a,a.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function Zne(e,t,n,r){var a=new Hne(e,t,n);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function Vne(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Hne(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Gne=function(){function e(){M(this,e)}return N(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,a=0;a<t;r=a++)n+=e[r].x*e[a].y-e[a].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],a=[];qne(e),Xne(n,e);var i=e.length;t.forEach(qne);for(var o=0;o<t.length;o++)r.push(i),i+=t[o].length,Xne(n,t[o]);for(var s=function(e,t){var n,r,a,i,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,d=c?t[0]*u:e.length,h=kne(e,0,d,u,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=function(e,t,n,r){var a,i,o,s=[];for(a=0,i=t.length;a<i;a++)(o=kne(e,t[a]*r,a<i-1?t[a+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(One(o));for(s.sort(Ane),a=0;a<s.length;a++)Ine(s[a],n),n=Sne(n,n.next);return n}(e,t,h,u)),e.length>80*u){n=a=e[0],r=i=e[1];for(var p=u;p<d;p+=u)(o=e[p])<n&&(n=o),(s=e[p+1])<r&&(r=s),o>a&&(a=o),s>i&&(i=s);l=0!==(l=Math.max(a-n,i-r))?1/l:0}return Tne(h,f,u,n,r,l),f}(n,r),l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}]),e}();function qne(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Xne(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Yne=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wne([new L5(.5,.5),new L5(-.5,.5),new L5(-.5,-.5),new L5(.5,-.5)]),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:a},r=Array.isArray(r)?r:[r];for(var i=F(e),o=[],s=[],l=0,u=r.length;l<u;l++)c(r[l]);function c(e){var t=[],n=void 0!==a.curveSegments?a.curveSegments:12,r=void 0!==a.steps?a.steps:1,l=void 0!==a.depth?a.depth:1,u=void 0===a.bevelEnabled||a.bevelEnabled,c=void 0!==a.bevelThickness?a.bevelThickness:.2,d=void 0!==a.bevelSize?a.bevelSize:c-.1,h=void 0!==a.bevelOffset?a.bevelOffset:0,f=void 0!==a.bevelSegments?a.bevelSegments:3,p=a.extrudePath,m=void 0!==a.UVGenerator?a.UVGenerator:Kne;void 0!==a.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=a.amount);var v,g,y,b,x,w=!1;p&&(v=p.getSpacedPoints(r),w=!0,u=!1,g=p.computeFrenetFrames(r,!1),y=new Y5,b=new Y5,x=new Y5),u||(f=0,c=0,d=0,h=0);var k=e.extractPoints(n),S=k.shape,T=k.holes;if(!Gne.isClockWise(S)){S=S.reverse();for(var E=0,C=T.length;E<C;E++){var _=T[E];Gne.isClockWise(_)&&(T[E]=_.reverse())}}for(var M=Gne.triangulateShape(S,T),A=S,I=0,N=T.length;I<N;I++){var R=T[I];S=S.concat(R)}function O(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var D=S.length,P=M.length;function L(e,t,n){var r,a,i,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(c),f=Math.sqrt(l*l+u*u),p=t.x-s/h,m=t.y+o/h,v=((n.x-u/f-p)*u-(n.y+l/f-m)*l)/(o*u-s*l),g=(r=p+o*v-e.x)*r+(a=m+s*v-e.y)*a;if(g<=2)return new L5(r,a);i=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,a=o,i=Math.sqrt(c)):(r=o,a=s,i=Math.sqrt(c/2))}return new L5(r/i,a/i)}for(var F=[],j=0,z=A.length,B=z-1,U=j+1;j<z;j++,B++,U++)B===z&&(B=0),U===z&&(U=0),F[j]=L(A[j],A[B],A[U]);for(var W,Z=[],V=F.concat(),H=0,G=T.length;H<G;H++){var q=T[H];W=[];for(var X=0,Y=q.length,K=Y-1,J=X+1;X<Y;X++,K++,J++)K===Y&&(K=0),J===Y&&(J=0),W[X]=L(q[X],q[K],q[J]);Z.push(W),V=V.concat(W)}for(var $=0;$<f;$++){for(var Q=$/f,ee=c*Math.cos(Q*Math.PI/2),te=d*Math.sin(Q*Math.PI/2)+h,ne=0,re=A.length;ne<re;ne++){var ae=O(A[ne],F[ne],te);Ne(ae.x,ae.y,-ee)}for(var ie=0,oe=T.length;ie<oe;ie++){var se=T[ie];W=Z[ie];for(var le=0,ue=se.length;le<ue;le++){var ce=O(se[le],W[le],te);Ne(ce.x,ce.y,-ee)}}}for(var de=d+h,he=0;he<D;he++){var fe=u?O(S[he],V[he],de):S[he];w?(b.copy(g.normals[0]).multiplyScalar(fe.x),y.copy(g.binormals[0]).multiplyScalar(fe.y),x.copy(v[0]).add(b).add(y),Ne(x.x,x.y,x.z)):Ne(fe.x,fe.y,0)}for(var pe=1;pe<=r;pe++)for(var me=0;me<D;me++){var ve=u?O(S[me],V[me],de):S[me];w?(b.copy(g.normals[pe]).multiplyScalar(ve.x),y.copy(g.binormals[pe]).multiplyScalar(ve.y),x.copy(v[pe]).add(b).add(y),Ne(x.x,x.y,x.z)):Ne(ve.x,ve.y,l/r*pe)}for(var ge=f-1;ge>=0;ge--){for(var ye=ge/f,be=c*Math.cos(ye*Math.PI/2),xe=d*Math.sin(ye*Math.PI/2)+h,we=0,ke=A.length;we<ke;we++){var Se=O(A[we],F[we],xe);Ne(Se.x,Se.y,l+be)}for(var Te=0,Ee=T.length;Te<Ee;Te++){var Ce=T[Te];W=Z[Te];for(var _e=0,Me=Ce.length;_e<Me;_e++){var Ae=O(Ce[_e],W[_e],xe);w?Ne(Ae.x,Ae.y+v[r-1].y,v[r-1].x+be):Ne(Ae.x,Ae.y,l+be)}}}function Ie(e,t){for(var n=e.length;--n>=0;){var a=n,i=n-1;i<0&&(i=e.length-1);for(var o=0,s=r+2*f;o<s;o++){var l=D*o,u=D*(o+1);Oe(t+a+l,t+i+l,t+i+u,t+a+u)}}}function Ne(e,n,r){t.push(e),t.push(n),t.push(r)}function Re(e,t,n){De(e),De(t),De(n);var r=o.length/3,a=m.generateTopUV(i,o,r-3,r-2,r-1);Pe(a[0]),Pe(a[1]),Pe(a[2])}function Oe(e,t,n,r){De(e),De(t),De(r),De(t),De(n),De(r);var a=o.length/3,s=m.generateSideWallUV(i,o,a-6,a-3,a-2,a-1);Pe(s[0]),Pe(s[1]),Pe(s[3]),Pe(s[1]),Pe(s[2]),Pe(s[3])}function De(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function Pe(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(u){for(var t=0,n=D*t,a=0;a<P;a++){var s=M[a];Re(s[2]+n,s[1]+n,s[0]+n)}n=D*(t=r+2*f);for(var l=0;l<P;l++){var c=M[l];Re(c[0]+n,c[1]+n,c[2]+n)}}else{for(var d=0;d<P;d++){var h=M[d];Re(h[2],h[1],h[0])}for(var p=0;p<P;p++){var m=M[p];Re(m[0]+D*r,m[1]+D*r,m[2]+D*r)}}i.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Ie(A,t),t+=A.length;for(var n=0,r=T.length;n<r;n++){var a=T[n];Ie(a,t),t+=a.length}i.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new T8(o,3)),e.setAttribute("uv",new T8(s,2)),e.computeVertexNormals(),e}return N(n,[{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,a=e.length;r<a;r++){var i=e[r];n.shapes.push(i.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],a=0,i=e.shapes.length;a<i;a++){var o=t[e.shapes[a]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new yne[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(R8),Kne={generateTopUV:function(e,t,n,r,a){var i=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*a],c=t[3*a+1];return[new L5(i,o),new L5(s,l),new L5(u,c)]},generateSideWallUV:function(e,t,n,r,a,i){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],d=t[3*r+2],h=t[3*a],f=t[3*a+1],p=t[3*a+2],m=t[3*i],v=t[3*i+1],g=t[3*i+2];return Math.abs(s-c)<Math.abs(o-u)?[new L5(o,1-l),new L5(u,1-d),new L5(h,1-p),new L5(m,1-g)]:[new L5(s,1-l),new L5(c,1-d),new L5(f,1-p),new L5(v,1-g)]}},Jne=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wne([new L5(0,.5),new L5(-.5,-.5),new L5(.5,-.5)]),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;M(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:a};var i=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(r))h(r);else for(var d=0;d<r.length;d++)h(r[d]),e.addGroup(u,c,d),u+=c,c=0;function h(e){var t=o.length/3,n=e.extractPoints(a),r=n.shape,u=n.holes;!1===Gne.isClockWise(r)&&(r=r.reverse());for(var d=0,h=u.length;d<h;d++){var f=u[d];!0===Gne.isClockWise(f)&&(u[d]=f.reverse())}for(var p=Gne.triangulateShape(r,u),m=0,v=u.length;m<v;m++){var g=u[m];r=r.concat(g)}for(var y=0,b=r.length;y<b;y++){var x=r[y];o.push(x.x,x.y,0),s.push(0,0,1),l.push(x.x,x.y)}for(var w=0,k=p.length;w<k;w++){var S=p[w],T=S[0]+t,E=S[1]+t,C=S[2]+t;i.push(T,E,C),c+=3}}return e.setIndex(i),e.setAttribute("position",new T8(o,3)),e.setAttribute("normal",new T8(s,3)),e.setAttribute("uv",new T8(l,2)),e}return N(n,[{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var a=e[n];t.shapes.push(a.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],a=0,i=e.shapes.length;a<i;a++){var o=t[e.shapes[a]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(R8),$ne=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="ShadowMaterial",r.color=new g8(0),r.transparent=!0,r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),n}(c8);$ne.prototype.isShadowMaterial=!0;var Qne=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new g8(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new g8(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new L5(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),n}(c8);Qne.prototype.isMeshStandardMaterial=!0;var ere=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new L5(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(F(r),"reflectivity",{get:function(){return A5(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.sheenTint=new g8(0),r.sheenRoughness=1,r.transmissionMap=null,r.thickness=.01,r.thicknessMap=null,r.attenuationDistance=0,r.attenuationTint=new g8(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularTint=new g8(1,1,1),r.specularTintMap=null,r._sheen=0,r._clearcoat=0,r._transmission=0,r.setValues(e),r}return N(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenTint.copy(e.sheenTint),this.sheenRoughness=e.sheenRoughness,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationTint.copy(e.attenuationTint),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularTint.copy(e.specularTint),this.specularTintMap=e.specularTintMap,this}}]),n}(Qne);ere.prototype.isMeshPhysicalMaterial=!0,function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="MeshPhongMaterial",r.color=new g8(16777215),r.specular=new g8(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new g8(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new L5(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),n}(c8).prototype.isMeshPhongMaterial=!0,function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).defines={TOON:""},r.type="MeshToonMaterial",r.color=new g8(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new g8(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new L5(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(c8).prototype.isMeshToonMaterial=!0,function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new L5(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.flatShading=!1,r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(c8).prototype.isMeshNormalMaterial=!0,function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="MeshLambertMaterial",r.color=new g8(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new g8(0),r.emissiveIntensity=1,r.emissiveMap=null,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(c8).prototype.isMeshLambertMaterial=!0,function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new g8(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new L5(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}]),n}(c8).prototype.isMeshMatcapMaterial=!0,function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(Pte).prototype.isLineDashedMaterial=!0;var tre={arraySlice:function(e,t,n){return tre.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,a=new e.constructor(r),i=0,o=0;o!==r;++i)for(var s=n[i]*t,l=0;l!==t;++l)a[o++]=e[s+l];return a},flattenJSON:function(e,t,n,r){for(var a=1,i=e[0];void 0!==i&&void 0===i[r];)i=e[a++];if(void 0!==i){var o=i[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=i[r])&&(t.push(i.time),n.push.apply(n,o)),i=e[a++]}while(void 0!==i);else if(void 0!==o.toArray)do{void 0!==(o=i[r])&&(t.push(i.time),o.toArray(n,n.length)),i=e[a++]}while(void 0!==i);else do{void 0!==(o=i[r])&&(t.push(i.time),n.push(o)),i=e[a++]}while(void 0!==i)}},subclip:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,i=e.clone();i.name=t;for(var o=[],s=0;s<i.tracks.length;++s){for(var l=i.tracks[s],u=l.getValueSize(),c=[],d=[],h=0;h<l.times.length;++h){var f=l.times[h]*a;if(!(f<n||f>=r)){c.push(l.times[h]);for(var p=0;p<u;++p)d.push(l.values[h*u+p])}}0!==c.length&&(l.times=tre.convertArray(c,l.times.constructor),l.values=tre.convertArray(d,l.values.constructor),o.push(l))}i.tracks=o;for(var m=1/0,v=0;v<i.tracks.length;++v)m>i.tracks[v].times[0]&&(m=i.tracks[v].times[0]);for(var g=0;g<i.tracks.length;++g)i.tracks[g].shift(-1*m);return i.resetDuration(),i},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var a=n.tracks.length,i=t/r,o=function(){var t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)return"continue";var a=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===a)return"continue";var o=0,l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=l/3);var u=0,c=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var d,h=t.times.length-1;if(i<=t.times[0]){var f=o,p=l-o;d=tre.arraySlice(t.values,f,p)}else if(i>=t.times[h]){var m=h*l+o,v=m+l-o;d=tre.arraySlice(t.values,m,v)}else{var g=t.createInterpolant(),y=o,b=l-o;g.evaluate(i),d=tre.arraySlice(g.resultBuffer,y,b)}"quaternion"===r&&(new X5).fromArray(d).normalize().conjugate().toArray(d);for(var x=a.times.length,w=0;w<x;++w){var k=w*c+u;if("quaternion"===r)X5.multiplyQuaternionsFlat(a.values,k,d,0,a.values,k);else for(var S=c-2*u,T=0;T<S;++T)a.values[k+T]-=d[T]}},s=0;s<a;++s)o();return e.blendMode=2501,e}},nre=function(){function e(t,n,r,a){M(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==a?a:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return N(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],a=t[n-1];e:{t:{var i;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<a)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,a)}if(n===o)break;if(a=r,e<(r=t[++n]))break t}i=t.length;break n}if(e>=a)break e;var s=t[1];e<s&&(n=2,a=s);for(var l=n-2;;){if(void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===l)break;if(r=a,e>=(a=t[--n-1]))break t}i=n,n=0}for(;n<i;){var u=n+i>>>1;e<t[u]?i=u:n=u+1}if(r=t[n],void 0===(a=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,a,e)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r,i=0;i!==r;++i)t[i]=n[a+i];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();nre.prototype.beforeStart_=nre.prototype.copySampleValue_,nre.prototype.afterEnd_=nre.prototype.copySampleValue_;var rre=function(e){O(n,e);var t=z(n);function n(e,r,a,i){var o;return M(this,n),(o=t.call(this,e,r,a,i))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:2400,endingEnd:2400},o}return N(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,a=e-2,i=e+1,o=r[a],s=r[i];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:a=e,o=2*t-n;break;case 2402:o=t+r[a=r.length-2]-r[a+1];break;default:a=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:i=e,s=2*n-t;break;case 2402:i=1,s=n+r[1]-r[0];break;default:i=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=a*u,this._offsetNext=i*u}},{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,v=-d*m+2*d*p-d*f,g=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p,x=0;x!==o;++x)a[x]=v*i[u+x]+g*i[l+x]+y*i[s+x]+b*i[c+x];return a}}]),n}(nre),are=function(e){O(n,e);var t=z(n);function n(e,r,a,i){return M(this,n),t.call(this,e,r,a,i)}return N(n,[{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u,d=0;d!==o;++d)a[d]=i[l+d]*c+i[s+d]*u;return a}}]),n}(nre),ire=function(e){O(n,e);var t=z(n);function n(e,r,a,i){return M(this,n),t.call(this,e,r,a,i)}return N(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(nre),ore=function(){function e(t,n,r,a){if(M(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=tre.convertArray(n,this.TimeBufferType),this.values=tre.convertArray(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}return N(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new ire(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new are(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new rre(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,a=0,i=r-1;a!==r&&n[a]<e;)++a;for(;-1!==i&&n[i]>t;)--i;if(++i,0!==a||i!==r){a>=i&&(a=(i=Math.max(i,1))-1);var o=this.getValueSize();this.times=tre.arraySlice(n,a,i),this.values=tre.arraySlice(this.values,a*o,i*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,a=n.length;0===a&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var i=null,o=0;o!==a;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==i&&i>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,i),e=!1;break}i=s}if(void 0!==r&&tre.isTypedArray(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=tre.arraySlice(this.times),t=tre.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),a=e.length-1,i=1,o=1;o<a;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var u=o*n,c=u-n,d=u+n,h=0;h!==n;++h){var f=t[u+h];if(f!==t[c+h]||f!==t[d+h]){s=!0;break}}if(s){if(o!==i){e[i]=e[o];for(var p=o*n,m=i*n,v=0;v!==n;++v)t[m+v]=t[p+v]}++i}}if(a>0){e[i]=e[a];for(var g=a*n,y=i*n,b=0;b!==n;++b)t[y+b]=t[g+b];++i}return i!==e.length?(this.times=tre.arraySlice(e,0,i),this.values=tre.arraySlice(t,0,i*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=tre.arraySlice(this.times,0),t=tre.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:tre.convertArray(e.times,Array),values:tre.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();ore.prototype.TimeBufferType=Float32Array,ore.prototype.ValueBufferType=Float32Array,ore.prototype.DefaultInterpolation=2301;var sre=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n)}(ore);sre.prototype.ValueTypeName="bool",sre.prototype.ValueBufferType=Array,sre.prototype.DefaultInterpolation=2300,sre.prototype.InterpolantFactoryMethodLinear=void 0,sre.prototype.InterpolantFactoryMethodSmooth=void 0;var lre=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n)}(ore);lre.prototype.ValueTypeName="color";var ure=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n)}(ore);ure.prototype.ValueTypeName="number";var cre=function(e){O(n,e);var t=z(n);function n(e,r,a,i){return M(this,n),t.call(this,e,r,a,i)}return N(n,[{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,u=l+o;l!==u;l+=4)X5.slerpFlat(a,0,i,l-o,i,l,s);return a}}]),n}(nre),dre=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new cre(this.times,this.values,this.getValueSize(),e)}}]),n}(ore);dre.prototype.ValueTypeName="quaternion",dre.prototype.DefaultInterpolation=2301,dre.prototype.InterpolantFactoryMethodSmooth=void 0;var hre=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n)}(ore);hre.prototype.ValueTypeName="string",hre.prototype.ValueBufferType=Array,hre.prototype.DefaultInterpolation=2300,hre.prototype.InterpolantFactoryMethodLinear=void 0,hre.prototype.InterpolantFactoryMethodSmooth=void 0;var fre=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n)}(ore);fre.prototype.ValueTypeName="vector";var pre=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2500;M(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=a,this.uuid=M5(),this.duration<0&&this.resetDuration()}return N(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),a=0,i=n.length;a!==i;++a)t.push(mre(n[a]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},a=0,i=n.length;a!==i;++a)t.push(ore.toJSON(n[a]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var a=t.length,i=[],o=0;o<a;o++){var s=[],l=[];s.push((o+a-1)%a,o,(o+1)%a),l.push(0,1,0);var u=tre.getKeyframeOrder(s);s=tre.sortedArray(s,1,u),l=tre.sortedArray(l,1,u),r||0!==s[0]||(s.push(a),l.push(l[0])),i.push(new ure(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new this(e,-1,i)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var a=0;a<n.length;a++)if(n[a].name===t)return n[a];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},a=/^([\w-]*?)([\d]+)$/,i=0,o=e.length;i<o;i++){var s=e[i],l=s.name.match(a);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var d=[];for(var h in r)d.push(this.CreateFromMorphTargetSequence(h,r[h],t,n));return d}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,a){if(0!==n.length){var i=[],o=[];tre.flattenJSON(n,i,o,r),0!==i.length&&a.push(new e(t,i,o))}},r=[],a=e.name||"default",i=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var d={},h=void 0;for(h=0;h<c.length;h++)if(c[h].morphTargets)for(var f=0;f<c[h].morphTargets.length;f++)d[c[h].morphTargets[f]]=-1;for(var p in d){for(var m=[],v=[],g=0;g!==c[h].morphTargets.length;++g){var y=c[h];m.push(y.time),v.push(y.morphTarget===p?1:0)}r.push(new ure(".morphTargetInfluence["+p+"]",m,v))}s=d.length*(i||1)}else{var b=".bones["+t[u].name+"]";n(fre,b+".position",c,"pos",r),n(dre,b+".quaternion",c,"rot",r),n(fre,b+".scale",c,"scl",r)}}return 0===r.length?null:new this(a,s,r,o)}}]),e}();function mre(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ure;case"vector":case"vector2":case"vector3":case"vector4":return fre;case"color":return lre;case"quaternion":return dre;case"bool":case"boolean":return sre;case"string":return hre}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];tre.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var vre={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},gre=new(function(){return N((function e(t,n,r){M(this,e);var a,i=this,o=!1,s=0,l=0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){l++,!1===o&&void 0!==i.onStart&&i.onStart(e,s,l),o=!0},this.itemEnd=function(e){s++,void 0!==i.onProgress&&i.onProgress(e,s,l),s===l&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){return a=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],a=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return a}return null}}))}()),yre=function(){function e(t){M(this,e),this.manager=void 0!==t?t:gre,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return N(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,a){n.load(e,r,t,a)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),bre={},xre=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=vre.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;if(void 0===bre[e]){var o,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var l=s[1],u=!!s[2],c=s[3];c=decodeURIComponent(c),u&&(c=atob(c));try{var d,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var f=new Uint8Array(c.length),p=0;p<c.length;p++)f[p]=c.charCodeAt(p);d="blob"===h?new Blob([f.buffer],{type:l}):f.buffer;break;case"document":var m=new DOMParser;d=m.parseFromString(c,l);break;case"json":d=JSON.parse(c);break;default:d=c}setTimeout((function(){t&&t(d),a.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)}),0)}}else{for(var v in bre[e]=[],bre[e].push({onLoad:t,onProgress:n,onError:r}),(o=new XMLHttpRequest).open("GET",e,!0),o.addEventListener("load",(function(t){var n=this.response,r=bre[e];if(delete bre[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),vre.add(e,n);for(var i=0,o=r.length;i<o;i++){var s=r[i];s.onLoad&&s.onLoad(n)}a.manager.itemEnd(e)}else{for(var l=0,u=r.length;l<u;l++){var c=r[l];c.onError&&c.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}}),!1),o.addEventListener("progress",(function(t){for(var n=bre[e],r=0,a=n.length;r<a;r++){var i=n[r];i.onProgress&&i.onProgress(t)}}),!1),o.addEventListener("error",(function(t){var n=bre[e];delete bre[e];for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onError&&o.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}),!1),o.addEventListener("abort",(function(t){var n=bre[e];delete bre[e];for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onError&&o.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(v,this.requestHeader[v]);o.send(null)}return a.manager.itemStart(e),o}bre[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(yre),wre=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=vre.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;var o=B5("img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),vre.add(e,this),t&&t(this),a.manager.itemEnd(e)}function l(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}]),n}(yre),kre=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"load",value:function(e,t,n,r){var a=new o7,i=new wre(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var o=0;function s(n){i.load(e[n],(function(e){a.images[n]=e,6===++o&&(a.needsUpdate=!0,t&&t(a))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return a}}]),n}(yre),Sre=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new Cte,o=new xre(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,(function(e){var n=a.parse(e);n&&(void 0!==n.image?i.image=n.image:void 0!==n.data&&(i.image.width=n.width,i.image.height=n.height,i.image.data=n.data),i.wrapS=void 0!==n.wrapS?n.wrapS:1001,i.wrapT=void 0!==n.wrapT?n.wrapT:1001,i.magFilter=void 0!==n.magFilter?n.magFilter:1006,i.minFilter=void 0!==n.minFilter?n.minFilter:1006,i.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(i.encoding=n.encoding),void 0!==n.flipY&&(i.flipY=n.flipY),void 0!==n.format&&(i.format=n.format),void 0!==n.type&&(i.type=n.type),void 0!==n.mipmaps&&(i.mipmaps=n.mipmaps,i.minFilter=1008),1===n.mipmapCount&&(i.minFilter=1006),void 0!==n.generateMipmaps&&(i.generateMipmaps=n.generateMipmaps),i.needsUpdate=!0,t&&t(i,n))}),n,r),i}}]),n}(yre),Tre=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"load",value:function(e,t,n,r){var a=new Z5,i=new wre(this.manager);return i.setCrossOrigin(this.crossOrigin),i.setPath(this.path),i.load(e,(function(e){a.image=e,a.needsUpdate=!0,void 0!==t&&t(a)}),n,r),a}}]),n}(yre),Ere=function(e){O(n,e);var t=z(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return M(this,n),(r=t.call(this)).type="Light",r.color=new g8(e),r.intensity=a,r}return N(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=nv(D(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(J6);Ere.prototype.isLight=!0,function(e){O(n,e);var t=z(n);function n(e,r,a){var i;return M(this,n),(i=t.call(this,e,a)).type="HemisphereLight",i.position.copy(J6.DefaultUp),i.updateMatrix(),i.groundColor=new g8(r),i}return N(n,[{key:"copy",value:function(e){return Ere.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),n}(Ere).prototype.isHemisphereLight=!0;var Cre=new C6,_re=new Y5,Mre=new Y5,Are=function(){function e(t){M(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new L5(512,512),this.map=null,this.mapPass=null,this.matrix=new C6,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new p7,this._frameExtents=new L5(1,1),this._viewportCount=1,this._viewports=[new H5(0,0,1,1)]}return N(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;_re.setFromMatrixPosition(e.matrixWorld),t.position.copy(_re),Mre.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Mre),t.updateMatrixWorld(),Cre.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Cre),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),Ire=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.call(this,new a7(50,1,.5,500))).focus=1,e}return N(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*T5*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&a===t.aspect&&i===t.far||(t.fov=r,t.aspect=a,t.far=i,t.updateProjectionMatrix()),nv(D(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(Are);Ire.prototype.isSpotLightShadow=!0;var Nre=function(e){O(n,e);var t=z(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return M(this,n),(a=t.call(this,e,r)).type="SpotLight",a.position.copy(J6.DefaultUp),a.updateMatrix(),a.target=new J6,a.distance=i,a.angle=o,a.penumbra=s,a.decay=l,a.shadow=new Ire,a}return N(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Ere);Nre.prototype.isSpotLight=!0;var Rre=new C6,Ore=new Y5,Dre=new Y5,Pre=function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.call(this,new a7(90,1,.5,500)))._frameExtents=new L5(4,2),e._viewportCount=6,e._viewports=[new H5(2,1,1,1),new H5(0,1,1,1),new H5(3,1,1,1),new H5(1,1,1,1),new H5(3,0,1,1),new H5(1,0,1,1)],e._cubeDirections=[new Y5(1,0,0),new Y5(-1,0,0),new Y5(0,0,1),new Y5(0,0,-1),new Y5(0,1,0),new Y5(0,-1,0)],e._cubeUps=[new Y5(0,1,0),new Y5(0,1,0),new Y5(0,1,0),new Y5(0,1,0),new Y5(0,0,1),new Y5(0,0,-1)],e}return N(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),Ore.setFromMatrixPosition(e.matrixWorld),n.position.copy(Ore),Dre.copy(n.position),Dre.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Dre),n.updateMatrixWorld(),r.makeTranslation(-Ore.x,-Ore.y,-Ore.z),Rre.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Rre)}}]),n}(Are);Pre.prototype.isPointLightShadow=!0;var Lre=function(e){O(n,e);var t=z(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return M(this,n),(a=t.call(this,e,r)).type="PointLight",a.distance=i,a.decay=o,a.shadow=new Pre,a}return N(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(Ere);Lre.prototype.isPointLight=!0;var Fre=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.call(this,new _7(-5,5,5,-5,.5,500))}return N(n)}(Are);Fre.prototype.isDirectionalLightShadow=!0;var jre=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this,e,r)).type="DirectionalLight",a.position.copy(J6.DefaultUp),a.updateMatrix(),a.target=new J6,a.shadow=new Fre,a}return N(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Ere);jre.prototype.isDirectionalLight=!0,function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this,e,r)).type="AmbientLight",a}return N(n)}(Ere).prototype.isAmbientLight=!0,function(e){O(n,e);var t=z(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return M(this,n),(a=t.call(this,e,r)).type="RectAreaLight",a.width=i,a.height=o,a}return N(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=nv(D(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(Ere).prototype.isRectAreaLight=!0;var zre=function(){function e(){M(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Y5)}return N(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.282095),t.addScaledVector(i[1],.488603*r),t.addScaledVector(i[2],.488603*a),t.addScaledVector(i[3],.488603*n),t.addScaledVector(i[4],n*r*1.092548),t.addScaledVector(i[5],r*a*1.092548),t.addScaledVector(i[6],.315392*(3*a*a-1)),t.addScaledVector(i[7],n*a*1.092548),t.addScaledVector(i[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.886227),t.addScaledVector(i[1],1.023328*r),t.addScaledVector(i[2],1.023328*a),t.addScaledVector(i[3],1.023328*n),t.addScaledVector(i[4],.858086*n*r),t.addScaledVector(i[5],.858086*r*a),t.addScaledVector(i[6],.743125*a*a-.247708),t.addScaledVector(i[7],.858086*n*a),t.addScaledVector(i[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-r*r)}}]),e}();zre.prototype.isSphericalHarmonics3=!0;var Bre=function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zre,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return M(this,n),(e=t.call(this,void 0,a)).sh=r,e}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=nv(D(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(Ere);Bre.prototype.isLightProbe=!0;var Ure=function(){function e(){M(this,e)}return N(e,null,[{key:"decodeText",value:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}}]),e}();(function(e){O(n,e);var t=z(n);function n(){var e;return M(this,n),(e=t.call(this)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=nv(D(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n})(R8).prototype.isInstancedBufferGeometry=!0;var Wre,Zre=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),r=t.call(this,e),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return N(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=vre.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(a.options,{colorSpaceConversion:"none"}))})).then((function(n){vre.add(e,n),t&&t(n),a.manager.itemEnd(e)})).catch((function(t){r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)})),a.manager.itemStart(e)}}]),n}(yre);Zre.prototype.isImageBitmapLoader=!0;var Vre=function(e){O(n,e);var t=z(n);function n(e){return M(this,n),t.call(this,e)}return N(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new xre(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(n){try{var i=n.slice(0);(void 0===Wre&&(Wre=new(window.AudioContext||window.webkitAudioContext)),Wre).decodeAudioData(i,(function(e){t(e)}))}catch(t){r?r(t):console.error(t),a.manager.itemError(e)}}),n,r)}}]),n}(yre);(function(e){O(n,e);var t=z(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;M(this,n),a=t.call(this,void 0,i);var o=(new g8).set(e),s=(new g8).set(r),l=new Y5(o.r,o.g,o.b),u=new Y5(s.r,s.g,s.b),c=Math.sqrt(Math.PI),d=c*Math.sqrt(.75);return a.sh.coefficients[0].copy(l).add(u).multiplyScalar(c),a.sh.coefficients[1].copy(l).sub(u).multiplyScalar(d),a}return N(n)})(Bre).prototype.isHemisphereLightProbe=!0,function(e){O(n,e);var t=z(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;M(this,n),r=t.call(this,void 0,a);var i=(new g8).set(e);return r.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return N(n)}(Bre).prototype.isAmbientLightProbe=!0;var Hre=function(){function e(t,n,r){var a,i,o;switch(M(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":a=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":a=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:a=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return N(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,a=e*r+r,i=this.cumulativeWeight;if(0===i){for(var o=0;o!==r;++o)n[a+o]=n[o];i=t}else{var s=t/(i+=t);this._mixBufferRegion(n,a,0,s,r)}this.cumulativeWeight=i}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,a=this.cumulativeWeight,i=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-a,t)}i>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var a=n,i=r;a!==i;++a)t[a]=t[r+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,a){if(r>=.5)for(var i=0;i!==a;++i)e[t+i]=e[n+i]}},{key:"_slerp",value:function(e,t,n,r){X5.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,a){var i=this._workIndex*a;X5.multiplyQuaternionsFlat(e,i,e,t,e,n),X5.slerpFlat(e,t,e,t,e,i,r)}},{key:"_lerp",value:function(e,t,n,r,a){for(var i=1-r,o=0;o!==a;++o){var s=t+o;e[s]=e[s]*i+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,a){for(var i=0;i!==a;++i){var o=t+i;e[o]=e[o]+e[n+i]*r}}}]),e}(),Gre=new RegExp("[\\[\\]\\.:\\/]","g"),qre="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Xre=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Yre=/(WCOD+)?/.source.replace("WCOD",qre),Kre=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Jre=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),$re=new RegExp("^"+Xre+Yre+Kre+Jre+"$"),Qre=["material","materials","bones"],eae=function(){function e(t,n,r){M(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return N(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,a=n.propertyName,i=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var l=t[a];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===a){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=i}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var d=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+a+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Gre,"")}},{key:"parseTrackName",value:function(e){var t=$re.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=n.nodeName.substring(r+1);-1!==Qre.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var a=n[r];if(a.name===t||a.uuid===t)return a;var i=e(a.children);if(i)return i}return null}(e.children);if(r)return r}return null}}]),e}();eae.Composite=function(){function e(t,n,r){M(this,e);var a=r||eae.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,a)}return N(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),eae.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},eae.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},eae.prototype.GetterByBindingType=[eae.prototype._getValue_direct,eae.prototype._getValue_array,eae.prototype._getValue_arrayElement,eae.prototype._getValue_toArray],eae.prototype.SetterByBindingTypeAndVersioning=[[eae.prototype._setValue_direct,eae.prototype._setValue_direct_setNeedsUpdate,eae.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[eae.prototype._setValue_array,eae.prototype._setValue_array_setNeedsUpdate,eae.prototype._setValue_array_setMatrixWorldNeedsUpdate],[eae.prototype._setValue_arrayElement,eae.prototype._setValue_arrayElement_setNeedsUpdate,eae.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[eae.prototype._setValue_fromArray,eae.prototype._setValue_fromArray_setNeedsUpdate,eae.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var tae=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;M(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=a;for(var i=n.tracks,o=i.length,s=new Array(o),l={endingStart:2400,endingEnd:2400},u=0;u!==o;++u){var c=i[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return N(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,a=e._clip.duration,i=a/r,o=r/a;e.warp(1,i,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,a=r.time,i=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=a,s[1]=a+n,l[0]=e/i,l[1]=t/i,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var a=this._startTime;if(null!==a){var i=(e-a)*n;if(i<0||0===n)return;this._startTime=null,t=n*i}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;if(2501===this.blendMode)for(var c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);else for(var h=0,f=l.length;h!==f;++h)l[h].evaluate(o),u[h].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,a=this._loopCount,i=2202===n;if(0===e)return-1===a?r:i&&1==(1&a)?t-r:r;if(2200===n){-1===a&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===a&&(e>=0?(a=0,this._setEndings(!0,0===this.repetitions,i)):this._setEndings(0===this.repetitions,!0,i)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,a+=Math.abs(o);var s=this.repetitions-a;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,i)}else this._setEndings(!1,!1,i);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(i&&1==(1&a))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,a=r.time,i=this._weightInterpolant;null===i&&(i=r._lendControlInterpolant(),this._weightInterpolant=i);var o=i.parameterPositions,s=i.sampleValues;return o[0]=a,s[0]=t,o[1]=a+e,s[1]=n,this}}]),e}(),nae=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return N(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,a=r.length,i=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==a;++c){var d=r[c],h=d.name,f=u[h];if(void 0!==f)i[c]=f;else{if(void 0!==(f=i[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,h));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(f=new Hre(eae.create(n,h,p),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(f,s,h),i[c]=f}o[c].resultBuffer=f.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var a=e._propertyBindings,i=0,o=a.length;i!==o;++i){var s=a[i];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var a=t[n];0==--a.useCount&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,a=this._actionsByClip,i=a[t];if(void 0===i)i={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=i;else{var o=i.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),i.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var a=e._clip.uuid,i=this._actionsByClip,o=i[a],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete i[a],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var a=t[n];0==--a.referenceCount&&this._removeInactiveBinding(a)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,a=this._bindings,i=r[t];void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,a=n.path,i=this._bindingsByRootAndName,o=i[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[a],0===Object.keys(o).length&&delete i[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new are(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=n,t[n]=a}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,a=r.uuid,i="string"==typeof e?pre.findByName(r,e):e,o=null!==i?i.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==i?i.blendMode:2500),void 0!==s){var u=s.actionByRoot[a];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===i&&(i=l._clip)}if(null===i)return null;var c=new tae(this,i,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,a),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,a="string"==typeof e?pre.findByName(n,e):e,i=a?a.uuid:e,o=this._actionsByClip[i];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,a=Math.sign(e),i=this._accuIndex^=1,o=0;o!==n;++o)t[o]._update(r,e,a,i);for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(i);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,a=r[n];if(void 0!==a){for(var i=a.knownActions,o=0,s=i.length;o!==s;++o){var l=i[o];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var a=n[r].actionByRoot[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var i=this._bindingsByRootAndName[t];if(void 0!==i)for(var o in i){var s=i[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(w5);function rae(e,t){return e.distance-t.distance}function aae(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var a=e.children,i=0,o=a.length;i<o;i++)aae(a[i],t,n,!0)}nae.prototype._controlInterpolantsResultBuffer=new Float32Array(1),function(e){O(n,e);var t=z(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return M(this,n),(a=t.call(this,e,r)).meshPerAttribute=i,a}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=nv(D(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=nv(D(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(tte).prototype.isInstancedInterleavedBuffer=!0;var iae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return M(this,e),this.radius=t,this.phi=n,this.theta=r,this}return N(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(A5(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();(function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).material=e,r.render=function(){},r.hasPositions=!1,r.hasNormals=!1,r.hasColors=!1,r.hasUvs=!1,r.positionArray=null,r.normalArray=null,r.colorArray=null,r.uvArray=null,r.count=0,r}return N(n)})(J6).prototype.isImmediateRenderObject=!0;var oae=new Y5,sae=new C6,lae=new C6;function uae(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,uae(e.children[n]));return t}var cae=new Float32Array(1),dae=new Int32Array(cae.buffer),hae=function(){function e(){M(this,e)}return N(e,null,[{key:"toHalfFloat",value:function(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),cae[0]=e;var t=dae[0],n=t>>16&32768,r=t>>12&2047,a=t>>23&255;return a<103?n:a>142?(n|=31744,n|=(255==a?0:1)&&8388607&t):a<113?n|=((r|=2048)>>114-a)+(r>>113-a&1):(n|=a-112<<10|r>>1,n+=1&r)}}]),e}();ene.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(ene.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},xne.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},function(e){O(n,e);var t=z(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;M(this,n),i=new g8(i),o=new g8(o);for(var s=a/2,l=r/a,u=r/2,c=[],d=[],h=0,f=0,p=-u;h<=a;h++,p+=l){c.push(-u,0,p,u,0,p),c.push(p,0,-u,p,0,u);var m=h===s?i:o;m.toArray(d,f),f+=3,m.toArray(d,f),f+=3,m.toArray(d,f),f+=3,m.toArray(d,f),f+=3}var v=new R8;return v.setAttribute("position",new T8(c,3)),v.setAttribute("color",new T8(d,3)),(e=t.call(this,v,new Pte({vertexColors:!0,toneMapped:!1}))).type="GridHelper",e}return N(n)}(Vte).prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},function(e){O(n,e);var t=z(n);function n(e){var r;M(this,n);for(var a=uae(e),i=new R8,o=[],s=[],l=new g8(0,0,1),u=new g8(0,1,0),c=0;c<a.length;c++){var d=a[c];d.parent&&d.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}return i.setAttribute("position",new T8(o,3)),i.setAttribute("color",new T8(s,3)),(r=t.call(this,i,new Pte({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}))).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=a,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return N(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,a=r.getAttribute("position");lae.copy(this.root.matrixWorld).invert();for(var i=0,o=0;i<t.length;i++){var s=t[i];s.parent&&s.parent.isBone&&(sae.multiplyMatrices(lae,s.matrixWorld),oae.setFromMatrixPosition(sae),a.setXYZ(o,oae.x,oae.y,oae.z),sae.multiplyMatrices(lae,s.parent.matrixWorld),oae.setFromMatrixPosition(sae),a.setXYZ(o+1,oae.x,oae.y,oae.z),o+=2)}r.getAttribute("position").needsUpdate=!0,nv(D(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Vte).prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},yre.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ure.extractUrlBase(e)},yre.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},$5.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},$5.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},$5.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},$5.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},$5.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},g6.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},p7.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},j5.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},j5.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},j5.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},j5.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},j5.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},j5.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},C6.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},C6.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},C6.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Y5).setFromMatrixColumn(this,3)},C6.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},C6.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},C6.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},C6.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},C6.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},C6.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},C6.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},C6.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},C6.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},C6.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},C6.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},C6.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},C6.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},C6.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},C6.prototype.makeFrustum=function(e,t,n,r,a,i){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,a,i)},C6.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},d7.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},X5.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},X5.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},E6.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},E6.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},E6.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},l8.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},l8.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},l8.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},l8.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},l8.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},l8.barycoordFromPoint=function(e,t,n,r,a){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),l8.getBarycoord(e,t,n,r,a)},l8.normal=function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),l8.getNormal(e,t,n,r)},wne.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},wne.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Yne(this,e)},wne.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Jne(this,e)},L5.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},L5.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},L5.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Y5.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Y5.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Y5.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},Y5.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},Y5.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},Y5.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},Y5.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Y5.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Y5.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},H5.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},H5.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},J6.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},J6.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},J6.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},J6.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},J6.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(J6.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),K8.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(K8.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Tte.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},a7.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Ere.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(w8.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),w8.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},w8.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},w8.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},R8.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},R8.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new w8(arguments[1],arguments[2])))},R8.prototype.addDrawCall=function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},R8.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},R8.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},R8.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},R8.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(R8.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),tte.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},tte.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Yne.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Yne.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Yne.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},ete.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Object.defineProperties(c8.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new g8}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(n7.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Qee.prototype.clearTarget=function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},Qee.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},Qee.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Qee.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Qee.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Qee.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Qee.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Qee.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Qee.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Qee.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Qee.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Qee.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Qee.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Qee.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Qee.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},Qee.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Qee.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Qee.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Qee.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Qee.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Qee.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Qee.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Qee.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Qee.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Qee.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Qee.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?3001:3e3}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Zee.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(G5.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return N(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(J6).prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Vre).load(e,(function(e){t.setBuffer(e)})),this},i7.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},i7.prototype.clear=function(e,t,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)},U5.crossOrigin=void 0,U5.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var a=new Tre;a.setCrossOrigin(this.crossOrigin);var i=a.load(e,n,void 0,r);return t&&(i.mapping=t),i},U5.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var a=new kre;a.setCrossOrigin(this.crossOrigin);var i=a.load(e,n,void 0,r);return t&&(i.mapping=t),i},U5.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},U5.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"133"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="133");var fae=new WeakMap;function pae(){var e,t;function n(e,t,n,r,a,i){var o=i.num_components(),s=n.num_points()*o,l=s*a.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,a),c=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,i,u,l,c);var d=new a(e.HEAPF32.buffer,c,s).slice();return e._free(c),{name:r,array:d,itemSize:o}}onmessage=function(r){var a=r.data;switch(a.type){case"init":e=a.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var i=a.buffer,o=a.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(i),i.byteLength);try{var l=function(e,t,r,a){var i,o,s=a.attributeIDs,l=a.attributeTypes,u=t.GetEncodedGeometryType(r);if(u===e.TRIANGULAR_MESH)i=new e.Mesh,o=t.DecodeBufferToMesh(r,i);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");i=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,i)}if(!o.ok()||0===i.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var c={index:null,attributes:[]};for(var d in s){var h=self[l[d]],f=void 0,p=void 0;if(a.useUniqueIDs)p=s[d],f=t.GetAttributeByUniqueId(i,p);else{if(-1===(p=t.GetAttributeId(i,e[s[d]])))continue;f=t.GetAttribute(i,p)}c.attributes.push(n(e,t,i,d,h,f))}return u===e.TRIANGULAR_MESH&&(c.index=function(e,t,n){var r=3*n.num_faces(),a=4*r,i=e._malloc(a);t.GetTrianglesUInt32Array(n,a,i);var o=new Uint32Array(e.HEAPF32.buffer,i,r).slice();return e._free(i),{array:o,itemSize:1}}(e,t,i)),e.destroy(i),c}(t,r,s,o),u=l.attributes.map((function(e){return e.array.buffer}));l.index&&u.push(l.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:l},u)}catch(e){console.error(e),self.postMessage({type:"error",id:a.id,error:e.message})}finally{t.destroy(s),t.destroy(r)}}))}}}var mae=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new xae(e)})),r.register((function(e){return new Eae(e)})),r.register((function(e){return new Cae(e)})),r.register((function(e){return new wae(e)})),r.register((function(e){return new kae(e)})),r.register((function(e){return new Sae(e)})),r.register((function(e){return new Tae(e)})),r.register((function(e){return new yae(e)})),r.register((function(e){return new _ae(e)})),r}return N(n,[{key:"load",value:function(e,t,n,r){var a,i=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Ure.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},s=new xre(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{i.parse(n,a,(function(n){t(n),i.manager.itemEnd(e)}),o)}catch(e){o(e)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var a,i={},o={};if("string"==typeof e)a=e;else if(Ure.decodeText(new Uint8Array(e,0,4))===Mae){try{i[gae.KHR_BINARY_GLTF]=new Aae(e)}catch(e){return void(r&&r(e))}a=i[gae.KHR_BINARY_GLTF].content}else a=Ure.decodeText(new Uint8Array(e));var s=JSON.parse(a);if(void 0===s.asset||s.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var l=new Qae(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(var u=0;u<this.pluginCallbacks.length;u++){var c=this.pluginCallbacks[u](l);o[c.name]=c,i[c.name]=!0}if(s.extensionsUsed)for(var d=0;d<s.extensionsUsed.length;++d){var h=s.extensionsUsed[d],f=s.extensionsRequired||[];switch(h){case gae.KHR_MATERIALS_UNLIT:i[h]=new bae;break;case gae.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:i[h]=new Oae;break;case gae.KHR_DRACO_MESH_COMPRESSION:i[h]=new Iae(s,this.dracoLoader);break;case gae.KHR_TEXTURE_TRANSFORM:i[h]=new Nae;break;case gae.KHR_MESH_QUANTIZATION:i[h]=new Dae;break;default:f.indexOf(h)>=0&&void 0===o[h]&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(i),l.setPlugins(o),l.parse(n,r)}}}]),n}(yre);function vae(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var gae={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},yae=function(){function e(t){M(this,e),this.parser=t,this.name=gae.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return N(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var a=t[n];a.extensions&&a.extensions[this.name]&&void 0!==a.extensions[this.name].light&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var a,i=t.json,o=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e],s=new g8(16777215);void 0!==o.color&&s.fromArray(o.color);var l=void 0!==o.range?o.range:0;switch(o.type){case"directional":(a=new jre(s)).target.position.set(0,0,-1),a.add(a.target);break;case"point":(a=new Lre(s)).distance=l;break;case"spot":(a=new Nre(s)).distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),a.decay=2,void 0!==o.intensity&&(a.intensity=o.intensity),a.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then((function(e){return n._getNodeRef(t.cache,a,e)}))}}]),e}(),bae=function(){function e(){M(this,e),this.name=gae.KHR_MATERIALS_UNLIT}return N(e,[{key:"getMaterialType",value:function(){return y8}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new g8(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var i=a.baseColorFactor;e.color.fromArray(i),e.opacity=i[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(r)}}]),e}(),xae=function(){function e(t){M(this,e),this.parser=t,this.name=gae.KHR_MATERIALS_CLEARCOAT}return N(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?ere:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];if(void 0!==i.clearcoatFactor&&(t.clearcoat=i.clearcoatFactor),void 0!==i.clearcoatTexture&&a.push(n.assignTexture(t,"clearcoatMap",i.clearcoatTexture)),void 0!==i.clearcoatRoughnessFactor&&(t.clearcoatRoughness=i.clearcoatRoughnessFactor),void 0!==i.clearcoatRoughnessTexture&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",i.clearcoatRoughnessTexture)),void 0!==i.clearcoatNormalTexture&&(a.push(n.assignTexture(t,"clearcoatNormalMap",i.clearcoatNormalTexture)),void 0!==i.clearcoatNormalTexture.scale)){var o=i.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new L5(o,o)}return Promise.all(a)}}]),e}(),wae=function(){function e(t){M(this,e),this.parser=t,this.name=gae.KHR_MATERIALS_TRANSMISSION}return N(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?ere:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&a.push(n.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(a)}}]),e}(),kae=function(){function e(t){M(this,e),this.parser=t,this.name=gae.KHR_MATERIALS_VOLUME}return N(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?ere:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];t.thickness=void 0!==i.thicknessFactor?i.thicknessFactor:0,void 0!==i.thicknessTexture&&a.push(n.assignTexture(t,"thicknessMap",i.thicknessTexture)),t.attenuationDistance=i.attenuationDistance||0;var o=i.attenuationColor||[1,1,1];return t.attenuationTint=new g8(o[0],o[1],o[2]),Promise.all(a)}}]),e}(),Sae=function(){function e(t){M(this,e),this.parser=t,this.name=gae.KHR_MATERIALS_IOR}return N(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?ere:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),Tae=function(){function e(t){M(this,e),this.parser=t,this.name=gae.KHR_MATERIALS_SPECULAR}return N(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?ere:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];t.specularIntensity=void 0!==i.specularFactor?i.specularFactor:1,void 0!==i.specularTexture&&a.push(n.assignTexture(t,"specularIntensityMap",i.specularTexture));var o=i.specularColorFactor||[1,1,1];return t.specularTint=new g8(o[0],o[1],o[2]),void 0!==i.specularColorTexture&&a.push(n.assignTexture(t,"specularTintMap",i.specularColorTexture).then((function(e){e.encoding=3001}))),Promise.all(a)}}]),e}(),Eae=function(){function e(t){M(this,e),this.parser=t,this.name=gae.KHR_TEXTURE_BASISU}return N(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var a=r.extensions[this.name],i=n.images[a.source],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i,o)}}]),e}(),Cae=function(){function e(t){M(this,e),this.parser=t,this.name=gae.EXT_TEXTURE_WEBP,this.isSupported=null}return N(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;var i=a.extensions[t],o=r.images[i.source],s=n.textureLoader;if(o.uri){var l=n.options.manager.getHandler(o.uri);null!==l&&(s=l)}return this.detectSupport().then((function(a){if(a)return n.loadTextureImage(e,o,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),_ae=function(){function e(t){M(this,e),this.name=gae.EXT_MESHOPT_COMPRESSION,this.parser=t}return N(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([a,i.ready]).then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,a=r.count,o=r.byteStride,s=new ArrayBuffer(a*o),l=new Uint8Array(e[0],t,n);return i.decodeGltfBuffer(new Uint8Array(s),a,o,l,r.mode,r.filter),s}))}return null}}]),e}(),Mae="glTF",Aae=N((function e(t){M(this,e),this.name=gae.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:Ure.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Mae)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,a=new DataView(t,12),i=0;i<r;){var o=a.getUint32(i,!0);i+=4;var s=a.getUint32(i,!0);if(i+=4,1313821514===s){var l=new Uint8Array(t,12+i,o);this.content=Ure.decodeText(l)}else if(5130562===s){var u=12+i;this.body=t.slice(u,u+o)}i+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),Iae=function(){function e(t,n){if(M(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=gae.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return N(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,o={},s={},l={};for(var u in i){var c=Wae[u]||u.toLowerCase();o[c]=i[u]}for(var d in e.attributes){var h=Wae[d]||d.toLowerCase();if(void 0!==i[d]){var f=n.accessors[e.attributes[d]],p=jae[f.componentType];l[h]=p,s[h]=!0===f.normalized}}return t.getDependency("bufferView",a).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],a=s[n];void 0!==a&&(r.normalized=a)}t(e)}),o,l)}))}))}}]),e}(),Nae=function(){function e(){M(this,e),this.name=gae.KHR_TEXTURE_TRANSFORM}return N(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),Rae=function(e){O(n,e);var t=z(n);function n(e){var r;M(this,n),(r=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var a=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),i=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),l=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),u={specular:{value:(new g8).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return r._extraUniforms=u,r.onBeforeCompile=function(e){for(var t in u)e.uniforms[t]=u[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",a).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",l)},Object.defineProperties(F(r),{specular:{get:function(){return u.specular.value},set:function(e){u.specular.value=e}},specularMap:{get:function(){return u.specularMap.value},set:function(e){u.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return u.glossiness.value},set:function(e){u.glossiness.value=e}},glossinessMap:{get:function(){return u.glossinessMap.value},set:function(e){u.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete r.metalness,delete r.roughness,delete r.metalnessMap,delete r.roughnessMap,r.setValues(e),r}return N(n,[{key:"copy",value:function(e){return nv(D(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(Qne),Oae=function(){function e(){M(this,e),this.name=gae.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}return N(e,[{key:"getMaterialType",value:function(){return Rae}},{key:"extendParams",value:function(e,t,n){var r=t.extensions[this.name];e.color=new g8(1,1,1),e.opacity=1;var a=[];if(Array.isArray(r.diffuseFactor)){var i=r.diffuseFactor;e.color.fromArray(i),e.opacity=i[3]}if(void 0!==r.diffuseTexture&&a.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new g8(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new g8(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",o)),a.push(n.assignTexture(e,"specularMap",o))}return Promise.all(a)}},{key:"createMaterial",value:function(e){var t=new Rae(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=0,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}]),e}(),Dae=N((function e(){M(this,e),this.name=gae.KHR_MESH_QUANTIZATION})),Pae=function(e){O(n,e);var t=z(n);function n(e,r,a,i){return M(this,n),t.call(this,e,r,a,i)}return N(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r*3+r,i=0;i!==r;i++)t[i]=n[a+i];return t}}]),n}(nre);Pae.prototype.beforeStart_=Pae.prototype.copySampleValue_,Pae.prototype.afterEnd_=Pae.prototype.copySampleValue_,Pae.prototype.interpolate_=function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,u=r-t,c=(n-t)/u,d=c*c,h=d*c,f=e*l,p=f-l,m=-2*h+3*d,v=h-d,g=1-m,y=v-d+c,b=0;b!==o;b++){var x=i[p+b+o],w=i[p+b+s]*u,k=i[f+b+o],S=i[f+b]*u;a[b]=g*x+y*w+m*k+v*S}return a};var Lae=new X5,Fae=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"interpolate_",value:function(e,t,r,a){var i=nv(D(n.prototype),"interpolate_",this).call(this,e,t,r,a);return Lae.fromArray(i).normalize().toArray(i),i}}]),n}(Pae),jae={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},zae={9728:1003,9729:1006,9984:1004,9985:1007,9986:1005,9987:1008},Bae={33071:1001,33648:1002,10497:1e3},Uae={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Wae={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Zae={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Vae={CUBICSPLINE:void 0,LINEAR:2301,STEP:2300};function Hae(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function Gae(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new Qne({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),e.DefaultMaterial}function qae(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Xae(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Yae(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var a=t.extras.targetNames;if(e.morphTargetInfluences.length===a.length){e.morphTargetDictionary={};for(var i=0,o=a.length;i<o;i++)e.morphTargetDictionary[a[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Kae(e){var t=e.extensions&&e.extensions[gae.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+Jae(t.attributes):e.indices+":"+Jae(e.attributes)+":"+e.mode}function Jae(e){for(var t="",n=Object.keys(e).sort(),r=0,a=n.length;r<a;r++)t+=n[r]+":"+e[n[r]]+";";return t}function $ae(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var Qae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new vae,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new Zre(this.options.manager):this.textureLoader=new Tre(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new xre(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return N(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var i={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};qae(a,i,r),Xae(i,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(i)}))).then((function(){e(i)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,a=t.length;r<a;r++)for(var i=t[r].joints,o=0,s=i.length;o<s;o++)e[i[o]].isBone=!0;for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var a=n.clone();return function e(t,n){var a=r.associations.get(t);null!=a&&r.associations.set(n,a);var i,o=X(t.children.entries());try{for(o.s();!(i=o.n()).done;){var s=(0,Z.Z)(i.value,2),l=s[0];e(s[1],n.children[l])}}catch(JNe){o.e(JNe)}finally{o.f()}}(n,a),a.name+="_instance_"+e.uses[t]++,a}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var a=e(t[r]);a&&n.push(a)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[gae.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,a){n.load(Hae(t.uri,r.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var a=[];return void 0!==r.bufferView?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then((function(e){var a,i,o=e[0],s=Uae[r.type],l=jae[r.componentType],u=l.BYTES_PER_ELEMENT,c=u*s,d=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(h&&h!==c){var p=Math.floor(d/h),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,v=t.cache.get(m);v||(a=new l(o,p*h,r.count*h/u),v=new tte(a,h/u),t.cache.add(m,v)),i=new rte(v,s,d%h/u,f)}else a=null===o?new l(r.count*s):new l(o,d,r.count*s),i=new w8(a,s,f);if(void 0!==r.sparse){var g=Uae.SCALAR,y=jae[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,w=new y(e[1],b,r.sparse.count*g),k=new l(e[2],x,r.sparse.count*s);null!==o&&(i=new w8(i.array.slice(),i.itemSize,i.normalized));for(var S=0,T=w.length;S<T;S++){var E=w[S];if(i.setX(E,k[S*s]),s>=2&&i.setY(E,k[S*s+1]),s>=3&&i.setZ(E,k[S*s+2]),s>=4&&i.setW(E,k[S*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return i}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e],a=t.images[r.source],i=this.textureLoader;if(a.uri){var o=n.manager.getHandler(a.uri);null!==o&&(i=o)}return this.loadTextureImage(e,a,i)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,a=this.json,i=this.options,o=a.textures[e],s=(t.uri||t.bufferView)+":"+o.sampler;if(this.textureCache[s])return this.textureCache[s];var l=self.URL||self.webkitURL,u=t.uri||"",c=!1;if(void 0!==t.bufferView)u=r.getDependency("bufferView",t.bufferView).then((function(e){c=!0;var n=new Blob([e],{type:t.mimeType});return u=l.createObjectURL(n)}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var d=Promise.resolve(u).then((function(e){return new Promise((function(t,r){var a=t;!0===n.isImageBitmapLoader&&(a=function(e){var n=new Z5(e);n.needsUpdate=!0,t(n)}),n.load(Hae(e,i.path),a,void 0,r)}))})).then((function(t){!0===c&&l.revokeObjectURL(u),t.flipY=!1,o.name&&(t.name=o.name);var n=(a.samplers||{})[o.sampler]||{};return t.magFilter=zae[n.magFilter]||1006,t.minFilter=zae[n.minFilter]||1008,t.wrapS=Bae[n.wrapS]||1e3,t.wrapT=Bae[n.wrapT]||1e3,r.associations.set(t,{textures:e}),t})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",u),null}));return this.textureCache[s]=d,d}},{key:"assignTexture",value:function(e,t,n){var r=this;return this.getDependency("texture",n.index).then((function(a){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),r.extensions[gae.KHR_TEXTURE_TRANSFORM]){var i=void 0!==n.extensions?n.extensions[gae.KHR_TEXTURE_TRANSFORM]:void 0;if(i){var o=r.associations.get(a);a=r.extensions[gae.KHR_TEXTURE_TRANSFORM].extendTexture(a,i),r.associations.set(a,o)}}return e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,a=void 0!==t.attributes.color,i=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new Gte,c8.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var l="LineBasicMaterial:"+n.uuid,u=this.cache.get(l);u||(u=new Pte,c8.prototype.copy.call(u,n),u.color.copy(n.color),this.cache.add(l,u)),n=u}if(r||a||i){var c="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),r&&(c+="derivative-tangents:"),a&&(c+="vertex-colors:"),i&&(c+="flat-shading:");var d=this.cache.get(c);d||(d=n.clone(),a&&(d.vertexColors=!0),i&&(d.flatShading=!0),r&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(c,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return Qne}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,a=this.extensions,i=r.materials[e],o={},s=i.extensions||{},l=[];if(s[gae.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=a[gae.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=u.getMaterialType(),l.push(u.extendParams(o,i,n))}else if(s[gae.KHR_MATERIALS_UNLIT]){var c=a[gae.KHR_MATERIALS_UNLIT];t=c.getMaterialType(),l.push(c.extendParams(o,i,n))}else{var d=i.pbrMetallicRoughness||{};if(o.color=new g8(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){var h=d.baseColorFactor;o.color.fromArray(h),o.opacity=h[3]}void 0!==d.baseColorTexture&&l.push(n.assignTexture(o,"map",d.baseColorTexture)),o.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,o.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(l.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),l.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),l.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===i.doubleSided&&(o.side=2);var f=i.alphaMode||"OPAQUE";if("BLEND"===f?(o.transparent=!0,o.depthWrite=!1):(o.format=1022,o.transparent=!1,"MASK"===f&&(o.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&t!==y8&&(l.push(n.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new L5(1,1),void 0!==i.normalTexture.scale)){var p=i.normalTexture.scale;o.normalScale.set(p,p)}return void 0!==i.occlusionTexture&&t!==y8&&(l.push(n.assignTexture(o,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(o.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&t!==y8&&(o.emissive=(new g8).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&t!==y8&&l.push(n.assignTexture(o,"emissiveMap",i.emissiveTexture)),Promise.all(l).then((function(){var r;return r=t===Rae?a[gae.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),i.name&&(r.name=i.name),r.map&&(r.map.encoding=3001),r.emissiveMap&&(r.emissiveMap.encoding=3001),Xae(r,i),n.associations.set(r,{materials:e}),i.extensions&&qae(a,r,i),r}))}},{key:"createUniqueName",value:function(e){for(var t=eae.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function a(e){return n[gae.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return tie(n,e,t)}))}for(var i=[],o=0,s=e.length;o<s;o++){var l=e[o],u=Kae(l),c=r[u];if(c)i.push(c.promise);else{var d;d=l.extensions&&l.extensions[gae.KHR_DRACO_MESH_COMPRESSION]?a(l):tie(new R8,l,t),r[u]={primitive:l,promise:d},i.push(d)}}return Promise.all(i)}},{key:"loadMesh",value:function(e){for(var t=this,n=this.json,r=this.extensions,a=n.meshes[e],i=a.primitives,o=[],s=0,l=i.length;s<l;s++){var u=void 0===i[s].material?Gae(this.cache):this.getDependency("material",i[s].material);o.push(u)}return o.push(t.loadGeometries(i)),Promise.all(o).then((function(n){for(var o=n.slice(0,n.length-1),s=n[n.length-1],l=[],u=0,c=s.length;u<c;u++){var d=s[u],h=i[u],f=void 0,p=o[u];if(4===h.mode||5===h.mode||6===h.mode||void 0===h.mode)!0!==(f=!0===a.isSkinnedMesh?new Tte(d,p):new K8(d,p)).isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),5===h.mode?f.geometry=nie(f.geometry,1):6===h.mode&&(f.geometry=nie(f.geometry,2));else if(1===h.mode)f=new Vte(d,p);else if(3===h.mode)f=new Ute(d,p);else if(2===h.mode)f=new Hte(d,p);else{if(0!==h.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);f=new Jte(d,p)}Object.keys(f.geometry.morphAttributes).length>0&&Yae(f,a),f.name=t.createUniqueName(a.name||"mesh_"+e),Xae(f,a),h.extensions&&qae(r,f,h),t.assignFinalMaterial(f),l.push(f)}for(var m=0,v=l.length;m<v;m++)t.associations.set(l[m],{meshes:e,primitives:m});if(1===l.length)return l[0];var g=new Xee;t.associations.set(g,{meshes:e});for(var y=0,b=l.length;y<b;y++)g.add(l[y]);return g}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new a7(P5.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new _7(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Xae(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],a=[],i=[],o=[],s=0,l=t.channels.length;s<l;s++){var u=t.channels[s],c=t.samplers[u.sampler],d=u.target,h=void 0!==d.node?d.node:d.id,f=void 0!==t.parameters?t.parameters[c.input]:c.input,p=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",f)),a.push(this.getDependency("accessor",p)),i.push(c),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(i),Promise.all(o)]).then((function(n){for(var r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],l=[],u=function(){var e,t=r[c],n=a[c],u=i[c],d=o[c],h=s[c];if(void 0===t)return"continue";switch(t.updateMatrix(),t.matrixAutoUpdate=!0,Zae[h.path]){case Zae.weights:e=ure;break;case Zae.rotation:e=dre;break;default:e=fre}var f=t.name?t.name:t.uuid,p=void 0!==d.interpolation?Vae[d.interpolation]:2301,m=[];Zae[h.path]===Zae.weights?t.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)})):m.push(f);var v=u.array;if(u.normalized){for(var g=$ae(v.constructor),y=new Float32Array(v.length),b=0,x=v.length;b<x;b++)y[b]=v[b]*g;v=y}for(var w=0,k=m.length;w<k;w++){var S=new e(m[w]+"."+Zae[h.path],n.array,v,p);"CUBICSPLINE"===d.interpolation&&(S.createInterpolant=function(e){return new(this instanceof dre?Fae:Pae)(this.times,this.values,this.getValueSize()/3,e)},S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(S)}},c=0,d=r.length;c<d;c++)u();var h=t.name?t.name:"animation_"+e;return new pre(h,void 0,l)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,r=this,a=t.nodes[e],i=a.name?r.createUniqueName(a.name):"";return function(){var t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==a.camera&&t.push(r.getDependency("camera",a.camera).then((function(e){return r._getNodeRef(r.cameraCache,a.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var o;if((o=!0===a.isBone?new Ete:t.length>1?new Xee:1===t.length?t[0]:new J6)!==t[0])for(var s=0,l=t.length;s<l;s++)o.add(t[s]);if(a.name&&(o.userData.name=a.name,o.name=i),Xae(o,a),a.extensions&&qae(n,o,a),void 0!==a.matrix){var u=new C6;u.fromArray(a.matrix),o.applyMatrix4(u)}else void 0!==a.translation&&o.position.fromArray(a.translation),void 0!==a.rotation&&o.quaternion.fromArray(a.rotation),void 0!==a.scale&&o.scale.fromArray(a.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,r=this.json.scenes[e],a=this,i=new Xee;r.name&&(i.name=a.createUniqueName(r.name)),Xae(i,r),r.extensions&&qae(n,i,r);for(var o=r.nodes||[],s=[],l=0,u=o.length;l<u;l++)s.push(eie(o[l],i,t,a));return Promise.all(s).then((function(){return a.associations=function(e){var t,n=new Map,r=X(a.associations);try{for(r.s();!(t=r.n()).done;){var i=(0,Z.Z)(t.value,2),o=i[0],s=i[1];(o instanceof c8||o instanceof Z5)&&n.set(o,s)}}catch(JNe){r.e(JNe)}finally{r.f()}return e.traverse((function(e){var t=a.associations.get(e);null!=t&&n.set(e,t)})),n}(i),i}))}}]),e}();function eie(e,t,n,r){var a=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===a.skin?e:r.getDependency("skin",a.skin).then((function(e){for(var n=[],a=0,i=(t=e).joints.length;a<i;a++)n.push(r.getDependency("node",t.joints[a]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],a=[],i=0,o=n.length;i<o;i++){var s=n[i];if(s){r.push(s);var l=new C6;void 0!==t.inverseBindMatrices&&l.fromArray(t.inverseBindMatrices.array,16*i),a.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[i])}e.bind(new Ate(r,a),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var i=[];if(a.children)for(var o=a.children,s=0,l=o.length;s<l;s++){var u=o[s];i.push(eie(u,e,n,r))}return Promise.all(i)}))}function tie(e,t,n){var r=t.attributes,a=[];function i(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=Wae[o]||o.toLowerCase();s in e.attributes||a.push(i(r[o],s))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(l)}return Xae(e,t),function(e,t,n){var r=t.attributes,a=new $5;if(void 0!==r.POSITION){var i=n.json.accessors[r.POSITION],o=i.min,s=i.max;if(void 0!==o&&void 0!==s){if(a.set(new Y5(o[0],o[1],o[2]),new Y5(s[0],s[1],s[2])),i.normalized){var l=$ae(jae[i.componentType]);a.min.multiplyScalar(l),a.max.multiplyScalar(l)}var u=t.targets;if(void 0!==u){for(var c=new Y5,d=new Y5,h=0,f=u.length;h<f;h++){var p=u[h];if(void 0!==p.POSITION){var m=n.json.accessors[p.POSITION],v=m.min,g=m.max;if(void 0!==v&&void 0!==g){if(d.setX(Math.max(Math.abs(v[0]),Math.abs(g[0]))),d.setY(Math.max(Math.abs(v[1]),Math.abs(g[1]))),d.setZ(Math.max(Math.abs(v[2]),Math.abs(g[2]))),m.normalized){var y=$ae(jae[m.componentType]);d.multiplyScalar(y)}c.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(c)}e.boundingBox=a;var b=new g6;a.getCenter(b.center),b.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=b}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,a=!1,i=0,o=t.length;i<o;i++){var s=t[i];if(void 0!==s.POSITION&&(r=!0),void 0!==s.NORMAL&&(a=!0),r&&a)break}if(!r&&!a)return Promise.resolve(e);for(var l=[],u=[],c=0,d=t.length;c<d;c++){var h=t[c];if(r){var f=void 0!==h.POSITION?n.getDependency("accessor",h.POSITION):e.attributes.position;l.push(f)}if(a){var p=void 0!==h.NORMAL?n.getDependency("accessor",h.NORMAL):e.attributes.normal;u.push(p)}}return Promise.all([Promise.all(l),Promise.all(u)]).then((function(t){var n=t[0],i=t[1];return r&&(e.morphAttributes.position=n),a&&(e.morphAttributes.normal=i),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function nie(e,t){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)r.push(i);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(2===t)for(var l=1;l<=o;l++)s.push(n.getX(0)),s.push(n.getX(l)),s.push(n.getX(l+1));else for(var u=0;u<o;u++)u%2==0?(s.push(n.getX(u)),s.push(n.getX(u+1)),s.push(n.getX(u+2))):(s.push(n.getX(u+2)),s.push(n.getX(u+1)),s.push(n.getX(u)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c}var rie,aie,iie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;M(this,e),this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}return N(e,[{key:"_initWorker",value:function(e){if(!this.workers[e]){var t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}},{key:"_getIdleWorker",value:function(){for(var e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}},{key:"_onMessage",value:function(e,t){var n=this.workersResolve[e];if(n&&n(t),this.queue.length){var r=this.queue.shift(),a=r.resolve,i=r.msg,o=r.transfer;this.workersResolve[e]=a,this.workers[e].postMessage(i,o)}else this.workerStatus^=1<<e}},{key:"setWorkerCreator",value:function(e){this.workerCreator=e}},{key:"setWorkerLimit",value:function(e){this.pool=e}},{key:"postMessage",value:function(e,t){var n=this;return new Promise((function(r){var a=n._getIdleWorker();-1!==a?(n._initWorker(a),n.workerStatus|=1<<a,n.workersResolve[a]=r,n.workers[a].postMessage(e,t)):n.queue.push({resolve:r,msg:e,transfer:t})}))}},{key:"dispose",value:function(){this.workers.forEach((function(e){return e.terminate()})),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}]),e}(),oie=new WeakMap,sie=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).transcoderPath="",r.transcoderBinary=null,r.transcoderPending=null,r.workerPool=new iie,r.workerSourceURL="",r.workerConfig=null,"undefined"!=typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.'),r}return N(n,[{key:"setTranscoderPath",value:function(e){return this.transcoderPath=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerPool.setWorkerLimit(e),this}},{key:"detectSupport",value:function(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}},{key:"dispose",value:function(){return URL.revokeObjectURL(this.workerSourceURL),this.workerPool.dispose(),this}},{key:"init",value:function(){var e=this;if(!this.transcoderPending){var t=new xre(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);var r=t.loadAsync("basis_transcoder.js"),a=new xre(this.manager);a.setPath(this.transcoderPath),a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials);var i=a.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([r,i]).then((function(t){var r=(0,Z.Z)(t,2),a=r[0],i=r[1],o=n.BasisWorker.toString(),s=["/* constants */","let _EngineFormat = "+JSON.stringify(n.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(n.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(n.BasisFormat),"/* basis_transcoder.js */",a,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([s])),e.transcoderBinary=i,e.workerPool.setWorkerCreator((function(){var t=new Worker(e.workerSourceURL),n=e.transcoderBinary.slice(0);return t.postMessage({type:"init",config:e.workerConfig,transcoderBinary:n},[n]),t}))}))}return this.transcoderPending}},{key:"load",value:function(e,t,n,r){var a=this;if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");var i=new xre(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);var o=new Qte;return i.load(e,(function(e){if(oie.has(e))return oie.get(e).promise.then(t).catch(r);a._createTexture([e]).then((function(e){o.copy(e),o.needsUpdate=!0,t&&t(o)})).catch(r)}),n,r),o}},{key:"_createTextureFrom",value:function(e){var t=e.mipmaps,n=e.width,r=e.height,a=e.format,i=e.type,o=e.error,s=e.dfdTransferFn,l=e.dfdFlags;if("error"===i)return Promise.reject(o);var u=new Qte(t,n,r,a,1009);return u.minFilter=1===t.length?1006:1008,u.magFilter=1006,u.generateMipmaps=!1,u.needsUpdate=!0,u.encoding=2===s?3001:3e3,u.premultiplyAlpha=!!(1&l),u}},{key:"_createTexture",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.init().then((function(){return t.workerPool.postMessage({type:"transcode",buffers:e,taskConfig:n},e)})).then((function(e){return t._createTextureFrom(e.data)}));return oie.set(e[0],{promise:r}),r}}]),n}(yre);sie.BasisFormat={ETC1S:0,UASTC_4x4:1},sie.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},sie.EngineFormat={RGBAFormat:1023,RGBA_ASTC_4x4_Format:37808,RGBA_BPTC_Format:36492,RGBA_ETC2_EAC_Format:37496,RGBA_PVRTC_4BPPV1_Format:35842,RGBA_S3TC_DXT5_Format:33779,RGB_ETC1_Format:36196,RGB_ETC2_Format:37492,RGB_PVRTC_4BPPV1_Format:35840,RGB_S3TC_DXT1_Format:33776},sie.BasisWorker=function(){var e,t,n,r=_EngineFormat,a=_TranscoderFormat,i=_BasisFormat;self.addEventListener("message",(function(o){var c,d=o.data;switch(d.type){case"init":e=d.config,c=d.transcoderBinary,t=new Promise((function(e){n={wasmBinary:c,onRuntimeInitialized:e},BASIS(n)})).then((function(){n.initializeBasis(),void 0===n.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}));break;case"transcode":t.then((function(){try{for(var t=function(t){var o=new n.KTX2File(new Uint8Array(t));function c(){o.close(),o.delete()}if(!o.isValid())throw c(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");var d=o.isUASTC()?i.UASTC_4x4:i.ETC1S,h=o.getWidth(),f=o.getHeight(),p=o.getLevels(),m=o.getHasAlpha(),v=o.getDFDTransferFunc(),g=o.getDFDFlags(),y=function(t,n,o,c){for(var d=t===i.ETC1S?s:l,h=0;h<d.length;h++){var f=d[h];if(e[f.if]&&f.basisFormat.includes(t)&&(!f.needsPowerOfTwo||u(n)&&u(o)))return{transcoderFormat:f.transcoderFormat[c?1:0],engineFormat:f.engineFormat[c?1:0]}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),{transcoderFormat:a.RGBA32,engineFormat:r.RGBAFormat}}(d,h,f,m),b=y.transcoderFormat,x=y.engineFormat;if(!h||!f||!p)throw c(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!o.startTranscoding())throw c(),new Error("THREE.KTX2Loader: .startTranscoding failed");for(var w=[],k=0;k<p;k++){var S=o.getImageLevelInfo(k,0,0),T=S.origWidth,E=S.origHeight,C=new Uint8Array(o.getImageTranscodedSizeInBytes(k,0,0,b));if(!o.transcodeImage(C,k,0,0,b,0,-1,-1))throw c(),new Error("THREE.KTX2Loader: .transcodeImage failed.");w.push({data:C,width:T,height:E})}return c(),{width:h,height:f,hasAlpha:m,mipmaps:w,format:x,dfdTransferFn:v,dfdFlags:g}}(d.buffers[0]),o=t.width,c=t.height,h=t.hasAlpha,f=t.mipmaps,p=t.format,m=t.dfdTransferFn,v=t.dfdFlags,g=[],y=0;y<f.length;++y)g.push(f[y].data.buffer);self.postMessage({type:"transcode",id:d.id,width:o,height:c,hasAlpha:h,mipmaps:f,format:p,dfdTransferFn:m,dfdFlags:v},g)}catch(e){console.error(e),self.postMessage({type:"error",id:d.id,error:e.message})}}))}}));var o=[{if:"astcSupported",basisFormat:[i.UASTC_4x4],transcoderFormat:[a.ASTC_4x4,a.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[a.BC7_M5,a.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[a.BC1,a.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[a.ETC1,a.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[a.ETC1,a.ETC1],engineFormat:[r.RGB_ETC1_Format,r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[a.PVRTC1_4_RGB,a.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],s=o.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),l=o.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function u(e){return e<=2||0==(e&e-1)&&0!==e}};var lie,uie,cie,die,hie,fie,pie=Symbol("retainerCount"),mie=Symbol("recentlyUsed"),vie=Symbol("evict"),gie=Symbol("evictionThreshold"),yie=Symbol("cache"),bie=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;M(this,t),this[rie]=new Map,this[aie]=[],this[yie]=e,this[gie]=n}return N(t,[{key:"evictionThreshold",get:function(){return this[gie]},set:function(e){this[gie]=e,this[vie]()}},{key:"cache",get:function(){return this[yie]}},{key:"retainerCount",value:function(e){return this[pie].get(e)||0}},{key:"reset",value:function(){this[pie].clear(),this[mie]=[]}},{key:"retain",value:function(e){this[pie].has(e)||this[pie].set(e,0),this[pie].set(e,this[pie].get(e)+1);var t=this[mie].indexOf(e);-1!==t&&this[mie].splice(t,1),this[mie].unshift(e),this[vie]()}},{key:"release",value:function(e){this[pie].has(e)&&this[pie].set(e,Math.max(this[pie].get(e)-1,0)),this[vie]()}},{key:e,value:function(){if(!(this[mie].length<this[gie]))for(var e=this[mie].length-1;e>=this[gie];--e){var t=this[mie][e];0===this[pie].get(t)&&(this[yie].delete(t),this[mie].splice(e,1))}}}]),t}((rie=pie,aie=mie,vie)),xie=function(e,t){var n,r=new Map,a=X(e.mappings);try{for(a.s();!(n=a.n()).done;){var i,o=n.value,s=X(o.variants);try{for(s.s();!(i=s.n()).done;){var l=i.value;r.set(t[l],{material:null,gltfMaterialIndex:o.material})}}catch(JNe){s.e(JNe)}finally{s.f()}}}catch(JNe){a.e(JNe)}finally{a.f()}return r},wie=function(){function e(t){M(this,e),this.parser=t,this.name="KHR_materials_variants"}return N(e,[{key:"afterRoot",value:function(e){var t=this,n=this.parser,r=n.json;if(void 0===r.extensions||void 0===r.extensions[this.name])return null;var a,i=function(e){var t,n=[],r=new Set,a=X(e);try{for(a.s();!(t=a.n()).done;){for(var i=t.value,o=i,s=0;r.has(o);)o=i+"."+ ++s;r.add(o),n.push(o)}}catch(JNe){a.e(JNe)}finally{a.f()}return n}((r.extensions[this.name].variants||[]).map((function(e){return e.name}))),o=X(e.scenes);try{for(o.s();!(a=o.n()).done;){a.value.traverse((function(e){var a=n.associations.get(e);if(null!=a&&null!=a.meshes)for(var o=a.meshes,s=r.meshes[o].primitives,l=("isMesh"in e?[e]:e.children),u=0;u<s.length;u++){var c=s[u].extensions;c&&c[t.name]&&(l[u].userData.variantMaterials=xie(c[t.name],i))}}))}}catch(JNe){o.e(JNe)}finally{o.f()}return e.userData.variants=i,Promise.resolve()}}]),e}(),kie=new Map,Sie=new Map,Tie=new(function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).decoderPath="",r.decoderConfig={},r.decoderBinary=null,r.decoderPending=null,r.workerLimit=4,r.workerPool=[],r.workerNextTaskID=1,r.workerSourceURL="",r.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},r.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},r}return N(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,r){var a=this,i=new xre(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(e){var n={attributeIDs:a.defaultAttributeIDs,attributeTypes:a.defaultAttributeTypes,useUniqueIDs:!1};a.decodeGeometry(e,n).then(t).catch(r)}),n,r)}},{key:"decodeDracoFile",value:function(e,t,n,r){var a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,a).then(t)}},{key:"decodeGeometry",value:function(e,t){var n=this;for(var r in t.attributeTypes){var a=t.attributeTypes[r];void 0!==a.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=a.name)}var i,o=JSON.stringify(t);if(fae.has(e)){var s=fae.get(e);if(s.key===o)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var l=this.workerNextTaskID++,u=e.byteLength,c=this._getWorker(l,u).then((function(n){return i=n,new Promise((function(n,r){i._callbacks[l]={resolve:n,reject:r},i.postMessage({type:"decode",id:l,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return c.catch((function(){return!0})).then((function(){i&&l&&n._releaseTask(i,l)})),fae.set(e,{key:o,promise:c}),c}},{key:"_createGeometry",value:function(e){var t=new R8;e.index&&t.setIndex(new w8(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],a=r.name,i=r.array,o=r.itemSize;t.setAttribute(a,new w8(i,o))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new xre(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var a=pae.toString(),i=["/* draco decoder */",r,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var a=n.workerPool[n.workerPool.length-1];return a._taskCosts[e]=t,a._taskLoad+=t,a}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),n}(yre)),Eie=new sie,Cie=Symbol("loader"),_ie=Symbol("evictionPolicy"),Mie=Symbol("GLTFInstance"),Aie=function(e,t){O(r,e);var n=z(r);function r(e){var t;return M(this,r),(t=n.call(this))[uie]=(new mae).register((function(e){return new wie(e)})),t[Mie]=e,t[Cie].setDRACOLoader(Tie),t[Cie].setKTX2Loader(Eie),t}return N(r,[{key:t,get:function(){return this.constructor[_ie]}},{key:"preload",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i,o,s=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:function(){},this.dispatchEvent({type:"preload",element:n,src:t}),kie.has(t)){e.next=11;break}if(e.t0=null!=fie,!e.t0){e.next=9;break}return e.t1=this[Cie],e.next=7,fie;case 7:e.t2=e.sent,e.t1.setMeshoptDecoder.call(e.t1,e.t2);case 9:a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=function(e){var t=e.loaded/e.total;n(Math.max(0,Math.min(1,isFinite(t)?t:1)))};return new Promise((function(n,a){t.load(e,n,r,a)}))}(t,this[Cie],(function(e){r(.8*e)})),i=this[Mie],o=a.then((function(e){return i.prepare(e)})).then((function(e){return r(.9),new i(e)})),kie.set(t,o);case 11:return e.next=13,kie.get(t);case 13:Sie.set(t,!0),r&&r(1);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i,o=this,s=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:function(){},e.next=3,this.preload(t,n,r);case 3:return e.next=5,kie.get(t);case 5:return a=e.sent,e.next=8,a.clone();case 8:return i=e.sent,e.abrupt("return",(this[_ie].retain(t),i.dispose=function(){var e=i.dispose,n=!1;return function(){n||(n=!0,e.apply(i),o[_ie].release(t))}}(),i));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"setDRACODecoderLocation",value:function(e){cie=e,Tie.setDecoderPath(e)}},{key:"getDRACODecoderLocation",value:function(){return cie}},{key:"setKTX2TranscoderLocation",value:function(e){die=e,Eie.setTranscoderPath(e)}},{key:"getKTX2TranscoderLocation",value:function(){return die}},{key:"setMeshoptDecoderLocation",value:function(e){var t;hie!==e&&(hie=e,fie=(t=e,new Promise((function(e,n){var r=document.createElement("script");document.body.appendChild(r),r.onload=e,r.onerror=n,r.async=!0,r.src=t}))).then((function(){return MeshoptDecoder.ready})).then((function(){return MeshoptDecoder})))}},{key:"getMeshoptDecoderLocation",value:function(){return hie}},{key:"initializeKTX2Loader",value:function(e){Eie.detectSupport(e)}},{key:"cache",get:function(){return kie}},{key:"clearCache",value:function(){var e=this;kie.forEach((function(t,n){e.delete(n)})),this[_ie].reset()}},{key:"has",value:function(e){return kie.has(e)}},{key:"delete",value:function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.has(t)){e.next=2;break}return e.abrupt("return");case 2:return n=kie.get(t),Sie.delete(t),kie.delete(t),e.next=6,n;case 6:e.sent.dispose();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hasFinishedLoading",value:function(e){return!!Sie.get(e)}}]),r}(w5,(lie=_ie,uie=Cie,_ie));Aie[lie]=new bie(Aie);var Iie=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).element=e||document.createElement("div"),r.element.style.position="absolute",r.element.style.userSelect="none",r.element.setAttribute("draggable",!1),r.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))})),r}return N(n,[{key:"copy",value:function(e,t){return nv(D(n.prototype),"copy",this).call(this,e,t),this.element=e.element.cloneNode(!0),this}}]),n}(J6);Iie.prototype.isCSS2DObject=!0;var Nie=new Y5,Rie=new C6,Oie=new C6,Die=new Y5,Pie=new Y5,Lie=N((function e(){M(this,e);var t,n,r,a,i=this,o={objects:new WeakMap},s=document.createElement("div");function l(e,t,n){if(e.isCSS2DObject){e.onBeforeRender(i,t,n),Nie.setFromMatrixPosition(e.matrixWorld),Nie.applyMatrix4(Oie);var c=e.element;/apple/i.test(navigator.vendor)?c.style.transform="translate(-50%,-50%) translate("+Math.round(Nie.x*r+r)+"px,"+Math.round(-Nie.y*a+a)+"px)":c.style.transform="translate(-50%,-50%) translate("+(Nie.x*r+r)+"px,"+(-Nie.y*a+a)+"px)",c.style.display=e.visible&&Nie.z>=-1&&Nie.z<=1?"":"none";var d={distanceToCameraSquared:u(n,e)};o.objects.set(e,d),c.parentNode!==s&&s.appendChild(c),e.onAfterRender(i,t,n)}for(var h=0,f=e.children.length;h<f;h++)l(e.children[h],t,n)}function u(e,t){return Die.setFromMatrixPosition(e.matrixWorld),Pie.setFromMatrixPosition(t.matrixWorld),Die.distanceToSquared(Pie)}s.style.overflow="hidden",this.domElement=s,this.getSize=function(){return{width:t,height:n}},this.render=function(e,t){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),Rie.copy(t.matrixWorldInverse),Oie.multiplyMatrices(t.projectionMatrix,Rie),l(e,e,t),function(e){for(var t=function(e){var t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}(e).sort((function(e,t){return o.objects.get(e).distanceToCameraSquared-o.objects.get(t).distanceToCameraSquared})),n=t.length,r=0,a=t.length;r<a;r++)t[r].element.style.zIndex=n-r}(e)},this.setSize=function(e,i){r=(t=e)/2,a=(n=i)/2,s.style.width=e+"px",s.style.height=i+"px"}})),Fie=function(e){return e&&"null"!==e?zie(e):null},jie=function(){if(!f5){var e=[];throw u5||e.push("WebXR Device API"),c5||e.push("WebXR Hit Test API"),new Error("The following APIs are required for AR, but are missing in this browser: ".concat(e.join(", ")))}},zie=function(e){return new URL(e,window.location.toString()).toString()},Bie=function(e,t){var n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];null!=n&&self.clearTimeout(n),n=self.setTimeout((function(){n=null,e.apply(void 0,a)}),t)}},Uie=function(e,t,n){return Math.max(t,Math.min(n,e))},Wie=function(){var e=function(){var e,t=X(null!=document.head?Array.from(document.head.querySelectorAll("meta")):[]);try{for(t.s();!(e=t.n()).done;){if("viewport"===e.value.name)return!0}}catch(JNe){t.e(JNe)}finally{t.f()}return!1}();return e||console.warn('No <meta name="viewport"> detected; <model-viewer> will cap pixel density at 1.'),function(){return e?window.devicePixelRatio:1}}(),Zie=function(){var e=new RegExp("[?&]model-viewer-debug-mode(&|$)");return function(){return self.ModelViewerElement&&self.ModelViewerElement.debugMode||self.location&&self.location.search&&self.location.search.match(e)}}(),Vie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))},Hie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;M(this,e),this.velocity=0,this.naturalFrequency=0,this.setDecayTime(t)}return N(e,[{key:"setDecayTime",value:function(e){this.naturalFrequency=1/Math.max(.001,e)}},{key:"update",value:function(e,t,n,r){var a=2e-4*this.naturalFrequency;if(null==e||0===r)return t;if(e===t&&0===this.velocity)return t;if(n<0)return e;var i=e-t,o=this.velocity+this.naturalFrequency*i,s=i+n*o,l=Math.exp(-this.naturalFrequency*n),u=(o-this.naturalFrequency*s)*l,c=-this.naturalFrequency*(u+o*l);return Math.abs(u)<a*Math.abs(r)&&c*i>=0?(this.velocity=0,t):(this.velocity=u,t+s*l)}}]),e}(),Gie=function(e,t){return{type:"number",number:e,unit:t}},qie=function(){var e={};return function(t){var n=t;if(n in e)return e[n];for(var r=[],a=0;t;){if(++a>1e3){t="";break}var i=Xie(t),o=i.nodes[0];if(null==o||0===o.terms.length)break;r.push(o),t=i.remainingInput}return e[n]=r}}(),Xie=function(){var e=/^(\-\-|[a-z\u0240-\uffff])/i,t=/^([\*\+\/]|[\-]\s)/i,n=/^[\),]/;return function(r){for(var a=[];r.length&&(r=r.trim(),!n.test(r));)if("("===r[0]){var i=$ie(r),o=i.nodes;r=i.remainingInput,a.push({type:"function",name:{type:"ident",value:"calc"},arguments:o})}else if(e.test(r)){var s=Yie(r),l=s.nodes[0];if("("===(r=s.remainingInput)[0]){var u=$ie(r),c=u.nodes,d=u.remainingInput;a.push({type:"function",name:l,arguments:c}),r=d}else a.push(l)}else if(t.test(r))a.push({type:"operator",value:r[0]}),r=r.slice(1);else{var h="#"===r[0]?Jie(r):Kie(r),f=h.nodes,p=h.remainingInput;if(0===f.length)break;a.push(f[0]),r=p}return{nodes:[{type:"expression",terms:a}],remainingInput:r}}}(),Yie=function(){var e=/[^a-z0-9_\-\u0240-\uffff]/i;return function(t){var n=t.match(e);return{nodes:[{type:"ident",value:null==n?t:t.substr(0,n.index)}],remainingInput:null==n?"":t.substr(n.index)}}}(),Kie=function(){var e=/[\+\-]?(\d+[\.]\d+|\d+|[\.]\d+)([eE][\+\-]?\d+)?/,t=/^[a-z%]+/i,n=/^(m|mm|cm|rad|deg|[%])$/;return function(r){var a=r.match(e),i=null==a?"0":a[0],o=(r=null==i?r:r.slice(i.length)).match(t),s=null!=o&&""!==o[0]?o[0]:null,l=null==o?r:r.slice(s.length);return null==s||n.test(s)||(s=null),{nodes:[{type:"number",number:parseFloat(i)||0,unit:s}],remainingInput:l}}}(),Jie=function(){var e=/^[a-f0-9]*/i;return function(t){var n=(t=t.slice(1).trim()).match(e);return{nodes:null==n?[]:[{type:"hex",value:n[0]}],remainingInput:null==n?t:t.slice(n[0].length)}}}(),$ie=function(e){var t=[];for(e=e.slice(1).trim();e.length;){var n=Xie(e);if(t.push(n.nodes[0]),","===(e=n.remainingInput.trim())[0])e=e.slice(1).trim();else if(")"===e[0]){e=e.slice(1);break}}return{nodes:t,remainingInput:e}},Qie=Symbol("visitedTypes"),eoe=function(){function e(t){M(this,e),this[Qie]=t}return N(e,[{key:"walk",value:function(e,t){for(var n=e.slice();n.length;){var r=n.shift();switch(this[Qie].indexOf(r.type)>-1&&t(r),r.type){case"expression":n.unshift.apply(n,(0,_.Z)(r.terms));break;case"function":n.unshift.apply(n,[r.name].concat((0,_.Z)(r.arguments)))}}}}]),e}(),toe=Object.freeze({type:"number",number:0,unit:null}),noe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.number,r=e.unit;if(isFinite(n)){if("rad"===e.unit||null==e.unit)return e}else n=t,r="rad";return{type:"number",number:("deg"===r&&null!=n?n:0)*Math.PI/180,unit:"rad"}},roe=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.number,a=e.unit;if(isFinite(r)){if("m"===e.unit)return e}else r=n,a="m";switch(a){default:t=1;break;case"cm":t=.01;break;case"mm":t=.001}return{type:"number",number:t*r,unit:"m"}},aoe=function(){var e=function(e){return e},t={rad:e,deg:noe,m:e,mm:roe,cm:roe};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:toe;isFinite(e.number)||(e.number=n.number,e.unit=n.unit);var r=e.unit;if(null==r)return e;var a=t[r];return null==a?n:a(e)}}(),ioe=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,document.createElement("div"))).normal=new Y5(0,1,0),r.initialized=!1,r.referenceCount=1,r.pivot=document.createElement("div"),r.slot=document.createElement("slot"),r.element.classList.add("annotation-wrapper"),r.slot.name=e.name,r.element.appendChild(r.pivot),r.pivot.appendChild(r.slot),r.updatePosition(e.position),r.updateNormal(e.normal),r}return N(n,[{key:"facingCamera",get:function(){return!this.element.classList.contains("hide")}},{key:"show",value:function(){this.facingCamera&&this.initialized||this.updateVisibility(!0)}},{key:"hide",value:function(){!this.facingCamera&&this.initialized||this.updateVisibility(!1)}},{key:"increment",value:function(){this.referenceCount++}},{key:"decrement",value:function(){return this.referenceCount>0&&--this.referenceCount,0===this.referenceCount}},{key:"updatePosition",value:function(e){if(null!=e){for(var t=qie(e)[0].terms,n=0;n<3;++n)this.position.setComponent(n,aoe(t[n]).number);this.updateMatrixWorld()}}},{key:"updateNormal",value:function(e){if(null!=e)for(var t=qie(e)[0].terms,n=0;n<3;++n)this.normal.setComponent(n,aoe(t[n]).number)}},{key:"orient",value:function(e){this.pivot.style.transform="rotate(".concat(e,"rad)")}},{key:"updateVisibility",value:function(e){e?this.element.classList.remove("hide"):this.element.classList.add("hide"),this.slot.assignedNodes().forEach((function(t){if(t.nodeType===Node.ELEMENT_NODE){var n=t,r=n.dataset.visibilityAttribute;if(null!=r){var a="data-".concat(r);e?n.setAttribute(a,""):n.removeAttribute(a)}n.dispatchEvent(new CustomEvent("hotspot-visibility",{detail:{visible:e}}))}})),this.initialized=!0}}]),n}(Iie),ooe=function(e,t,n){var r=n,a=new Y5;return e.traverse((function(e){var n,i;e.updateWorldMatrix(!1,!1);var o=e.geometry;if(void 0!==o)if(o.isGeometry){var s=o.vertices;for(n=0,i=s.length;n<i;n++)a.copy(s[n]),a.applyMatrix4(e.matrixWorld),r=t(r,a)}else if(o.isBufferGeometry){var l=o.attributes.position;if(void 0!==l){var u=function(e){if(!e.normalized)return 1;var t=e.array;return t instanceof Int8Array?1/127:t instanceof Uint8Array?1/255:t instanceof Int16Array?1/32767:t instanceof Uint16Array?1/65535:1}(l);for(n=0,i=l.count;n<i;n++)a.fromBufferAttribute(l,n),a.multiplyScalar(u),a.applyMatrix4(e.matrixWorld),r=t(r,a)}}})),r},soe=function(e){O(n,e);var t=z(n);function n(e,r,a){var i;return M(this,n),(i=t.call(this)).shadowMaterial=new $ne,i.boundingBox=new $5,i.size=new Y5,i.shadowScale=1,i.isAnimated=!1,i.side="bottom",i.needsUpdate=!1,i.intensity=0,i.castShadow=!0,i.frustumCulled=!1,i.floor=new K8(new g7,i.shadowMaterial),i.floor.rotateX(-Math.PI/2),i.floor.receiveShadow=!0,i.floor.castShadow=!1,i.floor.frustumCulled=!1,i.add(i.floor),e.target.add(F(i)),i.target=e.target,i.setScene(e,r,a),i}return N(n,[{key:"setScene",value:function(e,t,n){if(this.side=n,this.isAnimated=e.animationNames.length>0,this.boundingBox.copy(e.boundingBox),this.size.copy(e.size),"back"===this.side){var r,a,i,o=this.boundingBox,s=o.min,l=o.max;r=[s.z,s.y],s.y=r[0],s.z=r[1],a=[l.z,l.y],l.y=a[0],l.z=a[1],i=[this.size.z,this.size.y],this.size.y=i[0],this.size.z=i[1],this.rotation.x=Math.PI/2,this.rotation.y=Math.PI}else this.rotation.x=0,this.rotation.y=0;var u=this.boundingBox,c=this.size;if(this.isAnimated){var d=2*Math.max(c.x,c.y,c.z);c.y=d,u.expandByVector(c.subScalar(d).multiplyScalar(-.5)),u.max.y=u.min.y+d,c.set(d,d,d)}u.getCenter(this.floor.position);var h=u.max.y+.002*c.y;"bottom"===n?(this.position.y=h,this.position.z=0):(this.position.y=0,this.position.z=h),this.setSoftness(t)}},{key:"setSoftness",value:function(e){var t=Math.pow(2,9-3*e);this.setMapSize(t)}},{key:"setMapSize",value:function(e){var t=this.shadow,n=t.camera,r=t.mapSize,a=t.map,i=this.size,o=this.boundingBox;null!=a&&(a.dispose(),this.shadow.map=null),this.isAnimated&&(e*=2);var s=Math.floor(i.x>i.z?e:e*i.x/i.z),l=Math.floor(i.x>i.z?e*i.z/i.x:e);r.set(s,l);var u=2.5*i.x/s,c=2.5*i.z/l;n.left=-o.max.x-u,n.right=-o.min.x+u,n.bottom=o.min.z-c,n.top=o.max.z+c,this.setScaleAndOffset(this.shadowScale,0),this.floor.scale.set(i.x+2*u,i.z+2*c,1),this.needsUpdate=!0,this.shadow.needsUpdate=!0}},{key:"setIntensity",value:function(e){this.shadowMaterial.opacity=e,e>0?(this.visible=!0,this.floor.visible=!0):(this.visible=!1,this.floor.visible=!1)}},{key:"getIntensity",value:function(){return this.shadowMaterial.opacity}},{key:"setRotation",value:function(e){if("bottom"!==this.side)return this.shadow.camera.up.set(0,1,0),void this.shadow.updateMatrices(this);this.shadow.camera.up.set(Math.sin(e),0,Math.cos(e)),this.shadow.updateMatrices(this)}},{key:"setScaleAndOffset",value:function(e,t){var n=this.size.y,r=this.shadow.camera;this.shadowScale=e,r.near=0,r.far=n-t/e,r.updateProjectionMatrix(),r.scale.setScalar(e);var a=.002*n;this.floor.position.y=2*a-r.far}}]),n}(jre),loe=22.5*Math.PI/180,uoe=Math.sin(loe),coe=Math.tan(loe),doe=new Y5,hoe=new Y5,foe=new Y5,poe=new(function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;M(this,e),this.ray=new E6(t,n),this.near=r,this.far=a,this.camera=null,this.layers=new F6,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return N(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return aae(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(rae),t}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,a=e.length;r<a;r++)aae(e[r],this,n,t);return n.sort(rae),n}}]),e}()),moe=new Y5,voe=new L5,goe=function(e){O(n,e);var t=z(n);function n(e){var r,a=e.canvas,i=e.element,o=e.width,s=e.height;M(this,n),(r=t.call(this)).context=null,r.annotationRenderer=new Lie,r.schemaElement=document.createElement("script"),r.width=1,r.height=1,r.aspect=1,r.renderCount=0,r.externalRenderer=null,r.camera=new a7(45,1,.1,100),r.xrCamera=null,r.url=null,r.target=new J6,r.modelContainer=new J6,r.animationNames=[],r.boundingBox=new $5,r.size=new Y5,r.idealCameraDistance=0,r.fieldOfViewAspect=0,r.framedFieldOfView=45,r.shadow=null,r.shadowIntensity=0,r.shadowSoftness=1,r.exposure=1,r.canScale=!0,r.tightBounds=!1,r.isDirty=!1,r.goalTarget=new Y5,r.targetDamperX=new Hie,r.targetDamperY=new Hie,r.targetDamperZ=new Hie,r._currentGLTF=null,r.cancelPendingSourceChange=null,r.animationsByName=new Map,r.currentAnimationAction=null,r.name="ModelScene",r.element=i,r.canvas=a,r.camera=new a7(45,1,.1,100),r.camera.name="MainCamera",r.add(r.target),r.setSize(o,s),r.target.name="Target",r.modelContainer.name="ModelContainer",r.target.add(r.modelContainer),r.mixer=new nae(r.modelContainer);var l=r.annotationRenderer.domElement,u=l.style;return u.display="none",u.pointerEvents="none",u.position="absolute",u.top="0",r.element.shadowRoot.querySelector(".default").appendChild(l),r.schemaElement.setAttribute("type","application/ld+json"),r}return N(n,[{key:"createContext",value:function(){this.context=this.canvas.getContext("2d")}},{key:"getCamera",value:function(){return null!=this.xrCamera?this.xrCamera:this.camera}},{key:"queueRender",value:function(){this.isDirty=!0}},{key:"shouldRender",value:function(){return this.isDirty}},{key:"hasRendered",value:function(){this.isDirty=!1}},{key:"setObject",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.reset(),this.modelContainer.add(t),e.next=4,this.setupScene();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSource",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i,o,s,l,u,c,d=this,h=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:function(){},t&&t!==this.url){e.next=3;break}return e.abrupt("return",void n(1));case 3:if(this.reset(),this.url=t,null==this.externalRenderer){e.next=8;break}return e.next=6,this.externalRenderer.load(n);case 6:return r=e.sent,e.abrupt("return",(this.idealCameraDistance=r.framedRadius/uoe,this.fieldOfViewAspect=r.fieldOfViewAspect,this.frameModel(),void this.dispatchEvent({type:"model-load",url:this.url})));case 8:return null!=this.cancelPendingSourceChange&&(this.cancelPendingSourceChange(),this.cancelPendingSourceChange=null),e.prev=9,e.next=12,new Promise(function(){var e=mo(fo().mark((function e(r,a){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.cancelPendingSourceChange=function(){return a()},e.prev=1,e.t0=r,e.next=5,d.element[ile].loader.load(t,d.element,n);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),a(e.t2);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}());case 12:a=e.sent,e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(9),null!=e.t0){e.next=19;break}return e.abrupt("return");case 19:throw e.t0;case 20:this.reset(),this.url=t,this._currentGLTF=a,null!=a&&this.modelContainer.add(a.scene),i=a.animations,o=new Map,s=[],l=X(i);try{for(l.s();!(u=l.n()).done;)c=u.value,o.set(c.name,c),s.push(c.name)}catch(JNe){l.e(JNe)}finally{l.f()}return this.animations=i,this.animationsByName=o,this.animationNames=s,e.next=29,this.setupScene();case 29:case"end":return e.stop()}}),e,this,[[9,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setupScene",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.updateBoundingBox(),t=null,e.t0=!0===this.tightBounds,!e.t0){e.next=7;break}return e.next=6,this.element.requestUpdate("cameraTarget");case 6:t=this.getTarget();case 7:this.updateFraming(t),this.frameModel(),this.updateShadow(),this.setShadowIntensity(this.shadowIntensity),this.dispatchEvent({type:"model-load",url:this.url});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.url=null,this.queueRender(),null!=this.shadow&&this.shadow.setIntensity(0);var e=this._currentGLTF;if(null!=e){var t,n=X(this.modelContainer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.modelContainer.remove(r)}}catch(JNe){n.e(JNe)}finally{n.f()}e.dispose(),this._currentGLTF=null}null!=this.currentAnimationAction&&(this.currentAnimationAction.stop(),this.currentAnimationAction=null),this.mixer.stopAllAction(),this.mixer.uncacheRoot(this)}},{key:"currentGLTF",get:function(){return this._currentGLTF}},{key:"setSize",value:function(e,t){if(this.width!==e||this.height!==t){if(this.width=Math.max(e,1),this.height=Math.max(t,1),this.annotationRenderer.setSize(e,t),this.aspect=this.width/this.height,this.frameModel(),null!=this.externalRenderer){var n=Wie();this.externalRenderer.resize(e*n,t*n)}this.queueRender()}}},{key:"updateBoundingBox",value:function(){if(this.target.remove(this.modelContainer),!0===this.tightBounds){this.boundingBox=ooe(this.modelContainer,(function(e,t){return e.expandByPoint(t)}),new $5)}else this.boundingBox.setFromObject(this.modelContainer);this.boundingBox.getSize(this.size),this.target.add(this.modelContainer)}},{key:"updateFraming",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.target.remove(this.modelContainer),null==t&&(t=this.boundingBox.getCenter(new Y5));var n=Math.sqrt(ooe(this.modelContainer,(function(e,n){return Math.max(e,t.distanceToSquared(n))}),0));this.idealCameraDistance=n/uoe,this.fieldOfViewAspect=ooe(this.modelContainer,(function(n,r){r.sub(t);var a=Math.sqrt(r.x*r.x+r.z*r.z);return Math.max(n,a/(e.idealCameraDistance-Math.abs(r.y)))}),0)/coe,this.target.add(this.modelContainer)}},{key:"frameModel",value:function(){var e=coe*Math.max(1,this.fieldOfViewAspect/this.aspect);this.framedFieldOfView=2*Math.atan(e)*180/Math.PI}},{key:"getNDC",value:function(e,t){if(null!=this.xrCamera)voe.set(e/window.screen.width,t/window.screen.height);else{var n=this.element.getBoundingClientRect();voe.set((e-n.x)/this.width,(t-n.y)/this.height)}return voe.multiplyScalar(2).subScalar(1),voe.y*=-1,voe}},{key:"getSize",value:function(){return{width:this.width,height:this.height}}},{key:"setTarget",value:function(e,t,n){this.goalTarget.set(-e,-t,-n)}},{key:"setTargetDamperDecayTime",value:function(e){this.targetDamperX.setDecayTime(e),this.targetDamperY.setDecayTime(e),this.targetDamperZ.setDecayTime(e)}},{key:"getTarget",value:function(){return moe.copy(this.goalTarget).multiplyScalar(-1)}},{key:"jumpToGoal",value:function(){this.updateTarget(1e4)}},{key:"updateTarget",value:function(e){var t=this.goalTarget,n=this.target.position;if(!t.equals(n)){var r=this.idealCameraDistance,a=n.x,i=n.y,o=n.z;a=this.targetDamperX.update(a,t.x,e,r),i=this.targetDamperY.update(i,t.y,e,r),o=this.targetDamperZ.update(o,t.z,e,r),this.target.position.set(a,i,o),this.target.updateMatrixWorld(),this.setShadowRotation(this.yaw),this.queueRender()}}},{key:"pointTowards",value:function(e,t){var n=this.position,r=n.x,a=n.z;this.yaw=Math.atan2(e-r,t-a)}},{key:"yaw",get:function(){return this.rotation.y},set:function(e){this.rotation.y=e,this.updateMatrixWorld(!0),this.setShadowRotation(e),this.queueRender()}},{key:"animationTime",get:function(){return null!=this.currentAnimationAction?this.currentAnimationAction.time:0},set:function(e){this.mixer.setTime(e)}},{key:"duration",get:function(){return null!=this.currentAnimationAction&&this.currentAnimationAction.getClip()?this.currentAnimationAction.getClip().duration:0}},{key:"hasActiveAnimation",get:function(){return null!=this.currentAnimationAction}},{key:"playAnimation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null!=this._currentGLTF){var n=this.animations;if(null!=n&&0!==n.length){var r=null;null!=e&&(r=this.animationsByName.get(e)),null==r&&(r=n[0]);try{var a=this.currentAnimationAction,i=this.mixer.clipAction(r,this);this.currentAnimationAction=i,this.element.paused?this.mixer.stopAllAction():null!=a&&i!==a&&i.crossFadeFrom(a,t,!1),i.enabled=!0,i.play()}catch(e){console.error(e)}}else console.warn("Cannot play animation (model does not have any animations)")}}},{key:"stopAnimation",value:function(){this.currentAnimationAction=null,this.mixer.stopAllAction()}},{key:"updateAnimation",value:function(e){this.mixer.update(e)}},{key:"updateShadow",value:function(){var e=this.shadow;if(null!=e){var t="wall"===this.element.arPlacement?"back":"bottom";e.setScene(this,this.shadowSoftness,t),e.setRotation(this.yaw)}}},{key:"setShadowIntensity",value:function(e){if(this.shadowIntensity=e,null!=this._currentGLTF&&!(e<=0&&null==this.shadow)){if(null==this.shadow){var t="wall"===this.element.arPlacement?"back":"bottom";this.shadow=new soe(this,this.shadowSoftness,t),this.shadow.setRotation(this.yaw)}this.shadow.setIntensity(e)}}},{key:"setShadowSoftness",value:function(e){this.shadowSoftness=e;var t=this.shadow;null!=t&&t.setSoftness(e)}},{key:"setShadowRotation",value:function(e){var t=this.shadow;null!=t&&t.setRotation(e)}},{key:"isShadowDirty",value:function(){var e=this.shadow;if(null==e)return!1;var t=e.needsUpdate;return e.needsUpdate=!1,t}},{key:"setShadowScaleAndOffset",value:function(e,t){var n=this.shadow;null!=n&&n.setScaleAndOffset(e,t)}},{key:"raycaster",get:function(){return poe}},{key:"positionAndNormalFromPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this.raycaster.setFromCamera(e,this.getCamera());var n=this.raycaster.intersectObject(t,!0);if(0===n.length)return null;var r=n[0];return null==r.face?null:(r.face.normal.applyNormalMatrix((new j5).getNormalMatrix(r.object.matrixWorld)),{position:r.point,normal:r.face.normal})}},{key:"addHotspot",value:function(e){this.target.add(e),this.annotationRenderer.domElement.appendChild(e.element)}},{key:"removeHotspot",value:function(e){this.target.remove(e)}},{key:"forHotspots",value:function(e){for(var t=this.target.children,n=0,r=t.length;n<r;n++){var a=t[n];a instanceof ioe&&e(a)}}},{key:"updateHotspots",value:function(e){var t=this;this.forHotspots((function(n){doe.copy(e),hoe.setFromMatrixPosition(n.matrixWorld),doe.sub(hoe),foe.copy(n.normal).transformDirection(t.target.matrixWorld),doe.dot(foe)<0?n.hide():n.show()}))}},{key:"orientHotspots",value:function(e){this.forHotspots((function(t){t.orient(e)}))}},{key:"setHotspotsVisibility",value:function(e){this.forHotspots((function(t){t.visible=e}))}},{key:"updateSchema",value:function(e){var t,n=this.schemaElement,r=this.element,a=r.alt,i=r.poster,o=r.iosSrc;if(null!=e){var s=[{"@type":"MediaObject",contentUrl:e,encodingFormat:"gltf"===(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase())?"model/gltf+json":"model/gltf-binary"}];o&&s.push({"@type":"MediaObject",contentUrl:o,encodingFormat:"model/vnd.usdz+zip"});var l={"@context":"http://schema.org/","@type":"3DModel",image:null!=i?i:void 0,name:null!=a?a:void 0,encoding:s};n.textContent=JSON.stringify(l),document.head.appendChild(n)}else null!=n.parentElement&&n.parentElement.removeChild(n)}}]),n}(ete),yoe=function(){var e=new M7({uniforms:{roughnessMap:{value:null},normalMap:{value:null},texelSize:{value:new L5(1,1)}},vertexShader:"\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec2 uv;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\n\t\t\t\tvUv = uv;\n\n\t\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t\t}\n\t\t",fragmentShader:"\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\tuniform sampler2D roughnessMap;\n\t\t\tuniform sampler2D normalMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\n\t\t\tvec4 envMapTexelToLinear( vec4 a ) { return a; }\n\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tfloat roughnessToVariance( float roughness ) {\n\n\t\t\t\tfloat variance = 0.0;\n\n\t\t\t\tif ( roughness >= r1 ) {\n\n\t\t\t\t\tvariance = ( r0 - roughness ) * ( v1 - v0 ) / ( r0 - r1 ) + v0;\n\n\t\t\t\t} else if ( roughness >= r4 ) {\n\n\t\t\t\t\tvariance = ( r1 - roughness ) * ( v4 - v1 ) / ( r1 - r4 ) + v1;\n\n\t\t\t\t} else if ( roughness >= r5 ) {\n\n\t\t\t\t\tvariance = ( r4 - roughness ) * ( v5 - v4 ) / ( r4 - r5 ) + v4;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfloat roughness2 = roughness * roughness;\n\n\t\t\t\t\tvariance = 1.79 * roughness2 * roughness2;\n\n\t\t\t\t}\n\n\t\t\t\treturn variance;\n\n\t\t\t}\n\n\t\t\tfloat varianceToRoughness( float variance ) {\n\n\t\t\t\tfloat roughness = 0.0;\n\n\t\t\t\tif ( variance >= v1 ) {\n\n\t\t\t\t\troughness = ( v0 - variance ) * ( r1 - r0 ) / ( v0 - v1 ) + r0;\n\n\t\t\t\t} else if ( variance >= v4 ) {\n\n\t\t\t\t\troughness = ( v1 - variance ) * ( r4 - r1 ) / ( v1 - v4 ) + r1;\n\n\t\t\t\t} else if ( variance >= v5 ) {\n\n\t\t\t\t\troughness = ( v4 - variance ) * ( r5 - r4 ) / ( v4 - v5 ) + r4;\n\n\t\t\t\t} else {\n\n\t\t\t\t\troughness = pow( 0.559 * variance, 0.25 ); // 0.559 = 1.0 / 1.79\n\n\t\t\t\t}\n\n\t\t\t\treturn roughness;\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = texture2D( roughnessMap, vUv, - 1.0 );\n\n\t\t\t\tif ( texelSize.x == 0.0 ) return;\n\n\t\t\t\tfloat roughness = gl_FragColor.g;\n\n\t\t\t\tfloat variance = roughnessToVariance( roughness );\n\n\t\t\t\tvec3 avgNormal;\n\n\t\t\t\tfor ( float x = - 1.0; x < 2.0; x += 2.0 ) {\n\n\t\t\t\t\tfor ( float y = - 1.0; y < 2.0; y += 2.0 ) {\n\n\t\t\t\t\t\tvec2 uv = vUv + vec2( x, y ) * 0.25 * texelSize;\n\n\t\t\t\t\t\tavgNormal += normalize( texture2D( normalMap, uv, - 1.0 ).xyz - 0.5 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvariance += 1.0 - 0.25 * length( avgNormal );\n\n\t\t\t\tgl_FragColor.g = varianceToRoughness( variance );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return e.type="RoughnessMipmapper",e}(),boe=new K8(new g7(2,2),yoe),xoe=new _7(0,1,0,1,0,1),woe=null,koe=null,Soe=function(){function e(t){M(this,e),(koe=t).compile(boe,xoe)}return N(e,[{key:"generateMipmaps",value:function(e){if("roughnessMap"in e!=0){var t=e.roughnessMap,n=e.normalMap;if(null!==t&&null!==n&&t.generateMipmaps&&!e.userData.roughnessUpdated){e.userData.roughnessUpdated=!0;var r=Math.max(t.image.width,n.image.width),a=Math.max(t.image.height,n.image.height);if(P5.isPowerOfTwo(r)&&P5.isPowerOfTwo(a)){var i=koe.getRenderTarget(),o=koe.autoClear;if(koe.autoClear=!1,null!==woe&&woe.width===r&&woe.height===a||(null!==woe&&woe.dispose(),(woe=new G5(r,a,{depthBuffer:!1})).scissorTest=!0),r!==t.image.width||a!==t.image.height){var s={wrapS:t.wrapS,wrapT:t.wrapT,magFilter:t.magFilter,minFilter:t.minFilter,depthBuffer:!1},l=new G5(r,a,s);l.texture.generateMipmaps=!0,koe.setRenderTarget(l),e.roughnessMap=l.texture,e.metalnessMap==t&&(e.metalnessMap=e.roughnessMap),e.aoMap==t&&(e.aoMap=e.roughnessMap),e.roughnessMap.offset.copy(t.offset),e.roughnessMap.repeat.copy(t.repeat),e.roughnessMap.center.copy(t.center),e.roughnessMap.rotation=t.rotation,e.roughnessMap.matrixAutoUpdate=t.matrixAutoUpdate,e.roughnessMap.matrix.copy(t.matrix)}yoe.uniforms.roughnessMap.value=t,yoe.uniforms.normalMap.value=n;for(var u=new L5(0,0),c=yoe.uniforms.texelSize.value,d=0;r>=1&&a>=1;++d,r/=2,a/=2)c.set(1/r,1/a),0==d&&c.set(0,0),woe.viewport.set(u.x,u.y,r,a),woe.scissor.set(u.x,u.y,r,a),koe.setRenderTarget(woe),koe.render(boe,xoe),koe.copyFramebufferToTexture(u,e.roughnessMap,d),yoe.uniforms.roughnessMap.value=e.roughnessMap;t!==e.roughnessMap&&t.dispose(),koe.setRenderTarget(i),koe.autoClear=o}}}}},{key:"dispose",value:function(){yoe.dispose(),boe.geometry.dispose(),null!=woe&&woe.dispose()}}]),e}(),Toe=function(e,t,n,r){for(var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Eoe=Symbol("currentEnvironmentMap"),Coe=Symbol("applyEnvironmentMap"),_oe=Symbol("updateEnvironment"),Moe=Symbol("cancelEnvironmentUpdate"),Aoe=Symbol("onPreload"),Ioe=function(){function e(t,n,r,a,i){var o=this;M(this,e),this.xrLight=t,this.renderer=n,this.lightProbe=r,this.xrWebGLBinding=null,this.estimationStartCallback=i,this.frameCallback=this.onXRFrame.bind(this);var s=n.xr.getSession();if(a&&"XRWebGLBinding"in window){var l=new s7(16);t.environment=l.texture;var u=n.getContext();switch(s.preferredReflectionFormat){case"srgba8":u.getExtension("EXT_sRGB");break;case"rgba16f":u.getExtension("OES_texture_half_float")}this.xrWebGLBinding=new XRWebGLBinding(s,u),this.lightProbe.addEventListener("reflectionchange",(function(){o.updateReflection()}))}s.requestAnimationFrame(this.frameCallback)}return N(e,[{key:"updateReflection",value:function(){var e=this.renderer.properties.get(this.xrLight.environment);if(e){var t=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);t&&(e.__webglTexture=t)}}},{key:"onXRFrame",value:function(e,t){if(this.xrLight){t.session.requestAnimationFrame(this.frameCallback);var n=t.getLightEstimate(this.lightProbe);if(n){this.xrLight.lightProbe.sh.fromArray(n.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;var r=Math.max(1,Math.max(n.primaryLightIntensity.x,Math.max(n.primaryLightIntensity.y,n.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(n.primaryLightIntensity.x/r,n.primaryLightIntensity.y/r,n.primaryLightIntensity.z/r),this.xrLight.directionalLight.intensity=r,this.xrLight.directionalLight.position.copy(n.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}}},{key:"dispose",value:function(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}]),e}(),Noe=function(e){O(n,e);var t=z(n);function n(e){var r,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];M(this,n),(r=t.call(this)).lightProbe=new Bre,r.lightProbe.intensity=0,r.add(r.lightProbe),r.directionalLight=new jre,r.directionalLight.intensity=0,r.add(r.directionalLight),r.environment=null;var i=null,o=!1;return e.xr.addEventListener("sessionstart",(function(){var t=e.xr.getSession();"requestLightProbe"in t&&t.requestLightProbe({reflectionFormat:t.preferredReflectionFormat}).then((function(t){i=new Ioe(F(r),e,t,a,(function(){o=!0,r.dispatchEvent({type:"estimationstart"})}))}))})),e.xr.addEventListener("sessionend",(function(){i&&(i.dispose(),i=null),o&&r.dispatchEvent({type:"estimationend"})})),r.dispose=function(){i&&(i.dispose(),i=null),r.remove(r.lightProbe),r.lightProbe=null,r.remove(r.directionalLight),r.directionalLight=null,r.environment=null},r}return N(n)}(Xee),Roe=Math.PI/24,Ooe=new L5,Doe=function(e,t,n){for(var r=t>0?n>0?0:-Math.PI/2:n>0?Math.PI/2:Math.PI,a=0;a<=12;++a)e.push(t+.17*Math.cos(r),n+.17*Math.sin(r),0,t+.2*Math.cos(r),n+.2*Math.sin(r),0),r+=Roe},Poe=function(e){O(n,e);var t=z(n);function n(e,r){var a;M(this,n);var i=new R8,o=[],s=[],l=e.size,u=e.boundingBox,c=l.x/2,d=("back"===r?l.y:l.z)/2;Doe(s,c,d),Doe(s,-c,d),Doe(s,-c,-d),Doe(s,c,-d);for(var h=s.length/3,f=0;f<h-2;f+=2)o.push(f,f+1,f+3,f,f+3,f+2);var p=h-2;o.push(p,p+1,1,p,1,0),i.setAttribute("position",new T8(s,3)),i.setIndex(o),(a=t.call(this,i)).side=r;var m=a.material;switch(m.side=2,m.transparent=!0,m.opacity=0,a.goalOpacity=0,a.opacityDamper=new Hie,a.hitPlane=new K8(new g7(2*(c+.2),2*(d+.2))),a.hitPlane.visible=!1,a.add(a.hitPlane),u.getCenter(a.position),r){case"bottom":a.rotateX(-Math.PI/2),a.shadowHeight=u.min.y,a.position.y=a.shadowHeight;break;case"back":a.shadowHeight=u.min.z,a.position.z=a.shadowHeight}return e.target.add(F(a)),a}return N(n,[{key:"getHit",value:function(e,t,n){Ooe.set(t,-n),this.hitPlane.visible=!0;var r=e.positionAndNormalFromPoint(Ooe,this.hitPlane);return this.hitPlane.visible=!1,null==r?null:r.position}},{key:"getExpandedHit",value:function(e,t,n){this.hitPlane.scale.set(1e3,1e3,1e3);var r=this.getHit(e,t,n);return this.hitPlane.scale.set(1,1,1),r}},{key:"offsetHeight",get:function(){return"back"===this.side?this.position.z-this.shadowHeight:this.position.y-this.shadowHeight},set:function(e){"back"===this.side?this.position.z=this.shadowHeight+e:this.position.y=this.shadowHeight+e}},{key:"show",set:function(e){this.goalOpacity=e?.75:0}},{key:"updateOpacity",value:function(e){var t=this.material;t.opacity=this.opacityDamper.update(t.opacity,this.goalOpacity,e,1),this.visible=t.opacity>0}},{key:"dispose",value:function(){var e,t=this.hitPlane,n=t.geometry,r=t.material;n.dispose(),r.dispose(),this.geometry.dispose(),this.material.dispose(),null===(e=this.parent)||void 0===e||e.remove(this)}}]),n}(K8),Loe="not-presenting",Foe="session-started",joe="tracking",zoe=new Y5,Boe=new C6,Uoe=new Y5,Woe=new a7(45,1,.1,100),Zoe=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).renderer=e,r.currentSession=null,r.placeOnWall=!1,r.placementBox=null,r.lastTick=null,r.turntableRotation=null,r.oldShadowIntensity=null,r.oldBackground=null,r.oldEnvironment=null,r.frame=null,r.initialHitSource=null,r.transientHitTestSource=null,r.inputSource=null,r._presentedScene=null,r.resolveCleanup=null,r.exitWebXRButtonContainer=null,r.overlay=null,r.xrLight=null,r.tracking=!0,r.frames=0,r.initialized=!1,r.oldTarget=new Y5,r.oldFramedFieldOfView=45,r.placementComplete=!1,r.isTranslating=!1,r.isRotating=!1,r.isTwoFingering=!1,r.lastDragPosition=new Y5,r.firstRatio=0,r.lastAngle=0,r.goalPosition=new Y5,r.goalYaw=0,r.goalScale=1,r.xDamper=new Hie,r.yDamper=new Hie,r.zDamper=new Hie,r.yawDamper=new Hie,r.scaleDamper=new Hie,r.onExitWebXRButtonContainerClick=function(){return r.stopPresenting()},r.onUpdateScene=function(){null!=r.placementBox&&r.isPresenting&&(r.placementBox.dispose(),r.placementBox=new Poe(r.presentedScene,r.placeOnWall?"back":"bottom"))},r.onSelectStart=function(e){var t=r.transientHitTestSource;if(null!=t){var n=r.frame.getHitTestResultsForTransientInput(t),a=r.presentedScene,i=r.placementBox;if(1===n.length){r.inputSource=e.inputSource;var o=r.inputSource.gamepad.axes,s=i.getHit(r.presentedScene,o[0],o[1]);i.show=!0,null!=s?(r.isTranslating=!0,r.lastDragPosition.copy(s)):!1===r.placeOnWall&&(r.isRotating=!0,r.lastAngle=1.5*o[0])}else if(2===n.length){i.show=!0,r.isTwoFingering=!0;var l=r.fingerPolar(n).separation;r.firstRatio=l/a.scale.x}}},r.onSelectEnd=function(){r.isTranslating=!1,r.isRotating=!1,r.isTwoFingering=!1,r.inputSource=null,r.goalPosition.y+=r.placementBox.offsetHeight*r.presentedScene.scale.x,r.placementBox.show=!1},r.threeRenderer=e.threeRenderer,r.threeRenderer.xr.enabled=!0,r}return N(n,[{key:"resolveARSession",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jie(),e.next=3,navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test"],optionalFeatures:["dom-overlay","light-estimation"],domOverlay:{root:this.overlay}});case 3:return t=e.sent,this.threeRenderer.xr.setReferenceSpaceType("local"),e.next=7,this.threeRenderer.xr.setSession(t);case 7:return this.threeRenderer.xr.cameraAutoUpdate=!1,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"presentedScene",get:function(){return this._presentedScene}},{key:"supportsPresentation",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,jie(),e.next=4,navigator.xr.isSessionSupported("immersive-ar");case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(console.warn("Request to present in WebXR denied:"),console.warn(e.t0),console.warn("Falling back to next ar-mode"),!1));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"present",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i,o,s,l,u=this,c=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],this.isPresenting&&console.warn("Cannot present while a model is already presenting"),r=new Promise((function(e,t){requestAnimationFrame((function(){return e()}))})),t.setHotspotsVisibility(!1),t.queueRender(),e.next=7,r;case 7:return this._presentedScene=t,this.overlay=t.element.shadowRoot.querySelector("div.default"),!0===n&&(this.xrLight=new Noe(this.threeRenderer),this.xrLight.addEventListener("estimationstart",(function(){if(u.isPresenting&&null!=u.xrLight){var e=u.presentedScene;e.add(u.xrLight),u.oldEnvironment=e.environment,e.environment=u.xrLight.environment}}))),e.next=12,this.resolveARSession();case 12:return(a=e.sent).addEventListener("end",(function(){u.postSessionCleanup()}),{once:!0}),(i=t.element.shadowRoot.querySelector(".slot.exit-webxr-ar-button")).classList.add("enabled"),i.addEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=i,e.next=18,a.requestReferenceSpace("viewer");case 18:o=e.sent,this.tracking=!0,this.frames=0,this.initialized=!1,this.turntableRotation=t.yaw,this.goalYaw=t.yaw,this.goalScale=1,this.oldBackground=t.background,t.background=null,this.oldShadowIntensity=t.shadowIntensity,t.setShadowIntensity(0),this.oldTarget.copy(t.getTarget()),this.oldFramedFieldOfView=t.framedFieldOfView,t.addEventListener("model-load",this.onUpdateScene),s=20*Math.PI/180,l=!0===this.placeOnWall?void 0:new XRRay(new DOMPoint(0,0,0),{x:0,y:-Math.sin(s),z:-Math.cos(s)}),a.requestHitTestSource({space:o,offsetRay:l}).then((function(e){u.initialHitSource=e})),this.currentSession=a,this.placementBox=new Poe(t,this.placeOnWall?"back":"bottom"),this.placementComplete=!1,this.lastTick=performance.now(),this.dispatchEvent({type:"status",status:Foe});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopPresenting",value:function(){var e=mo(fo().mark((function e(){var t,n=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPresenting){e.next=2;break}return e.abrupt("return");case 2:return t=new Promise((function(e){n.resolveCleanup=e})),e.prev=3,e.next=6,this.currentSession.end();case 6:return e.next=8,t;case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn("Error while trying to end WebXR AR session"),console.warn(e.t0),this.postSessionCleanup();case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"isPresenting",get:function(){return null!=this.presentedScene}},{key:"target",get:function(){return this.oldTarget}},{key:"updateTarget",value:function(){var e=this.presentedScene;if(null!=e){var t=e.getTarget();this.oldTarget.copy(t),this.placeOnWall?t.z=e.boundingBox.min.z:t.y=e.boundingBox.min.y,e.setTarget(t.x,t.y,t.z)}}},{key:"postSessionCleanup",value:function(){var e=this.currentSession;null!=e&&(e.removeEventListener("selectstart",this.onSelectStart),e.removeEventListener("selectend",this.onSelectEnd),this.currentSession=null);var t=this.presentedScene;if(null!=t){var n=t.element;null!=this.xrLight&&(t.remove(this.xrLight),null!=this.oldEnvironment&&(t.environment=this.oldEnvironment,this.oldEnvironment=null),this.xrLight.dispose(),this.xrLight=null),t.position.set(0,0,0),t.scale.set(1,1,1),t.setShadowScaleAndOffset(1,0);var r=this.turntableRotation;null!=r&&(t.yaw=r);var a=this.oldShadowIntensity;null!=a&&t.setShadowIntensity(a);var i=this.oldBackground;null!=i&&(t.background=i);var o=this.oldTarget;t.setTarget(o.x,o.y,o.z),t.framedFieldOfView=this.oldFramedFieldOfView,t.xrCamera=null,t.removeEventListener("model-load",this.onUpdateScene),t.orientHotspots(0),n.requestUpdate("cameraTarget"),n.requestUpdate("maxCameraOrbit"),n[ale](n.getBoundingClientRect())}this.renderer.height=0;var s=this.exitWebXRButtonContainer;null!=s&&(s.classList.remove("enabled"),s.removeEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=null);var l=this.transientHitTestSource;null!=l&&(l.cancel(),this.transientHitTestSource=null);var u=this.initialHitSource;null!=u&&(u.cancel(),this.initialHitSource=null),null!=this.placementBox&&(this.placementBox.dispose(),this.placementBox=null),this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.oldBackground=null,this._presentedScene=null,this.frame=null,this.inputSource=null,this.overlay=null,null!=this.resolveCleanup&&this.resolveCleanup(),this.dispatchEvent({type:"status",status:Loe})}},{key:"updateView",value:function(e){var t=this.presentedScene,n=this.threeRenderer.xr;n.updateCamera(Woe),t.xrCamera=n.getCamera();var r=t.getCamera().matrixWorld.elements;if(t.orientHotspots(Math.atan2(r[1],r[5])),this.initialized||(this.placeInitially(),this.initialized=!0),e.requestViewportScale&&e.recommendedViewportScale){var a=e.recommendedViewportScale;e.requestViewportScale(Math.max(a,.25))}var i=this.currentSession.renderState.baseLayer.getViewport(e);this.threeRenderer.setViewport(i.x,i.y,i.width,i.height)}},{key:"placeInitially",value:function(){var e=this,t=this.presentedScene,n=t.position,r=t.element,a=t.getCamera(),i=this.overlay.getBoundingClientRect(),o=i.width,s=i.height;t.setSize(o,s),a.projectionMatrixInverse.copy(a.projectionMatrix).invert();var l=r.getCameraOrbit(),u=l.theta,c=l.radius,d=a.getWorldDirection(zoe);t.yaw=Math.atan2(-d.x,-d.z)-u,this.goalYaw=t.yaw,n.copy(a.position).add(d.multiplyScalar(c)),this.updateTarget();var h=t.getTarget();n.add(h).sub(this.oldTarget),this.goalPosition.copy(n),t.setHotspotsVisibility(!0);var f=this.frame.session;f.addEventListener("selectstart",this.onSelectStart),f.addEventListener("selectend",this.onSelectEnd),f.requestHitTestSourceForTransientInput({profile:"generic-touchscreen"}).then((function(t){e.transientHitTestSource=t}))}},{key:"getTouchLocation",value:function(){var e=this.inputSource.gamepad.axes,t=this.placementBox.getExpandedHit(this.presentedScene,e[0],e[1]);return null!=t&&(zoe.copy(t).sub(this.presentedScene.getCamera().position),zoe.length()>10)?null:t}},{key:"getHitPoint",value:function(e){var t=this.threeRenderer.xr.getReferenceSpace(),n=e.getPose(t);if(null==n)return null;var r=Boe.fromArray(n.transform.matrix);return!0===this.placeOnWall&&(this.goalYaw=Math.atan2(r.elements[4],r.elements[6])),r.elements[5]>.75!==this.placeOnWall?Uoe.setFromMatrixPosition(r):null}},{key:"moveToFloor",value:function(e){var t=this.initialHitSource;if(null!=t){var n=e.getHitTestResults(t);if(0!=n.length){var r=n[0],a=this.getHitPoint(r);null!=a&&(this.placementBox.show=!0,this.isTranslating||(this.placeOnWall?this.goalPosition.copy(a):this.goalPosition.y=a.y),t.cancel(),this.initialHitSource=null,this.dispatchEvent({type:"status",status:"object-placed"}))}}}},{key:"fingerPolar",value:function(e){var t=e[0].inputSource.gamepad.axes,n=e[1].inputSource.gamepad.axes,r=n[0]-t[0],a=n[1]-t[1],i=Math.atan2(a,r),o=this.lastAngle-i;return o>Math.PI?o-=2*Math.PI:o<-Math.PI&&(o+=2*Math.PI),this.lastAngle=i,{separation:Math.sqrt(r*r+a*a),deltaYaw:o}}},{key:"processInput",value:function(e){var t=this,n=this.transientHitTestSource;if(null!=n&&(this.isTranslating||this.isTwoFingering||this.isRotating)){var r=e.getHitTestResultsForTransientInput(n),a=this.presentedScene,i=a.scale.x;if(this.isTwoFingering)if(r.length<2)this.isTwoFingering=!1;else{var o=this.fingerPolar(r),s=o.separation,l=o.deltaYaw;if(!1===this.placeOnWall&&(this.goalYaw+=l),a.canScale){var u=s/this.firstRatio;this.goalScale=u<1.3&&u>.7692307692307692?1:u}}else if(2!==r.length)if(this.isRotating){var c=1.5*this.inputSource.gamepad.axes[0];this.goalYaw+=c-this.lastAngle,this.lastAngle=c}else this.isTranslating&&r.forEach((function(e){if(e.inputSource===t.inputSource){var n=null;if(e.results.length>0&&(n=t.getHitPoint(e.results[0])),null==n&&(n=t.getTouchLocation()),null!=n){if(t.goalPosition.sub(t.lastDragPosition),!1===t.placeOnWall){var r=n.y-t.lastDragPosition.y;if(r<0){t.placementBox.offsetHeight=r/i,t.presentedScene.setShadowScaleAndOffset(i,r);var o=zoe.copy(a.getCamera().position),s=-r/(o.y-n.y);o.multiplyScalar(s),n.multiplyScalar(1-s).add(o)}}t.goalPosition.add(n),t.lastDragPosition.copy(n)}}}));else{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!0;var d=this.fingerPolar(r).separation;this.firstRatio=d/i}}}},{key:"moveScene",value:function(e){var t=this.presentedScene,n=t.position,r=t.yaw,a=t.idealCameraDistance,i=this.goalPosition,o=t.scale.x,s=this.placementBox;if(!i.equals(n)||this.goalScale!==o){var l=n.x,u=n.y,c=n.z;l=this.xDamper.update(l,i.x,e,a),u=this.yDamper.update(u,i.y,e,a),c=this.zDamper.update(c,i.z,e,a),n.set(l,u,c);var d=this.scaleDamper.update(o,this.goalScale,e,1);if(t.scale.set(d,d,d),!this.isTranslating){var h=i.y-u;this.placementComplete&&!1===this.placeOnWall?(s.offsetHeight=h/d,t.setShadowScaleAndOffset(d,h)):0===h&&(this.placementComplete=!0,s.show=!1,t.setShadowIntensity(.3))}}s.updateOpacity(e),t.updateTarget(e),t.yaw=this.yawDamper.update(r,this.goalYaw,e,Math.PI)}},{key:"onWebXRFrame",value:function(e,t){this.frame=t,++this.frames;var n=this.threeRenderer.xr.getReferenceSpace(),r=t.getViewerPose(n);null==r&&!0===this.tracking&&this.frames>30&&(this.tracking=!1,this.dispatchEvent({type:"tracking",status:"not-tracking"}));var a=this.presentedScene;if(null!=r&&null!=a&&a.element[cle]()){!1===this.tracking&&(this.tracking=!0,this.dispatchEvent({type:"tracking",status:joe}));var i,o=!0,s=X(r.views);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(this.updateView(l),o){this.moveToFloor(t),this.processInput(t);var u=e-this.lastTick;this.moveScene(u),this.renderer.preRender(a,e,u),this.lastTick=e}var c=this.threeRenderer.getContext();c.depthMask(!1),c.clear(c.DEPTH_BUFFER_BIT),c.depthMask(!0),this.threeRenderer.render(a,a.getCamera()),o=!1}}catch(JNe){s.e(JNe)}finally{s.f()}}else this.threeRenderer.clear()}}]),n}(w5),Voe=function(){function e(t){M(this,e),t.threeRenderer.debug={checkShaderErrors:!0},Promise.resolve().then((function(){self.dispatchEvent(new CustomEvent("model-viewer-renderer-debug",{detail:{renderer:t,THREE:{ShaderMaterial:n7,Texture:Z5,Mesh:K8,Scene:ete,PlaneBufferGeometry:g7,OrthographicCamera:_7,WebGLRenderTarget:G5}}}))}))}return N(e,[{key:"addScene",value:function(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-added-debug",{detail:{scene:e}}))}},{key:"removeScene",value:function(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-removed-debug",{detail:{scene:e}}))}}]),e}();function Hoe(e){var t=new Map,n=new Map,r=e.clone();return Goe(e,r,(function(e,r){t.set(r,e),n.set(e,r)})),r.traverse((function(e){if(e.isSkinnedMesh){var r=e,a=t.get(e),i=a.skeleton.bones;r.skeleton=a.skeleton.clone(),r.bindMatrix.copy(a.bindMatrix),r.skeleton.bones=i.map((function(e){return n.get(e)})),r.bind(r.skeleton,r.bindMatrix)}})),r}function Goe(e,t,n){n(e,t);for(var r=0;r<e.children.length;r++)Goe(e.children[r],t.children[r],n)}var qoe=Symbol("prepared"),Xoe=Symbol("prepare"),Yoe=Symbol("preparedGLTF"),Koe=Symbol("clone"),Joe=function(){function e(t){M(this,e),this[Yoe]=t}return N(e,[{key:"parser",get:function(){return this[Yoe].parser}},{key:"animations",get:function(){return this[Yoe].animations}},{key:"scene",get:function(){return this[Yoe].scene}},{key:"scenes",get:function(){return this[Yoe].scenes}},{key:"cameras",get:function(){return this[Yoe].cameras}},{key:"asset",get:function(){return this[Yoe].asset}},{key:"userData",get:function(){return this[Yoe].userData}},{key:"clone",value:function(){return new(0,this.constructor)(this[Koe]())}},{key:"dispose",value:function(){this.scenes.forEach((function(e){e.traverse((function(e){if(e.isMesh){var t=e;(Array.isArray(t.material)?t.material:[t.material]).forEach((function(e){for(var t in e){var n=e[t];n instanceof Z5&&n.dispose()}e.dispose()})),t.geometry.dispose()}}))}))}},{key:Koe,value:function(){var e=this[Yoe],t=Hoe(this.scene);$oe(t,this.scene);var n=[t],r=e.userData?Object.assign({},e.userData):{};return Object.assign(Object.assign({},e),{scene:t,scenes:n,userData:r})}}],[{key:"prepare",value:function(e){if(null==e.scene)throw new Error("Model does not have a scene");if(e[qoe])return e;var t=this[Xoe](e);return t[qoe]=!0,t}},{key:Xoe,value:function(e){var t=e.scene,n=[t];return Object.assign(Object.assign({},e),{scene:t,scenes:n})}}]),e}(),$oe=function(e,t){Qoe(e,t,(function(e,t){void 0!==t.userData.variantMaterials&&(e.userData.variantMaterials=new Map(t.userData.variantMaterials)),void 0!==t.userData.originalMaterial&&(e.userData.originalMaterial=t.userData.originalMaterial)}))},Qoe=function e(t,n,r){r(t,n);for(var a=0;a<t.children.length;a++)e(t.children[a],n.children[a],r)},ese=Symbol("threeGLTF"),tse=Symbol("gltf"),nse=Symbol("gltfElementMap"),rse=Symbol("threeObjectMap"),ase=Symbol("parallelTraverseThreeScene"),ise=Symbol("correlateOriginalThreeGLTF"),ose=Symbol("correlateCloneThreeGLTF"),sse=function(){function e(t,n,r,a){M(this,e),this[ese]=t,this[tse]=n,this[nse]=a,this[rse]=r}return N(e,[{key:"threeGLTF",get:function(){return this[ese]}},{key:"gltf",get:function(){return this[tse]}},{key:"gltfElementMap",get:function(){return this[nse]}},{key:"threeObjectMap",get:function(){return this[rse]}}],[{key:"from",value:function(e,t){return null!=t?this[ose](e,t):this[ise](e)}},{key:ise,value:function(t){var n,r=t.parser.json,a=t.parser.associations,i=new Map,o={name:"Default"},s={type:"materials",index:-1},l=X(a.keys());try{for(l.s();!(n=l.n()).done;){var u=n.value;u instanceof c8&&null==a.get(u)&&(s.index<0&&(null==r.materials&&(r.materials=[]),s.index=r.materials.length,r.materials.push(o)),u.name=o.name,a.set(u,{materials:s.index}))}}catch(JNe){l.e(JNe)}finally{l.f()}var c,d=X(a);try{for(d.s();!(c=d.n()).done;){var h=(0,Z.Z)(c.value,2),f=h[0],p=h[1];if(p){var m=f;m.userData=m.userData||{},m.userData.associations=p}for(var v in p)if(null!=v&&"primitives"!==v){var g=v,y=(r[g]||[])[p[g]];if(null==y)continue;var b=i.get(y);null==b&&(b=new Set,i.set(y,b)),b.add(f)}}}catch(JNe){d.e(JNe)}finally{d.f()}return new e(t,r,a,i)}},{key:ose,value:function(t,n){for(var r=n.threeGLTF,a=n.gltf,i=JSON.parse(JSON.stringify(a)),o=new Map,s=new Map,l=0;l<r.scenes.length;l++)this[ase](r.scenes[l],t.scenes[l],(function(e,t){var r=n.threeObjectMap.get(e);if(null!=r)for(var a in r)if(null!=a&&"primitives"!==a){var l=a,u=r[l],c=i[l][u],d=o.get(t)||{};d[l]=u,o.set(t,d);var h=s.get(c)||new Set;h.add(t),s.set(c,h)}}));return new e(t,i,o,s)}},{key:ase,value:function(e,t,n){!function e(t,r){if(n(t,r),t.isObject3D){if(t.isMesh)if(Array.isArray(t.material))for(var a=0;a<t.material.length;++a)e(t.material[a],r.material[a]);else e(t.material,r.material);for(var i=0;i<t.children.length;++i)e(t.children[i],r.children[i])}}(e,t)}}]),e}(),lse=Symbol("cloneAndPatchMaterial"),use=Symbol("correlatedSceneGraph"),cse=function(e){O(n,e);var t=z(n);function n(){return M(this,n),t.apply(this,arguments)}return N(n,[{key:"correlatedSceneGraph",get:function(){return this[Yoe][use]}},{key:Koe,value:function(){var e=this,t=nv(D(n.prototype),Koe,this).call(this),r=new Map;return t.scene.traverse((function(t){if(t.isMesh){var n=t;Array.isArray(n.material)?n.material=n.material.map((function(t){return e[lse](t,r)})):null!=n.material&&(n.material=e[lse](n.material,r))}})),t[use]=sse.from(t,this.correlatedSceneGraph),t}},{key:lse,value:function(e,t){if(t.has(e.uuid))return t.get(e.uuid);var n=e.clone();null!=e.map&&(n.map=e.map.clone(),n.map.needsUpdate=!0),null!=e.normalMap&&(n.normalMap=e.normalMap.clone(),n.normalMap.needsUpdate=!0),null!=e.emissiveMap&&(n.emissiveMap=e.emissiveMap.clone(),n.emissiveMap.needsUpdate=!0);var r=null;if(null!=e.roughnessMap&&(r=e.roughnessMap.clone()),null!=r){r.needsUpdate=!0,n.roughnessMap=r;var a=xse.singleton,i=a.threeRenderer,o=a.roughnessMipmapper,s=i.xr.enabled;i.xr.enabled=!1;var l=n.roughnessMap.image;o.generateMipmaps(n),n.roughnessMap.image=l,i.xr.enabled=s}return e.roughnessMap===e.metalnessMap?n.metalnessMap=r:null!=e.metalnessMap&&(n.metalnessMap=e.metalnessMap.clone(),n.metalnessMap.needsUpdate=!0),e.roughnessMap===e.aoMap?n.aoMap=r:null!=e.aoMap&&(n.aoMap=e.aoMap.clone(),n.aoMap.needsUpdate=!0),n.shadowSide=0,t.set(e.uuid,n),n}}],[{key:Xoe,value:function(e){var t=nv(D(n),Xoe,this).call(this,e);null==t[use]&&(t[use]=sse.from(t));var r=t.scene,a=new g6(void 0,1/0);return r.traverse((function(e){e.renderOrder=1e3,e.frustumCulled=!1,e.name||(e.name=e.uuid);var t=e;t.isMesh&&(t.castShadow=!0,t.isSkinnedMesh&&(t.geometry.boundingSphere=a,t.geometry.boundingBox=null))})),t}}]),n}(Joe),dse=function(e){O(n,e);var t=z(n);function n(){var e;M(this,n),(e=t.call(this)).position.y=-3.5;var r=new $8;r.deleteAttribute("uv");var a=new Qne({metalness:0,side:1}),i=new Qne({metalness:0}),o=new Lre(16777215,500,28,2);o.position.set(.418,16.199,.3),e.add(o);var s=new K8(r,a);s.position.set(-.757,13.219,.717),s.scale.set(31.713,28.305,28.591),e.add(s);var l=new K8(r,i);l.position.set(-10.906,2.009,1.846),l.rotation.set(0,-.195,0),l.scale.set(2.328,7.905,4.651),e.add(l);var u=new K8(r,i);u.position.set(-5.607,-.754,-.758),u.rotation.set(0,.994,0),u.scale.set(1.97,1.534,3.955),e.add(u);var c=new K8(r,i);c.position.set(6.167,.857,7.803),c.rotation.set(0,.561,0),c.scale.set(3.927,6.285,3.687),e.add(c);var d=new K8(r,i);d.position.set(-2.017,.018,6.124),d.rotation.set(0,.333,0),d.scale.set(2.002,4.566,2.064),e.add(d);var h=new K8(r,i);h.position.set(2.291,-.756,-2.621),h.rotation.set(0,-.286,0),h.scale.set(1.546,1.552,1.496),e.add(h);var f=new K8(r,i);f.position.set(-2.193,-.369,-5.547),f.rotation.set(0,.516,0),f.scale.set(3.875,3.487,2.986),e.add(f);var p=new K8(r,e.createAreaLightMaterial(50));p.position.set(-16.116,14.37,8.208),p.scale.set(.1,2.428,2.739),e.add(p);var m=new K8(r,e.createAreaLightMaterial(50));m.position.set(-16.109,18.021,-8.207),m.scale.set(.1,2.425,2.751),e.add(m);var v=new K8(r,e.createAreaLightMaterial(17));v.position.set(14.904,12.198,-1.832),v.scale.set(.15,4.265,6.331),e.add(v);var g=new K8(r,e.createAreaLightMaterial(43));g.position.set(-.462,8.89,14.52),g.scale.set(4.38,5.441,.088),e.add(g);var y=new K8(r,e.createAreaLightMaterial(20));y.position.set(3.235,11.486,-12.541),y.scale.set(2.5,2,.1),e.add(y);var b=new K8(r,e.createAreaLightMaterial(100));return b.position.set(0,20,0),b.scale.set(1,.1,1),e.add(b),e}return N(n,[{key:"createAreaLightMaterial",value:function(e){var t=new y8;return t.color.setScalar(e),t}}]),n}(ete),hse=function(e){O(n,e);var t=z(n);function n(){var e;M(this,n),(e=t.call(this)).position.y=-3.5;var r=new $8;r.deleteAttribute("uv");var a=new Qne({metalness:0,side:1}),i=new Qne({metalness:0}),o=new Lre(16777215,400,28,2);o.position.set(.5,14,.5),e.add(o);var s=new K8(r,a);s.position.set(0,13.2,0),s.scale.set(31.5,28.5,31.5),e.add(s);var l=new K8(r,i);l.position.set(-10.906,-1,1.846),l.rotation.set(0,-.195,0),l.scale.set(2.328,7.905,4.651),e.add(l);var u=new K8(r,i);u.position.set(-5.607,-.754,-.758),u.rotation.set(0,.994,0),u.scale.set(1.97,1.534,3.955),e.add(u);var c=new K8(r,i);c.position.set(6.167,-.16,7.803),c.rotation.set(0,.561,0),c.scale.set(3.927,6.285,3.687),e.add(c);var d=new K8(r,i);d.position.set(-2.017,.018,6.124),d.rotation.set(0,.333,0),d.scale.set(2.002,4.566,2.064),e.add(d);var h=new K8(r,i);h.position.set(2.291,-.756,-2.621),h.rotation.set(0,-.286,0),h.scale.set(1.546,1.552,1.496),e.add(h);var f=new K8(r,i);f.position.set(-2.193,-.369,-5.547),f.rotation.set(0,.516,0),f.scale.set(3.875,3.487,2.986),e.add(f);var p=new K8(r,e.createAreaLightMaterial(80));p.position.set(-14,10,8),p.scale.set(.1,2.5,2.5),e.add(p);var m=new K8(r,e.createAreaLightMaterial(80));m.position.set(-14,14,-4),m.scale.set(.1,2.5,2.5),e.add(m);var v=new K8(r,e.createAreaLightMaterial(23));v.position.set(14,12,0),v.scale.set(.1,5,5),e.add(v);var g=new K8(r,e.createAreaLightMaterial(16));g.position.set(0,9,14),g.scale.set(5,5,.1),e.add(g);var y=new K8(r,e.createAreaLightMaterial(80));y.position.set(7,8,-14),y.scale.set(2.5,2.5,.1),e.add(y);var b=new K8(r,e.createAreaLightMaterial(80));b.position.set(-7,16,-14),b.scale.set(2.5,2.5,.1),e.add(b);var x=new K8(r,e.createAreaLightMaterial(1));return x.position.set(0,20,0),x.scale.set(.1,.1,.1),e.add(x),e}return N(n,[{key:"createAreaLightMaterial",value:function(e){var t=new y8;return t.color.setScalar(e),t}}]),n}(ete),fse=/\.hdr(\.js)?$/,pse=new Tre,mse=new(function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this,e)).type=1016,r}return N(n,[{key:"parse",value:function(e){var t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var r=e.pos,a=-1,i=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));0>(a=s.indexOf("\n"))&&i<t&&r<e.byteLength;)o+=s,i+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<a&&(!1!==n&&(e.pos+=i+a+1),o+s.slice(0,a))},r=function(e,t,n,r){var a=e[t+3],i=Math.pow(2,a-128)/255;n[r+0]=e[t+0]*i,n[r+1]=e[t+1]*i,n[r+2]=e[t+2]*i},a=function(e,t,n,r){var a=e[t+3],i=Math.pow(2,a-128)/255;n[r+0]=hae.toHalfFloat(Math.min(e[t+0]*i,65504)),n[r+1]=hae.toHalfFloat(Math.min(e[t+1]*i,65504)),n[r+2]=hae.toHalfFloat(Math.min(e[t+2]*i,65504))},i=new Uint8Array(e);i.pos=0;var o=function(e){var r,a,i=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=n(e)))return t(1,"no header found");if(!(a=r.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(u.valid|=1,u.programtype=a[1],u.string+=r+"\n";!1!==(r=n(e));)if(u.string+=r+"\n","#"!==r.charAt(0)){if((a=r.match(i))&&(u.gamma=parseFloat(a[1],10)),(a=r.match(o))&&(u.exposure=parseFloat(a[1],10)),(a=r.match(s))&&(u.valid|=2,u.format=a[1]),(a=r.match(l))&&(u.valid|=4,u.height=parseInt(a[1],10),u.width=parseInt(a[2],10)),2&u.valid&&4&u.valid)break}else u.comments+=r+"\n";return 2&u.valid?4&u.valid?u:t(3,"missing image size specifier"):t(3,"missing format specifier")}(i);if(-1!==o){var s=o.width,l=o.height,u=function(e,n,r){var a=n;if(a<8||a>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(a!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");var i=new Uint8Array(4*n*r);if(!i.length)return t(4,"unable to allocate buffer space");for(var o=0,s=0,l=4*a,u=new Uint8Array(4),c=new Uint8Array(l),d=r;d>0&&s<e.byteLength;){if(s+4>e.byteLength)return t(1);if(u[0]=e[s++],u[1]=e[s++],u[2]=e[s++],u[3]=e[s++],2!=u[0]||2!=u[1]||(u[2]<<8|u[3])!=a)return t(3,"bad rgbe scanline format");for(var h=void 0,f=0;f<l&&s<e.byteLength;){var p=(h=e[s++])>128;if(p&&(h-=128),0===h||f+h>l)return t(3,"bad scanline data");if(p)for(var m=e[s++],v=0;v<h;v++)c[f++]=m;else c.set(e.subarray(s,s+h),f),f+=h,s+=h}for(var g=a,y=0;y<g;y++){var b=0;i[o]=c[y+b],b+=a,i[o+1]=c[y+b],b+=a,i[o+2]=c[y+b],b+=a,i[o+3]=c[y+b],o+=4}d--}return i}(i.subarray(i.pos),s,l);if(-1!==u){var c,d,h,f;switch(this.type){case 1009:c=u,d=1023,h=1009;break;case 1015:f=u.length/4;for(var p=new Float32Array(3*f),m=0;m<f;m++)r(u,4*m,p,3*m);c=p,d=1022,h=1015;break;case 1016:f=u.length/4;for(var v=new Uint16Array(3*f),g=0;g<f;g++)a(u,4*g,v,3*g);c=v,d=1022,h=1016;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:s,height:l,data:c,header:o.string,gamma:o.gamma,exposure:o.exposure,format:d,type:h}}}return null}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,r,a){return nv(D(n.prototype),"load",this).call(this,e,(function(e,n){switch(e.type){case 1009:e.encoding=3002,e.minFilter=1003,e.magFilter=1003,e.generateMipmaps=!1,e.flipY=!0;break;case 1015:case 1016:e.encoding=3e3,e.minFilter=1006,e.magFilter=1006,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),r,a)}}]),n}(Sre));mse.setDataType(1016);var vse,gse,yse=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),(r=t.call(this)).threeRenderer=e,r.generatedEnvironmentMap=null,r.generatedEnvironmentMapAlt=null,r.skyboxCache=new Map,r.blurMaterial=null,r.blurScene=null,r}return N(n,[{key:"load",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i,o=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:function(){},e.prev=1,r=fse.test(t),a=r?mse:pse,e.next=6,new Promise((function(e,r){return a.load(t,e,(function(e){n(e.loaded/e.total*.9)}),r)}));case 6:return i=e.sent,e.abrupt("return",(n(1),i.name=t,i.mapping=303,r||(i.encoding=3007),i));case 8:return e.prev=8,n&&n(1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"generateEnvironmentMapAndSkybox",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a,i,o,s,l,u,c,d,h,f=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:null,n=f.length>1&&void 0!==f[1]?f[1]:null,r=(f.length>2&&void 0!==f[2]?f[2]:{}).progressTracker,a=null!=r?r.beginActivity():function(){},!0===(i="neutral"===n)&&(n=null),o=Fie(n),e.prev=6,l=Promise.resolve(null),t&&(l=this.loadEquirectFromUrl(t,r)),s=o?this.loadEquirectFromUrl(o,r):t?this.loadEquirectFromUrl(t,r):!0===i?this.loadGeneratedEnvironmentMapAlt():this.loadGeneratedEnvironmentMap(),e.next=11,Promise.all([s,l]);case 11:if(u=e.sent,c=(0,Z.Z)(u,2),d=c[0],h=c[1],null!=d){e.next=17;break}throw new Error("Failed to load environment map.");case 17:return e.abrupt("return",{environmentMap:d,skybox:h});case 18:return e.prev=18,a(1),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[6,,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadEquirectFromUrl",value:function(){var e=mo(fo().mark((function e(t,n){var r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.skyboxCache.has(t)||(r=n?n.beginActivity():function(){},a=this.load(t,r),this.skyboxCache.set(t,a)),e.abrupt("return",this.skyboxCache.get(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"GenerateEnvironmentMap",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i,o,s,l;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vie();case 2:return r=this.threeRenderer,a=new s7(256,{generateMipmaps:!1,type:1016,format:1023,encoding:3e3,depthBuffer:!0}),i=new i7(.1,100,a),(o=i.renderTarget.texture).name=n,o.isRenderTargetTexture=!1,o.images=[1,1,1,1,1,1],t.scale.setComponent(0,-1),s=r.outputEncoding,l=r.toneMapping,r.toneMapping=0,r.outputEncoding=3e3,i.update(r,t),e.next=10,this.blurCubemap(a,.04);case 10:return r.toneMapping=l,r.outputEncoding=s,e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadGeneratedEnvironmentMap",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null==this.generatedEnvironmentMap&&(this.generatedEnvironmentMap=this.GenerateEnvironmentMap(new dse,"default")),this.generatedEnvironmentMap));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadGeneratedEnvironmentMapAlt",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null==this.generatedEnvironmentMapAlt&&(this.generatedEnvironmentMapAlt=this.GenerateEnvironmentMap(new hse,"neutral")),this.generatedEnvironmentMapAlt));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"blurCubemap",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==this.blurMaterial&&(this.blurMaterial=this.getBlurShader(20),r=new $8,a=new K8(r,this.blurMaterial),this.blurScene=new ete,this.blurScene.add(a)),i=t.clone(),this.halfblur(t,i,n,"latitudinal"),this.halfblur(i,t,n,"longitudinal");case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"halfblur",value:function(){var e=mo(fo().mark((function e(t,n,r,a){var i,o,s,l,u,c,d,h,f,p,m;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.width,o=isFinite(r)?Math.PI/(2*i):2*Math.PI/39,s=r/o,(l=isFinite(r)?1+Math.floor(3*s):20)>20&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(l," samples when the maximum is set to 20")),u=[],c=0,d=0;d<20;++d)h=d/s,f=Math.exp(-h*h/2),u.push(f),0==d?c+=f:d<l&&(c+=2*f);for(p=0;p<u.length;p++)u[p]=u[p]/c;(m=this.blurMaterial.uniforms).envMap.value=t.texture,m.samples.value=l,m.weights.value=u,m.latitudinal.value="latitudinal"===a,m.dTheta.value=o,new i7(.1,100,n).update(this.threeRenderer,this.blurScene);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"getBlurShader",value:function(e){var t=new Float32Array(e),n=new Y5(0,1,0);return new n7({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},poleAxis:{value:n}},vertexShader:"\n      \n      varying vec3 vOutputDirection;\n  \n      void main() {\n  \n        vOutputDirection = vec3( position );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  \n      }\n    ",fragmentShader:"\n        varying vec3 vOutputDirection;\n  \n        uniform samplerCube envMap;\n        uniform int samples;\n        uniform float weights[ n ];\n        uniform bool latitudinal;\n        uniform float dTheta;\n        uniform vec3 poleAxis;\n  \n        vec3 getSample( float theta, vec3 axis ) {\n  \n          float cosTheta = cos( theta );\n          // Rodrigues' axis-angle rotation\n          vec3 sampleDirection = vOutputDirection * cosTheta\n            + cross( axis, vOutputDirection ) * sin( theta )\n            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n  \n          return vec3( textureCube( envMap, sampleDirection ) );\n  \n        }\n  \n        void main() {\n  \n          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n  \n          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n  \n            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n  \n          }\n  \n          axis = normalize( axis );\n  \n          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n  \n          for ( int i = 1; i < n; i++ ) {\n  \n            if ( i >= samples ) {\n  \n              break;\n  \n            }\n  \n            float theta = dTheta * float( i );\n            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n  \n          }\n        }\n      ",blending:0,depthTest:!1,depthWrite:!1,side:1})}},{key:"dispose",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=X(this.skyboxCache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=10;break}return r=(0,Z.Z)(n.value,2),a=r[1],e.next=7,a;case 7:e.sent.dispose();case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:if(e.t1=null!=this.generatedEnvironmentMap,!e.t1){e.next=24;break}return e.next=22,this.generatedEnvironmentMap;case 22:e.sent.dispose(),this.generatedEnvironmentMap=null;case 24:if(e.t2=null!=this.generatedEnvironmentMapAlt,!e.t2){e.next=30;break}return e.next=28,this.generatedEnvironmentMapAlt;case 28:e.sent.dispose(),this.generatedEnvironmentMapAlt=null;case 30:null!=this.blurMaterial&&this.blurMaterial.dispose();case 31:case"end":return e.stop()}}),e,this,[[1,12,15,18]])})));return function(){return e.apply(this,arguments)}}()}]),n}(w5),bse=[1,.79,.62,.5,.4,.31,.25],xse=function(e){O(n,e);var t=z(n);function n(e){var r;M(this,n),(r=t.call(this)).loader=new Aie(cse),r.width=0,r.height=0,r.dpr=1,r.debugger=null,r.scenes=new Set,r.multipleScenesVisible=!1,r.scaleStep=0,r.lastStep=3,r.avgFrameDuration=22,r.onWebGLContextLost=function(e){r.dispatchEvent({type:"contextlost",sourceEvent:e})},r.onWebGLContextRestored=function(){var e;null===(e=r.textureUtils)||void 0===e||e.dispose(),r.textureUtils=new yse(r.threeRenderer),r.roughnessMipmapper=new Soe(r.threeRenderer);var t,n=X(r.scenes);try{for(n.s();!(t=n.n()).done;){t.value.element[_oe]()}}catch(JNe){n.e(JNe)}finally{n.f()}r.threeRenderer.shadowMap.needsUpdate=!0},r.dpr=Wie(),r.canvas3D=document.createElement("canvas"),r.canvas3D.id="webgl-canvas";try{r.threeRenderer=new Qee({canvas:r.canvas3D,alpha:!0,antialias:!0,powerPreference:e.powerPreference,preserveDrawingBuffer:!0}),r.threeRenderer.autoClear=!0,r.threeRenderer.outputEncoding=3007,r.threeRenderer.physicallyCorrectLights=!0,r.threeRenderer.setPixelRatio(1),r.threeRenderer.shadowMap.enabled=!0,r.threeRenderer.shadowMap.type=2,r.threeRenderer.shadowMap.autoUpdate=!1,r.debugger=e.debug?new Voe(F(r)):null,r.threeRenderer.debug={checkShaderErrors:!!r.debugger},r.threeRenderer.toneMapping=4}catch(e){console.warn(e)}return r.arRenderer=new Zoe(F(r)),r.textureUtils=r.canRender?new yse(r.threeRenderer):null,r.roughnessMipmapper=new Soe(r.threeRenderer),Aie.initializeKTX2Loader(r.threeRenderer),r.canvas3D.addEventListener("webglcontextlost",r.onWebGLContextLost),r.canvas3D.addEventListener("webglcontextrestored",r.onWebGLContextRestored),r.updateRendererSize(),r.lastTick=performance.now(),r.avgFrameDuration=0,r}return N(n,[{key:"canRender",get:function(){return null!=this.threeRenderer}},{key:"scaleFactor",get:function(){return bse[this.scaleStep]}},{key:"minScale",set:function(e){for(var t=1;t<bse.length&&!(bse[t]<e);)++t;this.lastStep=t-1}},{key:"updateRendererSize",value:function(){var e=Wie();if(e!==this.dpr){var t,n=X(this.scenes);try{for(n.s();!(t=n.n()).done;){var r=t.value.element;r[Zse](r.getBoundingClientRect())}}catch(JNe){n.e(JNe)}finally{n.f()}}var a,i=0,o=0,s=X(this.scenes);try{for(s.s();!(a=s.n()).done;){var l=a.value;i=Math.max(i,l.width),o=Math.max(o,l.height)}}catch(JNe){s.e(JNe)}finally{s.f()}if(i!==this.width||o!==this.height||e!==this.dpr){this.width=i,this.height=o,this.dpr=e,this.canRender&&this.threeRenderer.setSize(i*e,o*e,!1);var u=this.scaleFactor,c=i/u,d=o/u;this.canvas3D.style.width="".concat(c,"px"),this.canvas3D.style.height="".concat(d,"px");var h,f=X(this.scenes);try{for(f.s();!(h=f.n()).done;){var p=h.value,m=p.canvas;m.width=Math.round(i*e),m.height=Math.round(o*e),m.style.width="".concat(c,"px"),m.style.height="".concat(d,"px"),p.queueRender()}}catch(JNe){f.e(JNe)}finally{f.f()}}}},{key:"updateRendererScale",value:function(){var e=this.scaleStep;if(this.avgFrameDuration>26?++this.scaleStep:this.avgFrameDuration<18&&this.scaleStep>0&&--this.scaleStep,this.scaleStep=Math.min(this.scaleStep,this.lastStep),e!=this.scaleStep){var t=this.scaleFactor;this.avgFrameDuration=22;var n=this.width/t,r=this.height/t;this.canvas3D.style.width="".concat(n,"px"),this.canvas3D.style.height="".concat(r,"px");var a,i=X(this.scenes);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o.canvas.style;s.width="".concat(n,"px"),s.height="".concat(r,"px"),o.queueRender()}}catch(JNe){i.e(JNe)}finally{i.f()}}}},{key:"registerScene",value:function(e){var t=this;this.scenes.add(e);var n=e.canvas,r=this.scaleFactor;n.width=Math.round(this.width*this.dpr),n.height=Math.round(this.height*this.dpr),n.style.width=this.width/r+"px",n.style.height=this.height/r+"px",this.multipleScenesVisible&&n.classList.add("show"),e.queueRender(),this.canRender&&this.scenes.size>0&&this.threeRenderer.setAnimationLoop((function(e,n){return t.render(e,n)})),null!=this.debugger&&this.debugger.addScene(e)}},{key:"unregisterScene",value:function(e){this.scenes.delete(e),this.canRender&&0===this.scenes.size&&this.threeRenderer.setAnimationLoop(null),null!=this.debugger&&this.debugger.removeScene(e)}},{key:"displayCanvas",value:function(e){return this.multipleScenesVisible?e.element[Qse]:this.canvas3D}},{key:"selectCanvas",value:function(){var e,t=0,n=null,r=X(this.scenes);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.element.modelIsVisible&&null==a.externalRenderer&&(++t,n=a.canvas)}}catch(JNe){r.e(JNe)}finally{r.f()}if(null!=n){var i=t>1,o=this.canvas3D;if(i!==this.multipleScenesVisible||!i&&o.parentElement!==n.parentElement){this.multipleScenesVisible=i,i&&o.classList.remove("show");var s,l=X(this.scenes);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(null==u.externalRenderer){var c=u.element[Qse];i?(c.classList.add("show"),u.queueRender()):u.canvas===n&&(u.canvas.parentElement.appendChild(o),o.classList.add("show"),c.classList.remove("show"),u.queueRender())}}}catch(JNe){l.e(JNe)}finally{l.f()}}}}},{key:"orderedScenes",value:function(){for(var e=[],t=0,n=[!1,!0];t<n.length;t++){var r,a=n[t],i=X(this.scenes);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.element.modelIsVisible===a&&e.push(o)}}catch(JNe){i.e(JNe)}finally{i.f()}}return e}},{key:"isPresenting",get:function(){return this.arRenderer.isPresenting}},{key:"preRender",value:function(e,t,n){var r=e.element,a=e.exposure;r[nle](t,n);var i="number"==typeof a&&!self.isNaN(a);this.threeRenderer.toneMappingExposure=i?a:1,e.isShadowDirty()&&(this.threeRenderer.shadowMap.needsUpdate=!0)}},{key:"render",value:function(e,t){if(null==t){var n=e-this.lastTick;if(this.lastTick=e,this.canRender&&!this.isPresenting){this.avgFrameDuration+=Uie(.2*(n-this.avgFrameDuration),-2,2),this.selectCanvas(),this.updateRendererSize(),this.updateRendererScale();var r,a=this.dpr,i=this.scaleFactor,o=X(this.orderedScenes());try{for(o.s();!(r=o.n()).done;){var s=r.value,l=s.element;if((l.modelIsVisible||!(s.renderCount>0))&&(this.preRender(s,e,n),s.shouldRender()))if(null==s.externalRenderer){if(!l.modelIsVisible&&!this.multipleScenesVisible){var u,c=X(this.scenes);try{for(c.s();!(u=c.n()).done;){var d=u.value;d.element.modelIsVisible&&d.queueRender()}}catch(JNe){c.e(JNe)}finally{c.f()}}var h=Math.min(Math.ceil(s.width*i*a),this.canvas3D.width),f=Math.min(Math.ceil(s.height*i*a),this.canvas3D.height);if(this.threeRenderer.setRenderTarget(null),this.threeRenderer.setViewport(0,Math.floor(this.height*a)-f,h,f),this.threeRenderer.render(s,s.camera),this.multipleScenesVisible){null==s.context&&s.createContext();var p=s.context;p.clearRect(0,0,h,f),p.drawImage(this.canvas3D,0,0,h,f,0,0,h,f)}s.hasRendered(),l.loaded&&++s.renderCount}else{var m=s.getCamera();m.updateMatrix();var v=m.matrix,g=m.projectionMatrix,y=v.elements.slice(),b=s.getTarget();y[12]+=b.x,y[13]+=b.y,y[14]+=b.z,s.externalRenderer.render({viewMatrix:y,projectionMatrix:g.elements})}}}catch(JNe){o.e(JNe)}finally{o.f()}}}else this.arRenderer.onWebXRFrame(e,t)}},{key:"dispose",value:function(){null!=this.textureUtils&&this.textureUtils.dispose(),null!=this.roughnessMipmapper&&this.roughnessMipmapper.dispose(),null!=this.threeRenderer&&this.threeRenderer.dispose(),this.textureUtils=null,this.threeRenderer=null;var e,t=[],n=X(this.scenes);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.element)}}catch(JNe){n.e(JNe)}finally{n.f()}return this.canvas3D.removeEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.removeEventListener("webglcontextrestored",this.onWebGLContextRestored),t}}],[{key:"singleton",get:function(){return this._singleton}},{key:"resetSingleton",value:function(){var e,t=this._singleton.dispose(),r=X(t);try{for(r.s();!(e=r.n()).done;){e.value.disconnectedCallback()}}catch(JNe){r.e(JNe)}finally{r.f()}this._singleton=new n({powerPreference:(self.ModelViewerElement||{}).powerPreference||"high-performance",debug:Zie()});var a,i=X(t);try{for(i.s();!(a=i.n()).done;){a.value.connectedCallback()}}catch(JNe){i.e(JNe)}finally{i.f()}}}]),n}(w5);xse._singleton=new xse({powerPreference:(self.ModelViewerElement||{}).powerPreference||"high-performance",debug:Zie()});var wse,kse,Sse,Tse,Ese,Cse,_se,Mse,Ase,Ise,Nse=Symbol("ongoingActivities"),Rse=Symbol("announceTotalProgress"),Ose=Symbol("eventDelegate"),Dse=function(e){function t(){var e=this;M(this,t),this[vse]=document.createDocumentFragment(),this.addEventListener=function(){var t;return(t=e[Ose]).addEventListener.apply(t,arguments)},this.removeEventListener=function(){var t;return(t=e[Ose]).removeEventListener.apply(t,arguments)},this.dispatchEvent=function(){var t;return(t=e[Ose]).dispatchEvent.apply(t,arguments)},this[gse]=new Set}return N(t,[{key:"ongoingActivityCount",get:function(){return this[Nse].size}},{key:"beginActivity",value:function(){var e=this,t={progress:0};return this[Nse].add(t),1===this.ongoingActivityCount&&this[Rse](),function(n){var r;return(r=Math.max(Uie(n,0,1),t.progress))!==t.progress&&(t.progress=r,e[Rse]()),t.progress}}},{key:e,value:function(){var e,t=0,n=0,r=0,a=X(this[Nse]);try{for(a.s();!(e=a.n()).done;){var i=e.value.progress;t+=i*(.5/Math.pow(2,n++)),1===i&&r++}}catch(JNe){a.e(JNe)}finally{a.f()}r===this.ongoingActivityCount&&(t=1,this[Nse].clear()),this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:t}}))}}]),t}((vse=Ose,gse=Nse,Rse)),Pse=function(e,t,n,r){for(var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Lse=document.createElement("canvas"),Fse=Symbol("fallbackResizeHandler"),jse=Symbol("defaultAriaLabel"),zse=Symbol("resizeObserver"),Bse=Symbol("clearModelTimeout"),Use=Symbol("onContextLost"),Wse=Symbol("loaded"),Zse=Symbol("updateSize"),Vse=Symbol("intersectionObserver"),Hse=Symbol("isElementInViewport"),Gse=Symbol("announceModelVisibility"),qse=Symbol("ariaLabel"),Xse=Symbol("loadedTime"),Yse=Symbol("updateSource"),Kse=Symbol("markLoaded"),Jse=Symbol("container"),$se=Symbol("input"),Qse=Symbol("canvas"),ele=Symbol("scene"),tle=Symbol("needsRender"),nle=Symbol("tick"),rle=Symbol("onModelLoad"),ale=Symbol("onResize"),ile=Symbol("renderer"),ole=Symbol("progressTracker"),sle=Symbol("getLoaded"),lle=Symbol("getModelIsVisible"),ule=Symbol("shouldAttemptPreload"),cle=Symbol("sceneIsReady"),dle=Symbol("hasTransitioned"),hle=function(e){return{x:e.x,y:e.y,z:e.z,toString:function(){return"".concat(this.x,"m ").concat(this.y,"m ").concat(this.z,"m")}}},fle=function(e,t,n){O(a,e);var r=z(a);function a(){var e;M(this,a),(e=r.call(this)).alt=null,e.src=null,e[wse]=!1,e[kse]=!1,e[Sse]=0,e[Tse]=null,e[Ese]=Bie((function(){var t=e.getBoundingClientRect();e[Zse](t)}),50),e[Cse]=Bie((function(t){var n=e.modelIsVisible;n!==t&&e.dispatchEvent(new CustomEvent("model-visibility",{detail:{visible:n}}))}),0),e[_se]=null,e[Mse]=null,e[Ase]=new Dse,e[Ise]=function(t){e.dispatchEvent(new CustomEvent("error",{detail:{type:"webglcontextlost",sourceError:t.sourceEvent}}))},e.attachShadow({mode:"open"});var t,n,i=e.shadowRoot;if(function(e){H4(x5,e)}(i),e[Jse]=i.querySelector(".container"),e[$se]=i.querySelector(".userInput"),e[Qse]=i.querySelector("canvas"),e[jse]=e[$se].getAttribute("aria-label"),e.isConnected){var o=e.getBoundingClientRect();t=o.width,n=o.height}else t=300,n=150;return e[ele]=new goe({canvas:e[Qse],element:F(e),width:t,height:n}),e[ele].addEventListener("model-load",function(){var t=mo(fo().mark((function t(n){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e[Kse](),e[rle](),t.next=4,Vie();case 4:e.dispatchEvent(new CustomEvent("load",{detail:{url:n.url}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Promise.resolve().then((function(){e[Zse](e.getBoundingClientRect())})),d5&&(e[zse]=new ResizeObserver((function(t){if(!e[ile].isPresenting){var n,r=X(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.target===F(e)&&e[Zse](a.contentRect)}}catch(JNe){r.e(JNe)}finally{r.f()}}}))),h5?e[Vse]=new IntersectionObserver((function(t){var n,r=X(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.target===F(e)){var i=e.modelIsVisible;e[Hse]=a.isIntersecting,e[Gse](i),e[Hse]&&!e[cle]()&&e[Yse]()}}}catch(JNe){r.e(JNe)}finally{r.f()}}),{root:null,rootMargin:"0px",threshold:0}):e[Hse]=!0,e}return N(a,[{key:"loaded",get:function(){return this[sle]()}},{key:t,get:function(){return xse.singleton}},{key:"modelIsVisible",get:function(){return this[lle]()}},{key:"connectedCallback",value:function(){nv(D(a.prototype),"connectedCallback",this)&&nv(D(a.prototype),"connectedCallback",this).call(this),d5?this[zse].observe(this):self.addEventListener("resize",this[Fse]),h5&&this[Vse].observe(this);var e=this[ile];e.addEventListener("contextlost",this[Use]),e.registerScene(this[ele]),null!=this[Bse]&&(self.clearTimeout(this[Bse]),this[Bse]=null,this.requestUpdate("src",null))}},{key:"disconnectedCallback",value:function(){var e=this;nv(D(a.prototype),"disconnectedCallback",this)&&nv(D(a.prototype),"disconnectedCallback",this).call(this),d5?this[zse].unobserve(this):self.removeEventListener("resize",this[Fse]),h5&&this[Vse].unobserve(this);var t=this[ile];t.removeEventListener("contextlost",this[Use]),t.unregisterScene(this[ele]),this[Bse]=self.setTimeout((function(){e[ele].reset()}),1e3)}},{key:"updated",value:function(e){if(nv(D(a.prototype),"updated",this).call(this,e),e.has("src")&&(null==this.src?(this[Wse]=!1,this[Xse]=0,this[ele].reset()):this.src!==this[ele].url&&(this[Wse]=!1,this[Xse]=0,this[Yse]())),e.has("alt")){var t=null==this.alt?this[jse]:this.alt;this[$se].setAttribute("aria-label",t)}}},{key:"toDataURL",value:function(e,t){return this[ile].displayCanvas(this[ele]).toDataURL(e,t)}},{key:"toBlob",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i,o,s,l,u,c,d,h,f,p,m,v,g,y,b=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?t.mimeType:void 0,r=t?t.qualityArgument:void 0,a=t?t.idealAspect:void 0,i=this[ele],o=i.width,s=i.height,l=i.fieldOfViewAspect,u=i.aspect,c=this[ile],d=c.dpr,h=c.scaleFactor,f=o*h*d,p=s*h*d,m=0,v=0,!0===a&&(l>u?(g=p,p=Math.round(f/l),v=(g-p)/2):(y=f,f=Math.round(p*l),m=(y-f)/2)),Lse.width=f,Lse.height=p,e.prev=4,e.abrupt("return",new Promise(function(){var e=mo(fo().mark((function e(t,a){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lse.getContext("2d").drawImage(b[ile].displayCanvas(b[ele]),m,v,f,p,0,0,f,p),Lse.msToBlob&&(!n||"image/png"===n)){e.next=14;break}if(!Lse.toBlob){e.next=6;break}e.t1=void Lse.toBlob((function(e){if(!e)return a(new Error("Unable to retrieve canvas blob"));t(e)}),n,r),e.next=11;break;case 6:return e.t2=t,e.next=9,function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.match(/data:(.*);/);if(!r)return n(new Error("".concat(t," is not a valid data Url")));for(var a=r[1],i=t.replace(/data:image\/\w+;base64,/,""),o=atob(i),s=[],l=0;l<o.length;l+=512){for(var u=o.slice(l,l+512),c=new Array(u.length),d=0;d<u.length;d++)c[d]=u.charCodeAt(d);var h=new Uint8Array(c);s.push(h)}e(new Blob(s,{type:a}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Lse.toDataURL(n,r));case 9:e.t3=e.sent,e.t1=(0,e.t2)(e.t3);case 11:e.t0=e.t1,e.next=15;break;case 14:e.t0=t(Lse.msToBlob());case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:return e.prev=6,this[Zse]({width:o,height:s}),e.finish(6);case 9:case"end":return e.stop()}}),e,this,[[4,,6,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerRenderer",value:function(e){this[ele].externalRenderer=e}},{key:"unregisterRenderer",value:function(){this[ele].externalRenderer=null}},{key:qse,get:function(){return null==this.alt||"null"===this.alt?this[jse]:this.alt}},{key:sle,value:function(){return this[Wse]}},{key:lle,value:function(){return this.loaded&&this[Hse]}},{key:dle,value:function(){return this.modelIsVisible}},{key:ule,value:function(){return!!this.src&&this[Hse]}},{key:cle,value:function(){return this[Wse]}},{key:Zse,value:function(e){var t=e.width,n=e.height;this[Jse].style.width="".concat(t,"px"),this[Jse].style.height="".concat(n,"px"),this[ale]({width:parseFloat(t),height:parseFloat(n)})}},{key:nle,value:function(e,t){}},{key:Kse,value:function(){this[Wse]||(this[Wse]=!0,this[Xse]=performance.now())}},{key:tle,value:function(){this[ele].queueRender()}},{key:rle,value:function(){}},{key:ale,value:function(e){this[ele].setSize(e.width,e.height)}},{key:n,value:function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loaded&&this[ule]()){e.next=2;break}return e.abrupt("return");case 2:return t=this[ole].beginActivity(),n=this.src,e.prev=3,e.next=6,this[ele].setSource(n,(function(e){return t(.8*e)}));case 6:r={url:n},this.dispatchEvent(new CustomEvent("preload",{detail:r})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.dispatchEvent(new CustomEvent("error",{detail:e.t0}));case 13:return e.prev=13,t(.9),requestAnimationFrame((function(){requestAnimationFrame((function(){t(1)}))})),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"is",get:function(){return"model-viewer"}},{key:"modelCacheSize",get:function(){return Aie[_ie].evictionThreshold},set:function(e){Aie[_ie].evictionThreshold=e}},{key:"minimumRenderScale",get:function(){return xse.singleton.minScale},set:function(e){e>1&&console.warn("<model-viewer> minimumRenderScale has been clamped to a maximum value of 1."),e<=0&&console.warn("<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25."),xse.singleton.minScale=e}}]),a}(n5,(wse=Hse,kse=Wse,Sse=Xse,Tse=Bse,Ese=Fse,Cse=Gse,_se=zse,Mse=Vse,Ase=ole,ile),(Ise=Use,Yse));Pse([r5({type:String})],fle.prototype,"alt",void 0),Pse([r5({type:String})],fle.prototype,"src",void 0);var ple=function(e,t,n,r){for(var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},mle=Symbol("changeAnimation"),vle=Symbol("paused"),gle=Symbol("hotspotMap"),yle=Symbol("mutationCallback"),ble=Symbol("observer"),xle=Symbol("addHotspot"),wle=Symbol("removeHotspot"),kle=new C6,Sle=new j5,Tle=function(e){return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};try{URL.revokeObjectURL(Tle(""))}catch(c4){Tle=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)}}var Ele=Uint8Array,Cle=Uint16Array,_le=Uint32Array,Mle=new Ele([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ale=new Ele([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ile=new Ele([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Nle=function(e,t){for(var n=new Cle(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new _le(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return[n,a]},Rle=Nle(Mle,2),Ole=Rle[0],Dle=Rle[1];Ole[28]=258,Dle[258]=28;for(var Ple=Nle(Ale,0)[1],Lle=new Cle(32768),Fle=0;Fle<32768;++Fle){var jle=(43690&Fle)>>>1|(21845&Fle)<<1;jle=(61680&(jle=(52428&jle)>>>2|(13107&jle)<<2))>>>4|(3855&jle)<<4,Lle[Fle]=((65280&jle)>>>8|(255&jle)<<8)>>>1}var zle=function(e,t,n){for(var r=e.length,a=0,i=new Cle(t);a<r;++a)++i[e[a]-1];var o,s=new Cle(t);for(a=0;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;if(n){o=new Cle(1<<t);var l=15-t;for(a=0;a<r;++a)if(e[a])for(var u=a<<4|e[a],c=t-e[a],d=s[e[a]-1]++<<c,h=d|(1<<c)-1;d<=h;++d)o[Lle[d]>>>l]=u}else for(o=new Cle(r),a=0;a<r;++a)e[a]&&(o[a]=Lle[s[e[a]-1]++]>>>15-e[a]);return o},Ble=new Ele(288);for(Fle=0;Fle<144;++Fle)Ble[Fle]=8;for(Fle=144;Fle<256;++Fle)Ble[Fle]=9;for(Fle=256;Fle<280;++Fle)Ble[Fle]=7;for(Fle=280;Fle<288;++Fle)Ble[Fle]=8;var Ule=new Ele(32);for(Fle=0;Fle<32;++Fle)Ule[Fle]=5;var Wle=zle(Ble,9,0),Zle=zle(Ule,5,0),Vle=function(e){return(e/8|0)+(7&e&&1)},Hle=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof Cle?Cle:e instanceof _le?_le:Ele)(n-t);return r.set(e.subarray(t,n)),r},Gle=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},qle=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Xle=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,i=n.slice();if(!a)return[tue,0];if(1==a){var o=new Ele(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=a-1;)s=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};var h=i[0].s;for(r=1;r<a;++r)i[r].s>h&&(h=i[r].s);var f=new Cle(h+1),p=Yle(n[c-1],f,0);if(p>t){r=0;var m=0,v=p-t,g=1<<v;for(i.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));r<a;++r){var y=i[r].s;if(!(f[y]>t))break;m+=g-(1<<p-f[y]),f[y]=t}for(m>>>=v;m>0;){var b=i[r].s;f[b]<t?m-=1<<t-f[b]++-1:++r}for(;r>=0&&m;--r){var x=i[r].s;f[x]==t&&(--f[x],++m)}p=t}return[new Ele(f),p]},Yle=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},Kle=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Cle(++t),r=0,a=e[0],i=1,o=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return[n.subarray(0,r),t]},Jle=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},$le=function(e,t,n){var r=n.length,a=Vle(t+2);e[a]=255&r,e[a+1]=r>>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var i=0;i<r;++i)e[a+i+4]=n[i];return 8*(a+4+r)},Qle=function(e,t,n,r,a,i,o,s,l,u,c){Gle(t,c++,n),++a[256];for(var d=Xle(a,15),h=d[0],f=d[1],p=Xle(i,15),m=p[0],v=p[1],g=Kle(h),y=g[0],b=g[1],x=Kle(m),w=x[0],k=x[1],S=new Cle(19),T=0;T<y.length;++T)S[31&y[T]]++;for(T=0;T<w.length;++T)S[31&w[T]]++;for(var E=Xle(S,7),C=E[0],_=E[1],M=19;M>4&&!C[Ile[M-1]];--M);var A,I,N,R,O=u+5<<3,D=Jle(a,Ble)+Jle(i,Ule)+o,P=Jle(a,h)+Jle(i,m)+o+14+3*M+Jle(S,C)+(2*S[16]+3*S[17]+7*S[18]);if(O<=D&&O<=P)return $le(t,c,e.subarray(l,l+u));if(Gle(t,c,1+(P<D)),c+=2,P<D){A=zle(h,f,0),I=h,N=zle(m,v,0),R=m;var L=zle(C,_,0);for(Gle(t,c,b-257),Gle(t,c+5,k-1),Gle(t,c+10,M-4),c+=14,T=0;T<M;++T)Gle(t,c+3*T,C[Ile[T]]);c+=3*M;for(var F=[y,w],j=0;j<2;++j){var z=F[j];for(T=0;T<z.length;++T){var B=31&z[T];Gle(t,c,L[B]),c+=C[B],B>15&&(Gle(t,c,z[T]>>>5&127),c+=z[T]>>>12)}}}else A=Wle,I=Ble,N=Zle,R=Ule;for(T=0;T<s;++T)if(r[T]>255){B=r[T]>>>18&31,qle(t,c,A[B+257]),c+=I[B+257],B>7&&(Gle(t,c,r[T]>>>23&31),c+=Mle[B]);var U=31&r[T];qle(t,c,N[U]),c+=R[U],U>3&&(qle(t,c,r[T]>>>5&8191),c+=Ale[U])}else qle(t,c,A[r[T]]),c+=I[r[T]];return qle(t,c,A[256]),c+I[256]},eue=new _le([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tue=new Ele(0),nue=function(){for(var e=new _le(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),rue=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=nue[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}},aue=function(e,t,n,r,a){return function(e,t,n,r,a,i){var o=e.length,s=new Ele(r+o+5*(1+Math.ceil(o/7e3))+a),l=s.subarray(r,s.length-a),u=0;if(!t||o<8)for(var c=0;c<=o;c+=65535){var d=c+65535;d<o?u=$le(l,u,e.subarray(c,d)):(l[c]=i,u=$le(l,u,e.subarray(c,o)))}else{for(var h=eue[t-1],f=h>>>13,p=8191&h,m=(1<<n)-1,v=new Cle(32768),g=new Cle(m+1),y=Math.ceil(n/3),b=2*y,x=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&m},w=new _le(25e3),k=new Cle(288),S=new Cle(32),T=0,E=0,C=(c=0,0),_=0,M=0;c<o;++c){var A=x(c),I=32767&c,N=g[A];if(v[I]=N,g[A]=I,_<=c){var R=o-c;if((T>7e3||C>24576)&&R>423){u=Qle(e,l,0,w,k,S,E,C,M,c-M,u),C=T=E=0,M=c;for(var O=0;O<286;++O)k[O]=0;for(O=0;O<30;++O)S[O]=0}var D=2,P=0,L=p,F=I-N&32767;if(R>2&&A==x(c-F))for(var j=Math.min(f,R)-1,z=Math.min(32767,c),B=Math.min(258,R);F<=z&&--L&&I!=N;){if(e[c+D]==e[c+D-F]){for(var U=0;U<B&&e[c+U]==e[c+U-F];++U);if(U>D){if(D=U,P=F,U>j)break;var W=Math.min(F,U-2),Z=0;for(O=0;O<W;++O){var V=c-F+O+32768&32767,H=V-v[V]+32768&32767;H>Z&&(Z=H,N=V)}}}F+=(I=N)-(N=v[I])+32768&32767}if(P){w[C++]=268435456|Dle[D]<<18|Ple[P];var G=31&Dle[D],q=31&Ple[P];E+=Mle[G]+Ale[q],++k[257+G],++S[q],_=c+D,++T}else w[C++]=e[c],++k[e[c]]}}u=Qle(e,l,i,w,k,S,E,C,M,c-M,u),!i&&7&u&&(u=$le(l,u+1,tue))}return Hle(s,0,r+Vle(u)+a)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!a)},iue=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},oue=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function sue(e,t){return aue(e,t||{},0,0)}var lue=function e(t,n,r,a){for(var i in t){var o=t[i],s=n+i;o instanceof Ele?r[s]=[o,a]:Array.isArray(o)?r[s]=[o[0],iue(a,o[1])]:e(o,s+"/",r,a)}},uue="undefined"!=typeof TextEncoder&&new TextEncoder,cue="undefined"!=typeof TextDecoder&&new TextDecoder;try{cue.decode(tue,{stream:!0})}catch(c4){}function due(e,t){if(t){for(var n=new Ele(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}if(uue)return uue.encode(e);var a=e.length,i=new Ele(e.length+(e.length>>1)),o=0,s=function(e){i[o++]=e};for(r=0;r<a;++r){if(o+5>i.length){var l=new Ele(o+8+(a-r<<1));l.set(i),i=l}var u=e.charCodeAt(r);u<128||t?s(u):u<2048?(s(192|u>>6),s(128|63&u)):u>55295&&u<57344?(s(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++r))>>18),s(128|u>>12&63),s(128|u>>6&63),s(128|63&u)):(s(224|u>>12),s(128|u>>6&63),s(128|63&u))}return Hle(i,0,o)}var hue=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;if(r>65535)throw"extra field too long";t+=r+4}return t},fue=function(e,t,n,r,a,i,o,s){var l=r.length,u=n.extra,c=s&&s.length,d=hue(u);oue(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(null==i&&8),e[t++]=a&&8,e[t++]=255&n.compression,e[t++]=n.compression>>8;var h=new Date(null==n.mtime?Date.now():n.mtime),f=h.getFullYear()-1980;if(f<0||f>119)throw"date not in range 1980-2099";if(oue(e,t,f<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),t+=4,null!=i&&(oue(e,t,n.crc),oue(e,t+4,i),oue(e,t+8,n.size)),oue(e,t+12,l),oue(e,t+14,d),t+=16,null!=o&&(oue(e,t,c),oue(e,t+6,n.attrs),oue(e,t+10,o),t+=14),e.set(r,t),t+=l,d)for(var p in u){var m=u[p],v=m.length;oue(e,t,+p),oue(e,t+2,v),e.set(m,t+4),t+=4+v}return c&&(e.set(s,t),t+=c),t};function pue(e,t){t||(t={});var n={},r=[];lue(e,"",n,t);var a=0,i=0;for(var o in n){var s=n[o],l=s[0],u=s[1],c=0==u.level?0:8,d=(S=due(o)).length,h=u.comment,f=h&&due(h),p=f&&f.length,m=hue(u.extra);if(d>65535)throw"filename too long";var v=c?sue(l,u):l,g=v.length,y=rue();y.p(l),r.push(iue(u,{size:l.length,crc:y.d(),c:v,f:S,m:f,u:d!=o.length||f&&h.length!=p,o:a,compression:c})),a+=30+d+m+g,i+=76+2*(d+m)+(p||0)+g}for(var b=new Ele(i+22),x=a,w=i-a,k=0;k<r.length;++k){var S=r[k];fue(b,S.o,S,S.f,S.u,S.c.length);var T=30+S.f.length+hue(S.extra);b.set(S.c,S.o+T),fue(b,a,S,S.f,S.u,S.c.length,S.o,S.m),a+=16+T+(S.m?S.m.length:0)}return function(e,t,n,r,a){oue(e,t,101010256),oue(e,t+8,n),oue(e,t+10,n),oue(e,t+12,r),oue(e,t+16,a)}(b,a,r.length,w,x),b}var mue=function(){function e(){M(this,e)}return N(e,[{key:"parse",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i,o,s,l,u,c,d,h;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n={})["model.usda"]=null,r='#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n',a={},i={},t.traverseVisible((function(e){if(e.isMesh&&e.material.isMeshStandardMaterial){var t=e.geometry,i=e.material,o="geometries/Geometry_"+t.id+".usd";if(!(o in n)){var s=function(e){return'\ndef "Geometry"\n{\n  '.concat(function(e){var t=e.attributes,n=t.position.count;return'\n    def Mesh "'.concat("Geometry",'"\n    {\n        int[] faceVertexCounts = [').concat(function(e){var t=null!==e.index?e.index.array.length:e.attributes.position.count;return Array(t/3).fill(3).join(", ")}(e),"]\n        int[] faceVertexIndices = [").concat(function(e){if(null!==e.index)return e.index.array.join(", ");for(var t=[],n=e.attributes.position.count,r=0;r<n;r++)t.push(r);return t.join(", ")}(e),"]\n        normal3f[] normals = [").concat(yue(t.normal,n),'] (\n            interpolation = "vertex"\n        )\n        point3f[] points = [').concat(yue(t.position,n),"]\n        float2[] primvars:st = [").concat(function(e,t){if(void 0===e)return console.warn("USDZExporter: UVs missing."),Array(t).fill("(0, 0)").join(", ");for(var n=[],r=e.array,a=0;a<r.length;a+=2)n.push("(".concat(r[a+0].toPrecision(7),", ").concat(1-r[a+1].toPrecision(7),")"));return n.join(", ")}(t.uv,n),'] (\n            interpolation = "vertex"\n        )\n        uniform token subdivisionScheme = "none"\n    }\n')}(e),"\n}\n")}(t);n[o]=function(e){var t='#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n';return due(t+=e)}(s)}i.uuid in a||(a[i.uuid]=i),r+=function(e,t,n){var r="Object_"+e.id,a=function(e){var t=e.elements;return"( ".concat(gue(t,0),", ").concat(gue(t,4),", ").concat(gue(t,8),", ").concat(gue(t,12)," )")}(e.matrixWorld);return e.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",e),'def Xform "'.concat(r,'" (\n    prepend references = @./geometries/Geometry_').concat(t.id,".usd@</Geometry>\n)\n{\n    matrix4d xformOp:transform = ").concat(a,'\n    uniform token[] xformOpOrder = ["xformOp:transform"]\n\n    rel material:binding = </Materials/Material_').concat(n.id,">\n}\n\n")}(e,t,i)}})),r+=function(e,t){var n=[];for(var r in e){var a=e[r];n.push(bue(a,t))}return'def "Materials"\n{\n'.concat(n.join(""),"\n}\n\n")}(a,i),n["model.usda"]=due(r),r=null,o=fo().mark((function e(){var t,r,a,o,l;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i[s],r=s.split("_")[1],a=1023===t.format,o=vue(t.image,r),e.next=6,new Promise((function(e){return o.toBlob(e,a?"image/png":"image/jpeg",1)}));case 6:return l=e.sent,e.t0=Uint8Array,e.next=10,l.arrayBuffer();case 10:e.t1=e.sent,n["textures/Texture_".concat(s,".").concat(a?"png":"jpg")]=new e.t0(e.t1);case 12:case"end":return e.stop()}}),e)})),e.t0=fo().keys(i);case 7:if((e.t1=e.t0()).done){e.next=12;break}return s=e.t1.value,e.delegateYield(o(),"t2",10);case 10:e.next=7;break;case 12:for(u in l=0,n)c=n[u],l+=34+u.length,4!==(d=63&l)&&(h=new Uint8Array(64-d),n[u]=[c,{extra:{12345:h}}]),l=c.length;return e.abrupt("return",pue(n,{level:0}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function vue(e,t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var n=1024/Math.max(e.width,e.height),r=document.createElement("canvas");r.width=e.width*Math.min(1,n),r.height=e.height*Math.min(1,n);var a=r.getContext("2d");if(a.drawImage(e,0,0,r.width,r.height),void 0!==t){for(var i=parseInt(t,16),o=(i>>16&255)/255,s=(i>>8&255)/255,l=(255&i)/255,u=a.getImageData(0,0,r.width,r.height),c=u.data,d=0;d<c.length;d+=4)c[d+0]=c[d+0]*o,c[d+1]=c[d+1]*s,c[d+2]=c[d+2]*l;a.putImageData(u,0,0)}return r}}function gue(e,t){return"(".concat(e[t+0],", ").concat(e[t+1],", ").concat(e[t+2],", ").concat(e[t+3],")")}function yue(e,t){if(void 0===e)return console.warn("USDZExporter: Normals missing."),Array(t).fill("(0, 0, 0)").join(", ");for(var n=[],r=e.array,a=0;a<r.length;a+=3)n.push("(".concat(r[a+0].toPrecision(7),", ").concat(r[a+1].toPrecision(7),", ").concat(r[a+2].toPrecision(7),")"));return n.join(", ")}function bue(e,t){var n="            ",r=[],a=[];function i(n,r,a){var i=n.id+(a?"_"+a.getHexString():""),o=1023===n.format;return t[i]=n,'\n        def Shader "Transform2d_'.concat(r,'" (\n            sdrMetadata = {\n                string role = "math"\n            }\n        )\n        {\n            uniform token info:id = "UsdTransform2d"\n            float2 inputs:in.connect = </Materials/Material_').concat(e.id,"/uvReader_st.outputs:result>\n            float2 inputs:scale = ").concat(wue(n.repeat),"\n            float2 inputs:translation = ").concat(wue(n.offset),'\n            float2 outputs:result\n        }\n\n        def Shader "Texture_').concat(n.id,"_").concat(r,'"\n        {\n            uniform token info:id = "UsdUVTexture"\n            asset inputs:file = @textures/Texture_').concat(i,".").concat(o?"png":"jpg","@\n            float2 inputs:st.connect = </Materials/Material_").concat(e.id,"/Transform2d_").concat(r,'.outputs:result>\n            token inputs:wrapS = "repeat"\n            token inputs:wrapT = "repeat"\n            float outputs:r\n            float outputs:g\n            float outputs:b\n            float3 outputs:rgb\n        }')}return null!==e.map?(r.push("".concat(n,"color3f inputs:diffuseColor.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.map.id,"_diffuse.outputs:rgb>")),a.push(i(e.map,"diffuse",e.color))):r.push("".concat(n,"color3f inputs:diffuseColor = ").concat(xue(e.color))),null!==e.emissiveMap?(r.push("".concat(n,"color3f inputs:emissiveColor.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.emissiveMap.id,"_emissive.outputs:rgb>")),a.push(i(e.emissiveMap,"emissive"))):e.emissive.getHex()>0&&r.push("".concat(n,"color3f inputs:emissiveColor = ").concat(xue(e.emissive))),null!==e.normalMap&&(r.push("".concat(n,"normal3f inputs:normal.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.normalMap.id,"_normal.outputs:rgb>")),a.push(i(e.normalMap,"normal"))),null!==e.aoMap&&(r.push("".concat(n,"float inputs:occlusion.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.aoMap.id,"_occlusion.outputs:r>")),a.push(i(e.aoMap,"occlusion"))),null!==e.roughnessMap&&1===e.roughness?(r.push("".concat(n,"float inputs:roughness.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.roughnessMap.id,"_roughness.outputs:g>")),a.push(i(e.roughnessMap,"roughness"))):r.push("".concat(n,"float inputs:roughness = ").concat(e.roughness)),null!==e.metalnessMap&&1===e.metalness?(r.push("".concat(n,"float inputs:metallic.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.metalnessMap.id,"_metallic.outputs:b>")),a.push(i(e.metalnessMap,"metallic"))):r.push("".concat(n,"float inputs:metallic = ").concat(e.metalness)),null!==e.alphaMap?(r.push("".concat(n,"float inputs:opacity.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.alphaMap.id,"_opacity.outputs:r>")),r.push("".concat(n,"float inputs:opacityThreshold = 0.0001")),a.push(i(e.alphaMap,"opacity"))):r.push("".concat(n,"float inputs:opacity = ").concat(e.opacity)),e.isMeshPhysicalMaterial&&(r.push("".concat(n,"float inputs:clearcoat = ").concat(e.clearcoat)),r.push("".concat(n,"float inputs:clearcoatRoughness = ").concat(e.clearcoatRoughness)),r.push("".concat(n,"float inputs:ior = ").concat(e.ior))),'\n    def Material "Material_'.concat(e.id,'"\n    {\n        def Shader "PreviewSurface"\n        {\n            uniform token info:id = "UsdPreviewSurface"\n').concat(r.join("\n"),"\n            int inputs:useSpecularWorkflow = 0\n            token outputs:surface\n        }\n\n        token outputs:surface.connect = </Materials/Material_").concat(e.id,'/PreviewSurface.outputs:surface>\n        token inputs:frame:stPrimvarName = "st"\n\n        def Shader "uvReader_st"\n        {\n            uniform token info:id = "UsdPrimvarReader_float2"\n            token inputs:varname.connect = </Materials/Material_').concat(e.id,".inputs:frame:stPrimvarName>\n            float2 inputs:fallback = (0.0, 0.0)\n            float2 outputs:result\n        }\n\n").concat(a.join("\n"),"\n\n    }\n")}function xue(e){return"(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")}function wue(e){return"(".concat(e.x,", ").concat(e.y,")")}var kue,Sue,Tue,Eue,Cue=function(e,t,n,r){for(var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},_ue=!1,Mue=!1,Aue=(kue=["quick-look","scene-viewer","webxr","none"],function(e){try{var t,n=qie(e),r=(n.length?n[0].terms:[]).filter((function(e){return e&&"ident"===e.type})).map((function(e){return e.value})).filter((function(e){return kue.indexOf(e)>-1})),a=new Set,i=X(r);try{for(i.s();!(t=i.n()).done;){var o=t.value;a.add(o)}}catch(JNe){i.e(JNe)}finally{i.f()}return a}catch(e){}return new Set}),Iue="quick-look",Nue="scene-viewer",Rue="webxr",Oue="none",Due=Symbol("arButtonContainer"),Pue=Symbol("enterARWithWebXR"),Lue=Symbol("openSceneViewer"),Fue=Symbol("openIOSARQuickLook"),jue=Symbol("canActivateAR"),zue=Symbol("arMode"),Bue=Symbol("arModes"),Uue=Symbol("arAnchor"),Wue=Symbol("preload"),Zue=Symbol("onARButtonContainerClick"),Vue=Symbol("onARStatus"),Hue=Symbol("onARTracking"),Gue=Symbol("onARTap"),que=Symbol("selectARMode"),Xue=Symbol("triggerLoad"),Yue=Symbol("evaluate"),Kue=Symbol("lastValue"),Jue=function(){function e(){M(this,e),this[Sue]=null}return N(e,[{key:"isConstant",get:function(){return!1}},{key:"evaluate",value:function(){return this.isConstant&&null!=this[Kue]||(this[Kue]=this[Yue]()),this[Kue]}}],[{key:"evaluatableFor",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:toe;if(t instanceof e)return t;if("number"===t.type)return"%"===t.unit?new ace(t,n):t;switch(t.name.value){case"calc":return new uce(t,n);case"env":return new oce(t)}return toe}},{key:"evaluate",value:function(t){return t instanceof e?t.evaluate():t}},{key:"isConstant",value:function(t){return!(t instanceof e)||t.isConstant}},{key:"applyIntrinsics",value:function(e,t){var n=t.basis,r=t.keywords,a=r.auto;return n.map((function(t,n){var i=null==a[n]?t:a[n],o=e[n]?e[n]:i;if("ident"===o.type){var s=o.value;s in r&&(o=r[s][n])}return null!=o&&"ident"!==o.type||(o=i),"%"===o.unit?Gie(o.number/100*t.number,t.unit):(o=aoe(o,t)).unit!==t.unit?t:o}))}}]),e}();Sue=Kue;var $ue,Que,ece,tce,nce=Symbol("percentage"),rce=Symbol("basis"),ace=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this))[nce]=e,a[rce]=r,a}return N(n,[{key:"isConstant",get:function(){return!0}},{key:Yue,value:function(){return Gie(this[nce].number/100*this[rce].number,this[rce].unit)}}]),n}(Jue),ice=Symbol("identNode"),oce=function(e,t){O(r,e);var n=z(r);function r(e){var t;M(this,r),(t=n.call(this))[Tue]=null;var a=e.arguments.length?e.arguments[0].terms[0]:null;return null!=a&&"ident"===a.type&&(t[ice]=a),t}return N(r,[{key:"isConstant",get:function(){return!1}},{key:t,value:function(){return null!=this[ice]&&"window-scroll-y"===this[ice].value?{type:"number",number:window.pageYOffset/(Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-window.innerHeight)||0,unit:null}:toe}}]),r}(Jue,(Tue=ice,Yue)),sce=/[\*\/]/,lce=Symbol("evalutor"),uce=function(e,t){O(r,e);var n=z(r);function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:toe;if(M(this,r),(t=n.call(this))[Eue]=null,1!==e.arguments.length)return j(t);for(var i=e.arguments[0].terms.slice(),o=[];i.length;){var s=i.shift();if(o.length>0){var l=o[o.length-1];if("operator"===l.type&&sce.test(l.value)){var u=o.pop(),c=o.pop();if(null==c)return j(t);o.push(new fce(u,Jue.evaluatableFor(c,a),Jue.evaluatableFor(s,a)));continue}}o.push("operator"===s.type?s:Jue.evaluatableFor(s,a))}for(;o.length>2;){var d=o.splice(0,3),h=(0,Z.Z)(d,3),f=h[0],p=h[1],m=h[2];if("operator"!==p.type)return j(t);o.unshift(new fce(p,Jue.evaluatableFor(f,a),Jue.evaluatableFor(m,a)))}return 1===o.length&&(t[lce]=o[0]),j(t)}return N(r,[{key:"isConstant",get:function(){return null==this[lce]||Jue.isConstant(this[lce])}},{key:t,value:function(){return null!=this[lce]?Jue.evaluate(this[lce]):toe}}]),r}(Jue,(Eue=lce,Yue)),cce=Symbol("operator"),dce=Symbol("left"),hce=Symbol("right"),fce=function(e){O(n,e);var t=z(n);function n(e,r,a){var i;return M(this,n),(i=t.call(this))[cce]=e,i[dce]=r,i[hce]=a,i}return N(n,[{key:"isConstant",get:function(){return Jue.isConstant(this[dce])&&Jue.isConstant(this[hce])}},{key:Yue,value:function(){var e=aoe(Jue.evaluate(this[dce])),t=aoe(Jue.evaluate(this[hce])),n=e.number,r=e.unit,a=t.number,i=t.unit;if(null!=i&&null!=r&&i!=r)return toe;var o,s=r||i;switch(this[cce].value){case"+":o=n+a;break;case"-":o=n-a;break;case"/":o=n/a;break;case"*":o=n*a;break;default:return toe}return{type:"number",number:o,unit:s}}}]),n}(Jue),pce=Symbol("evaluatables"),mce=Symbol("intrinsics"),vce=function(e){O(n,e);var t=z(n);function n(e,r){var a;M(this,n),(a=t.call(this))[mce]=r;var i=e[0],o=null!=i?i.terms:[];return a[pce]=r.basis.map((function(e,t){var n=o[t];return null==n?{type:"ident",value:"auto"}:"ident"===n.type?n:Jue.evaluatableFor(n,e)})),a}return N(n,[{key:"isConstant",get:function(){var e,t=X(this[pce]);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!Jue.isConstant(n))return!1}}catch(JNe){t.e(JNe)}finally{t.f()}return!0}},{key:Yue,value:function(){var e=this[pce].map((function(e){return Jue.evaluate(e)}));return Jue.applyIntrinsics(e,this[mce]).map((function(e){return e.number}))}}]),n}(Jue),gce=Symbol("instances"),yce=Symbol("activateListener"),bce=Symbol("deactivateListener"),xce=Symbol("notifyInstances"),wce=Symbol("notify"),kce=Symbol("callback"),Sce=function(e){function t(e){M(this,t),this[kce]=e}return N(t,[{key:"observe",value:function(){0===t[gce].size&&t[yce](),t[gce].add(this)}},{key:"disconnect",value:function(){t[gce].delete(this),0===t[gce].size&&t[bce]()}},{key:wce,value:function(){this[kce]()}}],[{key:xce,value:function(){var e,n=X(t[gce]);try{for(n.s();!(e=n.n()).done;){e.value[wce]()}}catch(JNe){n.e(JNe)}finally{n.f()}}},{key:e,value:function(){window.addEventListener("scroll",this[xce],{passive:!0})}},{key:bce,value:function(){window.removeEventListener("scroll",this[xce])}}]),t}(($ue=gce,yce));Sce[$ue]=new Set;var Tce=Symbol("computeStyleCallback"),Ece=Symbol("astWalker"),Cce=Symbol("dependencies"),_ce=Symbol("onScroll"),Mce=function(){function e(t){var n=this;M(this,e),this[Que]={},this[ece]=new eoe(["function"]),this[tce]=function(){n[Tce]({relatedState:"window-scroll"})},this[Tce]=t}return N(e,[{key:"observeEffectsFor",value:function(e){var t=this,n={},r=this[Cce];for(var a in this[Ece].walk(e,(function(e){var a=e.name,i=e.arguments[0].terms[0];if("env"===a.value&&null!=i&&"ident"===i.type&&"window-scroll-y"===i.value&&null==n["window-scroll"]){var o="window-scroll"in r?r["window-scroll"]:new Sce(t[_ce]);o.observe(),delete r["window-scroll"],n["window-scroll"]=o}})),r)r[a].disconnect();this[Cce]=n}},{key:"dispose",value:function(){for(var e in this[Cce])this[Cce][e].disconnect()}}]),e}();Que=Cce,ece=Ece,tce=_ce;var Ace,Ice,Nce=function(e){var t=e.observeEffects||!1,n=e.intrinsics instanceof Function?e.intrinsics:function(){return e.intrinsics};return function(r,a){var i,o=r.updated,s=r.connectedCallback,l=r.disconnectedCallback,u=Symbol("".concat(a,"StyleEffector")),c=Symbol("".concat(a,"StyleEvaluator")),d=Symbol("".concat(a,"UpdateEvaluator")),h=Symbol("".concat(a,"EvaluateAndSync"));Object.defineProperties(r,(i={},(0,kt.Z)(i,u,{value:null,writable:!0}),(0,kt.Z)(i,c,{value:null,writable:!0}),(0,kt.Z)(i,d,{value:function(){var e=this,r=qie(this[a]);this[c]=new vce(r,n(this)),null==this[u]&&t&&(this[u]=new Mce((function(){return e[h]()}))),null!=this[u]&&this[u].observeEffectsFor(r)}}),(0,kt.Z)(i,h,{value:function(){if(null!=this[c]){var t=this[c].evaluate();this[e.updateHandler](t)}}}),(0,kt.Z)(i,"updated",{value:function(e){e.has(a)&&(this[d](),this[h]()),o.call(this,e)}}),(0,kt.Z)(i,"connectedCallback",{value:function(){s.call(this),this.requestUpdate(a,this[a])}}),(0,kt.Z)(i,"disconnectedCallback",{value:function(){l.call(this),null!=this[u]&&(this[u].dispose(),this[u]=null)}}),i))}},Rce=Object.freeze({minimumRadius:0,maximumRadius:1/0,minimumPolarAngle:Math.PI/8,maximumPolarAngle:Math.PI-Math.PI/8,minimumAzimuthalAngle:-1/0,maximumAzimuthalAngle:1/0,minimumFieldOfView:10,maximumFieldOfView:45,interactionPolicy:"always-allow",touchAction:"pan-y"}),Oce=Math.PI/8,Dce="user-interaction",Pce=function(e){O(n,e);var t=z(n);function n(e,r){var a;return M(this,n),(a=t.call(this)).camera=e,a.element=r,a.sensitivity=1,a._interactionEnabled=!1,a._disableZoom=!1,a.isUserChange=!1,a.isUserPointing=!1,a.spherical=new iae,a.goalSpherical=new iae,a.thetaDamper=new Hie,a.phiDamper=new Hie,a.radiusDamper=new Hie,a.logFov=Math.log(Rce.maximumFieldOfView),a.goalLogFov=a.logFov,a.fovDamper=new Hie,a.touchMode=null,a.lastPointerPosition={clientX:0,clientY:0},a.touchDecided=!1,a.onMouseMove=function(e){a.handleSinglePointerMove(e),e.cancelable&&e.preventDefault()},a.onTouchMove=function(e){null!==a.touchMode&&(a.touchMode(e),null!==a.touchMode&&e.cancelable&&e.preventDefault())},a.touchModeZoom=function(e){var t=e.targetTouches;if(a.lastTouches.length>1&&t.length>1){var n=.04*(a.twoTouchDistance(a.lastTouches[0],a.lastTouches[1])-a.twoTouchDistance(t[0],t[1]))/10;a.userAdjustOrbit(0,0,n),a.lastTouches=t}},a.touchModeRotate=function(e){var t=e.targetTouches,n=a._options.touchAction;if(!a.touchDecided&&"none"!==n){a.touchDecided=!0;var r=t[0],i=r.clientX,o=r.clientY,s=Math.abs(i-a.lastPointerPosition.clientX),l=Math.abs(o-a.lastPointerPosition.clientY);if("pan-y"===n&&l>s||"pan-x"===n&&s>l)return void(a.touchMode=null)}a.handleSinglePointerMove(t[0]),a.lastTouches=t},a.onMouseDown=function(e){a.onPointerDown((function(){self.addEventListener("mousemove",a.onMouseMove),self.addEventListener("mouseup",a.onMouseUp,{once:!0}),a.handleSinglePointerDown(e)}))},a.onTouchStart=function(e){a.onPointerDown((function(){var t=e.targetTouches,n=e.changedTouches,r=e.touches;t.length===n.length&&(a.touchMode=null,a.touchDecided=!1),t.length===r.length&&a.onTouchChange(e)}))},a.onMouseUp=function(e){self.removeEventListener("mousemove",a.onMouseMove),a.onPointerUp()},a.onTouchEnd=function(e){e.targetTouches.length>0&&null!==a.touchMode&&a.onTouchChange(e),a.onPointerUp()},a.onWheel=function(e){if(a.canInteract){var t=e.deltaY*(1==e.deltaMode?18:1)*.04/30;a.userAdjustOrbit(0,0,t),e.cancelable&&e.preventDefault()}},a.onKeyDown=function(e){var t=!1;switch(e.keyCode){case 33:t=!0,a.userAdjustOrbit(0,0,.04);break;case 34:t=!0,a.userAdjustOrbit(0,0,-.04);break;case 38:t=!0,a.userAdjustOrbit(0,-Oce,0);break;case 40:t=!0,a.userAdjustOrbit(0,Oce,0);break;case 37:t=!0,a.userAdjustOrbit(-Oce,0,0);break;case 39:t=!0,a.userAdjustOrbit(Oce,0,0)}t&&e.cancelable&&e.preventDefault()},a._options=Object.assign({},Rce),a.setOrbit(0,Math.PI/2,1),a.setFieldOfView(100),a.jumpToGoal(),a}return N(n,[{key:"interactionEnabled",get:function(){return this._interactionEnabled}},{key:"enableInteraction",value:function(){if(!1===this._interactionEnabled){var e=this.element;e.addEventListener("mousedown",this.onMouseDown),this._disableZoom||e.addEventListener("wheel",this.onWheel),e.addEventListener("keydown",this.onKeyDown),e.addEventListener("touchstart",this.onTouchStart,{passive:!0}),e.addEventListener("touchmove",this.onTouchMove,{passive:!1}),e.addEventListener("touchend",this.onTouchEnd),this.element.style.cursor="grab",this._interactionEnabled=!0,this.updateTouchActionStyle()}}},{key:"disableInteraction",value:function(){if(!0===this._interactionEnabled){var e=this.element;self.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),this._disableZoom||e.removeEventListener("wheel",this.onWheel),e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),self.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("touchend",this.onTouchEnd),e.style.cursor="",this.touchMode=null,this._interactionEnabled=!1,this.updateTouchActionStyle()}}},{key:"options",get:function(){return this._options}},{key:"disableZoom",set:function(e){this._disableZoom!=e&&(this._disableZoom=e,!0===e?this.element.removeEventListener("wheel",this.onWheel):this.element.addEventListener("wheel",this.onWheel),this.updateTouchActionStyle())}},{key:"getCameraSpherical",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new iae).copy(this.spherical)}},{key:"getFieldOfView",value:function(){return this.camera.fov}},{key:"applyOptions",value:function(e){Object.assign(this._options,e),this.setOrbit(),this.setFieldOfView(Math.exp(this.goalLogFov))}},{key:"updateNearFar",value:function(e,t){this.camera.near=Math.max(e,t/1e3),this.camera.far=t,this.camera.updateProjectionMatrix()}},{key:"updateAspect",value:function(e){this.camera.aspect=e,this.camera.updateProjectionMatrix()}},{key:"setOrbit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.goalSpherical.theta,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.goalSpherical.phi,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.goalSpherical.radius,r=this._options,a=r.minimumAzimuthalAngle,i=r.maximumAzimuthalAngle,o=r.minimumPolarAngle,s=r.maximumPolarAngle,l=r.minimumRadius,u=r.maximumRadius,c=this.goalSpherical,d=c.theta,h=c.phi,f=c.radius,p=Uie(e,a,i);isFinite(a)||isFinite(i)||(this.spherical.theta=this.wrapAngle(this.spherical.theta-p)+p);var m=Uie(t,o,s),v=Uie(n,l,u);return(p!==d||m!==h||v!==f)&&(this.goalSpherical.theta=p,this.goalSpherical.phi=m,this.goalSpherical.radius=v,this.goalSpherical.makeSafe(),this.isUserChange=!1,!0)}},{key:"setRadius",value:function(e){this.goalSpherical.radius=e,this.setOrbit()}},{key:"setFieldOfView",value:function(e){var t=this._options,n=t.minimumFieldOfView,r=t.maximumFieldOfView;e=Uie(e,n,r),this.goalLogFov=Math.log(e)}},{key:"setDamperDecayTime",value:function(e){this.thetaDamper.setDecayTime(e),this.phiDamper.setDecayTime(e),this.radiusDamper.setDecayTime(e),this.fovDamper.setDecayTime(e)}},{key:"adjustOrbit",value:function(e,t,n){var r=this.goalSpherical,a=r.theta,i=r.phi,o=r.radius,s=this._options,l=s.minimumRadius,u=s.maximumRadius,c=s.minimumFieldOfView,d=s.maximumFieldOfView,h=this.spherical.theta-a,f=Math.PI-.001,p=a-Uie(e,-f-h,f-h),m=i-t,v=0===n?0:((n>0?u:l)-o)/(Math.log(n>0?d:c)-this.goalLogFov),g=o+n*Math.min(isFinite(v)?v:1/0,u-l);if(this.setOrbit(p,m,g),0!==n){var y=this.goalLogFov+n;this.setFieldOfView(Math.exp(y))}}},{key:"jumpToGoal",value:function(){this.update(0,1e4)}},{key:"update",value:function(e,t){if(!this.isStationary()){var n=this._options,r=n.maximumPolarAngle,a=n.maximumRadius,i=this.spherical.theta-this.goalSpherical.theta;Math.abs(i)>Math.PI&&!isFinite(this._options.minimumAzimuthalAngle)&&!isFinite(this._options.maximumAzimuthalAngle)&&(this.spherical.theta-=2*Math.sign(i)*Math.PI),this.spherical.theta=this.thetaDamper.update(this.spherical.theta,this.goalSpherical.theta,t,Math.PI),this.spherical.phi=this.phiDamper.update(this.spherical.phi,this.goalSpherical.phi,t,r),this.spherical.radius=this.radiusDamper.update(this.spherical.radius,this.goalSpherical.radius,t,a),this.logFov=this.fovDamper.update(this.logFov,this.goalLogFov,t,1),this.moveCamera()}}},{key:"updateTouchActionStyle",value:function(){var e=this.element.style;if(this._interactionEnabled){var t=this._options.touchAction;this._disableZoom&&"none"!==t?e.touchAction="manipulation":e.touchAction=t}else e.touchAction=""}},{key:"isStationary",value:function(){return this.goalSpherical.theta===this.spherical.theta&&this.goalSpherical.phi===this.spherical.phi&&this.goalSpherical.radius===this.spherical.radius&&this.goalLogFov===this.logFov}},{key:"moveCamera",value:function(){this.spherical.makeSafe(),this.camera.position.setFromSpherical(this.spherical),this.camera.setRotationFromEuler(new L6(this.spherical.phi-Math.PI/2,this.spherical.theta,0,"YXZ")),this.camera.fov!==Math.exp(this.logFov)&&(this.camera.fov=Math.exp(this.logFov),this.camera.updateProjectionMatrix());var e=this.isUserChange?Dce:"none";this.dispatchEvent({type:"change",source:e})}},{key:"canInteract",get:function(){return"allow-when-focused"==this._options.interactionPolicy?this.element.getRootNode().activeElement===this.element:"always-allow"===this._options.interactionPolicy}},{key:"userAdjustOrbit",value:function(e,t,n){this.adjustOrbit(e*this.sensitivity,t*this.sensitivity,n),this.isUserChange=!0,this.dispatchEvent({type:"change",source:Dce})}},{key:"wrapAngle",value:function(e){var t=(e+Math.PI)/(2*Math.PI);return 2*(t-Math.floor(t))*Math.PI-Math.PI}},{key:"pixelLengthToSphericalAngle",value:function(e){return 2*Math.PI*e/this.element.clientHeight}},{key:"twoTouchDistance",value:function(e,t){var n=e.clientX,r=e.clientY,a=t.clientX-n,i=t.clientY-r;return Math.sqrt(a*a+i*i)}},{key:"handleSinglePointerMove",value:function(e){var t=e.clientX,n=e.clientY,r=this.pixelLengthToSphericalAngle(t-this.lastPointerPosition.clientX),a=this.pixelLengthToSphericalAngle(n-this.lastPointerPosition.clientY);this.lastPointerPosition.clientX=t,this.lastPointerPosition.clientY=n,!1===this.isUserPointing&&(this.isUserPointing=!0,this.dispatchEvent({type:"pointer-change-start",pointer:Object.assign({},e)})),this.userAdjustOrbit(r,a,0)}},{key:"onPointerDown",value:function(e){this.canInteract&&(this.isUserPointing=!1,e())}},{key:"onTouchChange",value:function(e){var t=e.targetTouches;2===t.length?(this.touchMode=this._disableZoom||this.touchDecided&&null===this.touchMode?null:this.touchModeZoom,this.touchDecided=!0):(this.touchMode=this.touchModeRotate,this.handleSinglePointerDown(t[0])),this.lastTouches=t}},{key:"handleSinglePointerDown",value:function(e){this.lastPointerPosition.clientX=e.clientX,this.lastPointerPosition.clientY=e.clientY,this.element.style.cursor="grabbing"}},{key:"onPointerUp",value:function(){this.element.style.cursor="grab",this.isUserPointing&&this.dispatchEvent({type:"pointer-change-end",pointer:Object.assign({},this.lastPointerPosition)})}}]),n}(w5),Lce=function(e){return e<.5?2*e*e:(4-2*e)*e-1},Fce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lce;return function(r){return e+(t-e)*n(r)}},jce=function(e,t){for(var n=[],r=[],a=e,i=0;i<t.length;++i){var o=t[i],s=o.value,l=o.frames,u=o.ease||Lce,c=Fce(a,s,u);n.push(c),r.push(l),a=s}return function(e,t){var n=t.reduce((function(e,t){return e+t}),0),r=t.map((function(e){return e/n}));return function(t){for(var n=0,a=1/0,i=function(){return 0},o=0;o<r.length&&(a=r[o],i=e[o],!(t<=n+a));++o)n+=a;return i((t-n)/a)}}(n,r)},zce=function(e,t,n,r){for(var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Bce=jce(0,[{frames:5,value:-1},{frames:1,value:-1},{frames:8,value:1},{frames:1,value:1},{frames:5,value:0},{frames:18,value:0}]),Uce=jce(0,[{frames:1,value:1},{frames:5,value:1},{frames:1,value:0},{frames:6,value:0}]),Wce=1.1*uoe,Zce=["front","right","back","left"],Vce=["upper-","","lower-"],Hce="auto",Gce="when-focused",qce="wiggle",Xce=function(e){return{basis:[Gie(e[xde]*Math.PI/180,"rad")],keywords:{auto:[null]}}},Yce={basis:[noe(Gie(25,"deg"))],keywords:{auto:[null]}},Kce=function(e){var t=e[ele];return{basis:[noe(Gie(45,"deg"))],keywords:{auto:[Gie(t.framedFieldOfView,"deg")]}}},Jce=function(){var e=qie("0deg 75deg 105%")[0].terms,t=aoe(e[0]),n=aoe(e[1]);return function(e){var r=e[ele].idealCameraDistance;return{basis:[t,n,Gie(r,"m")],keywords:{auto:[null,null,Gie(105,"%")]}}}}(),$ce=function(e){var t=Wce*e[ele].idealCameraDistance;return{basis:[Gie(-1/0,"rad"),Gie(Math.PI/8,"rad"),Gie(t,"m")],keywords:{auto:[null,null,null]}}},Qce=function(e){var t=Jce(e),n=new vce([],t).evaluate()[2];return{basis:[Gie(1/0,"rad"),Gie(Math.PI-Math.PI/8,"rad"),Gie(n,"m")],keywords:{auto:[null,null,null]}}},ede=function(e){var t=e[ele].boundingBox.getCenter(new Y5);return{basis:[Gie(t.x,"m"),Gie(t.y,"m"),Gie(t.z,"m")],keywords:{auto:[null,null,null]}}},tde=Math.PI/2,nde=Math.PI/3,rde=tde/2,ade=2*Math.PI,ide=Symbol("controls"),ode=Symbol("promptElement"),sde=Symbol("promptAnimatedContainer"),lde=Symbol("deferInteractionPrompt"),ude=Symbol("updateAria"),cde=Symbol("updateCameraForRadius"),dde=Symbol("onBlur"),hde=Symbol("onFocus"),fde=Symbol("onChange"),pde=Symbol("onPointerChange"),mde=Symbol("waitingToPromptUser"),vde=Symbol("userHasInteracted"),gde=Symbol("promptElementVisibleTime"),yde=Symbol("lastPromptOffset"),bde=Symbol("focusedTime"),xde=Symbol("zoomAdjustedFieldOfView"),wde=Symbol("lastSpherical"),kde=Symbol("jumpCamera"),Sde=Symbol("initialized"),Tde=Symbol("maintainThetaPhi"),Ede=Symbol("syncCameraOrbit"),Cde=Symbol("syncFieldOfView"),_de=Symbol("syncCameraTarget"),Mde=Symbol("syncMinCameraOrbit"),Ade=Symbol("syncMaxCameraOrbit"),Ide=Symbol("syncMinFieldOfView"),Nde=Symbol("syncMaxFieldOfView"),Rde=Symbol("modelViewerStatusInstance"),Ode=Symbol("updateStatus");Ace=Rde,Ice=Ode;var Dde=function(e,t,n,r){for(var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Pde="auto",Lde="manual",Fde=new(function(e){O(n,e);var t=z(n);function n(){var e;M(this,n),(e=t.call(this))[Ace]=null,e.registeredInstanceStatuses=new Map,e.loadingPromises=[],e.statusElement=document.createElement("p"),e.statusUpdateInProgress=!1,e[Ice]=Bie((function(){return e.updateStatus()}),100);var r=F(e).statusElement,a=r.style;return r.setAttribute("role","status"),r.classList.add("screen-reader-only"),a.top=a.left="0",a.pointerEvents="none",e}return N(n,[{key:"registerInstance",value:function(e){if(!this.registeredInstanceStatuses.has(e)){var t=function(){},n=!1===e.loaded&&!!e.src,r=new Promise((function(r){if(n){var a=function t(){r(),e.removeEventListener("load",t),e.removeEventListener("error",t)};e.addEventListener("load",a),e.addEventListener("error",a),t=a}else r()}));this.registeredInstanceStatuses.set(e,{onUnregistered:t}),this.loadingPromises.push(r),null==this.modelViewerStatusInstance&&(this.modelViewerStatusInstance=e)}}},{key:"unregisterInstance",value:function(e){if(this.registeredInstanceStatuses.has(e)){var t=this.registeredInstanceStatuses,n=t.get(e);t.delete(e),n.onUnregistered(),this.modelViewerStatusInstance===e&&(this.modelViewerStatusInstance=t.size>0?function(e){if(null!=e.keys)return e.keys().next().value||null;var t=null;try{e.forEach((function(e,n,r){throw t=n,new Error}))}catch(e){}return t}(t):null)}}},{key:"modelViewerStatusInstance",get:function(){return this[Rde]},set:function(e){if(this[Rde]!==e){var t=this.statusElement;null!=e&&null!=e.shadowRoot?e.shadowRoot.appendChild(t):null!=t.parentNode&&t.parentNode.removeChild(t),this[Rde]=e,this[Ode]()}}},{key:"updateStatus",value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.statusUpdateInProgress||0===this.loadingPromises.length){e.next=10;break}this.statusElement.textContent="This page includes one or more 3D models that are loading",this.statusUpdateInProgress=!0,this.dispatchEvent({type:"initial-status-announced"});case 2:if(!this.loadingPromises.length){e.next=9;break}return t=this.loadingPromises,this.loadingPromises=[],e.next=7,Promise.all(t);case 7:e.next=2;break;case 9:this.statusElement.textContent="All 3D models in the page have loaded",this.statusUpdateInProgress=!1,this.dispatchEvent({type:"finished-loading-announced"});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(w5)),jde=Symbol("defaultProgressBarElement"),zde=Symbol("defaultProgressMaskElement"),Bde=Symbol("posterContainerElement"),Ude=Symbol("defaultPosterElement"),Wde=Symbol("posterDismissalSource"),Zde=Symbol("hidePoster"),Vde=Symbol("modelIsRevealed"),Hde=Symbol("updateProgressBar"),Gde=Symbol("lastReportedProgress"),qde=Symbol("transitioned"),Xde=Symbol("onTransitionEnd"),Yde=Symbol("ariaLabelCallToAction"),Kde=Symbol("onClick"),Jde=Symbol("onKeydown"),$de=Symbol("onProgress"),Qde=function(){function e(){M(this,e),this.pluginCallbacks=[],this.register((function(e){return new uhe(e)})),this.register((function(e){return new che(e)})),this.register((function(e){return new dhe(e)})),this.register((function(e){return new hhe(e)})),this.register((function(e){return new fhe(e)}))}return N(e,[{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n){for(var r=new lhe,a=[],i=0,o=this.pluginCallbacks.length;i<o;i++)a.push(this.pluginCallbacks[i](r));r.setPlugins(a),r.write(e,t,n)}}]),e}(),ehe=5121,the=5123,nhe={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987,1001:33071,1e3:10497,1002:33648},rhe={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"};function ahe(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function ihe(e){return 4*Math.ceil(e/4)}function ohe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ihe(e.byteLength);if(n!==e.byteLength){var r=new Uint8Array(n);if(r.set(new Uint8Array(e)),0!==t)for(var a=e.byteLength;a<n;a++)r[a]=t;return r.buffer}return e}var she=null,lhe=function(){function e(){M(this,e),this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}return N(e,[{key:"setPlugins",value:function(e){this.plugins=e}},{key:"write",value:function(e,t,n){this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,embedImages:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},n),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(e);var r=this;Promise.all(this.pending).then((function(){var e=r.buffers,n=r.json,a=r.options,i=r.extensionsUsed,o=new Blob(e,{type:"application/octet-stream"}),s=Object.keys(i);if(s.length>0&&(n.extensionsUsed=s),n.buffers&&n.buffers.length>0&&(n.buffers[0].byteLength=o.size),!0===a.binary){var l=new window.FileReader;l.readAsArrayBuffer(o),l.onloadend=function(){var e=ohe(l.result),r=new DataView(new ArrayBuffer(8));r.setUint32(0,e.byteLength,!0),r.setUint32(4,5130562,!0);var a=ohe(function(e){if(void 0!==window.TextEncoder)return(new TextEncoder).encode(e).buffer;for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0,r=e.length;n<r;n++){var a=e.charCodeAt(n);t[n]=a>255?32:a}return t.buffer}(JSON.stringify(n)),32),i=new DataView(new ArrayBuffer(8));i.setUint32(0,a.byteLength,!0),i.setUint32(4,1313821514,!0);var o=new ArrayBuffer(12),s=new DataView(o);s.setUint32(0,1179937895,!0),s.setUint32(4,2,!0);var u=12+i.byteLength+a.byteLength+r.byteLength+e.byteLength;s.setUint32(8,u,!0);var c=new Blob([o,i,a,r,e],{type:"application/octet-stream"}),d=new window.FileReader;d.readAsArrayBuffer(c),d.onloadend=function(){t(d.result)}}}else if(n.buffers&&n.buffers.length>0){var u=new window.FileReader;u.readAsDataURL(o),u.onloadend=function(){var e=u.result;n.buffers[0].uri=e,t(n)}}else t(n)}))}},{key:"serializeUserData",value:function(e,t){if(0!==Object.keys(e.userData).length){var n=this.options,r=this.extensionsUsed;try{var a=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&a.gltfExtensions){for(var i in void 0===t.extensions&&(t.extensions={}),a.gltfExtensions)t.extensions[i]=a.gltfExtensions[i],r[i]=!0;delete a.gltfExtensions}Object.keys(a).length>0&&(t.extras=a)}catch(t){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+t.message)}}}},{key:"getUID",value:function(e){return this.uids.has(e)||this.uids.set(e,this.uid++),this.uids.get(e)}},{key:"isNormalizedNormalAttribute",value:function(e){if(this.cache.attributesNormalized.has(e))return!1;for(var t=new Y5,n=0,r=e.count;n<r;n++)if(Math.abs(t.fromBufferAttribute(e,n).length()-1)>5e-4)return!1;return!0}},{key:"createNormalizedNormalAttribute",value:function(e){var t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);for(var n=e.clone(),r=new Y5,a=0,i=n.count;a<i;a++)r.fromBufferAttribute(n,a),0===r.x&&0===r.y&&0===r.z?r.setX(1):r.normalize(),n.setXYZ(a,r.x,r.y,r.z);return t.attributesNormalized.set(e,n),n}},{key:"applyTextureTransform",value:function(e,t){var n=!1,r={};0===t.offset.x&&0===t.offset.y||(r.offset=t.offset.toArray(),n=!0),0!==t.rotation&&(r.rotation=t.rotation,n=!0),1===t.repeat.x&&1===t.repeat.y||(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}},{key:"processBuffer",value:function(e){var t=this.json,n=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),n.push(e),0}},{key:"processBufferView",value:function(e,t,n,r,a){var i,o=this.json;o.bufferViews||(o.bufferViews=[]),i=t===ehe?1:t===the?2:4;for(var s=ihe(r*e.itemSize*i),l=new DataView(new ArrayBuffer(s)),u=0,c=n;c<n+r;c++)for(var d=0;d<e.itemSize;d++){var h=void 0;e.itemSize>4?h=e.array[c*e.itemSize+d]:0===d?h=e.getX(c):1===d?h=e.getY(c):2===d?h=e.getZ(c):3===d&&(h=e.getW(c)),5126===t?l.setFloat32(u,h,!0):5125===t?l.setUint32(u,h,!0):t===the?l.setUint16(u,h,!0):t===ehe&&l.setUint8(u,h),u+=i}var f={buffer:this.processBuffer(l.buffer),byteOffset:this.byteOffset,byteLength:s};return void 0!==a&&(f.target=a),34962===a&&(f.byteStride=e.itemSize*i),this.byteOffset+=s,o.bufferViews.push(f),{id:o.bufferViews.length-1,byteLength:0}}},{key:"processBufferViewImage",value:function(e){var t=this,n=t.json;return n.bufferViews||(n.bufferViews=[]),new Promise((function(r){var a=new window.FileReader;a.readAsArrayBuffer(e),a.onloadend=function(){var e=ohe(a.result),i={buffer:t.processBuffer(e),byteOffset:t.byteOffset,byteLength:e.byteLength};t.byteOffset+=e.byteLength,r(n.bufferViews.push(i)-1)}}))}},{key:"processAccessor",value:function(e,t,n,r){var a,i=this.options,o=this.json;if(e.array.constructor===Float32Array)a=5126;else if(e.array.constructor===Uint32Array)a=5125;else if(e.array.constructor===Uint16Array)a=the;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");a=ehe}if(void 0===n&&(n=0),void 0===r&&(r=e.count),i.truncateDrawRange&&void 0!==t&&null===t.index){var s=n+r,l=t.drawRange.count===1/0?e.count:t.drawRange.start+t.drawRange.count;n=Math.max(n,t.drawRange.start),(r=Math.min(s,l)-n)<0&&(r=0)}if(0===r)return null;var u,c=function(e,t,n){for(var r={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},a=t;a<t+n;a++)for(var i=0;i<e.itemSize;i++){var o=void 0;e.itemSize>4?o=e.array[a*e.itemSize+i]:0===i?o=e.getX(a):1===i?o=e.getY(a):2===i?o=e.getZ(a):3===i&&(o=e.getW(a)),r.min[i]=Math.min(r.min[i],o),r.max[i]=Math.max(r.max[i],o)}return r}(e,n,r);void 0!==t&&(u=e===t.index?34963:34962);var d=this.processBufferView(e,a,n,r,u),h={bufferView:d.id,byteOffset:d.byteOffset,componentType:a,count:r,max:c.max,min:c.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(h.normalized=!0),o.accessors||(o.accessors=[]),o.accessors.push(h)-1}},{key:"processImage",value:function(e,t,n){var r=this,a=r.cache,i=r.json,o=r.options,s=r.pending;a.images.has(e)||a.images.set(e,{});var l=a.images.get(e),u=1023===t?"image/png":"image/jpeg",c=u+":flipY/"+n.toString();if(void 0!==l[c])return l[c];i.images||(i.images=[]);var d={mimeType:u};if(o.embedImages){var h=she=she||document.createElement("canvas");h.width=Math.min(e.width,o.maxTextureSize),h.height=Math.min(e.height,o.maxTextureSize);var f=h.getContext("2d");if(!0===n&&(f.translate(0,h.height),f.scale(1,-1)),"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap)f.drawImage(e,0,0,h.width,h.height);else{1023!==t&&1022!==t&&console.error("GLTFExporter: Only RGB and RGBA formats are supported."),(e.width>o.maxTextureSize||e.height>o.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);var p=new Uint8ClampedArray(e.height*e.width*4);if(1023===t)for(var m=0;m<p.length;m+=4)p[m+0]=e.data[m+0],p[m+1]=e.data[m+1],p[m+2]=e.data[m+2],p[m+3]=e.data[m+3];else for(var v=0,g=0;v<p.length;v+=4,g+=3)p[v+0]=e.data[g+0],p[v+1]=e.data[g+1],p[v+2]=e.data[g+2],p[v+3]=255;f.putImageData(new ImageData(p,e.width,e.height),0,0)}!0===o.binary?s.push(new Promise((function(e){h.toBlob((function(t){r.processBufferViewImage(t).then((function(t){d.bufferView=t,e()}))}),u)}))):d.uri=h.toDataURL(u)}else d.uri=e.src;var y=i.images.push(d)-1;return l[c]=y,y}},{key:"processSampler",value:function(e){var t=this.json;t.samplers||(t.samplers=[]);var n={magFilter:nhe[e.magFilter],minFilter:nhe[e.minFilter],wrapS:nhe[e.wrapS],wrapT:nhe[e.wrapT]};return t.samplers.push(n)-1}},{key:"processTexture",value:function(e){var t=this.cache,n=this.json;if(t.textures.has(e))return t.textures.get(e);n.textures||(n.textures=[]);var r={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY)};e.name&&(r.name=e.name),this._invokeAll((function(t){t.writeTexture&&t.writeTexture(e,r)}));var a=n.textures.push(r)-1;return t.textures.set(e,a),a}},{key:"processMaterial",value:function(e){var t=this.cache,n=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;n.materials||(n.materials=[]);var r={pbrMetallicRoughness:{}};!0!==e.isMeshStandardMaterial&&!0!==e.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var a=e.color.toArray().concat([e.opacity]);if(ahe(a,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=a),e.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=e.metalness,r.pbrMetallicRoughness.roughnessFactor=e.roughness):(r.pbrMetallicRoughness.metallicFactor=.5,r.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap)if(e.metalnessMap===e.roughnessMap){var i={index:this.processTexture(e.metalnessMap)};this.applyTextureTransform(i,e.metalnessMap),r.pbrMetallicRoughness.metallicRoughnessTexture=i}else console.warn("THREE.GLTFExporter: Ignoring metalnessMap and roughnessMap because they are not the same Texture.");if(e.map){var o={index:this.processTexture(e.map)};this.applyTextureTransform(o,e.map),r.pbrMetallicRoughness.baseColorTexture=o}if(e.emissive){var s=e.emissive.clone().multiplyScalar(e.emissiveIntensity),l=Math.max(s.r,s.g,s.b);if(l>1&&(s.multiplyScalar(1/l),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),l>0&&(r.emissiveFactor=s.toArray()),e.emissiveMap){var u={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(u,e.emissiveMap),r.emissiveTexture=u}}if(e.normalMap){var c={index:this.processTexture(e.normalMap)};e.normalScale&&1!==e.normalScale.x&&(c.scale=e.normalScale.x),this.applyTextureTransform(c,e.normalMap),r.normalTexture=c}if(e.aoMap){var d={index:this.processTexture(e.aoMap),texCoord:1};1!==e.aoMapIntensity&&(d.strength=e.aoMapIntensity),this.applyTextureTransform(d,e.aoMap),r.occlusionTexture=d}e.transparent?r.alphaMode="BLEND":e.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=e.alphaTest),2===e.side&&(r.doubleSided=!0),""!==e.name&&(r.name=e.name),this.serializeUserData(e,r),this._invokeAll((function(t){t.writeMaterial&&t.writeMaterial(e,r)}));var h=n.materials.push(r)-1;return t.materials.set(e,h),h}},{key:"processMesh",value:function(e){var t=this.cache,n=this.json,r=[e.geometry.uuid];if(Array.isArray(e.material))for(var a=0,i=e.material.length;a<i;a++)r.push(e.material[a].uuid);else r.push(e.material.uuid);var o=r.join(":");if(t.meshes.has(o))return t.meshes.get(o);var s,l=e.geometry;if(s=e.isLineSegments?1:e.isLineLoop?2:e.isLine?3:e.isPoints?0:e.material.wireframe?1:4,!0!==l.isBufferGeometry)throw new Error("THREE.GLTFExporter: Geometry is not of type THREE.BufferGeometry.");var u={},c={},d=[],h=[],f={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},p=l.getAttribute("normal");void 0===p||this.isNormalizedNormalAttribute(p)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),l.setAttribute("normal",this.createNormalizedNormalAttribute(p)));var m=null;for(var v in l.attributes)if("morph"!==v.substr(0,5)){var g=l.attributes[v];if(v=f[v]||v.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(v)||(v="_"+v),t.attributes.has(this.getUID(g)))c[v]=t.attributes.get(this.getUID(g));else{m=null;var y=g.array;"JOINTS_0"!==v||y instanceof Uint16Array||y instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),m=new w8(new Uint16Array(y),g.itemSize,g.normalized));var b=this.processAccessor(m||g,l);null!==b&&(c[v]=b,t.attributes.set(this.getUID(g),b))}}if(void 0!==p&&l.setAttribute("normal",p),0===Object.keys(c).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){var x=[],w=[],k={};if(void 0!==e.morphTargetDictionary)for(var S in e.morphTargetDictionary)k[e.morphTargetDictionary[S]]=S;for(var T=0;T<e.morphTargetInfluences.length;++T){var E={},C=!1;for(var _ in l.morphAttributes)if("position"===_||"normal"===_){var M=l.morphAttributes[_][T],A=_.toUpperCase(),I=l.attributes[_];if(t.attributes.has(this.getUID(M)))E[A]=t.attributes.get(this.getUID(M));else{var N=M.clone();if(!l.morphTargetsRelative)for(var R=0,O=M.count;R<O;R++)N.setXYZ(R,M.getX(R)-I.getX(R),M.getY(R)-I.getY(R),M.getZ(R)-I.getZ(R));E[A]=this.processAccessor(N,l),t.attributes.set(this.getUID(I),E[A])}}else C||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),C=!0);h.push(E),x.push(e.morphTargetInfluences[T]),void 0!==e.morphTargetDictionary&&w.push(k[T])}u.weights=x,w.length>0&&(u.extras={},u.extras.targetNames=w)}var D=Array.isArray(e.material);if(D&&0===l.groups.length)return null;for(var P=D?e.material:[e.material],L=D?l.groups:[{materialIndex:0,start:void 0,count:void 0}],F=0,j=L.length;F<j;F++){var z={mode:s,attributes:c};if(this.serializeUserData(l,z),h.length>0&&(z.targets=h),null!==l.index){var B=this.getUID(l.index);void 0===L[F].start&&void 0===L[F].count||(B+=":"+L[F].start+":"+L[F].count),t.attributes.has(B)?z.indices=t.attributes.get(B):(z.indices=this.processAccessor(l.index,l,L[F].start,L[F].count),t.attributes.set(B,z.indices)),null===z.indices&&delete z.indices}var U=this.processMaterial(P[L[F].materialIndex]);null!==U&&(z.material=U),d.push(z)}u.primitives=d,n.meshes||(n.meshes=[]),this._invokeAll((function(t){t.writeMesh&&t.writeMesh(e,u)}));var W=n.meshes.push(u)-1;return t.meshes.set(o,W),W}},{key:"processCamera",value:function(e){var t=this.json;t.cameras||(t.cameras=[]);var n=e.isOrthographicCamera,r={type:n?"orthographic":"perspective"};return n?r.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:r.perspective={aspectRatio:e.aspect,yfov:P5.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},""!==e.name&&(r.name=e.type),t.cameras.push(r)-1}},{key:"processAnimation",value:function(e,t){var n=this.json,r=this.nodeMap;n.animations||(n.animations=[]);for(var a=(e=Qde.Utils.mergeMorphTargetTracks(e.clone(),t)).tracks,i=[],o=[],s=0;s<a.length;++s){var l=a[s],u=eae.parseTrackName(l.name),c=eae.findNode(t,u.nodeName),d=rhe[u.propertyName];if("bones"===u.objectName&&(c=!0===c.isSkinnedMesh?c.skeleton.getBoneByName(u.objectIndex):void 0),!c||!d)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',l.name),null;var h=void 0,f=l.values.length/l.times.length;d===rhe.morphTargetInfluences&&(f/=c.morphTargetInfluences.length),!0===l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(h="CUBICSPLINE",f/=3):h=2300===l.getInterpolation()?"STEP":"LINEAR",o.push({input:this.processAccessor(new w8(l.times,1)),output:this.processAccessor(new w8(l.values,f)),interpolation:h}),i.push({sampler:o.length-1,target:{node:r.get(c),path:d}})}return n.animations.push({name:e.name||"clip_"+n.animations.length,samplers:o,channels:i}),n.animations.length-1}},{key:"processSkin",value:function(e){var t=this.json,n=this.nodeMap,r=t.nodes[n.get(e)],a=e.skeleton;if(void 0===a)return null;var i=e.skeleton.bones[0];if(void 0===i)return null;for(var o=[],s=new Float32Array(16*a.bones.length),l=new C6,u=0;u<a.bones.length;++u)o.push(n.get(a.bones[u])),l.copy(a.boneInverses[u]),l.multiply(e.bindMatrix).toArray(s,16*u);return void 0===t.skins&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new w8(s,16)),joints:o,skeleton:n.get(i)}),r.skin=t.skins.length-1}},{key:"processNode",value:function(e){var t=this.json,n=this.options,r=this.nodeMap;t.nodes||(t.nodes=[]);var a={};if(n.trs){var i=e.quaternion.toArray(),o=e.position.toArray(),s=e.scale.toArray();ahe(i,[0,0,0,1])||(a.rotation=i),ahe(o,[0,0,0])||(a.translation=o),ahe(s,[1,1,1])||(a.scale=s)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===ahe(e.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])&&(a.matrix=e.matrix.elements);if(""!==e.name&&(a.name=String(e.name)),this.serializeUserData(e,a),e.isMesh||e.isLine||e.isPoints){var l=this.processMesh(e);null!==l&&(a.mesh=l)}else e.isCamera&&(a.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){for(var u=[],c=0,d=e.children.length;c<d;c++){var h=e.children[c];if(h.visible||!1===n.onlyVisible){var f=this.processNode(h);null!==f&&u.push(f)}}u.length>0&&(a.children=u)}this._invokeAll((function(t){t.writeNode&&t.writeNode(e,a)}));var p=t.nodes.push(a)-1;return r.set(e,p),p}},{key:"processScene",value:function(e){var t=this.json,n=this.options;t.scenes||(t.scenes=[],t.scene=0);var r={};""!==e.name&&(r.name=e.name),t.scenes.push(r);for(var a=[],i=0,o=e.children.length;i<o;i++){var s=e.children[i];if(s.visible||!1===n.onlyVisible){var l=this.processNode(s);null!==l&&a.push(l)}}a.length>0&&(r.nodes=a),this.serializeUserData(e,r)}},{key:"processObjects",value:function(e){var t=new ete;t.name="AuxScene";for(var n=0;n<e.length;n++)t.children.push(e[n]);this.processScene(t)}},{key:"processInput",value:function(e){var t=this.options;e=e instanceof Array?e:[e],this._invokeAll((function(t){t.beforeParse&&t.beforeParse(e)}));for(var n=[],r=0;r<e.length;r++)e[r]instanceof ete?this.processScene(e[r]):n.push(e[r]);n.length>0&&this.processObjects(n);for(var a=0;a<this.skins.length;++a)this.processSkin(this.skins[a]);for(var i=0;i<t.animations.length;++i)this.processAnimation(t.animations[i],e[0]);this._invokeAll((function(t){t.afterParse&&t.afterParse(e)}))}},{key:"_invokeAll",value:function(e){for(var t=0,n=this.plugins.length;t<n;t++)e(this.plugins[t])}}]),e}(),uhe=function(){function e(t){M(this,e),this.writer=t,this.name="KHR_lights_punctual"}return N(e,[{key:"writeNode",value:function(e,t){if(e.isLight)if(e.isDirectionalLight||e.isPointLight||e.isSpotLight){var n=this.writer,r=n.json,a=n.extensionsUsed,i={};e.name&&(i.name=e.name),i.color=e.color.toArray(),i.intensity=e.intensity,e.isDirectionalLight?i.type="directional":e.isPointLight?(i.type="point",e.distance>0&&(i.range=e.distance)):e.isSpotLight&&(i.type="spot",e.distance>0&&(i.range=e.distance),i.spot={},i.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,i.spot.outerConeAngle=e.angle),void 0!==e.decay&&2!==e.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),!e.target||e.target.parent===e&&0===e.target.position.x&&0===e.target.position.y&&-1===e.target.position.z||console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),a[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},a[this.name]=!0);var o=r.extensions[this.name].lights;o.push(i),t.extensions=t.extensions||{},t.extensions[this.name]={light:o.length-1}}else console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e)}}]),e}(),che=function(){function e(t){M(this,e),this.writer=t,this.name="KHR_materials_unlit"}return N(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshBasicMaterial){var n=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},n[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}}]),e}(),dhe=function(){function e(t){M(this,e),this.writer=t,this.name="KHR_materials_pbrSpecularGlossiness"}return N(e,[{key:"writeMaterial",value:function(e,t){if(e.isGLTFSpecularGlossinessMaterial){var n=this.writer,r=n.extensionsUsed,a={};t.pbrMetallicRoughness.baseColorFactor&&(a.diffuseFactor=t.pbrMetallicRoughness.baseColorFactor);var i=[1,1,1];if(e.specular.toArray(i,0),a.specularFactor=i,a.glossinessFactor=e.glossiness,t.pbrMetallicRoughness.baseColorTexture&&(a.diffuseTexture=t.pbrMetallicRoughness.baseColorTexture),e.specularMap){var o={index:n.processTexture(e.specularMap)};n.applyTextureTransform(o,e.specularMap),a.specularGlossinessTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=a,r[this.name]=!0}}}]),e}(),hhe=function(){function e(t){M(this,e),this.writer=t,this.name="KHR_materials_transmission"}return N(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var n=this.writer,r=n.extensionsUsed,a={};if(a.transmissionFactor=e.transmission,e.transmissionMap){var i={index:n.processTexture(e.transmissionMap)};n.applyTextureTransform(i,e.transmissionMap),a.transmissionTexture=i}t.extensions=t.extensions||{},t.extensions[this.name]=a,r[this.name]=!0}}}]),e}(),fhe=function(){function e(t){M(this,e),this.writer=t,this.name="KHR_materials_volume"}return N(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.thickness){var n=this.writer,r=n.extensionsUsed,a={};if(a.thicknessFactor=e.thickness,e.thicknessMap){var i={index:n.processTexture(e.thicknessMap)};n.applyTextureTransform(i,e.thicknessMap),a.thicknessTexture=i}a.attenuationDistance=e.attenuationDistance,a.attenuationColor=e.attenuationTint.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=a,r[this.name]=!0}}}]),e}();Qde.Utils={insertKeyframe:function(e,t){var n,r=.001,a=e.getValueSize(),i=new e.TimeBufferType(e.times.length+1),o=new e.ValueBufferType(e.values.length+a),s=e.createInterpolant(new e.ValueBufferType(a));if(0===e.times.length){i[0]=t;for(var l=0;l<a;l++)o[l]=0;n=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<r)return 0;i[0]=t,i.set(e.times,1),o.set(s.evaluate(t),0),o.set(e.values,a),n=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<r)return e.times.length-1;i[i.length-1]=t,i.set(e.times,0),o.set(e.values,0),o.set(s.evaluate(t),e.values.length),n=i.length-1}else for(var u=0;u<e.times.length;u++){if(Math.abs(e.times[u]-t)<r)return u;if(e.times[u]<t&&e.times[u+1]>t){i.set(e.times.slice(0,u+1),0),i[u+1]=t,i.set(e.times.slice(u+1),u+2),o.set(e.values.slice(0,(u+1)*a),0),o.set(s.evaluate(t),(u+1)*a),o.set(e.values.slice((u+1)*a),(u+2)*a),n=u+1;break}}return e.times=i,e.values=o,n},mergeMorphTargetTracks:function(e,t){for(var n=[],r={},a=e.tracks,i=0;i<a.length;++i){var o=a[i],s=eae.parseTrackName(o.name),l=eae.findNode(t,s.nodeName);if("morphTargetInfluences"===s.propertyName&&void 0!==s.propertyIndex){if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(o=o.clone()).setInterpolation(2301)}var u=l.morphTargetInfluences.length,c=l.morphTargetDictionary[s.propertyIndex];if(void 0===c)throw new Error("THREE.GLTFExporter: Morph target name not found: "+s.propertyIndex);var d=void 0;if(void 0!==r[l.uuid]){var h=o.createInterpolant(new o.ValueBufferType(1));d=r[l.uuid];for(var f=0;f<d.times.length;f++)d.values[f*u+c]=h.evaluate(d.times[f]);for(var p=0;p<o.times.length;p++){var m=this.insertKeyframe(d,o.times[p]);d.values[m*u+c]=o.values[p]}}else{for(var v=new((d=o.clone()).ValueBufferType)(u*d.times.length),g=0;g<d.times.length;g++)v[g*u+c]=d.values[g];d.name=(s.nodeName||"")+".morphTargetInfluences",d.values=v,r[l.uuid]=d,n.push(d)}}else n.push(o)}return e.tracks=n,e}};var phe,mhe,vhe=function(e){return void 0!==e.material&&e.userData&&e.userData.variantMaterials&&!!Array.from(e.userData.variantMaterials.values()).filter((function(e){return ghe(e.material)}))},ghe=function(e){return e&&e.isMaterial&&!Array.isArray(e)},yhe=function(){function e(t){M(this,e),this.writer=t,this.name="KHR_materials_variants",this.variantNames=[]}return N(e,[{key:"beforeParse",value:function(e){var t,n=this,r=new Set,a=X(e);try{for(a.s();!(t=a.n()).done;){t.value.traverse((function(e){if(vhe(e)){var t,n=e.userData.variantMaterials,a=X(n.keys());try{for(a.s();!(t=a.n()).done;){var i=t.value,o=n.get(i);ghe(o.material)&&r.add(i)}}catch(JNe){a.e(JNe)}finally{a.f()}}}))}}catch(JNe){a.e(JNe)}finally{a.f()}r.forEach((function(e){return n.variantNames.push(e)}))}},{key:"writeMesh",value:function(e,t){if(vhe(e)){var n,r=e.userData,a=r.variantMaterials,i=new Map,o=X(a.keys());try{for(o.s();!(n=o.n()).done;){var s=n.value,l=a.get(s).material;if(ghe(l)){var u=this.variantNames.indexOf(s),c=this.writer.processMaterial(l);i.has(c)||i.set(c,{material:c,variants:[]}),i.get(c).variants.push(u)}}}catch(JNe){o.e(JNe)}finally{o.f()}var d=Array.from(i.values()).map((function(e){return e.variants.sort((function(e,t){return e-t}))&&e})).sort((function(e,t){return e.material-t.material}));if(0!==d.length){var h,f=ghe(r.originalMaterial)?this.writer.processMaterial(r.originalMaterial):-1,p=X(t.primitives);try{for(p.s();!(h=p.n()).done;){var m=h.value;f>=0&&(m.material=f),m.extensions=m.extensions||{},m.extensions[this.name]={mappings:d}}}catch(JNe){p.e(JNe)}finally{p.f()}}}}},{key:"afterParse",value:function(){if(0!==this.variantNames.length){var e=this.writer.json;e.extensions=e.extensions||{};var t=this.variantNames.map((function(e){return{name:e}}));e.extensions[this.name]={variants:t},this.writer.extensionsUsed[this.name]=!0}}}]),e}(),bhe=Symbol("correlatedObjects"),xhe=Symbol("sourceObject"),whe=Symbol("onUpdate"),khe=N((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;M(this,e),this[whe]=t,this[xhe]=n,this[bhe]=r})),She=new wre,The=new y8,Ehe=new g7(2,2),Che=Symbol("threeTexture"),_he=function(e){O(n,e);var t=z(n);function n(e,r,a){return M(this,n),t.call(this,e,a=null!=a?a:{name:"adhoc_image",uri:r&&r.image?r.image.src:"adhoc_image"},new Set(r?[r]:[]))}return N(n,[{key:Che,get:function(){var e;return console.assert(null!=this[bhe]&&this[bhe].size>0,"Image correlated object is undefined"),null===(e=this[bhe])||void 0===e?void 0:e.values().next().value}},{key:"name",get:function(){return this[xhe].name||""}},{key:"uri",get:function(){return this[xhe].uri}},{key:"bufferView",get:function(){return this[xhe].bufferView}},{key:"type",get:function(){return null!=this.uri?"external":"embedded"}},{key:"setURI",value:function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this[xhe].uri=t,e.next=3,new Promise((function(e,n){She.load(t,e,void 0,n)}));case 3:n=e.sent,(r=this[Che]).image=n,r.needsUpdate=!0,this[whe]();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createThumbnail",value:function(){var e=mo(fo().mark((function e(t,n){var r,a,i,o,s,l,u,c;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ete,The.map=this[Che],a=new K8(Ehe,The),r.add(a),i=new _7(-1,1,1,-1,0,1),o=xse.singleton.threeRenderer,s=new G5(t,n),o.setRenderTarget(s),o.render(r,i),o.setRenderTarget(null),l=new Uint8Array(t*n*4),o.readRenderTargetPixels(s,0,0,t,n,l),Lse.width=t,Lse.height=n,u=Lse.getContext("2d"),c=u.createImageData(t,n),e.abrupt("return",(c.data.set(l),u.putImageData(c,0,0),new Promise(function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lse.toBlob((function(e){if(!e)return n("Failed to capture thumbnail.");t(URL.createObjectURL(e))}),"image/png");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(khe);!function(e){e[e.Nearest=9728]="Nearest",e[e.Linear=9729]="Linear",e[e.NearestMipmapNearest=9984]="NearestMipmapNearest",e[e.LinearMipmapNearest=9985]="LinearMipmapNearest",e[e.NearestMipmapLinear=9986]="NearestMipmapLinear",e[e.LinearMipmapLinear=9987]="LinearMipmapLinear"}(phe||(phe={})),function(e){e[e.ClampToEdge=33071]="ClampToEdge",e[e.MirroredRepeat=33648]="MirroredRepeat",e[e.Repeat=10497]="Repeat"}(mhe||(mhe={}));var Mhe,Ahe,Ihe=function(){var e=[phe.Nearest,phe.Linear,phe.NearestMipmapNearest,phe.LinearMipmapLinear,phe.NearestMipmapLinear,phe.LinearMipmapLinear];return function(t){return e.indexOf(t)>-1}}(),Nhe=function(){var e=[phe.Nearest,phe.Linear];return function(t){return e.indexOf(t)>-1}}(),Rhe=function(){var e=[mhe.ClampToEdge,mhe.MirroredRepeat,mhe.Repeat];return function(t){return e.indexOf(t)>-1}}(),Ohe=Symbol("threeTextures"),Dhe=Symbol("setProperty"),Phe=Symbol("sourceSampler"),Lhe=function(e){O(n,e);var t=z(n);function n(e,r,a){return M(this,n),null==(a=null!=a?a:{}).minFilter&&(a.minFilter=r?r.minFilter:phe.LinearMipmapLinear),null==a.magFilter&&(a.magFilter=r?r.magFilter:phe.Linear),null==a.wrapS&&(a.wrapS=r?r.wrapS:mhe.Repeat),null==a.wrapT&&(a.wrapT=r?r.wrapT:mhe.Repeat),t.call(this,e,a,new Set(r?[r]:[]))}return N(n,[{key:Ohe,get:function(){return console.assert(null!=this[bhe]&&this[bhe].size>0,"Sampler correlated object is undefined"),this[bhe]}},{key:Phe,get:function(){return console.assert(null!=this[xhe],"Sampler source is undefined"),this[xhe]}},{key:"name",get:function(){return this[xhe].name||""}},{key:"minFilter",get:function(){return this[Phe].minFilter}},{key:"magFilter",get:function(){return this[Phe].magFilter}},{key:"wrapS",get:function(){return this[Phe].wrapS}},{key:"wrapT",get:function(){return this[Phe].wrapT}},{key:"setMinFilter",value:function(e){this[Dhe]("minFilter",e)}},{key:"setMagFilter",value:function(e){this[Dhe]("magFilter",e)}},{key:"setWrapS",value:function(e){this[Dhe]("wrapS",e)}},{key:"setWrapT",value:function(e){this[Dhe]("wrapT",e)}},{key:Dhe,value:function(e,t){var n=this[Phe];if(null!=n){if(function(e,t){switch(e){case"minFilter":return Ihe(t);case"magFilter":return Nhe(t);case"wrapS":case"wrapT":return Rhe(t);default:throw new Error('Cannot configure property "'.concat(e,'" on Sampler'))}}(e,t)){n[e]=t;var r,a=X(this[Ohe]);try{for(a.s();!(r=a.n()).done;){var i=r.value;i[e]=t,i.needsUpdate=!0}}catch(JNe){a.e(JNe)}finally{a.f()}}this[whe]()}}}]),n}(khe),Fhe=Symbol("image"),jhe=Symbol("sampler"),zhe=function(e){O(n,e);var t=z(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return M(this,n),(a=t.call(this,e,i||{},new Set(r?[r]:[])))[jhe]=new Lhe(e,r,o),a[Fhe]=new _he(e,r,s),a}return N(n,[{key:"name",get:function(){return this[xhe].name||""}},{key:"sampler",get:function(){return this[jhe]}},{key:"source",get:function(){return this[Fhe]}}]),n}(khe),Bhe=Symbol("texture"),Uhe=Symbol("materials"),Whe=Symbol("usage");!function(e){e[e.Base=0]="Base",e[e.MetallicRoughness=1]="MetallicRoughness",e[e.Normal=2]="Normal",e[e.Occlusion=3]="Occlusion",e[e.Emissive=4]="Emissive"}(Ahe||(Ahe={}));var Zhe=function(){function e(t,n,r,a,i,o){if(M(this,e),this[Mhe]=null,o){var s=i.textures?i.textures[o.index]:null,l=s&&i.samplers?i.samplers[s.sampler]:null,u=s&&i.images?i.images[s.source]:null;this[Bhe]=new zhe(t,r,s,l,u)}this.onUpdate=t,this[Uhe]=a,this[Whe]=n}return N(e,[{key:"texture",get:function(){return this[Bhe]}},{key:"setTexture",value:function(e){var t=null!=e?e.source[Che]:null,n=3001;if(this[Bhe]=e,this[Uhe]){var r,a=X(this[Uhe]);try{for(a.s();!(r=a.n()).done;){var i=r.value;switch(this[Whe]){case Ahe.Base:i.map=t;break;case Ahe.MetallicRoughness:n=3e3,i.metalnessMap=t,i.roughnessMap=t;break;case Ahe.Normal:n=3e3,i.normalMap=t;break;case Ahe.Occlusion:n=3e3,i.aoMap=t;break;case Ahe.Emissive:i.emissiveMap=t}i.needsUpdate=!0}}catch(JNe){a.e(JNe)}finally{a.f()}}t&&(t.encoding=n),this.onUpdate()}}]),e}();Mhe=Bhe;var Vhe,Hhe,Ghe=Symbol("threeMaterials"),qhe=Symbol("baseColorTexture"),Xhe=Symbol("metallicRoughnessTexture"),Yhe=function(e){O(n,e);var t=z(n);function n(e,r,a,i){var o;M(this,n),o=t.call(this,e,a,i),null==a.baseColorFactor&&(a.baseColorFactor=[1,1,1,1]),null==a.roughnessFactor&&(a.roughnessFactor=1),null==a.metallicFactor&&(a.metallicFactor=1);var s=a.baseColorTexture,l=a.metallicRoughnessTexture,u=i.values().next().value,c=u.map,d=u.metalnessMap;return o[qhe]=new Zhe(e,Ahe.Base,c,i,r,s||null),o[Xhe]=new Zhe(e,Ahe.MetallicRoughness,d,i,r,l||null),o}return N(n,[{key:Ghe,get:function(){return this[bhe]}},{key:"baseColorFactor",get:function(){return this[xhe].baseColorFactor}},{key:"metallicFactor",get:function(){return this[xhe].metallicFactor}},{key:"roughnessFactor",get:function(){return this[xhe].roughnessFactor}},{key:"baseColorTexture",get:function(){return this[qhe]}},{key:"metallicRoughnessTexture",get:function(){return this[Xhe]}},{key:"setBaseColorFactor",value:function(e){var t,n=X(this[Ghe]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.color.fromArray(e),r.opacity=e[3]}}catch(JNe){n.e(JNe)}finally{n.f()}this[xhe].baseColorFactor=e,this[whe]()}},{key:"setMetallicFactor",value:function(e){var t,n=X(this[Ghe]);try{for(n.s();!(t=n.n()).done;){t.value.metalness=e}}catch(JNe){n.e(JNe)}finally{n.f()}this[xhe].metallicFactor=e,this[whe]()}},{key:"setRoughnessFactor",value:function(e){var t,n=X(this[Ghe]);try{for(n.s();!(t=n.n()).done;){t.value.roughness=e}}catch(JNe){n.e(JNe)}finally{n.f()}this[xhe].roughnessFactor=e,this[whe]()}}]),n}(khe),Khe=Symbol("pbrMetallicRoughness"),Jhe=Symbol("normalTexture"),$he=Symbol("occlusionTexture"),Qhe=Symbol("emissiveTexture"),efe=Symbol("backingThreeMaterial"),tfe=Symbol("applyAlphaCutoff"),nfe=Symbol("lazyLoadGLTFInfo"),rfe=Symbol("initialize"),afe=Symbol("getLoadedMaterial"),ife=Symbol("ensureMaterialIsLoaded"),ofe=function(e){O(n,e);var t=z(n);function n(e,r,a,i,o){var s;return M(this,n),s=t.call(this,e,a,i),null==o?s[rfe](r):s[nfe]=o,s}return N(n,[{key:efe,get:function(){return this[bhe].values().next().value}},{key:rfe,value:function(e){var t=this[whe],n=this[xhe],r=this[bhe];n.extensions&&n.extensions.KHR_materials_pbrSpecularGlossiness&&console.warn("Material ".concat(n.name,' uses a deprecated extension\n          "KHR_materials_pbrSpecularGlossiness", please use\n          "pbrMetallicRoughness" instead. Specular Glossiness materials are\n          currently supported for rendering, but not for our scene-graph API,\n          nor for auto-generation of USDZ for Quick Look.')),null==n.pbrMetallicRoughness&&(n.pbrMetallicRoughness={}),this[Khe]=new Yhe(t,e,n.pbrMetallicRoughness,r),null==n.emissiveFactor&&(n.emissiveFactor=[0,0,0]),null==n.doubleSided&&(n.doubleSided=!1),null==n.alphaMode&&(n.alphaMode="OPAQUE"),null==n.alphaCutoff&&(n.alphaCutoff=.5);var a=n.normalTexture,i=n.occlusionTexture,o=n.emissiveTexture,s=r.values().next().value,l=s.normalMap,u=s.aoMap,c=s.emissiveMap;this[Jhe]=new Zhe(t,Ahe.Normal,l,r,e,a||null),this[$he]=new Zhe(t,Ahe.Occlusion,u,r,e,i||null),this[Qhe]=new Zhe(t,Ahe.Emissive,c,r,e,o||null)}},{key:afe,value:function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this[nfe]){e.next=7;break}return e.next=3,this[nfe].doLazyLoad();case 3:return t=e.sent,n=t.set,r=t.material,e.abrupt("return",(this[bhe]=n,this[rfe](this[nfe].gltf),this[nfe]=void 0,this.ensureLoaded=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),r));case 7:return e.abrupt("return",this[bhe].values().next().value);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:ife,value:function(){if(null!=this[nfe])throw new Error('Material "'.concat(this.name,"\" has not been loaded, call 'await\n    myMaterial.ensureLoaded()' before using an unloaded material."))}},{key:"ensureLoaded",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this[afe]();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isLoaded",get:function(){return null==this[nfe]}},{key:"name",get:function(){return this[xhe].name||""}},{key:"pbrMetallicRoughness",get:function(){return this[ife](),this[Khe]}},{key:"normalTexture",get:function(){return this[ife](),this[Jhe]}},{key:"occlusionTexture",get:function(){return this[ife](),this[$he]}},{key:"emissiveTexture",get:function(){return this[ife](),this[Qhe]}},{key:"emissiveFactor",get:function(){return this[ife](),this[xhe].emissiveFactor}},{key:"setEmissiveFactor",value:function(e){this[ife]();var t,n=X(this[bhe]);try{for(n.s();!(t=n.n()).done;){t.value.emissive.fromArray(e)}}catch(JNe){n.e(JNe)}finally{n.f()}this[xhe].emissiveFactor=e,this[whe]()}},{key:tfe,value:function(){this[ife]();var e,t=this[xhe],n=X(this[bhe]);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.alphaTest=t.alphaCutoff,r.needsUpdate=!0}}catch(JNe){n.e(JNe)}finally{n.f()}}},{key:"setAlphaCutoff",value:function(e){this[ife](),this[xhe].alphaCutoff=e,this[tfe](),this[whe]()}},{key:"getAlphaCutoff",value:function(){return this[ife](),this[xhe].alphaCutoff}},{key:"setDoubleSided",value:function(e){this[ife]();var t,n=X(this[bhe]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.side=e?2:0,r.needsUpdate=!0}}catch(JNe){n.e(JNe)}finally{n.f()}this[xhe].doubleSided=e,this[whe]()}},{key:"getDoubleSided",value:function(){return this[ife](),this[xhe].doubleSided}},{key:"setAlphaMode",value:function(e){this[ife]();var t=function(e,t){e.transparent=t,e.depthWrite=!t};this[xhe].alphaMode=e;var n,r=X(this[bhe]);try{for(r.s();!(n=r.n()).done;){var a=n.value;t(a,"OPAQUE"!==e),this[tfe](),a.needsUpdate=!0}}catch(JNe){r.e(JNe)}finally{r.f()}this[whe]()}},{key:"getAlphaMode",value:function(){return this[ife](),this[xhe].alphaMode}}]),n}(khe),sfe=Symbol("materials"),lfe=Symbol("variantInfo"),ufe=Symbol("mesh"),cfe=Symbol("children"),dfe=Symbol("initialMaterialIdx"),hfe=Symbol("activeMaterialIdx"),ffe=N((function e(t){M(this,e),this.name="",this[Vhe]=new Array,this.name=t}));Vhe=cfe;var pfe,mfe,vfe,gfe,yfe=function(e){O(n,e);var t=z(n);function n(e,r,a){var i;M(this,n),(i=t.call(this,e.name))[Hhe]=new Map,i[ufe]=e;var o=a.gltf,s=a.threeGLTF,l=a.threeObjectMap,u=l.get(e.material);null!=u.materials?i[dfe]=i[hfe]=u.materials:console.error("Primitive (".concat(e.name,") missing initial material reference."));var c,d=l.get(e).meshes,h=X((o.meshes||[])[d].primitives||[]);try{for(h.s();!(c=h.n()).done;){var f=c.value;if(null!=f.material)i[sfe].set(f.material,r[f.material]);else{var p=r.findIndex((function(e){return"Default"===e.name}));p>=0?i[sfe].set(p,r[p]):console.warn("Primitive has no material!")}if(f.extensions&&f.extensions.KHR_materials_variants){var m=f.extensions.KHR_materials_variants,v=s.parser.json.extensions.KHR_materials_variants.variants;i[lfe]=new Map;var g,y=X(m.mappings);try{for(y.s();!(g=y.n()).done;){var b=g.value;i[sfe].set(b.material,r[b.material]);var x,w=X(b.variants);try{for(w.s();!(x=w.n()).done;){var k=v[x.value].name;i[lfe].set(k,{material:r[b.material],index:b.material})}}catch(JNe){w.e(JNe)}finally{w.f()}}}catch(JNe){y.e(JNe)}finally{y.f()}}}}catch(JNe){h.e(JNe)}finally{h.f()}return i}return N(n,[{key:"mesh",get:function(){return this[ufe]}},{key:"setActiveMaterial",value:function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this[sfe].get(t),e.t0=null!=n,!e.t0){e.next=7;break}return e.next=5,n[afe]();case 5:this.mesh.material=e.sent,this[hfe]=t;case 7:return e.abrupt("return",this.mesh.material);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getActiveMaterial",value:function(){return this[sfe].get(this[hfe])}},{key:"enableVariant",value:function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",this.setActiveMaterial(this[dfe]));case 2:if(null==this[lfe]){e.next=6;break}if(null==(n=this[lfe].get(t))){e.next=6;break}return e.abrupt("return",this.setActiveMaterial(n.index));case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"instantiateVariants",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this[lfe]){e.next=22;break}t=X(this[lfe].keys()),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=14;break}if(r=n.value,null==this.mesh.userData.variantMaterials.get(r).material){e.next=8;break}return e.abrupt("continue",12);case 8:return e.next=10,this.enableVariant(r);case 10:null!=(a=e.sent)&&(this.mesh.userData.variantMaterials.get(r).material=a);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),t.e(e.t0);case 19:return e.prev=19,t.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"variantInfo",get:function(){return this[lfe]}}]),n}(ffe);Hhe=sfe;var bfe=Symbol("materials"),xfe=Symbol("hierarchy"),wfe=Symbol("roots"),kfe=Symbol("primitives"),Sfe=Symbol("prepareVariantsForExport"),Tfe=Symbol("switchVariant"),Efe=Symbol("threeScene"),Cfe=Symbol("materialsFromPoint"),_fe=Symbol("materialFromPoint"),Mfe=N((function e(t,n,r,a){M(this,e),this.gltf=t,this.gltfElementMap=n,this.mapKey=r,this.doLazyLoad=a})),Afe=function(e){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};M(this,t),this[pfe]=new Array,this[mfe]=new Array,this[vfe]=new Array,this[gfe]=new Array;var a=e.gltf,i=e.threeGLTF,o=e.gltfElementMap;this[Efe]=i.scene;var s,l=X(a.materials.entries());try{var u=function(){var e=(0,Z.Z)(s.value,2),t=e[0],l=e[1],u=o.get(l);if(null!=u)n[bfe].push(new ofe(r,a,l,u));else{var c=(a.materials||[])[t],d=t,h=function(){var e=mo(fo().mark((function e(){var t,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.parser.getDependency("material",d);case 2:return t=e.sent,n=new Set,e.abrupt("return",(o.set(c,n),n.add(t),{set:n,material:t}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n[bfe].push(new ofe(r,a,c,u,new Mfe(a,o,c,h)))}};for(l.s();!(s=l.n()).done;)u()}catch(JNe){l.e(JNe)}finally{l.f()}var c,d=new Map,h=new Array,f=X(i.scene.children);try{for(f.s();!(c=f.n()).done;){var p=c.value;h.push(p)}}catch(JNe){f.e(JNe)}finally{f.f()}for(;h.length>0;){var m=h.pop(),v=null;m instanceof K8?(v=new yfe(m,this.materials,e),this[kfe].push(v)):v=new ffe(m.name);var g=d.get(m);null!=g?g[cfe].push(v):this[wfe].push(v),this[xfe].push(v);var y,b=X(m.children);try{for(b.s();!(y=b.n()).done;){var x=y.value;h.push(x),d.set(m,v)}}catch(JNe){b.e(JNe)}finally{b.f()}}}return N(t,[{key:"materials",get:function(){return this[bfe]}},{key:"getMaterialByName",value:function(e){var t=this[bfe].filter((function(t){return t.name===e}));return t.length>0?t[0]:null}},{key:e,value:function(e){var t=this;return e.intersectObject(this[Efe],!0).map((function(e){var n=t[xfe].find((function(t){return t instanceof yfe&&t.mesh===e.object}));return null!=n?n.getActiveMaterial():null}))}},{key:_fe,value:function(e){var t=this[Cfe](e);return t.length>0?t[0]:null}},{key:Tfe,value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Array,r=X(this[kfe]);try{for(r.s();!(a=r.n()).done;)i=a.value,n.push(i.enableVariant(t))}catch(JNe){r.e(JNe)}finally{r.f()}return e.next=5,Promise.all(n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:Sfe,value:function(){var e=mo(fo().mark((function e(){var t,n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Array,n=X(this[kfe]);try{for(n.s();!(r=n.n()).done;)a=r.value,t.push(a.instantiateVariants())}catch(JNe){n.e(JNe)}finally{n.f()}return e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}((pfe=bfe,mfe=xfe,vfe=wfe,gfe=kfe,Cfe)),Ife=function(e,t,n,r){for(var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Nfe=Symbol("currentGLTF"),Rfe=Symbol("model"),Ofe=Symbol("variants"),Dfe=Symbol("getOnUpdateMethod"),Pfe=Symbol("textureLoader"),Lfe=Symbol("originalGltfJson"),Ffe=function(e,t,n,r){for(var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},jfe=Math.PI/32,zfe={basis:[noe(Gie(jfe,"rad"))],keywords:{auto:[null]}},Bfe=Symbol("autoRotateStartTime"),Ufe=Symbol("radiansPerSecond"),Wfe=Symbol("syncRotationRate"),Zfe=Symbol("onCameraChange"),Vfe=function(e){var t,n,r,a=function(e,a){O(o,e);var i=z(o);function o(){var e;return M(this,o),(e=i.apply(this,arguments))[t]=new Map,e[n]=function(t){t.forEach((function(t){t instanceof MutationRecord&&"childList"!==t.type||(t.addedNodes.forEach((function(t){e[xle](t)})),t.removedNodes.forEach((function(t){e[wle](t)})),e[tle]())}))},e[r]=new MutationObserver(e[yle]),e}return N(o,[{key:"connectedCallback",value:function(){nv(D(o.prototype),"connectedCallback",this).call(this);for(var e=0;e<this.children.length;++e)this[xle](this.children[e]);var t=self.ShadyDOM;null==t?this[ble].observe(this,{childList:!0}):this[ble]=t.observeChildren(this,this[yle])}},{key:"disconnectedCallback",value:function(){nv(D(o.prototype),"disconnectedCallback",this).call(this);var e=self.ShadyDOM;null==e?this[ble].disconnect():e.unobserveChildren(this[ble])}},{key:a,value:function(e,t){nv(D(o.prototype),nle,this).call(this,e,t);var n=this[ele],r=n.annotationRenderer,a=n.getCamera();n.shouldRender()&&(n.updateHotspots(a.position),r.domElement.style.display="",r.render(n,a))}},{key:"updateHotspot",value:function(e){var t=this[gle].get(e.name);null!=t&&(t.updatePosition(e.position),t.updateNormal(e.normal),this[tle]())}},{key:"positionAndNormalFromPoint",value:function(e,t){var n=this[ele],r=n.getNDC(e,t),a=n.positionAndNormalFromPoint(r);if(null==a)return null;kle.copy(n.target.matrixWorld).invert();var i=hle(a.position.applyMatrix4(kle));return Sle.getNormalMatrix(kle),{position:i,normal:hle(a.normal.applyNormalMatrix(Sle))}}},{key:xle,value:function(e){if(e instanceof HTMLElement&&0===e.slot.indexOf("hotspot")){var t=this[gle].get(e.slot);null!=t?t.increment():(t=new ioe({name:e.slot,position:e.dataset.position,normal:e.dataset.normal}),this[gle].set(e.slot,t),this[ele].addHotspot(t)),this[ele].queueRender()}}},{key:wle,value:function(e){if(e instanceof HTMLElement){var t=this[gle].get(e.slot);t&&(t.decrement()&&(this[ele].removeHotspot(t),this[gle].delete(e.slot)),this[ele].queueRender())}}}]),o}(e,(t=gle,n=yle,r=ble,nle));return a}(function(e){var t,n,r,a,i,o=function(e,o){O(l,e);var s=z(l);function l(){var e;return M(this,l),(e=s.apply(this,arguments))[t]=void 0,e[n]=null,e[r]=[],e[a]=new Tre,e[i]=null,e.variantName=null,e.orientation="0 0 0",e.scale="1 1 1",e}return N(l,[{key:"model",get:function(){return this[Rfe]}},{key:"availableVariants",get:function(){return this[Ofe]}},{key:"originalGltfJson",get:function(){return this[Lfe]}},{key:o,value:function(){var e=this;return function(){e[tle]()}}},{key:"createTexture",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i=this,o=arguments;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"image/png",r=this[Nfe],e.next=4,new Promise((function(e){return i[Pfe].load(t,e)}));case 4:return a=e.sent,e.abrupt("return",r&&a?(a.encoding=3001,a.wrapS=1e3,a.wrapT=1e3,a.flipY=!1,"image/jpeg"===n&&(a.format=1022),new zhe(this[Dfe](),a)):null);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updated",value:function(){var e=mo(fo().mark((function e(t){var n,r,a,i,o,s,u,c;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nv(D(l.prototype),"updated",this).call(this,t),!t.has("variantName")){e.next=8;break}if(n=this[Nfe],r=this.variantName,e.t0=null!=n,!e.t0){e.next=8;break}return e.next=6,this[Rfe][Tfe](r);case 6:this[tle](),this.dispatchEvent(new CustomEvent("variant-applied"));case 8:(t.has("orientation")||t.has("scale"))&&(a=this[ele].modelContainer,i=qie(this.orientation)[0].terms,o=aoe(i[0]).number,s=aoe(i[1]).number,u=aoe(i[2]).number,a.quaternion.setFromEuler(new L6(s,u,o,"YXZ")),c=qie(this.scale)[0].terms,a.scale.set(c[0].number,c[1].number,c[2].number),this[ele].updateBoundingBox(),this[ele].updateShadow(),this[ile].arRenderer.onUpdateScene(),this[tle]());case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:rle,value:function(){nv(D(l.prototype),rle,this).call(this),this[Ofe]=[];var e=this[ele].currentGLTF;if(null!=e){var t=e.correlatedSceneGraph;null!=t&&e!==this[Nfe]&&(this[Rfe]=new Afe(t,this[Dfe]()),this[Lfe]=JSON.parse(JSON.stringify(t.gltf))),"variants"in e.userData&&(this[Ofe]=e.userData.variants.slice(),this.requestUpdate("variantName"))}this[Nfe]=e,this.dispatchEvent(new CustomEvent("scene-graph-ready"))}},{key:"exportScene",value:function(){var e=mo(fo().mark((function e(t){var n,r=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this[ele],e.abrupt("return",new Promise(function(){var e=mo(fo().mark((function e(a){var i,o,s;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={binary:!0,onlyVisible:!0,maxTextureSize:1/0,forcePowerOfTwoTextures:!1,includeCustomExtensions:!1,embedImages:!0},Object.assign(i,t),i.animations=n.animations,i.truncateDrawRange=!0,o=n.shadow,s=!1,null!=o&&(s=o.visible,o.visible=!1),e.next=7,r[Rfe][Sfe]();case 7:(new Qde).register((function(e){return new yhe(e)})).parse(n.modelContainer.children[0],(function(e){return a(new Blob([i.binary?e:JSON.stringify(e)],{type:i.binary?"application/octet-stream":"application/json"}))}),i),null!=o&&(o.visible=s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"materialFromPoint",value:function(e,t){var n=this[ele],r=n.getNDC(e,t);return n.raycaster.setFromCamera(r,n.getCamera()),this[Rfe][_fe](n.raycaster)}}]),l}(e,(t=Rfe,n=Nfe,r=Ofe,a=Pfe,i=Lfe,Dfe));return Ife([r5({type:String,attribute:"variant-name"})],o.prototype,"variantName",void 0),Ife([r5({type:String,attribute:"orientation"})],o.prototype,"orientation",void 0),Ife([r5({type:String,attribute:"scale"})],o.prototype,"scale",void 0),o}(function(e){var t,n,r,a=function(e,a){O(o,e);var i=z(o);function o(){var e;return M(this,o),(e=i.apply(this,arguments)).autoRotate=!1,e.autoRotateDelay=3e3,e.rotationPerSecond="auto",e[t]=performance.now(),e[n]=0,e[r]=function(t){e.autoRotate&&"user-interaction"===t.detail.source&&(e[Bfe]=performance.now())},e}return N(o,[{key:"connectedCallback",value:function(){nv(D(o.prototype),"connectedCallback",this).call(this),this.addEventListener("camera-change",this[Zfe]),this[Bfe]=performance.now()}},{key:"disconnectedCallback",value:function(){nv(D(o.prototype),"disconnectedCallback",this).call(this),this.removeEventListener("camera-change",this[Zfe]),this[Bfe]=performance.now()}},{key:"updated",value:function(e){nv(D(o.prototype),"updated",this).call(this,e),e.has("autoRotate")&&(this[Bfe]=performance.now())}},{key:a,value:function(e){this[Ufe]=e[0]}},{key:nle,value:function(e,t){if(nv(D(o.prototype),nle,this).call(this,e,t),this.autoRotate&&this[dle]()&&!this[ile].isPresenting){var n=Math.min(t,e-this[Bfe]-this.autoRotateDelay);n>0&&(this[ele].yaw=this.turntableRotation+this[Ufe]*n*.001)}}},{key:"turntableRotation",get:function(){return this[ele].yaw}},{key:"resetTurntableRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this[ele].yaw=e}}]),o}(e,(t=Bfe,n=Ufe,Wfe));return r=Zfe,Ffe([r5({type:Boolean,attribute:"auto-rotate"})],a.prototype,"autoRotate",void 0),Ffe([r5({type:Number,attribute:"auto-rotate-delay"})],a.prototype,"autoRotateDelay",void 0),Ffe([Nce({intrinsics:zfe,updateHandler:Wfe}),r5({type:String,attribute:"rotation-per-second"})],a.prototype,"rotationPerSecond",void 0),a}(function(e){var t,n,r,a=function(e,a){O(o,e);var i=z(o);function o(){var e;return M(this,o),(e=i.apply(this,arguments)).environmentImage=null,e.skyboxImage=null,e.shadowIntensity=0,e.shadowSoftness=1,e.exposure=1,e[t]=null,e[n]=null,e[r]=function(t){t.element===F(e)&&e[_oe]()},e}return N(o,[{key:"connectedCallback",value:function(){nv(D(o.prototype),"connectedCallback",this).call(this),this[ile].loader.addEventListener("preload",this[Aoe])}},{key:"disconnectedCallback",value:function(){nv(D(o.prototype),"disconnectedCallback",this).call(this),this[ile].loader.removeEventListener("preload",this[Aoe])}},{key:"updated",value:function(e){nv(D(o.prototype),"updated",this).call(this,e),e.has("shadowIntensity")&&(this[ele].setShadowIntensity(.1*this.shadowIntensity),this[tle]()),e.has("shadowSoftness")&&(this[ele].setShadowSoftness(this.shadowSoftness),this[tle]()),e.has("exposure")&&(this[ele].exposure=this.exposure,this[tle]()),(e.has("environmentImage")||e.has("skyboxImage"))&&this[ule]()&&this[_oe]()}},{key:a,value:function(){nv(D(o.prototype),rle,this).call(this),null!=this[Eoe]&&this[Coe](this[Eoe])}},{key:_oe,value:function(){var e=mo(fo().mark((function e(){var t,n,r,a,i,o,s=this;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.skyboxImage,n=this.environmentImage,null!=this[Moe]&&(this[Moe](),this[Moe]=null),null==(r=this[ile].textureUtils)){e.next=17;break}return e.prev=4,e.next=7,new Promise(function(){var e=mo(fo().mark((function e(a,i){var o;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.generateEnvironmentMapAndSkybox(Fie(t),n,{progressTracker:s[ole]}),s[Moe]=function(){return i(o)},e.t0=a,e.next=5,o;case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:a=e.sent,i=a.environmentMap,o=a.skybox,this[ele].background=null!=o?o.name===i.name?i:o:null,this[Coe](i),this[ele].dispatchEvent({type:"envmap-update"}),e.next=17;break;case 13:if(e.prev=13,e.t0=e.catch(4),!(e.t0 instanceof Error)){e.next=17;break}throw this[Coe](null),e.t0;case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:Coe,value:function(e){this[ele].environment!==e&&(this[Eoe]=e,this[ele].environment=this[Eoe],this.dispatchEvent(new CustomEvent("environment-change")),this[tle]())}}]),o}(e,(t=Eoe,n=Moe,r=Aoe,rle));return Toe([r5({type:String,attribute:"environment-image"})],a.prototype,"environmentImage",void 0),Toe([r5({type:String,attribute:"skybox-image"})],a.prototype,"skyboxImage",void 0),Toe([r5({type:Number,attribute:"shadow-intensity"})],a.prototype,"shadowIntensity",void 0),Toe([r5({type:Number,attribute:"shadow-softness"})],a.prototype,"shadowSoftness",void 0),Toe([r5({type:Number})],a.prototype,"exposure",void 0),a}(function(e){var t,n,r,a,i,o,s,l,u,c,d,h,f,p,m,v,g,y=function(e,y){O(x,e);var b=z(x);function x(){var e;return M(this,x),(e=b.apply(this,arguments)).cameraControls=!1,e.cameraOrbit="0deg 75deg 105%",e.cameraTarget="auto auto auto",e.fieldOfView="auto",e.minCameraOrbit="auto",e.maxCameraOrbit="auto",e.minFieldOfView="auto",e.maxFieldOfView="auto",e.interactionPromptThreshold=3e3,e.interactionPromptStyle=qce,e.interactionPrompt=Hce,e.interactionPolicy="always-allow",e.orbitSensitivity=1,e.touchAction="pan-y",e.disableZoom=!1,e.interpolationDecay=50,e.bounds="legacy",e[t]=e.shadowRoot.querySelector(".interaction-prompt"),e[n]=e.shadowRoot.querySelector(".interaction-prompt > .animated-container"),e[r]=1/0,e[a]=0,e[i]=1/0,e[o]=!1,e[s]=!1,e[l]=new Pce(e[ele].camera,e[$se]),e[u]=0,e[c]=new iae,e[d]=!1,e[h]=!1,e[f]=!1,e[p]=function(){var t=e[$se];isFinite(e[bde])||(e[bde]=performance.now());var n=e[qse];t.getAttribute("aria-label")!==n&&t.setAttribute("aria-label",n),e.interactionPrompt!==Gce||e[vde]||(e[mde]=!0)},e[m]=function(){e.interactionPrompt===Gce&&(e[mde]=!1,e[ode].classList.remove("visible"),e[gde]=1/0,e[bde]=1/0)},e[v]=function(t){var n=t.source;e[ude](),e[tle](),n===Dce&&(e[vde]=!0,e[lde]()),e.dispatchEvent(new CustomEvent("camera-change",{detail:{source:n}}))},e[g]=function(t){"pointer-change-start"===t.type?e[Jse].classList.add("pointer-tumbling"):e[Jse].classList.remove("pointer-tumbling")},e}return N(x,[{key:"getCameraOrbit",value:function(){var e=this[wde];return{theta:e.theta,phi:e.phi,radius:e.radius,toString:function(){return"".concat(this.theta,"rad ").concat(this.phi,"rad ").concat(this.radius,"m")}}}},{key:"getCameraTarget",value:function(){return hle(this[ile].isPresenting?this[ile].arRenderer.target:this[ele].getTarget())}},{key:"getFieldOfView",value:function(){return this[ide].getFieldOfView()}},{key:"getMinimumFieldOfView",value:function(){return this[ide].options.minimumFieldOfView}},{key:"getMaximumFieldOfView",value:function(){return this[ide].options.maximumFieldOfView}},{key:"jumpCameraToGoal",value:function(){this[kde]=!0,this.requestUpdate(kde,!1)}},{key:"resetInteractionPrompt",value:function(){this[yde]=0,this[gde]=1/0,this[vde]=!1,this[mde]=this.interactionPrompt===Hce&&this.cameraControls}},{key:"connectedCallback",value:function(){nv(D(x.prototype),"connectedCallback",this).call(this),this[ide].addEventListener("change",this[fde]),this[ide].addEventListener("pointer-change-start",this[pde]),this[ide].addEventListener("pointer-change-end",this[pde])}},{key:"disconnectedCallback",value:function(){nv(D(x.prototype),"disconnectedCallback",this).call(this),this[ide].removeEventListener("change",this[fde]),this[ide].removeEventListener("pointer-change-start",this[pde]),this[ide].removeEventListener("pointer-change-end",this[pde])}},{key:"updated",value:function(e){var t=this;nv(D(x.prototype),"updated",this).call(this,e);var n=this[ide],r=this[$se];if(e.has("cameraControls")&&(this.cameraControls?(n.enableInteraction(),this.interactionPrompt===Hce&&(this[mde]=!0),r.addEventListener("focus",this[hde]),r.addEventListener("blur",this[dde])):(r.removeEventListener("focus",this[hde]),r.removeEventListener("blur",this[dde]),n.disableInteraction(),this[lde]())),e.has("disableZoom")&&(n.disableZoom=this.disableZoom),e.has("bounds")&&(this[ele].tightBounds="tight"===this.bounds),(e.has("interactionPrompt")||e.has("cameraControls")||e.has("src"))&&(this.interactionPrompt===Hce&&this.cameraControls&&!this[vde]?this[mde]=!0:this[lde]()),e.has("interactionPromptStyle")&&this[ode].classList.toggle("wiggle",this.interactionPromptStyle===qce),e.has("interactionPolicy")){var a=this.interactionPolicy;n.applyOptions({interactionPolicy:a})}if(e.has("touchAction")){var i=this.touchAction;n.applyOptions({touchAction:i}),n.updateTouchActionStyle()}e.has("orbitSensitivity")&&(n.sensitivity=this.orbitSensitivity),e.has("interpolationDecay")&&(n.setDamperDecayTime(this.interpolationDecay),this[ele].setTargetDamperDecayTime(this.interpolationDecay)),!0===this[kde]&&Promise.resolve().then((function(){n.jumpToGoal(),t[ele].jumpToGoal(),t[kde]=!1}))}},{key:"updateFraming",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this[ele],n=t.framedFieldOfView,e.next=3,this.requestUpdate("cameraTarget");case 3:return t.updateFraming("tight"===this.bounds?t.getTarget():void 0),t.frameModel(),r=t.framedFieldOfView,a=this[ide].getFieldOfView()/n,this[xde]=r*a,this[Tde]=!0,this.requestUpdate("maxFieldOfView"),this.requestUpdate("fieldOfView"),this.requestUpdate("minCameraOrbit"),this.requestUpdate("maxCameraOrbit"),e.next=14,this.requestUpdate("cameraOrbit");case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:y,value:function(e){this[ide].setFieldOfView(180*e[0]/Math.PI)}},{key:Ede,value:function(e){if(this[Tde]){var t=this.getCameraOrbit(),n=t.theta,r=t.phi;e[0]=n,e[1]=r,this[Tde]=!1}this[ide].setOrbit(e[0],e[1],e[2])}},{key:Mde,value:function(e){this[ide].applyOptions({minimumAzimuthalAngle:e[0],minimumPolarAngle:e[1],minimumRadius:e[2]}),this.jumpCameraToGoal()}},{key:Ade,value:function(e){this[ide].applyOptions({maximumAzimuthalAngle:e[0],maximumPolarAngle:e[1],maximumRadius:e[2]}),this[cde](e[2]),this.jumpCameraToGoal()}},{key:Ide,value:function(e){this[ide].applyOptions({minimumFieldOfView:180*e[0]/Math.PI}),this.jumpCameraToGoal()}},{key:Nde,value:function(e){this[ide].applyOptions({maximumFieldOfView:180*e[0]/Math.PI}),this.jumpCameraToGoal()}},{key:_de,value:function(e){var t=(0,Z.Z)(e,3),n=t[0],r=t[1],a=t[2];this[ele].setTarget(n,r,a),this[ile].arRenderer.updateTarget()}},{key:nle,value:function(e,t){if(nv(D(x.prototype),nle,this).call(this,e,t),!this[ile].isPresenting&&this[dle]()){var n=performance.now();if(this[mde]){var r=this.interactionPrompt===Hce?this[Xse]:this[bde];this.loaded&&n>r+this.interactionPromptThreshold&&(this[$se].setAttribute("aria-label","Use mouse, touch or arrow keys to control the camera!"),this[mde]=!1,this[gde]=n,this[ode].classList.add("visible"))}if(isFinite(this[gde])&&this.interactionPromptStyle===qce){var a=this[ele],i=(n-this[gde])/5e3%1,o=Bce(i),s=Uce(i);if(this[sde].style.opacity="".concat(s),o!==this[yde]){var l=o*a.width*.05,u=(o-this[yde])*Math.PI/16;this[sde].style.transform="translateX(".concat(l,"px)"),this[ide].adjustOrbit(u,0,0),this[yde]=o}}this[ide].update(e,t),this[ele].updateTarget(t)}}},{key:lde,value:function(){this[mde]=!1,this[ode].classList.remove("visible"),this[gde]=1/0}},{key:cde,value:function(e){var t=this[ele].idealCameraDistance,n=2*Math.max(t,e);this[ide].updateNearFar(0,n)}},{key:ude,value:function(){var e=this[wde],t=e.theta,n=e.phi,r=this[ide].getCameraSpherical(this[wde]),a=r.theta,i=r.phi,o=this.getRootNode();if(null!=o&&o.activeElement===this){var s=(4+Math.floor((t%ade+rde)/tde))%4,l=(4+Math.floor((a%ade+rde)/tde))%4,u=Math.floor(n/nde),c=Math.floor(i/nde);if(l!==s||c!==u){var d="View from stage ".concat(Vce[c]).concat(Zce[l]);this[$se].setAttribute("aria-label",d)}}}},{key:ale,value:function(e){var t=this[ide],n=this[ele].framedFieldOfView;nv(D(x.prototype),ale,this).call(this,e);var r=this[ele].framedFieldOfView,a=t.getFieldOfView()/n;this[xde]=r*a,t.updateAspect(this[ele].aspect),this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.jumpCameraToGoal()}},{key:rle,value:function(){nv(D(x.prototype),rle,this).call(this);var e=this[ele].framedFieldOfView;this[xde]=e,this[Sde]?this[Tde]=!0:this[Sde]=!0,this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.requestUpdate("minCameraOrbit",this.minCameraOrbit),this.requestUpdate("maxCameraOrbit",this.maxCameraOrbit),this.requestUpdate("cameraOrbit",this.cameraOrbit),this.requestUpdate("cameraTarget",this.cameraTarget),this.jumpCameraToGoal()}}]),x}(e,(t=ode,n=sde,r=bde,a=yde,i=gde,o=vde,s=mde,l=ide,u=xde,c=wde,d=kde,h=Sde,f=Tde,Cde));return p=hde,m=dde,v=fde,g=pde,zce([r5({type:Boolean,attribute:"camera-controls"})],y.prototype,"cameraControls",void 0),zce([Nce({intrinsics:Jce,observeEffects:!0,updateHandler:Ede}),r5({type:String,attribute:"camera-orbit",hasChanged:function(){return!0}})],y.prototype,"cameraOrbit",void 0),zce([Nce({intrinsics:ede,observeEffects:!0,updateHandler:_de}),r5({type:String,attribute:"camera-target",hasChanged:function(){return!0}})],y.prototype,"cameraTarget",void 0),zce([Nce({intrinsics:Xce,observeEffects:!0,updateHandler:Cde}),r5({type:String,attribute:"field-of-view",hasChanged:function(){return!0}})],y.prototype,"fieldOfView",void 0),zce([Nce({intrinsics:$ce,updateHandler:Mde}),r5({type:String,attribute:"min-camera-orbit",hasChanged:function(){return!0}})],y.prototype,"minCameraOrbit",void 0),zce([Nce({intrinsics:Qce,updateHandler:Ade}),r5({type:String,attribute:"max-camera-orbit",hasChanged:function(){return!0}})],y.prototype,"maxCameraOrbit",void 0),zce([Nce({intrinsics:Yce,updateHandler:Ide}),r5({type:String,attribute:"min-field-of-view",hasChanged:function(){return!0}})],y.prototype,"minFieldOfView",void 0),zce([Nce({intrinsics:Kce,updateHandler:Nde}),r5({type:String,attribute:"max-field-of-view",hasChanged:function(){return!0}})],y.prototype,"maxFieldOfView",void 0),zce([r5({type:Number,attribute:"interaction-prompt-threshold"})],y.prototype,"interactionPromptThreshold",void 0),zce([r5({type:String,attribute:"interaction-prompt-style"})],y.prototype,"interactionPromptStyle",void 0),zce([r5({type:String,attribute:"interaction-prompt"})],y.prototype,"interactionPrompt",void 0),zce([r5({type:String,attribute:"interaction-policy"})],y.prototype,"interactionPolicy",void 0),zce([r5({type:Number,attribute:"orbit-sensitivity"})],y.prototype,"orbitSensitivity",void 0),zce([r5({type:String,attribute:"touch-action"})],y.prototype,"touchAction",void 0),zce([r5({type:Boolean,attribute:"disable-zoom"})],y.prototype,"disableZoom",void 0),zce([r5({type:Number,attribute:"interpolation-decay"})],y.prototype,"interpolationDecay",void 0),zce([r5({type:String,attribute:"bounds"})],y.prototype,"bounds",void 0),y}(function(e){var t,n,r,a,i,o,s,l,u,c,d=function(e,d){O(f,e);var h=z(f);function f(){var e;return M(this,f),(e=h.apply(this,arguments)).ar=!1,e.arScale="auto",e.arPlacement="floor",e.arModes="webxr scene-viewer",e.iosSrc=null,e.xrEnvironment=!1,e[t]=!1,e[n]=e.shadowRoot.querySelector(".ar-button"),e[r]=document.createElement("a"),e[a]=new Set,e[i]=Oue,e[o]=!1,e[s]=function(t){t.preventDefault(),e.activateAR()},e[l]=function(t){var n=t.status;n!==Loe&&e[ile].arRenderer.presentedScene!==e[ele]||(e.setAttribute("ar-status",n),e.dispatchEvent(new CustomEvent("ar-status",{detail:{status:n}})),n===Loe?e.removeAttribute("ar-tracking"):n===Foe&&e.setAttribute("ar-tracking",joe))},e[u]=function(t){var n=t.status;e.setAttribute("ar-tracking",n),e.dispatchEvent(new CustomEvent("ar-tracking",{detail:{status:n}}))},e[c]=function(t){"_apple_ar_quicklook_button_tapped"==t.data&&e.dispatchEvent(new CustomEvent("quick-look-button-tapped"))},e}return N(f,[{key:"canActivateAR",get:function(){return this[zue]!==Oue}},{key:"connectedCallback",value:function(){nv(D(f.prototype),"connectedCallback",this).call(this),this[ile].arRenderer.addEventListener("status",this[Vue]),this.setAttribute("ar-status",Loe),this[ile].arRenderer.addEventListener("tracking",this[Hue]),this[Uue].addEventListener("message",this[Gue])}},{key:"disconnectedCallback",value:function(){nv(D(f.prototype),"disconnectedCallback",this).call(this),this[ile].arRenderer.removeEventListener("status",this[Vue]),this[ile].arRenderer.removeEventListener("tracking",this[Hue]),this[Uue].removeEventListener("message",this[Gue])}},{key:"update",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nv(D(f.prototype),"update",this).call(this,t),t.has("arScale")&&(this[ele].canScale="fixed"!==this.arScale),t.has("arPlacement")&&(this[ele].updateShadow(),this[tle]()),(t.has("ar")||t.has("arModes")||t.has("iosSrc"))&&(t.has("arModes")&&(this[Bue]=Aue(this.arModes)),this[que]());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"activateAR",value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this[zue],e.next=e.t0===Iue?3:e.t0===Rue?5:e.t0===Nue?8:10;break;case 3:return this[Fue](),e.abrupt("break",11);case 5:return e.next=7,this[Pue]();case 7:return e.abrupt("break",11);case 8:return this[Lue](),e.abrupt("break",11);case 10:console.warn("No AR Mode can be activated. This is probably due to missing configuration or device capabilities");case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:d,value:function(){var e=mo(fo().mark((function e(){var t,n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this[zue]=Oue,!this.ar){e.next=32;break}if(null==this.src){e.next=31;break}t=X(this[Bue]),e.prev=3,t.s();case 5:if((n=t.n()).done){e.next=23;break}if(r=n.value,e.t0="webxr"===r&&f5&&!_ue,!e.t0){e.next=12;break}return e.next=11,this[ile].arRenderer.supportsPresentation();case 11:e.t0=e.sent;case 12:if(!e.t0){e.next=15;break}return this[zue]=Rue,e.abrupt("break",23);case 15:if("scene-viewer"!==r||!b5||Mue){e.next=18;break}return this[zue]=Nue,e.abrupt("break",23);case 18:if("quick-look"!==r||!v5){e.next=21;break}return this[zue]=Iue,e.abrupt("break",23);case 21:e.next=5;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(3),t.e(e.t1);case 28:return e.prev=28,t.f(),e.finish(28);case 31:!this.canActivateAR&&null!=this.iosSrc&&v5&&(this[zue]=Iue);case 32:this.canActivateAR?(this[Due].classList.add("enabled"),this[Due].addEventListener("click",this[Zue])):this[Due].classList.contains("enabled")&&(this[Due].removeEventListener("click",this[Zue]),this[Due].classList.remove("enabled"),a="failed",this.setAttribute("ar-status",a),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:a}})));case 33:case"end":return e.stop()}}),e,this,[[3,25,28,31]])})));return function(){return e.apply(this,arguments)}}()},{key:Pue,value:function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Attempting to present in AR with WebXR..."),e.next=3,this[Xue]();case 3:return e.prev=3,this[Due].removeEventListener("click",this[Zue]),(t=this[ile].arRenderer).placeOnWall="wall"===this.arPlacement,e.next=9,t.present(this[ele],this.xrEnvironment);case 9:e.next=22;break;case 11:return e.prev=11,e.t0=e.catch(3),console.warn("Error while trying to present in AR with WebXR"),console.error(e.t0),e.next=17,this[ile].arRenderer.stopPresenting();case 17:return _ue=!0,console.warn("Falling back to next ar-mode"),e.next=21,this[que]();case 21:this.activateAR();case 22:return e.prev=22,this[que](),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[3,11,22,25]])})));return function(){return e.apply(this,arguments)}}()},{key:Xue,value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.loaded,e.t0){e.next=7;break}return this[Wue]=!0,this[Yse](),e.next=6,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(r){e.addEventListener(t,(function a(i){n&&!n(i)||(r(i),e.removeEventListener(t,a))}))}))}(this,"load");case 6:this[Wue]=!1;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:ule,value:function(){return nv(D(f.prototype),ule,this).call(this)||this[Wue]}},{key:Lue,value:function(){var e=this,t=self.location.toString(),n=new URL(t),r=new URL(this.src,t),a=new URLSearchParams(r.search);if(n.hash="#model-viewer-no-ar-fallback",a.set("mode","ar_preferred"),a.has("disable_occlusion")||a.set("disable_occlusion","true"),"fixed"===this.arScale&&a.set("resizable","false"),"wall"===this.arPlacement&&a.set("enable_vertical_placement","true"),a.has("sound")){var i=new URL(a.get("sound"),t);a.set("sound",i.toString())}if(a.has("link")){var o=new URL(a.get("link"),t);a.set("link",o.toString())}var s="intent://arvr.google.com/scene-viewer/1.0?".concat(a.toString()+"&file="+encodeURIComponent(r.toString()),"#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=").concat(encodeURIComponent(n.toString()),";end;");self.addEventListener("hashchange",(function(){"#model-viewer-no-ar-fallback"===self.location.hash&&(Mue=!0,self.history.back(),console.warn("Error while trying to present in AR with Scene Viewer"),console.warn("Falling back to next ar-mode"),e[que]())}),{once:!0}),this[Uue].setAttribute("href",s),console.log("Attempting to present in AR with Scene Viewer..."),this[Uue].click()}},{key:Fue,value:function(){var e=mo(fo().mark((function e(){var t,n,r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!this.iosSrc,this[Due].classList.remove("enabled"),!t){e.next=8;break}return e.next=5,this.prepareUSDZ();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=this.iosSrc;case 9:n=e.t0,r=new URL(n,self.location.toString()),"fixed"===this.arScale&&(r.hash&&(r.hash+="&"),r.hash+="allowsContentScaling=0"),(a=this[Uue]).setAttribute("rel","ar"),i=document.createElement("img"),a.appendChild(i),a.setAttribute("href",r.toString()),t&&a.setAttribute("download","model.usdz"),console.log("Attempting to present in AR with Quick Look..."),a.click(),a.removeChild(i),t&&URL.revokeObjectURL(n),this[Due].classList.add("enabled");case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"prepareUSDZ",value:function(){var e=mo(fo().mark((function e(){var t,n,r,a,i,o,s,l;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this[ole].beginActivity(),e.next=3,this[Xue]();case 3:return n=this[ele],r=n.shadow,a=!1,null!=r&&(a=r.visible,r.visible=!1),t(.2),i=new mue,e.next=9,i.parse(n.modelContainer);case 9:return o=e.sent,s=new Blob([o],{type:"model/vnd.usdz+zip"}),l=URL.createObjectURL(s),e.abrupt("return",(t(1),null!=r&&(r.visible=a),l));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),f}(e,(t=jue,n=Due,r=Uue,a=Bue,i=zue,o=Wue,s=Zue,l=Vue,u=Hue,c=Gue,que));return Cue([r5({type:Boolean,attribute:"ar"})],d.prototype,"ar",void 0),Cue([r5({type:String,attribute:"ar-scale"})],d.prototype,"arScale",void 0),Cue([r5({type:String,attribute:"ar-placement"})],d.prototype,"arPlacement",void 0),Cue([r5({type:String,attribute:"ar-modes"})],d.prototype,"arModes",void 0),Cue([r5({type:String,attribute:"ios-src"})],d.prototype,"iosSrc",void 0),Cue([r5({type:Boolean,attribute:"xr-environment"})],d.prototype,"xrEnvironment",void 0),d}(function(e){var t,n,r,a,i,o,s,l,u,c,d,h,f,p,m=function(e,m,v){O(y,e);var g=z(y);function y(){var e;M(this,y);for(var m=arguments.length,v=new Array(m),b=0;b<m;b++)v[b]=arguments[b];(e=g.call.apply(g,[this].concat(v))).poster=null,e.reveal=Pde,e.loading="auto",e.generateSchema=!1,e.seamlessPoster=!1,e[t]=!1,e[n]=!1,e[r]=0,e[a]=null,e[i]=e.shadowRoot.querySelector(".slot.poster"),e[o]=e.shadowRoot.querySelector("#default-poster"),e[s]=e.shadowRoot.querySelector("#default-progress-bar > .bar"),e[l]=e.shadowRoot.querySelector("#default-progress-bar > .mask"),e[u]=e[Ude].getAttribute("aria-label"),e[c]=function(e,t){var n=null,r=function(){null==n&&(e.apply(void 0,arguments),n=self.setTimeout((function(){return n=null}),100))};return r.flush=function(){null!=n&&(self.clearTimeout(n),n=null)},r}((function(t){var n=e[jde].parentNode;requestAnimationFrame((function(){e[zde].style.opacity=""+.2*(1-t),e[jde].style.transform="scaleX(".concat(t,")"),0===t&&(n.removeChild(e[jde]),n.appendChild(e[jde])),1===t?e[jde].classList.add("hide"):e[jde].classList.remove("hide")}))})),e[d]=function(){e.reveal!==Lde&&e.dismissPoster()},e[h]=function(t){if(e.reveal!==Lde)switch(t.keyCode){case 32:case 13:e.dismissPoster()}},e[f]=function(t){var n=t.detail.totalProgress;e[Gde]=Math.max(n,e[Gde]),1===n&&(e[Hde].flush(),!e[cle]()||null==e[Wde]&&e.reveal!==Pde||e[Zde]()),e[Hde](n),e.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:n}}))},e[p]=function(){e[qde]=!0;var t=e.getRootNode();t&&t.activeElement===F(e)&&e[$se].focus();var n=e[Ude];n.setAttribute("aria-hidden","true"),n.tabIndex=-1,e.dispatchEvent(new CustomEvent("poster-dismissed"))};var x=self.ModelViewerElement||{},w=x.dracoDecoderLocation||"https://www.gstatic.com/draco/versioned/decoders/1.4.1/";Aie.setDRACODecoderLocation(w);var k=x.ktx2TranscoderLocation||"https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/";return Aie.setKTX2TranscoderLocation(k),x.meshoptDecoderLocation&&Aie.setMeshoptDecoderLocation(x.meshoptDecoderLocation),e}return N(y,[{key:"dismissPoster",value:function(){this[cle]()?this[Zde]():(this[Wde]="interaction",this[Yse]())}},{key:"showPoster",value:function(){var e=this[Bde],t=this[Ude];t.removeAttribute("tabindex"),t.removeAttribute("aria-hidden"),e.classList.add("show");var n=this.modelIsVisible;this[Vde]=!1,this[Gse](n),this[qde]=!1}},{key:"getDimensions",value:function(){return hle(this[ele].size)}},{key:"connectedCallback",value:function(){nv(D(y.prototype),"connectedCallback",this).call(this),this[Bde].addEventListener("click",this[Kde]),this[Bde].addEventListener("keydown",this[Jde]),this[ole].addEventListener("progress",this[$de]),Fde.registerInstance(this)}},{key:"disconnectedCallback",value:function(){nv(D(y.prototype),"disconnectedCallback",this).call(this),this[Bde].removeEventListener("click",this[Kde]),this[Bde].removeEventListener("keydown",this[Jde]),this[ole].removeEventListener("progress",this[$de]),Fde.unregisterInstance(this)}},{key:"updated",value:function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nv(D(y.prototype),"updated",this).call(this,t),t.has("poster")&&null!=this.poster&&(this[Ude].style.backgroundImage="url(".concat(this.poster,")")),t.has("alt")&&this[Ude].setAttribute("aria-label","".concat(this[qse],". ").concat(this[Yde])),(t.has("reveal")||t.has("loading"))&&this[Yse](),t.has("generateSchema")&&(!0===this.generateSchema?this[ele].updateSchema(this.src):this[ele].updateSchema(null)),t.has("seamlessPoster")&&(!0===this.seamlessPoster?this[Bde].classList.add("quick"):this[Bde].classList.remove("quick"));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:m,value:function(){return!!this.src&&(null!=this[Wde]||"eager"===this.loading||this.reveal===Pde&&this[Hse])}},{key:cle,value:function(){return!!this.src&&nv(D(y.prototype),cle,this).call(this)&&1===this[Gde]}},{key:v,value:function(){var e=this;this[Wde]=null;var t=this[Bde];if(t.classList.contains("show")){var n=this.modelIsVisible;this[Vde]=!0,this[Gse](n),requestAnimationFrame((function(){t.classList.remove("show"),!0===e.seamlessPoster?e[Xde]():t.addEventListener("transitionend",e[Xde],{once:!0})}))}else this[qde]=!0}},{key:lle,value:function(){return nv(D(y.prototype),lle,this).call(this)&&this[Vde]}},{key:dle,value:function(){return nv(D(y.prototype),dle,this).call(this)&&this[qde]}},{key:Yse,value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this[Gde]=0,!0===this.generateSchema&&this[ele].updateSchema(this.src),null!=this[ele].currentGLTF&&null!=this.src&&this[ule]()||this.showPoster(),e.next=5,nv(D(y.prototype),Yse,this).call(this);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"dracoDecoderLocation",get:function(){return Aie.getDRACODecoderLocation()},set:function(e){Aie.setDRACODecoderLocation(e)}},{key:"ktx2TranscoderLocation",get:function(){return Aie.getKTX2TranscoderLocation()},set:function(e){Aie.setKTX2TranscoderLocation(e)}},{key:"meshoptDecoderLocation",get:function(){return Aie.getMeshoptDecoderLocation()},set:function(e){Aie.setMeshoptDecoderLocation(e)}},{key:"mapURLs",value:function(e){xse.singleton.loader[Cie].manager.setURLModifier(e)}}]),y}(e,(t=Vde,n=qde,r=Gde,a=Wde,i=Bde,o=Ude,s=jde,l=zde,u=Yde,c=Hde,d=Kde,h=Jde,f=$de,ule),(p=Xde,Zde));return Dde([r5({type:String})],m.prototype,"poster",void 0),Dde([r5({type:String})],m.prototype,"reveal",void 0),Dde([r5({type:String})],m.prototype,"loading",void 0),Dde([r5({type:Boolean,attribute:"generate-schema"})],m.prototype,"generateSchema",void 0),Dde([r5({type:Boolean,attribute:"seamless-poster"})],m.prototype,"seamlessPoster",void 0),m}(function(e){var t,n=function(e,n){O(a,e);var r=z(a);function a(){var e;return M(this,a),(e=r.apply(this,arguments)).autoplay=!1,e.animationName=void 0,e.animationCrossfadeDuration=300,e[t]=!0,e}return N(a,[{key:"availableAnimations",get:function(){return this.loaded?this[ele].animationNames:[]}},{key:"duration",get:function(){return this[ele].duration}},{key:"paused",get:function(){return this[vle]}},{key:"currentTime",get:function(){return this[ele].animationTime},set:function(e){this[ele].animationTime=e,this[ile].threeRenderer.shadowMap.needsUpdate=!0,this[tle]()}},{key:"pause",value:function(){this[vle]||(this[vle]=!0,this[ile].threeRenderer.shadowMap.autoUpdate=!1,this.dispatchEvent(new CustomEvent("pause")))}},{key:"play",value:function(){this[vle]&&this.availableAnimations.length>0&&(this[vle]=!1,this[ile].threeRenderer.shadowMap.autoUpdate=!0,this[ele].hasActiveAnimation||this[mle](),this.dispatchEvent(new CustomEvent("play")))}},{key:n,value:function(){nv(D(a.prototype),rle,this).call(this),this[vle]=!0,this.autoplay&&(this[mle](),this.play())}},{key:nle,value:function(e,t){nv(D(a.prototype),nle,this).call(this,e,t),this[vle]||!this[dle]()&&!this[ile].isPresenting||(this[ele].updateAnimation(t/1e3),this[tle]())}},{key:"updated",value:function(e){nv(D(a.prototype),"updated",this).call(this,e),e.has("autoplay")&&this.autoplay&&this.play(),e.has("animationName")&&this[mle]()}},{key:Yse,value:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this[ele].stopAnimation(),nv(D(a.prototype),Yse,this).call(this)));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:mle,value:function(){this[ele].playAnimation(this.animationName,this.animationCrossfadeDuration/1e3),this[vle]&&(this[ele].updateAnimation(0),this[tle]())}}]),a}(e,(t=vle,rle));return ple([r5({type:Boolean})],n.prototype,"autoplay",void 0),ple([r5({type:String,attribute:"animation-name"})],n.prototype,"animationName",void 0),ple([r5({type:Number,attribute:"animation-crossfade-duration"})],n.prototype,"animationCrossfadeDuration",void 0),n}(function(e){var t,n=Symbol("endPolyfillCoordination");return t=n,function(e){O(a,e);var r=z(a);function a(){var e;return M(this,a),(e=r.apply(this,arguments))[t]=null,e}return N(a,[{key:"connectedCallback",value:function(){nv(D(a.prototype),"connectedCallback",this)&&nv(D(a.prototype),"connectedCallback",this).call(this),null==this[n]&&(this[n]=function(e){if(null==e.shadowRoot||e.hasAttribute("data-js-focus-visible"))return function(){};if(!self.applyFocusVisiblePolyfill){var t=function(){self.applyFocusVisiblePolyfill(e.shadowRoot)};return self.addEventListener("focus-visible-polyfill-ready",t,{once:!0}),function(){self.removeEventListener("focus-visible-polyfill-ready",t)}}return self.applyFocusVisiblePolyfill(e.shadowRoot),function(){}}(this))}},{key:"disconnectedCallback",value:function(){nv(D(a.prototype),"disconnectedCallback",this)&&nv(D(a.prototype),"disconnectedCallback",this).call(this),null!=this[n]&&(this[n](),this[n]=null)}}]),a}(e)}(fle)))))))));customElements.define("model-viewer",Vfe);var Hfe=function(e,t){return console.log(e,t),"793-F"===t?"Sistema_direccion"===e?[{title:"Acumuladores",position:"1.3 3.5 3.3",normal:"0 0.05 0.69",orbit:"225deg 45deg 3m",target:"1.3m 2.7m 3.3m"},{title:"Sistema Hidraulico Direcci\xf3n",position:"0 1.93 2.5",normal:"0.73 0.05 0.69",orbit:"45deg 45deg 2.5m",target:"0m 1.7m 2.5m"},{title:"Cilindro Hidraulico 1",position:"-0.6 1.7 2.5",normal:"0.73 0.05 0.69",orbit:"45deg 45deg 2m",target:"-0.6m 1.5m 2.5m"},{title:"Cilindro Hidraulico 2",position:"0.6 1.7 2.5",normal:"0.73 0.05 0.69",orbit:"45deg 45deg 2m",target:"0.6m 1.5m 2.5m"},{title:"Bomba Direcci\xf3n",position:"-0.5 2.25 1",normal:"0.73 0.05 0.69",orbit:"10deg 80deg 2m",target:"-0.5m 1.9m 1m"}]:"Neumaticos"===e?[{title:"Neum\xe1tico",position:"2.6 2.5 2.5",normal:"0.73 0.05 0.69",orbit:"125deg 90deg 6m",target:"2.3m 1.45m 2.8m"},{title:"Aro",position:"2.6 1.93 2.5",normal:"0.73 0.05 0.69",orbit:"125deg 90deg 3m",target:"2.3m 1.45m 2.6m"}]:"Sistema_hidraulico"===e?[{title:"Filtros de Malla",position:"-0.4 2.7 -0.2",normal:"0 -0.05 -0.69",orbit:"200deg 90deg 1.5m",target:"-0.4m 2.4m -0.2m"},{title:"Cilindro de levante 1",position:"1.1 3.5 -0.7",normal:"0 -0.05 -0.69",orbit:"180deg 65deg 3m",target:"1.1m 2.8m -0.7m"},{title:"Cilindro de levante 2",position:"-1.1 3.5 -0.7",normal:"0 -0.05 -0.69",orbit:"240deg 65deg 3m",target:"-1.1m 2.8m -0.7m"},{title:"Enfriadores de aceite",position:"0.36 3 0.55",normal:"0 0.05 0.5",orbit:"20deg 65deg 3m",target:"0.36m 2m 0.55m"},{title:"Bomba de levante",position:"-0.4 2.35 0.55",normal:"0 0.05 0.5",orbit:"20deg 90deg 1.5m",target:"-0.4m 2.1m 0.55m"}]:"Estructura"===e?[{title:"AFEX",position:"-1.8 4.8 2.9",normal:"0.73 0.05 0.69",orbit:"45deg 60deg 1.5m",target:"-1.8m 4.4m 2.9m"},{title:"Filtro de Aire 4",position:"2.1 3 5.1",normal:"0.73 0.05 0.69",orbit:"45deg 90deg 2m",target:"2.1m 3.3m 5.2m"},{title:"Filtro de Aire 3",position:"1.6 3 5.1",normal:"0.73 0.05 0.69",orbit:"45deg 90deg 2m",target:"1.6m 3.3m 5.2m"},{title:"Filtro de Aire 2",position:"-1.6 3 5.1",normal:"0.73 0.05 0.69",orbit:"330deg 90deg 2m",target:"-1.6m 3.3m 5.2m"},{title:"Filtro de Aire 1",position:"-2.1 3 5.1",normal:"0.73 0.05 0.69",orbit:"330deg 90deg 2m",target:"-2.1m 3.3m 5.2m"}]:"Chasis"===e?[{title:"Articulaci\xf3n Eje Trasero",position:"0 0.7 -0.5",normal:"0 -0.05 -0.69",orbit:"250deg 100deg 3m",target:"0m 1m -0.5m"},{title:"Eslabones de suspenci\xf3n trasera",position:"0 1.5 -2",normal:"0 -0.05 -0.69",orbit:"225deg 100deg 2m",target:"0m 1.5m -2m"},{title:"Cross tube",position:"0 2.1 0",normal:"0 -0.05 -0.69",orbit:"0deg 180deg 3m",target:"0m 2.1m 0m"},{title:"Steering box",position:"0 1.8 2.6",normal:"0 0.05 0.69",orbit:"0deg 20deg 1.5m",target:"0m 1.7m 2.6m"},{title:"Pad tolva",position:"0.8 2.7 -1.5",normal:"0 -0.05 0.69",orbit:"0deg 20deg 2m",target:"0.8m 2.7m -1.5m"}]:"Maza"===e?[{title:"Maza derecha",position:"-1 1.93 2.5",normal:"0 0.05 -1",orbit:"-125deg 90deg 4m",target:"-2.3m 1.45m 2.6m"},{title:"Maza izquierda",position:"1 1.93 2.5",normal:"0 0.05 1",orbit:"125deg 90deg 4m",target:"2.3m 1.45m 2.6m"}]:"Sistema_neumatico"===e?[{title:"Condensador de aire",position:"-0.05 2.4 4.65",normal:"0 0.05 1",orbit:"0deg 90deg 4m",target:"-0.05m 2.35m 4.65m"},{title:"Compresor de aire acondocionado",position:"-0.7 2.15 4",normal:"0 0.05 -1",orbit:"-145deg 90deg 0.7m",target:"-0.7m 2.3m 4m"},{title:"Compresor de aire",position:"-0.45 2.2 4.2",normal:"0 0.05 -1",orbit:"125deg 75deg 1m",target:"-0.45m 2.35m 4.2m"}]:"Suspension"===e?[{title:"Suspensi\xf3n delantera 1",position:"-1.6 4 2.7",normal:"0 0.05 1",orbit:"0deg 55deg 4m",target:"-1.6m 3m 2.7m"},{title:"Suspensi\xf3n delantera 2",position:"1.6 4 2.7",normal:"0 0.05 1",orbit:"60deg 55deg 4m",target:"1.6m 3m 2.7m"},{title:"Suspensi\xf3n trasera 1",position:"-0.6 3 -3.2",normal:"0 0.05 1",orbit:"0deg 55deg 3m",target:"-0.6m 2m -3.2m"},{title:"Suspensi\xf3n trasera 2",position:"0.6 3 -3.25",normal:"0 0.05 1",orbit:"60deg 55deg 3m",target:"0.6m 2m -3.25m"}]:"Transmision"===e?[{title:"Caja de transferencia",position:"0 2.4 -1.2",normal:"0 -0.05 1",orbit:"300deg 55deg 1.5m",target:"0m 2.2m -1.2m"},{title:"Transmisi\xf3n",position:"0 2.2 -2",normal:"0 -0.05 1",orbit:"300deg 55deg 3m",target:"0m 1.7m -2m"},{title:"Mando Final Izquierdo",position:"2 2.2 -2",normal:"0 -0.05 1",orbit:"300deg 55deg 3m",target:"2m 1.7m -2m"},{title:"Mando Final Derecho",position:"-2 2.2 -2",normal:"0 -0.05 1",orbit:"300deg 55deg 3m",target:"-2m 1.7m -2m"},{title:"Uni\xf3n deslizante",position:"0 1.67 0",normal:"0 -0.05 -1",orbit:"10deg 55deg 3m",target:"0m 1.8m 0m"},{title:"Respiradero convertidor de torque",position:"0.5 3.5 1.4",normal:"0 0.05 1",orbit:"60deg 55deg 1m",target:"0.5m 3.2m 1.4m"},{title:"Convertidor de torque",position:"0 1.4 1.4",normal:"0 0.05 1",orbit:"60deg 120deg 3m",target:"0m 2m 1.4m"},{title:"P.T.O.",position:"-0.45 2.5 0.85",normal:"0 -0.05 -1",orbit:"240deg 50deg 1m",target:"-0.45m 2.25m 0.85m"}]:"Motor"===e?[{title:"Motor",position:"1 2.5 2",normal:"0 -0.05 2",orbit:"90deg 90deg 5m",target:"1 2.5 2"},{title:"Radiador",position:"0 4.5 4.7",normal:"0 0.05 1",orbit:"45deg 90deg 7m",target:"0m 3m 4.5m"},{title:"Tanque de Combustible",position:"2.3 3.5 0.5",normal:"-1 0.05 -1",orbit:"125deg 90deg 5m",target:"2.3m 2.5m 0.5m"},{title:"Filtro centr\xedfugo",position:"-0.3 3.1 1.5",normal:"-1 0.05 -1",orbit:"180deg 45deg 2m",target:"-0.3m 2.9m 1.5m"},{title:"Respiradero Motor 1",position:"0.3 3.1 2",normal:"-1 0.05 -1",orbit:"180deg 90deg 2m",target:"0.3m 2.9m 2m"},{title:"Respiradero Motor 2",position:"-0.3 3.1 2",normal:"-1 0.05 -1",orbit:"225deg 90deg 2m",target:"-0.3m 2.9m 2m"},{title:"Filtros de Combustible",position:"-0.3 1.5 3.7",normal:"-1 0.05 -1",orbit:"225deg 110deg 2m",target:"-0.3m 1.5m 3.7m"},{title:"Bomba de Agua Auxiliar Derecho",position:"-0.45 1.9 4.2",normal:"0 -0.05 2",orbit:"0deg 140deg 2m",target:"-0.45m 1.9m 4.5m"},{title:"Bomba de Agua Auxiliar Izquierdo",position:"0.45 1.9 4.2",normal:"0 -0.05 2",orbit:"0deg 140deg 2m",target:"0.45m 1.9m 4.2m"},{title:"Bomba de Aceite de Motor",position:"0.45 1.9 3.8",normal:"0.7 0.5 1",orbit:"90deg 120deg 1.5m",target:"0.45m 2.1m 3.8m"},{title:"Enfriadores de Aceite de Motor",position:"0.45 1.9 2.7",normal:"0.7 0.5 1",orbit:"90deg 90deg 1.5m",target:"0.45m 2m 2.7m"},{title:"V\xe1lvula Termost\xe1tica",position:"0.55 2.4 4.5",normal:"0.7 0.5 1",orbit:"120deg 90deg 1.5m",target:"0.55m 2.25m 4.5m"},{title:"Filtros de Autolimpieza",position:"-0.45 1.9 2.7",normal:"-1 0.05 -1",orbit:"225deg 110deg 2m",target:"-0.45m 2.1m 2.7m"},{title:"Turbos",position:"0 3.5 3.9",normal:"-1 0.05 -1",orbit:"225deg 45deg 2m",target:"0m 3.1m 3.9m"},{title:"Silenciadores",position:"-2.3 3.5 2",normal:"-1 0.05 -1",orbit:"225deg 90deg 2.5m",target:"-2.3m 4m 2m"},{title:"Ductos de escape",position:"-1.2 3.5 2",normal:"-1 0.05 -1",orbit:"180deg 90deg 2.5m",target:"-1.2m 4m 2m"}]:"Cabina"===e?[{title:"Cintur\xf3n de seguridad",position:"2.45 4.5 2.7",normal:"0 -0.05 2",orbit:"-45deg 90deg 0.7m",target:"2.45m 4.5m 2.7m"},{title:"Plumilla 1",position:"2.45 5 4",normal:"0 0.05 1",orbit:"45deg 90deg 1m",target:"2.45m 4.7m 4m"},{title:"Plumilla 2",position:"1.1 5 4",normal:"0 0.05 1",orbit:"-45deg 90deg 1m",target:"1.1m 4.7m 4m"},{title:"Manubrio",position:"2.2 4.5 3.5",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"2.2m 4.5m 3.5m"},{title:"Monitor Vims",position:"1.7 4.5 3.5",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"1.7m 4.5m 3.5m"},{title:"Selector de Marcha",position:"1.8 4.25 3.25",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"1.8m 4.25m 3.25m"},{title:"Control de Levante",position:"1.6 4.25 3.25",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"1.6m 4.25m 3.25m"},{title:"Asiento chofer",position:"2.2 4.45 3",normal:"0 0.05 1",orbit:"0deg 55deg 0.7m",target:"2.2m 4.45m 3m"},{title:"Asiento copiloto",position:"1.3 4.45 3",normal:"0 0.05 1",orbit:"0deg 55deg 0.7m",target:"1.3m 4.45m 3m"}]:[]:"PC5500"===t?"Chasis"===e?[{title:"Chasis",position:"0 3.1 -4",normal:"-0.7 -0.05 -0.69",orbit:"170deg 70deg 6.5m",target:"0m 3.1m -4m"},{title:"Corona de Giro",position:"-1.75 2.1 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 80deg 4m",target:"-1m 2.1m -2m"},{title:"Bastidor",position:"-2 1.7 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 4m",target:"-1m 1.7m -2m"}]:"Cabina"===e?[{title:"Controles de traslaci\xf3n",position:"2.2 4.85 0",normal:"0 -0.05 2",orbit:"-45deg 70deg 0.7m",target:"2.2m 4.85m -0.3m"},{title:"Joystick 1",position:"2.45 5.2 -0.55",normal:"0 0.05 1",orbit:"10deg 60deg 1m",target:"2.45m 5.2m -0.7m"},{title:"Joystick 2",position:"2.1 5.2 -0.55",normal:"0 0.05 1",orbit:"10deg 60deg 1m",target:"2.1m 5.2m -0.7m"}]:"Electrico"===e?[{title:"Gabinete el\xe9ctrico 1",position:"1.4 5.6 -4.6",normal:"0 -0.05 2",orbit:"-45deg 45deg 2m",target:"1.4m 5.3m -4.6m"},{title:"Gabinete el\xe9ctrico 2",position:"-1.6 5.4 -4",normal:"0 -0.05 2",orbit:"-45deg 65deg 1m",target:"-1.6m 5.1m -4m"},{title:"Gabinete el\xe9ctrico 3",position:"-2.1 5.4 -6",normal:"0.5 0.05 2",orbit:"80deg 65deg 2m",target:"-2.1m 5.1m -6m"},{title:"Sala El\xe9ctrica",position:"2.1 3.5 -1",normal:"-2 0.05 2",orbit:"-120deg 90deg 4m",target:"2.1m 3.5m -1m"},{title:"Bater\xedas",position:"2.2 2.6 -4.6",normal:"-2 0.05 2",orbit:"-100deg 70deg 3m",target:"2.1m 2m -4.6m"}]:"Estructura"===e?[{title:"Gabinete el\xe9ctrico 1",position:"1.4 5.6 -4.6",normal:"0 -0.05 2",orbit:"-45deg 45deg 2m",target:"1.4m 5.3m -4.6m"},{title:"Gabinete el\xe9ctrico 2",position:"-1.6 5.4 -4",normal:"0 -0.05 2",orbit:"-45deg 65deg 1m",target:"-1.6m 5.1m -4m"},{title:"Gabinete el\xe9ctrico 3",position:"-2.1 5.4 -6",normal:"0.5 0.05 2",orbit:"100deg 65deg 2m",target:"-2.1m 5.1m -6m"},{title:"Tanques sistema AFEX",position:"-1.4 5.6 -5",normal:"-0.04 0.07 0.9",orbit:"0deg 65deg 4m",target:"-1.4m 5.1m -5m"},{title:"Tubos de escape",position:"-1 6.1 -5",normal:"-0.04 0.07 0.9",orbit:"-45deg 65deg 4m",target:"-1m 5.7m -5m"},{title:"Caja de filtros",position:"0.8 6.1 -4.7",normal:"-0.04 0.07 0.9",orbit:"45deg 65deg 4m",target:"0.8m 5.7m -4.7m"},{title:"Bombas de engrase",position:"2 5.6 -5.5",normal:"-0.04 0.07 0.9",orbit:"45deg 65deg 4m",target:"2m 5.4m -5.5m"},{title:"Tanques de grasa",position:"2 4.9 -5.5",normal:"-0.04 0.07 0.9",orbit:"45deg 65deg 4m",target:"2m 4.7m -5.5m"}]:"Implemento"===e?[{title:"Boom",position:"0 6.5 2",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 6.3m 2m"},{title:"Cilindros Levante",position:"0 4.5 2",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 4.5m 2m"},{title:"Stick",position:"0 5 6",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 4.7m 6m"},{title:"Cilindros Stick",position:"0 8.5 6",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 8.3m 6m"},{title:"Cilindros Balde",position:"0 5 8",normal:"0.04 0.07 0.9",orbit:"45deg 90deg 6m",target:"0m 4.7m 8m"},{title:"Balde",position:"0 1 6",normal:"1 -0.5 0.9",orbit:"120deg 90deg 6m",target:"0m 1m 6m"}]:"Mando_de_giro"===e?[{title:"Corona de Giro",position:"-1 2.1 -1.5",normal:"0.7 -0.05 -0.69",orbit:"120deg 45deg 4m",target:"-1m 2.1m -1.5m"},{title:"Motores de Giro",position:"-1 3.5 -2.7",normal:"0.7 -0.05 -0.69",orbit:"100deg 70deg 2m",target:"-1m 3.5m -2.7m"},{title:"Reductores de Giro",position:"-1 2.5 -2.7",normal:"0.7 -0.05 -0.69",orbit:"100deg 70deg 2m",target:"-1m 2.5m -2.7m"}]:"Mando_final"===e?[{title:"Rotary",position:"-0 2.1 -2",normal:"0.7 -0.05 -0.69",orbit:"120deg 45deg 4m",target:"-0m 2.1m -2m"},{title:"Mando Final Derecho",position:"1.5 1 -3.7",normal:"0.7 0.05 0.69",orbit:"70deg 70deg 3m",target:"1.5m 1m -4.2m"},{title:"Mando Final Izquierdo",position:"-1.5 1 -3.7",normal:"0.7 0.05 0.69",orbit:"350deg 70deg 3m",target:"-1.5m 1m -4.2m"},{title:"Motores Hidr\xe1ulicos de Traslaci\xf3n Derecho",position:"0.7 0.5 -4",normal:"0.7 0.05 0.69",orbit:"350deg 120deg 3m",target:"0.7m 0.5m -4m"},{title:"Motores Hidr\xe1ulicos de Traslaci\xf3n Izquierdo",position:"-0.7 0.5 -4",normal:"0.7 0.05 0.69",orbit:"350deg 120deg 3m",target:"-0.7m 0.5m -4m"}]:"Motor"===e?[{title:"Compresor Aire Acondicionado (1 por motor)",position:"0.4 3.6 -6",normal:"-0.7 0.05 -0.69",orbit:"200deg 120deg 1m",target:"0.4m 3.5m -6m"},{title:"Motores de Partida (1 por motor)",position:"-0.7 3.6 -5.9",normal:"-0.7 0.05 -0.69",orbit:"180deg 120deg 1m",target:"-0.7m 3.5m -5.9m"},{title:"Ductos de Escape",position:"-0.7 4.8 -5.5",normal:"-0.7 0.05 -0.69",orbit:"190deg 45deg 4m",target:"-0.7m 4.5m -5.5m"},{title:"Ductos de Escape",position:"-0.7 4.8 -4.3",normal:"-0.7 0.05 -0.69",orbit:"300deg 45deg 4m",target:"-0.7m 4.5m -4.3m"},{title:"Tubos Motor 1",position:"0 4.5 -5.5",normal:"-0.7 0.05 -0.69",orbit:"190deg 45deg 4m",target:"0m 4.3m -5.5m"},{title:"Tubos Motor 2",position:"0 4.5 -4.3",normal:"-0.7 0.05 -0.69",orbit:"300deg 45deg 4m",target:"0m 4.3m -4.3m"},{title:"Filtro Eliminator (1 por motor)",position:"-0.4 3.5 -4",normal:"0.7 0.05 0.69",orbit:"320deg 70deg 2m",target:"-0.4m 3.5m -3.8m"},{title:"Bomba de Agua (1 por motor)",position:"0.2 3.5 -4",normal:"0.7 0.05 0.69",orbit:"320deg 70deg 2m",target:"0.2m 3.5m -3.7m"},{title:"Tanque de Expansi\xf3n del Radiador Motor 1",position:"1.5 4.5 -5.5",normal:"0.7 0.05 0.69",orbit:"300deg 80deg 1m",target:"1.5m 4.3m -5.5m"},{title:"Tanque de Expansi\xf3n del Radiador Motor 2",position:"1.5 4.5 -4.3",normal:"0.7 0.05 0.69",orbit:"300deg 80deg 1m",target:"1.5m 4.3m -4.3m"},{title:"Radiador Motor 1",position:"1.5 2.5 -5.5",normal:"-0.7 0.05 0.69",orbit:"300deg 120deg 4m",target:"1.5m 2.5m -5.5m"},{title:"Radiador Motor 2",position:"1.5 2.5 -4.3",normal:"-0.7 0.05 0.69",orbit:"300deg 120deg 4m",target:"1.5m 2.5m -4.3m"},{title:"Filtro Combustible Separador de Agua",position:"1.5 4.2 -6.6",normal:"0.7 0.05 0.69",orbit:"350deg 80deg 1m",target:"1.5m 4m -6.6m"}]:"PTO"===e?[{title:"Acople Flexible",position:"-1 3.8 -4.3",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 3m",target:"-1m 3.6m -4.3m"},{title:"Acople Flexible",position:"-1 3.8 -5.5",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 3m",target:"-1m 3.6m -5.5m"},{title:"Bomba Ventilador Enfriador de Aceite Hidr\xe1ulico",position:"-1.5 3.9 -4.55",normal:"-0.7 -0.05 -0.69",orbit:"270deg 70deg 1m",target:"-1.5m 3.7m -4.55m"},{title:"Bomba Ventilador Enfriador de Aceite Hidr\xe1ulico",position:"-1.5 3.9 -5.8",normal:"-0.7 -0.05 -0.69",orbit:"270deg 70deg 1m",target:"-1.5m 3.7m -5.8m"},{title:"Bombas Hidr\xe1ulicas Principales",position:"-1.5 3.5 -4.3",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.3m -4.3m"},{title:"Bombas Hidr\xe1ulicas Principales",position:"-1.5 3.5 -5.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.3m -5.5m"},{title:"Bomba Hidr\xe1ulica Ventilador, Radiador Motor 2",position:"-1.5 3.8 -4.3",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.6m -4.3m"},{title:"Bomba Hidr\xe1ulica Ventilador, Radiador Motor 1",position:"-1.5 3.8 -5.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.6m -5.5m"},{title:"Tanque de Succi\xf3n de Aceite",position:"-2 2.7 -4.9",normal:"-0.7 -0.05 -0.69",orbit:"270deg 70deg 2m",target:"-2m 2.5m -4.9m"}]:"Sistema_hidraulico"===e?[{title:"Respiraderos",position:"-2 5.2 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 2m",target:"-2m 5m -2m"},{title:"Motor Hidr\xe1ulico de Ventilador Superior",position:"-1.5 4.8 -1",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 3m",target:"-1.5m 4.3m -1m"},{title:"Motor Hidr\xe1ulico de Ventilador Inferior",position:"-1.5 3.9 -1",normal:"0.7 -0.05 -0.69",orbit:"90deg 70deg 2m",target:"-1.5m 3.5m -1m"},{title:"Enfriadores de aceite",position:"-2.5 4.8 -1",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 3m",target:"-2.5m 3.8m -1m"},{title:"Filtros de Aceite Sistema Hidr\xe1ulico",position:"-2 5 -2.",normal:"0.7 -0.05 -0.69",orbit:"150deg 70deg 2m",target:"-2m 4.8m -2.8m"},{title:"Tanque Hidr\xe1ulico",position:"-2.5 4 -2.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 4m",target:"-2.5m 4m -2.5m"},{title:"Tubo Recolector de Aceite de Retorno",position:"-1.5 4 -2.5",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 4m",target:"-1.5m 4m -2.5m"},{title:"V\xe1lbulas de Control",position:"0.1 4.6 -2.1",normal:"0.1 -0.9 0.9",orbit:"0deg 70deg 3m",target:"0.1m 4.5m -2.1m"}]:"Sistema_rodado"===e?[{title:"Rodillo Superior",position:"-2.5 1.9 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.8m -2m"},{title:"Rodillo Superior",position:"-2.5 1.9 0",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.8m 0m"},{title:"Rodillo Superior",position:"-2.5 1.9 -3.7",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.8m -3.7m"},{title:"Rodillo Inferior",position:"-2.5 0.6 0",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m 0m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -0.7",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -0.7m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -1.3",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -1.3m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -2m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -2.6",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -2.6m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -3.2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -3.2m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -3.7",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -3.7m"},{title:"Rueda Tensora",position:"-2.5 1 1",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1m 1m"},{title:"Bastidor",position:"-2.5 1.1 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.1m -2m"},{title:"Sprocket",position:"-2.5 1.5 -4.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.5m -4.5m"}]:[]:[]},Gfe=function(e){var t=e.machine,n=e.subSistem,r=(0,T.useState)(null),a=(0,Z.Z)(r,2),i=a[0],o=a[1],s=function(){o(null)},l=Boolean(i),u=l?"simple-popover":void 0,c=(0,T.useState)(),d=(0,Z.Z)(c,2),h=(d[0],d[1]),f=(0,T.useState)(),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=(0,T.useState)(0),y=(0,Z.Z)(g,2),b=(y[0],y[1]),x=(0,T.useState)(!1),w=(0,Z.Z)(x,2),k=(w[0],w[1]),S=(0,T.useState)(!1),E=(0,Z.Z)(S,2),C=E[0],_=E[1],M=(0,T.useState)([]),A=(0,Z.Z)(M,2),I=A[0],N=A[1],R=(0,T.useState)(""),O=(0,Z.Z)(R,2),D=O[0],P=O[1],L=(0,T.useState)(""),F=(0,Z.Z)(L,2),j=F[0],z=F[1],B=(0,T.useState)(""),U=(0,Z.Z)(B,2),W=U[0],V=U[1],H=(0,T.useState)("45deg 81deg 100m"),G=(0,Z.Z)(H,2),q=G[0],X=G[1],Y=(0,T.useState)("0.009 0.009 0.009"),K=(0,Z.Z)(Y,2),J=K[0],$=K[1],Q=(0,T.useState)("auto auto auto"),ee=(0,Z.Z)(Q,2),te=ee[0],ne=ee[1],re=(0,T.useState)(!1),ae=(0,Z.Z)(re,2),ie=(ae[0],ae[1]),oe=(0,T.useState)([]),se=(0,Z.Z)(oe,2),le=se[0],ue=se[1],ce=(0,T.useState)("auto"),de=(0,Z.Z)(ce,2),he=de[0],fe=(de[1],(0,T.useState)("auto")),pe=(0,Z.Z)(fe,2),me=pe[0],ve=(pe[1],(0,T.useState)("auto")),ge=(0,Z.Z)(ve,2),ye=ge[0];ge[1];(0,T.useEffect)((function(){console.log(m)}),[m]),(0,T.useEffect)((function(){if(ue([]),n){we();var e=JSON.parse(n);console.log(e),setTimeout((function(){ke(e.name,e.brand,e.model,e.nameModel)}),500)}else we()}),[]);var be=function(){var e=mo(fo().mark((function e(){var n,r,a,i,o,s;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z("primary"),k(!0),b(0),e.next=5,wo.initDb3DFiles();case 5:if(!(n=e.sent)){e.next=14;break}return e.next=9,wo.buscarPorNombreModelo("Preview_".concat(t.model),n.database);case 9:r=e.sent,a=new Blob([r.data]),i=URL.createObjectURL(a),v(i),P(xe("Preview"));case 14:return e.next=16,Ro.initDb();case 16:if(!(o=e.sent)){e.next=24;break}return s=new Array,e.next=21,Ro.consultar(o.database);case 21:(s=e.sent).forEach((function(e,t){e.isSelected=""})),N(s.filter((function(e){if(e.model===t.model&&"Preview"!=e.name)return e;e.name})));case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(e){return"Preview"===e?"Vista General ".concat(t.brand," ").concat(t.model):"Preview_Con_Texturas"===e?"Vista General ".concat(t.brand," ").concat(t.model," Color"):"Sistema_direccion"===e?"Sistema de Direcci\xf3n":"Sistema_hidraulico"===e?"Sistema Hidraulico":"Sistema_neumatico"===e?"Sistema Neumatico":"Mando_de_giro"===e?"Mando de Giro":"Mando_final"===e?"Mando Final":"Sistema_rodado"===e?"Sistema Rodado":e},we=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n||be(),h(document.querySelector("model-viewer#machine")),(t=document.querySelector("model-viewer#machine")).addEventListener("model-visibility",(function(e){})),t.addEventListener("load",(function(){var e=document.querySelector("model-viewer");alert("model-viewer can activate AR: "+e.canActivateAR),k(!1),t.cameraControls=!0,document.getElementById("image").style.opacity="0",setTimeout((function(){document.getElementById("machine").style.opacity="1",document.getElementById("image").style.height="0px",document.getElementById("machine").style.height="100%"}),2e3)})),t.addEventListener("click",(function(e){})),t.addEventListener("error",(function(e){}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=("undefined"!==typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new String,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new String,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new String;if(P(xe(e)),"CATERPILLAR"===t)if("Preview_Con_Texturas"===e)b(0),k(!0);else{var a="../assets/transiciones/".concat(t,"/").concat(n,"/Pantalla_de_carga_").concat(e,".png");V(a),document.getElementById("machine").style.opacity="0",setTimeout((function(){document.getElementById("machine").style.height="0px",document.getElementById("image").style.height="80%",document.getElementById("image").style.opacity="1"}),500)}else b(0),k(!0);setTimeout(mo(fo().mark((function t(){var a,i,o,s,l;return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wo.initDb3DFiles();case 2:return a=t.sent,t.next=5,wo.buscarPorNombreModelo(r,a.database);case 5:i=t.sent,o=i.data,s=new Blob([o]),l=URL.createObjectURL(s),ue(Hfe(e,n)),v(l);case 11:case"end":return t.stop()}}),t)}))),4e3)}),Se=function(){X("45deg 81deg 100m"),$("0.009 0.009 0.009"),ne("".concat(he," ").concat(me," ").concat(ye)),ie(!1)},Te=function(){k(!0),_(!1),z("primary"),b(0),setTimeout((function(){be()}),1e3)};return(0,Ct.jsxs)(vg,{style:{height:"100%",width:"100%",backgroundColor:"rgba(64, 64, 64, 0.65)"},id:"box",children:[!n&&(0,Ct.jsx)(Fp,{id:u,open:l,anchorEl:i,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,Ct.jsxs)("div",{style:{width:"27vw",position:"relative",padding:"50px 0px 0px 0px",height:"calc(100vh - 200px)"},children:[(0,Ct.jsx)(Jd,{style:{position:"absolute",top:10,right:10},onClick:function(){return s()},children:(0,Ct.jsx)(Gm,{})}),(0,Ct.jsxs)("div",{style:{textAlign:"center",overflowY:"auto",height:"100%"},children:[(0,Ct.jsx)(Hm,{style:{width:"90%",marginBottom:10,backgroundColor:j?"brown":"white",color:j?"white":"brown",borderColor:"brown"},variant:"outlined",onClick:function(){Te()},children:(0,Ct.jsx)("p",{children:xe("Preview")})}),I.map((function(e,n){return(0,Ct.jsxs)(Hm,{style:{width:"90%",marginBottom:10,backgroundColor:e.isSelected?"brown":"white",color:e.isSelected?"white":"brown",borderColor:"brown"},variant:"outlined",onClick:function(){!function(e,n){console.log(e,n),s(),Se(),ue([]),setTimeout((function(){if(P(xe(e.name)),"CATERPILLAR"===e.brand)if("Preview_Con_Texturas"===e.name)b(0),k(!0);else{var r="../assets/transiciones/".concat(e.brand,"/").concat(e.model,"/Pantalla_de_carga_").concat(e.name,".png");V(r),document.getElementById("machine").style.opacity="0",setTimeout((function(){document.getElementById("machine").style.height="0px",document.getElementById("image").style.height="80%",document.getElementById("image").style.opacity="1"}),500)}else b(0),k(!0);I.forEach((function(e,t){e.isSelected=t===n?"primary":"",t===I.length-1&&N(I)})),setTimeout(mo(fo().mark((function n(){var r,a,i,o,s;return fo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wo.initDb3DFiles();case 2:return r=n.sent,n.next=5,wo.buscarPorNombreModelo(e.nameModel,r.database);case 5:a=n.sent,i=a.data,o=new Blob([i]),s=URL.createObjectURL(o),console.log(t.model),ue(Hfe(e.name,t.model)),v(s);case 12:case"end":return n.stop()}}),n)}))),4e3)}),1e3)}(e,n)},children:[(0,Ct.jsx)("img",{src:"../assets/no-image.png",style:{width:50,height:50,borderRadius:30,objectFit:"cover",position:"absolute",left:10},alt:""}),(0,Ct.jsx)("p",{children:xe(e.name)})]})}))]})]})}),(0,Ct.jsx)("img",{src:W,id:"image",className:"image",height:640,width:480}),(0,Ct.jsxs)("model-viewer",{ar:!0,"ar-modes":"webxr scene-viewer quick-look","camera-controls":!0,id:"machine",src:m,style:{height:"100%",width:"100%",backgroundColor:"#414646",opacity:.5,transition:"opacity 0.5s"},"camera-target":te,"camera-orbit":q,scale:J,alt:"A Material Picking Example","touch-action":"pan-y","min-field-of-view":"0deg","interpolation-decay":"200","min-camera-orbit":"auto auto 10%","shadow-intensity":"1","field-of-view":"0","max-field-of-view":"100deg",exposure:"1",children:[le.map((function(e,t){return(0,Ct.jsx)("button",{onClick:function(){X(e.orbit),ne(e.target),ie(!0)},className:"view-button",slot:"hotspot-".concat(t),"data-position":e.position,"data-normal":e.normal,"data-orbit":e.orbit,"data-target":e.target,children:e.title},t)})),(0,Ct.jsx)("button",{slot:"ar-button",className:"button-ia-style",children:"\ud83d\udc4b Activate AR"})]}),(0,Ct.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"transparent",textAlign:"center"},children:(0,Ct.jsx)("div",{style:{width:"60%",backgroundColor:"transparent",textAlign:"center",marginLeft:"auto",marginRight:"auto"},children:(0,Ct.jsx)("h2",{style:{color:"white",fontFamily:"Raleway"},children:D})})}),!C&&!n&&(0,Ct.jsx)(gy,{"aria-describedby":u,onClick:function(e){o(e.currentTarget)},style:{position:"absolute",left:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:(0,Ct.jsx)(r4,{})})]})},qfe=n(2346),Xfe=n(3073);function Yfe(e,t,n,r,a){var i=T.useState((function(){return a&&n?n(e).matches:r?r(e).matches:t})),o=(0,Z.Z)(i,2),s=o[0],l=o[1];return(0,Xh.Z)((function(){var t=!0;if(n){var r=n(e),a=function(){t&&l(r.matches)};return a(),r.addListener(a),function(){t=!1,r.removeListener(a)}}}),[e,n]),s}var Kfe=E.useSyncExternalStore;function Jfe(e,t,n,r,a){var i=T.useCallback((function(){return t}),[t]),o=T.useMemo((function(){if(a&&n)return function(){return n(e).matches};if(null!==r){var t=r(e).matches;return function(){return t}}return i}),[i,e,r,a,n]),s=T.useMemo((function(){if(null===n)return[i,function(){return function(){}}];var t=n(e);return[function(){return t.matches},function(e){return t.addListener(e),function(){t.removeListener(e)}}]}),[i,n,e]),l=(0,Z.Z)(s,2),u=l[0],c=l[1];return Kfe(c,u,o)}function $fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,At.Z)(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,a=(0,Xfe.Z)({name:"MuiUseMediaQuery",props:t,theme:n}),i=a.defaultMatches,o=void 0!==i&&i,s=a.matchMedia,l=void 0===s?r?window.matchMedia:null:s,u=a.ssrMatchMedia,c=void 0===u?null:u,d=a.noSsr,h=void 0!==d&&d;var f="function"===typeof e?e(n):e;return f=f.replace(/^@media( ?)/m,""),(void 0!==Kfe?Jfe:Yfe)(f,o,l,c,h)}var Qfe=["initialWidth","width"],epe=["xs","sm","md","lg","xl"],tpe=function(e,t){return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?epe.indexOf(e)<=epe.indexOf(t):epe.indexOf(e)<epe.indexOf(t)},npe=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?epe.indexOf(t)<=epe.indexOf(e):epe.indexOf(t)<epe.indexOf(e)},rpe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.withTheme,r=void 0!==n&&n,a=e.noSSR,i=void 0!==a&&a,o=e.initialWidth;return function(e){var n=Bu(),a=e.theme||n,s=(0,Xfe.Z)({theme:a,name:"MuiWithWidth",props:e}),l=s.initialWidth,u=s.width,c=(0,wt.Z)(s,Qfe),d=T.useState(!1),h=(0,Z.Z)(d,2),f=h[0],p=h[1];(0,Xh.Z)((function(){p(!0)}),[]);var m=a.breakpoints.keys.slice().reverse().reduce((function(e,t){var n=$fe(a.breakpoints.up(t));return!e&&n?t:e}),null),v=(0,xt.Z)({width:u||(f||i?m:void 0)||l||o},r?{theme:a}:{},c);return void 0===v.width?null:(0,Ct.jsx)(t,(0,xt.Z)({},v))}}};var ape=rpe()((function(e){var t=e.children,n=e.only,r=e.width,a=Bu(),i=!0;if(n)if(Array.isArray(n))for(var o=0;o<n.length;o+=1){if(r===n[o]){i=!1;break}}else n&&r===n&&(i=!1);if(i)for(var s=0;s<a.breakpoints.keys.length;s+=1){var l=a.breakpoints.keys[s],u=e["".concat(l,"Up")],c=e["".concat(l,"Down")];if(u&&tpe(l,r)||c&&npe(l,r)){i=!1;break}}return i?(0,Ct.jsx)(T.Fragment,{children:t}):null}));function ipe(e){return(0,bc.Z)("PrivateHiddenCss",e)}(0,yc.Z)("PrivateHiddenCss",["root","xlDown","xlUp","onlyXl","lgDown","lgUp","onlyLg","mdDown","mdUp","onlyMd","smDown","smUp","onlySm","xsDown","xsUp","onlyXs"]);var ope=["children","className","only"],spe=(0,Dc.ZP)("div",{name:"PrivateHiddenCss",slot:"Root"})((function(e){var t=e.theme,n=e.ownerState,r={display:"none"};return(0,xt.Z)({},n.breakpoints.map((function(e){var n=e.breakpoint,a=e.dir;return"only"===a?(0,kt.Z)({},t.breakpoints.only(n),r):"up"===a?(0,kt.Z)({},t.breakpoints.up(n),r):(0,kt.Z)({},t.breakpoints.down(n),r)})).reduce((function(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),{}))}));var lpe=function(e){for(var t=e.children,n=e.className,r=e.only,a=(0,wt.Z)(e,ope),i=Bu(),o=[],s=0;s<i.breakpoints.keys.length;s+=1){var l=i.breakpoints.keys[s],u=a["".concat(l,"Up")],c=a["".concat(l,"Down")];u&&o.push({breakpoint:l,dir:"up"}),c&&o.push({breakpoint:l,dir:"down"})}r&&(Array.isArray(r)?r:[r]).forEach((function(e){o.push({breakpoint:e,dir:"only"})}));var d=(0,xt.Z)({},e,{breakpoints:o}),h=function(e){var t=e.classes,n=e.breakpoints,r={root:["root"].concat((0,_.Z)(n.map((function(e){var t=e.breakpoint,n=e.dir;return"only"===n?"".concat(n).concat((0,Ju.Z)(t)):"".concat(t).concat((0,Ju.Z)(n))}))))};return(0,Yu.Z)(r,ipe,t)}(d);return(0,Ct.jsx)(spe,{className:(0,Xu.Z)(h.root,n),ownerState:d,children:t})},upe=["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"];var cpe=function(e){var t=e.implementation,n=void 0===t?"js":t,r=e.lgDown,a=void 0!==r&&r,i=e.lgUp,o=void 0!==i&&i,s=e.mdDown,l=void 0!==s&&s,u=e.mdUp,c=void 0!==u&&u,d=e.smDown,h=void 0!==d&&d,f=e.smUp,p=void 0!==f&&f,m=e.xlDown,v=void 0!==m&&m,g=e.xlUp,y=void 0!==g&&g,b=e.xsDown,x=void 0!==b&&b,w=e.xsUp,k=void 0!==w&&w,S=(0,wt.Z)(e,upe);return"js"===n?(0,Ct.jsx)(ape,(0,xt.Z)({lgDown:a,lgUp:o,mdDown:l,mdUp:c,smDown:h,smUp:p,xlDown:v,xlUp:y,xsDown:x,xsUp:k},S)):(0,Ct.jsx)(lpe,(0,xt.Z)({lgDown:a,lgUp:o,mdDown:l,mdUp:c,smDown:h,smUp:p,xlDown:v,xlUp:y,xsDown:x,xsUp:k},S))},dpe=(0,mm.Z)((0,Ct.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),hpe=(0,mm.Z)((0,Ct.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),fpe=(0,mm.Z)((0,Ct.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function ppe(e){return(0,bc.Z)("MuiCheckbox",e)}var mpe=(0,yc.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),vpe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],gpe=(0,Dc.ZP)(ny,{shouldForwardProp:function(e){return(0,Dc.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat((0,Ju.Z)(n.color))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,xt.Z)({color:(n.vars||n).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===r.color?n.vars.palette.action.activeChannel:n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,Yc.Fq)("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(t={},(0,kt.Z)(t,"&.".concat(mpe.checked,", &.").concat(mpe.indeterminate),{color:(n.vars||n).palette[r.color].main}),(0,kt.Z)(t,"&.".concat(mpe.disabled),{color:(n.vars||n).palette.action.disabled}),t))})),ype=(0,Ct.jsx)(hpe,{}),bpe=(0,Ct.jsx)(dpe,{}),xpe=(0,Ct.jsx)(fpe,{}),wpe=T.forwardRef((function(e,t){var n,r,a=(0,Lt.Z)({props:e,name:"MuiCheckbox"}),i=a.checkedIcon,o=void 0===i?ype:i,s=a.color,l=void 0===s?"primary":s,u=a.icon,c=void 0===u?bpe:u,d=a.indeterminate,h=void 0!==d&&d,f=a.indeterminateIcon,p=void 0===f?xpe:f,m=a.inputProps,v=a.size,g=void 0===v?"medium":v,y=a.className,b=(0,wt.Z)(a,vpe),x=h?p:c,w=h?p:o,k=(0,xt.Z)({},a,{color:l,indeterminate:h,size:g}),S=function(e){var t=e.classes,n=e.indeterminate,r=e.color,a={root:["root",n&&"indeterminate","color".concat((0,Ju.Z)(r))]},i=(0,Yu.Z)(a,ppe,t);return(0,xt.Z)({},t,i)}(k);return(0,Ct.jsx)(gpe,(0,xt.Z)({type:"checkbox",inputProps:(0,xt.Z)({"data-indeterminate":h},m),icon:T.cloneElement(x,{fontSize:null!=(n=x.props.fontSize)?n:g}),checkedIcon:T.cloneElement(w,{fontSize:null!=(r=w.props.fontSize)?r:g}),ownerState:k,ref:t,className:(0,Xu.Z)(S.root,y)},b,{classes:S}))})),kpe=wpe,Spe=n(8384),Tpe=n(6378),Epe=function(e){var t=e.height,n=e.reportAssigned,r=e.setProgress,a=(e.resultThisItemProgress,e.canEdit),i=e.executionReport,o=e.report,s=wNe().isOnline,l=cNe(),u=l.userData,c=(l.isOperator,l.unidades),d=(0,T.useState)(!0),h=(0,Z.Z)(d,2),f=(h[0],h[1]),p=(0,T.useState)([]),m=(0,Z.Z)(p,2),v=m[0],g=m[1],y=(0,T.useState)([]),b=(0,Z.Z)(y,2),x=b[0],w=b[1],k=(0,T.useState)([]),S=(0,Z.Z)(k,2),E=(S[0],S[1]),C=(0,T.useState)(),M=(0,Z.Z)(C,2),A=M[0],I=M[1],N=(0,T.useState)(),R=(0,Z.Z)(N,2),O=R[0],D=R[1],P=(0,T.useState)(!1),L=(0,Z.Z)(P,2),F=L[0],j=L[1],z=(0,T.useState)(),B=(0,Z.Z)(z,2),U=B[0],W=B[1],V=(0,T.useState)(),H=(0,Z.Z)(V,2),G=H[0],q=H[1],X=(0,T.useState)(!1),Y=(0,Z.Z)(X,2),K=Y[0],J=(Y[1],function(e){var t=e.className,n=(e.style,e.onClick);return(0,Ct.jsx)("div",{className:t,style:{color:"black",background:"grey",borderRadius:20},onClick:n})}),$={infinite:!1,speed:500,slidesToShow:7,slidesToScroll:7,nextArrow:(0,Ct.jsx)(J,{}),prevArrow:(0,Ct.jsx)(J,{})};(0,T.useEffect)((function(){var e=[];console.log(i),i._id&&(Object.keys(i.group).forEach((function(t,n){var r={data:t,state:!1};0==n&&(r.state=!0,D(t)),e.push(r)})),g(o.testMode?[e[0],e[1],e[2]]:e),console.log(Object.values(i.group)[0]),w(Object.values(i.group)[0]))}),[i]),(0,T.useEffect)((function(){if(s&&x&&i._id&&c.length>0){var e=[],t=[],n=[];x.forEach((function(t){t.isChecked&&e.push(t),t.isRequerido=!1;var n=c.filter((function(e){if(e.idUnidad===t.unidad)return e}));n&&n[0]&&(t.isRequerido=!0,t.inputCantidad=1,n&&n[0]&&"TRUE"===n[0].inputRequerido&&(t.isRequerido=!0,t.inputCantidad=n[0].inputCantidad))})),Object.values(i.group).forEach((function(e){e.forEach((function(e){t.push(e),e.isChecked&&n.push(e)}))}));var a=(100*e.length/x.length).toFixed(0),o=(100*n.length/t.length).toFixed(0);console.log(a,o),r({progressPage:a,globalProgress:o}),f(!1)}}),[x,i,v,s,c]);var Q=function(){var e=mo(fo().mark((function e(t,n,r){var a,o,l,u;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,_.Z)(x),r.isChecked=!0,r.isWarning=!n,a[t]=r,i.group[O]=a,i.offLineGuard=Date.now(),o=i,console.log(a),w(a),e.next=11,Mo();case 11:return l=e.sent,u=l.database,e.next=15,Ao(o,u);case 15:if(!s){e.next=18;break}return e.next=18,zi(o);case 18:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ee=function(){var e=mo(fo().mark((function e(t,n){var r,a,o,l,c,d;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t.isChecked){e.next=5;break}t.isRequerido?alert("Actividad requiere que deje un comentario."):"*"!==t.unidad?alert("Actividad requiere que deje una cantidad de insumo utilizado."):confirm("\xbfDesea indicar estado ejecutado, sin dejar un mensaje?")&&(r=[{content:"Se indica estado ejecutado sin dejar mensajes",id:Date.now(),name:"".concat(u.name," ").concat(u.lastName),namePicture:null,urlBase64:void 0,user:u._id}],t.isChecked=!0,t.isWarning=!1,t.messages=r,Q(n,!0,t)),e.next=23;break;case 5:if(!confirm("Confirme que desea desmarcar la tarea")){e.next=23;break}return(a=(0,_.Z)(x))[n].isChecked=!1,o=0,a[n].messages.forEach((function(e,t){"Se indica estado ejecutado sin dejar mensajes"===e&&(o=t)})),a[n].messages[o]=null,w(a),(l=i).group[O]=a,e.next=16,Mo();case 16:return c=e.sent,d=c.database,e.next=20,Ao(l,d);case 20:if(!s){e.next=23;break}return e.next=23,zi(l);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("div",{style:{height:70,borderColor:"#ccc",borderWidth:2,borderStyle:"solid",borderRadius:10},children:(0,Ct.jsx)(qfe.Z,qo(qo({},$),{},{children:v.map((function(e,t){return(0,Ct.jsxs)("div",{style:{textAlign:"center",height:"100%"},children:[(0,Ct.jsx)(Hm,{style:{textAlign:"center",width:"100%",height:70},onClick:function(){return function(e,t){D(t),w(Object.values(i.group)[e]);var n=(0,_.Z)(v);n.forEach((function(e){e.state=!1})),n[e].state=!0,g(n)}(t,e.data)},children:(0,Ct.jsx)("p",{style:{margin:0},children:e.data})}),e.state&&(0,Ct.jsx)("div",{style:{width:"100%",height:6,backgroundColor:"#BB2D2D",position:"relative",bottom:5,borderRadius:5}})]},t)}))}))}),(0,Ct.jsxs)("div",{style:{position:"relative"},children:[(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:"auto",md:"auto",children:(0,Ct.jsxs)("p",{style:{margin:0,textAlign:"center",width:30},children:[" ",(0,Ct.jsx)("strong",{children:"N\xb0"})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xl:1,md:1,children:(0,Ct.jsxs)("p",{style:{margin:0,textAlign:"center"},children:[" ",(0,Ct.jsxs)("strong",{children:["Personal ",(0,Ct.jsx)("br",{})," Necesario"]})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",md:"auto",children:(0,Ct.jsxs)("p",{style:{margin:0,textAlign:"center",width:150},children:[" ",(0,Ct.jsx)("strong",{children:"Descripcion De Tarea"})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xl:"Mantenci\xf3n"===o.reportType?3:4,md:"Mantenci\xf3n"===o.reportType?3:4,sm:4,children:(0,Ct.jsxs)("p",{style:{margin:0,textAlign:"center"},children:[" ",(0,Ct.jsx)("strong",{children:"Observaciones"})," "]})}),(0,Ct.jsxs)(cpe,{mdDown:!0,children:["Mantenci\xf3n"===o.reportType&&(0,Ct.jsx)(Lh,{item:!0,xl:"auto",md:"auto",children:(0,Ct.jsxs)("p",{style:{margin:0,textAlign:"center",width:100},children:[" ",(0,Ct.jsxs)("strong",{children:["N\xb0 Parte ",(0,Ct.jsx)("br",{})," a Utilizar"]})," "]})}),"Mantenci\xf3n"===o.reportType&&(0,Ct.jsx)(Lh,{item:!0,xl:"auto",md:"auto",children:(0,Ct.jsxs)("p",{style:{margin:0,textAlign:"center",width:100},children:[" ",(0,Ct.jsxs)("strong",{children:["Cantidad ",(0,Ct.jsx)("br",{})," a utilizar"]})," "]})}),"Mantenci\xf3n"===o.reportType&&(0,Ct.jsx)(Lh,{item:!0,xl:"auto",md:"auto",children:(0,Ct.jsxs)("p",{style:{margin:0,textAlign:"center",width:60},children:[" ",(0,Ct.jsxs)("strong",{children:["Cantidad ",(0,Ct.jsx)("br",{})," Utilizada"]})," "]})}),"Mantenci\xf3n"===o.reportType&&(0,Ct.jsx)(Lh,{item:!0,xl:1,md:1,children:(0,Ct.jsxs)("p",{style:{margin:0,textAlign:"center",width:100},children:[" ",(0,Ct.jsxs)("strong",{children:["Tipo ",(0,Ct.jsx)("br",{})," Rpto"]})," "]})})]}),(0,Ct.jsx)(Lh,{item:!0,xl:1,md:"auto",children:(0,Ct.jsxs)("p",{style:{margin:0,textAlign:"center",width:50},children:[" ",(0,Ct.jsx)("strong",{children:"Acci\xf3n"})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xl:1,md:1,children:(0,Ct.jsxs)("p",{style:{margin:0,textAlign:"center"},children:[" ",(0,Ct.jsx)("strong",{children:"Estado"})," "]})})]}),(0,Ct.jsx)("div",{style:{height:t,overflowY:"scroll"},children:x.map((function(e,t){return e.isChecked||(e.isChecked=!1),(0,Ct.jsxs)(Lh,{container:!0,style:{borderBottomStyle:"solid",borderBottomWidth:1,borderBottomColor:"#ccc"},children:[(0,Ct.jsx)(Lh,{item:!0,xl:"auto",md:"auto",children:(0,Ct.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:30},children:[" ",(0,Ct.jsxs)("strong",{children:[t+1,".-"]})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xl:1,md:1,children:(0,Ct.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center"},children:[" ",e.workteamdesc,"   "]})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",md:"auto",children:(0,Ct.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"left",width:150},children:[" ",e.taskdesc," "]})}),(0,Ct.jsx)(Lh,{item:!0,xl:"Mantenci\xf3n"===o.reportType?3:4,md:"Mantenci\xf3n"===o.reportType?3:4,sm:4,children:(0,Ct.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"justify"},children:[" ",e.obs01," "]})}),(0,Ct.jsxs)(cpe,{mdDown:!0,children:["Mantenci\xf3n"===o.reportType&&(0,Ct.jsx)(Lh,{item:!0,xl:"auto",md:"auto",children:"*"===e.partnumberUtl?(0,Ct.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:100},children:"N/A"}):(0,Ct.jsx)("p",{style:{padding:5,margin:0,textAlign:"center",width:100},children:e.partnumberUtl})}),"Mantenci\xf3n"===o.reportType&&(0,Ct.jsx)(Lh,{item:!0,xl:"auto",md:"auto",children:"*"===e.unidad?(0,Ct.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:100},children:"N/A"}):(0,Ct.jsxs)("p",{style:{padding:5,margin:0,textAlign:"center",width:100},children:[" ",e.cantidad," ",e.unidad]})}),"Mantenci\xf3n"===o.reportType&&(0,Ct.jsx)(Lh,{item:!0,xl:"auto",md:"auto",children:"*"===e.unidad?(0,Ct.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:60},children:"N/A"}):(0,Ct.jsxs)("p",{style:{padding:5,margin:0,textAlign:"center",width:60},children:[" ",e.unidadData?e.unidadData:"___"," ",e.unidad]})}),"Mantenci\xf3n"===o.reportType&&(0,Ct.jsx)(Lh,{item:!0,xl:1,md:1,children:"*"===e.idtypeutlPartnumber?(0,Ct.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:100},children:"N/A"}):(0,Ct.jsxs)("p",{style:{padding:5,margin:0,textAlign:"center",width:100},children:[" ",e.idtypeutlPartnumber]})})]}),(0,Ct.jsx)(Lh,{item:!0,xl:1,md:"auto",children:(0,Ct.jsx)("div",{style:{textAlign:"center",width:20},children:(0,Ct.jsx)(Jd,{style:{width:10,textAlign:"center"},onClick:function(){!function(e,t){q(t),W(e),j(!0)}(e,t),I(t)},children:(0,Ct.jsx)(Eu,{style:{fontSize:20},icon:a?ks:cs})})})}),(0,Ct.jsxs)(Lh,{item:!0,xl:"auto",md:"auto",children:[!a&&(e.isChecked,(0,Ct.jsx)(kpe,{checked:e.isChecked,disabled:!0,style:{transform:"scale(1.2)"},icon:(0,Ct.jsx)(Tpe.Z,{style:{fontSize:20}}),checkedIcon:(0,Ct.jsx)(Spe.Z,{style:{fontSize:20,color:e.isWarning?"#EAD749":"#27AE60"}})})),a&&(e.isChecked,(0,Ct.jsx)(kpe,{value:e.isChecked,checked:e.isChecked,onClick:function(){ee(e,t)},style:{transform:"scale(1.2)"},icon:(0,Ct.jsx)(Tpe.Z,{style:{fontSize:20}}),checkedIcon:(0,Ct.jsx)(Spe.Z,{style:{fontSize:20,color:e.isWarning?"#EAD749":"#27AE60"}})})),e.haveMessage&&(0,Ct.jsx)(Jd,{style:{padding:1},disabled:!0,children:(0,Ct.jsx)(Eu,{style:{fontSize:20},icon:ss})}),!e.messages&&(0,Ct.jsx)(Jd,{style:{padding:1},disabled:!0,children:(0,Ct.jsx)(Eu,{style:{fontSize:20,color:"transparent"},icon:ss})}),e.haveClip&&(0,Ct.jsx)(Jd,{style:{padding:1},disabled:!0,children:(0,Ct.jsx)(Eu,{style:{fontSize:20},icon:ws})}),!e.haveClip&&(0,Ct.jsx)(Jd,{style:{padding:1},disabled:!0,children:(0,Ct.jsx)(Eu,{style:{fontSize:20,color:"transparent"},icon:ws})})]})]},t)}))}),F&&(0,Ct.jsx)(qIe,{open:F,handleClose:function(){j(!1),W(null)},report:n,item:U,index:G,executionReport:i,gruposKeys:v,indexActivity:A,indexGroup:O,save:Q,setChecks:E,canEdit:a}),K&&(0,Ct.jsx)(xIe,{open:K})]})]})};function Cpe(e){return(0,bc.Z)("MuiCard",e)}(0,yc.Z)("MuiCard",["root"]);var _pe=["className","raised"],Mpe=(0,Dc.ZP)(td,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),Ape=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiCard"}),r=n.className,a=n.raised,i=void 0!==a&&a,o=(0,wt.Z)(n,_pe),s=(0,xt.Z)({},n,{raised:i}),l=function(e){var t=e.classes;return(0,Yu.Z)({root:["root"]},Cpe,t)}(s);return(0,Ct.jsx)(Mpe,(0,xt.Z)({className:(0,Xu.Z)(l.root,r),elevation:i?8:void 0,ref:t,ownerState:s},o))})),Ipe=Ape,Npe=(0,mm.Z)((0,Ct.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos"),Rpe=function(e){var t=e.route,n=ni(),r=wNe().isOnline,a=PNe().machineSelected,i=_Ne(),o=i.loading,s=i.setLoading,l=(0,T.useState)(!1),u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=(0,T.useState)([]),f=(0,Z.Z)(h,2),p=f[0],m=f[1],v=(0,T.useState)([]),g=(0,Z.Z)(v,2),y=g[0],b=g[1],x=(0,T.useState)(""),w=(0,Z.Z)(x,2),k=w[0],S=w[1],E=(0,T.useState)(!1),C=(0,Z.Z)(E,2),_=C[0],M=C[1],A=(0,T.useState)({}),I=(0,Z.Z)(A,2),N=I[0],R=I[1],O=(0,T.useState)(!1),D=(0,Z.Z)(O,2),P=D[0],L=D[1],F=(0,T.useState)(""),j=(0,Z.Z)(F,2),z=j[0],B=j[1],U=(0,T.useState)("Todos"),W=(0,Z.Z)(U,2),V=W[0],H=W[1],G=(Ve().id,(0,T.useState)({})),q=(0,Z.Z)(G,2),X=q[0],Y=q[1];new String;t.toString(),(0,T.useEffect)((function(){"inspection"===t?S("Inspecci\xf3n"):"maintenance"===t?S("Mantenci\xf3n"):"machines"===t&&S("M\xe1quinas")}),[t]),(0,T.useEffect)((function(){console.log(a),a&&(Y(a),r?Li(a.equid).then((function(e){e.data&&(console.log(e.data.reverse()),m(e.data.reverse()),b(e.data.reverse()),setTimeout((function(){}),500))})):alert("Dispoitivo sin conexi\xf3n a internet. No se podr\xe1 mostrar el hist\xf3rico.")),s(!1)}),[a]);var K=Ze(),J=function(e){"all"===e?(H("Todos"),m(y.reverse())):"Mantenci\xf3n"===e||"Inspecci\xf3n"===e?(H(e),m(y.filter((function(t){if(t.reportType===e)return t})).reverse())):(H(e),m(y.filter((function(t){if(t.state===e)return t})).reverse()))},$=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,uo(t);case 3:n=e.sent,setTimeout((function(){n&&(console.log(n),X.image=n,wi(X))}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:n.pageContainer,item:!0,xs:12,children:(0,Ct.jsx)(Ipe,{elevation:0,className:"pageCard",children:(0,Ct.jsxs)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:[(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){K(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsxs)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:[k,"/",X.type," ",X.brand," ",X.model,"/N\xfamero interno: ",(0,Ct.jsx)("b",{children:X.equ})]})]})})}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:8,md:6,lg:4,xl:4,children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsxs)("div",{style:{padding:15,borderTopLeftRadius:20,borderEndStartRadius:20,backgroundColor:"#F9F9F9",borderRadius:10,minHeight:400},children:[(0,Ct.jsx)("h3",{style:{marginTop:5,marginBottom:5},children:X.type}),(0,Ct.jsxs)("div",{style:{width:"100%",backgroundColor:"transparent",textAlign:"center"},children:[(0,Ct.jsx)("img",{src:X.image?X.image:"/assets/".concat(X.model,".png"),height:180,id:"imageMachine",onClick:function(){!function(e){B(e),L(!0)}(X.image?X.image:"/assets/".concat(X.model,".png"))}}),(0,Ct.jsx)("br",{}),(0,Ct.jsxs)("button",{onClick:function(){document.getElementById("fotoMaquina").click()},children:[(0,Ct.jsx)(Eu,{icon:Qo,style:{marginRight:10}})," Cambiar imagen"]}),(0,Ct.jsx)("input",{autoComplete:"off",type:"file",id:"fotoMaquina",accept:"image/x-png,image/jpeg",onChange:function(e){$(e.target.files[0])},hidden:!0})]}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},id:"machineData",children:[(0,Ct.jsx)("b",{children:"Marca: "})," ",X.brand," "]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[(0,Ct.jsx)("b",{children:"Modelo: "})," ",X.model," "]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[(0,Ct.jsx)("b",{children:"C\xf3digo: "})," ",X.equid," "]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[(0,Ct.jsx)("b",{children:"Hor\xf3metro Actual: "})," ",Number(X.hourMeter)/36e5," hrs "]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[(0,Ct.jsx)("b",{children:"N\xfamero Interno: "})," ",X.equ," "]})})]})})}),(0,Ct.jsx)(Lh,{item:!0,sm:12,md:7,lg:8,xl:8,children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsxs)("div",{style:{padding:15,backgroundColor:"#F9F9F9",width:"100%",height:"calc(100vh - 220px)",position:"relative",borderRadius:10},children:[(0,Ct.jsxs)("div",{style:{position:"absolute",top:10,right:10},children:[(0,Ct.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){J("Mantenci\xf3n")},children:"Mantenciones"}),(0,Ct.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){J("Inspecci\xf3n")},children:"Inspecciones"}),(0,Ct.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){J("all")},children:"Todos"}),(0,Ct.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){J("Completadas")},children:"Completados"}),(0,Ct.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){J("En proceso")},children:"En proceso"}),(0,Ct.jsx)("button",{style:{float:"left"},onClick:function(){J("Asignar")},children:"Por asignar"})]}),(0,Ct.jsxs)("h3",{children:["Listado de mantenciones. ",(0,Ct.jsxs)("b",{style:{color:"red"},children:["Filtro: ",V]})]}),(0,Ct.jsxs)("div",{style:{overflowY:"auto",height:"calc(100vh - 300px)",width:"100%",padding:20},children:[navigator.onLine&&0===p.length&&(0,Ct.jsx)("p",{children:"No hay mantenciones"}),navigator.onLine&&p.length>0&&p.reverse().map((function(e,t){return(0,Ct.jsxs)("div",{style:{width:"95%",padding:10,margin:10,display:"block",height:100,borderBottomStyle:"solid",borderBottomColor:"#ccc",borderBottomWidth:2},children:[(0,Ct.jsxs)("div",{style:{float:"left"},children:[(0,Ct.jsxs)("h4",{style:{margin:0},children:["OT N\xb0",e.idIndex]}),(0,Ct.jsxs)("p",{style:{margin:0},children:["C\xf3digo SAP ",e.sapId]}),(0,Ct.jsxs)("p",{style:{margin:0},children:["Estado: ",e.state]}),"Completadas"===e.state&&(0,Ct.jsx)("a",{href:e.urlPdf,target:"_blank",children:"Imprimir OT"})]}),(0,Ct.jsx)("button",{style:{float:"right"},onClick:function(){return function(e){M(!0),R(e)}(e)},children:(0,Ct.jsx)(Eu,{icon:cs})})]},t)})),!navigator.onLine&&(0,Ct.jsx)("p",{children:"Debe contar con conexi\xf3n a internet."})]})]})})}),(0,Ct.jsx)(Xc,{open:c,close:!c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Ct.jsx)("div",{style:{height:"100%",width:"100%",backgroundColor:"#333"},children:(0,Ct.jsx)(gy,{onClick:function(){setTimeout((function(){d(!c)}),500)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})})}),_&&(0,Ct.jsx)(YIe,{open:_,report:N,handleClose:function(){M(!1)}}),o&&(0,Ct.jsx)(xIe,{open:o}),P&&(0,Ct.jsx)(zIe,{open:P,image:z,handleClose:function(){L(!1)}})]})]})})})})})},Ope=(ei((function(e){return{root:{display:"inline-block",textAlign:"center"},icon:{marginBottom:15},button:{minWidth:180}}})),ei((function(e){return{root:{display:"inline-block",textAlign:"center",padding:10,width:"25%",backgroundColor:"transparent"},icon:{padding:20,width:"100%"},button:{minWidth:"100%"},buttonSelection:{backgroundColor:"#F9F9F9",color:"#505050",width:"100%",height:"100%",minHeight:300,borderRadius:20,fontFamily:"Raleway",textTransform:"none",margin:10},iconButton:{color:"#BE2E26"}}}))),Dpe=function(e){var t=e.variant,n=e.disableButton,r=mNe().dictionary,a=Ope(),i=Ze();return(0,Ct.jsx)(Hm,{onClick:function(){i("/".concat(t))},variant:"contained",className:a.buttonSelection,disabled:n,children:(0,Ct.jsxs)("div",{className:a.icon,children:[function(){switch(t){case"inspection":return(0,Ct.jsx)(Eu,{icon:Cs,size:"4x",className:a.iconButton});case"assignment":return(0,Ct.jsx)(Eu,{icon:ms,size:"4x",className:a.iconButton});case"machines":case"machinesAdmin":return(0,Ct.jsx)(Eu,{icon:Rs,size:"4x",className:a.iconButton});case"maintenance":return(0,Ct.jsx)(Eu,{icon:Is,size:"4x",className:a.iconButton});case"reports":return(0,Ct.jsx)(Eu,{icon:as,size:"4x",className:a.iconButton});case"administration":return(0,Ct.jsx)(Eu,{icon:Ds,size:"4x",className:a.iconButton});case"users":return(0,Ct.jsx)(Eu,{icon:Ps,size:"4x",className:a.iconButton});case"roles":return(0,Ct.jsx)(Eu,{icon:vs,size:"4x",className:a.iconButton});case"patterns":return(0,Ct.jsx)(Eu,{icon:Jo,size:"4x",className:a.iconButton});case"news":return(0,Ct.jsx)(Eu,{icon:bs,size:"4x",className:a.iconButton});case"calendar":return(0,Ct.jsx)(Eu,{icon:$o,size:"4x",className:a.iconButton})}}(),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("p",{className:"button-font-size",children:function(){switch(t){case"inspection":return r.welcome.inspectionButton;case"assignment":return r.welcome.assignmentButton;case"machines":return r.welcome.machinesButton;case"maintenance":return r.welcome.maintenanceButton;case"reports":return r.welcome.reportsButton;case"administration":return r.welcome.administrationButton;case"users":return r.admin.adminUsersButton;case"roles":return r.roles.rolesUsersButton;case"patterns":return r.patterns.patternsButton;case"news":return r.news.newsButton;case"calendar":return r.calendar.calendarButton;case"machinesAdmin":return r.admin.machinesAdmin}}()})]})})},Ppe=function(e){var t=e.machine,n=e.route,r=e.navigate,a={brand:t.brand,id:t.id,model:t.model,pIDPM:t.pIDPM,type:t.type};return(0,Ct.jsxs)("button",{className:"botonMaquinaContainer",onClick:function(){r("/".concat(n,"/").concat(JSON.stringify(a)))},children:[(0,Ct.jsx)("div",{style:{backgroundColor:"#fff"},className:"imagenBotonMaquina",children:t.image.data&&(0,Ct.jsx)("img",{src:"data:".concat(t.image.data),width:"100%"})}),(0,Ct.jsxs)("div",{className:"textoBotonMaquinaContainer",children:[(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:"".concat(t.type)})}),(0,Ct.jsx)("p",{children:"".concat(t.brand," ").concat(t.model)})]})]})},Lpe=function(e){var t=e.route,n=ni(),r=PNe().machines,a=Ze(),i=(0,T.useState)(),o=(0,Z.Z)(i,2),s=o[0],l=o[1];return(0,T.useEffect)((function(){"inspection"===t?l("Inspecci\xf3n"):"maintenance"===t?l("Mantenci\xf3n"):"machines"===t&&l("M\xe1quinas")}),[t]),(0,Ct.jsx)(vg,{height:"90%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:n.pageContainer,item:!0,xs:12,children:(0,Ct.jsx)("div",{className:"pageCard",children:(0,Ct.jsxs)(Lh,{container:!0,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){a(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"".concat(s)})]})})}),(0,Ct.jsx)(Lh,{container:!0,spacing:5,justifyContent:"flex-start",style:{textAlign:"center",overflowY:"auto"},children:r.map((function(e,n){return(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4,children:(0,Ct.jsx)(Ppe,{machine:e,route:t,navigate:a},n)},e.id)}))})]})})})})})},Fpe=function(){var e=ni();return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:e.pageContainer,item:!0,xs:12,children:(0,Ct.jsx)(Ipe,{elevation:0,className:(0,Xu.Z)("pageCard",e.noNavBarMargin),children:(0,Ct.jsx)(Lh,{container:!0,style:{height:"100%"},alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)(Lh,{container:!0,item:!0,spacing:8,justifyContent:"center",children:(0,Ct.jsx)(Lh,{item:!0,children:(0,Ct.jsx)(Dg,{size:200})})})})})})})})},jpe=function(e){var t=e.route,n=PNe(),r=n.machinesBySite,a=n.setMachineSelected,i=VNe().todoArchivo3DListo,o=(0,T.useState)(""),s=(0,Z.Z)(o,2),l=s[0],u=s[1],c=(0,T.useState)([]),d=(0,Z.Z)(c,2),h=d[0],f=d[1],p=(0,T.useState)(!1),m=(0,Z.Z)(p,2),v=m[0],g=m[1],y=(0,T.useState)(!1),b=(0,Z.Z)(y,2),x=b[0],w=b[1],k=(0,T.useState)(),S=(0,Z.Z)(k,2),E=S[0],C=S[1],_=Ze(),M=ni(),A=Ve().id;(0,T.useEffect)((function(){C(JSON.parse(A))}),[]),(0,T.useEffect)((function(){"inspection"===t?u("Inspecci\xf3n"):"maintenance"===t?u("Mantenci\xf3n"):"machines"===t&&u("M\xe1quinas")}),[t]),(0,T.useEffect)((function(){if(console.log(r,E),r.length>0&&E){var e=r.filter((function(e){if(e.model===JSON.parse(A).model)return e})).sort((function(e,t){return e.equ-t.equ}));f(e),w(!0)}}),[r,E]);return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:M.pageContainer,item:!0,xs:12,children:(0,Ct.jsx)(Ipe,{elevation:0,className:"pageCard",children:E&&(0,Ct.jsxs)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:[(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){_(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:E&&"".concat(l,"/").concat(E.type," ").concat(E.brand," ").concat(E.model)})]})})}),(0,Ct.jsx)("div",{style:{width:"100%",paddingLeft:20,height:40,textAlign:"center"},children:("793-F"===E.model||"PC5500"===E.model)&&(0,Ct.jsx)("button",{style:{cursor:"pointer",height:30,borderRadius:20,position:"relative",right:10,paddingLeft:30,paddingRight:30},onClick:function(){i?g(!0):alert("Espere al t\xe9rmino de la descarga de todos los modelos 3D")},children:(0,Ct.jsx)("strong",{children:"Ver modelo 3D de ".concat(E.type," ").concat(E.brand," ").concat(E.model)})})}),(0,Ct.jsxs)(dp,{style:{width:"100vw",marginRight:11,overflowY:"scroll",maxHeight:"70vh",paddingLeft:20,paddingRight:20},children:[!x&&(0,Ct.jsx)(Fpe,{}),x&&h.map((function(e,t){return(0,Ct.jsxs)(Lh,{container:!0,style:{minHeight:148,marginBottom:20,padding:20,borderStyle:"solid",borderWidth:2,borderColor:"#CCC",borderRadius:20},children:[(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:3,lg:2,children:(0,Ct.jsx)("img",{src:e.image?e.image:"../assets/no-image.png",style:{height:120,width:"100%",objectFit:"cover"}})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:3,lg:2,children:(0,Ct.jsx)("div",{style:{padding:10},children:(0,Ct.jsxs)("h1",{style:{margin:0},children:[" ",(0,Ct.jsxs)("strong",{children:[e.type," ",e.equ]})," "]})})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:3,lg:3,children:(0,Ct.jsxs)("div",{style:{padding:10},children:[(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Marca: ",e.brand.toUpperCase()]}),(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Modelo: ",e.model]}),(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["C\xf3digo: ",e.equid]}),(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Obra: ",e.idobra]})]})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:3,lg:3,children:(0,Ct.jsxs)("div",{style:{padding:10},children:[(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Hor\xf3metro Actual: ",Number(e.hourMeter)/36e5]}),(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["N\xfamero Interno: ",e.equ]}),(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Serie motor: ",e.enginesnr]}),(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["SPM Inspecci\xf3n: ",e.idpminspeccion]}),(0,Ct.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["SPM Mantenci\xf3n: ",e.idpmmantencion]})]})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:12,lg:2,children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,Ct.jsx)("button",{style:{width:100,height:30,borderRadius:20,marginLeft:6},onClick:function(){return a(t=e),void _("machine-detail/".concat(t.equid));var t},children:(0,Ct.jsx)("strong",{children:"Ver m\xe1s"})})})})]},t)})),0===h.length&&x&&(0,Ct.jsx)(Lh,{container:!0,style:{minHeight:148,marginBottom:20,padding:20,borderStyle:"solid",borderWidth:2,borderColor:"#CCC",borderRadius:20},children:(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,Ct.jsx)("p",{children:"Obra no gestiona m\xe1quina seleccionada."})})})]}),(0,Ct.jsx)("div",{children:(0,Ct.jsxs)(dd,{open:v,fullScreen:!0,children:[(0,Ct.jsx)(Gfe,{machine:E}),(0,Ct.jsx)(gy,{onClick:function(){g(!1)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:(0,Ct.jsx)(Gm,{})})]})})]})})})})})},zpe=n.p+"static/media/ICV-transparent.a120acf733f8c1757fb2.png",Bpe=function(){var e=function(){return(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard noNavBarMargin",children:[(0,Ct.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[(0,Ct.jsx)("img",{src:zpe,height:100,alt:""}),(0,Ct.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",(0,Ct.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),(0,Ct.jsx)("p",{style:{fontSize:"2em",marginBottom:0},children:"Iniciar sesi\xf3n"}),(0,Ct.jsxs)("p",{style:{fontSize:10,marginTop:0},children:[" ",li.version," "]})]}),(0,Ct.jsx)(W3,{})]})};(0,T.useEffect)((function(){t()}),[]);var t=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent).length>0&&t.forEach((function(e,t){"3Ds"===e.name||"MachinesParts"===e.name||"Executions"===e.name||"Trucks"===e.name||"Pautas"===e.name||window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ct.jsxs)("div",{style:{height:"100%",display:"block"},children:[(0,Ct.jsx)(cpe,{smDown:!0,children:(0,Ct.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:e()})}),(0,Ct.jsx)(cpe,{smDown:!0,children:(0,Ct.jsx)("div",{className:"loginBacgroundImage"})}),(0,Ct.jsx)(cpe,{mdUp:!0,children:(0,Ct.jsx)("div",{children:e()})})]})},Upe=(0,T.createContext)(),Wpe=function(e){var t=cNe(),n=t.userData,r=t.isAuthenticated,a=(0,T.useState)([]),i=(0,Z.Z)(a,2),o=i[0],s=(i[1],(0,T.useState)()),l=(0,Z.Z)(s,2),u=l[0],c=(l[1],(0,T.useState)(!1)),d=(0,Z.Z)(c,2),h=d[0],f=d[1],p=(0,T.useState)([]),m=(0,Z.Z)(p,2),v=m[0],g=m[1],y=(0,T.useState)(),b=(0,Z.Z)(y,2),x=b[0],w=b[1];(0,T.useEffect)((function(){n&&r&&(S(),E())}),[n,r]);var k=function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)},S=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(n._id);case 2:t=e.sent,g(t.data.data.sort(k)),w(t.data.data.sort(k)[0]),f(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C={myNotifications:o,lastNotification:u,getNotifications:E,noticias:v,ultimaNoticia:x,listaLectura:h};return(0,Ct.jsx)(Upe.Provider,qo({value:C},e))},Zpe=function(){return(0,T.useContext)(Upe)},Vpe=function(){var e=cNe(),t=e.admin,n=e.isOperator,r=e.isSapExecutive,a=e.isShiftManager,i=e.isChiefMachinery,o=(e.userData,RNe()),s=o.date,l=o.hour,u=Zpe(),c=u.lastNotification,d=u.ultimaNoticia,h=u.listaLectura,f=(0,T.useState)(!1),p=(0,Z.Z)(f,2),m=p[0],v=(p[1],(0,T.useState)(!1)),g=(0,Z.Z)(v,2),y=g[0],b=g[1],x=(0,T.useState)(0),w=(0,Z.Z)(x,2),k=w[0],S=(w[1],(0,T.useState)("")),E=(0,Z.Z)(S,2),C=E[0],_=(E[1],(0,T.useState)(!1)),M=(0,Z.Z)(_,2),A=M[0],I=(M[1],(0,T.useState)(!0)),N=(0,Z.Z)(I,2),R=N[0],O=N[1],D=(0,T.useState)(!0),P=(0,Z.Z)(D,2),L=P[0],F=P[1],j=(0,T.useState)(!1),z=(0,Z.Z)(j,2),B=(z[0],z[1],(0,T.useState)(!1)),U=(0,Z.Z)(B,2),W=(U[0],U[1],(0,T.useState)(!0)),V=(0,Z.Z)(W,2),H=(V[0],V[1]),G=(0,T.useState)([]),q=(0,Z.Z)(G,2),X=(q[0],q[1],(0,T.useState)("Sin notificaciones pendientes")),Y=(0,Z.Z)(X,2),K=(Y[0],Y[1],(0,T.useState)("Sin informaciones pendientes")),J=(0,Z.Z)(K,2),$=(J[0],J[1],(0,T.useState)(!0)),Q=(0,Z.Z)($,2);Q[0],Q[1];(0,T.useEffect)((function(){(t||r||a||i)&&O(!1),t&&F(!1)}),[t,n,r,a,i]);var ee=Ze();window.addEventListener("online",(function(){H(!0);var e=Number(localStorage.getItem("timeOffline"));Date.now()<e+216e5&&(localStorage.setItem("revisado",!0),localStorage.removeItem("timeOffline"))})),window.addEventListener("offline",(function(){H(!1),localStorage.getItem("timeOffline")||te(Date.now())}));var te=function(e){localStorage.setItem("timeOffline",e),localStorage.setItem("revisado",!1)};return(0,Ct.jsxs)("div",{children:[(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsx)(Lh,{container:!0,spacing:5,children:(0,Ct.jsx)("div",{children:(0,Ct.jsxs)("p",{className:"titulo",children:["Hola ",localStorage.getItem("name")," \xbfPor d\xf3nde quieres comenzar hoy?"]})})}),(0,Ct.jsxs)(Lh,{container:!0,spacing:5,children:[(0,Ct.jsxs)(Lh,{item:!0,xs:12,sm:12,md:12,lg:t||r||a||i?9:12,children:[(0,Ct.jsxs)(Lh,{container:!0,spacing:5,children:[(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:4,children:(0,Ct.jsxs)("div",{className:"notificaciones reloj",children:[(0,Ct.jsxs)("p",{className:"reloj-fecha",children:[" ",s," "]}),(0,Ct.jsxs)("p",{className:"reloj-hora",children:[" ",l," hrs "]})]})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:4,children:(0,Ct.jsxs)("button",{className:"notificaciones alertas",onClick:function(){return ee("/notifications")},children:[(0,Ct.jsxs)("p",{className:"notificaciones-texto",children:[" ",(0,Ct.jsx)("b",{children:"\xdaltima Notificaci\xf3n:"})," "]}),(0,Ct.jsxs)("p",{className:"notificaciones-texto",children:[" ",c&&c.message," "]})]})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:4,children:(0,Ct.jsx)("button",{className:"notificaciones alertas",onClick:function(){return ee("/mynews")},children:(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("p",{style:{marginTop:5},children:"Noticias internas"}),(0,Ct.jsxs)("p",{className:"notificaciones-texto",children:[" ",h?d?d.titulo:"No tiene noticias en su muro":"Cargando noticias en su muro"," "]})]})})})]}),(0,Ct.jsx)("br",{}),(0,Ct.jsxs)(Lh,{container:!0,spacing:5,children:[(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,Ct.jsx)(Dpe,{variant:"assignment",disableButton:A})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,Ct.jsx)(Dpe,{variant:"machines",disableButton:A})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,Ct.jsx)(Dpe,{variant:"reports",disableButton:R})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,Ct.jsx)(Dpe,{variant:"administration",disableButton:L})})]})]}),(t||r||a||i)&&(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:12,lg:3,children:(0,Ct.jsx)(Lh,{container:!0,style:{height:"100%"},children:(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,Ct.jsx)(Dpe,{variant:"calendar",disableButton:A})})})})]})]}),(0,Ct.jsx)(Pg,{open:m,progress:k,loadingData:C,withProgress:!0}),(0,Ct.jsx)(xy,{open:y,closeModal:function(){b(!1)}})]})},Hpe=n.p+"static/media/Iniciar sesio\u0301n-1.0c974736fa06866abb55.png",Gpe=function(){var e=ni(),t=function(){return(0,Ct.jsxs)(Ipe,{elevation:0,className:(0,Xu.Z)("pageCard",e.noNavBarMargin),children:[(0,Ct.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[(0,Ct.jsx)("img",{src:zpe,height:100,alt:""}),(0,Ct.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",(0,Ct.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),(0,Ct.jsx)("p",{style:{fontSize:"2em"},children:"Recuperar Contrase\xf1a"})]}),(0,Ct.jsx)(s4,{})]})};return(0,Ct.jsxs)("div",{style:{height:"100%",display:"block"},children:[(0,Ct.jsx)(cpe,{smDown:!0,children:(0,Ct.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:t()})}),(0,Ct.jsx)(cpe,{smDown:!0,children:(0,Ct.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:(0,Ct.jsx)("img",{src:Hpe,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),(0,Ct.jsx)(cpe,{mdUp:!0,children:(0,Ct.jsx)("div",{children:t()})})]})},qpe=function(){var e=Ve().id,t=ni(),n=function(){return(0,Ct.jsxs)(Ipe,{elevation:0,className:(0,Xu.Z)("pageCard",t.noNavBarMargin),children:[(0,Ct.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[(0,Ct.jsx)("img",{src:zpe,height:100,alt:""}),(0,Ct.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",(0,Ct.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]})]}),(0,Ct.jsx)(u4,{id:e})]})};return(0,Ct.jsxs)("div",{style:{height:"100%",display:"block"},children:[(0,Ct.jsx)(cpe,{smDown:!0,children:(0,Ct.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:n()})}),(0,Ct.jsx)(cpe,{smDown:!0,children:(0,Ct.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:(0,Ct.jsx)("img",{src:Hpe,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),(0,Ct.jsx)(cpe,{mdUp:!0,children:(0,Ct.jsx)("div",{children:n()})})]})},Xpe=function(){var e=(0,T.useState)([]),t=(0,Z.Z)(e,2),n=(t[0],t[1],(0,T.useState)([])),r=(0,Z.Z)(n,2),a=(r[0],r[1]);return(0,T.useEffect)((function(){yi().then((function(e){e.data&&a(e.data)}))}),[]),(0,Ct.jsx)(vg,{children:(0,Ct.jsx)("div",{children:(0,Ct.jsx)("h1",{children:"Hello!!"})})})};ei((function(e){return{root:{"& :-webkit-autofill":{"-webkit-transition-delay":"9999s","-webkit-transition":"color 9999s ease-out, background-color 9999s ease-out"}},lightVariant:{"& .Mui-focused":{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}},"& .MuiInputBase-input":{color:"white"}},darkVariant:{"& .Mui-focused .MuiInputAdornment-root":{color:e.palette.primary.main}}}})),ei((function(e){return{root:{padding:20,backgroundColor:"rgba(0, 0, 0, 0)",border:"5px solid gray",borderRadius:0,boxShadow:"none"},fichaText:{fontSize:"1.2rem",color:e.palette.primary.main},name:{fontWeight:"bold"}}}));function Ype(e){return(0,bc.Z)("MuiDivider",e)}var Kpe=(0,yc.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var Jpe=(0,yc.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);function $pe(e){return(0,bc.Z)("MuiListItemText",e)}var Qpe=(0,yc.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function eme(e){return(0,bc.Z)("MuiMenuItem",e)}var tme=(0,yc.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),nme=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],rme=(0,Dc.ZP)(Hd,{shouldForwardProp:function(e){return(0,Dc.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,xt.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,kt.Z)(t,"&.".concat(tme.selected),(0,kt.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(tme.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,kt.Z)(t,"&.".concat(tme.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,kt.Z)(t,"&.".concat(tme.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,kt.Z)(t,"&.".concat(tme.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),(0,kt.Z)(t,"& + .".concat(Kpe.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,kt.Z)(t,"& + .".concat(Kpe.inset),{marginLeft:52}),(0,kt.Z)(t,"& .".concat(Qpe.root),{marginTop:0,marginBottom:0}),(0,kt.Z)(t,"& .".concat(Qpe.inset),{paddingLeft:36}),(0,kt.Z)(t,"& .".concat(Jpe.root),{minWidth:36}),t),!r.dense&&(0,kt.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,xt.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,kt.Z)({},"& .".concat(Jpe.root," svg"),{fontSize:"1.25rem"})))})),ame=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiMenuItem"}),r=n.autoFocus,a=void 0!==r&&r,i=n.component,o=void 0===i?"li":i,s=n.dense,l=void 0!==s&&s,u=n.divider,c=void 0!==u&&u,d=n.disableGutters,h=void 0!==d&&d,f=n.focusVisibleClassName,p=n.role,m=void 0===p?"menuitem":p,v=n.tabIndex,g=n.className,y=(0,wt.Z)(n,nme),b=T.useContext(op),x=T.useMemo((function(){return{dense:l||b.dense||!1,disableGutters:h}}),[b.dense,l,h]),w=T.useRef(null);(0,Xh.Z)((function(){a&&w.current&&w.current.focus()}),[a]);var k,S=(0,xt.Z)({},n,{dense:x.dense,divider:c,disableGutters:h}),E=function(e){var t=e.disabled,n=e.dense,r=e.divider,a=e.disableGutters,i=e.selected,o=e.classes,s={root:["root",n&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",i&&"selected"]},l=(0,Yu.Z)(s,eme,o);return(0,xt.Z)({},o,l)}(n),C=(0,zu.Z)(w,t);return n.disabled||(k=void 0!==v?v:-1),(0,Ct.jsx)(op.Provider,{value:x,children:(0,Ct.jsx)(rme,(0,xt.Z)({ref:C,role:m,tabIndex:k,component:o,focusVisibleClassName:(0,Xu.Z)(E.focusVisible,f),className:(0,Xu.Z)(E.root,g)},y,{ownerState:S,classes:E}))})})),ime=ame;var ome=T.createContext();var sme=T.createContext();function lme(e){return(0,bc.Z)("MuiTableCell",e)}var ume,cme,dme,hme,fme,pme,mme,vme,gme=(0,yc.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),yme=["align","className","component","padding","scope","size","sortDirection","variant"],bme=(0,Dc.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat((0,Ju.Z)(n.size))],"normal"!==n.padding&&t["padding".concat((0,Ju.Z)(n.padding))],"inherit"!==n.align&&t["align".concat((0,Ju.Z)(n.align))],n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?(0,Yc.$n)((0,Yc.Fq)(t.palette.divider,1),.88):(0,Yc._j)((0,Yc.Fq)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&(0,kt.Z)({padding:"6px 16px"},"&.".concat(gme.paddingCheckbox),{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}),"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),xme=T.forwardRef((function(e,t){var n,r=(0,Lt.Z)({props:e,name:"MuiTableCell"}),a=r.align,i=void 0===a?"inherit":a,o=r.className,s=r.component,l=r.padding,u=r.scope,c=r.size,d=r.sortDirection,h=r.variant,f=(0,wt.Z)(r,yme),p=T.useContext(ome),m=T.useContext(sme),v=m&&"head"===m.variant,g=u;"td"===(n=s||(v?"th":"td"))?g=void 0:!g&&v&&(g="col");var y=h||m&&m.variant,b=(0,xt.Z)({},r,{align:i,component:n,padding:l||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:d,stickyHeader:"head"===y&&p&&p.stickyHeader,variant:y}),x=function(e){var t=e.classes,n=e.variant,r=e.align,a=e.padding,i=e.size,o={root:["root",n,e.stickyHeader&&"stickyHeader","inherit"!==r&&"align".concat((0,Ju.Z)(r)),"normal"!==a&&"padding".concat((0,Ju.Z)(a)),"size".concat((0,Ju.Z)(i))]};return(0,Yu.Z)(o,lme,t)}(b),w=null;return d&&(w="asc"===d?"ascending":"descending"),(0,Ct.jsx)(bme,(0,xt.Z)({as:n,ref:t,className:(0,Xu.Z)(x.root,o),"aria-sort":w,scope:g,ownerState:b},f))})),wme=xme,kme=(0,mm.Z)((0,Ct.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Sme=(0,mm.Z)((0,Ct.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Tme=(0,mm.Z)((0,Ct.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Eme=(0,mm.Z)((0,Ct.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Cme=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],_me=T.forwardRef((function(e,t){var n=e.backIconButtonProps,r=e.count,a=e.getItemAriaLabel,i=e.nextIconButtonProps,o=e.onPageChange,s=e.page,l=e.rowsPerPage,u=e.showFirstButton,c=e.showLastButton,d=(0,wt.Z)(e,Cme),h=Bu();return(0,Ct.jsxs)("div",(0,xt.Z)({ref:t},d,{children:[u&&(0,Ct.jsx)(Jd,{onClick:function(e){o(e,0)},disabled:0===s,"aria-label":a("first",s),title:a("first",s),children:"rtl"===h.direction?ume||(ume=(0,Ct.jsx)(Tme,{})):cme||(cme=(0,Ct.jsx)(Eme,{}))}),(0,Ct.jsx)(Jd,(0,xt.Z)({onClick:function(e){o(e,s-1)},disabled:0===s,color:"inherit","aria-label":a("previous",s),title:a("previous",s)},n,{children:"rtl"===h.direction?dme||(dme=(0,Ct.jsx)(Sme,{})):hme||(hme=(0,Ct.jsx)(kme,{}))})),(0,Ct.jsx)(Jd,(0,xt.Z)({onClick:function(e){o(e,s+1)},disabled:-1!==r&&s>=Math.ceil(r/l)-1,color:"inherit","aria-label":a("next",s),title:a("next",s)},i,{children:"rtl"===h.direction?fme||(fme=(0,Ct.jsx)(kme,{})):pme||(pme=(0,Ct.jsx)(Sme,{}))})),c&&(0,Ct.jsx)(Jd,{onClick:function(e){o(e,Math.max(0,Math.ceil(r/l)-1))},disabled:s>=Math.ceil(r/l)-1,"aria-label":a("last",s),title:a("last",s),children:"rtl"===h.direction?mme||(mme=(0,Ct.jsx)(Eme,{})):vme||(vme=(0,Ct.jsx)(Tme,{}))})]}))})),Mme=_me,Ame=n(7384);function Ime(e){return(0,bc.Z)("MuiTablePagination",e)}var Nme,Rme=(0,yc.Z)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),Ome=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],Dme=(0,Dc.ZP)(wme,{name:"MuiTablePagination",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme;return{overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}})),Pme=(0,Dc.ZP)(D3,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:function(e,t){return(0,xt.Z)((0,kt.Z)({},"& .".concat(Rme.actions),t.actions),t.toolbar)}})((function(e){var t,n=e.theme;return t={minHeight:52,paddingRight:2},(0,kt.Z)(t,"".concat(n.breakpoints.up("xs")," and (orientation: landscape)"),{minHeight:52}),(0,kt.Z)(t,n.breakpoints.up("sm"),{minHeight:52,paddingRight:2}),(0,kt.Z)(t,"& .".concat(Rme.actions),{flexShrink:0,marginLeft:20}),t})),Lme=(0,Dc.ZP)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:function(e,t){return t.spacer}})({flex:"1 1 100%"}),Fme=(0,Dc.ZP)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:function(e,t){return t.selectLabel}})((function(e){var t=e.theme;return(0,xt.Z)({},t.typography.body2,{flexShrink:0})})),jme=(0,Dc.ZP)(Sm,{name:"MuiTablePagination",slot:"Select",overridesResolver:function(e,t){var n;return(0,xt.Z)((n={},(0,kt.Z)(n,"& .".concat(Rme.selectIcon),t.selectIcon),(0,kt.Z)(n,"& .".concat(Rme.select),t.select),n),t.input,t.selectRoot)}})((0,kt.Z)({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8},"& .".concat(Rme.select),{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"})),zme=(0,Dc.ZP)(ime,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:function(e,t){return t.menuItem}})({}),Bme=(0,Dc.ZP)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:function(e,t){return t.displayedRows}})((function(e){var t=e.theme;return(0,xt.Z)({},t.typography.body2,{flexShrink:0})}));function Ume(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))}function Wme(e){return"Go to ".concat(e," page")}var Zme=T.forwardRef((function(e,t){var n,r=(0,Lt.Z)({props:e,name:"MuiTablePagination"}),a=r.ActionsComponent,i=void 0===a?Mme:a,o=r.backIconButtonProps,s=r.className,l=r.colSpan,u=r.component,c=void 0===u?wme:u,d=r.count,h=r.getItemAriaLabel,f=void 0===h?Wme:h,p=r.labelDisplayedRows,m=void 0===p?Ume:p,v=r.labelRowsPerPage,g=void 0===v?"Rows per page:":v,y=r.nextIconButtonProps,b=r.onPageChange,x=r.onRowsPerPageChange,w=r.page,k=r.rowsPerPage,S=r.rowsPerPageOptions,E=void 0===S?[10,25,50,100]:S,C=r.SelectProps,_=void 0===C?{}:C,M=r.showFirstButton,A=void 0!==M&&M,I=r.showLastButton,N=void 0!==I&&I,R=(0,wt.Z)(r,Ome),O=r,D=function(e){var t=e.classes;return(0,Yu.Z)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Ime,t)}(O),P=_.native?"option":zme;c!==wme&&"td"!==c||(n=l||1e3);var L=(0,Ame.Z)(_.id),F=(0,Ame.Z)(_.labelId);return(0,Ct.jsx)(Dme,(0,xt.Z)({colSpan:n,ref:t,as:c,ownerState:O,className:(0,Xu.Z)(D.root,s)},R,{children:(0,Ct.jsxs)(Pme,{className:D.toolbar,children:[(0,Ct.jsx)(Lme,{className:D.spacer}),E.length>1&&(0,Ct.jsx)(Fme,{className:D.selectLabel,id:F,children:g}),E.length>1&&(0,Ct.jsx)(jme,(0,xt.Z)({variant:"standard"},!_.variant&&{input:Nme||(Nme=(0,Ct.jsx)(sf,{}))},{value:k,onChange:x,id:L,labelId:F},_,{classes:(0,xt.Z)({},_.classes,{root:(0,Xu.Z)(D.input,D.selectRoot,(_.classes||{}).root),select:(0,Xu.Z)(D.select,(_.classes||{}).select),icon:(0,Xu.Z)(D.selectIcon,(_.classes||{}).icon)}),children:E.map((function(e){return(0,T.createElement)(P,(0,xt.Z)({},!wc(P)&&{ownerState:O},{className:D.menuItem,key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e)}))})),(0,Ct.jsx)(Bme,{className:D.displayedRows,children:m({from:0===d?0:w*k+1,to:-1===d?(w+1)*k:-1===k?d:Math.min(d,(w+1)*k),count:-1===d?-1:d,page:w})}),(0,Ct.jsx)(i,{className:D.actions,backIconButtonProps:o,count:d,nextIconButtonProps:y,onPageChange:b,page:w,rowsPerPage:k,showFirstButton:A,showLastButton:N,getItemAriaLabel:f})]})}))})),Vme=Zme,Hme=[{color:"#27AE60",name:"Completadas",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#DE4343",name:"Asignar",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#161616",name:"Origen",button:"Detalle",buttonColor:"#F9F9F9",number:null}],Gme=[{color:"#27AE60",name:"Completadas",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#DE4343",name:"Asignar",button:"Detalle",buttonColor:"#F9F9F9",number:null},{color:"#161616",name:"Origen",button:"Detalle",buttonColor:"#F9F9F9",number:null}],qme={version:"0.18.5"},Xme=1200,Yme=1252,Kme=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Jme={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},$me=function(e){-1!=Kme.indexOf(e)&&(Yme=Jme[0]=e)};var Qme=function(e){Xme=e,$me(e)};function eve(){Qme(1200),$me(1252)}function tve(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var nve,rve=function(e){return String.fromCharCode(e)},ave=function(e){return String.fromCharCode(e)};var ive=null,ove="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function sve(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0,l=0,u=0;u<e.length;)i=(n=e.charCodeAt(u++))>>2,o=(3&n)<<4|(r=e.charCodeAt(u++))>>4,s=(15&r)<<2|(a=e.charCodeAt(u++))>>6,l=63&a,isNaN(r)?s=l=64:isNaN(a)&&(l=64),t+=ove.charAt(i)+ove.charAt(o)+ove.charAt(s)+ove.charAt(l);return t}function lve(e){var t="",n=0,r=0,a=0,i=0,o=0,s=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=ove.indexOf(e.charAt(l++))<<2|(i=ove.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),r=(15&i)<<4|(o=ove.indexOf(e.charAt(l++)))>>2,64!==o&&(t+=String.fromCharCode(r)),a=(3&o)<<6|(s=ove.indexOf(e.charAt(l++))),64!==s&&(t+=String.fromCharCode(a));return t}var uve=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),cve=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(d4){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function dve(e){return uve?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function hve(e){return uve?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var fve=function(e){return uve?cve(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function pve(e){if("undefined"===typeof ArrayBuffer)return fve(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function mve(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}var vve=uve?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:cve(e)})))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};var gve=/\u0000/g,yve=/[\u0001-\u0006]/g;function bve(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function xve(e,t){var n=""+e;return n.length>=t?n:Rge("0",t-n.length)+n}function wve(e,t){var n=""+e;return n.length>=t?n:Rge(" ",t-n.length)+n}function kve(e,t){var n=""+e;return n.length>=t?n:n+Rge(" ",t-n.length)}var Sve=Math.pow(2,32);function Tve(e,t){return e>Sve||e<-Sve?function(e,t){var n=""+Math.round(e);return n.length>=t?n:Rge("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:Rge("0",t-n.length)+n}(Math.round(e),t)}function Eve(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var Cve=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],_ve=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var Mve={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},Ave={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Ive={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Nve(e,t,n){for(var r=e<0?-1:1,a=e*r,i=0,o=1,s=0,l=1,u=0,c=0,d=Math.floor(a);u<t&&(s=(d=Math.floor(a))*o+i,c=d*u+l,!(a-d<5e-8));)a=1/(a-d),i=o,o=s,l=u,u=c;if(c>t&&(u>t?(c=l,s=i):(c=u,s=o)),!n)return[0,r*s,c];var h=Math.floor(r*s/c);return[h,r*s-h*c,c]}function Rve(e,t,n){if(e>2958465||e<0)return null;var r=0|e,a=Math.floor(86400*(e-r)),i=0,o=[],s={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,86400==++a&&(s.T=a=0,++r,++s.D)),60===r)o=n?[1317,10,29]:[1900,2,29],i=3;else if(0===r)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),r<60&&(i=(i+6)%7),n&&(i=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=a%60,a=Math.floor(a/60),s.M=a%60,a=Math.floor(a/60),s.H=a,s.q=i,s}var Ove=new Date(1899,11,31,0,0,0),Dve=Ove.getTime(),Pve=new Date(1900,2,1,0,0,0);function Lve(e,t){var n=e.getTime();return t?n-=1262304e5:e>=Pve&&(n+=864e5),(n-(Dve+6e4*(e.getTimezoneOffset()-Ove.getTimezoneOffset())))/864e5}function Fve(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function jve(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=Fve(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=Fve(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),Fve(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function zve(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):jve(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return oge(14,Lve(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Bve(e,t,n,r){var a,i="",o=0,s=0,l=n.y,u=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:a=l%100,u=2;break;default:a=l%1e4,u=4}break;case 109:switch(t.length){case 1:case 2:a=n.m,u=t.length;break;case 3:return _ve[n.m-1][1];case 5:return _ve[n.m-1][0];default:return _ve[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:a=n.d,u=t.length;break;case 3:return Cve[n.q][0];default:return Cve[n.q][1]}break;case 104:switch(t.length){case 1:case 2:a=1+(n.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:a=n.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:a=n.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(s=r>=2?3===r?1e3:100:1===r?10:1,(o=Math.round(s*(n.S+n.u)))>=60*s&&(o=0),"s"===t?0===o?"0":""+o/s:(i=xve(o,2+r),"ss"===t?i.substr(0,2):"."+i.substr(2,t.length-1))):xve(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":a=24*n.D+n.H;break;case"[m]":case"[mm]":a=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":a=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}u=3===t.length?1:2;break;case 101:a=l,u=1}return u>0?xve(a,u):""}function Uve(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var Wve=/%/g;function Zve(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Zve(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),-1===(n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a)).indexOf("e")){var o=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(a+i)%a)+"."+r.substr(i)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Vve=/# (\?+)( ?)\/( ?)(\d+)/;var Hve=/^#*0*\.([0#]+)/,Gve=/\).*[0#]/,qve=/\(###\) ###\\?-####/;function Xve(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function Yve(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function Kve(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Jve(e,t,n){if(40===e.charCodeAt(0)&&!t.match(Gve)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Jve("n",r,n):"("+Jve("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return ege(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(Wve,""),a=t.length-r.length;return ege(e,r,n*Math.pow(10,2*a))+Rge("%",a)}(e,t,n);if(-1!==t.indexOf("E"))return Zve(t,n);if(36===t.charCodeAt(0))return"$"+Jve(e,t.substr(" "==t.charAt(1)?2:1),n);var a,i,o,s,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+Tve(l,t.length);if(t.match(/^[#?]+$/))return"0"===(a=Tve(n,0))&&(a=""),a.length>t.length?a:Xve(t.substr(0,t.length-a.length))+a;if(i=t.match(Vve))return function(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),i=Math.floor(a/r),o=a-i*r,s=r;return n+(0===i?"":""+i)+" "+(0===o?Rge(" ",e[1].length+1+e[4].length):wve(o,e[1].length)+e[2]+"/"+e[3]+xve(s,e[4].length))}(i,l,u);if(t.match(/^#+0+$/))return u+Tve(l,t.length-t.indexOf("0"));if(i=t.match(Hve))return a=Yve(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Xve(i[1])).replace(/\.$/,"."+Xve(i[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+Rge("0",Xve(i[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+Yve(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Uve(Tve(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Jve(e,t,-n):Uve(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,i[1].length)))+"."+xve(Kve(n,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Jve(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=bve(Jve(e,t.replace(/[\\-]/g,""),n)),o=0,bve(bve(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return o<a.length?a.charAt(o++):"0"===e?"0":""})));if(t.match(qve))return"("+(a=Jve(e,"##########",n)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var c="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=Nve(l,Math.pow(10,o)-1,!1),a=""+u," "==(c=ege("n",i[1],s[1])).charAt(c.length-1)&&(c=c.substr(0,c.length-1)+"0"),a+=c+i[2]+"/"+i[3],(c=kve(s[2],o)).length<i[4].length&&(c=Xve(i[4].substr(i[4].length-c.length))+c),a+=c;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),u+((s=Nve(l,Math.pow(10,o)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?wve(s[1],o)+i[2]+"/"+i[3]+kve(s[2],o):Rge(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Tve(n,0),t.length<=a.length?a:Xve(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var d=t.indexOf(".")-o,h=t.length-a.length-d;return Xve(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=Kve(n,i[1].length),n<0?"-"+Jve(e,t,-n):Uve(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?xve(0,3-e.length):"")+e}))+"."+xve(o,i[1].length);switch(t){case"###,##0.00":return Jve(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var f=Uve(Tve(l,0));return"0"!==f?u+f:"";case"###,###.00":return Jve(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Jve(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function $ve(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+$ve(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),!(n=(t/Math.pow(10,i)).toPrecision(r+1+(a+i)%a)).match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(a+i)%a)+"."+r.substr(i)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Qve(e,t,n){if(40===e.charCodeAt(0)&&!t.match(Gve)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Qve("n",r,n):"("+Qve("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return ege(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(Wve,""),a=t.length-r.length;return ege(e,r,n*Math.pow(10,2*a))+Rge("%",a)}(e,t,n);if(-1!==t.indexOf("E"))return $ve(t,n);if(36===t.charCodeAt(0))return"$"+Qve(e,t.substr(" "==t.charAt(1)?2:1),n);var a,i,o,s,l=Math.abs(n),u=n<0?"-":"";if(t.match(/^00+$/))return u+xve(l,t.length);if(t.match(/^[#?]+$/))return a=""+n,0===n&&(a=""),a.length>t.length?a:Xve(t.substr(0,t.length-a.length))+a;if(i=t.match(Vve))return function(e,t,n){return n+(0===t?"":""+t)+Rge(" ",e[1].length+2+e[4].length)}(i,l,u);if(t.match(/^#+0+$/))return u+xve(l,t.length-t.indexOf("0"));if(i=t.match(Hve))return a=(a=(""+n).replace(/^([^\.]+)$/,"$1."+Xve(i[1])).replace(/\.$/,"."+Xve(i[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+Rge("0",Xve(i[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Uve(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Qve(e,t,-n):Uve(""+n)+"."+Rge("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Qve(e,t.replace(/^#,#*,/,""),n);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=bve(Qve(e,t.replace(/[\\-]/g,""),n)),o=0,bve(bve(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return o<a.length?a.charAt(o++):"0"===e?"0":""})));if(t.match(qve))return"("+(a=Qve(e,"##########",n)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var c="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),s=Nve(l,Math.pow(10,o)-1,!1),a=""+u," "==(c=ege("n",i[1],s[1])).charAt(c.length-1)&&(c=c.substr(0,c.length-1)+"0"),a+=c+i[2]+"/"+i[3],(c=kve(s[2],o)).length<i[4].length&&(c=Xve(i[4].substr(i[4].length-c.length))+c),a+=c;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),u+((s=Nve(l,Math.pow(10,o)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?wve(s[1],o)+i[2]+"/"+i[3]+kve(s[2],o):Rge(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:Xve(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var d=t.indexOf(".")-o,h=t.length-a.length-d;return Xve(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Qve(e,t,-n):Uve(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?xve(0,3-e.length):"")+e}))+"."+xve(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=Uve(""+l);return"0"!==f?u+f:"";default:if(t.match(/\.[0#?]*$/))return Qve(e,t.slice(0,t.lastIndexOf(".")),n)+Xve(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ege(e,t,n){return(0|n)===n?Qve(e,t,n):Jve(e,t,n)}var tge=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function nge(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":Eve(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(tge))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var rge=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function age(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function ige(e,t){var n=function(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var i=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,i];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var o=n[0].match(rge),s=n[1].match(rge);return age(t,o)?[r,n[0]]:age(t,s)?[r,n[1]]:[r,n[null!=o&&null!=s?2:1]]}return[r,i]}function oge(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:Mve)[e])&&(r=n.table&&n.table[Ave[e]]||Mve[Ave[e]]),null==r&&(r=Ive[e]||"General")}if(Eve(r,0))return zve(t,n);t instanceof Date&&(t=Lve(t,n.date1904));var a=ige(r,t);if(Eve(a[1]))return zve(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var a,i,o,s=[],l="",u=0,c="",d="t",h="H";u<e.length;)switch(c=e.charAt(u)){case"G":if(!Eve(e,u))throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"G",v:"General"},u+=7;break;case'"':for(l="";34!==(o=e.charCodeAt(++u))&&u<e.length;)l+=String.fromCharCode(o);s[s.length]={t:"t",v:l},++u;break;case"\\":var f=e.charAt(++u),p="("===f||")"===f?f:"t";s[s.length]={t:p,v:f},++u;break;case"_":s[s.length]={t:"t",v:" "},u+=2;break;case"@":s[s.length]={t:"T",v:t},++u;break;case"B":case"b":if("1"===e.charAt(u+1)||"2"===e.charAt(u+1)){if(null==a&&null==(a=Rve(t,n,"2"===e.charAt(u+1))))return"";s[s.length]={t:"X",v:e.substr(u,2)},d=c,u+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==a&&null==(a=Rve(t,n)))return"";for(l=c;++u<e.length&&e.charAt(u).toLowerCase()===c;)l+=c;"m"===c&&"h"===d.toLowerCase()&&(c="M"),"h"===c&&(c=h),s[s.length]={t:c,v:l},d=c;break;case"A":case"a":case"\u4e0a":var m={t:c,v:c};if(null==a&&(a=Rve(t,n)),"A/P"===e.substr(u,3).toUpperCase()?(null!=a&&(m.v=a.H>=12?"P":"A"),m.t="T",h="h",u+=3):"AM/PM"===e.substr(u,5).toUpperCase()?(null!=a&&(m.v=a.H>=12?"PM":"AM"),m.t="T",u+=5,h="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(u,5).toUpperCase()?(null!=a&&(m.v=a.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),m.t="T",u+=5,h="h"):(m.t="t",++u),null==a&&"T"===m.t)return"";s[s.length]=m,d=c;break;case"[":for(l=c;"]"!==e.charAt(u++)&&u<e.length;)l+=e.charAt(u);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(tge)){if(null==a&&null==(a=Rve(t,n)))return"";s[s.length]={t:"Z",v:l.toLowerCase()},d=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",nge(e)||(s[s.length]={t:"t",v:l}));break;case".":if(null!=a){for(l=c;++u<e.length&&"0"===(c=e.charAt(u));)l+=c;s[s.length]={t:"s",v:l};break}case"0":case"#":for(l=c;++u<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(u))>-1;)l+=c;s[s.length]={t:"n",v:l};break;case"?":for(l=c;e.charAt(++u)===c;)l+=c;s[s.length]={t:c,v:l},d=c;break;case"*":++u," "!=e.charAt(u)&&"*"!=e.charAt(u)||++u;break;case"(":case")":s[s.length]={t:1===r?"t":c,v:c},++u;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=c;u<e.length&&"0123456789".indexOf(e.charAt(++u))>-1;)l+=e.charAt(u);s[s.length]={t:"D",v:l};break;case" ":s[s.length]={t:c,v:c},++u;break;case"$":s[s.length]={t:"t",v:"$"},++u;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(c))throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"t",v:c},++u}var v,g=0,y=0;for(u=s.length-1,d="t";u>=0;--u)switch(s[u].t){case"h":case"H":s[u].t=h,d="h",g<1&&(g=1);break;case"s":(v=s[u].v.match(/\.0+$/))&&(y=Math.max(y,v[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":d=s[u].t;break;case"m":"s"===d&&(s[u].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&s[u].v.match(/[Hh]/)&&(g=1),g<2&&s[u].v.match(/[Mm]/)&&(g=2),g<3&&s[u].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M),a.M>=60&&(a.M=0,++a.H);break;case 2:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M)}var b,x="";for(u=0;u<s.length;++u)switch(s[u].t){case"t":case"T":case" ":case"D":break;case"X":s[u].v="",s[u].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[u].v=Bve(s[u].t.charCodeAt(0),s[u].v,a,y),s[u].t="t";break;case"n":case"?":for(b=u+1;null!=s[b]&&("?"===(c=s[b].t)||"D"===c||(" "===c||"t"===c)&&null!=s[b+1]&&("?"===s[b+1].t||"t"===s[b+1].t&&"/"===s[b+1].v)||"("===s[u].t&&(" "===c||"n"===c||")"===c)||"t"===c&&("/"===s[b].v||" "===s[b].v&&null!=s[b+1]&&"?"==s[b+1].t));)s[u].v+=s[b].v,s[b]={v:"",t:";"},++b;x+=s[u].v,u=b-1;break;case"G":s[u].t="t",s[u].v=zve(t,n)}var w,k,S="";if(x.length>0){40==x.charCodeAt(0)?(w=t<0&&45===x.charCodeAt(0)?-t:t,k=ege("n",x,w)):(k=ege("n",x,w=t<0&&r>1?-t:t),w<0&&s[0]&&"t"==s[0].t&&(k=k.substr(1),s[0].v="-"+s[0].v)),b=k.length-1;var T=s.length;for(u=0;u<s.length;++u)if(null!=s[u]&&"t"!=s[u].t&&s[u].v.indexOf(".")>-1){T=u;break}var E=s.length;if(T===s.length&&-1===k.indexOf("E")){for(u=s.length-1;u>=0;--u)null!=s[u]&&-1!=="n?".indexOf(s[u].t)&&(b>=s[u].v.length-1?(b-=s[u].v.length,s[u].v=k.substr(b+1,s[u].v.length)):b<0?s[u].v="":(s[u].v=k.substr(0,b+1),b=-1),s[u].t="t",E=u);b>=0&&E<s.length&&(s[E].v=k.substr(0,b+1)+s[E].v)}else if(T!==s.length&&-1===k.indexOf("E")){for(b=k.indexOf(".")-1,u=T;u>=0;--u)if(null!=s[u]&&-1!=="n?".indexOf(s[u].t)){for(i=s[u].v.indexOf(".")>-1&&u===T?s[u].v.indexOf(".")-1:s[u].v.length-1,S=s[u].v.substr(i+1);i>=0;--i)b>=0&&("0"===s[u].v.charAt(i)||"#"===s[u].v.charAt(i))&&(S=k.charAt(b--)+S);s[u].v=S,s[u].t="t",E=u}for(b>=0&&E<s.length&&(s[E].v=k.substr(0,b+1)+s[E].v),b=k.indexOf(".")+1,u=T;u<s.length;++u)if(null!=s[u]&&(-1!=="n?(".indexOf(s[u].t)||u===T)){for(i=s[u].v.indexOf(".")>-1&&u===T?s[u].v.indexOf(".")+1:0,S=s[u].v.substr(0,i);i<s[u].v.length;++i)b<k.length&&(S+=k.charAt(b++));s[u].v=S,s[u].t="t",E=u}}}for(u=0;u<s.length;++u)null!=s[u]&&"n?".indexOf(s[u].t)>-1&&(w=r>1&&t<0&&u>0&&"-"===s[u-1].v?-t:t,s[u].v=ege(s[u].t,s[u].v,w),s[u].t="t");var C="";for(u=0;u!==s.length;++u)null!=s[u]&&(C+=s[u].v);return C}(a[1],t,n,a[0])}function sge(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(void 0!=Mve[n]){if(Mve[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return Mve[t]=e,t}function lge(e){for(var t=0;392!=t;++t)void 0!==e[t]&&sge(e[t],t)}function uge(){Mve=function(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var cge=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var dge=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,a="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)a[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=a[t]=n>>>8^e[255&n];var i=[];for(r=1;16!=r;++r)i[r-1]="undefined"!==typeof Int32Array?a.subarray(256*r,256*r+256):a.slice(256*r,256*r+256);return i}(t),r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],d=n[8],h=n[9],f=n[10],p=n[11],m=n[12],v=n[13],g=n[14];return e.table=t,e.bstr=function(e,n){for(var r=-1^n,a=0,i=e.length;a<i;)r=r>>>8^t[255&(r^e.charCodeAt(a++))];return~r},e.buf=function(e,n){for(var y=-1^n,b=e.length-15,x=0;x<b;)y=g[e[x++]^255&y]^v[e[x++]^y>>8&255]^m[e[x++]^y>>16&255]^p[e[x++]^y>>>24]^f[e[x++]]^h[e[x++]]^d[e[x++]]^c[e[x++]]^u[e[x++]]^l[e[x++]]^s[e[x++]]^o[e[x++]]^i[e[x++]]^a[e[x++]]^r[e[x++]]^t[e[x++]];for(b+=15;x<b;)y=y>>>8^t[255&(y^e[x++])];return~y},e.str=function(e,n){for(var r=-1^n,a=0,i=e.length,o=0,s=0;a<i;)(o=e.charCodeAt(a++))<128?r=r>>>8^t[255&(r^o)]:o<2048?r=(r=r>>>8^t[255&(r^(192|o>>6&31))])>>>8^t[255&(r^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),s=1023&e.charCodeAt(a++),r=(r=(r=(r=r>>>8^t[255&(r^(240|o>>8&7))])>>>8^t[255&(r^(128|o>>2&63))])>>>8^t[255&(r^(128|s>>6&15|(3&o)<<4))])>>>8^t[255&(r^(128|63&s))]):r=(r=(r=r>>>8^t[255&(r^(224|o>>12&15))])>>>8^t[255&(r^(128|o>>6&63))])>>>8^t[255&(r^(128|63&o))];return~r},e}(),hge=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function a(e,t){"string"===typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function i(e){Zye(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),a=e.read_shift(2),i=e.l+a,o={};if(21589===r)1&(n=e.read_shift(1))&&(o.mtime=e.read_shift(4)),a>5&&(2&n&&(o.atime=e.read_shift(4)),4&n&&(o.ctime=e.read_shift(4))),o.mtime&&(o.mt=new Date(1e3*o.mtime));e.l=i,t[r]=o}return t}function o(){return e||(e={})}function s(e,t){if(80==e[0]&&75==e[1])return re(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=k(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(uve&&Buffer.isBuffer(e)?e.toString("binary"):k(e)).split("\r\n"),a=0,i="";for(a=0;a<r.length;++a)if(i=r[a],/^Content-Location:/i.test(i)&&(i=i.slice(i.indexOf("file")),n||(n=i.slice(0,i.lastIndexOf("/")+1)),i.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),i.slice(0,n.length)!=n););var o=(r[1]||"").match(/boundary="(.*?)"/);if(!o)throw new Error("MAD cannot find boundary");var s="--"+(o[1]||""),l=[],u=[],c={FileIndex:l,FullPaths:u};h(c);var d,f=0;for(a=0;a<r.length;++a){var p=r[a];p!==s&&p!==s+"--"||(f++&&ue(c,r.slice(d,a),n),d=a)}return c}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,a,i,o,s,f=512,p=[],m=e.slice(0,512);Zye(m,0);var v=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(n=v[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==v[1])return re(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==f&&Zye(m=e.slice(0,f),28);var b=e.slice(0,f);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,n);var x=m.read_shift(4,"i");if(3===n&&0!==x)throw new Error("# Directory Sectors: Expected 0 saw "+x);m.l+=4,i=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),o=m.read_shift(4,"i"),r=m.read_shift(4,"i"),s=m.read_shift(4,"i"),a=m.read_shift(4,"i");for(var w=-1,S=0;S<109&&!((w=m.read_shift(4,"i"))<0);++S)p[S]=w;var T=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],a=1;a<n;++a)r[a-1]=e.slice(a*t,(a+1)*t);return r[n-1]=e.slice(n*t),r}(e,f);u(s,a,T,f,p);var E=function(e,t,n,r){var a=e.length,i=[],o=[],s=[],l=[],u=r-1,c=0,d=0,h=0,f=0;for(c=0;c<a;++c)if(s=[],(h=c+t)>=a&&(h-=a),!o[h]){l=[];var p=[];for(d=h;d>=0;){p[d]=!0,o[d]=!0,s[s.length]=d,l.push(e[d]);var m=n[Math.floor(4*d/r)];if(r<4+(f=4*d&u))throw new Error("FAT boundary crossed: "+d+" 4 "+r);if(!e[m])break;if(p[d=Pye(e[m],f)])break}i[h]={nodes:s,data:cye([l])}}return i}(T,i,p,f);E[i].name="!Directory",r>0&&o!==g&&(E[o].name="!MiniFAT"),E[p[0]].name="!FAT",E.fat_addrs=p,E.ssz=f;var C=[],_=[],M=[];!function(e,t,n,r,a,i,o,s){for(var u,h=0,f=r.length?2:0,p=t[e].data,m=0,v=0;m<p.length;m+=128){var y=p.slice(m,m+128);Zye(y,64),v=y.read_shift(2),u=hye(y,0,v-f),r.push(u);var b={name:u,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.ct=d(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.mt=d(y,y.l-8)),b.start=y.read_shift(4,"i"),b.size=y.read_shift(4,"i"),b.size<0&&b.start<0&&(b.size=b.type=0,b.start=g,b.name=""),5===b.type?(h=b.start,a>0&&h!==g&&(t[h].name="!StreamData")):b.size>=4096?(b.storage="fat",void 0===t[b.start]&&(t[b.start]=c(n,b.start,t.fat_addrs,t.ssz)),t[b.start].name=b.name,b.content=t[b.start].data.slice(0,b.size)):(b.storage="minifat",b.size<0?b.size=0:h!==g&&b.start!==g&&t[h]&&(b.content=l(b,t[h].data,(t[s]||{}).data))),b.content&&Zye(b.content,0),i[u]=b,o.push(b)}}(i,E,T,C,r,{},_,o),function(e,t,n){for(var r=0,a=0,i=0,o=0,s=0,l=n.length,u=[],c=[];r<l;++r)u[r]=c[r]=r,t[r]=n[r];for(;s<c.length;++s)a=e[r=c[s]].L,i=e[r].R,o=e[r].C,u[r]===r&&(-1!==a&&u[a]!==a&&(u[r]=u[a]),-1!==i&&u[i]!==i&&(u[r]=u[i])),-1!==o&&(u[o]=r),-1!==a&&r!=u[r]&&(u[a]=u[r],c.lastIndexOf(a)<s&&c.push(a)),-1!==i&&r!=u[r]&&(u[i]=u[r],c.lastIndexOf(i)<s&&c.push(i));for(r=1;r<l;++r)u[r]===r&&(-1!==i&&u[i]!==i?u[r]=u[i]:-1!==a&&u[a]!==a&&(u[r]=u[a]));for(r=1;r<l;++r)if(0!==e[r].type){if((s=r)!=u[s])do{s=u[s],t[r]=t[s]+"/"+t[r]}while(0!==s&&-1!==u[s]&&s!=u[s]);u[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}(_,M,C),C.shift();var A={FileIndex:_,FullPaths:M};return t&&t.raw&&(A.raw={header:b,sectors:T}),A}function l(e,t,n){for(var r=e.start,a=e.size,i=[],o=r;n&&a>0&&o>=0;)i.push(t.slice(o*v,o*v+v)),a-=v,o=Pye(n,4*o);return 0===i.length?Hye(0):vve(i).slice(0,e.size)}function u(e,t,n,r,a){var i=g;if(e===g){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var o=n[e],s=(r>>>2)-1;if(!o)return;for(var l=0;l<s&&(i=Pye(o,4*l))!==g;++l)a.push(i);u(Pye(o,r-4),t-1,n,r,a)}}function c(e,t,n,r,a){var i=[],o=[];a||(a=[]);var s=r-1,l=0,u=0;for(l=t;l>=0;){a[l]=!0,i[i.length]=l,o.push(e[l]);var c=n[Math.floor(4*l/r)];if(r<4+(u=4*l&s))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[c])break;l=Pye(e[c],u)}return{nodes:i,data:cye([o])}}function d(e,t){return new Date(1e3*(Dye(e,t+4)/1e7*Math.pow(2,32)+Dye(e,t)/1e7-11644473600))}function h(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="\x01Sh33tJ5";if(hge.find(e,"/"+t))return;var n=Hye(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){h(e);for(var a=!1,i=!1,o=e.FullPaths.length-1;o>=0;--o){var s=e.FileIndex[o];switch(s.type){case 0:i?a=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:i=!0,isNaN(s.R*s.L*s.C)&&(a=!0),s.R>-1&&s.L>-1&&s.R==s.L&&(a=!0);break;default:a=!0}}if(a||t){var l=new Date(1987,1,19),u=0,c=Object.create?Object.create(null):{},d=[];for(o=0;o<e.FullPaths.length;++o)c[e.FullPaths[o]]=!0,0!==e.FileIndex[o].type&&d.push([e.FullPaths[o],e.FileIndex[o]]);for(o=0;o<d.length;++o){var f=n(d[o][0]);(i=c[f])||(d.push([f,{name:r(f).replace("/",""),type:1,clsid:x,ct:l,mt:l,content:null}]),c[f]=!0)}for(d.sort((function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),a=0,i=0,o=Math.min(n.length,r.length);a<o;++a){if(i=n[a].length-r[a].length)return i;if(n[a]!=r[a])return n[a]<r[a]?-1:1}return n.length-r.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],o=0;o<d.length;++o)e.FullPaths[o]=d[o][0],e.FileIndex[o]=d[o][1];for(o=0;o<d.length;++o){var p=e.FileIndex[o],m=e.FullPaths[o];if(p.name=r(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||x,0===o)p.C=d.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(u=o+1;u<d.length&&n(e.FullPaths[u])!=m;++u);for(p.C=u>=d.length?-1:u,u=o+1;u<d.length&&n(e.FullPaths[u])!=n(m);++u);p.R=u>=d.length?-1:u,p.type=1}else n(e.FullPaths[o+1]||"")==n(m)&&(p.R=o+1),p.type=2}}}function p(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",a=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],i=e.FullPaths[0],o=i,s=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(o=e.FullPaths[l].slice(i.length),(s=e.FileIndex[l]).size&&s.content&&"\x01Sh33tJ5"!=o){o=o.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var u=s.content,c=uve&&Buffer.isBuffer(u)?u.toString("binary"):k(u),d=0,h=Math.min(1024,c.length),f=0,p=0;p<=h;++p)(f=c.charCodeAt(p))>=32&&f<128&&++d;var m=d>=4*h/5;a.push(r),a.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+o),a.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),a.push("Content-Type: "+oe(s,o)),a.push(""),a.push(m?le(c):se(c))}return a.push(r+"--\r\n"),a.join("\r\n")}(e,n);if(f(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],i=[],o=Hye(1),s=n.compression?8:0,l=0;0;var u=0,c=0,d=0,h=0,f=e.FullPaths[0],p=f,m=e.FileIndex[0],v=[],g=0;for(u=1;u<e.FullPaths.length;++u)if(p=e.FullPaths[u].slice(f.length),(m=e.FileIndex[u]).size&&m.content&&"\x01Sh33tJ5"!=p){var y=d,b=Hye(p.length);for(c=0;c<p.length;++c)b.write_shift(1,127&p.charCodeAt(c));b=b.slice(0,b.l),v[h]=dge.buf(m.content,0);var x=m.content;8==s&&(x=S(x)),(o=Hye(30)).write_shift(4,67324752),o.write_shift(2,20),o.write_shift(2,l),o.write_shift(2,s),m.mt?a(o,m.mt):o.write_shift(4,0),o.write_shift(-4,8&l?0:v[h]),o.write_shift(4,8&l?0:x.length),o.write_shift(4,8&l?0:m.content.length),o.write_shift(2,b.length),o.write_shift(2,0),d+=o.length,r.push(o),d+=b.length,r.push(b),d+=x.length,r.push(x),8&l&&((o=Hye(12)).write_shift(-4,v[h]),o.write_shift(4,x.length),o.write_shift(4,m.content.length),d+=o.l,r.push(o)),(o=Hye(46)).write_shift(4,33639248),o.write_shift(2,0),o.write_shift(2,20),o.write_shift(2,l),o.write_shift(2,s),o.write_shift(4,0),o.write_shift(-4,v[h]),o.write_shift(4,x.length),o.write_shift(4,m.content.length),o.write_shift(2,b.length),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(4,0),o.write_shift(4,y),g+=o.l,i.push(o),g+=b.length,i.push(b),++h}return o=Hye(22),o.write_shift(4,101010256),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,h),o.write_shift(2,h),o.write_shift(4,g),o.write_shift(4,d),o.write_shift(2,0),vve([vve(r),vve(i),o])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var a=e.FileIndex[r];if(a.content){var i=a.content.length;i>0&&(i<4096?t+=i+63>>6:n+=i+511>>9)}}for(var o=e.FullPaths.length+3>>2,s=t+127>>7,l=(t+7>>3)+n+o+s,u=l+127>>7,c=u<=109?0:Math.ceil((u-109)/127);l+u+c+127>>7>u;)c=++u<=109?0:Math.ceil((u-109)/127);var d=[1,c,u,s,o,n,t,0];return e.FileIndex[0].size=t<<6,d[7]=(e.FileIndex[0].start=d[0]+d[1]+d[2]+d[3]+d[4]+d[5])+(d[6]+7>>3),d}(e),i=Hye(r[7]<<9),o=0,s=0;for(o=0;o<8;++o)i.write_shift(1,b[o]);for(o=0;o<8;++o)i.write_shift(2,0);for(i.write_shift(2,62),i.write_shift(2,3),i.write_shift(2,65534),i.write_shift(2,9),i.write_shift(2,6),o=0;o<3;++o)i.write_shift(2,0);for(i.write_shift(4,0),i.write_shift(4,r[2]),i.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),i.write_shift(4,0),i.write_shift(4,4096),i.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:g),i.write_shift(4,r[3]),i.write_shift(-4,r[1]?r[0]-1:g),i.write_shift(4,r[1]),o=0;o<109;++o)i.write_shift(-4,o<r[2]?r[1]+o:-1);if(r[1])for(s=0;s<r[1];++s){for(;o<236+127*s;++o)i.write_shift(-4,o<r[2]?r[1]+o:-1);i.write_shift(-4,s===r[1]-1?g:s+1)}var l=function(e){for(s+=e;o<s-1;++o)i.write_shift(-4,o+1);e&&(++o,i.write_shift(-4,g))};for(s=o=0,s+=r[1];o<s;++o)i.write_shift(-4,w.DIFSECT);for(s+=r[2];o<s;++o)i.write_shift(-4,w.FATSECT);l(r[3]),l(r[4]);for(var u=0,c=0,d=e.FileIndex[0];u<e.FileIndex.length;++u)(d=e.FileIndex[u]).content&&((c=d.content.length)<4096||(d.start=s,l(c+511>>9)));for(l(r[6]+7>>3);511&i.l;)i.write_shift(-4,w.ENDOFCHAIN);for(s=o=0,u=0;u<e.FileIndex.length;++u)(d=e.FileIndex[u]).content&&(!(c=d.content.length)||c>=4096||(d.start=s,l(c+63>>6)));for(;511&i.l;)i.write_shift(-4,w.ENDOFCHAIN);for(o=0;o<r[4]<<2;++o){var h=e.FullPaths[o];if(h&&0!==h.length){d=e.FileIndex[o],0===o&&(d.start=d.size?d.start-1:g);var p=0===o&&n.root||d.name;if(c=2*(p.length+1),i.write_shift(64,p,"utf16le"),i.write_shift(2,c),i.write_shift(1,d.type),i.write_shift(1,d.color),i.write_shift(-4,d.L),i.write_shift(-4,d.R),i.write_shift(-4,d.C),d.clsid)i.write_shift(16,d.clsid,"hex");else for(u=0;u<4;++u)i.write_shift(4,0);i.write_shift(4,d.state||0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,d.start),i.write_shift(4,d.size),i.write_shift(4,0)}else{for(u=0;u<17;++u)i.write_shift(4,0);for(u=0;u<3;++u)i.write_shift(4,-1);for(u=0;u<12;++u)i.write_shift(4,0)}}for(o=1;o<e.FileIndex.length;++o)if((d=e.FileIndex[o]).size>=4096)if(i.l=d.start+1<<9,uve&&Buffer.isBuffer(d.content))d.content.copy(i,i.l,0,d.size),i.l+=d.size+511&-512;else{for(u=0;u<d.size;++u)i.write_shift(1,d.content[u]);for(;511&u;++u)i.write_shift(1,0)}for(o=1;o<e.FileIndex.length;++o)if((d=e.FileIndex[o]).size>0&&d.size<4096)if(uve&&Buffer.isBuffer(d.content))d.content.copy(i,i.l,0,d.size),i.l+=d.size+63&-64;else{for(u=0;u<d.size;++u)i.write_shift(1,d.content[u]);for(;63&u;++u)i.write_shift(1,0)}if(uve)i.l=i.length;else for(;i.l<i.length;)i.write_shift(1,0);return i}t.version="1.2.1";var m,v=64,g=-2,y="d0cf11e0a1b11ae1",b=[208,207,17,224,161,177,26,225],x="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:g,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:x,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function k(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function S(e){return m?m.deflateRawSync(e):X(e)}var T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function _(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var M="undefined"!==typeof Uint8Array,A=M?new Uint8Array(256):[],I=0;I<256;++I)A[I]=_(I);function N(e,t){var n=A[255&e];return t<=8?n>>>8-t:(n=n<<8|A[e>>8&255],t<=16?n>>>16-t:(n=n<<8|A[e>>16&255])>>>24-t)}function R(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function O(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function D(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function P(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function L(e,t,n){var r=7&t,a=t>>>3,i=(1<<n)-1,o=e[a]>>>r;return n<8-r?o&i:(o|=e[a+1]<<8-r,n<16-r?o&i:(o|=e[a+2]<<16-r,n<24-r?o&i:(o|=e[a+3]<<24-r)&i))}function F(e,t,n){var r=7&t,a=t>>>3;return r<=5?e[a]|=(7&n)<<r:(e[a]|=n<<r&255,e[a+1]=(7&n)>>8-r),t+3}function j(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function z(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function B(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function U(e,t){var n=e.length,r=2*n>t?2*n:t+5,a=0;if(n>=t)return e;if(uve){var i=hve(r);if(e.copy)e.copy(i);else for(;a<e.length;++a)i[a]=e[a];return i}if(M){var o=new Uint8Array(r);if(o.set)o.set(e);else for(;a<n;++a)o[a]=e[a];return o}return e.length=r,e}function W(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function Z(e,t,n){var r=1,a=0,i=0,o=0,s=0,l=e.length,u=M?new Uint16Array(32):W(32);for(i=0;i<32;++i)u[i]=0;for(i=l;i<n;++i)e[i]=0;l=e.length;var c=M?new Uint16Array(l):W(l);for(i=0;i<l;++i)u[a=e[i]]++,r<a&&(r=a),c[i]=0;for(u[0]=0,i=1;i<=r;++i)u[i+16]=s=s+u[i-1]<<1;for(i=0;i<l;++i)0!=(s=e[i])&&(c[i]=u[s+16]++);var d=0;for(i=0;i<l;++i)if(0!=(d=e[i]))for(s=N(c[i],r)>>r-d,o=(1<<r+4-d)-1;o>=0;--o)t[s|o<<d]=15&d|i<<4;return r}var V=M?new Uint16Array(512):W(512),H=M?new Uint16Array(32):W(32);if(!M){for(var G=0;G<512;++G)V[G]=0;for(G=0;G<32;++G)H[G]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);Z(e,H,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);Z(n,V,288)}();var q=function(){for(var e=M?new Uint8Array(32768):[],t=0,n=0;t<C.length-1;++t)for(;n<C[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=M?new Uint8Array(259):[];for(t=0,n=0;t<E.length-1;++t)for(;n<E[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),a=n+r==e.length;for(t.write_shift(1,+a),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var a=0,i=0,o=M?new Uint16Array(32768):[];i<t.length;){var s=Math.min(65535,t.length-i);if(s<10){for(7&(a=F(n,a,+!(i+s!=t.length)))&&(a+=8-(7&a)),n.l=a/8|0,n.write_shift(2,s),n.write_shift(2,65535&~s);s-- >0;)n[n.l++]=t[i++];a=8*n.l}else{a=F(n,a,+!(i+s!=t.length)+2);for(var l=0;s-- >0;){var u=t[i],c=-1,d=0;if((c=o[l=32767&(l<<5^u)])&&((c|=-32768&i)>i&&(c-=32768),c<i))for(;t[c+d]==t[i+d]&&d<250;)++d;if(d>2){(u=r[d])<=22?a=z(n,a,A[u+1]>>1)-1:(z(n,a,3),z(n,a+=5,A[u-23]>>5),a+=3);var h=u<8?0:u-4>>2;h>0&&(B(n,a,d-E[u]),a+=h),u=e[i-c],a=z(n,a,A[u]>>3),a-=3;var f=u<4?0:u-2>>1;f>0&&(B(n,a,i-c-C[u]),a+=f);for(var p=0;p<d;++p)o[l]=32767&i,l=32767&(l<<5^t[i]),++i;s-=d-1}else u<=143?u+=48:a=j(n,a,1),a=z(n,a,A[u]),o[l]=32767&i,++i}a=z(n,a,0)-1}}return n.l=(a+7)/8|0,n.l}(t,n)}}();function X(e){var t=Hye(50+Math.floor(1.1*e.length)),n=q(e,t);return t.slice(0,n)}var Y=M?new Uint16Array(32768):W(32768),K=M?new Uint16Array(32768):W(32768),J=M?new Uint16Array(128):W(128),$=1,Q=1;function ee(e,t){var n=D(e,t)+257,r=D(e,t+=5)+1,a=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var i=0,o=M?new Uint8Array(19):W(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,u=M?new Uint8Array(8):W(8),c=M?new Uint8Array(8):W(8),d=o.length,h=0;h<a;++h)o[T[h]]=i=O(e,t),l<i&&(l=i),u[i]++,t+=3;var f=0;for(u[0]=0,h=1;h<=l;++h)c[h]=f=f+u[h-1]<<1;for(h=0;h<d;++h)0!=(f=o[h])&&(s[h]=c[f]++);var p=0;for(h=0;h<d;++h)if(0!=(p=o[h])){f=A[s[h]]>>8-p;for(var m=(1<<7-p)-1;m>=0;--m)J[f|m<<p]=7&p|h<<3}var v=[];for(l=1;v.length<n+r;)switch(t+=7&(f=J[P(e,t)]),f>>>=3){case 16:for(i=3+R(e,t),t+=2,f=v[v.length-1];i-- >0;)v.push(f);break;case 17:for(i=3+O(e,t),t+=3;i-- >0;)v.push(0);break;case 18:for(i=11+P(e,t),t+=7;i-- >0;)v.push(0);break;default:v.push(f),l<f&&(l=f)}var g=v.slice(0,n),y=v.slice(n);for(h=n;h<286;++h)g[h]=0;for(h=r;h<30;++h)y[h]=0;return $=Z(g,Y,286),Q=Z(y,K,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[dve(t),2];for(var n=0,r=0,a=hve(t||1<<18),i=0,o=a.length>>>0,s=0,l=0;0==(1&r);)if(r=O(e,n),n+=3,r>>>1!=0)for(r>>1==1?(s=9,l=5):(n=ee(e,n),s=$,l=Q);;){!t&&o<i+32767&&(o=(a=U(a,i+32767)).length);var u=L(e,n,s),c=r>>>1==1?V[u]:Y[u];if(n+=15&c,0===((c>>>=4)>>>8&255))a[i++]=c;else{if(256==c)break;var d=(c-=257)<8?0:c-4>>2;d>5&&(d=0);var h=i+E[c];d>0&&(h+=L(e,n,d),n+=d),u=L(e,n,l),n+=15&(c=r>>>1==1?H[u]:K[u]);var f=(c>>>=4)<4?0:c-2>>1,p=C[c];for(f>0&&(p+=L(e,n,f),n+=f),!t&&o<h&&(o=(a=U(a,h+100)).length);i<h;)a[i]=a[i-p],++i}}else{7&n&&(n+=8-(7&n));var m=e[n>>>3]|e[1+(n>>>3)]<<8;if(n+=32,m>0)for(!t&&o<i+m&&(o=(a=U(a,i+m)).length);m-- >0;)a[i++]=e[n>>>3],n+=8}return t?[a,n+7>>>3]:[a.slice(0,i),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function re(e,t){var n=e;Zye(n,0);var r={FileIndex:[],FullPaths:[]};h(r,{root:t.root});for(var a=n.length-4;(80!=n[a]||75!=n[a+1]||5!=n[a+2]||6!=n[a+3])&&a>=0;)--a;n.l=a+4,n.l+=4;var o=n.read_shift(2);n.l+=6;var s=n.read_shift(4);for(n.l=s,a=0;a<o;++a){n.l+=20;var l=n.read_shift(4),u=n.read_shift(4),c=n.read_shift(2),d=n.read_shift(2),f=n.read_shift(2);n.l+=8;var p=n.read_shift(4),m=i(n.slice(n.l+c,n.l+c+d));n.l+=c+d+f;var v=n.l;n.l=p+4,ae(n,l,u,r,m),n.l=v}return r}function ae(e,t,n,r,a){e.l+=2;var o=e.read_shift(2),s=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,a=31&n,i=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(i-1),r.setDate(a);var o=31&t,s=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(s),r.setSeconds(o<<1),r}(e);if(8257&o)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var u=e.read_shift(4),c=e.read_shift(4),d=e.read_shift(2),h=e.read_shift(2),f="",p=0;p<d;++p)f+=String.fromCharCode(e[e.l++]);if(h){var v=i(e.slice(e.l,e.l+h));(v[21589]||{}).mt&&(l=v[21589].mt),((a||{})[21589]||{}).mt&&(l=a[21589].mt)}e.l+=h;var g=e.slice(e.l,e.l+u);switch(s){case 8:g=function(e,t){if(!m)return te(e,t);var n=new(0,m.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,c);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+s)}var y=!1;8&o&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),u=e.read_shift(4),c=e.read_shift(4)),u!=t&&ne(y,"Bad compressed size: "+t+" != "+u),c!=n&&ne(y,"Bad uncompressed size: "+n+" != "+c),ce(r,f,g,{unsafe:!0,mt:l})}var ie={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function oe(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&ie[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&ie[r[1]]?ie[r[1]]:"application/octet-stream"}function se(e){for(var t=sve(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),a=0;a<r.length;++a){var i=r[a];if(0!=i.length)for(var o=0;o<i.length;){var s=76,l=i.slice(o,o+s);"="==l.charAt(s-1)?s--:"="==l.charAt(s-2)?s-=2:"="==l.charAt(s-3)&&(s-=3),l=i.slice(o,o+s),(o+=s)<i.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function ue(e,t,n){for(var r,a="",i="",o="",s=0;s<10;++s){var l=t[s];if(!l||l.match(/^\s*$/))break;var u=l.match(/^(.*?):\s*([^\s].*)$/);if(u)switch(u[1].toLowerCase()){case"content-location":a=u[2].trim();break;case"content-type":o=u[2].trim();break;case"content-transfer-encoding":i=u[2].trim()}}switch(++s,i.toLowerCase()){case"base64":r=fve(lve(t.slice(s).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var a=0;a<t.length;++a)t[a]=t[a].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return fve(t.join("\r\n"))}(t.slice(s));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+i)}var c=ce(e,a.slice(n.length),r,{unsafe:!0});o&&(c.ctype=o)}function ce(e,t,n,a){var i=a&&a.unsafe;i||h(e);var o=!i&&hge.find(e,t);if(!o){var s=e.FullPaths[0];t.slice(0,s.length)==s?s=t:("/"!=s.slice(-1)&&(s+="/"),s=(s+t).replace("//","/")),o={name:r(t),type:2},e.FileIndex.push(o),e.FullPaths.push(s),i||hge.utils.cfb_gc(e)}return o.content=n,o.size=n?n.length:0,a&&(a.CLSID&&(o.clsid=a.CLSID),a.mt&&(o.mt=a.mt),a.ct&&(o.ct=a.ct)),o}return t.find=function(e,t){var n=e.FullPaths.map((function(e){return e.toUpperCase()})),r=n.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),a=!1;47===t.charCodeAt(0)?(a=!0,t=n[0].slice(0,-1)+t):a=-1!==t.indexOf("/");var i=t.toUpperCase(),o=!0===a?n.indexOf(i):r.indexOf(i);if(-1!==o)return e.FileIndex[o];var s=!i.match(yve);for(i=i.replace(gve,""),s&&(i=i.replace(yve,"!")),o=0;o<n.length;++o){if((s?n[o].replace(yve,"!"):n[o]).replace(gve,"")==i)return e.FileIndex[o];if((s?r[o].replace(yve,"!"):r[o]).replace(gve,"")==i)return e.FileIndex[o]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||uve&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return o(),s(e.readFileSync(t),n)}(t,n);case"base64":return s(fve(lve(t)),n);case"binary":return s(fve(t),n)}return s(t,n)},t.parse=s,t.write=function(t,n){var r=p(t,n);switch(n&&n.type||"buffer"){case"file":return o(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:k(r);case"base64":return sve("string"==typeof r?r:k(r));case"buffer":if(uve)return Buffer.isBuffer(r)?r:cve(r);case"array":return"string"==typeof r?fve(r):r}return r},t.writeFile=function(t,n,r){o();var a=p(t,r);e.writeFileSync(n,a)},t.utils={cfb_new:function(e){var t={};return h(t,e),t},cfb_add:ce,cfb_del:function(e,t){h(e);var n=hge.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){h(e);var a=hge.find(e,t);if(a)for(var i=0;i<e.FileIndex.length;++i)if(e.FileIndex[i]==a)return e.FileIndex[i].name=r(n),e.FullPaths[i]=n,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:Fye,CheckField:Wye,prep_blob:Zye,bconcat:vve,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(d4){console.error("cannot use native zlib: "+(d4.message||d4))}},_deflateRaw:X,_inflateRaw:te,consts:w},t}(),fge=void 0;function pge(e){return"string"===typeof e?pve(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function mge(e,t,n){if("undefined"!==typeof fge&&fge.writeFileSync)return n?fge.writeFileSync(e,t,n):fge.writeFileSync(e,t);if("undefined"!==typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=pve(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?Qge(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!==typeof Blob){var a=new Blob([pge(r)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if("undefined"!==typeof saveAs)return saveAs(a,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(i)}),6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(i)}),6e4),i}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=mve(t)),s.write(t),s.close(),t}catch(d4){if(!d4.message||!d4.message.match(/onstruct/))throw d4}throw new Error("cannot save file "+e)}function vge(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function gge(e,t){for(var n=[],r=vge(e),a=0;a!==r.length;++a)null==n[e[r[a]][t]]&&(n[e[r[a]][t]]=r[a]);return n}function yge(e){for(var t=[],n=vge(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function bge(e){for(var t=[],n=vge(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var xge=new Date(1899,11,30,0,0,0);function wge(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(xge.getTime()+6e4*(e.getTimezoneOffset()-xge.getTimezoneOffset())))/864e5}var kge=new Date,Sge=xge.getTime()+6e4*(kge.getTimezoneOffset()-xge.getTimezoneOffset()),Tge=kge.getTimezoneOffset();function Ege(e){var t=new Date;return t.setTime(24*e*60*60*1e3+Sge),t.getTimezoneOffset()!==Tge&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-Tge)),t}var Cge=new Date("2017-02-19T19:06:09.000Z"),_ge=isNaN(Cge.getFullYear())?new Date("2/19/17"):Cge,Mge=2017==_ge.getFullYear();function Age(e,t){var n=new Date(e);if(Mge)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==_ge.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-60*i.getTimezoneOffset()*1e3)),i}function Ige(e,t){if(uve&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return Qge(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return Qge(tve(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return Qge(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return Qge(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,(function(e){return n[e]||e}))}catch(d4){}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function Nge(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Nge(e[n]));return t}function Rge(e,t){for(var n="";n.length<t;)n+=e;return n}function Oge(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return n*=100,""}));return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(e,t){return n=-n,t})),isNaN(t=Number(r))?t:t/n):t/n}var Dge=["january","february","march","april","may","june","july","august","september","october","november","december"];function Pge(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Dge.indexOf(o))return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||i>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}function Lge(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=uve?cve(n):function(e){for(var t=[],n=0,r=e.length+250,a=dve(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[n++]=o;else if(o<2048)a[n++]=192|o>>6&31,a[n++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var s=1023&e.charCodeAt(++i);a[n++]=240|o>>8&7,a[n++]=128|o>>2&63,a[n++]=128|s>>6&15|(3&o)<<4,a[n++]=128|63&s}else a[n++]=224|o>>12&15,a[n++]=128|o>>6&63,a[n++]=128|63&o;n>r&&(t.push(a.slice(0,n)),n=0,a=dve(65535),r=65530)}return t.push(a.slice(0,n)),vve(t)}(n),hge.utils.cfb_add(e,t,r);hge.utils.cfb_add(e,t,n)}else e.file(t,n)}function Fge(){return hge.utils.cfb_new()}var jge='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var zge={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Bge=yge(zge),Uge=/[&<>'"]/g,Wge=/[\u0000-\u0008\u000b-\u001f]/g;function Zge(e){return(e+"").replace(Uge,(function(e){return Bge[e]})).replace(Wge,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function Vge(e){return Zge(e).replace(/ /g,"_x0020_")}var Hge=/[\u0000-\u001f]/g;function Gge(e){return(e+"").replace(Uge,(function(e){return Bge[e]})).replace(/\n/g,"<br/>").replace(Hge,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}function qge(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Xge(e){for(var t="",n=0,r=0,a=0,i=0,o=0,s=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(a=e.charCodeAt(n++),r>191&&r<224?(o=(31&r)<<6,o|=63&a,t+=String.fromCharCode(o)):(i=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&i):(s=((7&r)<<18|(63&a)<<12|(63&i)<<6|63&(o=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(1023&s)))));return t}function Yge(e){var t,n,r,a=dve(2*e.length),i=1,o=0,s=0;for(n=0;n<e.length;n+=i)i=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),i=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),i=3):(i=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),s=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==s&&(a[o++]=255&s,a[o++]=s>>>8,s=0),a[o++]=t%256,a[o++]=t>>>8;return a.slice(0,o).toString("ucs2")}function Kge(e){return cve(e,"binary").toString("utf8")}var Jge="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",$ge=uve&&(Kge(Jge)==Xge(Jge)&&Kge||Yge(Jge)==Xge(Jge)&&Yge)||Xge,Qge=uve?function(e){return cve(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(63&a)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},eye=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}();var tye=/(^\s|\s$|\n)/;function nye(e,t){return"<"+e+(t.match(tye)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function rye(e){return vge(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function aye(e,t,n){return"<"+e+(null!=n?rye(n):"")+(null!=t?(t.match(tye)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function iye(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(d4){if(t)throw d4}return""}var oye={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},sye=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],lye={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};var uye=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,a=e[0][n].length;r<a;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},cye=uve?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:cve(e)}))):uye(e)}:uye,dye=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(Rye(e,a)));return r.join("").replace(gve,"")},hye=uve?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(gve,""):dye(e,t,n)}:dye,fye=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},pye=uve?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):fye(e,t,n)}:fye,mye=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(Nye(e,a)));return r.join("")},vye=uve?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):mye(e,t,n)}:mye,gye=function(e,t){var n=Dye(e,t);return n>0?vye(e,t+4,t+4+n-1):""},yye=gye,bye=function(e,t){var n=Dye(e,t);return n>0?vye(e,t+4,t+4+n-1):""},xye=bye,wye=function(e,t){var n=2*Dye(e,t);return n>0?vye(e,t+4,t+4+n-1):""},kye=wye,Sye=function(e,t){var n=Dye(e,t);return n>0?hye(e,t+4,t+4+n):""},Tye=Sye,Eye=function(e,t){var n=Dye(e,t);return n>0?vye(e,t+4,t+4+n):""},Cye=Eye,_ye=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),a=15&e[t+6],i=5;i>=0;--i)a=256*a+e[t+i];return 2047==r?0==a?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}(e,t)},Mye=_ye,Aye=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function Iye(){hye=function(e,t,n){return nve.utils.decode(1200,e.slice(t,n)).replace(gve,"")},vye=function(e,t,n){return nve.utils.decode(65001,e.slice(t,n))},yye=function(e,t){var n=Dye(e,t);return n>0?nve.utils.decode(Yme,e.slice(t+4,t+4+n-1)):""},xye=function(e,t){var n=Dye(e,t);return n>0?nve.utils.decode(Xme,e.slice(t+4,t+4+n-1)):""},kye=function(e,t){var n=2*Dye(e,t);return n>0?nve.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},Tye=function(e,t){var n=Dye(e,t);return n>0?nve.utils.decode(1200,e.slice(t+4,t+4+n)):""},Cye=function(e,t){var n=Dye(e,t);return n>0?nve.utils.decode(65001,e.slice(t+4,t+4+n)):""}}uve&&(yye=function(e,t){if(!Buffer.isBuffer(e))return gye(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},xye=function(e,t){if(!Buffer.isBuffer(e))return bye(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},kye=function(e,t){if(!Buffer.isBuffer(e))return wye(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},Tye=function(e,t){if(!Buffer.isBuffer(e))return Sye(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},Cye=function(e,t){if(!Buffer.isBuffer(e))return Eye(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},Mye=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):_ye(e,t)},Aye=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof nve&&Iye();var Nye=function(e,t){return e[t]},Rye=function(e,t){return 256*e[t+1]+e[t]},Oye=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},Dye=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Pye=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Lye=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Fye(e,t){var n,r,a,i,o,s,l="",u=[];switch(t){case"dbcs":if(s=this.l,uve&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(o=0;o<e;++o)l+=String.fromCharCode(Rye(this,s)),s+=2;e*=2;break;case"utf8":l=vye(this,this.l,this.l+e);break;case"utf16le":e*=2,l=hye(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof nve)return Fye.call(this,e,"dbcs");l=nve.utils.decode(Xme,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=yye(this,this.l),e=4+Dye(this,this.l);break;case"lpstr-cp":l=xye(this,this.l),e=4+Dye(this,this.l);break;case"lpwstr":l=kye(this,this.l),e=4+2*Dye(this,this.l);break;case"lpp4":e=4+Dye(this,this.l),l=Tye(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Dye(this,this.l),l=Cye(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(a=Nye(this,this.l+e++));)u.push(rve(a));l=u.join("");break;case"_wstr":for(e=0,l="";0!==(a=Rye(this,this.l+e));)u.push(rve(a)),e+=2;e+=2,l=u.join("");break;case"dbcs-cont":for(l="",s=this.l,o=0;o<e;++o){if(this.lens&&-1!==this.lens.indexOf(s))return a=Nye(this,s),this.l=s+1,i=Fye.call(this,e-o,a?"dbcs-cont":"sbcs-cont"),u.join("")+i;u.push(rve(Rye(this,s))),s+=2}l=u.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof nve){l=nve.utils.decode(Xme,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",s=this.l,o=0;o!=e;++o){if(this.lens&&-1!==this.lens.indexOf(s))return a=Nye(this,s),this.l=s+1,i=Fye.call(this,e-o,a?"dbcs-cont":"sbcs-cont"),u.join("")+i;u.push(rve(Nye(this,s))),s+=1}l=u.join("");break;default:switch(e){case 1:return n=Nye(this,this.l),this.l++,n;case 2:return n=("i"===t?Oye:Rye)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(n=(e>0?Pye:Lye)(this,this.l),this.l+=4,n):(r=Dye(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?Mye(this,this.l):Mye([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:l=pye(this,this.l,e)}}return this.l+=e,l}var jye=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},zye=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Bye=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function Uye(e,t,n){var r=0,a=0;if("dbcs"===n){for(a=0;a!=t.length;++a)Bye(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if("sbcs"===n){if("undefined"!==typeof nve&&874==Yme)for(a=0;a!=t.length;++a){var i=nve.utils.encode(Yme,t.charAt(a));this[this.l+a]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=255&t.charCodeAt(a);r=t.length}else{if("hex"===n){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}if("utf16le"===n){var o=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=255&s,this[this.l++]=s>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,jye(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=r?-t:t;isFinite(o)?0==o?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var s=0;s<=5;++s,i/=256)e[n+s]=255&i;e[n+6]=(15&a)<<4|15&i,e[n+7]=a>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,zye(this,t,this.l)}}return this.l+=r,this}function Wye(e,t){var n=pye(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Zye(e,t){e.l=t,e.read_shift=Fye,e.chk=Wye,e.write_shift=Uye}function Vye(e,t){e.l+=t}function Hye(e){var t=dve(e);return Zye(t,0),t}function Gye(){var e=[],t=uve?256:2048,n=function(e){var t=Hye(e);return Zye(t,0),t},r=n(t),a=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},i=function(e){return r&&e<r.length-r.l?r:(a(),r=n(Math.max(e+1,t)))};return{next:i,push:function(e){a(),null==(r=e).l&&(r.l=r.length),i(t)},end:function(){return a(),vve(e)},_bufs:e}}function qye(e,t,n,r){var a,i=+t;if(!isNaN(i)){r||(r=lSe[i].p||(n||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var o=e.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,128+(127&i)),o.write_shift(1,i>>7));for(var s=0;4!=s;++s){if(!(r>=128)){o.write_shift(1,r);break}o.write_shift(1,128+(127&r)),r>>=7}r>0&&Aye(n)&&e.push(n)}}function Xye(e,t,n){var r=Nge(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Yye(e,t,n){var r=Nge(e);return r.s=Xye(r.s,t.s,n),r.e=Xye(r.e,t.s,n),r}function Kye(e,t){if(e.cRel&&e.c<0)for(e=Nge(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Nge(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=rbe(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function Jye(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?Kye(e.s,t.biff)+":"+Kye(e.e,t.biff):(e.s.rRel?"":"$")+Qye(e.s.r)+":"+(e.e.rRel?"":"$")+Qye(e.e.r):(e.s.cRel?"":"$")+tbe(e.s.c)+":"+(e.e.cRel?"":"$")+tbe(e.e.c)}function $ye(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function Qye(e){return""+(e+1)}function ebe(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function tbe(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function nbe(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function rbe(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function abe(e){var t=e.indexOf(":");return-1==t?{s:nbe(e),e:nbe(e)}:{s:nbe(e.slice(0,t)),e:nbe(e.slice(t+1))}}function ibe(e,t){return"undefined"===typeof t||"number"===typeof t?ibe(e.s,e.e):("string"!==typeof e&&(e=rbe(e)),"string"!==typeof t&&(t=rbe(t)),e==t?e:e+":"+t)}function obe(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,i=e.length;for(n=0;r<i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===i||10!=a)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=i&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=i&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function sbe(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=oge(e.z,n?wge(t):t)}catch(d4){}try{return e.w=oge((e.XF||{}).numFmtId||(n?14:0),n?wge(t):t)}catch(d4){return""+t}}function lbe(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?Hbe[e.v]||e.v:sbe(e,void 0==t?e.v:t))}function ube(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function cbe(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense;null!=ive&&null==a&&(a=ive);var i=e||(a?[]:{}),o=0,s=0;if(i&&null!=r.origin){if("number"==typeof r.origin)o=r.origin;else{var l="string"==typeof r.origin?nbe(r.origin):r.origin;o=l.r,s=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var c=obe(i["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),-1==o&&(u.e.r=o=c.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if("undefined"!==typeof t[d][h]){var f={v:t[d][h]},p=o+d,m=s+h;if(u.s.r>p&&(u.s.r=p),u.s.c>m&&(u.s.c=m),u.e.r<p&&(u.e.r=p),u.e.c<m&&(u.e.c=m),!t[d][h]||"object"!==typeof t[d][h]||Array.isArray(t[d][h])||t[d][h]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[d][h][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else{if(!r.sheetStubs)continue;f.t="z"}else"number"===typeof f.v?f.t="n":"boolean"===typeof f.v?f.t="b":f.v instanceof Date?(f.z=r.dateNF||Mve[14],r.cellDates?(f.t="d",f.w=oge(f.z,wge(f.v))):(f.t="n",f.v=wge(f.v),f.w=oge(f.z,f.v))):f.t="s";else f=t[d][h];if(a)i[p]||(i[p]=[]),i[p][m]&&i[p][m].z&&(f.z=i[p][m].z),i[p][m]=f;else{var v=rbe({c:m,r:p});i[v]&&i[v].z&&(f.z=i[v].z),i[v]=f}}}return u.s.c<1e7&&(i["!ref"]=ibe(u)),i}function dbe(e,t){return cbe(null,e,t)}function hbe(e,t){return t||(t=Hye(4)),t.write_shift(4,e),t}function fbe(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function pbe(e,t){var n=!1;return null==t&&(n=!0,t=Hye(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function mbe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function vbe(e,t){var n=e.l,r=e.read_shift(1),a=fbe(e),i=[],o={t:a,h:a};if(0!==(1&r)){for(var s=e.read_shift(4),l=0;l!=s;++l)i.push(mbe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var gbe=vbe;function ybe(e,t){var n=!1;return null==t&&(n=!0,t=Hye(23+4*e.t.length)),t.write_shift(1,1),pbe(e.t,t),t.write_shift(4,1),function(e,t){t||(t=Hye(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function bbe(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function xbe(e,t){return null==t&&(t=Hye(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function wbe(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function kbe(e,t){return null==t&&(t=Hye(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Sbe=fbe,Tbe=pbe;function Ebe(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function Cbe(e,t){var n=!1;return null==t&&(n=!0,t=Hye(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var _be=fbe,Mbe=Ebe,Abe=Cbe;function Ibe(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var a=0===r?Mye([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):Pye(t,0)>>2;return n?a/100:a}function Nbe(e,t){null==t&&(t=Hye(4));var n=0,r=0,a=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:a==(0|a)&&a>=-(1<<29)&&a<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?a:e)<<2)+(n+2))}function Rbe(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Obe=Rbe,Dbe=function(e,t){return t||(t=Hye(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function Pbe(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Lbe(e,t){return(t||Hye(8)).write_shift(8,e,"f")}function Fbe(e,t){if(t||(t=Hye(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var jbe=2,zbe=3,Bbe=80,Ube={1:{n:"CodePage",t:jbe},2:{n:"Category",t:Bbe},3:{n:"PresentationFormat",t:Bbe},4:{n:"ByteCount",t:zbe},5:{n:"LineCount",t:zbe},6:{n:"ParagraphCount",t:zbe},7:{n:"SlideCount",t:zbe},8:{n:"NoteCount",t:zbe},9:{n:"HiddenCount",t:zbe},10:{n:"MultimediaClipCount",t:zbe},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:Bbe},15:{n:"Company",t:Bbe},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:zbe},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:zbe,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:Bbe},27:{n:"ContentStatus",t:Bbe},28:{n:"Language",t:Bbe},29:{n:"Version",t:Bbe},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Wbe={1:{n:"CodePage",t:jbe},2:{n:"Title",t:Bbe},3:{n:"Subject",t:Bbe},4:{n:"Author",t:Bbe},5:{n:"Keywords",t:Bbe},6:{n:"Comments",t:Bbe},7:{n:"Template",t:Bbe},8:{n:"LastAuthor",t:Bbe},9:{n:"RevNumber",t:Bbe},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:zbe},15:{n:"WordCount",t:zbe},16:{n:"CharCount",t:zbe},17:{n:"Thumbnail",t:71},18:{n:"Application",t:Bbe},19:{n:"DocSecurity",t:zbe},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function Zbe(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var Vbe=Nge(Zbe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Hbe={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Gbe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},qbe={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Xbe(e,t){var n,r=function(e){for(var t=[],n=vge(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(Gbe),a=[];a[a.length]=jge,a[a.length]=aye("Types",null,{xmlns:oye.CT,"xmlns:xsd":oye.xsd,"xmlns:xsi":oye.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return aye("Default",null,{Extension:e[0],ContentType:e[1]})})));var i=function(r){e[r]&&e[r].length>0&&(n=e[r][0],a[a.length]=aye("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:qbe[r][t.bookType]||qbe[r].xlsx}))},o=function(n){(e[n]||[]).forEach((function(e){a[a.length]=aye("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:qbe[n][t.bookType]||qbe[n].xlsx})}))},s=function(t){(e[t]||[]).forEach((function(e){a[a.length]=aye("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})}))};return i("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Ybe={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Kbe(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Jbe(e){var t=[jge,aye("Relationships",null,{xmlns:oye.RELS})];return vge(e["!id"]).forEach((function(n){t[t.length]=aye("Relationship",null,e["!id"][n])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function $be(e,t,n,r,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=r,a.Target=n,i?a.TargetMode=i:[Ybe.HLINK,Ybe.XPATH,Ybe.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function Qbe(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function exe(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+qme.version+"</meta:generator></office:meta></office:document-meta>"}var txe=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function nxe(e,t,n,r,a){null==a[e]&&null!=t&&""!==t&&(a[e]=t,t=Zge(t),r[r.length]=n?aye(e,t,n):nye(e,t))}function rxe(e,t){var n=t||{},r=[jge,aye("cp:coreProperties",null,{"xmlns:cp":oye.CORE_PROPS,"xmlns:dc":oye.dc,"xmlns:dcterms":oye.dcterms,"xmlns:dcmitype":oye.dcmitype,"xmlns:xsi":oye.xsi})],a={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&nxe("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:iye(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),null!=e.ModifiedDate&&nxe("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:iye(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var i=0;i!=txe.length;++i){var o=txe[i],s=n.Props&&null!=n.Props[o[1]]?n.Props[o[1]]:e?e[o[1]]:null;!0===s?s="1":!1===s?s="0":"number"==typeof s&&(s=String(s)),null!=s&&nxe(o[0],s,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var axe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ixe=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function oxe(e){var t=[],n=aye;return e||(e={}),e.Application="SheetJS",t[t.length]=jge,t[t.length]=aye("Properties",null,{xmlns:oye.EXT_PROPS,"xmlns:vt":oye.vt}),axe.forEach((function(r){if(void 0!==e[r[1]]){var a;switch(r[2]){case"string":a=Zge(String(e[r[1]]));break;case"bool":a=e[r[1]]?"true":"false"}void 0!==a&&(t[t.length]=n(r[0],a))}})),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+Zge(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function sxe(e){var t=[jge,aye("Properties",null,{xmlns:oye.CUST_PROPS,"xmlns:vt":oye.vt})];if(!e)return t.join("");var n=1;return vge(e).forEach((function(r){++n,t[t.length]=aye("property",function(e,t){switch(typeof e){case"string":var n=aye("vt:lpwstr",Zge(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return aye((0|e)==e?"vt:i4":"vt:r8",Zge(String(e)));case"boolean":return aye("vt:bool",e?"true":"false")}if(e instanceof Date)return aye("vt:filetime",iye(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Zge(r)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var lxe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function uxe(e,t){var n=Hye(4),r=Hye(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=Hye(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var a=(n*=1e7)/Math.pow(2,32)|0;a>0&&(n%=Math.pow(2,32),r+=a);var i=Hye(8);return i.write_shift(4,n),i.write_shift(4,r),i}(t);break;case 31:case 80:for((r=Hye(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return vve([n,r])}var cxe=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function dxe(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function hxe(e,t,n){var r=Hye(8),a=[],i=[],o=8,s=0,l=Hye(8),u=Hye(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),i.push(l),a.push(u),o+=8+l.length,!t){(u=Hye(8)).write_shift(4,0),a.unshift(u);var c=[Hye(4)];for(c[0].write_shift(4,e.length),s=0;s<e.length;++s){var d=e[s][0];for((l=Hye(8+2*(d.length+1)+(d.length%2?0:2))).write_shift(4,s+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);c.push(l)}l=vve(c),i.unshift(l),o+=8+l.length}for(s=0;s<e.length;++s)if((!t||t[e[s][0]])&&!(cxe.indexOf(e[s][0])>-1||ixe.indexOf(e[s][0])>-1)&&null!=e[s][1]){var h=e[s][1],f=0;if(t){var p=n[f=+t[e[s][0]]];if("version"==p.p&&"string"==typeof h){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}l=uxe(p.t,h)}else{var v=dxe(h);-1==v&&(v=31,h=String(h)),l=uxe(v,h)}i.push(l),(u=Hye(8)).write_shift(4,t?f:2+s),a.push(u),o+=8+l.length}var g=8*(i.length+1);for(s=0;s<i.length;++s)a[s].write_shift(4,g),g+=i[s].length;return r.write_shift(4,o),r.write_shift(4,i.length),vve([r].concat(a).concat(i))}function fxe(e,t,n,r,a,i){var o=Hye(a?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,hge.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var l=hxe(e,n,r);if(s.push(l),a){var u=hxe(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+l.length),s.push(u)}return vve(s)}function pxe(e,t){return 1===e.read_shift(t)}function mxe(e,t){return t||(t=Hye(2)),t.write_shift(2,+!!e),t}function vxe(e){return e.read_shift(2,"u")}function gxe(e,t){return t||(t=Hye(2)),t.write_shift(2,e),t}function yxe(e,t,n){return n||(n=Hye(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function bxe(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont",i=Xme;(n&&n.biff>=8&&(Xme=1200),n&&8!=n.biff)?12==n.biff&&(a="wstr"):e.read_shift(1)&&(a="dbcs-cont");n.biff>=2&&n.biff<=5&&(a="cpstr");var o=r?e.read_shift(r,a):"";return Xme=i,o}function xxe(e){var t=e.t||"",n=Hye(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=Hye(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),vve([n,r])}function wxe(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function kxe(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):wxe(e,r,n)}function Sxe(e,t,n){if(n.biff>5)return kxe(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Txe(e,t,n){return n||(n=Hye(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function Exe(e,t){t||(t=Hye(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function Cxe(e){var t=Hye(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var a=r.indexOf("#"),i=a>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(28==i)Exe(r=r.slice(1),t);else if(2&i){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var s=a>-1?r.slice(0,a):r;for(t.write_shift(4,2*(s.length+1)),n=0;n<s.length;++n)t.write_shift(2,s.charCodeAt(n));t.write_shift(2,0),8&i&&Exe(a>-1?r.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var l=0;"../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,255&r.charCodeAt(n+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function _xe(e,t,n,r){return r||(r=Hye(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function Mxe(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function Axe(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function Ixe(e,t){return t||(t=Hye(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Nxe(e,t,n){var r=1536,a=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;default:throw new Error("unsupported BIFF version")}var i=Hye(a);return i.write_shift(2,r),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Rxe(e,t){var n=!t||t.biff>=8?2:1,r=Hye(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function Oxe(e,t,n,r){var a=n&&5==n.biff;r||(r=Hye(a?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(a?1:2,t.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=r.length>r.l?r.slice(0,r.l):r;return null==i.l&&(i.l=i.length),i}function Dxe(e,t,n,r){var a=n&&5==n.biff;r||(r=Hye(a?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),r.write_shift(4,i),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function Pxe(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=bxe(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],a=e.l+t,i=e.read_shift(n.biff>8?4:2);0!==i--;)r.push(Mxe(e,n.biff,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function Lxe(e){var t=Hye(24),n=nbe(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(r[a],16));return vve([t,Cxe(e[1])])}function Fxe(e){var t=e[1].Tooltip,n=Hye(10+2*(t.length+1));n.write_shift(2,2048);var r=nbe(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var a=0;a<t.length;++a)n.write_shift(2,t.charCodeAt(a));return n.write_shift(2,0),n}function jxe(e,t,n){if(!n.cellStyles)return Vye(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:s,flags:l};return(n.biff>=5||!n.biff)&&(u.level=l>>8&7),u}var zxe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=yge({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var a=dbe(function(t,n){var r=[],a=dve(1);switch(n.type){case"base64":a=fve(lve(t));break;case"binary":a=fve(t);break;case"buffer":case"array":a=t}Zye(a,0);var i=a.read_shift(1),o=!!(136&i),s=!1,l=!1;switch(i){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:s=!0,o=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+i.toString(16))}var u=0,c=521;2==i&&(u=a.read_shift(2)),a.l+=3,2!=i&&(u=a.read_shift(4)),u>1048576&&(u=1e6),2!=i&&(c=a.read_shift(2));var d=a.read_shift(2),h=n.codepage||1252;2!=i&&(a.l+=16,a.read_shift(1),0!==a[a.l]&&(h=e[a[a.l]]),a.l+=1,a.l+=2),l&&(a.l+=36);for(var f=[],p={},m=Math.min(a.length,2==i?521:c-10-(s?264:0)),v=l?32:11;a.l<m&&13!=a[a.l];)switch((p={}).name=nve.utils.decode(h,a.slice(a.l,a.l+v)).replace(/[\u0000\r\n].*$/g,""),a.l+=v,p.type=String.fromCharCode(a.read_shift(1)),2==i||l||(p.offset=a.read_shift(4)),p.len=a.read_shift(1),2==i&&(p.offset=a.read_shift(2)),p.dec=a.read_shift(1),p.name.length&&f.push(p),2!=i&&(a.l+=l?13:14),p.type){case"B":s&&8==p.len||!n.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==a[a.l]&&(a.l=c-1),13!==a.read_shift(1))throw new Error("DBF Terminator not found "+a.l+" "+a[a.l]);a.l=c;var g=0,y=0;for(r[0]=[],y=0;y!=f.length;++y)r[0][y]=f[y].name;for(;u-- >0;)if(42!==a[a.l])for(++a.l,r[++g]=[],y=0,y=0;y!=f.length;++y){var b=a.slice(a.l,a.l+f[y].len);a.l+=f[y].len,Zye(b,0);var x=nve.utils.decode(h,b);switch(f[y].type){case"C":x.trim().length&&(r[g][y]=x.replace(/\s+$/,""));break;case"D":8===x.length?r[g][y]=new Date(+x.slice(0,4),+x.slice(4,6)-1,+x.slice(6,8)):r[g][y]=x;break;case"F":r[g][y]=parseFloat(x.trim());break;case"+":case"I":r[g][y]=l?2147483648^b.read_shift(-4,"i"):b.read_shift(4,"i");break;case"L":switch(x.trim().toUpperCase()){case"Y":case"T":r[g][y]=!0;break;case"N":case"F":r[g][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+x+"|")}break;case"M":if(!o)throw new Error("DBF Unexpected MEMO for type "+i.toString(16));r[g][y]="##MEMO##"+(l?parseInt(x.trim(),10):b.read_shift(4));break;case"N":(x=x.replace(/\u0000/g,"").trim())&&"."!=x&&(r[g][y]=+x||0);break;case"@":r[g][y]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":r[g][y]=new Date(864e5*(b.read_shift(4)-2440588)+b.read_shift(4));break;case"Y":r[g][y]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[g][y]=-b.read_shift(-8,"f");break;case"B":if(s&&8==f[y].len){r[g][y]=b.read_shift(8,"f");break}case"G":case"P":b.l+=f[y].len;break;case"0":if("_NullFlags"===f[y].name)break;default:throw new Error("DBF Unsupported data type "+f[y].type)}}else a.l+=d;if(2!=i&&a.l<a.length&&26!=a[a.l++])throw new Error("DBF EOF Marker missing "+(a.l-1)+" of "+a.length+" "+a[a.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=f,r}(t,r),r);return a["!cols"]=r.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete r.DBF,a}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return ube(n(e,t),t)}catch(d4){if(t&&t.WTF)throw d4}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var a=n||{};if(+a.codepage>=0&&Qme(+a.codepage),"string"==a.type)throw new Error("Cannot write DBF to JS string");var i=Gye(),o=oTe(e,{header:1,raw:!0,cellDates:!0}),s=o[0],l=o.slice(1),u=e["!cols"]||[],c=0,d=0,h=0,f=1;for(c=0;c<s.length;++c)if(((u[c]||{}).DBF||{}).name)s[c]=u[c].DBF.name,++h;else if(null!=s[c]){if(++h,"number"===typeof s[c]&&(s[c]=s[c].toString(10)),"string"!==typeof s[c])throw new Error("DBF Invalid column name "+s[c]+" |"+typeof s[c]+"|");if(s.indexOf(s[c])!==c)for(d=0;d<1024;++d)if(-1==s.indexOf(s[c]+"_"+d)){s[c]+="_"+d;break}}var p=obe(e["!ref"]),m=[],v=[],g=[];for(c=0;c<=p.e.c-p.s.c;++c){var y="",b="",x=0,w=[];for(d=0;d<l.length;++d)null!=l[d][c]&&w.push(l[d][c]);if(0!=w.length&&null!=s[c]){for(d=0;d<w.length;++d){switch(typeof w[d]){case"number":b="B";break;case"string":default:b="C";break;case"boolean":b="L";break;case"object":b=w[d]instanceof Date?"D":"C"}x=Math.max(x,String(w[d]).length),y=y&&y!=b?"C":b}x>250&&(x=250),"C"==(b=((u[c]||{}).DBF||{}).type)&&u[c].DBF.len>x&&(x=u[c].DBF.len),"B"==y&&"N"==b&&(y="N",g[c]=u[c].DBF.dec,x=u[c].DBF.len),v[c]="C"==y||"N"==b?x:r[y]||0,f+=v[c],m[c]=y}else m[c]="?"}var k=i.next(32);for(k.write_shift(4,318902576),k.write_shift(4,l.length),k.write_shift(2,296+32*h),k.write_shift(2,f),c=0;c<4;++c)k.write_shift(4,0);for(k.write_shift(4,0|(+t[Yme]||3)<<8),c=0,d=0;c<s.length;++c)if(null!=s[c]){var S=i.next(32),T=(s[c].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);S.write_shift(1,T,"sbcs"),S.write_shift(1,"?"==m[c]?"C":m[c],"sbcs"),S.write_shift(4,d),S.write_shift(1,v[c]||r[m[c]]||0),S.write_shift(1,g[c]||0),S.write_shift(1,2),S.write_shift(4,0),S.write_shift(1,0),S.write_shift(4,0),S.write_shift(4,0),d+=v[c]||r[m[c]]||0}var E=i.next(264);for(E.write_shift(4,13),c=0;c<65;++c)E.write_shift(4,0);for(c=0;c<l.length;++c){var C=i.next(f);for(C.write_shift(1,0),d=0;d<s.length;++d)if(null!=s[d])switch(m[d]){case"L":C.write_shift(1,null==l[c][d]?63:l[c][d]?84:70);break;case"B":C.write_shift(8,l[c][d]||0,"f");break;case"N":var _="0";for("number"==typeof l[c][d]&&(_=l[c][d].toFixed(g[d]||0)),h=0;h<v[d]-_.length;++h)C.write_shift(1,32);C.write_shift(1,_,"sbcs");break;case"D":l[c][d]?(C.write_shift(4,("0000"+l[c][d].getFullYear()).slice(-4),"sbcs"),C.write_shift(2,("00"+(l[c][d].getMonth()+1)).slice(-2),"sbcs"),C.write_shift(2,("00"+l[c][d].getDate()).slice(-2),"sbcs")):C.write_shift(8,"00000000","sbcs");break;case"C":var M=String(null!=l[c][d]?l[c][d]:"").slice(0,v[d]);for(C.write_shift(1,M,"sbcs"),h=0;h<v[d]-M.length;++h)C.write_shift(1,32)}}return i.next(1).write_shift(1,26),i.end()}}}(),Bxe=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+vge(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?ave(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:ave(r)};function a(e,a){var i,o=e.split(/[\n\r]+/),s=-1,l=-1,u=0,c=0,d=[],h=[],f=null,p={},m=[],v=[],g=[],y=0;for(+a.codepage>=0&&Qme(+a.codepage);u!==o.length;++u){y=0;var b,x=o[u].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),w=x.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),k=w[0];if(x.length>0)switch(k){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&h.push(x.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,T=!1,E=!1,C=!1,_=-1,M=-1;for(c=1;c<w.length;++c)switch(w[c].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[c].slice(1))-1,T=!0;break;case"Y":for(s=parseInt(w[c].slice(1))-1,T||(l=0),i=d.length;i<=s;++i)d[i]=[];break;case"K":'"'===(b=w[c].slice(1)).charAt(0)?b=b.slice(1,b.length-1):"TRUE"===b?b=!0:"FALSE"===b?b=!1:isNaN(Oge(b))?isNaN(Pge(b).getDate())||(b=Age(b)):(b=Oge(b),null!==f&&nge(f)&&(b=Ege(b))),"undefined"!==typeof nve&&"string"==typeof b&&"string"!=(a||{}).type&&(a||{}).codepage&&(b=nve.utils.decode(a.codepage,b)),S=!0;break;case"E":C=!0;var A=Rwe(w[c].slice(1),{r:s,c:l});d[s][l]=[d[s][l],A];break;case"S":E=!0,d[s][l]=[d[s][l],"S5S"];break;case"R":_=parseInt(w[c].slice(1))-1;break;case"C":M=parseInt(w[c].slice(1))-1;break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+x)}if(S&&(d[s][l]&&2==d[s][l].length?d[s][l][0]=b:d[s][l]=b,f=null),E){if(C)throw new Error("SYLK shared formula cannot have own formula");var I=_>-1&&d[_][M];if(!I||!I[1])throw new Error("SYLK shared formula cannot find base");d[s][l][1]=Pwe(I[1],{r:s-_,c:l-M})}break;case"F":var N=0;for(c=1;c<w.length;++c)switch(w[c].charAt(0)){case"X":l=parseInt(w[c].slice(1))-1,++N;break;case"Y":for(s=parseInt(w[c].slice(1))-1,i=d.length;i<=s;++i)d[i]=[];break;case"M":y=parseInt(w[c].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=h[parseInt(w[c].slice(1))];break;case"W":for(g=w[c].slice(1).split(" "),i=parseInt(g[0],10);i<=parseInt(g[1],10);++i)y=parseInt(g[2],10),v[i-1]=0===y?{hidden:!0}:{wch:y},awe(v[i-1]);break;case"C":v[l=parseInt(w[c].slice(1))-1]||(v[l]={});break;case"R":m[s=parseInt(w[c].slice(1))-1]||(m[s]={}),y>0?(m[s].hpt=y,m[s].hpx=swe(y)):0===y&&(m[s].hidden=!0);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+x)}N<1&&(f=null);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+x)}}return m.length>0&&(p["!rows"]=m),v.length>0&&(p["!cols"]=v),a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),[d,p]}function i(e,t){var n=function(e,t){switch(t.type){case"base64":return a(lve(e),t);case"binary":return a(e,t);case"buffer":return a(uve&&Buffer.isBuffer(e)?e.toString("binary"):mve(e),t);case"array":return a(Ige(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],i=n[1],o=dbe(r,t);return vge(i).forEach((function(e){o[e]=i[e]})),o}function o(e,t,n,r){var a="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":a+=e.v||0,e.f&&!e.F&&(a+=";E"+Dwe(e.f,{r:n,c:r}));break;case"b":a+=e.v?"TRUE":"FALSE";break;case"e":a+=e.w||e.v;break;case"d":a+='"'+(e.w||e.v)+'"';break;case"s":a+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return a}return e["|"]=254,{to_workbook:function(e,t){return ube(i(e,t),t)},to_sheet:i,from_sheet:function(e,t){var n,r,a=["ID;PWXL;N;E"],i=[],s=obe(e["!ref"]),l=Array.isArray(e),u="\r\n";a.push("P;PGeneral"),a.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=a,e["!cols"].forEach((function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=twe(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=nwe(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)}))),e["!rows"]&&function(e,t){t.forEach((function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*owe(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))}))}(a,e["!rows"]),a.push("B;Y"+(s.e.r-s.s.r+1)+";X"+(s.e.c-s.s.c+1)+";D"+[s.s.c,s.s.r,s.e.c,s.e.r].join(" "));for(var c=s.s.r;c<=s.e.r;++c)for(var d=s.s.c;d<=s.e.c;++d){var h=rbe({r:c,c:d});(n=l?(e[c]||[])[d]:e[h])&&(null!=n.v||n.f&&!n.F)&&i.push(o(n,0,c,d))}return a.join(u)+u+i.join(u)+u+"E"+u}}}(),Uxe=function(){function e(e,t){for(var n=e.split("\n"),r=-1,a=-1,i=0,o=[];i!==n.length;++i)if("BOT"!==n[i].trim()){if(!(r<0)){for(var s=n[i].trim().split(","),l=s[0],u=s[1],c=n[++i]||"";1&(c.match(/["]/g)||[]).length&&i<n.length-1;)c+="\n"+n[++i];switch(c=c.trim(),+l){case-1:if("BOT"===c){o[++r]=[],a=0;continue}if("EOD"!==c)throw new Error("Unrecognized DIF special command "+c);break;case 0:"TRUE"===c?o[r][a]=!0:"FALSE"===c?o[r][a]=!1:isNaN(Oge(u))?isNaN(Pge(u).getDate())?o[r][a]=u:o[r][a]=Age(u):o[r][a]=Oge(u),++a;break;case 1:(c=(c=c.slice(1,c.length-1)).replace(/""/g,'"'))&&c.match(/^=".*"$/)&&(c=c.slice(2,-1)),o[r][a++]=""!==c?c:null}if("EOD"===c)break}}else o[++r]=[],a=0;return t&&t.sheetRows&&(o=o.slice(0,t.sheetRows)),o}function t(t,n){return dbe(function(t,n){switch(n.type){case"base64":return e(lve(t),n);case"binary":return e(t,n);case"buffer":return e(uve&&Buffer.isBuffer(t)?t.toString("binary"):mve(t),n);case"array":return e(Ige(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}var n=function(){var e=function(e,t,n,r,a){e.push(t),e.push(n+","+r),e.push('"'+a.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,a=[],i=obe(n["!ref"]),o=Array.isArray(n);e(a,"TABLE",0,1,"sheetjs"),e(a,"VECTORS",0,i.e.r-i.s.r+1,""),e(a,"TUPLES",0,i.e.c-i.s.c+1,""),e(a,"DATA",0,0,"");for(var s=i.s.r;s<=i.e.r;++s){t(a,-1,0,"BOT");for(var l=i.s.c;l<=i.e.c;++l){var u=rbe({r:s,c:l});if(r=o?(n[s]||[])[l]:n[u])switch(r.t){case"n":var c=r.w;c||null==r.v||(c=r.v),null==c?r.f&&!r.F?t(a,1,0,"="+r.f):t(a,1,0,""):t(a,0,c,"V");break;case"b":t(a,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(a,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=oge(r.z||Mve[14],wge(Age(r.v)))),t(a,0,r.w,"V");break;default:t(a,1,0,"")}else t(a,1,0,"")}}t(a,-1,0,"EOD");return a.join("\r\n")}}();return{to_workbook:function(e,n){return ube(t(e,n),n)},to_sheet:t,from_sheet:n}}(),Wxe=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(t,n){return dbe(function(t,n){for(var r=t.split("\n"),a=-1,i=-1,o=0,s=[];o!==r.length;++o){var l=r[o].trim().split(":");if("cell"===l[0]){var u=nbe(l[1]);if(s.length<=u.r)for(a=s.length;a<=u.r;++a)s[a]||(s[a]=[]);switch(a=u.r,i=u.c,l[2]){case"t":s[a][i]=e(l[3]);break;case"v":s[a][i]=+l[3];break;case"vtf":var c=l[l.length-1];case"vtc":"nl"===l[3]?s[a][i]=!!+l[4]:s[a][i]=+l[4],"vtf"==l[2]&&(s[a][i]=[s[a][i],c])}}}return n&&n.sheetRows&&(s=s.slice(0,n.sheetRows)),s}(t,n),n)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",i=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),o="--SocialCalcSpreadsheetControlSave--";function s(e){if(!e||!e["!ref"])return"";for(var n,r=[],a=[],i="",o=abe(e["!ref"]),s=Array.isArray(e),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u)if(i=rbe({r:l,c:u}),(n=s?(e[l]||[])[u]:e[i])&&null!=n.v&&"z"!==n.t){switch(a=["cell",i,"t"],n.t){case"s":case"str":a.push(t(n.v));break;case"n":n.f?(a[2]="vtf",a[3]="n",a[4]=n.v,a[5]=t(n.f)):(a[2]="v",a[3]=n.v);break;case"b":a[2]="vt"+(n.f?"f":"c"),a[3]="nl",a[4]=n.v?"1":"0",a[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var c=wge(Age(n.v));a[2]="vtc",a[3]="nd",a[4]=""+c,a[5]=n.w||oge(n.z||Mve[14],c);break;case"e":continue}r.push(a.join(":"))}return r.push("sheet:c:"+(o.e.c-o.s.c+1)+":r:"+(o.e.r-o.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,t){return ube(n(e,t),t)},to_sheet:n,from_sheet:function(e){return[r,a,i,a,s(e),o].join("\n")}}}(),Zxe=function(){function e(e,t,n,r,a){a.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(Oge(e))?isNaN(Pge(e).getDate())?t[n][r]=e:t[n][r]=Age(e):t[n][r]=Oge(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},a=!1,i=0,o=0;i<e.length;++i)34==(o=e.charCodeAt(i))?a=!a:!a&&o in t&&(r[o]=(r[o]||0)+1);for(i in o=[],r)Object.prototype.hasOwnProperty.call(r,i)&&o.push([r[i],i]);if(!o.length)for(i in r=n)Object.prototype.hasOwnProperty.call(r,i)&&o.push([r[i],i]);return o.sort((function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]})),t[o.pop()[1]]||44}function a(e,t){var n=t||{},a="";null!=ive&&null==n.dense&&(n.dense=ive);var i=n.dense?[]:{},o={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(a=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(a=e.charAt(4),e=e.slice(6)):a=r(e.slice(0,1024)):a=n&&n.FS?n.FS:r(e.slice(0,1024));var s=0,l=0,u=0,c=0,d=0,h=a.charCodeAt(0),f=!1,p=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var v=null!=n.dateNF?function(e){var t="number"==typeof e?Mve[e]:e;return t=t.replace(cge,"(\\d+)"),new RegExp("^"+t+"$")}(n.dateNF):null;function g(){var t=e.slice(c,d),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):!function(e){return 1!=e.length}(t)?(r.t="s",r.v=t):(r.t="n",r.f=t.slice(1));else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(u=Oge(t)))if(!isNaN(Pge(t).getDate())||v&&t.match(v)){r.z=n.dateNF||Mve[14];var a=0;v&&t.match(v)&&(t=function(e,t,n){var r=-1,a=-1,i=-1,o=-1,s=-1,l=-1;(t.match(cge)||[]).forEach((function(e,t){var u=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=u;break;case"d":i=u;break;case"h":o=u;break;case"s":l=u;break;case"m":o>=0?s=u:a=u}})),l>=0&&-1==s&&a>=0&&(s=a,a=-1);var u=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);7==u.length&&(u="0"+u),8==u.length&&(u="20"+u);var c=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==o&&-1==s&&-1==l?u:-1==r&&-1==a&&-1==i?c:u+"T"+c}(0,n.dateNF,t.match(v)||[]),a=1),n.cellDates?(r.t="d",r.v=Age(t,a)):(r.t="n",r.v=wge(Age(t,a))),!1!==n.cellText&&(r.w=oge(r.z,r.v instanceof Date?wge(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=u;if("z"==r.t||(n.dense?(i[s]||(i[s]=[]),i[s][l]=r):i[rbe({c:l,r:s})]=r),c=d+1,m=e.charCodeAt(c),o.e.c<l&&(o.e.c=l),o.e.r<s&&(o.e.r=s),p==h)++l;else if(l=0,++s,n.sheetRows&&n.sheetRows<=s)return!0}e:for(;d<e.length;++d)switch(p=e.charCodeAt(d)){case 34:34===m&&(f=!f);break;case h:case 10:case 13:if(!f&&g())break e}return d-c>0&&g(),i["!ref"]=ibe(o),i}function i(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?a(t,n):dbe(function(t,n){var r=n||{},a=[];if(!t||0===t.length)return a;for(var i=t.split(/[\r\n]/),o=i.length-1;o>=0&&0===i[o].length;)--o;for(var s=10,l=0,u=0;u<=o;++u)-1==(l=i[u].indexOf(" "))?l=i[u].length:l++,s=Math.max(s,l);for(u=0;u<=o;++u){a[u]=[];var c=0;for(e(i[u].slice(0,s).trim(),a,u,c,r),c=1;c<=(i[u].length-s)/10+1;++c)e(i[u].slice(s+10*(c-1),s+10*c).trim(),a,u,c,r)}return r.sheetRows&&(a=a.slice(0,r.sheetRows)),a}(t,n),n):a(t,n)}function o(e,t){var n="",r="string"==t.type?[0,0,0,0]:JSe(e,t);switch(t.type){case"base64":n=lve(e);break;case"binary":case"string":n=e;break;case"buffer":n=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof nve?nve.utils.decode(t.codepage,e):uve&&Buffer.isBuffer(e)?e.toString("binary"):mve(e);break;case"array":n=Ige(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=$ge(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=$ge(n):"binary"==t.type&&"undefined"!==typeof nve&&t.codepage&&(n=nve.utils.decode(t.codepage,nve.utils.encode(28591,n))),"socialcalc:version:"==n.slice(0,19)?Wxe.to_sheet("string"==t.type?n:$ge(n),t):i(n,t)}return{to_workbook:function(e,t){return ube(o(e,t),t)},to_sheet:o,from_sheet:function(e){for(var t,n=[],r=obe(e["!ref"]),a=Array.isArray(e),i=r.s.r;i<=r.e.r;++i){for(var o=[],s=r.s.c;s<=r.e.c;++s){var l=rbe({r:i,c:s});if((t=a?(e[i]||[])[s]:e[l])&&null!=t.v){for(var u=(t.w||(lbe(t),t.w)||"").slice(0,10);u.length<10;)u+=" ";o.push(u+(0===s?" ":""))}else o.push("          ")}n.push(o.join(""))}return n.join("\n")}}}();var Vxe=function(){function e(e,t,n){if(e){Zye(e,e.l||0);for(var r=n.Enum||g;e.l<e.length;){var a=e.read_shift(2),i=r[a]||r[65535],o=e.read_shift(2),s=e.l+o,l=i.f&&i.f(e,o,n);if(e.l=s,t(l,i,a))return}}}function t(t,n){if(!t)return t;var r=n||{};null!=ive&&null==r.dense&&(r.dense=ive);var a=r.dense?[]:{},i="Sheet1",o="",s=0,l={},u=[],c=[],d={s:{r:0,c:0},e:{r:0,c:0}},h=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=g,e(t,(function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:d=e;break;case 204:e&&(o=e);break;case 222:o=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||Mve[14],r.cellDates&&(e[1].t="d",e[1].v=Ege(e[1].v))),r.qpro&&e[3]>s&&(a["!ref"]=ibe(d),l[i]=a,u.push(i),a=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],i=o||"Sheet"+(s+1),o="");var c=r.dense?(a[e[0].r]||[])[e[0].c]:a[rbe(e[0])];if(c){c.t=e[1].t,c.v=e[1].v,null!=e[1].z&&(c.z=e[1].z),null!=e[1].f&&(c.f=e[1].f);break}r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[rbe(e[0])]=e[1]}}),r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=y,14==t[2]&&(r.qpro=!0,t.l=0),e(t,(function(e,t,n){switch(n){case 204:i=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>s&&(a["!ref"]=ibe(d),l[i]=a,u.push(i),a=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],i="Sheet"+(s+1)),h>0&&e[0].r>=h)break;r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[rbe(e[0])]=e[1],d.e.c<e[0].c&&(d.e.c=e[0].c),d.e.r<e[0].r&&(d.e.r=e[0].r);break;case 27:e[14e3]&&(c[e[14e3][0]]=e[14e3][1]);break;case 1537:c[e[0]]=e[1],e[0]==s&&(i=e[1])}}),r)}if(a["!ref"]=ibe(d),l[o||i]=a,u.push(o||i),!c.length)return{SheetNames:u,Sheets:l};for(var f={},p=[],m=0;m<c.length;++m)l[u[m]]?(p.push(c[m]||u[m]),f[c[m]]=l[c[m]]||l[u[m]]):(p.push(c[m]),f[c[m]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var a=e.l+t,i=n(e,0,r);if(i[1].t="s",20768==r.vers){e.l++;var o=e.read_shift(1);return i[1].v=e.read_shift(o,"utf8"),i}return r.qpro&&e.l++,i[1].v=e.read_shift(a-e.l,"cstr"),i}function a(e,t,n){var r=Hye(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var a=0;a<r.length;++a){var i=n.charCodeAt(a);r.write_shift(1,i>=128?95:i)}return r.write_shift(1,0),r}function i(e,t,n){var r=Hye(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function o(e,t,n){var r=Hye(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function s(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?tbe(t):Qye(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},u=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function c(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function d(e,t,n,r){var a=Hye(6+r.length);a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),a.write_shift(1,39);for(var i=0;i<r.length;++i){var o=r.charCodeAt(i);a.write_shift(1,o>=128?95:o)}return a.write_shift(1,0),a}function h(e,t){var n=c(e),r=e.read_shift(4),a=e.read_shift(4),i=e.read_shift(2);if(65535==i)return 0===r&&3221225472===a?(n[1].t="e",n[1].v=15):0===r&&3489660928===a?(n[1].t="e",n[1].v=42):n[1].v=0,n;var o=32768&i;return i=(32767&i)-16446,n[1].v=(1-2*o)*(a*Math.pow(2,i+32)+r*Math.pow(2,i)),n}function f(e,t,n,r){var a=Hye(14);if(a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),0==r)return a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,65535),a;var i,o=0,s=0,l=0;return r<0&&(o=1,r=-r),s=0|Math.log2(r),0==(2147483648&(l=(r/=Math.pow(2,s-31))>>>0))&&(++s,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,i=(r*=Math.pow(2,32))>>>0,a.write_shift(4,i),a.write_shift(4,l),s+=16383+(o?32768:0),a.write_shift(2,s),a}function p(e,t){var n=c(e),r=e.read_shift(8,"f");return n[1].v=r,n}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function v(e,t){var n=Hye(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var a=e.charCodeAt(r);n[n.l++]=a>127?95:a}return n[n.l++]=0,n}var g={0:{n:"BOF",f:vxe},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var a=n(e,0,r);return a[1].v=e.read_shift(2,"i"),a}},14:{n:"NUMBER",f:function(e,t,r){var a=n(e,0,r);return a[1].v=e.read_shift(8,"f"),a}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var a=e.l+t,i=n(e,0,r);if(i[1].v=e.read_shift(8,"f"),r.qpro)e.l=a;else{var o=e.read_shift(2);!function(e,t){Zye(e,0);var n=[],r=0,a="",i="",o="",c="";for(;e.l<e.length;){var d=e[e.l++];switch(d){case 0:n.push(e.read_shift(8,"f"));break;case 1:i=s(t[0].c,e.read_shift(2),!0),a=s(t[0].r,e.read_shift(2),!1),n.push(i+a);break;case 2:var h=s(t[0].c,e.read_shift(2),!0),f=s(t[0].r,e.read_shift(2),!1);i=s(t[0].c,e.read_shift(2),!0),a=s(t[0].r,e.read_shift(2),!1),n.push(h+f+":"+i+a);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var p="";d=e[e.l++];)p+=String.fromCharCode(d);n.push('"'+p.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:c=n.pop(),o=n.pop(),n.push(["AND","OR"][d-20]+"("+o+","+c+")");break;default:if(d<32&&u[d])c=n.pop(),o=n.pop(),n.push(o+u[d]+c);else{if(!l[d])return d<=7?console.error("WK1 invalid opcode "+d.toString(16)):d<=24?console.error("WK1 unsupported op "+d.toString(16)):d<=30?console.error("WK1 invalid opcode "+d.toString(16)):d<=115?console.error("WK1 unsupported function opcode "+d.toString(16)):console.error("WK1 unrecognized opcode "+d.toString(16));if(69==(r=l[d][1])&&(r=e[e.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+d.toString(16)+":|"+n.join("|")+"|");var m=n.slice(-r);n.length-=r,n.push(l[d][0]+"("+m.join(",")+")")}}}1==n.length?t[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}(e.slice(e.l,e.l+o),i),e.l+=o}return i}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=c(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:h},24:{n:"NUMBER18",f:function(e,t){var n=c(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=h(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var a=e.read_shift(2);if(14e3==a){for(n[a]=[0,""],n[a][0]=e.read_shift(2);e[e.l];)n[a][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=c(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var n=p(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&Qme(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r=Gye(),s=obe(e["!ref"]),l=Array.isArray(e),u=[];uSe(r,0,function(e){var t=Hye(2);return t.write_shift(2,e),t}(1030)),uSe(r,6,function(e){var t=Hye(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(s));for(var c=Math.min(s.e.r,8191),d=s.s.r;d<=c;++d)for(var h=Qye(d),f=s.s.c;f<=s.e.c;++f){d===s.s.r&&(u[f]=tbe(f));var p=u[f]+h,m=l?(e[d]||[])[f]:e[p];if(m&&"z"!=m.t)if("n"==m.t)(0|m.v)==m.v&&m.v>=-32768&&m.v<=32767?uSe(r,13,i(d,f,m.v)):uSe(r,14,o(d,f,m.v));else uSe(r,15,a(d,f,lbe(m).slice(0,239)))}return uSe(r,1),r.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&Qme(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=Gye();uSe(r,0,function(e){var t=Hye(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,a=0,i=0;i<e.SheetNames.length;++i){var o=e.SheetNames[i],s=e.Sheets[o];if(s&&s["!ref"]){++a;var l=abe(s["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,a),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var a=0,i=0;a<e.SheetNames.length;++a)(e.Sheets[e.SheetNames[a]]||{})["!ref"]&&uSe(r,27,v(e.SheetNames[a],i++));var o=0;for(a=0;a<e.SheetNames.length;++a){var s=e.Sheets[e.SheetNames[a]];if(s&&s["!ref"]){for(var l=obe(s["!ref"]),u=Array.isArray(s),c=[],h=Math.min(l.e.r,8191),p=l.s.r;p<=h;++p)for(var m=Qye(p),g=l.s.c;g<=l.e.c;++g){p===l.s.r&&(c[g]=tbe(g));var y=c[g]+m,b=u?(s[p]||[])[g]:s[y];if(b&&"z"!=b.t)if("n"==b.t)uSe(r,23,f(p,g,o,b.v));else uSe(r,22,d(p,g,o,lbe(b).slice(0,239)))}++o}}return uSe(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(fve(lve(e)),n);case"binary":return t(fve(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}();var Hxe=/^\s|\s$|[\t\n\r]/;function Gxe(e,t){if(!t.bookSST)return"";var n=[jge];n[n.length]=aye("sst",null,{xmlns:sye[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var a=e[r],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Hxe)&&(i+=' xml:space="preserve"'),i+=">"+Zge(a.t)+"</t>"),i+="</si>",n[n.length]=i}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var qxe=function(e,t){var n=!1;return null==t&&(n=!0,t=Hye(15+4*e.t.length)),t.write_shift(1,0),pbe(e.t,t),n?t.slice(0,t.l):t};function Xxe(e){var t=Gye();qye(t,159,function(e,t){return t||(t=Hye(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)qye(t,19,qxe(e[n]));return qye(t,160),t.end()}function Yxe(e){if("undefined"!==typeof nve)return nve.utils.encode(Yme,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Kxe(e){var t,n,r=0,a=Yxe(e),i=a.length+1;for((t=dve(i))[0]=a.length,n=1;n!=i;++n)t[n]=a[n-1];for(n=i-1;n>=0;--n)r=((0===(16384&r)?0:1)|r<<1&32767)^t[n];return 52811^r}var Jxe=function(){function e(e,n){switch(n.type){case"base64":return t(lve(e),n);case"binary":return t(e,n);case"buffer":return t(uve&&Buffer.isBuffer(e)?e.toString("binary"):mve(e),n);case"array":return t(Ige(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var a={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach((function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,i=/\\\w+\b/g,o=0,s=-1;r=i.exec(e);){if("\\cell"===r[0]){var l=e.slice(o,i.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++s,l.length){var u={v:l,t:"s"};Array.isArray(n)?n[t][s]=u:n[rbe({r:t,c:s})]=u}}o=i.lastIndex}s>a.e.c&&(a.e.c=s)})),n["!ref"]=ibe(a),n}return{to_workbook:function(t,n){return ube(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=obe(e["!ref"]),a=Array.isArray(e),i=r.s.r;i<=r.e.r;++i){n.push("\\trowd\\trautofit1");for(var o=r.s.c;o<=r.e.c;++o)n.push("\\cellx"+(o+1));for(n.push("\\pard\\intbl"),o=r.s.c;o<=r.e.c;++o){var s=rbe({r:i,c:o});(t=a?(e[i]||[])[o]:e[s])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(lbe(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function $xe(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var Qxe=6,ewe=Qxe;function twe(e){return Math.floor((e+Math.round(128/ewe)/256)*ewe)}function nwe(e){return Math.floor((e-5)/ewe*100+.5)/100}function rwe(e){return Math.round((e*ewe+5)/ewe*256)/256}function awe(e){e.width?(e.wpx=twe(e.width),e.wch=nwe(e.wpx),e.MDW=ewe):e.wpx?(e.wch=nwe(e.wpx),e.width=rwe(e.wch),e.MDW=ewe):"number"==typeof e.wch&&(e.width=rwe(e.wch),e.wpx=twe(e.width),e.MDW=ewe),e.customWidth&&delete e.customWidth}var iwe=96;function owe(e){return 96*e/iwe}function swe(e){return e*iwe/96}function lwe(e,t){var n,r=[jge,aye("styleSheet",null,{xmlns:sye[0],"xmlns:vt":oye.vt})];return e.SSF&&null!=(n=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=aye("numFmt",null,{numFmtId:r,formatCode:Zge(e[r])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=aye("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function(e){var t=[];return t[t.length]=aye("cellXfs",null),e.forEach((function(e){t[t.length]=aye("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=aye("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function uwe(e,t,n){n||(n=Hye(6+4*t.length)),n.write_shift(2,e),pbe(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function cwe(e,t){t||(t=Hye(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=Hye(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,n),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Fbe(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),pbe(e.name,t),t.length>t.l?t.slice(0,t.l):t}var dwe,hwe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],fwe=Vye;function pwe(e,t){t||(t=Hye(84)),dwe||(dwe=yge(hwe));var n=dwe[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(Fbe({auto:1},t),Fbe({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function mwe(e,t,n){n||(n=Hye(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function vwe(e,t){return t||(t=Hye(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var gwe=Vye;function ywe(e){qye(e,613,hbe(1)),qye(e,46,function(e,t){return t||(t=Hye(51)),t.write_shift(1,0),vwe(0,t),vwe(0,t),vwe(0,t),vwe(0,t),vwe(0,t),t.length>t.l?t.slice(0,t.l):t}()),qye(e,614)}function bwe(e){qye(e,619,hbe(1)),qye(e,48,function(e,t){return t||(t=Hye(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Cbe(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}({xfId:0,builtinId:0,name:"Normal"})),qye(e,620)}function xwe(e){qye(e,508,function(e,t,n){var r=Hye(2052);return r.write_shift(4,e),Cbe(t,r),Cbe(n,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),qye(e,509)}function wwe(e,t){var n=Gye();return qye(n,278),function(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n})),0!=n&&(qye(e,615,hbe(n)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&qye(e,44,uwe(r,t[r]))})),qye(e,616))}}(n,e.SSF),function(e){qye(e,611,hbe(1)),qye(e,43,cwe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),qye(e,612)}(n),function(e){qye(e,603,hbe(2)),qye(e,45,pwe({patternType:"none"})),qye(e,45,pwe({patternType:"gray125"})),qye(e,604)}(n),ywe(n),function(e){qye(e,626,hbe(1)),qye(e,47,mwe({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),qye(e,627)}(n),function(e,t){qye(e,617,hbe(t.length)),t.forEach((function(t){qye(e,47,mwe(t,0))})),qye(e,618)}(n,t.cellXfs),bwe(n),function(e){qye(e,505,hbe(0)),qye(e,506)}(n),xwe(n),qye(n,279),n.end()}function kwe(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[jge];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Swe(){var e=Gye();return qye(e,332),qye(e,334,hbe(1)),qye(e,335,function(e){var t=Hye(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),pbe(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),qye(e,336),qye(e,339,function(e,t){var n=Hye(8+2*t.length);return n.write_shift(4,e),pbe(t,n),n.slice(0,n.l)}(1,"XLDAPR")),qye(e,52),qye(e,35,hbe(514)),qye(e,4096,hbe(0)),qye(e,4097,gxe(1)),qye(e,36),qye(e,53),qye(e,340),qye(e,337,function(e,t){var n=Hye(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}(1,!0)),qye(e,51,function(e){var t=Hye(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),qye(e,338),qye(e,333),e.end()}function Twe(){var e=[jge];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var Ewe=1024;function Cwe(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[aye("xml",null,{"xmlns:v":lye.v,"xmlns:o":lye.o,"xmlns:x":lye.x,"xmlns:mv":lye.mv}).replace(/\/>/,">"),aye("o:shapelayout",aye("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),aye("v:shapetype",[aye("v:stroke",null,{joinstyle:"miter"}),aye("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Ewe<1e3*e;)Ewe+=1e3;return t.forEach((function(e){var t=nbe(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?aye("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,i=aye("v:fill",r,n);++Ewe,a=a.concat(["<v:shape"+rye({id:"_x0000_s"+Ewe,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",i,aye("v:shadow",null,{on:"t",obscured:"t"}),aye("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",nye("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),nye("x:AutoFill","False"),nye("x:Row",String(t.r)),nye("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),a.push("</xml>"),a.join("")}function _we(e){var t=[jge,aye("comments",null,{xmlns:sye[0]})],n=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var r=Zge(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var r=0,a=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(r=n.indexOf(Zge(e.a))),a.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),a.length<=1)t.push(nye("t",Zge(a[0]||"")));else{for(var i="Comment:\n    "+a[0]+"\n",o=1;o<a.length;++o)i+="Reply:\n    "+a[o]+"\n";t.push(nye("t",Zge(i)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Mwe(e,t,n){var r=[jge,aye("ThreadedComments",null,{xmlns:oye.TCMNT}).replace(/[\/]>/,">")];return e.forEach((function(e){var a="";(e[1]||[]).forEach((function(i,o){if(i.T){i.a&&-1==t.indexOf(i.a)&&t.push(i.a);var s={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==o?a=s.id:s.parentId=a,i.ID=s.id,i.a&&(s.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),r.push(aye("threadedComment",nye("text",i.t||""),s))}else delete i.ID}))})),r.push("</ThreadedComments>"),r.join("")}var Awe=fbe;function Iwe(e){var t=Gye(),n=[];return qye(t,628),qye(t,630),e.forEach((function(e){e[1].forEach((function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),qye(t,632,function(e){return pbe(e.slice(0,54))}(e.a)))}))})),qye(t,631),qye(t,633),e.forEach((function(e){e[1].forEach((function(r){r.iauthor=n.indexOf(r.a);var a={s:nbe(e[0]),e:nbe(e[0])};qye(t,635,function(e,t){return null==t&&(t=Hye(36)),t.write_shift(4,e[1].iauthor),Dbe(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([a,r])),r.t&&r.t.length>0&&qye(t,637,ybe(r)),qye(t,636),delete r.iauthor}))})),qye(t,634),qye(t,629),t.end()}var Nwe=["xlsb","xlsm","xlam","biff8","xla"];var Rwe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,a){var i=!1,o=!1;0==r.length?o=!0:"["==r.charAt(0)&&(o=!0,r=r.slice(1,-1)),0==a.length?i=!0:"["==a.charAt(0)&&(i=!0,a=a.slice(1,-1));var s=r.length>0?0|parseInt(r,10):0,l=a.length>0?0|parseInt(a,10):0;return i?l+=t.c:--l,o?s+=t.r:--s,n+(i?"":"$")+tbe(l)+(o?"":"$")+Qye(s)}return function(r,a){return t=a,r.replace(e,n)}}(),Owe=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Dwe=function(){return function(e,t){return e.replace(Owe,(function(e,n,r,a,i,o){var s=ebe(a)-(r?0:t.c),l=$ye(o)-(i?0:t.r);return n+"R"+(0==l?"":i?l+1:"["+l+"]")+"C"+(0==s?"":r?s+1:"["+s+"]")}))}}();function Pwe(e,t){return e.replace(Owe,(function(e,n,r,a,i,o){return n+("$"==r?r+a:tbe(ebe(a)+t.c))+("$"==i?i+o:Qye($ye(o)+t.r))}))}function Lwe(e){e.l+=1}function Fwe(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function jwe(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return zwe(e);12==n.biff&&(r=4)}var a=e.read_shift(r),i=e.read_shift(r),o=Fwe(e,2),s=Fwe(e,2);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function zwe(e){var t=Fwe(e,2),n=Fwe(e,2),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function Bwe(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=Fwe(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),a=Fwe(e,2);return{r:r,c:a[0],cRel:a[1],rRel:a[2]}}function Uwe(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function Wwe(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function Zwe(e){return[e.read_shift(1),e.read_shift(1)]}function Vwe(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=pxe(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=Hbe[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Pbe(e);break;case 2:n[1]=Sxe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Hwe(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),a=[],i=0;i!=r;++i)a.push((12==n.biff?Obe:Axe)(e,8));return a}function Gwe(e,t,n){var r=0,a=0;12==n.biff?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--a&&(a=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var s=0;s!=a;++s)o[i][s]=Vwe(e,n.biff);return o}function qwe(e,t,n){return e.l+=2,[Uwe(e)]}function Xwe(e){return e.l+=6,[]}function Ywe(e){return e.l+=2,[vxe(e),1&e.read_shift(2)]}var Kwe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var Jwe={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:Vye},3:{n:"PtgAdd",f:Lwe},4:{n:"PtgSub",f:Lwe},5:{n:"PtgMul",f:Lwe},6:{n:"PtgDiv",f:Lwe},7:{n:"PtgPower",f:Lwe},8:{n:"PtgConcat",f:Lwe},9:{n:"PtgLt",f:Lwe},10:{n:"PtgLe",f:Lwe},11:{n:"PtgEq",f:Lwe},12:{n:"PtgGe",f:Lwe},13:{n:"PtgGt",f:Lwe},14:{n:"PtgNe",f:Lwe},15:{n:"PtgIsect",f:Lwe},16:{n:"PtgUnion",f:Lwe},17:{n:"PtgRange",f:Lwe},18:{n:"PtgUplus",f:Lwe},19:{n:"PtgUminus",f:Lwe},20:{n:"PtgPercent",f:Lwe},21:{n:"PtgParen",f:Lwe},22:{n:"PtgMissArg",f:Lwe},23:{n:"PtgStr",f:function(e,t,n){return e.l++,bxe(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,Hbe[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,Pbe(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[vke[a],mke[a],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],a=e.read_shift(1),i=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[a,(0===i[0]?mke:pke)[i[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,i=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,i]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,Bwe(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,jwe(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:Vye},40:{n:"PtgMemNoMem",f:Vye},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,a=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==a&&n>=128&&(n-=256),{r:t,c:n,cRel:a,rRel:r}}(e);var a=e.read_shift(r>=12?4:2),i=e.read_shift(2),o=(16384&i)>>14,s=(32768&i)>>15;if(i&=16383,1==s)for(;a>524287;)a-=1048576;if(1==o)for(;i>8191;)i-=16384;return{r:a,c:i,cRel:o,rRel:s}}(e,0,n);return[r,a]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=function(e,t,n){if(n.biff<8)return zwe(e);var r=e.read_shift(12==n.biff?4:2),a=e.read_shift(12==n.biff?4:2),i=Fwe(e,2),o=Fwe(e,2);return{s:{r:r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}(e,0,n);return[r,a]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,a,Bwe(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12,6;break;case 12:12}return[r,a,jwe(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6}return e.l+=i,[r,a]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12}return e.l+=i,[r,a]}},255:{}},$we={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Qwe={1:{n:"PtgElfLel",f:Ywe},2:{n:"PtgElfRw",f:qwe},3:{n:"PtgElfCol",f:qwe},6:{n:"PtgElfRwV",f:qwe},7:{n:"PtgElfColV",f:qwe},10:{n:"PtgElfRadical",f:qwe},11:{n:"PtgElfRadicalS",f:Xwe},13:{n:"PtgElfColS",f:Xwe},15:{n:"PtgElfColSV",f:Xwe},16:{n:"PtgElfRadicalLel",f:Ywe},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2);return{ixti:t,coltype:3&n,rt:Kwe[n>>2&31],idx:r,c:a,C:i}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},eke={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),a=[],i=0;i<=r;++i)a.push(e.read_shift(n&&2==n.biff?1:2));return a}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:Wwe},33:{n:"PtgAttrBaxcel",f:Wwe},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),Zwe(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),Zwe(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function tke(e,t,n,r){if(r.biff<8)return Vye(e,t);for(var a=e.l+t,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=Gwe(e,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=Hwe(e,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&12==r.biff&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return 0!==(t=a-e.l)&&i.push(Vye(e,t)),i}function nke(e,t,n){for(var r,a,i=e.l+t,o=[];i!=e.l;)t=i-e.l,a=e[e.l],r=Jwe[a]||Jwe[$we[a]],24!==a&&25!==a||(r=(24===a?Qwe:eke)[e[e.l+1]]),r&&r.f?o.push([r.n,r.f(e,t,n)]):Vye(e,t);return o}function rke(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],i=0;i<r.length;++i){var o=r[i];if(o)if(2===o[0])a.push('"'+o[1].replace(/"/g,'""')+'"');else a.push(o[1]);else a.push("")}t.push(a.join(","))}return t.join(";")}var ake={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ike(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[r[0]][0][3]?(a=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function oke(e,t,n){var r=ike(e,t,n);return"#REF"==r?r:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function ske(e,t,n,r,a){var i,o,s,l,u=a&&a.biff||8,c={s:{c:0,r:0},e:{c:0,r:0}},d=[],h=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",g=0,y=e[0].length;g<y;++g){var b=e[0][g];switch(b[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(i=d.pop(),o=d.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=Rge(" ",e[0][m][1][1]);break;case 1:v=Rge("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}o+=v,m=-1}d.push(o+ake[b[0]]+i);break;case"PtgIsect":i=d.pop(),o=d.pop(),d.push(o+" "+i);break;case"PtgUnion":i=d.pop(),o=d.pop(),d.push(o+","+i);break;case"PtgRange":i=d.pop(),o=d.pop(),d.push(o+":"+i);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":s=Xye(b[1][1],c,a),d.push(Kye(s,u));break;case"PtgRefN":s=n?Xye(b[1][1],n,a):b[1][1],d.push(Kye(s,u));break;case"PtgRef3d":h=b[1][1],s=Xye(b[1][2],c,a);p=oke(r,h,a);d.push(p+"!"+Kye(s,u));break;case"PtgFunc":case"PtgFuncVar":var x=b[1][0],w=b[1][1];x||(x=0);var k=0==(x&=127)?[]:d.slice(-x);d.length-=x,"User"===w&&(w=k.shift()),d.push(w+"("+k.join(",")+")");break;case"PtgBool":d.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":d.push(b[1]);break;case"PtgNum":d.push(String(b[1]));break;case"PtgStr":d.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=Yye(b[1][1],n?{s:n}:c,a),d.push(Jye(l,a));break;case"PtgArea":l=Yye(b[1][1],c,a),d.push(Jye(l,a));break;case"PtgArea3d":h=b[1][1],l=b[1][2],p=oke(r,h,a),d.push(p+"!"+Jye(l,a));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgName":f=b[1][2];var S=(r.names||[])[f-1]||(r[0]||[])[f],T=S?S.Name:"SH33TJSNAME"+String(f);T&&"_xlfn."==T.slice(0,6)&&!a.xlfn&&(T=T.slice(6)),d.push(T);break;case"PtgNameX":var E,C=b[1][1];if(f=b[1][2],!(a.biff<=5)){var _="";if(14849==((r[C]||[])[0]||[])[0]||(1025==((r[C]||[])[0]||[])[0]?r[C][f]&&r[C][f].itab>0&&(_=r.SheetNames[r[C][f].itab-1]+"!"):_=r.SheetNames[f-1]+"!"),r[C]&&r[C][f])_+=r[C][f].Name;else if(r[0]&&r[0][f])_+=r[0][f].Name;else{var M=(ike(r,C,a)||"").split(";;");M[f-1]?_=M[f-1]:_+="SH33TJSERRX"}d.push(_);break}C<0&&(C=-C),r[C]&&(E=r[C][f]),E||(E={Name:"SH33TJSERRY"}),d.push(E.Name);break;case"PtgParen":var A="(",I=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:A=Rge(" ",e[0][m][1][1])+A;break;case 3:A=Rge("\r",e[0][m][1][1])+A;break;case 4:I=Rge(" ",e[0][m][1][1])+I;break;case 5:I=Rge("\r",e[0][m][1][1])+I;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}d.push(A+d.pop()+I);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":d.push("#REF!");break;case"PtgExp":s={c:b[1][1],r:b[1][0]};var N={c:n.c,r:n.r};if(r.sharedf[rbe(s)]){var R=r.sharedf[rbe(s)];d.push(ske(R,c,N,r,a))}else{var O=!1;for(i=0;i!=r.arrayf.length;++i)if(o=r.arrayf[i],!(s.c<o[0].s.c||s.c>o[0].e.c)&&!(s.r<o[0].s.r||s.r>o[0].e.r)){d.push(ske(o[1],c,N,r,a)),O=!0;break}O||d.push(b[1])}break;case"PtgArray":d.push("{"+rke(b[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=g;break;case"PtgMissArg":d.push("");break;case"PtgList":d.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(b))}if(3!=a.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][g][0])){var D=!0;switch((b=e[0][m])[1][0]){case 4:D=!1;case 0:v=Rge(" ",b[1][1]);break;case 5:D=!1;case 1:v=Rge("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}d.push((D?v:"")+d.pop()+(D?"":v)),m=-1}}if(d.length>1&&a.WTF)throw new Error("bad formula stack");return d[0]}function lke(e,t,n,r,a){var i=_xe(t,n,a),o=function(e){if(null==e){var t=Hye(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return Lbe("number"==typeof e?e:0)}(e.v),s=Hye(6);s.write_shift(2,33),s.write_shift(4,0);for(var l=Hye(e.bf.length),u=0;u<e.bf.length;++u)l[u]=e.bf[u];return vve([i,o,s,l])}function uke(e,t,n){var r=e.read_shift(4),a=nke(e,r,n),i=e.read_shift(4);return[a,i>0?tke(e,i,a,n):null]}var cke=uke,dke=uke,hke=uke,fke=uke,pke={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},mke={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},vke={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function gke(e){return("of:="+e.replace(Owe,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function yke(e){return e.replace(/\./,"!")}var bke="undefined"!==typeof Map;function xke(e,t,n){var r=0,a=e.length;if(n){if(bke?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var i=bke?n.get(t):n[t];r<i.length;++r)if(e[i[r]].t===t)return e.Count++,i[r]}else for(;r<a;++r)if(e[r].t===t)return e.Count++,r;return e[a]={t:t},e.Count++,e.Unique++,n&&(bke?(n.has(t)||n.set(t,[]),n.get(t).push(a)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(a))),a}function wke(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(ewe=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=nwe(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=rwe(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function kke(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function Ske(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],a=60,i=e.length;if(null==r&&n.ssf)for(;a<392;++a)if(null==n.ssf[a]){sge(t.z,a),n.ssf[a]=t.z,n.revssf[t.z]=r=a;break}for(a=0;a!=i;++a)if(e[a].numFmtId===r)return a;return e[i]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Tke(e,t,n){if(e&&e["!ref"]){var r=obe(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var Eke=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Cke=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function _ke(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var a="",i=e.t,o=e.v;if("z"!==e.t)switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Hbe[e.v];break;case"d":r&&r.cellDates?a=Age(e.v,-1).toISOString():((e=Nge(e)).t="n",a=""+(e.v=wge(Age(e.v)))),"undefined"===typeof e.z&&(e.z=Mve[14]);break;default:a=e.v}var s=nye("v",Zge(a)),l={r:t},u=Ske(r.cellXfs,e,r);switch(0!==u&&(l.s=u),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){s=nye("v",""+xke(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str"}if(e.t!=i&&(e.t=i,e.v=o),"string"==typeof e.f&&e.f){var c=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=aye("f",Zge(e.f),c)+(null!=e.v?s:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),aye("c",s,l)}function Mke(e,t,n,r){var a,i=[jge,aye("worksheet",null,{xmlns:sye[0],"xmlns:r":oye.r})],o=n.SheetNames[e],s="",l=n.Sheets[o];null==l&&(l={});var u=l["!ref"]||"A1",c=obe(u);if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),u=ibe(c)}r||(r={}),l["!comments"]=[];var d=[];!function(e,t,n,r,a){var i=!1,o={},s=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(d4){}i=!0,o.codeName=Qge(Zge(l))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),s=(s||"")+aye("outlinePr",null,u)}(i||s)&&(a[a.length]=aye("sheetPr",s,o))}(l,n,e,t,i),i[i.length]=aye("dimension",null,{ref:u}),i[i.length]=function(e,t,n,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),aye("sheetViews",aye("sheetView",null,a),{})}(0,0,0,n),t.sheetFormat&&(i[i.length]=aye("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(i[i.length]=function(e,t){for(var n,r=["<cols>"],a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=aye("col",null,wke(a,n)));return r[r.length]="</cols>",r.join("")}(0,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(s=function(e,t,n,r){var a,i,o=[],s=[],l=obe(e["!ref"]),u="",c="",d=[],h=0,f=0,p=e["!rows"],m=Array.isArray(e),v={r:c},g=-1;for(f=l.s.c;f<=l.e.c;++f)d[f]=tbe(f);for(h=l.s.r;h<=l.e.r;++h){for(s=[],c=Qye(h),f=l.s.c;f<=l.e.c;++f){a=d[f]+c;var y=m?(e[h]||[])[f]:e[a];void 0!==y&&null!=(u=_ke(y,a,e,t))&&s.push(u)}(s.length>0||p&&p[h])&&(v={r:c},p&&p[h]&&((i=p[h]).hidden&&(v.hidden=1),g=-1,i.hpx?g=owe(i.hpx):i.hpt&&(g=i.hpt),g>-1&&(v.ht=g,v.customHeight=1),i.level&&(v.outlineLevel=i.level)),o[o.length]=aye("row",s.join(""),v))}if(p)for(;h<p.length;++h)p&&p[h]&&(v={r:h+1},(i=p[h]).hidden&&(v.hidden=1),g=-1,i.hpx?g=owe(i.hpx):i.hpt&&(g=i.hpt),g>-1&&(v.ht=g,v.customHeight=1),i.level&&(v.outlineLevel=i.level),o[o.length]=aye("row","",v));return o.join("")}(l,t,0,0),s.length>0&&(i[i.length]=s)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=function(e){var t={sheet:1};return Eke.forEach((function(n){null!=e[n]&&e[n]&&(t[n]="1")})),Cke.forEach((function(n){null==e[n]||e[n]||(t[n]="0")})),e.password&&(t.password=Kxe(e.password).toString(16).toUpperCase()),aye("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(i[i.length]=function(e,t,n,r){var a="string"==typeof e.ref?e.ref:ibe(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=abe(a);o.s.r==o.e.r&&(o.e.r=abe(t["!ref"]).e.r,a=ibe(o));for(var s=0;s<i.length;++s){var l=i[s];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+a;break}}return s==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),aye("autoFilter",null,{ref:a})}(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(i[i.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+ibe(e[n])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var h,f,p=-1,m=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(m=$be(r,-1,Zge(e[1].Target).replace(/#.*$/,""),Ybe.HLINK),h["r:id"]="rId"+m),(p=e[1].Target.indexOf("#"))>-1&&(h.location=Zge(e[1].Target.slice(p+1))),e[1].Tooltip&&(h.tooltip=Zge(e[1].Tooltip)),i[i.length]=aye("hyperlink",null,h))})),i[i.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(i[i.length]=(kke(f=l["!margins"]),aye("pageMargins",null,f))),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(i[i.length]=nye("ignoredErrors",aye("ignoredError",null,{numberStoredAsText:1,sqref:u}))),d.length>0&&(m=$be(r,-1,"../drawings/drawing"+(e+1)+".xml",Ybe.DRAW),i[i.length]=aye("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=d),l["!comments"].length>0&&(m=$be(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ybe.VML),i[i.length]=aye("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Ake(e,t,n,r){var a=function(e,t,n){var r=Hye(145),a=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var i=320;a.hpx?i=20*owe(a.hpx):a.hpt&&(i=20*a.hpt),r.write_shift(2,i),r.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var s=0,l=r.l;r.l+=4;for(var u={r:e,c:0},c=0;c<16;++c)if(!(t.s.c>c+1<<10||t.e.c<c<<10)){for(var d=-1,h=-1,f=c<<10;f<c+1<<10;++f)u.c=f,(Array.isArray(n)?(n[u.r]||[])[u.c]:n[rbe(u)])&&(d<0&&(d=f),h=f);d<0||(++s,r.write_shift(4,d),r.write_shift(4,h))}var p=r.l;return r.l=l,r.write_shift(4,s),r.l=p,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(a.length>17||(t["!rows"]||[])[r])&&qye(e,0,a)}var Ike=Obe,Nke=Dbe;function Rke(e){return[wbe(e),Pbe(e),"n"]}var Oke=Obe,Dke=Dbe;var Pke=["left","right","top","bottom","header","footer"];function Lke(e,t,n,r,a,i,o){if(void 0===t.v)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":(t=Nge(t)).z=t.z||Mve[14],t.v=wge(Age(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v}var l={r:n,c:r};switch(l.s=Ske(a.cellXfs,t,a),t.l&&i["!links"].push([rbe(l),t.l]),t.c&&i["!comments"].push([rbe(l),t.c]),t.t){case"s":case"str":return a.bookSST?(s=xke(a.Strings,t.v,a.revStrings),l.t="s",l.v=s,o?qye(e,18,function(e,t,n){return null==n&&(n=Hye(8)),kbe(t,n),n.write_shift(4,t.v),n}(0,l)):qye(e,7,function(e,t,n){return null==n&&(n=Hye(12)),xbe(t,n),n.write_shift(4,t.v),n}(0,l))):(l.t="str",o?qye(e,17,function(e,t,n){return null==n&&(n=Hye(8+4*e.v.length)),kbe(t,n),pbe(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l)):qye(e,6,function(e,t,n){return null==n&&(n=Hye(12+4*e.v.length)),xbe(t,n),pbe(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?o?qye(e,13,function(e,t,n){return null==n&&(n=Hye(8)),kbe(t,n),Nbe(e.v,n),n}(t,l)):qye(e,2,function(e,t,n){return null==n&&(n=Hye(12)),xbe(t,n),Nbe(e.v,n),n}(t,l)):o?qye(e,16,function(e,t,n){return null==n&&(n=Hye(12)),kbe(t,n),Lbe(e.v,n),n}(t,l)):qye(e,5,function(e,t,n){return null==n&&(n=Hye(16)),xbe(t,n),Lbe(e.v,n),n}(t,l)),!0;case"b":return l.t="b",o?qye(e,15,function(e,t,n){return null==n&&(n=Hye(5)),kbe(t,n),n.write_shift(1,e.v?1:0),n}(t,l)):qye(e,4,function(e,t,n){return null==n&&(n=Hye(9)),xbe(t,n),n.write_shift(1,e.v?1:0),n}(t,l)),!0;case"e":return l.t="e",o?qye(e,14,function(e,t,n){return null==n&&(n=Hye(8)),kbe(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,l)):qye(e,3,function(e,t,n){return null==n&&(n=Hye(9)),xbe(t,n),n.write_shift(1,e.v),n}(t,l)),!0}return o?qye(e,12,function(e,t,n){return null==n&&(n=Hye(4)),kbe(t,n)}(0,l)):qye(e,1,function(e,t,n){return null==n&&(n=Hye(8)),xbe(t,n)}(0,l)),!0}function Fke(e,t){t&&t["!merges"]&&(qye(e,177,function(e,t){return null==t&&(t=Hye(4)),t.write_shift(4,e),t}(t["!merges"].length)),t["!merges"].forEach((function(t){qye(e,176,Dke(t))})),qye(e,178))}function jke(e,t){t&&t["!cols"]&&(qye(e,390),t["!cols"].forEach((function(t,n){t&&qye(e,60,function(e,t,n){null==n&&(n=Hye(18));var r=wke(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var a=0;return t.hidden&&(a|=1),"number"==typeof r.width&&(a|=2),t.level&&(a|=t.level<<8),n.write_shift(2,a),n}(n,t))})),qye(e,391))}function zke(e,t){t&&t["!ref"]&&(qye(e,648),qye(e,649,function(e){var t=Hye(24);return t.write_shift(4,4),t.write_shift(4,1),Dbe(e,t),t}(obe(t["!ref"]))),qye(e,650))}function Bke(e,t,n){t["!links"].forEach((function(t){if(t[1].Target){var r=$be(n,-1,t[1].Target.replace(/#.*$/,""),Ybe.HLINK);qye(e,494,function(e,t){var n=Hye(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Dbe({s:nbe(e[0]),e:nbe(e[0])},n),Abe("rId"+t,n);var r=e[1].Target.indexOf("#");return pbe((-1==r?"":e[1].Target.slice(r+1))||"",n),pbe(e[1].Tooltip||"",n),pbe("",n),n.slice(0,n.l)}(t,r))}})),delete t["!links"]}function Uke(e,t,n){qye(e,133),qye(e,137,function(e,t,n){null==n&&(n=Hye(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),qye(e,138),qye(e,134)}function Wke(e,t){t["!protect"]&&qye(e,535,function(e,t){return null==t&&(t=Hye(66)),t.write_shift(2,e.password?Kxe(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(n){n[1]?t.write_shift(4,null==e[n[0]]||e[n[0]]?0:1):t.write_shift(4,null!=e[n[0]]&&e[n[0]]?0:1)})),t}(t["!protect"]))}function Zke(e,t,n,r){var a=Gye(),i=n.SheetNames[e],o=n.Sheets[i]||{},s=i;try{n&&n.Workbook&&(s=n.Workbook.Sheets[e].CodeName||s)}catch(d4){}var l=obe(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],qye(a,129),(n.vbaraw||o["!outline"])&&qye(a,147,function(e,t,n){null==n&&(n=Hye(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var a=1;a<3;++a)n.write_shift(1,0);return Fbe({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),Tbe(e,n),n.slice(0,n.l)}(s,o["!outline"])),qye(a,148,Nke(l)),Uke(a,0,n.Workbook),jke(a,o),function(e,t,n,r){var a,i=obe(t["!ref"]||"A1"),o="",s=[];qye(e,145);var l=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var c=i.s.r;c<=u;++c){o=Qye(c),Ake(e,t,i,c);var d=!1;if(c<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){c===i.s.r&&(s[h]=tbe(h)),a=s[h]+o;var f=l?(t[c]||[])[h]:t[a];d=!!f&&Lke(e,f,c,h,r,t,d)}}qye(e,146)}(a,o,0,t),Wke(a,o),function(e,t,n,r){if(t["!autofilter"]){var a=t["!autofilter"],i="string"===typeof a.ref?a.ref:ibe(a.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,s=abe(i);s.s.r==s.e.r&&(s.e.r=abe(t["!ref"]).e.r,i=ibe(s));for(var l=0;l<o.length;++l){var u=o[l];if("_xlnm._FilterDatabase"==u.Name&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+i;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),qye(e,161,Dbe(obe(i))),qye(e,162)}}(a,o,n,e),Fke(a,o),Bke(a,o,r),o["!margins"]&&qye(a,476,function(e,t){return null==t&&(t=Hye(48)),kke(e),Pke.forEach((function(n){Lbe(e[n],t)})),t}(o["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||zke(a,o),function(e,t,n,r){if(t["!comments"].length>0){var a=$be(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Ybe.VML);qye(e,551,Abe("rId"+a)),t["!legacy"]=a}}(a,o,e,r),qye(a,130),a.end()}var Vke=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];var Hke="][*?/\\".split("");function Gke(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return Hke.forEach((function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}})),n}function qke(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];!function(e,t,n){e.forEach((function(r,a){Gke(r);for(var i=0;i<a;++i)if(r==e[i])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[a]&&t[a].CodeName||r;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}}))}(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)Tke(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function Xke(e){var t=[jge];t[t.length]=aye("workbook",null,{xmlns:sye[0],"xmlns:r":oye.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Vke.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=aye("workbookPr",null,r);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&a[i]&&a[i].Hidden;++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Zge(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}t[t.length]=aye("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=aye("definedName",Zge(e.Ref),n))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Yke(e,t){return t||(t=Hye(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Abe(e.strRelID,t),pbe(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Kke(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n=t.Workbook.Sheets,r=0,a=-1,i=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&-1==a?a=r:1==n[r].Hidden&&-1==i&&(i=r);i>a||(qye(e,135),qye(e,158,function(e,t){return t||(t=Hye(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e),t.write_shift(1,120),t.length>t.l?t.slice(0,t.l):t}(a)),qye(e,136))}}function Jke(e,t){var n=Gye();return qye(n,131),qye(n,128,function(e,t){t||(t=Hye(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return pbe("SheetJS",t),pbe(qme.version,t),pbe(qme.version,t),pbe("7262",t),t.length>t.l?t.slice(0,t.l):t}()),qye(n,153,function(e,t){t||(t=Hye(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),Tbe(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),Kke(n,e),function(e,t){qye(e,143);for(var n=0;n!=t.SheetNames.length;++n)qye(e,156,Yke({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]}));qye(e,144)}(n,e),qye(n,132),n.end()}function $ke(e,t,n,r,a){return(".bin"===t.slice(-4)?Zke:Mke)(e,n,r,a)}function Qke(e,t,n){return(".bin"===t.slice(-4)?Iwe:_we)(e,n)}function eSe(e,t){var n=[];return e.Props&&n.push(function(e,t){var n=[];return vge(lxe).map((function(e){for(var t=0;t<txe.length;++t)if(txe[t][1]==e)return txe[t];for(t=0;t<axe.length;++t)if(axe[t][1]==e)return axe[t];throw e})).forEach((function(r){if(null!=e[r[1]]){var a=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof a?a=String(a):!0===a||!1===a?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),n.push(nye(lxe[r[1]]||r[1],a))}})),aye("DocumentProperties",n.join(""),{xmlns:lye.o})}(e.Props,t)),e.Custprops&&n.push(function(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return e&&vge(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<txe.length;++r)if(t==txe[r][1])return;for(r=0;r<axe.length;++r)if(t==axe[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var i=e[t],o="string";"number"==typeof i?(o="float",i=String(i)):!0===i||!1===i?(o="boolean",i=i?"1":"0"):i=String(i),a.push(aye(Vge(t),i,{"dt:dt":o}))}})),t&&vge(t).forEach((function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],i="string";"number"==typeof r?(i="float",r=String(r)):!0===r||!1===r?(i="boolean",r=r?"1":"0"):r instanceof Date?(i="dateTime.tz",r=r.toISOString()):r=String(r),a.push(aye(Vge(n),r,{"dt:dt":i}))}})),"<"+r+' xmlns="'+lye.o+'">'+a.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}function tSe(e){return aye("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Dwe(e.Ref,{r:0,c:0})})}function nSe(e,t,n,r,a,i,o){if(!e||void 0==e.v&&void 0==e.f)return"";var s={};if(e.f&&(s["ss:Formula"]="="+Zge(Dwe(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=nbe(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=Zge(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=Zge(e.l.Tooltip))),n["!merges"])for(var u=n["!merges"],c=0;c!=u.length;++c)u[c].s.c==o.c&&u[c].s.r==o.r&&(u[c].e.c>u[c].s.c&&(s["ss:MergeAcross"]=u[c].e.c-u[c].s.c),u[c].e.r>u[c].s.r&&(s["ss:MergeDown"]=u[c].e.r-u[c].s.r));var d="",h="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=Hbe[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||Mve[14]);break;case"s":d="String",h=((e.v||"")+"").replace(Uge,(function(e){return Bge[e]})).replace(Hge,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var f=Ske(r.cellXfs,e,r);s["ss:StyleID"]="s"+(21+f),s["ss:Index"]=o.c+1;var p=null!=e.v?h:"",m="z"==e.t?"":'<Data ss:Type="'+d+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map((function(e){var t=aye("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return aye("Comment",t,{"ss:Author":e.a})})).join("")),aye("Cell",m,s)}function rSe(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=swe(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function aSe(e,t,n){var r=[],a=n.SheetNames[e],i=n.Sheets[a],o=i?function(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,i=[],o=0;o<a.length;++o){var s=a[o];s.Sheet==n&&(s.Name.match(/^_xlfn\./)||i.push(tSe(s)))}return i.join("")}(i,0,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=i?function(e,t,n,r){if(!e["!ref"])return"";var a=obe(e["!ref"]),i=e["!merges"]||[],o=0,s=[];e["!cols"]&&e["!cols"].forEach((function(e,t){awe(e);var n=!!e.width,r=wke(t,e),a={"ss:Index":t+1};n&&(a["ss:Width"]=twe(r.width)),e.hidden&&(a["ss:Hidden"]="1"),s.push(aye("Column",null,a))}));for(var l=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var c=[rSe(u,(e["!rows"]||[])[u])],d=a.s.c;d<=a.e.c;++d){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>d)&&!(i[o].s.r>u)&&!(i[o].e.c<d)&&!(i[o].e.r<u)){i[o].s.c==d&&i[o].s.r==u||(h=!0);break}if(!h){var f={r:u,c:d},p=rbe(f),m=l?(e[u]||[])[d]:e[p];c.push(nSe(m,p,e,t,0,0,f))}}c.push("</Row>"),c.length>2&&s.push(c.join(""))}return s.join("")}(i,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(function(e,t,n,r){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(aye("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(aye("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(aye("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)a.push(aye("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<n&&(!r.Workbook.Sheets[i]||r.Workbook.Sheets[i].Hidden);++i);i==n&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(nye("ProtectContents","True")),e["!protect"].objects&&a.push(nye("ProtectObjects","True")),e["!protect"].scenarios&&a.push(nye("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||a.push(nye("EnableSelection","UnlockedCells")):a.push(nye("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&a.push("<"+t[1]+"/>")}))),0==a.length?"":aye("WorksheetOptions",a.join(""),{xmlns:lye.x})}(i,0,e,n)),r.join("")}function iSe(e,t){t||(t={}),e.SSF||(e.SSF=Nge(Mve)),e.SSF&&(uge(),lge(e.SSF),t.revssf=bge(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ske(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(eSe(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(aye("Worksheet",aSe(r,t,e),{"ss:Name":Zge(e.SheetNames[r])}));return n[2]=function(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var r=[];r.push(aye("NumberFormat",null,{"ss:Format":Zge(Mve[e.numFmtId])}));var a={"ss:ID":"s"+(21+t)};n.push(aye("Style",r.join(""),a))})),aye("Styles",n.join(""))}(0,t),n[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var a=t[r];null==a.Sheet&&(a.Name.match(/^_xlfn\./)||n.push(tSe(a)))}return aye("Names",n.join(""))}(e),jge+aye("Workbook",n.join(""),{xmlns:lye.ss,"xmlns:o":lye.o,"xmlns:x":lye.x,"xmlns:ss":lye.ss,"xmlns:dt":lye.dt,"xmlns:html":lye.html})}var oSe={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function sSe(e,t){var n=t||{},r=hge.utils.cfb_new({root:"R"}),a="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":a="/Workbook",n.biff=8;break;case"biff5":a="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return hge.utils.cfb_add(r,a,ySe(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function(e,t){var n,r=[],a=[],i=[],o=0,s=gge(Ube,"n"),l=gge(Wbe,"n");if(e.Props)for(n=vge(e.Props),o=0;o<n.length;++o)(Object.prototype.hasOwnProperty.call(s,n[o])?r:Object.prototype.hasOwnProperty.call(l,n[o])?a:i).push([n[o],e.Props[n[o]]]);if(e.Custprops)for(n=vge(e.Custprops),o=0;o<n.length;++o)Object.prototype.hasOwnProperty.call(e.Props||{},n[o])||(Object.prototype.hasOwnProperty.call(s,n[o])?r:Object.prototype.hasOwnProperty.call(l,n[o])?a:i).push([n[o],e.Custprops[n[o]]]);var u=[];for(o=0;o<i.length;++o)cxe.indexOf(i[o][0])>-1||ixe.indexOf(i[o][0])>-1||null!=i[o][1]&&u.push(i[o]);a.length&&hge.utils.cfb_add(t,"/\x05SummaryInformation",fxe(a,oSe.SI,l,Wbe)),(r.length||u.length)&&hge.utils.cfb_add(t,"/\x05DocumentSummaryInformation",fxe(r,oSe.DSI,s,Ube,u.length?u:null,oSe.UDI))}(e,r),8==n.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach((function(n,r){if(0!=r){var a=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==a.slice(-1)&&hge.utils.cfb_add(e,a,t.FileIndex[r].content)}}))}(r,hge.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var lSe={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=r,7&i&&(n.level=7&i),16&i&&(n.hidden=!0),32&i&&(n.hpt=a/20),n}},1:{f:function(e){return[bbe(e)]}},2:{f:function(e){return[bbe(e),Ibe(e),"n"]}},3:{f:function(e){return[bbe(e),e.read_shift(1),"e"]}},4:{f:function(e){return[bbe(e),e.read_shift(1),"b"]}},5:{f:function(e){return[bbe(e),Pbe(e),"n"]}},6:{f:function(e){return[bbe(e),fbe(e),"str"]}},7:{f:function(e){return[bbe(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,a=bbe(e);a.r=n["!row"];var i=[a,fbe(e),"str"];if(n.cellFormula){e.l+=2;var o=dke(e,r-e.l,n);i[3]=ske(o,0,a,n.supbooks,n)}else e.l=r;return i}},9:{f:function(e,t,n){var r=e.l+t,a=bbe(e);a.r=n["!row"];var i=[a,Pbe(e),"n"];if(n.cellFormula){e.l+=2;var o=dke(e,r-e.l,n);i[3]=ske(o,0,a,n.supbooks,n)}else e.l=r;return i}},10:{f:function(e,t,n){var r=e.l+t,a=bbe(e);a.r=n["!row"];var i=[a,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var o=dke(e,r-e.l,n);i[3]=ske(o,0,a,n.supbooks,n)}else e.l=r;return i}},11:{f:function(e,t,n){var r=e.l+t,a=bbe(e);a.r=n["!row"];var i=[a,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var o=dke(e,r-e.l,n);i[3]=ske(o,0,a,n.supbooks,n)}else e.l=r;return i}},12:{f:function(e){return[wbe(e)]}},13:{f:function(e){return[wbe(e),Ibe(e),"n"]}},14:{f:function(e){return[wbe(e),e.read_shift(1),"e"]}},15:{f:function(e){return[wbe(e),e.read_shift(1),"b"]}},16:{f:Rke},17:{f:function(e){return[wbe(e),fbe(e),"str"]}},18:{f:function(e){return[wbe(e),e.read_shift(4),"s"]}},19:{f:vbe},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=_be(e),o=hke(e,0,n),s=Ebe(e);e.l=r;var l={Name:i,Ptg:o};return a<268435455&&(l.Sheet=a),s&&(l.Comment=s),l}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var i=e.read_shift(1);0!=i&&(r.underline=i);var o=e.read_shift(1);o>0&&(r.family=o);var s=e.read_shift(1);switch(s>0&&(r.charset=s),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=Vbe[r];l&&(t.rgb=$xe(l));break;case 2:t.rgb=$xe([i,o,s]);break;case 3:t.theme=r}return 0!=a&&(t.tint=a>0?a/32767:a/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=fbe(e),r}},44:{f:function(e,t){return[e.read_shift(2),fbe(e)]}},45:{f:fwe},46:{f:gwe},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:jxe},62:{f:function(e){return[bbe(e),vbe(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=rbe(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Vye,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=Sbe(e,t-19),n}},148:{f:Ike,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?fbe(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=Mbe(e,t-8),n.name=fbe(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:Obe},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Oke},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:fbe(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Mbe},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Pxe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,a=Rbe(e),i=e.read_shift(1),o=[a];if(o[2]=i,n.cellFormula){var s=cke(e,r-e.l,n);o[1]=s}else e.l=r;return o}},427:{f:function(e,t,n){var r=e.l+t,a=[Obe(e,16)];if(n.cellFormula){var i=fke(e,r-e.l,n);a[1]=i,e.l=r}else e.l=r;return a}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return Pke.forEach((function(n){t[n]=Pbe(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=Obe(e,16),a=Ebe(e),i=fbe(e),o=fbe(e),s=fbe(e);e.l=n;var l={rfx:r,relId:a,loc:i,display:s};return o&&(l.Tooltip=o),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Mbe},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Awe},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=Obe(e,16);return t.rfx=n.s,t.ref=rbe(n.s),e.l+=16,t}},636:{T:-1},637:{f:gbe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:fbe(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function uSe(e,t,n,r){var a=t;if(!isNaN(a)){var i=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&Aye(n)&&e.push(n)}}function cSe(e,t,n){return e||(e=Hye(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function dSe(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var a="d"==t.t?wge(Age(t.v)):t.v;return void(a==(0|a)&&a>=0&&a<65536?uSe(e,2,function(e,t,n){var r=Hye(9);return cSe(r,e,t),r.write_shift(2,n),r}(n,r,a)):uSe(e,3,function(e,t,n){var r=Hye(15);return cSe(r,e,t),r.write_shift(8,n,"f"),r}(n,r,a)));case"b":case"e":return void uSe(e,5,function(e,t,n,r){var a=Hye(9);return cSe(a,e,t),yxe(n,r||"b",a),a}(n,r,t.v,t.t));case"s":case"str":return void uSe(e,4,function(e,t,n){var r=Hye(8+2*n.length);return cSe(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}uSe(e,1,cSe(null,n,r))}function hSe(e,t){var n=t||{};null!=ive&&null==n.dense&&(n.dense=ive);for(var r=Gye(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==n.sheet&&(a=i);if(0==a&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return uSe(r,4==n.biff?1033:3==n.biff?521:9,Nxe(0,16,n)),function(e,t,n,r){var a,i=Array.isArray(t),o=obe(t["!ref"]||"A1"),s="",l=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),a=ibe(o)}for(var u=o.s.r;u<=o.e.r;++u){s=Qye(u);for(var c=o.s.c;c<=o.e.c;++c){u===o.s.r&&(l[c]=tbe(c)),a=l[c]+s;var d=i?(t[u]||[])[c]:t[a];d&&dSe(e,d,u,c)}}}(r,e.Sheets[e.SheetNames[a]],0,n),uSe(r,10),r.end()}function fSe(e,t,n){uSe(e,49,function(e,t){var n=e.name||"Arial",r=t&&5==t.biff,a=Hye(r?15+n.length:16+2*n.length);return a.write_shift(2,20*(e.sz||12)),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function pSe(e,t){if(t){var n=0;t.forEach((function(t,r){++n<=256&&t&&uSe(e,125,function(e,t){var n=Hye(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}(wke(r,t),r))}))}}function mSe(e,t,n,r,a){var i=16+Ske(a.cellXfs,t,a);if(null!=t.v||t.bf)if(t.bf)uSe(e,6,lke(t,n,r,0,i));else switch(t.t){case"d":case"n":uSe(e,515,function(e,t,n,r){var a=Hye(14);return _xe(e,t,r,a),Lbe(n,a),a}(n,r,"d"==t.t?wge(Age(t.v)):t.v,i));break;case"b":case"e":uSe(e,517,function(e,t,n,r,a,i){var o=Hye(8);return _xe(e,t,r,o),yxe(n,i,o),o}(n,r,t.v,i,0,t.t));break;case"s":case"str":if(a.bookSST)uSe(e,253,function(e,t,n,r){var a=Hye(10);return _xe(e,t,r,a),a.write_shift(4,n),a}(n,r,xke(a.Strings,t.v,a.revStrings),i));else uSe(e,516,function(e,t,n,r,a){var i=!a||8==a.biff,o=Hye(+i+8+(1+i)*n.length);return _xe(e,t,r,o),o.write_shift(2,n.length),i&&o.write_shift(1,1),o.write_shift((1+i)*n.length,n,i?"utf16le":"sbcs"),o}(n,r,(t.v||"").slice(0,255),i,a));break;default:uSe(e,513,_xe(n,r,i))}else uSe(e,513,_xe(n,r,i))}function vSe(e,t,n){var r,a=Gye(),i=n.SheetNames[e],o=n.Sheets[i]||{},s=(n||{}).Workbook||{},l=(s.Sheets||[])[e]||{},u=Array.isArray(o),c=8==t.biff,d="",h=[],f=obe(o["!ref"]||"A1"),p=c?65536:16384;if(f.e.c>255||f.e.r>=p){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}uSe(a,2057,Nxe(0,16,t)),uSe(a,13,gxe(1)),uSe(a,12,gxe(100)),uSe(a,15,mxe(!0)),uSe(a,17,mxe(!1)),uSe(a,16,Lbe(.001)),uSe(a,95,mxe(!0)),uSe(a,42,mxe(!1)),uSe(a,43,mxe(!1)),uSe(a,130,gxe(1)),uSe(a,128,function(e){var t=Hye(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),uSe(a,131,mxe(!1)),uSe(a,132,mxe(!1)),c&&pSe(a,o["!cols"]),uSe(a,512,function(e,t){var n=8!=t.biff&&t.biff?2:4,r=Hye(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(f,t)),c&&(o["!links"]=[]);for(var m=f.s.r;m<=f.e.r;++m){d=Qye(m);for(var v=f.s.c;v<=f.e.c;++v){m===f.s.r&&(h[v]=tbe(v)),r=h[v]+d;var g=u?(o[m]||[])[v]:o[r];g&&(mSe(a,g,m,v,t),c&&g.l&&o["!links"].push([r,g.l]))}}var y=l.CodeName||l.name||i;return c&&uSe(a,574,function(e){var t=Hye(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((s.Views||[])[0])),c&&(o["!merges"]||[]).length&&uSe(a,229,function(e){var t=Hye(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)Ixe(e[n],t);return t}(o["!merges"])),c&&function(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];uSe(e,440,Lxe(r)),r[1].Tooltip&&uSe(e,2048,Fxe(r))}delete t["!links"]}(a,o),uSe(a,442,Txe(y)),c&&function(e,t){var n=Hye(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),uSe(e,2151,n),(n=Hye(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),Ixe(obe(t["!ref"]||"A1"),n),n.write_shift(4,4),uSe(e,2152,n)}(a,o),uSe(a,10),a.end()}function gSe(e,t,n){var r=Gye(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},s=8==n.biff,l=5==n.biff;(uSe(r,2057,Nxe(0,5,n)),"xla"==n.bookType&&uSe(r,135),uSe(r,225,s?gxe(1200):null),uSe(r,193,function(e,t){t||(t=Hye(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}(2)),l&&uSe(r,191),l&&uSe(r,192),uSe(r,226),uSe(r,92,function(e,t){var n=!t||8==t.biff,r=Hye(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),uSe(r,66,gxe(s?1200:1252)),s&&uSe(r,353,gxe(0)),s&&uSe(r,448),uSe(r,317,function(e){for(var t=Hye(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),s&&e.vbaraw&&uSe(r,211),s&&e.vbaraw)&&uSe(r,442,Txe(o.CodeName||"ThisWorkbook"));uSe(r,156,gxe(17)),uSe(r,25,mxe(!1)),uSe(r,18,mxe(!1)),uSe(r,19,gxe(0)),s&&uSe(r,431,mxe(!1)),s&&uSe(r,444,gxe(0)),uSe(r,61,function(){var e=Hye(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),uSe(r,64,mxe(!1)),uSe(r,141,gxe(0)),uSe(r,34,mxe("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&qge(e.Workbook.WBProps.date1904)?"true":"false"}(e))),uSe(r,14,mxe(!0)),s&&uSe(r,439,mxe(!1)),uSe(r,218,gxe(0)),fSe(r,0,n),function(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var a=r[0];a<=r[1];++a)null!=t[a]&&uSe(e,1054,Oxe(a,t[a],n))}))}(r,e.SSF,n),function(e,t){for(var n=0;n<16;++n)uSe(e,224,Dxe({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(n){uSe(e,224,Dxe(n,0,t))}))}(r,n),s&&uSe(r,352,mxe(!1));var u=r.end(),c=Gye();s&&uSe(c,140,function(e){return e||(e=Hye(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),s&&n.Strings&&function(e,t,n,r){var a=r||(n||[]).length||0;if(a<=8224)return uSe(e,t,n,a);var i=t;if(!isNaN(i)){for(var o=n.parts||[],s=0,l=0,u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;var c=e.next(4);for(c.write_shift(2,i),c.write_shift(2,u),e.push(n.slice(l,l+u)),l+=u;l<a;){for((c=e.next(4)).write_shift(2,60),u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;c.write_shift(2,u),e.push(n.slice(l,l+u)),l+=u}}}(c,252,function(e,t){var n=Hye(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],a=0;a<e.length;++a)r[a]=xxe(e[a]);var i=vve([n].concat(r));return i.parts=[n.length].concat(r.map((function(e){return e.length}))),i}(n.Strings)),uSe(c,10);var d=c.end(),h=Gye(),f=0,p=0;for(p=0;p<e.SheetNames.length;++p)f+=(s?12:11)+(s?2:1)*e.SheetNames[p].length;var m=u.length+f+d.length;for(p=0;p<e.SheetNames.length;++p){uSe(h,133,Rxe({pos:m,hs:(i[p]||{}).Hidden||0,dt:0,name:e.SheetNames[p]},n)),m+=t[p].length}var v=h.end();if(f!=v.length)throw new Error("BS8 "+f+" != "+v.length);var g=[];return u.length&&g.push(u),v.length&&g.push(v),d.length&&g.push(d),vve(g)}function ySe(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(r&&r["!ref"])abe(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}var a=t||{};switch(a.biff||2){case 8:case 5:return function(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Nge(Mve)),e&&e.SSF&&(uge(),lge(e.SSF),n.revssf=bge(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,XSe(n),n.cellXfs=[],Ske(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)r[r.length]=vSe(a,n,e);return r.unshift(gSe(e,r,n)),vve(r)}(e,t);case 4:case 3:case 2:return hSe(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function bSe(e,t,n,r){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>n||a[u].s.c>o)&&!(a[u].e.r<n||a[u].e.c<o)){if(a[u].s.r<n||a[u].s.c<o){s=-1;break}s=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(s<0)){var c=rbe({r:n,c:o}),d=r.dense?(e[n]||[])[o]:e[c],h=d&&null!=d.v&&(d.h||Gge(d.w||(lbe(d),d.w)||""))||"",f={};s>1&&(f.rowspan=s),l>1&&(f.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":d&&(f["data-t"]=d&&d.t||"z",null!=d.v&&(f["data-v"]=d.v),null!=d.z&&(f["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),f.id=(r.id||"sjs")+"-"+c,i.push(aye("td",h,f))}}return"<tr>"+i.join("")+"</tr>"}var xSe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',wSe="</body></html>";function kSe(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function SSe(e,t){var n=t||{},r=null!=n.header?n.header:xSe,a=null!=n.footer?n.footer:wSe,i=[r],o=abe(e["!ref"]);n.dense=Array.isArray(e),i.push(kSe(0,0,n));for(var s=o.s.r;s<=o.e.r;++s)i.push(bSe(e,o,s,n));return i.push("</table>"+a),i.join("")}function TSe(e,t,n){var r=n||{};null!=ive&&(r.dense=ive);var a=0,i=0;if(null!=r.origin)if("number"==typeof r.origin)a=r.origin;else{var o="string"==typeof r.origin?nbe(r.origin):r.origin;a=o.r,i=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var c=abe(e["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),-1==a&&(u.e.r=a=c.e.r+1)}var d=[],h=0,f=e["!rows"]||(e["!rows"]=[]),p=0,m=0,v=0,g=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&m<l;++p){var x=s[p];if(CSe(x)){if(r.display)continue;f[m]={hidden:!0}}var w=x.children;for(v=g=0;v<w.length;++v){var k=w[v];if(!r.display||!CSe(k)){var S=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):eye(k.innerHTML),T=k.getAttribute("data-z")||k.getAttribute("z");for(h=0;h<d.length;++h){var E=d[h];E.s.c==g+i&&E.s.r<m+a&&m+a<=E.e.r&&(g=E.e.c+1-i,h=-1)}b=+k.getAttribute("colspan")||1,((y=+k.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:m+a,c:g+i},e:{r:m+a+(y||1)-1,c:g+i+(b||1)-1}});var C={t:"s",v:S},_=k.getAttribute("data-t")||k.getAttribute("t")||"";null!=S&&(0==S.length?C.t=_||"z":r.raw||0==S.trim().length||"s"==_||("TRUE"===S?C={t:"b",v:!0}:"FALSE"===S?C={t:"b",v:!1}:isNaN(Oge(S))?isNaN(Pge(S).getDate())||(C={t:"d",v:Age(S)},r.cellDates||(C={t:"n",v:wge(C.v)}),C.z=r.dateNF||Mve[14]):C={t:"n",v:Oge(S)})),void 0===C.z&&null!=T&&(C.z=T);var M="",A=k.getElementsByTagName("A");if(A&&A.length)for(var I=0;I<A.length&&(!A[I].hasAttribute("href")||"#"==(M=A[I].getAttribute("href")).charAt(0));++I);M&&"#"!=M.charAt(0)&&(C.l={Target:M}),r.dense?(e[m+a]||(e[m+a]=[]),e[m+a][g+i]=C):e[rbe({c:g+i,r:m+a})]=C,u.e.c<g+i&&(u.e.c=g+i),g+=b}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=ibe(u),m>=l&&(e["!fullref"]=ibe((u.e.r=s.length-p+m-1+a,u))),e}function ESe(e,t){return TSe((t||{}).dense?[]:{},e,t)}function CSe(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var _Se=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+rye({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return jge+t}}(),MSe=function(){var e="          <table:table-cell />\n",t=function(t,n,r){var a=[];a.push('      <table:table table:name="'+Zge(n.SheetNames[r])+'" table:style-name="ta1">\n');var i=0,o=0,s=abe(t["!ref"]||"A1"),l=t["!merges"]||[],u=0,c=Array.isArray(t);if(t["!cols"])for(o=0;o<=s.e.c;++o)a.push("        <table:table-column"+(t["!cols"][o]?' table:style-name="co'+t["!cols"][o].ods+'"':"")+"></table:table-column>\n");var d="",h=t["!rows"]||[];for(i=0;i<s.s.r;++i)d=h[i]?' table:style-name="ro'+h[i].ods+'"':"",a.push("        <table:table-row"+d+"></table:table-row>\n");for(;i<=s.e.r;++i){for(d=h[i]?' table:style-name="ro'+h[i].ods+'"':"",a.push("        <table:table-row"+d+">\n"),o=0;o<s.s.c;++o)a.push(e);for(;o<=s.e.c;++o){var f=!1,p={},m="";for(u=0;u!=l.length;++u)if(!(l[u].s.c>o)&&!(l[u].s.r>i)&&!(l[u].e.c<o)&&!(l[u].e.r<i)){l[u].s.c==o&&l[u].s.r==i||(f=!0),p["table:number-columns-spanned"]=l[u].e.c-l[u].s.c+1,p["table:number-rows-spanned"]=l[u].e.r-l[u].s.r+1;break}if(f)a.push("          <table:covered-table-cell/>\n");else{var v=rbe({r:i,c:o}),g=c?(t[i]||[])[o]:t[v];if(g&&g.f&&(p["table:formula"]=Zge(gke(g.f)),g.F&&g.F.slice(0,v.length)==v)){var y=abe(g.F);p["table:number-matrix-columns-spanned"]=y.e.c-y.s.c+1,p["table:number-matrix-rows-spanned"]=y.e.r-y.s.r+1}if(g){switch(g.t){case"b":m=g.v?"TRUE":"FALSE",p["office:value-type"]="boolean",p["office:boolean-value"]=g.v?"true":"false";break;case"n":m=g.w||String(g.v||0),p["office:value-type"]="float",p["office:value"]=g.v||0;break;case"s":case"str":m=null==g.v?"":g.v,p["office:value-type"]="string";break;case"d":m=g.w||Age(g.v).toISOString(),p["office:value-type"]="date",p["office:date-value"]=Age(g.v).toISOString(),p["table:style-name"]="ce1";break;default:a.push(e);continue}var b=Zge(m).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(g.l&&g.l.Target){var x=g.l.Target;"#"==(x="#"==x.charAt(0)?"#"+yke(x.slice(1)):x).charAt(0)||x.match(/^\w+:/)||(x="../"+x),b=aye("text:a",b,{"xlink:href":x.replace(/&/g,"&amp;")})}a.push("          "+aye("table:table-cell",aye("text:p",b,{}),p)+"\n")}else a.push(e)}}a.push("        </table:table-row>\n")}return a.push("      </table:table>\n"),a.join("")};return function(e,n){var r=[jge],a=rye({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),i=rye({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==n.bookType?(r.push("<office:document"+a+i+">\n"),r.push(exe().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+a+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var a=t["!cols"][r];if(null==a.width&&null==a.wpx&&null==a.wch)continue;awe(a),a.ods=n;var i=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+i+'"/>\n'),e.push("  </style:style>\n"),++n}}));var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var a=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+a+'"/>\n'),e.push("  </style:style>\n"),++r}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var o=0;o!=e.SheetNames.length;++o)r.push(t(e.Sheets[e.SheetNames[o]],e,o));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==n.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function ASe(e,t){if("fods"==t.bookType)return MSe(e,t);var n=Fge(),r="",a=[],i=[];return Lge(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),Lge(n,r="content.xml",MSe(e,t)),a.push([r,"text/xml"]),i.push([r,"ContentFile"]),Lge(n,r="styles.xml",_Se(e,t)),a.push([r,"text/xml"]),i.push([r,"StylesFile"]),Lge(n,r="meta.xml",jge+exe()),a.push([r,"text/xml"]),i.push([r,"MetadataFile"]),Lge(n,r="manifest.rdf",function(e){var t,n,r=[jge];r.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var a=0;a!=e.length;++a)r.push(Qbe(e[a][0],e[a][1])),r.push((t="",n=e[a][0],['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+n+'"/>\n',"  </rdf:Description>\n"].join("")));return r.push(Qbe("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}(i)),a.push([r,"application/rdf+xml"]),Lge(n,r="META-INF/manifest.xml",function(e){var t=[jge];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(a)),n}function ISe(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function NSe(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):fve(Qge(e))}function RSe(e){var t=e.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(e,r),r+=e.length})),n}function OSe(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function DSe(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function PSe(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function LSe(e){for(var t=[],n=[0];n[0]<e.length;){var r,a=n[0],i=OSe(e,n),o=7&i,s=0;if(0==(i=Math.floor(i/8)))break;switch(o){case 0:for(var l=n[0];e[n[0]++]>=128;);r=e.slice(l,n[0]);break;case 5:s=4,r=e.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,r=e.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=OSe(e,n),r=e.slice(n[0],n[0]+s),n[0]+=s;break;default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(a))}var u={data:r,type:o};null==t[i]?t[i]=[u]:t[i].push(u)}return t}function FSe(e){var t=[];return e.forEach((function(e,n){e.forEach((function(e){e.data&&(t.push(DSe(8*n+e.type)),2==e.type&&t.push(DSe(e.data.length)),t.push(e.data))}))})),RSe(t)}function jSe(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=OSe(e,r),i=LSe(e.slice(r[0],r[0]+a));r[0]+=a;var o={id:PSe(i[1][0].data),messages:[]};i[2].forEach((function(t){var n=LSe(t.data),a=PSe(n[3][0].data);o.messages.push({meta:n,data:e.slice(r[0],r[0]+a)}),r[0]+=a})),(null==(t=i[3])?void 0:t[0])&&(o.merge=PSe(i[3][0].data)>>>0>0),n.push(o)}return n}function zSe(e){var t=[];return e.forEach((function(e){var n=[];n[1]=[{data:DSe(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:DSe(+!!e.merge),type:0}]);var r=[];e.messages.forEach((function(e){r.push(e.data),e.meta[3]=[{type:0,data:DSe(e.data.length)}],n[2].push({data:FSe(e.meta),type:2})}));var a=FSe(n);t.push(DSe(a.length)),t.push(a),r.forEach((function(e){return t.push(e)}))})),RSe(t)}function BSe(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=OSe(t,n),a=[];n[0]<t.length;){var i=3&t[n[0]];if(0!=i){var o=0,s=0;if(1==i?(s=4+(t[n[0]]>>2&7),o=(224&t[n[0]++])<<3,o|=t[n[0]++]):(s=1+(t[n[0]++]>>2),2==i?(o=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(o=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[RSe(a)],0==o)throw new Error("Invalid offset 0");if(o>a[0].length)throw new Error("Invalid offset beyond length");if(s>=o)for(a.push(a[0].slice(-o)),s-=o;s>=a[a.length-1].length;)a.push(a[a.length-1]),s-=a[a.length-1].length;a.push(a[0].slice(-o,-o+s))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var u=l-59;l=t[n[0]],u>1&&(l|=t[n[0]+1]<<8),u>2&&(l|=t[n[0]+2]<<16),u>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=u}a.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var c=RSe(a);if(c.length!=r)throw new Error("Unexpected length: ".concat(c.length," != ").concat(r));return c}function USe(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(BSe(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return RSe(t)}function WSe(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),a=new Uint8Array(4);t.push(a);var i=DSe(r),o=i.length;t.push(i),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,a[0]=0,a[1]=255&o,a[2]=o>>8&255,a[3]=o>>16&255,n+=r}return RSe(t)}function ZSe(e,t){var n=new Uint8Array(32),r=ISe(n),a=12,i=0;switch(n[0]=5,e.t){case"n":n[1]=2,function(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,a=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=255&a;e[t+15]|=n>=0?0:128}(n,a,e.v),i|=1,a+=16;break;case"b":n[1]=6,r.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,i,!0),n.slice(0,a)}function VSe(e,t){var n=new Uint8Array(32),r=ISe(n),a=12,i=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":n[2]=6,r.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,i,!0),n.slice(0,a)}function HSe(e){return OSe(LSe(e)[1][0].data)}function GSe(e,t,n){var r,a,i,o;if(!(null==(r=e[6])?void 0:r[0])||!(null==(a=e[7])?void 0:a[0]))throw"Mutation only works on post-BNC storages!";if((null==(o=null==(i=e[8])?void 0:i[0])?void 0:o.data)&&PSe(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var s=0,l=ISe(e[7][0].data),u=0,c=[],d=ISe(e[4][0].data),h=0,f=[],p=0;p<t.length;++p)if(null!=t[p]){var m,v;switch(l.setUint16(2*p,u,!0),d.setUint16(2*p,h,!0),typeof t[p]){case"string":m=ZSe({t:"s",v:t[p]},n),v=VSe({t:"s",v:t[p]},n);break;case"number":m=ZSe({t:"n",v:t[p]},n),v=VSe({t:"n",v:t[p]},n);break;case"boolean":m=ZSe({t:"b",v:t[p]},n),v=VSe({t:"b",v:t[p]},n);break;default:throw new Error("Unsupported value "+t[p])}c.push(m),u+=m.length,f.push(v),h+=v.length,++s}else l.setUint16(2*p,65535,!0),d.setUint16(2*p,65535);for(e[2][0].data=DSe(s);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),d.setUint16(2*p,65535,!0);return e[6][0].data=RSe(c),e[3][0].data=RSe(f),s}function qSe(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}function XSe(e){qSe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function YSe(e,t){return"ods"==t.bookType?ASe(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=abe(n["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ibe(r)));var i=oTe(n,{range:r,header:1}),o=["~Sh33tJ5~"];i.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&o.push(e)}))}));var s={},l=[],u=hge.read(t.numbers,{type:"base64"});u.FileIndex.map((function(e,t){return[e,u.FullPaths[t]]})).forEach((function(e){var t=e[0],n=e[1];2==t.type&&t.name.match(/\.iwa/)&&jSe(USe(t.content)).forEach((function(e){l.push(e.id),s[e.id]={deps:[],location:n,type:PSe(e.messages[0].meta[1][0].data)}}))})),l.sort((function(e,t){return e-t}));var c=l.filter((function(e){return e>1})).map((function(e){return[e,DSe(e)]}));u.FileIndex.map((function(e,t){return[e,u.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&jSe(USe(t.content)).forEach((function(e){e.messages.forEach((function(t){c.forEach((function(t){e.messages.some((function(e){return 11006!=PSe(e.meta[1][0].data)&&function(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])}))&&s[t[0]].deps.push(e.id)}))}))}))}));for(var d,h=hge.find(u,s[1].location),f=jSe(USe(h.content)),p=0;p<f.length;++p){var m=f[p];1==m.id&&(d=m)}var v=HSe(LSe(d.messages[0].data)[1][0].data);for(f=jSe(USe((h=hge.find(u,s[v].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==v&&(d=m);for(v=HSe(LSe(d.messages[0].data)[2][0].data),f=jSe(USe((h=hge.find(u,s[v].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==v&&(d=m);for(v=HSe(LSe(d.messages[0].data)[2][0].data),f=jSe(USe((h=hge.find(u,s[v].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==v&&(d=m);var g=LSe(d.messages[0].data);g[6][0].data=DSe(r.e.r+1),g[7][0].data=DSe(r.e.c+1);for(var y=HSe(g[46][0].data),b=hge.find(u,s[y].location),x=jSe(USe(b.content)),w=0;w<x.length&&x[w].id!=y;++w);if(x[w].id!=y)throw"Bad ColumnRowUIDMapArchive";var k=LSe(x[w].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var S=0;S<=r.e.c;++S){var T=[];T[1]=T[2]=[{type:0,data:DSe(S+420690)}],k[1].push({type:2,data:FSe(T)}),k[2].push({type:0,data:DSe(S)}),k[3].push({type:0,data:DSe(S)})}k[4]=[],k[5]=[],k[6]=[];for(var E=0;E<=r.e.r;++E)(T=[])[1]=T[2]=[{type:0,data:DSe(E+726270)}],k[4].push({type:2,data:FSe(T)}),k[5].push({type:0,data:DSe(E)}),k[6].push({type:0,data:DSe(E)});x[w].messages[0].data=FSe(k),b.content=WSe(zSe(x)),b.size=b.content.length,delete g[46];var C=LSe(g[4][0].data);C[7][0].data=DSe(r.e.r+1);var _=HSe(LSe(C[1][0].data)[2][0].data);if((x=jSe(USe((b=hge.find(u,s[_].location)).content)))[0].id!=_)throw"Bad HeaderStorageBucket";var M=LSe(x[0].messages[0].data);for(E=0;E<i.length;++E){var A=LSe(M[2][0].data);A[1][0].data=DSe(E),A[4][0].data=DSe(i[E].length),M[2][E]={type:M[2][0].type,data:FSe(A)}}x[0].messages[0].data=FSe(M),b.content=WSe(zSe(x)),b.size=b.content.length;var I=HSe(C[2][0].data);if((x=jSe(USe((b=hge.find(u,s[I].location)).content)))[0].id!=I)throw"Bad HeaderStorageBucket";for(M=LSe(x[0].messages[0].data),S=0;S<=r.e.c;++S)(A=LSe(M[2][0].data))[1][0].data=DSe(S),A[4][0].data=DSe(r.e.r+1),M[2][S]={type:M[2][0].type,data:FSe(A)};x[0].messages[0].data=FSe(M),b.content=WSe(zSe(x)),b.size=b.content.length;var N=HSe(C[4][0].data);!function(){for(var e,t=hge.find(u,s[N].location),n=jSe(USe(t.content)),r=0;r<n.length;++r){var a=n[r];a.id==N&&(e=a)}var i=LSe(e.messages[0].data);i[3]=[];var l=[];o.forEach((function(e,t){l[1]=[{type:0,data:DSe(t)}],l[2]=[{type:0,data:DSe(1)}],l[3]=[{type:2,data:NSe(e)}],i[3].push({type:2,data:FSe(l)})})),e.messages[0].data=FSe(i);var c=WSe(zSe(n));t.content=c,t.size=t.content.length}();var R=LSe(C[3][0].data),O=R[1][0];delete R[2];var D=LSe(O.data),P=HSe(D[2][0].data);!function(){for(var e,t=hge.find(u,s[P].location),n=jSe(USe(t.content)),a=0;a<n.length;++a){var l=n[a];l.id==P&&(e=l)}var c=LSe(e.messages[0].data);delete c[6],delete R[7];var d=new Uint8Array(c[5][0].data);c[5]=[];for(var h=0,f=0;f<=r.e.r;++f){var p=LSe(d);h+=GSe(p,i[f],o),p[1][0].data=DSe(f),c[5].push({data:FSe(p),type:2})}c[1]=[{type:0,data:DSe(r.e.c+1)}],c[2]=[{type:0,data:DSe(r.e.r+1)}],c[3]=[{type:0,data:DSe(h)}],c[4]=[{type:0,data:DSe(r.e.r+1)}],e.messages[0].data=FSe(c);var m=WSe(zSe(n));t.content=m,t.size=t.content.length}(),O.data=FSe(D),C[3][0].data=FSe(R),g[4][0].data=FSe(C),d.messages[0].data=FSe(g);var L=WSe(zSe(f));return h.content=L,h.size=h.content.length,u}(e,t):"xlsb"==t.bookType?function(e,t){Ewe=1024,e&&!e.SSF&&(e.SSF=Nge(Mve));e&&e.SSF&&(uge(),lge(e.SSF),t.revssf=bge(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,bke?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=Nwe.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};XSe(t=t||{});var i=Fge(),o="",s=0;t.cellXfs=[],Ske(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(o="docProps/core.xml",Lge(i,o,rxe(e.Props,t)),a.coreprops.push(o),$be(t.rels,2,o,Ybe.CORE_PROPS),o="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],u=0;u<e.SheetNames.length;++u)2!=(e.Workbook.Sheets[u]||{}).Hidden&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Lge(i,o,oxe(e.Props)),a.extprops.push(o),$be(t.rels,3,o,Ybe.EXT_PROPS),e.Custprops!==e.Props&&vge(e.Custprops||{}).length>0&&(Lge(i,o="docProps/custom.xml",sxe(e.Custprops)),a.custprops.push(o),$be(t.rels,4,o,Ybe.CUST_PROPS));for(s=1;s<=e.SheetNames.length;++s){var c={"!id":{}},d=e.Sheets[e.SheetNames[s-1]];(d||{})["!type"];if(Lge(i,o="xl/worksheets/sheet"+s+"."+n,$ke(s-1,o,t,e,c)),a.sheets.push(o),$be(t.wbrels,-1,"worksheets/sheet"+s+"."+n,Ybe.WS[0]),d){var h=d["!comments"],f=!1,p="";h&&h.length>0&&(Lge(i,p="xl/comments"+s+"."+n,Qke(h,p,t)),a.comments.push(p),$be(c,-1,"../comments"+s+"."+n,Ybe.CMNT),f=!0),d["!legacy"]&&f&&Lge(i,"xl/drawings/vmlDrawing"+s+".vml",Cwe(s,d["!comments"])),delete d["!comments"],delete d["!legacy"]}c["!id"].rId1&&Lge(i,Kbe(o),Jbe(c))}null!=t.Strings&&t.Strings.length>0&&(Lge(i,o="xl/sharedStrings."+n,function(e,t,n){return(".bin"===t.slice(-4)?Xxe:Gxe)(e,n)}(t.Strings,o,t)),a.strs.push(o),$be(t.wbrels,-1,"sharedStrings."+n,Ybe.SST));o="xl/workbook."+n,Lge(i,o,function(e,t,n){return(".bin"===t.slice(-4)?Jke:Xke)(e,n)}(e,o,t)),a.workbooks.push(o),$be(t.rels,1,o,Ybe.WB),o="xl/theme/theme1.xml",Lge(i,o,kwe(e.Themes,t)),a.themes.push(o),$be(t.wbrels,-1,"theme/theme1.xml",Ybe.THEME),o="xl/styles."+n,Lge(i,o,function(e,t,n){return(".bin"===t.slice(-4)?wwe:lwe)(e,n)}(e,o,t)),a.styles.push(o),$be(t.wbrels,-1,"styles."+n,Ybe.STY),e.vbaraw&&r&&(Lge(i,o="xl/vbaProject.bin",e.vbaraw),a.vba.push(o),$be(t.wbrels,-1,"vbaProject.bin",Ybe.VBA));return o="xl/metadata."+n,Lge(i,o,function(e){return(".bin"===e.slice(-4)?Swe:Twe)()}(o)),a.metadata.push(o),$be(t.wbrels,-1,"metadata."+n,Ybe.XLMETA),Lge(i,"[Content_Types].xml",Xbe(a,t)),Lge(i,"_rels/.rels",Jbe(t.rels)),Lge(i,"xl/_rels/workbook."+n+".rels",Jbe(t.wbrels)),delete t.revssf,delete t.ssf,i}(e,t):KSe(e,t)}function KSe(e,t){Ewe=1024,e&&!e.SSF&&(e.SSF=Nge(Mve)),e&&e.SSF&&(uge(),lge(e.SSF),t.revssf=bge(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,bke?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=Nwe.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};XSe(t=t||{});var i=Fge(),o="",s=0;if(t.cellXfs=[],Ske(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),Lge(i,o="docProps/core.xml",rxe(e.Props,t)),a.coreprops.push(o),$be(t.rels,2,o,Ybe.CORE_PROPS),o="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],u=0;u<e.SheetNames.length;++u)2!=(e.Workbook.Sheets[u]||{}).Hidden&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Lge(i,o,oxe(e.Props)),a.extprops.push(o),$be(t.rels,3,o,Ybe.EXT_PROPS),e.Custprops!==e.Props&&vge(e.Custprops||{}).length>0&&(Lge(i,o="docProps/custom.xml",sxe(e.Custprops)),a.custprops.push(o),$be(t.rels,4,o,Ybe.CUST_PROPS));var c=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},h=e.Sheets[e.SheetNames[s-1]];(h||{})["!type"];if(Lge(i,o="xl/worksheets/sheet"+s+"."+n,Mke(s-1,t,e,d)),a.sheets.push(o),$be(t.wbrels,-1,"worksheets/sheet"+s+"."+n,Ybe.WS[0]),h){var f=h["!comments"],p=!1,m="";if(f&&f.length>0){var v=!1;f.forEach((function(e){e[1].forEach((function(e){1==e.T&&(v=!0)}))})),v&&(Lge(i,m="xl/threadedComments/threadedComment"+s+"."+n,Mwe(f,c,t)),a.threadedcomments.push(m),$be(d,-1,"../threadedComments/threadedComment"+s+"."+n,Ybe.TCMNT)),Lge(i,m="xl/comments"+s+"."+n,_we(f)),a.comments.push(m),$be(d,-1,"../comments"+s+"."+n,Ybe.CMNT),p=!0}h["!legacy"]&&p&&Lge(i,"xl/drawings/vmlDrawing"+s+".vml",Cwe(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&Lge(i,Kbe(o),Jbe(d))}return null!=t.Strings&&t.Strings.length>0&&(Lge(i,o="xl/sharedStrings."+n,Gxe(t.Strings,t)),a.strs.push(o),$be(t.wbrels,-1,"sharedStrings."+n,Ybe.SST)),Lge(i,o="xl/workbook."+n,Xke(e)),a.workbooks.push(o),$be(t.rels,1,o,Ybe.WB),Lge(i,o="xl/theme/theme1.xml",kwe(e.Themes,t)),a.themes.push(o),$be(t.wbrels,-1,"theme/theme1.xml",Ybe.THEME),Lge(i,o="xl/styles."+n,lwe(e,t)),a.styles.push(o),$be(t.wbrels,-1,"styles."+n,Ybe.STY),e.vbaraw&&r&&(Lge(i,o="xl/vbaProject.bin",e.vbaraw),a.vba.push(o),$be(t.wbrels,-1,"vbaProject.bin",Ybe.VBA)),Lge(i,o="xl/metadata."+n,Twe()),a.metadata.push(o),$be(t.wbrels,-1,"metadata."+n,Ybe.XLMETA),c.length>1&&(Lge(i,o="xl/persons/person.xml",function(e){var t=[jge,aye("personList",null,{xmlns:oye.TCMNT,"xmlns:x":sye[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,n){t.push(aye("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}(c)),a.people.push(o),$be(t.wbrels,-1,"persons/person.xml",Ybe.PEOPLE)),Lge(i,"[Content_Types].xml",Xbe(a,t)),Lge(i,"_rels/.rels",Jbe(t.rels)),Lge(i,"xl/_rels/workbook.xml.rels",Jbe(t.wbrels)),delete t.revssf,delete t.ssf,i}function JSe(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=lve(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function $Se(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return mge(t.file,hge.write(e,{type:uve?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return hge.write(e,t)}function QSe(e,t){var n={},r=uve?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?hge.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!==typeof Deno&&"string"==typeof a){if("binary"==t.type||"base64"==t.type)return a;a=new Uint8Array(pve(a))}return t.password&&"undefined"!==typeof encrypt_agile?$Se(encrypt_agile(a,t.password),t):"file"===t.type?mge(t.file,a):"string"==t.type?$ge(a):a}function eTe(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return sve(Qge(r));case"binary":return Qge(r);case"string":return e;case"file":return mge(t.file,r,"utf8");case"buffer":return uve?cve(r,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(r):eTe(r,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function tTe(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?sve(n):"string"==t.type?$ge(n):n;case"file":return mge(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function nTe(e,t){eve(),qke(e);var n=Nge(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=nTe(e,n);return n.type="array",pve(r)}var a=0;if(n.sheet&&(a="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return eTe(iSe(e,n),n);case"slk":case"sylk":return eTe(Bxe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"htm":case"html":return eTe(SSe(e.Sheets[e.SheetNames[a]],n),n);case"txt":return function(e,t){switch(t.type){case"base64":return sve(e);case"binary":case"string":return e;case"file":return mge(t.file,e,"binary");case"buffer":return uve?cve(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}(cTe(e.Sheets[e.SheetNames[a]],n),n);case"csv":return eTe(uTe(e.Sheets[e.SheetNames[a]],n),n,"\ufeff");case"dif":return eTe(Uxe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"dbf":return tTe(zxe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"prn":return eTe(Zxe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"rtf":return eTe(Jxe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"eth":return eTe(Wxe.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"fods":return eTe(ASe(e,n),n);case"wk1":return tTe(Vxe.sheet_to_wk1(e.Sheets[e.SheetNames[a]],n),n);case"wk3":return tTe(Vxe.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),tTe(ySe(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function(e,t){var n=t||{};return $Se(sSe(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var n=Nge(t||{});return QSe(YSe(e,n),n)}(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function rTe(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function aTe(e,t,n){var r=n||{};return r.type="file",r.file=t,rTe(r),nTe(e,r)}function iTe(e,t,n,r,a,i,o,s){var l=Qye(n),u=s.defval,c=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),d=!0,h=1===a?[]:{};if(1!==a)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch(d4){h.__rowNum__=n}else h.__rowNum__=n;if(!o||e[n])for(var f=t.s.c;f<=t.e.c;++f){var p=o?e[n][f]:e[r[f]+l];if(void 0!==p&&void 0!==p.t){var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=i[f]){if(null==m)if("e"==p.t&&null===m)h[i[f]]=null;else if(void 0!==u)h[i[f]]=u;else{if(!c||null!==m)continue;h[i[f]]=null}else h[i[f]]=c&&("n"!==p.t||"n"===p.t&&!1!==s.rawNumbers)?m:lbe(p,m,s);null!=m&&(d=!1)}}else{if(void 0===u)continue;null!=i[f]&&(h[i[f]]=u)}}return{row:h,isempty:d}}function oTe(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,a=1,i=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},c=null!=u.range?u.range:e["!ref"];switch(1===u.header?r=1:"A"===u.header?r=2:Array.isArray(u.header)?r=3:null==u.header&&(r=0),typeof c){case"string":l=obe(c);break;case"number":(l=obe(e["!ref"])).s.r=c;break;default:l=c}r>0&&(a=0);var d=Qye(l.s.r),h=[],f=[],p=0,m=0,v=Array.isArray(e),g=l.s.r,y=0,b={};v&&!e[g]&&(e[g]=[]);var x=u.skipHidden&&e["!cols"]||[],w=u.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(x[y]||{}).hidden)switch(h[y]=tbe(y),n=v?e[g][y]:e[h[y]+d],r){case 1:i[y]=y-l.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=u.header[y-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),s=o=lbe(n,null,u),m=b[o]||0){do{s=o+"_"+m++}while(b[s]);b[o]=m,b[s]=1}else b[o]=1;i[y]=s}for(g=l.s.r+a;g<=l.e.r;++g)if(!(w[g]||{}).hidden){var k=iTe(e,l,g,h,r,i,v,u);(!1===k.isempty||(1===r?!1!==u.blankrows:u.blankrows))&&(f[p++]=k.row)}return f.length=p,f}var sTe=/"/g;function lTe(e,t,n,r,a,i,o,s){for(var l=!0,u=[],c="",d=Qye(n),h=t.s.c;h<=t.e.c;++h)if(r[h]){var f=s.dense?(e[n]||[])[h]:e[r[h]+d];if(null==f)c="";else if(null!=f.v){l=!1,c=""+(s.rawNumbers&&"n"==f.t?f.v:lbe(f,null,s));for(var p=0,m=0;p!==c.length;++p)if((m=c.charCodeAt(p))===a||m===i||34===m||s.forceQuotes){c='"'+c.replace(sTe,'""')+'"';break}"ID"==c&&(c='"ID"')}else null==f.f||f.F?c="":(l=!1,(c="="+f.f).indexOf(",")>=0&&(c='"'+c.replace(sTe,'""')+'"'));u.push(c)}return!1===s.blankrows&&l?null:u.join(o)}function uTe(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var a=obe(e["!ref"]),i=void 0!==r.FS?r.FS:",",o=i.charCodeAt(0),s=void 0!==r.RS?r.RS:"\n",l=s.charCodeAt(0),u=new RegExp(("|"==i?"\\|":i)+"+$"),c="",d=[];r.dense=Array.isArray(e);for(var h=r.skipHidden&&e["!cols"]||[],f=r.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(d[p]=tbe(p));for(var m=0,v=a.s.r;v<=a.e.r;++v)(f[v]||{}).hidden||null!=(c=lTe(e,a,v,d,o,l,i,r))&&(r.strip&&(c=c.replace(u,"")),(c||!1!==r.blankrows)&&n.push((m++?s:"")+c));return delete r.dense,n.join("")}function cTe(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=uTe(e,t);if("undefined"==typeof nve||"string"==t.type)return n;var r=nve.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function dTe(e,t,n){var r,a=n||{},i=+!a.skipHeader,o=e||{},s=0,l=0;if(o&&null!=a.origin)if("number"==typeof a.origin)s=a.origin;else{var u="string"==typeof a.origin?nbe(a.origin):a.origin;s=u.r,l=u.c}var c={s:{c:0,r:0},e:{c:l,r:s+t.length-1+i}};if(o["!ref"]){var d=obe(o["!ref"]);c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),-1==s&&(s=d.e.r+1,c.e.r=s+t.length-1+i)}else-1==s&&(s=0,c.e.r=t.length-1+i);var h=a.header||[],f=0;t.forEach((function(e,t){vge(e).forEach((function(n){-1==(f=h.indexOf(n))&&(h[f=h.length]=n);var u=e[n],c="z",d="",p=rbe({c:l+f,r:s+t+i});r=hTe(o,p),!u||"object"!==typeof u||u instanceof Date?("number"==typeof u?c="n":"boolean"==typeof u?c="b":"string"==typeof u?c="s":u instanceof Date?(c="d",a.cellDates||(c="n",u=wge(u)),d=a.dateNF||Mve[14]):null===u&&a.nullError&&(c="e",u=0),r?(r.t=c,r.v=u,delete r.w,delete r.R,d&&(r.z=d)):o[p]=r={t:c,v:u},d&&(r.z=d)):o[p]=u}))})),c.e.c=Math.max(c.e.c,l+h.length-1);var p=Qye(s);if(i)for(f=0;f<h.length;++f)o[tbe(f+l)+p]={t:"s",v:h[f]};return o["!ref"]=ibe(c),o}function hTe(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=nbe(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return hTe(e,rbe("number"!=typeof t?t:{r:t,c:n||0}))}function fTe(){return{SheetNames:[],Sheets:{}}}function pTe(e,t,n,r){var a=1;if(!n)for(;a<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+a);++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||n;for(++a;a<=65535&&-1!=e.SheetNames.indexOf(n=o+a);++a);}if(Gke(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function mTe(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var vTe={encode_col:tbe,encode_row:Qye,encode_cell:rbe,encode_range:ibe,decode_col:ebe,decode_row:$ye,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:nbe,decode_range:abe,format_cell:lbe,sheet_add_aoa:cbe,sheet_add_json:dTe,sheet_add_dom:TSe,aoa_to_sheet:dbe,json_to_sheet:function(e,t){return dTe(null,e,t)},table_to_sheet:ESe,table_to_book:function(e,t){return ube(ESe(e,t),t)},sheet_to_csv:uTe,sheet_to_txt:cTe,sheet_to_json:oTe,sheet_to_html:SSe,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var a,i=obe(e["!ref"]),o="",s=[],l=[],u=Array.isArray(e);for(a=i.s.c;a<=i.e.c;++a)s[a]=tbe(a);for(var c=i.s.r;c<=i.e.r;++c)for(o=Qye(c),a=i.s.c;a<=i.e.c;++a)if(n=s[a]+o,r="",void 0!==(t=u?(e[c]||[])[a]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:oTe,sheet_get_cell:hTe,book_new:fTe,book_append_sheet:pTe,book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:mTe,cell_set_internal_link:function(e,t,n){return mTe(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var a="string"!=typeof t?t:obe(t),i="string"==typeof t?t:ibe(t),o=a.s.r;o<=a.e.r;++o)for(var s=a.s.c;s<=a.e.c;++s){var l=hTe(e,o,s);l.t="n",l.F=i,delete l.v,o==a.s.r&&s==a.s.c&&(l.f=n,r&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};qme.version;var gTe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],yTe=(0,Dc.ZP)(Hd,{shouldForwardProp:function(e){return(0,Dc.FO)(e)||"classes"===e},name:"MuiListItemButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,xt.Z)((t={display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,kt.Z)(t,"&.".concat(zg.selected),(0,kt.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(zg.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,kt.Z)(t,"&.".concat(zg.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,Yc.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,kt.Z)(t,"&.".concat(zg.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,kt.Z)(t,"&.".concat(zg.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},"flex-start"===r.alignItems&&{alignItems:"flex-start"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.dense&&{paddingTop:4,paddingBottom:4})})),bTe=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiListItemButton"}),r=n.alignItems,a=void 0===r?"center":r,i=n.autoFocus,o=void 0!==i&&i,s=n.component,l=void 0===s?"div":s,u=n.children,c=n.dense,d=void 0!==c&&c,h=n.disableGutters,f=void 0!==h&&h,p=n.divider,m=void 0!==p&&p,v=n.focusVisibleClassName,g=n.selected,y=void 0!==g&&g,b=n.className,x=(0,wt.Z)(n,gTe),w=T.useContext(op),k=T.useMemo((function(){return{dense:d||w.dense||!1,alignItems:a,disableGutters:f}}),[a,w.dense,d,f]),S=T.useRef(null);(0,Xh.Z)((function(){o&&S.current&&S.current.focus()}),[o]);var E=(0,xt.Z)({},n,{alignItems:a,dense:k.dense,disableGutters:f,divider:m,selected:y}),C=function(e){var t=e.alignItems,n=e.classes,r=e.dense,a=e.disabled,i={root:["root",r&&"dense",!e.disableGutters&&"gutters",e.divider&&"divider",a&&"disabled","flex-start"===t&&"alignItemsFlexStart",e.selected&&"selected"]},o=(0,Yu.Z)(i,jg,n);return(0,xt.Z)({},n,o)}(E),_=(0,zu.Z)(S,t);return(0,Ct.jsx)(op.Provider,{value:k,children:(0,Ct.jsx)(yTe,(0,xt.Z)({ref:_,href:x.href||x.to,component:(x.href||x.to)&&"div"===l?"button":l,focusVisibleClassName:(0,Xu.Z)(C.focusVisible,v),ownerState:E,className:(0,Xu.Z)(C.root,b)},x,{classes:C,children:u}))})})),xTe=bTe,wTe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],kTe=(0,Dc.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,kt.Z)({},"& .".concat(Qpe.primary),t.primary),(0,kt.Z)({},"& .".concat(Qpe.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return(0,xt.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),STe=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiListItemText"}),r=n.children,a=n.className,i=n.disableTypography,o=void 0!==i&&i,s=n.inset,l=void 0!==s&&s,u=n.primary,c=n.primaryTypographyProps,d=n.secondary,h=n.secondaryTypographyProps,f=(0,wt.Z)(n,wTe),p=T.useContext(op).dense,m=null!=u?u:r,v=d,g=(0,xt.Z)({},n,{disableTypography:o,inset:l,primary:!!m,secondary:!!v,dense:p}),y=function(e){var t=e.classes,n=e.inset,r=e.primary,a=e.secondary,i={root:["root",n&&"inset",e.dense&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,Yu.Z)(i,$pe,t)}(g);return null==m||m.type===lh||o||(m=(0,Ct.jsx)(lh,(0,xt.Z)({variant:p?"body2":"body1",className:y.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:m}))),null==v||v.type===lh||o||(v=(0,Ct.jsx)(lh,(0,xt.Z)({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},h,{children:v}))),(0,Ct.jsxs)(kTe,(0,xt.Z)({className:(0,Xu.Z)(y.root,a),ownerState:g,ref:t},f,{children:[m,v]}))})),TTe=STe,ETe=function(e){var t=e.open,n=e.handleClose,r=UNe().sites,a=TNe().setSiteSelected,i=(0,T.useState)([]),o=(0,Z.Z)(i,2),s=o[0],l=o[1];return(0,T.useEffect)((function(){r.length>0&&(l(r.filter((function(e){if(e.status)return e}))),console.log(r))}),[r]),(0,Ct.jsxs)(dd,{open:t,onClose:n,children:[(0,Ct.jsx)(ph,{children:"Seleccione Obra"}),(0,Ct.jsxs)(bh,{children:[(0,Ct.jsx)(xTe,{onClick:function(){a("none"),setTimeout((function(){n("Selected")}),500)},children:(0,Ct.jsx)(TTe,{primary:"Todas las obras"})}),s.map((function(e,t){return(0,Ct.jsx)(xTe,{onClick:function(){a(e.idobra),setTimeout((function(){n("Selected")}),500)},children:(0,Ct.jsx)(TTe,{primary:e.descripcion})},t)}))]})]})},CTe=(0,T.forwardRef)((function(e,t){return(0,Ct.jsx)(qu,qo({direction:"left",ref:t},e))})),_Te=function(e){var t=e.open,n=e.reports,r=e.handleClose,a=(0,T.useState)([]),i=(0,Z.Z)(a,2),o=i[0],s=i[1],l=(0,T.useState)([]),u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=(0,T.useState)([]),f=(0,Z.Z)(h,2),p=f[0],m=f[1],v=(0,T.useState)([]),g=(0,Z.Z)(v,2),y=g[0],b=g[1],x=(0,T.useState)(0),w=(0,Z.Z)(x,2),k=w[0],S=w[1],E=(0,T.useState)(0),C=(0,Z.Z)(E,2),_=C[0],M=C[1],A=(0,T.useState)(0),I=(0,Z.Z)(A,2),N=I[0],R=I[1],O=(0,T.useState)(0),D=(0,Z.Z)(O,2),P=D[0],L=D[1],F=(0,T.useState)(0),j=(0,Z.Z)(F,2),z=j[0],B=j[1],U=(0,T.useState)(0),W=(0,Z.Z)(U,2),V=W[0],H=W[1],G=(0,T.useState)(0),q=(0,Z.Z)(G,2),X=q[0],Y=q[1],K=(0,T.useState)(0),J=(0,Z.Z)(K,2),$=J[0],Q=J[1];return(0,T.useEffect)((function(){if(n.length>0){var e=[],t=[],r=[],a=[],i=[],o=[],l=[],u=[],c=0,h=0,f=0,p=0;n.forEach((function(v,g){if(v){!v.chiefMachineryApprovedDate&&v.dateClose?console.log(v.idIndex,v.chiefMachineryApprovedDate,v.dateClose):console.log(v.idIndex," todo bien");var y=Number(((new Date(v.endReport)-new Date(v.dateInit))/1e3/60/60/24).toFixed(2)),x=Number(((new Date(v.shiftManagerApprovedDate)-new Date(v.endReport))/1e3/60/60/24).toFixed(2)),w=Number(((new Date(v.chiefMachineryApprovedDate)-new Date(v.shiftManagerApprovedDate))/1e3/60/60/24).toFixed(2)),k=Number(((new Date(v.dateClose)-new Date(v.chiefMachineryApprovedDate))/1e3/60/60/24).toFixed(2));!isNaN(y)&&Math.sign(y)>0?(e.push(v),c+=y):i.push(v),!isNaN(x)&&Math.sign(x)>0&&!isNaN(y)&&Math.sign(y)>0?(t.push(v),h+=x):o.push(v),!isNaN(w)&&Math.sign(w)>0&&!isNaN(x)&&Math.sign(x)>0&&!isNaN(y)&&Math.sign(y)>0?(r.push(v),f+=w):l.push(v),!isNaN(k)&&Math.sign(k)>0&&!isNaN(w)&&Math.sign(w)>0&&!isNaN(x)&&Math.sign(x)>0&&!isNaN(y)&&Math.sign(y)>0?(a.push(v),p+=k):(u.push(v),console.log(v.idIndex,k,w,x,y))}g===n.length-1&&(s(e),d(t),m(r),b(a),S(c),M(h),R(f),L(p))})),console.log(i.length),console.log(o.length),console.log(l.length),console.log(u.length)}}),[n]),(0,T.useEffect)((function(){var e=k/o.length,t=_/c.length,n=N/p.length,r=P/y.length;B(e),H(t),Y(n),Q(r)}),[o,c,p,y,k,_,N,P]),(0,Ct.jsx)(dd,{open:t,TransitionComponent:CTe,adaptiveHeight:!0,maxWidth:"xl",children:(0,Ct.jsxs)("div",{style:{padding:30,width:1e3},children:[(0,Ct.jsx)(Lh,{container:!0,children:(0,Ct.jsxs)(Lh,{item:!0,xs:12,children:[(0,Ct.jsx)("h2",{children:"Datos generales."}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:6,children:(0,Ct.jsx)("p",{children:"Reportes"})}),(0,Ct.jsx)(Lh,{item:!0,xs:6,children:(0,Ct.jsx)("p",{children:"Promedio"})})]}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:6,children:(0,Ct.jsxs)("p",{children:["Desarrollo Terminado: ",o.length]})}),(0,Ct.jsx)(Lh,{item:!0,xs:6,children:(0,Ct.jsxs)("p",{children:[isNaN(z)?0:z.toFixed(2)," d\xedas"]})})]}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:6,children:(0,Ct.jsxs)("p",{children:["Aprobados Por Jefe Turno: ",c.length]})}),(0,Ct.jsx)(Lh,{item:!0,xs:6,children:(0,Ct.jsxs)("p",{children:[isNaN(V)?0:V.toFixed(2)," d\xedas"]})})]}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:6,children:(0,Ct.jsxs)("p",{children:["Aprobados Por Jefe Maquinaria: ",p.length]})}),(0,Ct.jsx)(Lh,{item:!0,xs:6,children:(0,Ct.jsxs)("p",{children:[isNaN(X)?0:X.toFixed(2)," d\xedas"]})})]}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:6,children:(0,Ct.jsxs)("p",{children:["Reportes Cerrados: ",y.length]})}),(0,Ct.jsx)(Lh,{item:!0,xs:6,children:(0,Ct.jsxs)("p",{children:[isNaN($)?0:$.toFixed(2)," d\xedas"]})})]})]})}),(0,Ct.jsx)(gy,{onClick:r,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})},MTe=function(e){if(e){var t=new Date(e).toISOString();return new Date(t).getUTCDate()}return"Sin fecha"},ATe=function(e){if(e){var t=new Date(e).toISOString();return new Date(t).getMonth()+1}return"Sin fecha"},ITe=function(e){if(e){var t=new Date(e).toISOString();return new Date(t).getUTCFullYear()}return"Sin fecha"},NTe=function(e){if(e){var t=new Date(e).toISOString(),n=new Date(t).getDay();0===n?"Dom":1===n?"Lun":2===n?"Mar":3===n?"Mie":4===n?"Jue":5===n?"Vie":6===n&&"Sab";var r,a=new Date(t).getUTCDate(),i=new Date(t).getMonth();0==i?r="Jan":1==i?r="Feb":2==i?r="Mar":3==i?r="Apr":4==i?r="May":5==i?r="Jun":6==i?r="Jul":7==i?r="Aug":8==i?r="Sep":9==i?r="Oct":10==i?r="Nov":11==i&&(r="Dic");var o=new Date(t).getUTCFullYear();return"".concat(a,"-").concat(r,"-").concat(o)}return"Sin fecha"},RTe=function(e){if(OTe(e)){var t=new Date(e).toISOString(),n=new Date(t),r=n.getHours(),a=n.getMinutes()<10?"0".concat(n.getMinutes()):n.getMinutes();return"".concat(r,":").concat(a)}return"-"},OTe=function(e){return!Number.isNaN(new Date(e).getTime())},DTe=function(){var e=UNe().sites,t=cNe(),n=t.admin,r=t.isSapExecutive,a=(t.isShiftManager,t.isChiefMachinery,TNe()),i=a.reports,o=a.setListSelected,s=a.listSelected,l=a.listSelectedCache,u=a.setListSelectedCache,c=a.getReports,d=(a.loading,a.statusReports),h=a.pautas,f=a.siteSelected,p=jNe().users,m=PNe().machinesBySite,v=(0,T.useState)([]),g=(0,Z.Z)(v,2),y=g[0],b=g[1],x=(0,T.useState)([]),w=(0,Z.Z)(x,2),k=w[0],S=w[1],E=(0,T.useState)([]),C=(0,Z.Z)(E,2),M=C[0],A=C[1],I=(0,T.useState)([]),N=(0,Z.Z)(I,2),R=N[0],O=N[1],D=(0,T.useState)(!1),P=(0,Z.Z)(D,2),L=P[0],F=P[1],j=(0,T.useState)(0),z=(0,Z.Z)(j,2),B=(z[0],z[1],(0,T.useState)(0)),U=(0,Z.Z)(B,2),W=U[0],V=(U[1],(0,T.useState)(0)),H=(0,Z.Z)(V,2),G=(H[0],H[1],(0,T.useState)(0)),q=(0,Z.Z)(G,2),X=q[0],Y=(q[1],(0,T.useState)([])),K=(0,Z.Z)(Y,2),J=(K[0],K[1],(0,T.useState)(!0)),$=(0,Z.Z)(J,2),Q=$[0],ee=$[1],te=(0,T.useState)(10),ne=(0,Z.Z)(te,2),re=ne[0],ae=ne[1],ie=(0,T.useState)(0),oe=(0,Z.Z)(ie,2),se=oe[0],le=oe[1],ue=(0,T.useState)([]),ce=(0,Z.Z)(ue,2),de=ce[0],he=ce[1],fe=(0,T.useState)(0),pe=(0,Z.Z)(fe,2),me=pe[0],ve=pe[1],ge=(0,T.useState)("nada"),ye=(0,Z.Z)(ge,2),be=ye[0],xe=(ye[1],(0,T.useState)("")),we=(0,Z.Z)(xe,2),ke=we[0],Se=we[1],Te=Ze(),Ee=(0,T.useState)(Ko),Ce=(0,Z.Z)(Ee,2),_e=(Ce[0],Ce[1],(0,T.useState)(!1)),Me=(0,Z.Z)(_e,2),Ae=Me[0],Ie=Me[1],Ne=(0,T.useState)(!1),Re=(0,Z.Z)(Ne,2),Oe=Re[0],De=(Re[1],(0,T.useState)(!1)),Pe=(0,Z.Z)(De,2),Le=Pe[0],Fe=Pe[1],je=(0,T.useState)(!1),ze=(0,Z.Z)(je,2),Be=ze[0],Ue=ze[1],We=(0,T.useState)(!1),Ve=(0,Z.Z)(We,2),He=Ve[0],Ge=Ve[1],qe=(0,T.useState)(!1),Xe=(0,Z.Z)(qe,2),Ye=Xe[0],Ke=Xe[1],Je=(0,T.useState)(),$e=(0,Z.Z)(Je,2),Qe=$e[0],et=$e[1],tt=(0,T.useState)(0),nt=(0,Z.Z)(tt,2),rt=(nt[0],nt[1]),at=(0,T.useState)(0),it=(0,Z.Z)(at,2),ot=it[0],st=it[1];(0,T.useEffect)((function(){if(e.length>0&&f){console.log(e);var t=e.filter((function(e){if(e.idobra===f)return e}))[0];et(t)}}),[f]),(0,T.useEffect)((function(){0===h.length?Ie(!1):Ie(!0)}),[h]),(0,T.useEffect)((function(){s.length>0?dt():he([])}),[s]),(0,T.useEffect)((function(){(n||r)&&F(!0)}),[n,r]),(0,T.useEffect)((function(){if(console.log(i),i.length>0){var e=i.filter((function(e){if("Inspecci\xf3n"===e.reportType)return e})),t=i.filter((function(e){if("Mantenci\xf3n"===e.reportType)return e}));A(Hme),O(Gme),b(e),S(t)}else A(Hme),O(Gme),b([]),S([])}),[i]),(0,T.useEffect)((function(){if(y.length>0){var e=y.filter((function(e){if(e.origen)return e})),t=y.filter((function(e){if("Asignar"===e.state&&!e.origen)return e})),n=y.filter((function(e){if(e.usersAssigned.length>0&&"En proceso"===e.state&&e.level<3&&(e.level>0||!e.level))return e})),r=y.filter((function(e){if(3===e.level)return e})),a=y.filter((function(e){if(4===e.level)return e})),i=(0,_.Z)(Hme);i[0].number=a.length,i[1].number=r.length,i[2].number=n.length,i[3].number=t.length,i[4].number=e.length,i[0].lista=a,i[1].lista=r,i[2].lista=n,i[3].lista=t,i[4].lista=e,A(i)}else{var o=(0,_.Z)(Hme);o[0].number=0,o[1].number=0,o[2].number=0,o[3].number=0,o[4].number=0,o[0].lista=[],o[1].lista=[],o[2].lista=[],o[3].lista=[],o[4].lista=[],A(o)}}),[y]),(0,T.useEffect)((function(){if(k.length>0){var e=k.filter((function(e){if(e.origen)return e})),t=k.filter((function(e){if("Asignar"===e.state&&!e.origen)return e})),n=k.filter((function(e){if(e.usersAssigned.length>0&&"En proceso"===e.state&&e.level<3&&(e.level>0||!e.level)&&!e.origen)return e})),r=k.filter((function(e){if(3===e.level&&!e.origen)return e})),a=k.filter((function(e){if(4===e.level&&!e.origen)return e})),i=(0,_.Z)(Gme);i[0].number=a.length,i[1].number=r.length,i[2].number=n.length,i[3].number=t.length,i[4].number=e.length,i[0].lista=a,i[1].lista=r,i[2].lista=n,i[3].lista=t,i[4].lista=e,O(i)}else{var o=(0,_.Z)(Gme);o[0].number=0,o[1].number=0,o[2].number=0,o[3].number=0,o[4].number=0,o[0].lista=[],o[1].lista=[],o[2].lista=[],o[3].lista=[],o[4].lista=[],O(o)}}),[k]),(0,T.useEffect)((function(){(M.length>0||R.length>0)&&localStorage.getItem("buttonSelected")&&document.getElementById(localStorage.getItem("buttonSelected")).click()}),[M,R]);var lt=function(e,t,n,r){Se(r),localStorage.setItem("buttonSelected",t),(0,_.Z)(M).forEach((function(e,t){var n=document.getElementById("button_".concat(t,"_inspecciones"));n&&(n.style.backgroundColor=e.buttonColor)})),(0,_.Z)(R).forEach((function(e,t){var n=document.getElementById("button_".concat(t,"_mantenciones"));n&&(n.style.backgroundColor=e.buttonColor)})),document.getElementById(t).style.backgroundColor="#ccc",e.length>0?(o("Asignar"===r||"En proceso"===r?e.sort(ct):e.sort(ut)),u(e),ee(!1)):ee(!0)},ut=function(e,t){return t.idIndex-e.idIndex},ct=function(e,t){return e.idIndex-t.idIndex},dt=function(){for(var e=[],t=0*re;t<re+0*re;t++)if(s[t]&&e.push(s[t]),t===re+0*re-1){var n=[].concat(e).sort("Asignar"===ke||"En proceso"===ke?ct:ut);he(n),ve(s.length)}};(0,T.useEffect)((function(){var e=(0,_.Z)(l);if("nada"===be)o(l),ve(l.length);else{var t=[];e.forEach((function(n,r){n.site===be&&t.push(n),r===e.length-1&&(o(t),ve(t.length))}))}}),[be]);var ht=function(){var e=mo(fo().mark((function e(){var t,n,r,a,o;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.length>0?(Fe(!0),console.log("download"),rt(i.length),t=(0,_.Z)(i),n=[],r=[],a=[],o=[],0,console.log(m.length),m.length>0?ft(t,0,n,r,a,o,m):(alert("Espere que se termine de descargar los recursos."),Fe(!1))):alert("Debe contar con al menos una OT creada.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=mo(fo().mark((function e(t,n,r,a,i,o,s){var l,u,c,d,h,f,m,v,g,y,b,x,w,k,S,T,E;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length!==n){e.next=14;break}l=vTe.book_new(),u=vTe.json_to_sheet(r),c=vTe.json_to_sheet(a),d=vTe.json_to_sheet(i),h=vTe.json_to_sheet(o),vTe.book_append_sheet(l,u,"Datos de reporte"),vTe.book_append_sheet(l,c,"Datos de material v1"),vTe.book_append_sheet(l,d,"Datos de material v2"),vTe.book_append_sheet(l,h,"Datos de tareas pendientes"),aTe(l,"".concat(Date.now(),".xlsx")),Fe(!1),e.next=35;break;case 14:return console.log(n),st(100*n/t.length),f=t[n],e.next=19,ji(f._id);case 19:m=e.sent,f.commitWarning="",f.isWarning=!1,v=s.filter((function(e){if(e.equid===f.machine)return e})),g=f.usersAssigned,y=[],g.forEach(function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p.filter((function(e){if(e._id===t)return e})),y.push(n[0]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b=p.filter((function(e){if(e._id===f.shiftManagerApprovedBy)return e})),x=p.filter((function(e){if(e._id===f.chiefMachineryApprovedBy)return e})),w=p.filter((function(e){if(e._id===f.sapExecutiveApprovedBy)return e})),k={"N\xb0 OT":f.idIndex,"N\xfamero OM":f.sapId,"D\xeda de creaci\xf3n":MTe(f.createdAt),"Mes de creaci\xf3n":ATe(f.createdAt),"A\xf1o de creaci\xf3n":ITe(f.createdAt),"D\xeda de inicio previsto":MTe(f.datePrev),"Mes de inicio previsto":ATe(f.datePrev),"A\xf1o de inicio previsto":ITe(f.datePrev),"D\xeda de t\xe9rmino previsto":MTe(f.endPrev),"Mes de t\xe9rmino previsto":ATe(f.endPrev),"A\xf1o de t\xe9rmino previsto":ITe(f.endPrev),"D\xeda de inicio reporte":MTe(f.dateInit),"Mes de inicio reporte":ATe(f.dateInit),"A\xf1o de inicio reporte":ITe(f.dateInit),"Hora de inicio reporte":RTe(f.dateInit),"D\xeda de t\xe9rmino reporte":MTe(f.endReport),"Mes de t\xe9rmino reporte":ATe(f.endReport),"A\xf1o de t\xe9rmino reporte":ITe(f.endReport),"Hora de t\xe9rmino reporte":RTe(f.endReport),"D\xeda de cierre":MTe(f.dateClose),"Mes de cierre":ATe(f.dateClose),"A\xf1o de cierre":ITe(f.dateClose),"Ejecutivo SAP":w[0]&&w[0].name?"".concat(w[0].name," ").concat(w[0].lastName):"Sin Cierre SAP","D\xeda de aprobaci\xf3n SAP":f.dateClose?MTe(f.dateClose):"Sin Cierre SAP","Mes de aprobaci\xf3n SAP":f.dateClose?ATe(f.dateClose):"Sin Cierre SAP","A\xf1o de aprobaci\xf3n SAP":f.dateClose?ITe(f.dateClose):"Sin Cierre SAP","Jefe de Maquinaria":x[0]&&x[0].name?"".concat(x[0].name," ").concat(x[0].lastName):"Sin Aprobaci\xf3n Maquinaria","D\xeda de aprobaci\xf3n Maquinaria":f.chiefMachineryApprovedDate?MTe(f.chiefMachineryApprovedDate):"Sin Aprobaci\xf3n Maquinaria","Mes de aprobaci\xf3n Maquinaria":f.chiefMachineryApprovedDate?ATe(f.chiefMachineryApprovedDate):"Sin Aprobaci\xf3n Maquinaria","A\xf1o de aprobaci\xf3n Maquinaria":f.chiefMachineryApprovedDate?ITe(f.chiefMachineryApprovedDate):"Sin Aprobaci\xf3n Maquinaria","Jefe de Turno":b[0]&&b[0].name?"".concat(b[0].name," ").concat(b[0].lastName):"Sin Aprobaci\xf3n Jefe de Turno","D\xeda de aprobaci\xf3n Jefe de Turno":f.shiftManagerApprovedDate?MTe(f.shiftManagerApprovedDate):"Sin Aprobaci\xf3n Jefe de Turno","Mes de aprobaci\xf3n Jefe de Turno":f.shiftManagerApprovedDate?ATe(f.shiftManagerApprovedDate):"Sin Aprobaci\xf3n Jefe de Turno","A\xf1o de aprobaci\xf3n Jefe de Turno":f.shiftManagerApprovedDate?ITe(f.shiftManagerApprovedDate):"Sin Aprobaci\xf3n Jefe de Turno","Gu\xeda":f.guide,"ID PM":f.idPm,"N\xb0 m\xe1quina":v[0].equid.toString().replace("00000000",""),"Tipo de reporte":f.reportType,"C\xf3digo de obra":f.site,"Estado de orden":f.state,"Modo Test":f.testMode?"SI":"NO","URL documento PDF":f.urlPdf,"Creado por sistema":f.isAutomatic?"SI":"NO","Progreso de avance":f.progress,"Tiene alerta":"NO","Comentario a considerar":""},S=k,m&&m.data&&m.data.data&&m.data.data.group?(T=Object.values(m.data.data.group),E={"N\xb0 OT":f.idIndex},T.forEach((function(e,t){e.forEach((function(e,t){var n="Sin informaci\xf3n",r="Sin informaci\xf3n";if(e.messages&&e.messages.length>0&&(n=e.messages[e.messages.length-1]&&e.messages[e.messages.length-1].id?NTe(new Date(e.messages[e.messages.length-1].id)):"Sin informaci\xf3n",r=e.messages[e.messages.length-1]&&e.messages[e.messages.length-1].id?RTe(new Date(e.messages[e.messages.length-1].id)):"Sin informaci\xf3n"),e.isWarning){S["Tiene alerta"]="SI",S["Comentario a considerar"]||(S["Comentario a considerar"]="Se detecta tareas pendientes:\n"),S["Comentario a considerar"]+="- Apartado ".concat(e.strpmdesc,", pregunta ").concat(t+1,";\n");var a={Fecha:n,"N\xb0 OT":f.idIndex,Hoja:e.strpmdesc,"Descripcion De Tarea":e.taskdesc,Flota:v[0].model,Pauta:f.guide,Obra:f.site,Tarea:t+1};e.messages.length>0&&e.messages.forEach((function(e,t){a["Mensaje ".concat(t+1)]=e?"".concat(e.name,": ").concat(e.content):""})),o.push(a)}if("*"!==e.unidad){var s={Fecha:n,Hora:r,"N\xb0 OT":f.idIndex,Hoja:e.strpmdesc,Tarea:t+1,"Descripcion de tarea":e.obs01,Repuesto:e.partnumberUtl,"Cantidad a utilizar":e.cantidad,"Cantidad utilizada":e.unidadData?e.unidadData:0,Unidad:e.unidad,"Tipo de repuesto":e.idtypeutlPartnumber};i.push(s),E["".concat(e.partnumberUtl,"/").concat(e.unidad," proyectada")]||(E["".concat(e.partnumberUtl,"/").concat(e.unidad," proyectada")]=0),E["".concat(e.partnumberUtl,"/").concat(e.unidad," proyectada")]=E["".concat(e.partnumberUtl,"/").concat(e.unidad," proyectada")]+e.cantidad,E["".concat(e.partnumberUtl,"/").concat(e.unidad," usada")]||(E["".concat(e.partnumberUtl,"/").concat(e.unidad," usada")]=0),E["".concat(e.partnumberUtl,"/").concat(e.unidad," usada")]=E["".concat(e.partnumberUtl,"/").concat(e.unidad," usada")]+(e.unidadData?parseFloat(e.unidadData):0)}})),t===T.length-1&&!E["Tiene alerta"]&&E["Comentario a considerar"]&&0===E["Comentario a considerar"].length&&(E["Comentario a considerar"]="Reporte ha sido completado.")})),a.push(E),r.push(S)):r.push(S),st(100*(n+1)/t),ft(t,n+=1,r,a,i,o,s);case 35:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,s){return e.apply(this,arguments)}}();return(0,Ct.jsxs)("div",{className:"container-width",children:[(0,Ct.jsx)(xIe,{open:Oe}),(0,Ct.jsx)(sNe,{open:Le,progress:ot}),Be&&(0,Ct.jsx)(oNe,{open:Be,handleClose:function(){Ue(!1)},reports:i}),Ye&&(0,Ct.jsx)(_Te,{open:Ye,handleClose:function(){Ke(!1)},reports:i}),He&&(0,Ct.jsx)(ETe,{open:He,handleClose:function(){Ge(!1)}}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20,flexGrow:1},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){Te(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)(lh,{variant:"h1",style:{marginTop:0,marginBottom:0,fontSize:16,width:"100%"},children:"Ordenes de trabajo"}),n&&Qe&&(0,Ct.jsxs)("p",{style:{position:"absolute",right:320,textAlign:"right",maxWidth:300,borderColor:"#ccc"},children:["Obra seleccionada: ",(0,Ct.jsx)("br",{}),"".concat(Qe&&Qe.descripcion)]}),n&&(0,Ct.jsx)(Jd,{color:"primary",style:{marginRight:5},edge:"end",hidden:!L,onClick:function(){return Ge(!0)},title:"Seleccionar Obra",children:(0,Ct.jsx)(Eu,{icon:gs})}),n&&(0,Ct.jsx)(Jd,{color:"primary",style:{marginRight:5},edge:"end",hidden:!L,onClick:function(){return Ke(!0)},title:"KPI",children:(0,Ct.jsx)(Eu,{icon:es})}),n&&(0,Ct.jsx)(Jd,{color:"primary",style:{marginRight:5},edge:"end",hidden:!L,onClick:ht,title:"Exportar Informaci\xf3n de Reportes",children:(0,Ct.jsx)(Eu,{icon:ls})}),(0,Ct.jsx)(Jd,{color:"primary",style:{marginRight:5},edge:"end",hidden:!L,onClick:function(){Ue(!0)},title:"Informaci\xf3n de Reportes",children:(0,Ct.jsx)(Eu,{icon:ps})}),(0,Ct.jsx)(Jd,{color:"primary",style:{marginRight:5},edge:"end",onClick:function(){Te("/calendar")},title:"Calendario",children:(0,Ct.jsx)(Eu,{icon:$o})}),(0,Ct.jsxs)(Jd,{style:{position:"relative"},color:"primary",edge:"end",hidden:!L,onClick:function(){Ae?Te("/reports/create-report"):alert("Espere a que las pautas est\xe9n descargadas")},title:"Nuevo reporte",children:[(0,Ct.jsx)(Eu,{style:{position:"absolute",zIndex:100,fontSize:12,top:10,right:10,color:"#F78E63",fontWeight:600},icon:Ss}),(0,Ct.jsx)(Eu,{style:{zIndex:10},icon:as})]})]})})}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsxs)(Lh,{item:!0,xs:12,sm:12,md:4,lg:"auto",xl:"auto",children:[(0,Ct.jsxs)("div",{className:"menu-card",children:[(0,Ct.jsx)("h3",{children:"Inspecciones"}),(0,Ct.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[(0,Ct.jsx)("div",{style:{float:"left",width:"30%"},children:(0,Ct.jsx)("p",{style:{fontSize:32,margin:0},children:Hme[3].number})}),(0,Ct.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:(0,Ct.jsx)("p",{style:{fontSize:10,margin:0},children:"Inspecciones por asignar"})})]}),(0,Ct.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[(0,Ct.jsx)("div",{style:{float:"left",width:"30%"},children:(0,Ct.jsxs)("p",{style:{fontSize:32,margin:0},children:[W," "]})}),(0,Ct.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:(0,Ct.jsx)("p",{style:{fontSize:10,margin:0},children:"Inspecciones completadas en la semana"})})]}),(0,Ct.jsx)("div",{style:{paddingLeft:10,paddingRight:10,marginTop:"10vh"},children:M.map((function(e,t){return(0,Ct.jsxs)("div",{style:{display:"flex",fontSize:10},children:[(0,Ct.jsx)(Eu,{icon:rs,size:"2x",style:{marginRight:10},color:e.color}),(0,Ct.jsx)("p",{style:{minWidth:100,marginBottom:0,marginTop:4},children:e.name}),(0,Ct.jsx)("div",{style:{padding:3,backgroundColor:"#ccc",borderRadius:20,width:30,textAlign:"center",height:23},children:e.number}),(0,Ct.jsx)("button",{id:"button_".concat(t,"_inspecciones"),onClick:function(){return lt(e.lista,"button_".concat(t,"_inspecciones"),0,e.name)},style:{position:"relative",right:5,width:80,height:23,borderRadius:20,backgroundColor:e.buttonColor,marginLeft:20,marginBottom:8},children:e.button})]},t)}))})]}),(0,Ct.jsxs)("div",{className:"menu-card",children:[(0,Ct.jsx)("h3",{children:"Mantenciones"}),(0,Ct.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[(0,Ct.jsx)("div",{style:{float:"left",width:"30%"},children:(0,Ct.jsx)("p",{style:{fontSize:32,margin:0},children:Gme[3].number})}),(0,Ct.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:(0,Ct.jsx)("p",{style:{fontSize:10,margin:0},children:"Mantenciones por asignar"})})]}),(0,Ct.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[(0,Ct.jsx)("div",{style:{float:"left",width:"30%"},children:(0,Ct.jsxs)("p",{style:{fontSize:32,margin:0},children:[X," "]})}),(0,Ct.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:(0,Ct.jsx)("p",{style:{fontSize:10,margin:0},children:"Mantenciones completadas en la semana"})})]}),(0,Ct.jsx)("div",{style:{paddingLeft:10,paddingRight:10,marginTop:"10vh"},children:R.map((function(e,t){return(0,Ct.jsxs)("div",{style:{display:"flex",fontSize:10},children:[(0,Ct.jsx)(Eu,{icon:rs,size:"2x",style:{marginRight:10},color:e.color}),(0,Ct.jsx)("p",{style:{minWidth:100,marginBottom:0,marginTop:4},children:e.name}),(0,Ct.jsx)("div",{style:{padding:3,backgroundColor:"#ccc",borderRadius:20,width:30,textAlign:"center",height:23},children:e.number}),(0,Ct.jsx)("button",{id:"button_".concat(t,"_mantenciones"),onClick:function(){return lt(e.lista,"button_".concat(t,"_mantenciones"),0,e.name)},style:{position:"relative",right:5,width:80,height:23,borderRadius:20,backgroundColor:e.buttonColor,marginLeft:20,marginBottom:8},children:e.button})]},t)}))})]})]}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:8,lg:9,xl:9,children:Q?(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("img",{style:{margin:0,position:"absolute",top:"50%",left:"calc(100%/1.53)",msTransform:"translateY(-50%)",transform:"translateY(-50%)"},src:"../../assets/icons/Arrow.svg",alt:""}),(0,Ct.jsx)("div",{style:{textAlign:"center",position:"absolute",top:"55%",left:"calc(100%/1.6)"},children:(0,Ct.jsxs)("p",{children:["Selecciona una opci\xf3n ",(0,Ct.jsx)("br",{})," para ver el detalle"]})})]}):(0,Ct.jsxs)("div",{style:{height:"calc(100vh - 240px)",display:"block",overflowY:"auto"},children:[(0,Ct.jsx)("div",{style:{width:"100%",paddingLeft:10,paddingRight:10},children:(0,Ct.jsxs)(Lh,{container:!0,style:{width:"100%",borderBottomColor:"#ccc",borderBottomStyle:"solid",borderBottomWidth:1,paddingBottom:10},children:[(0,Ct.jsx)(Lh,{item:!0,xl:"auto",children:(0,Ct.jsx)("p",{style:{width:80},children:"Filtros: "})}),(0,Ct.jsx)(Lh,{item:!0,xl:3,children:(0,Ct.jsx)("input",{style:{marginRight:10,marginTop:14,marginBottom:14,width:300},placeholder:"Ingrese N\xb0 OT, M\xe1quina, Flota o C\xf3d. SAP",onChange:function(e){!function(e){console.log(e);var t=(0,_.Z)(l);if(e.length>0){var r=[];t.forEach((function(a,i){0===i&&console.log(a),(a.idIndex.toString().match(Number(e).toString())||a.machineData.model.match(e)||a.machineData.equ.match(e)||a.sapId.match(e))&&("nada"===be||n&&a.idobra===be)&&r.push(a),i===t.length-1&&(o(r.sort(ut)),ve(r.length))}))}else o(l.sort(ut)),ve(s.length)}(e.target.value)}})}),(0,Ct.jsx)(Lh,{item:!0,sm:"auto"})]})}),Q?(0,Ct.jsx)(Ct.Fragment,{}):(0,Ct.jsx)(RIe,{list:de,typeReportsSelected:ke,statusReports:d,getReports:c}),de.length>0?(0,Ct.jsx)(Vme,{component:"div",color:"primary",style:{position:"absolute",right:20,bottom:10,borderColor:"#ccc",borderWidth:1,borderStyle:"solid"},onPageChange:function(e,t){le(t);for(var n=[],r=t*re;r<re+t*re;r++)if(s[r]&&n.push(s[r]),r===re+t*re-1){var a=[].concat(n).sort(ut);he(a)}},rowsPerPage:re,onRowsPerPageChange:function(e){ae(parseInt(e.target.value,10)),le(0);for(var t=[],n=se*parseInt(e.target.value,10);n<parseInt(e.target.value,10)+se*parseInt(e.target.value,10);n++)s[n]&&t.push(s[n]),n===parseInt(e.target.value,10)+se*parseInt(e.target.value,10)-1&&he(t)},count:me,page:se}):(0,Ct.jsx)(Ct.Fragment,{})]})})]})]})},PTe=function(){var e=cNe(),t=e.userData,n=e.admin,r=TNe(),a=(r.pautas,r.createReport),i=UNe().sitesToSelection,o=(0,T.useState)([]),s=(0,Z.Z)(o,2),l=s[0],u=s[1],c=(0,T.useState)([]),d=(0,Z.Z)(c,2),h=d[0],f=d[1],p=(0,T.useState)([]),m=(0,Z.Z)(p,2),v=m[0],g=m[1],y=(0,T.useState)(""),b=(0,Z.Z)(y,2),x=b[0],w=b[1],k=(0,T.useState)(),S=(0,Z.Z)(k,2),E=S[0],C=S[1],_=(0,T.useState)(),M=(0,Z.Z)(_,2),A=(M[0],M[1]),I=(0,T.useState)(),N=(0,Z.Z)(I,2),R=N[0],O=N[1],D=(0,T.useState)(),P=(0,Z.Z)(D,2),L=P[0],F=P[1],j=(0,T.useState)(),z=(0,Z.Z)(j,2),B=z[0],U=z[1],W=(0,T.useState)(!0),V=(0,Z.Z)(W,2),H=V[0],G=(V[1],(0,T.useState)(!1)),q=(0,Z.Z)(G,2),X=q[0],Y=(q[1],(0,T.useState)(!0)),K=(0,Z.Z)(Y,2),J=K[0],$=K[1],Q=(0,T.useState)(0),ee=(0,Z.Z)(Q,2),te=ee[0],ne=ee[1],re=(0,T.useState)(""),ae=(0,Z.Z)(re,2),ie=ae[0],oe=ae[1],se=(0,T.useState)(""),le=(0,Z.Z)(se,2),ue=le[0],ce=le[1],de=(0,T.useState)(""),he=(0,Z.Z)(de,2),fe=he[0],pe=he[1],me=(0,T.useState)(""),ve=(0,Z.Z)(me,2),ge=ve[0],ye=ve[1],be=(0,T.useState)(""),xe=(0,Z.Z)(be,2),we=xe[0],ke=xe[1],Se=(0,T.useState)(""),Te=(0,Z.Z)(Se,2),Ee=Te[0],Ce=Te[1],_e=(0,T.useState)(""),Me=(0,Z.Z)(_e,2),Ae=Me[0],Ie=Me[1],Ne=(0,T.useState)(!1),Re=(0,Z.Z)(Ne,2),Oe=Re[0],De=Re[1],Pe=(0,T.useState)(""),Le=(0,Z.Z)(Pe,2),Fe=Le[0],je=Le[1],ze=(0,T.useState)([]),Be=(0,Z.Z)(ze,2),Ue=(Be[0],Be[1]),We=(0,T.useState)(!1),He=(0,Z.Z)(We,2),Ge=He[0],qe=He[1],Xe=ni(),Ye=Ze(),Ke=Ve().id;(0,T.useEffect)((function(){if(B){f([]);var e=JSON.parse(B);Je(e)}}),[B]);var Je=function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Inspecci\xf3n"===R?t.idpminspeccion:t.idpmmantencion,Ie(n),e.next=4,Qi(n);case 4:r=e.sent,f(r.data.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,T.useEffect)((function(){x&&Qe(x)}),[x]);var $e=function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=mo(fo().mark((function e(t){var n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(t),e.next=3,So.initDbMachines();case 3:if(!(n=e.sent)){e.next=12;break}return e.next=7,So.consultar(n.database);case 7:return r=e.sent,e.next=10,r.filter((function(e){if(e.model===t&&e.idobra===Fe)return e}));case 10:a=e.sent,g(a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=mo(fo().mark((function e(){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qe(!0),(n={createdBy:t._id,updatedBy:t._id,state:"Asignar",datePrev:Date.parse(ie),endPrev:Date.parse(ue),guide:E,reportType:R,machine:JSON.parse(B).equid,site:Fe,sapId:Ee,idPm:Ae,testMode:Oe}).machine&&n.sapId&&n.guide&&"Selecci\xf3n no cuenta con pautas."!==n.guide&&n.reportType&&"Seleccione..."!==n.reportType?a(n,qe):(alert("Falta informaci\xf3n"),qe(!1));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={idIndex:te,updatedBy:localStorage.getItem("_id"),state:"Asignar",datePrev:Date.parse(ie),machine:L,guide:E,reportType:R},(0,kt.Z)(t,"machine",JSON.parse(B).equid),(0,kt.Z)(t,"site",Fe),(n=t).machine&&n.guide&&"Selecci\xf3n no cuenta con pautas."!==n.guide&&n.reportType&&"Seleccione..."!==n.reportType){e.next=5;break}alert("Falta informaci\xf3n"),e.next=9;break;case 5:return e.next=7,Ii(n);case 7:(r=e.sent)&&(alert("Reporte ".concat(r.data.idIndex,", para m\xe1quina modelo ").concat(r.data.machine," editado satisfactoriamente.")),Ye(-1));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi();case 2:t=e.sent,ne(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,T.useEffect)((function(){nt(),n?bo.initDbObras().then(function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bo.consultar(t.database);case 2:n=e.sent,Ue(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):je(t.obras[0].idobra),ho.initDbMachines().then(function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ho.consultar(t.database);case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),rt()}),[]);var rt=function(){var e=new Date(Date.now()),t=e.getMonth()+1,n=e.getDate(),r=e.getFullYear();t<10&&(t="0"+t.toString()),n<10&&(n="0"+n.toString()),ke(r+"-"+t+"-"+n)};return(0,Ct.jsxs)(vg,{height:"100%",children:[(0,Ct.jsx)(Lh,{className:"root",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:Xe.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsxs)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:[(0,Ct.jsx)("div",{className:"navigation-bar",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){Ye(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:[Ke&&"Ordenes / Editar orden de trabajo",!Ke&&"Ordenes / Crear nueva orden de trabajo"]})]})})}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsxs)(Lh,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[n&&(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)(Jf,{children:[(0,Ct.jsx)("p",{style:{margin:5},children:"Seleccionar Obra"}),(0,Ct.jsxs)("select",{onBlur:function(){return $e(!0)},className:Xe.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){je(e.target.value)},value:Fe,children:[(0,Ct.jsx)("option",{children:"Seleccione..."}),i.length>0&&i.map((function(e,t){return(0,Ct.jsx)("option",{value:e.idobra,children:e.descripcion},t)}))]})]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)(Jf,{children:[(0,Ct.jsx)("p",{style:{margin:5},children:"N\xb0 OT"}),(0,Ct.jsx)("input",{disabled:!0,value:te,maxLength:12,onBlur:function(){return $e()},className:Xe.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)(Jf,{children:[(0,Ct.jsx)("p",{style:{margin:5},children:"ID SAP"}),(0,Ct.jsx)("input",{value:Ee,onChange:function(e){Ce(e.target.value)},maxLength:12,onBlur:function(){return $e()},className:Xe.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)(Jf,{children:[(0,Ct.jsx)("p",{style:{margin:5},children:"Fecha Inicio Programado"}),(0,Ct.jsx)("input",{value:ie,onChange:function(e){oe(e.target.value)},maxLength:12,onBlur:function(){return $e()},className:Xe.inputsStyle,type:"date",min:we,style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)(Jf,{children:[(0,Ct.jsx)("p",{style:{margin:5},children:"Fecha T\xe9rmino Programado"}),(0,Ct.jsx)("input",{value:ue,onChange:function(e){ce(e.target.value)},maxLength:12,onBlur:function(){return $e()},className:Xe.inputsStyle,type:"date",min:ie,disabled:!ie,style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsxs)("div",{style:{width:"100%"},children:[(0,Ct.jsx)("p",{style:{margin:5},children:"Seleccionar tipo de reporte"}),(0,Ct.jsx)(Jf,{children:(0,Ct.jsxs)("select",{className:Xe.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){var t;O(e.target.value),t=e.target.value,A(t)},value:R,children:[(0,Ct.jsx)("option",{children:"Seleccione..."}),(0,Ct.jsx)("option",{children:"Inspecci\xf3n"}),(0,Ct.jsx)("option",{children:"Mantenci\xf3n"})]})})]}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)(Jf,{children:[(0,Ct.jsx)("p",{style:{margin:5},children:"Seleccionar modelo de m\xe1quina"}),(0,Ct.jsxs)("select",{className:Xe.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){F(e.target.value),$(!1),Qe(e.target.value)},value:L,children:[(0,Ct.jsx)("option",{children:"Seleccione..."}),l.map((function(e,t){return(0,Ct.jsxs)("option",{value:e.model,children:[e.type," ",e.brand," ",e.model]},t)}))]})]})})]}),(0,Ct.jsxs)(Lh,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)(Jf,{children:[(0,Ct.jsx)("p",{children:"Seleccionar m\xe1quina de obra"}),(0,Ct.jsxs)("select",{onBlur:function(){return $e()},className:Xe.inputsStyle,disabled:J,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){"init"===e.target.value?(pe(""),ye(""),U("")):(U(e.target.value),ye(JSON.parse(e.target.value).equid),pe(JSON.parse(e.target.value).hourMeter/36e5))},value:B,defaultValue:"init",children:[(0,Ct.jsx)("option",{value:"init",selected:!0,children:"Seleccione..."}),v.sort((function(e,t){return Number(e.equ)-Number(t.equ)})).map((function(e,t){return(0,Ct.jsxs)("option",{value:JSON.stringify(e),children:[" ",e.equ," / ",e.type," ",e.brand," - ",e.model," "]},t)}))]})]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)(Jf,{children:[(0,Ct.jsx)("p",{children:"SPM"}),(0,Ct.jsx)("input",{disabled:!0,value:Ae||"SIN SPM",maxLength:12,onBlur:function(){return $e()},className:Xe.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)(Jf,{children:[(0,Ct.jsx)("p",{children:"Horas de operaci\xf3n"}),(0,Ct.jsx)("input",{disabled:!0,value:fe,maxLength:12,onBlur:function(){return $e()},className:Xe.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)(Jf,{children:[(0,Ct.jsx)("p",{children:"Equipo ID"}),(0,Ct.jsx)("input",{disabled:!0,value:ge,maxLength:12,onBlur:function(){return $e()},className:Xe.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)(Jf,{children:[(0,Ct.jsxs)("p",{style:{margin:0},children:["Seleccionar Pauta  ",H&&X&&(0,Ct.jsx)("b",{children:"ESPERE..."})]}),(0,Ct.jsxs)("select",{disabled:0===h.length,className:Xe.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){C(e.target.value)},value:E,children:[(0,Ct.jsx)("option",{children:"Seleccione..."}),h.length>0&&h.map((function(e,t){return(0,Ct.jsxs)("option",{value:[e.typepm],children:[" ","SPM000787"===e.idpm?"Motor LMR":"Motor Est\xe1ndar"," - ",e.typepm," / ",e.header[1].typeDataDesc," ","Gen\xe9rico"===e.zone?"":"".concat([e.zone])," "]},t)})),0==h.length&&(0,Ct.jsx)("option",{children:" Selecci\xf3n no cuenta con pautas. "})]})]})}),(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)("p",{children:["Test: ",(0,Ct.jsx)(dy,{checked:Oe,onChange:function(e){return De(e.target.checked)}})]})})]})]})]}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,lg:6,md:6,sm:!1,xs:!1}),(0,Ct.jsx)(Lh,{item:!0,lg:6,md:6,sm:12,xs:12,children:(0,Ct.jsxs)("div",{style:{width:"100%",paddingTop:30,textAlign:"center"},children:[Ke&&(0,Ct.jsx)("button",{onClick:function(){return tt()},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Editar reporte"}),Ke&&(0,Ct.jsx)("button",{onClick:function(){Ke&&confirm("Se borrar\xe1 el reporte permanentemente. \xbfDesea continuar?")&&Ri(JSON.parse(Ke)._id).then((function(e){alert("Reporte eliminado."),Ye(-1)}))},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Borrar reporte"}),!Ke&&(0,Ct.jsx)("button",{onClick:function(){return et()},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Agregar reporte"})]})})]})]})})}),(0,Ct.jsx)(xIe,{open:Ge})]})},LTe=function(){var e=ni();return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:e.pageContainer,item:!0,xs:12,children:(0,Ct.jsx)(Ipe,{elevation:0,className:"pageCard",children:[{id:0,description:"Actividad 1 programada",fecha:"12/10/2021"},{id:1,description:"Actividad 1 ejecutada",fecha:"13/10/2021"},{id:2,description:"Actividad 2 programada",fecha:"13/10/2021"},{id:3,description:"Actividad 3 programada",fecha:"14/10/2021"},{id:4,description:"Actividad 2 ejecutada",fecha:"15/10/2021"},{id:5,description:"Actividad 4 programada",fecha:"16/10/2021"},{id:6,description:"Actividad 3 ejecutada",fecha:"16/10/2021"},{id:7,description:"Actividad 4 ejecutada",fecha:"19/10/2021"},{id:8,description:"Actividad 5 programada",fecha:"20/10/2021"},{id:9,description:"Actividad 6 programada",fecha:"20/10/2021"}].reverse().filter((function(e){return e.toString()})).map((function(e){return(0,Ct.jsx)(Lh,{item:!0,style:{width:"100%",padding:5},children:(0,Ct.jsx)("div",{style:{borderRadius:20,backgroundColor:"#fff",padding:10},children:(0,Ct.jsxs)("h3",{children:[e.fecha," - ",e.description]})})},e.id)}))})})})})},FTe=function(){var e=ni();return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:e.pageContainer,item:!0,xs:12,children:(0,Ct.jsx)(Ipe,{elevation:0,className:"pageCard"})})})})},jTe=function(){var e=ni();return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:e.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{style:{flexShrink:0},children:(0,Ct.jsx)("div",{style:{width:"100%",color:"#fff"},children:(0,Ct.jsx)("h1",{children:"Configuraci\xf3n"})})}),(0,Ct.jsxs)(Lh,{container:!0,spacing:1,children:[(0,Ct.jsx)("div",{style:{width:"30%"},children:(0,Ct.jsxs)("div",{style:{textAlign:"left",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:[(0,Ct.jsx)(Kg,{button:!0,style:{width:"100%",textAlign:"left"},children:(0,Ct.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Perfil"})}),(0,Ct.jsx)(Kg,{button:!0,style:{width:"100%",textAlign:"left"},children:(0,Ct.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Notificaciones"})}),(0,Ct.jsx)(Kg,{button:!0,style:{width:"100%",textAlign:"left"},children:(0,Ct.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Informaci\xf3n"})}),(0,Ct.jsx)(Kg,{button:!0,style:{width:"100%",textAlign:"left"},children:(0,Ct.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Soporte"})})]})}),(0,Ct.jsx)("div",{style:{width:"70%",height:"35rem",overflowY:"auto"},children:(0,Ct.jsx)("div",{style:{textAlign:"left",height:"100%",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:(0,Ct.jsx)("div",{style:{height:"50%"}})})})]})]})})})})},zTe=function(){var e=(0,T.useState)([]),t=(0,Z.Z)(e,2),n=t[0],r=t[1],a=(0,T.useState)(!0),i=(0,Z.Z)(a,2),o=i[0],s=i[1],l=(0,T.useState)(!0),u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=(0,T.useState)(!0),f=(0,Z.Z)(h,2),p=f[0],m=f[1],v=cNe().setSite,g=UNe().sites,y=ni(),b=function(e){window.confirm("Confirme que cambiar\xe1 la obra de navegaci\xf3n")&&(console.log(e),v(e),alert(e.descripcion+" seleccionado."))};(0,T.useEffect)((function(){g.length>0&&r(g)}),[g]),(0,T.useEffect)((function(){var e=(0,_.Z)(g);o?e.sort((function(e,t){return e.idobra>t.idobra?1:e.idobra<t.idobra?-1:0})):e.sort((function(e,t){return e.idobra<t.idobra?1:e.idobra>t.idobra?-1:0})),r(e)}),[o]),(0,T.useEffect)((function(){var e=(0,_.Z)(g);c?e.sort((function(e,t){return e.descripcion>t.descripcion?1:e.descripcion<t.descripcion?-1:0})):e.sort((function(e,t){return e.descripcion<t.descripcion?1:e.descripcion>t.descripcion?-1:0})),r(e)}),[c]),(0,T.useEffect)((function(){var e=(0,_.Z)(g);p?e.sort((function(e,t){return e.status>t.status?1:e.status<t.status?-1:0})):e.sort((function(e,t){return e.status<t.status?1:e.status>t.status?-1:0})),r(e)}),[p]);return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:y.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsx)("h1",{children:"Para navegar en la plataforma debe seleccionar una obra."})}),(0,Ct.jsxs)(Lh,{container:!0,style:{height:"75vh",overflowY:"auto"},alignItems:"center",justifyContent:"center",children:[(0,Ct.jsx)("div",{item:!0,xs:12,style:{borderBottom:"1px solid #ccc",width:"100%"},children:(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:1,className:"selectionType",onClick:function(){s(!o)},children:(0,Ct.jsx)("p",{children:"ID de Obra"})}),(0,Ct.jsx)(Lh,{item:!0,xs:6,className:"selectionType",onClick:function(){d(!c)},children:(0,Ct.jsx)("p",{children:"Nombre de Obra"})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,className:"selectionType",onClick:function(){m(!p)},children:(0,Ct.jsx)("p",{children:"Estado"})}),(0,Ct.jsx)(Lh,{item:!0,xs:4,children:(0,Ct.jsx)("p",{style:{marginLeft:10},children:"Acci\xf3n"})})]})}),(0,Ct.jsx)("div",{style:{overflowY:"auto",height:"calc(100vh - 280px)",width:"100%"},children:n.filter((function(e){return e.toString()})).map((function(e,t){return(0,Ct.jsx)("div",{item:!0,xs:12,style:{borderBottom:"1px solid #ccc",width:"100%"},children:(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:1,children:(0,Ct.jsx)("p",{style:{color:!e.status&&"#ccc"},children:e.idobra})}),(0,Ct.jsx)(Lh,{item:!0,xs:6,children:(0,Ct.jsx)("p",{style:{color:!e.status&&"#ccc"},children:e.descripcion})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,children:(0,Ct.jsx)("p",{children:e.status?"Disponible":"Removido"})}),(0,Ct.jsxs)(Lh,{item:!0,xs:4,children:[(0,Ct.jsx)(Hm,{disabled:!e.status,style:{marginTop:5,marginLeft:10,color:"green",borderColor:"green"},variant:"outlined",children:"Informaci\xf3n"}),(0,Ct.jsx)(Hm,{disabled:!e.status,style:{marginTop:5,marginLeft:10},onClick:function(){b(e)},variant:"outlined",color:"primary",children:"Seleccionar"}),(0,Ct.jsx)(Hm,{disabled:!0,style:{marginTop:5,marginLeft:10},onClick:function(){b(e)},variant:"outlined",color:"secondary",children:"Remover"})]})]})},t)}))})]})]})})})})},BTe=function(){var e=ni(),t=Ze(),n="superAdmin"!==localStorage.getItem("role");return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:e.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){t(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n"})]})})})}),(0,Ct.jsxs)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:[(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:3,style:{padding:10},children:(0,Ct.jsx)(Dpe,{variant:"users"})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:3,style:{padding:10},children:(0,Ct.jsx)(Dpe,{variant:"roles",disableButton:n})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:3,style:{padding:10},children:(0,Ct.jsx)(Dpe,{variant:"patterns"})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:6,lg:3,style:{padding:10},children:(0,Ct.jsx)(Dpe,{variant:"news"})})]})]})})})})},UTe=function(e){e.route;var t=(0,T.useState)(!1),n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=ni(),o=Ze();return(0,T.useEffect)((function(){navigator.onLine?a(!0):a(!1)}),[]),(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"root",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:i.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){o(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / Administrar usuarios"})]})})})}),(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:20,overflowY:"auto",height:"calc(100vh - 195px)"},children:(0,Ct.jsx)(AIe,{height:"calc(100vh - 500px)",hableButton:r})})})]})})})})},WTe={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},ZTe=function(){var e=jNe().getUsers,t=ni(),n=Ze(),r=(0,T.useState)(!1),a=(0,Z.Z)(r,2),i=a[0],o=a[1],s=(0,T.useState)(!1),l=(0,Z.Z)(s,2),u=l[0],c=l[1],d=(0,T.useState)(""),h=(0,Z.Z)(d,2),f=(h[0],h[1]),p=(0,T.useState)(""),m=(0,Z.Z)(p,2),v=m[0],g=m[1],y=(0,T.useState)(),b=(0,Z.Z)(y,2),x=b[0],w=b[1],k=(0,T.useContext)(MNe),S=k.userData,E=k.setUserData,C=k.setChangeModule,_=(k.set,Ve().id),M=function(){var e;i?(e=!1,n(-1),I()):e=!0,setTimeout((function(){o(e)}),500)};(0,T.useEffect)((function(){_?(g("Editar usuario"),Ci(_).then((function(e){console.log(e),"x@x.xx"===e.data.email&&(e.data.email=""),E(e.data),w(0)}))):(w(0),g("Nuevo usuario"))}),[]);var A=function(){var t=mo(fo().mark((function t(){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(!0),"Nuevo usuario"!==v){t.next=17;break}return t.prev=2,f("Inscribiendo nuevo usuario"),t.next=6,Si(S,S.password);case 6:200==t.sent.status?(c(!1),M(),e()):(alert("Error al crear usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),c(!1),n(-1)),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(2),alert("Error al crear usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),c(!1),n(-1);case 15:t.next=31;break;case 17:if("Editar usuario"!==v){t.next=31;break}return t.prev=18,f("Editando usuario"),t.next=22,Ti(S);case 22:200==t.sent.status?(c(!1),M(),e()):(alert("Error al editar usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),c(!1),n(-1)),t.next=31;break;case 26:t.prev=26,t.t1=t.catch(18),alert("Error al crear usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),c(!1),n(-1);case 31:case"end":return t.stop()}}),t,null,[[2,10],[18,26]])})));return function(){return t.apply(this,arguments)}}(),I=function(){localStorage.removeItem("userDataToSave"),localStorage.removeItem("listaPermisosReportes"),localStorage.removeItem("listaPermisosUsuarios")},N=function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.rut?(0,B3.validate)(S.rut)?S.name?S.lastName?S.obras.length>0?S.roles.length>0?_?w(x+1):S.password.length>5&&S.confirmPassword.length>5?S.confirmPassword===S.password?w(x+1):alert("Password y su confirmaci\xf3n deben ser iguales"):alert("Password debe contar con al menos 6 car\xe1cteres"):alert("Seleccione al menos un rol"):alert("Debe seleccionar una obra"):alert("Ingrese un apellido"):alert("Ingrese un nombre"):alert("Rut inv\xe1lido"):alert("Falta Rut");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:t.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){n(-1),I()}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:["Administraci\xf3n / Administrar usuarios / ",v]})]})})})}),(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsxs)("div",{style:{width:"100%",textAlign:"left",padding:10,overflowY:"auto"},children:[0===x&&(0,Ct.jsx)(IIe,{typeDisplay:v,uData:S}),1===x&&(0,Ct.jsx)(NIe,{width:"calc(100vw - 350px)",height:"calc(100vh - 320px)",typeDisplay:v,id:_}),(0,Ct.jsx)("div",{style:{position:"absolute",right:40,bottom:40},children:(0,Ct.jsx)("div",{style:{width:"100%"},children:(0,Ct.jsxs)("div",{style:{float:"right"},children:[1==x&&(0,Ct.jsx)("button",{onClick:function(){w(x-1),C(!1)},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Modificar Datos"}),(0,Ct.jsx)("button",{onClick:function(){n(-1),I()},style:{width:189,height:48,borderRadius:23,marginRight:17,fontSize:20,color:"#BB2D2D",borderColor:"#BB2D2D",borderWidth:2},children:"Cancelar"}),0==x&&(0,Ct.jsx)("button",{onClick:function(){return N()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Siguiente"}),x>0&&!_&&(0,Ct.jsx)("button",{onClick:function(){A()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Crear usuario"}),x>0&&_&&(0,Ct.jsx)("button",{onClick:function(){c(!0),setTimeout(mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(S,_);case 2:e.sent&&(M(),c(!1));case 4:case"end":return e.stop()}}),e)}))),1e3)},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Editar usuario"})]})})})]})}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)(Xc,{open:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Ct.jsxs)(vg,{sx:WTe,children:[(0,Ct.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ct.jsx)("img",{src:"../../assets/icons/check-green.svg",alt:""}),"Nuevo usuario"===v&&(0,Ct.jsx)("h1",{children:"Usuario creado con \xe9xito"}),"Editar usuario"===v&&(0,Ct.jsx)("h1",{children:"Usuario editado con \xe9xito"})]}),(0,Ct.jsx)(gy,{onClick:M,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})}),(0,Ct.jsx)(xIe,{open:u})]})]})})})})},VTe=function(e){e.route;var t=(0,T.useContext)(lNe),n=t.userData,r=t.admin,a=(0,T.useState)(!1),i=(0,Z.Z)(a,2),o=i[0],s=i[1],l=(0,T.useState)([]),u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=ni(),f=Ze();(0,T.useEffect)((function(){var e=localStorage.getItem("_id");navigator.onLine?Ei(r).then(function(){var t=mo(fo().mark((function t(n){var r,a;return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new Array,(r=n.data)&&(a=r.filter((function(t){if(t._id!=e&&"admin"!=t.role)return t})),d(a));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):setTimeout((function(){alert("Dispositivo sin conexi\xf3n. Revise si cuenta con internet e intente nuevamente."),f(-1)}),100)}),[]);return(0,Ct.jsxs)(vg,{height:"100%",children:[o&&(0,Ct.jsx)(aNe,{open:o,handleClose:function(){s(!1)},userData:n}),(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:h.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){f(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Perfil"})]})})})}),(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:12,lg:12,children:n&&(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:6,md:4,lg:4,children:(0,Ct.jsx)("div",{style:{padding:20,textAlign:"right"},children:(0,Ct.jsx)("img",{src:n.imageUrl||"../assets/no-profile-image.png",style:{maxHeight:300,maxWidth:300,objectFit:"cover"},width:"100%",alt:""})})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:6,md:4,lg:4,children:n&&(0,Ct.jsxs)("div",{style:{padding:20},children:[(0,Ct.jsxs)("h1",{children:[n.name," ",n.lastName]}),(0,Ct.jsx)("h3",{children:si(n.role)}),(0,Ct.jsx)("h3",{children:n.rut}),(0,Ct.jsx)("h3",{children:"x@x.xx"===n.email?"Sin email registrado":n.email}),(0,Ct.jsxs)("h3",{children:["+56",n.phone]}),(0,Ct.jsxs)("h3",{children:[n.sites?JSON.parse(n.sites).idobra:""," - ",n.sites?JSON.parse(n.sites).descripcion:""]}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,Ct.jsxs)("div",{style:{width:200,height:200},children:[(0,Ct.jsx)("h3",{children:"Firma"}),(0,Ct.jsx)("img",{src:n.sign,width:150,height:150})]})}),(0,Ct.jsx)(Hm,{style:{background:"brown",color:"white"},onClick:function(){s(!0)},children:"Editar Datos de  Usuario"})]})}),(0,Ct.jsxs)(Lh,{item:!0,xs:12,sm:12,md:4,lg:4,children:[(0,Ct.jsx)("div",{style:{padding:20},children:(0,Ct.jsx)("h1",{children:"Otros usuarios"})}),(0,Ct.jsx)("div",{style:{padding:20,maxHeight:"calc(100vh - 320px)",overflowY:"auto"},children:c.map((function(e,t){return e.imageUrl||(e.imageUrl="../assets/no-profile-image.png"),(0,Ct.jsxs)("div",{style:{width:"100%"},children:[(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:4,sm:3,lg:2,xl:2,children:(0,Ct.jsx)("img",{src:e.imageUrl,width:50,height:50,style:{objectFit:"cover",borderRadius:"50%"},alt:""})}),(0,Ct.jsx)(Lh,{item:!0,xs:6,sm:4,lg:4,xl:4,children:(0,Ct.jsxs)("p",{children:[e.name," ",e.lastName]})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:5,lg:4,xl:4,children:(0,Ct.jsx)("p",{children:si(e.role)})})]}),(0,Ct.jsx)("br",{})]},t)}))})]})]})})})]})})})]})},HTe=function(e){e.route;var t=(0,T.useState)(!1),n=(0,Z.Z)(t,2),r=(n[0],n[1]),a=ni(),i=Ze();return(0,T.useEffect)((function(){navigator.onLine?r(!0):r(!1)}),[]),(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"root",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:a.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){i(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / Administrar usuarios"})]})})})}),(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:20,overflowY:"auto",height:"calc(100vh - 200px)"}})})]})})})})},GTe=function(e){var t=e.patterns;return(0,Ct.jsxs)("div",{style:{padding:10,width:"80%",height:"calc(100vh - 250px)",textAlign:"left",color:"#333",backgroundColor:"#F9F9F9",borderRadius:20},children:[(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:(0,Ct.jsx)("strong",{children:"ID"})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,lg:2,children:(0,Ct.jsx)("strong",{children:"Tipo"})}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:(0,Ct.jsx)("strong",{children:"Marca"})}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:(0,Ct.jsx)("strong",{children:"Modelo"})}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:(0,Ct.jsx)("strong",{children:"PIDPM"})}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:(0,Ct.jsx)("strong",{children:"Zona"})})]}),0===t.length?(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",paddingTop:50},children:"No hay pautas creadas"}):(0,Ct.jsx)("div",{style:{width:"100%",paddingTop:50,height:"calc(100vh - 400px)",overflowY:"auto"},children:t.map((function(e,t){return(0,Ct.jsxs)(Lh,{container:!0,style:{paddingTop:0===t?0:10,paddingBottom:10},children:[(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:e.idPattern}),(0,Ct.jsx)(Lh,{item:!0,xl:2,lg:2,children:e.type}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:e.brand}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:e.model}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:e.pIDPM}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:e.zone})]},t)}))})]})},qTe=function(e){e.roles;var t=ni(),n=Ze(),r=(0,T.useState)(!1),a=(0,Z.Z)(r,2),i=a[0],o=(a[1],(0,T.useState)([])),s=(0,Z.Z)(o,2),l=s[0],u=s[1],c=(0,T.useState)(!1),d=(0,Z.Z)(c,2),h=d[0],f=d[1];(0,T.useEffect)((function(){p()}),[]);var p=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ki();case 2:t=e.sent,u(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:t.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){n(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / Pautas"}),(0,Ct.jsxs)("button",{onClick:function(){f(!0)},title:"Nueva pauta",style:{position:"absolute",right:10,color:"#fff",backgroundColor:"#be2e26",paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,borderRadius:20,borderColor:"transparent"},children:[(0,Ct.jsx)(Eu,{icon:as,style:{marginRight:10}})," Nueva pauta"]})]})})})}),(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10,overflowY:"auto",height:"calc(100vh - 195px)"},children:(0,Ct.jsx)(GTe,{patterns:l})})}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)(xIe,{open:i}),(0,Ct.jsx)(LIe,{open:h,savedInfo:p,closeModal:function(){f(!1)}})]})]})})})})},XTe=function(e){var t=e.open,n=e.close,r=e.isEdit,a=e.nuevaMaquina,i=e.marcasMaquinas,o=e.tipoMaquinas,s=e.modelosMaquinas,l=(e.maquinasTotales,(0,T.useState)("")),u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=(0,T.useState)(""),f=(0,Z.Z)(h,2),p=f[0],m=f[1],v=(0,T.useState)(""),g=(0,Z.Z)(v,2),y=g[0],b=g[1],x=(0,T.useState)(""),w=(0,Z.Z)(x,2),k=w[0],S=w[1],E=(0,T.useState)(""),C=(0,Z.Z)(E,2),_=C[0],M=C[1],A=(0,T.useState)(0),I=(0,Z.Z)(A,2),N=I[0],R=I[1],O=(0,T.useState)([]),D=(0,Z.Z)(O,2),P=D[0],L=D[1];(0,T.useEffect)((function(){setTimeout((function(){var e=document.getElementById("imagenContainer");if(e){console.log(e);var t=e.offsetWidth;R(t),console.log(t)}}),100)}),[]),(0,T.useEffect)((function(){console.log(c),console.log(s);var e=s.filter((function(e){if(e.marca._id===c)return e}));L(e),m("")}),[c]);var F=function(){var e=mo(fo().mark((function e(){var t,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(y,c,p,_),(t={type:"",brand:"",model:"",typeId:y,brandId:c,urlImagen:""}).type=o.filter((function(e){if(e._id===y)return e}))[0].tipo,t.brand=i.filter((function(e){if(e._id===c)return e}))[0].marca,t.model=s.filter((function(e){if(e._id===p)return e}))[0].modelo,!_){e.next=10;break}return e.next=8,Ui(_,"maquinas/imagenes","plataforma-mantencion","".concat(t.model,".png"));case 8:r=e.sent,t.urlImagen=r.data.data.url;case 10:return console.log(t),e.next=13,a(t);case 13:e.sent&&n();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ct.jsx)(dd,{open:t,maxWidth:"xl",adaptiveHeight:!0,children:(0,Ct.jsxs)("div",{style:{width:800,padding:10},children:[(0,Ct.jsxs)("h1",{children:[r?"Edite ":"Nueva "," m\xe1quina"]}),(0,Ct.jsxs)("div",{style:{width:"100%",overflowY:"auto",height:"calc(100vh - 300px)"},children:[(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsxs)(Lh,{item:!0,xl:8,style:{padding:10},children:[(0,Ct.jsxs)(Jf,{fullWidth:!0,style:{marginBottom:10},children:[(0,Ct.jsx)(Hf,{children:"Tipo:"}),(0,Ct.jsxs)(Sm,{value:y,onChange:function(e){console.log(e.target),b(e.target.value)},label:"Tipo:",children:[(0,Ct.jsx)(ime,{style:{fontSize:15},value:"",children:"Seleccione"}),o.sort((function(e,t){return e.tipo>t.tipo?1:e.tipo<t.tipo?-1:0})).map((function(e,t){return(0,Ct.jsx)(ime,{style:{fontSize:15},value:e._id,children:e.tipo},t)}))]})]}),(0,Ct.jsxs)(Jf,{fullWidth:!0,style:{marginBottom:10},children:[(0,Ct.jsx)(Hf,{children:"Marcas:"}),(0,Ct.jsxs)(Sm,{value:c,onChange:function(e){d(e.target.value)},label:"Marcas:",children:[(0,Ct.jsx)(ime,{style:{fontSize:15},value:"",children:"Seleccione"}),i.sort((function(e,t){return e.marca>t.marca?1:e.marca<t.marca?-1:0})).map((function(e,t){return(0,Ct.jsx)(ime,{style:{fontSize:15},value:e._id,children:e.marca},t)}))]})]}),(0,Ct.jsxs)(Jf,{fullWidth:!0,style:{marginBottom:10},children:[(0,Ct.jsx)(Hf,{children:"Modelos:"}),(0,Ct.jsxs)(Sm,{disabled:0===P.length,value:p,onChange:function(e){m(e.target.value)},label:"Modelos:",children:[(0,Ct.jsx)(ime,{style:{fontSize:15},value:"",children:"Seleccione"}),P.sort((function(e,t){return e.modelo>t.modelo?1:e.modelo<t.modelo?-1:0})).map((function(e,t){return(0,Ct.jsx)(ime,{style:{fontSize:15},value:e._id,children:e.modelo},t)}))]})]})]}),(0,Ct.jsxs)(Lh,{xl:4,style:{padding:10},children:[(0,Ct.jsx)("button",{id:"imagenContainer",onClick:function(){document.getElementById("inputImagenMaquina").click()},style:{width:"100%",height:N,border:"1px #ccc solid",borderRadius:5,position:"relative"},children:k.length>0?(0,Ct.jsx)("img",{src:k,width:"100%"}):(0,Ct.jsxs)("p",{style:{color:"#ccc"},children:["Agregar imagen ",(0,Ct.jsx)("br",{})," Max 720p x 720p ",(0,Ct.jsx)("br",{})," Formato PNG"]})}),(0,Ct.jsx)("input",{id:"inputImagenMaquina",style:{display:"none"},type:"file",accept:"image/png",onChange:function(e){console.log(e.target.files[0]),M(e.target.files[0]);var t=URL.createObjectURL(e.target.files[0]),n=new Image;n.onload=function(){n.width>720||n.height>720?alert("Imagen debe ser cuadrada, con m\xe1ximo de 720 x 720 pixeles"):n.width-n.height===0?S(t):alert("Imagen debe ser cuadrada, con m\xe1ximo de 720 x 720 pixeles")},n.src=t}})]})]}),(0,Ct.jsx)(Lh,{container:!0,style:{padding:10},children:(0,Ct.jsx)(Lh,{item:!0,children:(0,Ct.jsx)("button",{onClick:F,children:"Guardar"})})})]}),(0,Ct.jsx)(gy,{onClick:function(){return n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})},YTe=function(e){e.roles;var t=PNe(),n=t.machines,r=t.nuevaMaquina,a=t.tipoMaquinas,i=t.sumarTipoMaquina,o=t.marcasMaquinas,s=t.sumarMarcaMaquina,l=t.modelosMaquinas,u=t.sumarModeloMaquina,c=(0,T.useState)(!1),d=(0,Z.Z)(c,2),h=d[0],f=d[1],p=(0,T.useState)(!1),m=(0,Z.Z)(p,2),v=(m[0],m[1],(0,T.useState)("")),g=(0,Z.Z)(v,2),y=g[0],b=g[1],x=(0,T.useState)(""),w=(0,Z.Z)(x,2),k=w[0],S=w[1],E=(0,T.useState)(""),C=(0,Z.Z)(E,2),_=C[0],M=C[1],A=(0,T.useState)(""),I=(0,Z.Z)(A,2),N=I[0],R=I[1],O=ni(),D=Ze();(0,T.useEffect)((function(){P(),L(),F()}),[]);var P=function(){var e=document.getElementById("tiposMaquinas");e.scrollTop=e.scrollHeight},L=function(){var e=document.getElementById("marcasMaquinas");e.scrollTop=e.scrollHeight},F=function(){var e=document.getElementById("modelosMaquinas");e.scrollTop=e.scrollHeight},j=function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(y.length>0)){e.next=6;break}if(!confirm("Se agregar\xe1 el tipo ".concat(y.toUpperCase()))){e.next=6;break}return e.next=4,i(y);case 4:e.sent&&(b(""),P());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(k.length>0)){e.next=6;break}if(!confirm("Se agregar\xe1 marca ".concat(k.toUpperCase()))){e.next=6;break}return e.next=4,s(k);case 4:e.sent&&(S(""),L());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_.length>0&&N.length>0)){e.next=6;break}if(!confirm("Se agregar\xe1 modelo ".concat(_.toUpperCase()," de marca ").concat(U(N)))){e.next=6;break}return e.next=4,u(N,_);case 4:e.sent&&(M(""),R(""),F());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e){var t=o.filter((function(t){if(e===t._id)return t}));return t.length>0?t[0].marca:null};return(0,Ct.jsxs)(vg,{height:"100%",children:[(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:O.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){D(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / M\xe1quinas"}),(0,Ct.jsxs)("button",{onClick:function(){f(!0)},title:"Nueva m\xe1quina",style:{position:"absolute",right:10,color:"#fff",backgroundColor:"#be2e26",paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,borderRadius:20,borderColor:"transparent"},children:[(0,Ct.jsx)(Eu,{icon:Rs,style:{marginRight:10}})," Nueva M\xe1quina"]})]})})})}),(0,Ct.jsxs)(Lh,{container:!0,justifyContent:"center",children:[(0,Ct.jsxs)(Lh,{item:!0,xl:5,children:[(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",height:60,fontSize:20,borderBottom:"1px solid #ccc",marginLeft:10},children:(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:"auto",children:(0,Ct.jsx)("p",{style:{width:30,marginTop:30,marginBottom:30,marginLeft:10},children:"ID"})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,children:(0,Ct.jsx)("p",{style:{marginTop:30,marginBottom:30},children:"Tipo"})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,children:(0,Ct.jsx)("p",{style:{marginTop:30,marginBottom:30},children:"Marca"})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,children:(0,Ct.jsx)("p",{style:{marginTop:30,marginBottom:30},children:"Modelo"})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,children:(0,Ct.jsx)("p",{style:{marginTop:30,marginBottom:30},children:"Im\xe1gen"})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,children:(0,Ct.jsx)("p",{style:{marginTop:30,marginBottom:30},children:"Acciones"})})]})}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:"10px 0px 0px 10px",overflowY:"auto",height:"calc(100vh - 270px)",fontSize:15},children:n.map((function(e,t){return(0,Ct.jsxs)(Lh,{container:!0,style:{borderBottom:"1px solid #ccc"},children:[(0,Ct.jsx)(Lh,{item:!0,xl:"auto",children:(0,Ct.jsx)("p",{style:{width:30,marginTop:30,marginBottom:30,marginLeft:10},children:e.machineId})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,children:(0,Ct.jsx)("p",{style:{marginTop:30,marginBottom:30},children:e.type})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,children:(0,Ct.jsx)("p",{style:{marginTop:30,marginBottom:30},children:e.brand})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,children:(0,Ct.jsx)("p",{style:{marginTop:30,marginBottom:30},children:e.model})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,children:e.image&&e.image.data&&(0,Ct.jsx)("img",{src:"data:".concat(e.image.data),width:100})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,children:(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,style:{marginLeft:10,marginTop:10},children:(0,Ct.jsx)("button",{className:"editarBoton",children:"Editar"})}),(0,Ct.jsx)(Lh,{item:!0,style:{marginLeft:10,marginTop:10},children:(0,Ct.jsx)("button",{className:"borrarBoton",children:"Borrar"})})]})})]},t)}))})]}),(0,Ct.jsx)(Lh,{item:!0,xl:7,children:(0,Ct.jsxs)(Lh,{container:!0,style:{height:"68.5vh"},spacing:2,children:[(0,Ct.jsxs)(Lh,{item:!0,xl:5,children:[(0,Ct.jsxs)("div",{style:{height:"40%",width:"100%",padding:10,margin:10,border:"1px solid #ccc"},children:[(0,Ct.jsx)("h3",{style:{margin:0},children:"Tipo de m\xe1quinas"}),(0,Ct.jsxs)("div",{id:"tiposMaquinas",style:{flexDirection:"column-reverse",height:"80%",overflowY:"auto"},children:[a.map((function(e,t){return(0,Ct.jsx)("div",{style:{borderBottom:"1px #ccc solid",width:"100%"},children:e.tipo},t)})),(0,Ct.jsxs)("p",{style:{margin:0},children:[(0,Ct.jsx)("input",{placeholder:"Agregue nuevo tipo",value:y,onChange:function(e){b(e.target.value)}})," ",(0,Ct.jsx)("button",{onClick:j,children:"Agregar"})]})]})]}),(0,Ct.jsxs)("div",{style:{height:"40%",width:"100%",padding:10,margin:10,border:"1px solid #ccc"},children:[(0,Ct.jsx)("h3",{style:{margin:0},children:"Marcas de m\xe1quinas"}),(0,Ct.jsxs)("div",{id:"marcasMaquinas",style:{flexDirection:"column-reverse",height:"80%",overflowY:"auto"},children:[o.map((function(e,t){return(0,Ct.jsx)("div",{style:{borderBottom:"1px #ccc solid",width:"100%"},children:e.marca},t)})),(0,Ct.jsxs)("p",{style:{margin:0},children:[(0,Ct.jsx)("input",{placeholder:"Agregue nueva marca",value:k,onChange:function(e){S(e.target.value)}})," ",(0,Ct.jsx)("button",{onClick:z,children:"Agregar"})]})]})]})]}),(0,Ct.jsx)(Lh,{item:!0,xl:7,children:(0,Ct.jsxs)("div",{style:{height:"calc(80% + 10px)",width:"100%",padding:10,margin:10,border:"1px solid #ccc"},children:[(0,Ct.jsx)("h3",{style:{margin:0},children:"Modelos de m\xe1quinas"}),(0,Ct.jsxs)("div",{id:"modelosMaquinas",style:{flexDirection:"column-reverse",height:"40vh",overflowY:"auto"},children:[l.map((function(e,t){return(0,Ct.jsxs)(Lh,{style:{borderBottom:"1px #ccc solid",width:"100%"},container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:3,children:(0,Ct.jsx)("p",{style:{margin:0},children:e.modelo})}),(0,Ct.jsx)(Lh,{item:!0,xl:3,children:(0,Ct.jsx)("p",{style:{margin:0},children:e.marca.marca})})]},t)})),(0,Ct.jsxs)("p",{style:{margin:0},children:[(0,Ct.jsx)("input",{placeholder:"Agregue nuevo modelo",value:_,onChange:function(e){M(e.target.value.toUpperCase())}}),(0,Ct.jsxs)("select",{style:{marginLeft:5,marginRight:5,padding:"1px 2px"},value:N,onChange:function(e){R(e.target.value)},children:[(0,Ct.jsx)("option",{value:"",children:"Selecione marca"}),o.map((function(e,t){return(0,Ct.jsx)("option",{value:e._id,children:e.marca},t)}))]}),(0,Ct.jsx)("button",{onClick:B,children:"Agregar"})]})]})]})})]})})]})]})})}),h&&(0,Ct.jsx)(XTe,{open:h,close:function(){f(!1)},nuevaMaquina:r,marcasMaquinas:o,tipoMaquinas:a,modelosMaquinas:l})]})},KTe=function(){var e=ni(),t=(0,T.useState)(),n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=Ze(),o=Ve().id;return(0,T.useEffect)((function(){go.initDbPMs().then(function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go.obtener(o,t.database);case 2:(n=e.sent)&&a(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),(0,Ct.jsx)(vg,{children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:e.pageContainer,item:!0,xs:12,children:(0,Ct.jsx)(Ipe,{elevation:0,className:"pageCard",children:(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsx)("div",{style:{paddingLeft:0},children:(0,Ct.jsxs)("div",{style:{float:"left",width:"100%"},children:[(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){i(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:r&&"Listado Pautas / ".concat(r.typepm)})]}),(0,Ct.jsx)("div",{style:{height:"90%",width:"98%"},children:r&&(0,Ct.jsx)(Epe,{pauta:r})})]})})})})})})})})})},JTe=function(){var e=ni();Ze();return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:e.pageContainer,item:!0,xs:12,children:(0,Ct.jsx)(Ipe,{elevation:0,className:"pageCard",children:(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("h1",{children:"Sin permiso de acceso"})})})})})})})},$Te=function(){var e=ni(),t=Ze(),n=(0,T.useContext)(lNe),r=n.isOperator,a=(n.isSapExecutive,n.isShiftManager,n.isChiefMachinery,n.admin),i=n.userData,o=((0,T.useContext)(ENe).setReport,TNe()),s=o.priorityAssignments,l=o.normalAssignments,u=o.siteSelected,c=UNe().sites,d=(0,T.useState)(!0),h=(0,Z.Z)(d,2),f=h[0],p=(h[1],$fe(Bu().breakpoints.down("sm"))),m=(0,T.useState)("only"),v=(0,Z.Z)(m,2),g=v[0],y=v[1],b=(0,T.useState)([]),x=(0,Z.Z)(b,2),w=x[0],k=x[1],S=(0,T.useState)([]),E=(0,Z.Z)(S,2),C=E[0],M=E[1],A=(0,T.useState)(!1),I=(0,Z.Z)(A,2),N=I[0],R=I[1],O=(0,T.useState)(!1),D=(0,Z.Z)(O,2),P=D[0],L=D[1],F=(0,T.useState)(!1),j=(0,Z.Z)(F,2),z=j[0],B=j[1],U=(0,T.useState)(),W=(0,Z.Z)(U,2),V=W[0],H=W[1];(0,T.useEffect)((function(){setTimeout((function(){console.log(s.length,l.length),k(s),M(s),L(!1)}),[500])}),[s,l]),(0,T.useEffect)((function(){if(c.length>0&&u){console.log(c);var e=c.filter((function(e){if(e.idobra===u)return e}))[0];H(e)}}),[u]);var G=function(e){console.log(e),B(!z);var t=(0,_.Z)(C);"ot"===e?k(t.sort(q)):"dateInit"===e?k(t.sort(K)):"datePrev"===e?k(t.sort(J)):"endPrev"===e?k(t.sort($)):"endReport"===e?k(t.sort(Q)):"guia"===e?k(t.sort(X)):"sap"===e&&k(t.sort(Y))},q=function(e,t){return z?e.idIndex-t.idIndex:t.idIndex-e.idIndex},X=function(e,t){return z?e.guide<t.guide?-1:e.guide>t.guide?1:0:t.guide<e.guide?-1:t.guide>e.guide?1:0},Y=function(e,t){return z?e.sapId-t.sapId:t.sapId-e.sapId},K=function(e,t){return z?new Date(e.dateInit)-new Date(t.dateInit):new Date(t.dateInit)-new Date(e.dateInit)},J=function(e,t){return z?new Date(e.datePrev)-new Date(t.datePrev):new Date(t.datePrev)-new Date(e.datePrev)},$=function(e,t){return z?new Date(e.endPrev)-new Date(t.endPrev):new Date(t.endPrev)-new Date(e.endPrev)},Q=function(e,t){return z?new Date(e.endReport)-new Date(t.endReport):new Date(t.endReport)-new Date(e.endReport)};(0,T.useEffect)((function(){"only"===g?(k(s),M(s)):(k(l),M(l))}),[g]);return(0,Ct.jsxs)(vg,{height:"100%",children:[N&&(0,Ct.jsx)(ETe,{open:N,handleClose:function(e){"Selected"===e&&(L(!0),k([])),R(!1)}}),(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:e.pageContainer,item:!0,xs:12,children:(0,Ct.jsx)(Ipe,{elevation:0,className:"pageCard",children:(0,Ct.jsxs)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:[(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10,width:"100%"},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){t(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Actividades Asignadas"}),a&&V&&(0,Ct.jsxs)("p",{style:{position:"absolute",right:70,textAlign:"right",maxWidth:300,borderColor:"#ccc"},children:["Obra seleccionada: ",(0,Ct.jsx)("br",{}),"".concat(V&&V.descripcion)]}),a&&(0,Ct.jsx)(Jd,{color:"primary",style:{position:"absolute",right:5,marginRight:5},edge:"end",onClick:function(){return R(!0)},title:"Seleccionar Obra",children:(0,Ct.jsx)(Eu,{icon:gs})}),!a&&(0,Ct.jsxs)(Jf,{fullWidth:!0,style:{position:"absolute",right:5,width:180,borderColor:"#ccc"},children:[(0,Ct.jsx)(Hf,{id:"demo-simple-select-label",color:"error",children:"Lista"}),(0,Ct.jsxs)(Sm,{color:"error",labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,label:"Age",onChange:function(e){y(e.target.value)},children:[(0,Ct.jsx)(ime,{value:"only",children:"Mis Asignaciones"}),(0,Ct.jsx)(ime,{value:"all",children:"Otras"})]})]})]})})}),(0,Ct.jsxs)("div",{style:{width:"100%",padding:10},children:[(0,Ct.jsx)(Lh,{container:!0,direction:"column",children:(0,Ct.jsx)("div",{style:{width:"100%",borderRadius:10,borderStyle:"solid",borderWidth:1,borderColor:"#CCC",backgroundColor:"#CCC",marginBottom:10},children:(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:(0,Ct.jsx)(xTe,{onClick:function(){G("ot")},style:{width:50,textAlign:"center",padding:0,margin:"12px 0px"},children:(0,Ct.jsx)("p",{style:{width:50,fontSize:12,fontWeight:"bold"},children:"N\xb0 OT"})})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:(0,Ct.jsx)(xTe,{onClick:function(){G("guia")},style:{width:50,textAlign:"center",padding:0,margin:"12px 0px"},children:(0,Ct.jsx)("p",{style:{width:50,fontSize:12,fontWeight:"bold"},children:"Gu\xeda"})})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",children:(0,Ct.jsx)(xTe,{onClick:function(){G("sap")},style:{minWidth:100,textAlign:"center",padding:0,margin:"12px 0px"},children:(0,Ct.jsx)("p",{style:{width:100,fontSize:12,fontWeight:"bold"},children:"SAP ID"})})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsx)(xTe,{onClick:function(){G("datePrev")},style:{minWidth:170,padding:0,margin:"12px 0px"},children:(0,Ct.jsx)("p",{style:{fontSize:12,fontWeight:"bold",minWidth:170},children:"Inicio programado"})})}),(0,Ct.jsx)(Lh,{item:!0,l:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsx)(xTe,{onClick:function(){G("dateInit")},style:{minWidth:170,padding:0,margin:"12px 0px"},children:(0,Ct.jsx)("p",{style:{fontSize:12,fontWeight:"bold",minWidth:170},children:"Inicio ejecuci\xf3n"})})}),!p&&(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsx)(xTe,{onClick:function(){G("endPrev")},style:{minWidth:170,padding:0,margin:"12px 0px"},children:(0,Ct.jsx)("p",{style:{fontSize:12,fontWeight:"bold",minWidth:170},children:"T\xe9rmino programado"})})}),!p&&(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsx)(xTe,{onClick:function(){G("endReport")},style:{minWidth:170,padding:0,margin:"12px 0px"},children:(0,Ct.jsx)("p",{style:{fontSize:12,fontWeight:"bold",minWidth:170},children:"T\xe9rmino ejecuci\xf3n"})})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsx)(xTe,{disabled:!0,style:{minWidth:150,textAlign:"center",padding:0,margin:"12px 0px",opacity:1},children:(0,Ct.jsx)("p",{style:{fontSize:12,fontWeight:"bold",textAlign:"left",minWidth:150},children:"Flota"})})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsx)(xTe,{disabled:!0,style:{minWidth:70,textAlign:"center",padding:0,margin:"12px 0px",opacity:1},children:(0,Ct.jsx)("p",{style:{fontSize:12,fontWeight:"bold",textAlign:"left",minWidth:70},children:" Progreso "})})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsx)(xTe,{disabled:!0,style:{minWidth:70,textAlign:"center",padding:0,margin:"12px 0px",opacity:1},children:(0,Ct.jsx)("p",{style:{fontSize:12,fontWeight:"bold",textAlign:"center",minWidth:70},children:"Nro M\xe1quina"})})}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:(0,Ct.jsx)(xTe,{disabled:!0,style:{textAlign:"right",padding:0,margin:"12px 0px",color:"black",opacity:1},children:(0,Ct.jsx)("p",{style:{fontSize:12,fontWeight:"bold",textAlign:"right",width:"100%",marginRight:0,color:"black"},children:"Acci\xf3n"})})})]})})}),f&&(0,Ct.jsxs)(Lh,{container:!0,style:{overflowY:"auto",maxHeight:"calc(100vh - 295px)"},children:[P&&(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center",minHeight:100},children:(0,Ct.jsx)(Dg,{})}),w.map((function(e,n){return(0,Ct.jsx)("div",{style:{width:"100%",borderRadius:10,borderStyle:"solid",borderWidth:1,borderColor:e.readyToSend?"#be2e26":"#CCC",marginBottom:10,backgroundColor:e.endReport?"#f2f2f2":"#fff"},children:(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:(0,Ct.jsx)("div",{style:{width:50,textAlign:"center"},children:(0,Ct.jsx)("p",{style:{fontSize:11},children:e.idIndex})})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:(0,Ct.jsx)("div",{style:{width:50,textAlign:"center"},children:(0,Ct.jsx)("p",{style:{fontSize:11},children:e._guide})})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",children:(0,Ct.jsx)("div",{style:{textAlign:"center",minWidth:100},children:(0,Ct.jsx)("p",{style:{fontSize:11},children:e.sapId})})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left"},children:(0,Ct.jsx)("p",{style:{fontSize:11,minWidth:170},children:ui(e.datePrev)})})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsx)("p",{style:{fontSize:11,minWidth:170},children:ui(e.dateInit)})}),!p&&(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsxs)("p",{style:{fontSize:11,minWidth:170},children:[" ",ui(e.endPrev)," "]})}),!p&&(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left"},children:(0,Ct.jsx)("p",{style:{fontSize:11,minWidth:170},children:ui(e.endReport)})})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsxs)("p",{style:{fontSize:11,textAlign:"left",minWidth:150},children:[" ",e.machineData&&e.machineData.type," ",e.machineData&&e.machineData.model," "]})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsxs)("p",{style:{fontSize:11,textAlign:"left",minWidth:70},children:[" ",e.progress?"".concat(e.progress,"%"):"S/I"," "]})}),(0,Ct.jsx)(Lh,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:"auto",xs:"auto",children:(0,Ct.jsxs)("p",{style:{fontSize:11,textAlign:"center",minWidth:70},children:[" N\xb0: ",e.machineData&&e.machineData.equ," "]})}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,style:{width:"100%",textAlign:"right",paddingRight:0},children:(0,Ct.jsx)(Hm,{onClick:function(){!function(e){t("/assignment/".concat(e.idIndex))}(e)},color:"primary",style:{borderRadius:30,paddingRight:0},children:(0,Ct.jsx)("p",{style:{margin:0},children:!r&&e.level&&e.level>0?"Ver":r&&e.usersAssigned&&e.usersAssigned[0]&&e.usersAssigned[0]._id===i._id?e.readyToSend?"Listo a enviar":"Ejecutar":"Ver"})})})]})},n)}))]}),(0,Ct.jsx)(Lh,{children:!f&&(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center",height:100},children:(0,Ct.jsx)(Dg,{size:50})})})]})]})})})})]})};function QTe(e){return(0,bc.Z)("MuiLinearProgress",e)}(0,yc.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var eEe,tEe,nEe,rEe,aEe,iEe,oEe,sEe,lEe,uEe,cEe,dEe,hEe=["className","color","value","valueBuffer","variant"],fEe=Wt(oEe||(oEe=eEe||(eEe=pd(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),pEe=Wt(sEe||(sEe=tEe||(tEe=pd(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),mEe=Wt(lEe||(lEe=nEe||(nEe=pd(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),vEe=function(e,t){return"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,Yc.$n)(e.palette[t].main,.62):(0,Yc._j)(e.palette[t].main,.5)},gEe=(0,Dc.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,Ju.Z)(n.color))],t[n.variant]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,xt.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:vEe(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),yEe=(0,Dc.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:function(e,t){var n=e.ownerState;return[t.dashed,t["dashedColor".concat((0,Ju.Z)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme,r=vEe(n,t.color);return(0,xt.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),Ut(uEe||(uEe=rEe||(rEe=pd(["\n    animation: "," 3s infinite linear;\n  "]))),mEe)),bEe=(0,Dc.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,Ju.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,xt.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&Ut(cEe||(cEe=aEe||(aEe=pd(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),fEe)})),xEe=(0,Dc.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,Ju.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,xt.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:vEe(n,t.color),transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&Ut(dEe||(dEe=iEe||(iEe=pd(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),pEe)})),wEe=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiLinearProgress"}),r=n.className,a=n.color,i=void 0===a?"primary":a,o=n.value,s=n.valueBuffer,l=n.variant,u=void 0===l?"indeterminate":l,c=(0,wt.Z)(n,hEe),d=(0,xt.Z)({},n,{color:i,variant:u}),h=function(e){var t=e.classes,n=e.variant,r=e.color,a={root:["root","color".concat((0,Ju.Z)(r)),n],dashed:["dashed","dashedColor".concat((0,Ju.Z)(r))],bar1:["bar","barColor".concat((0,Ju.Z)(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat((0,Ju.Z)(r)),"buffer"===n&&"color".concat((0,Ju.Z)(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,Yu.Z)(a,QTe,t)}(d),f=Bu(),p={},m={bar1:{},bar2:{}};if("determinate"===u||"buffer"===u)if(void 0!==o){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;var v=o-100;"rtl"===f.direction&&(v=-v),m.bar1.transform="translateX(".concat(v,"%)")}else 0;if("buffer"===u)if(void 0!==s){var g=(s||0)-100;"rtl"===f.direction&&(g=-g),m.bar2.transform="translateX(".concat(g,"%)")}else 0;return(0,Ct.jsxs)(gEe,(0,xt.Z)({className:(0,Xu.Z)(h.root,r),ownerState:d,role:"progressbar"},p,{ref:t},c,{children:["buffer"===u?(0,Ct.jsx)(yEe,{className:h.dashed,ownerState:d}):null,(0,Ct.jsx)(bEe,{className:h.bar1,ownerState:d,style:m.bar1}),"determinate"===u?null:(0,Ct.jsx)(xEe,{className:h.bar2,ownerState:d,style:m.bar2})]}))})),kEe=wEe,SEe=function(e,t,n,r,a){var i,o,s;"termino-orden-1"===e?(i="OT ".concat(t," deber\xe1 ser revisada por Jefe de Turno"),o="/assignment",s="Se ha terminado de ejecutar OT ".concat(t)):"termino-orden-2"===e?(i="OT ".concat(t," deber\xe1 ser revisada por Jefe de Maquinaria"),o="/assignment",s="Se ha terminado de ejecutar OT ".concat(t)):"termino-orden-3"===e?(i="OT ".concat(t," deber\xe1 ser revisada por Ejecutivo SAP"),o="/assignment",s="Se ha terminado de ejecutar OT ".concat(t)):"termino-orden-4"===e?(i="OT ".concat(t," Ha sido cerrada por Ejecutivo SAP"),o="/reports",s="Se ha terminado de ejecutar OT ".concat(t)):"rechazo-orden-0"===e?(i="OT ".concat(t," rechazada"),o="/assignment",s="Se ha rechazado ejecuci\xf3n de OT ".concat(t)):("rechazo-orden-1"===e||"rechazo-orden-2"===e)&&(i="OT ".concat(t," rechazada"),o="/assignment",s="Se requiere ajuste de OT ".concat(t)),sg(e,"".concat(r._id),"Ejecuciones OT",s,i,o,n,a)},TEe=function(){var e=cNe(),t=e.admin,n=e.isOperator,r=e.isSapExecutive,a=e.isShiftManager,i=e.isChiefMachinery,o=e.userData,s=e.site,l=wNe().isOnline,u=ni(),c=Ze(),d=Ve().id,h=_Ne(),f=h.report,p=h.executionReport,m=h.setOtIndex,v=(h.otIndex,h.sapId),g=h.serieEquipo,y=(h.setLoading,h.setLoadingMessage),b=(h.reporteIniciado,h.messageOnReport),x=TNe(),w=x.saveReportToData,k=(x.getReports,x.setStatusReports,x.getReportsOffline),S=x.setMessage,E=(0,T.useState)(0),C=(0,Z.Z)(E,2),_=C[0],M=C[1],A=(0,T.useState)(0),I=(0,Z.Z)(A,2),N=I[0],R=I[1],O=(0,T.useState)(),D=(0,Z.Z)(O,2),P=D[0],L=D[1],F=(0,T.useState)(!1),j=(0,Z.Z)(F,2),z=j[0],B=j[1],U=(0,T.useState)(),W=(0,Z.Z)(U,2),V=(W[0],W[1],(0,T.useState)(!1)),H=(0,Z.Z)(V,2),G=H[0],q=H[1],X=(0,T.useState)([]),Y=(0,Z.Z)(X,2),K=(Y[0],Y[1]),J=(0,T.useState)(!1),$=(0,Z.Z)(J,2),Q=$[0],ee=$[1],te=(0,T.useState)(!1),ne=(0,Z.Z)(te,2),re=(ne[0],ne[1],(0,T.useState)(!1)),ae=(0,Z.Z)(re,2),ie=(ae[0],ae[1],(0,T.useState)()),oe=(0,Z.Z)(ie,2),se=oe[0],le=oe[1],ue=(0,T.useState)(!1),ce=(0,Z.Z)(ue,2),de=ce[0],he=ce[1],fe=(0,T.useState)(!1),pe=(0,Z.Z)(fe,2),me=pe[0],ve=(pe[1],(0,T.useState)()),ge=(0,Z.Z)(ve,2),ye=ge[0],be=(ge[1],(0,T.useState)(!1)),xe=(0,Z.Z)(be,2),we=xe[0],ke=xe[1],Se=(0,T.useState)(),Te=(0,Z.Z)(Se,2),Ee=Te[0],Ce=Te[1],_e=(0,T.useState)(!1),Me=(0,Z.Z)(_e,2),Ae=Me[0],Ie=Me[1],Ne=(0,T.useState)(),Re=(0,Z.Z)(Ne,2),Oe=(Re[0],Re[1]),De=(0,T.useState)(!1),Pe=(0,Z.Z)(De,2),Le=Pe[0],Fe=Pe[1],je=(0,T.useState)(),ze=(0,Z.Z)(je,2),Be=ze[0],Ue=ze[1],We=(0,T.useState)(!1),He=(0,Z.Z)(We,2),Ge=He[0],qe=He[1],Xe=(0,T.useState)(),Ye=(0,Z.Z)(Xe,2),Ke=Ye[0],Je=Ye[1],$e=(0,T.useState)(!1),Qe=(0,Z.Z)($e,2),et=Qe[0],tt=Qe[1];(0,T.useEffect)((function(){n&&f&&f.usersAssigned[0]&&o&&(!n||f.level&&0!==f.level||f.usersAssigned[0]._id!==o._id||console.log("*****************************************************OK"))}),[f,o,n]),(0,T.useEffect)((function(){s&&Je(s)}),[s]),(0,T.useEffect)((function(){f&&f.usersAssigned[0]?(L(f.level),console.log(r,f.level),n&&(0===f.level||!f.level)&&f.usersAssigned[0]._id===o._id||a&&1===f.level||i&&2===f.level||r&&3===f.level?B(!0):B(!1)):d&&m(d)}),[f,d,n,r,a,i]);var nt=function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le("aprobado"===t?"sendReport":"rejectReport"),q(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){l?(qe(!0),nt("aprobado")):alert("Dispositivo debe estar conectado a internet.")},at=function(){var e=mo(fo().mark((function e(){var t,n,r,a,i,s,u;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=32;break}if(!window.confirm("Confirme que terminar\xe1 su jornada")){e.next=30;break}return tt(!0),ee(!0),t=f,e.next=7,Lo(P);case 7:return n=e.sent,t.progress=N,t.state="Asignar",t.emailing="termino-jornada",t.fullNameWorker="".concat(o.name," ").concat(o.lastName),t.emailsToSend=n,S("Guardando OT en base de datos."),e.next=16,Ii(t);case 16:return r=e.sent,a=p,e.next=20,zi(a);case 20:if(!r){e.next=30;break}return e.next=23,To();case 23:return i=e.sent,s=i.database,e.next=27,Co(t.idIndex,s);case 27:u=e.sent,console.log("Revisando si se borra de bases de datos",u),setTimeout((function(){sg("termino-jornada","".concat(o._id),"Aviso general","T\xe9rmino de jornada","".concat(o.name," ").concat(o.lastName," ha terminado su jornada. Recuerde reasignar OT"),"/reports",null,Ke._id),alert("Se ha actualizado su reporte. La orden desaparecer\xe1 de su listado."),c(-1),ee(!1),S(""),k()}),500);case 30:e.next=34;break;case 32:ee(!1),alert("Dispositivo no est\xe1 conectado a internet. Conecte a una red e intente nuevamente");case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=mo(fo().mark((function e(t){var n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q(!1),!t){e.next=62;break}if(ee(!0),y("Guardando informaci\xf3n"),(n=f).progress=N,!n.testMode){e.next=34;break}if(r=0,n.level&&0!==n.level?r=n.level+1:(r=1,n.endReport=new Date),n.emailing="termino-orden-".concat(r),2!==r){e.next=15;break}n.shiftManagerApprovedBy=o._id,n.shiftManagerApprovedDate=new Date,e.next=29;break;case 15:if(3!==r){e.next=21;break}n.chiefMachineryApprovedBy=o._id,n.chiefMachineryApprovedDate=new Date,n.state="Por cerrar",e.next=29;break;case 21:if(4!==r){e.next=29;break}return n.sapExecutiveApprovedBy=o._id,n.dateClose=new Date,n.state="Completadas",n.level=r,console.log(n),e.next=29,Xi(n);case 29:n.level=r,SEe(n.emailing,n.idIndex,n.history[n.history.length-1].userSendingData,o,Ke._id),ot(n),e.next=62;break;case 34:if(100!==N){e.next=60;break}if(a=0,n.level&&0!==n.level?a=n.level+1:(a=1,n.endReport=new Date),n.emailing="termino-orden-".concat(a),2!==a){e.next=43;break}n.shiftManagerApprovedBy=o._id,n.shiftManagerApprovedDate=new Date,e.next=55;break;case 43:if(3!==a){e.next=49;break}n.chiefMachineryApprovedBy=o._id,n.chiefMachineryApprovedDate=new Date,n.state="Por cerrar",e.next=55;break;case 49:if(4!==a){e.next=55;break}return n.sapExecutiveApprovedBy=o._id,n.dateClose=new Date,n.state="Completadas",e.next=55,Xi(n);case 55:n.level=a,SEe(n.emailing,n.idIndex,n.history[n.history.length-1].userSendingData,o,Ke._id),ot(n),e.next=62;break;case 60:ee(!1),alert("Reporte est\xe1 incompleto.");case 62:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(t),y("Guardando en bases de datos"),e.next=4,Mo();case 4:return n=e.sent,(r=p).offLineGuard=Date.now(),e.next=9,Ao(r,n.database);case 9:if(!l){e.next=12;break}return e.next=12,zi(r);case 12:alert(4===t.level?"Orden de trabajo cerrada correctamente":"Orden de trabajo enviado a revisi\xf3n"),c(-1),ee(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=mo(fo().mark((function e(){var t,n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(P>0)){e.next=14;break}return t=[],e.next=4,Mo();case 4:return n=e.sent,e.next=7,Io(n.database);case 7:r=e.sent,console.log(r),a=r.filter((function(e){if(e.reportId===f._id)return e})),Object.keys(a[0].group).forEach((function(e,n){var r={nombre:e,data:[]};a[0].group[e].forEach((function(n,i){if("*"===n.unidad);else{var o={task:n.task,taskdesc:n.taskdesc,obs01:n.obs01,partnumberUtl:n.partnumberUtl,cantidad:n.cantidad,unidad:n.unidad,unidadData:n.unidadData?Number(n.unidadData):0,diferencia:parseFloat(n.cantidad.toString())-parseFloat(n.unidadData?n.unidadData.toString():"0")};r.data.push(o)}i===a[0].group[e].length-1&&r.data.length>0&&(console.log(r),t.push(r))})),n===Object.keys(a[0].group).length-1&&Ue(t)})),Fe(!0),e.next=15;break;case 14:alert("Orden a\xfan no est\xe1 listo para revisar el listado de materiales o insumos.");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ct.jsxs)(vg,{height:"80vh",children:[(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:u.pageContainer,item:!0,xs:12,children:(0,Ct.jsx)(Ipe,{elevation:0,className:"pageCard",children:(0,Ct.jsxs)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:[(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10,width:"100%"},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){c(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:["Actividades Asignadas / Detalle / OT ",d," ",(0,Ct.jsx)("strong",{children:f&&f.testMode?"Modo test":""})]})]})})}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:p?10:12,md:p?10:12,sm:12,children:(0,Ct.jsx)("div",{style:{padding:20},children:p&&p._id?(0,Ct.jsx)(Epe,{height:me?"calc(100vh - 850px)":"calc(100vh - 360px)",report:f,setProgress:function(e){var t=e.progressPage,n=e.globalProgress;M(Number(t)),R(Number(n))},setIndexGroupToSend:K,resultThisItemProgress:R,selectionItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new String;return console.log(e,t),"PC5500"===t?"Motor"===e||"Mando Final"===e||"Rodado"===e||"PTO"===e||"Neum\xe1ticos"===e||"Hidr\xe1ulico"===e||"Mando de Giro"===e||"Chassis"===e||"Cabina"===e||"Implementos"===e||"El\xe9ctrico"===e:"793-F"===t?"Motor"===e||"Transmisi\xf3n"===e||"Ejes"===e||"Neum\xe1ticos"===e||"Hidr\xe1ulico"===e||"Direcci\xf3n"===e||"Chassis"===e||"Cabina"===e||"Mazas"===e||"Sistema Neum\xe1tico"===e||"Suspensi\xf3n"===e:void 0}(e,ye.model),n={name:Ho(e),brand:ye.brand,model:ye.model,nameModel:"".concat(Ho(e),"_").concat(ye.model)};console.log(t),Ce(JSON.stringify(n)),ke(t)},setUltimoGuardadoDispositivo:Oe,canEdit:z,executionReport:p}):(0,Ct.jsx)("div",{style:{width:"100%",lineHeight:me?"calc(100vh - 850px)":"calc(100vh - 360px)",height:me?"calc(100vh - 850px)":"calc(100vh - 360px)",textAlign:"center"},children:(0,Ct.jsx)("p",{style:{lineHeight:" 1.5",display:"inline-block",verticalAlign:"middle",fontSize:25},children:b})})})}),f&&p&&(0,Ct.jsx)(Lh,{item:!0,xl:2,md:2,sm:12,children:(0,Ct.jsxs)("div",{style:{marginTop:20,padding:20,backgroundColor:"#F9F9F9",borderRadius:10,height:"71vh",overflowY:"auto"},children:[(0,Ct.jsxs)("div",{style:{textAlign:"center",width:"100%"},children:[(0,Ct.jsxs)("h2",{style:{margin:0},children:["OT ",d]}),(0,Ct.jsxs)("p",{style:{margin:0},children:["OM SAP: ",v&&v]}),(0,Ct.jsxs)("p",{style:{margin:0},children:["Serie Equipo: ",g&&g.replace("00000000","")]}),(0,Ct.jsxs)("p",{style:{margin:0},children:["Tipo de pauta: ",(0,Ct.jsx)("strong",{children:f&&f.guide})]}),(0,Ct.jsx)("p",{style:{backgroundColor:"red",color:"white",marginBottom:0},children:(0,Ct.jsx)("strong",{children:f&&f.testMode?"Modo test":""})}),ye&&(0,Ct.jsxs)("p",{style:{margin:0},children:["Modelo M\xe1quina ",ye.model,", N\xb0",ye.equ]}),(0,Ct.jsx)("br",{}),we&&(0,Ct.jsx)(Hm,{variant:"contained",disabled:!we,style:{paddingLeft:20,paddingRight:20,paddingTop:10,paddingBottom:10},onClick:function(){Ie(!0)},children:(0,Ct.jsx)("strong",{children:"3D"})})]}),(0,Ct.jsxs)("h4",{style:{textAlign:"center"},children:["Avance en esta hoja: ",_,"%"]}),(0,Ct.jsx)(kEe,{variant:"determinate",value:_,style:{width:"100%"}}),(0,Ct.jsxs)("h4",{style:{textAlign:"center"},children:["Avance total: ",N,"%"]}),(0,Ct.jsx)(kEe,{variant:"determinate",value:N,style:{width:"100%"}}),(0,Ct.jsx)("br",{}),(n&&(!f.level||0===f.level)&&f.usersAssigned[0]._id===o._id||a&&1===f.level||i&&2===f.level)&&(0,Ct.jsxs)(Hm,{variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},onClick:rt,children:[(0,Ct.jsx)(Eu,{icon:xs,style:{marginRight:10}})," Enviar OT"]}),(r&&3===f.level||t&&4===f.level)&&(0,Ct.jsxs)(Hm,{variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},onClick:rt,children:[(0,Ct.jsx)(Eu,{icon:xs,style:{marginRight:10}})," Cerrar OT"]}),(r&&3===f.level||t)&&(0,Ct.jsxs)(Hm,{variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},onClick:st,children:[(0,Ct.jsx)(Eu,{icon:cs,style:{marginRight:10}})," Resumen Insumos/Materiales"]}),(a&&1===f.level||i&&2===f.level||r&&3===f.level)&&(0,Ct.jsxs)(Hm,{variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},onClick:function(){l?(qe(!1),nt("rechazado")):alert("Dispositivo debe estar conectado a internet.")},children:[(0,Ct.jsx)(Gm,{}),"Rechazar OT"]}),n&&(0===f.level||!f.level)&&f.usersAssigned[0]._id===o._id&&(0,Ct.jsxs)(Hm,{onClick:function(){tt(!0),q(!0)},variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},children:[(0,Ct.jsx)(Eu,{icon:is,style:{marginRight:10}})," Terminar Jornada"]}),(0,Ct.jsxs)(Hm,{variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:0},onClick:function(){he(!0)},children:[(0,Ct.jsx)(Eu,{icon:os,style:{marginRight:10}})," Mensajes de flujo"]})]})})]}),G&&(0,Ct.jsx)(tNe,{isTermJornada:et,terminarjornada:at,canEdit:z,open:G,closeModal:Ge?it:function(e){if(q(!1),e){ee(!0),console.log(f);var t=f;if(t.progress=N,t.testMode){var n=t.level-1;t.level=n,t.emailing="rechazo-orden-".concat(n),2===n||3===n&&(t.state="En proceso"),console.log(t),SEe(t.emailing,t.idIndex,t.history[t.history.length-1].userSendingData,o._id,Ke._id),ot(t)}else if(100===N){var r=t.level-1;t.level=r,t.emailing="rechazo-orden-".concat(r),2===r||3===r&&(t.state="En proceso"),console.log(t),SEe(t.emailing,t.idIndex,t.history[t.history.length-1].userSendingData,o._id,Ke._id),ot(t)}else ee(!1),alert("Reporte est\xe1 incompleto.")}},report:f,messageType:se}),de&&(0,Ct.jsx)(rNe,{open:de,close:function(){he(!1)},report:f})]})})})}),Le&&(0,Ct.jsx)(nNe,{open:Le,data:Be,closePreviewModal:function(){Fe(!1)}}),Q&&(0,Ct.jsx)(xIe,{open:Q}),(0,Ct.jsx)(Xc,{open:Ae,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Ct.jsxs)(vg,{sx:oi,children:[(0,Ct.jsx)(Gfe,{subSistem:Ee}),(0,Ct.jsx)(gy,{onClick:function(){Ie(!1)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:(0,Ct.jsx)(Gm,{})})]})})]})},EEe=function(){var e=Ze(),t=ni(),n=(0,T.useState)([]),r=(0,Z.Z)(n,2),a=r[0],i=r[1];return(0,T.useEffect)((function(){Hi().then((function(e){e.data.forEach(function(){var t=mo(fo().mark((function t(n,r){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Po(n.from);case 2:n.fullName=t.sent,n.index=r,r==e.data.length-1&&i(e.data.reverse());case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}))}),[]),(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:t.pageContainer,item:!0,xs:12,children:(0,Ct.jsx)(Ipe,{elevation:0,className:"pageCard",children:(0,Ct.jsxs)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:[(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){e(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Mensajes Internos"})]})})}),(0,Ct.jsx)("div",{style:{width:"100vw",marginRight:11,overflowY:"scroll",maxHeight:"70vh",paddingLeft:20,paddingRight:20},children:(0,Ct.jsx)(dp,{children:a.length>0&&a.map((function(e,t){return(0,Ct.jsxs)("div",{children:[(0,Ct.jsxs)("h2",{children:[e.index+1,".- ",e.fullName,":"]}),(0,Ct.jsx)("p",{children:e.message}),(0,Ct.jsx)("br",{})]},t)}))})})]})})})})})},CEe=function(){var e=Zpe(),t=e.myNotifications,n=(e.getNotifications,(0,T.useState)(!1)),r=(0,Z.Z)(n,2),a=r[0],i=(r[1],(0,T.useState)([])),o=(0,Z.Z)(i,2),s=o[0],l=o[1],u=(0,T.useState)([]),c=(0,Z.Z)(u,2),d=c[0],h=c[1],f=(0,T.useState)([]),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=(0,T.useState)(20),y=(0,Z.Z)(g,2),b=y[0],x=y[1],w=(0,T.useState)(!1),k=(0,Z.Z)(w,2),S=k[0],E=k[1],C=(0,T.useState)(0),_=(0,Z.Z)(C,2),M=_[0],A=_[1],I=ni(),N=Ze(),R=(0,T.useRef)();(0,T.useEffect)((function(){l(m.length>0?m.slice(0,b):t.slice(0,b))}),[b]),(0,T.useEffect)((function(){var e=document.getElementById("notification-container");e&&A(e.scrollHeight-e.offsetHeight)}),[s]),(0,T.useEffect)((function(){if(t.length>0){l(t.slice(0,b)),h(t.slice(0,1e3));var e=document.getElementById("notification-container");e&&A(e.scrollHeight-e.offsetHeight)}}),[t]);return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:I.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsxs)("div",{style:{width:"100%",position:"relative",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:[(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){N(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Notificaciones"})]}),(0,Ct.jsx)(td,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:400,position:"absolute",right:10,top:10},children:(0,Ct.jsx)(sf,{onChange:function(e){!function(e){if(E(!0),e.length>2){var t=[];d.forEach((function(n,r){(n.title.toLowerCase().includes(e.toLowerCase())||n.subtitle.toLowerCase().includes(e.toLowerCase())||n.message.toLowerCase().includes(e.toLowerCase()))&&t.push(n)})),l(t.slice(0,b)),v(t)}else l(d),v([]),x(20);E(!1)}(e.target.value)},sx:{ml:1,flex:1},placeholder:"Buscar en notificaciones",inputProps:{"aria-label":"search google maps"}})})]})})}),(0,Ct.jsxs)(Lh,{alignItems:"center",justifyContent:"center",style:{padding:10,borderRadius:20},children:[(0,Ct.jsx)("div",{children:(0,Ct.jsxs)(Kg,{style:{backgroundColor:"#F9F9F9"},children:[(0,Ct.jsx)("div",{style:{marginLeft:5,marginRight:5,fontSize:12},children:(0,Ct.jsx)("p",{style:{margin:0,fontSize:18},children:"N\xb0"})}),(0,Ct.jsx)("div",{style:{width:"30%",marginLeft:5,fontSize:12},children:(0,Ct.jsx)("p",{style:{margin:0,fontSize:18},children:"Titulo"})}),(0,Ct.jsx)("div",{style:{width:"40%",marginLeft:5,fontSize:12},children:(0,Ct.jsx)("p",{style:{fontSize:18},children:"Mensaje"})}),(0,Ct.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:(0,Ct.jsx)("p",{style:{fontSize:18},children:"Fecha"})}),(0,Ct.jsx)("div",{style:{marginLeft:5,fontSize:18},children:(0,Ct.jsx)("p",{style:{fontSize:18},children:"Acci\xf3n"})})]})}),(0,Ct.jsxs)("div",{style:{height:"calc(100vh - 300px)",overflowY:"auto"},onScroll:function(e){R.current.scrollTop>M-100&&x(b+20)},ref:R,id:"notification-container",children:[S&&(0,Ct.jsx)(Dg,{}),!S&&s.map((function(e,t){return(0,Ct.jsxs)(Kg,{style:{backgroundColor:e.state?"#fff":"#F9F9F9"},children:[(0,Ct.jsx)("div",{style:{marginLeft:5,marginRight:5,fontSize:12},children:(0,Ct.jsx)("h3",{style:{margin:0},children:t+1})}),(0,Ct.jsxs)("div",{style:{width:"30%",marginLeft:5,fontSize:12},children:[(0,Ct.jsx)("h3",{style:{margin:0},children:e.title}),(0,Ct.jsx)("h4",{style:{margin:0},children:e.subtitle})]}),(0,Ct.jsx)("div",{style:{width:"40%",marginLeft:5,fontSize:12},children:(0,Ct.jsx)("p",{style:{fontSize:18},children:e.message})}),(0,Ct.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:(0,Ct.jsx)("p",{style:{fontSize:18},children:di(e.createdAt)})}),(0,Ct.jsx)("div",{style:{marginLeft:5,fontSize:12},children:(0,Ct.jsx)("p",{style:{cursor:"pointer",color:"brown",textDecoration:"inline",fontSize:16,fontWeight:"bold"},onClick:function(){var t;N(e.url),t=e._id,Yi(t)},children:"Ir"})})]},t)}))]}),a&&(0,Ct.jsx)(xIe,{open:a})]})]})})})})},_Ee=function(){var e=ni(),t=Ze(),n=(0,T.useState)(!1),r=(0,Z.Z)(n,2),a=r[0],i=r[1];return(0,Ct.jsxs)(vg,{height:"100%",children:[a&&(0,Ct.jsx)(FIe,{open:a,closeModal:function(){i(!1)}}),(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:e.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{container:!0,alignItems:"center",justifyContent:"center",children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",position:"relative",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){t(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Opciones"})]})})})}),(0,Ct.jsxs)(Lh,{alignItems:"center",justifyContent:"center",style:{padding:10,borderRadius:20},children:[(0,Ct.jsx)(Lh,{container:!0,children:(0,Ct.jsx)(Lh,{item:!0,children:(0,Ct.jsxs)(Lh,{container:!0,style:{borderBottomWidth:1,borderBottomColor:"#ccc",borderBottomStyle:"solid",padding:10},children:[(0,Ct.jsx)(Lh,{item:!0,children:(0,Ct.jsx)("div",{children:(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:"Ver pautas descargadas"})})})}),(0,Ct.jsx)(Lh,{item:!0,children:(0,Ct.jsx)("div",{style:{marginTop:10,marginLeft:15},children:(0,Ct.jsx)(Hm,{color:"primary",onClick:function(){i(!0)},children:"Abrir"})})})]})})}),(0,Ct.jsx)(Lh,{container:!0,children:(0,Ct.jsx)(Lh,{item:!0,children:(0,Ct.jsxs)(Lh,{container:!0,style:{borderBottomWidth:1,borderBottomColor:"#ccc",borderBottomStyle:"solid",padding:10},children:[(0,Ct.jsx)(Lh,{item:!0,children:(0,Ct.jsx)("div",{children:(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Borrar Cach\xe9"})," ",(0,Ct.jsx)("br",{})," (\xc9sta acci\xf3n borrar\xe1 toda la informaci\xf3n de la aplicaci\xf3n ",(0,Ct.jsx)("br",{})," en el dispositivo)"]})})}),(0,Ct.jsx)(Lh,{item:!0,children:(0,Ct.jsx)("div",{style:{marginTop:26,marginLeft:15},children:(0,Ct.jsx)(Hm,{color:"primary",onClick:function(){confirm("Limpiar\xe1 toda la data del sistema y cerrar\xe1 la sesi\xf3n. Una vez terminado vuelva a iniciar.")&&window.indexedDB.databases().then((function(e){console.log(e),e.forEach((function(t,n){window.indexedDB.deleteDatabase(t.name),n==e.length-1&&(window.localStorage.clear(),window.location.reload(),removeDatabases())}))}))},children:"Borrar"})})})]})})})]})]})})})]})},MEe=n(9498);function AEe(e){return JSON.stringify(e)}function IEe(e){if(!e||-1===e.indexOf("-")||!function(e){return e.toLowerCase()===e}(e))return e;var t=e.split("-"),n=t[0],r=void 0===n?"":n,a=t[1],i=void 0===a?"":a;return"".concat(r,"-").concat(i.toUpperCase())}var NEe=MEe((function(e){var t,n=void 0===e?{}:e,r=n.useFallbackLocale,a=void 0===r||r,i=n.fallbackLocale,o=void 0===i?"en-US":i,s=[];return"undefined"!==typeof navigator&&(s=s.concat(navigator.languages,navigator.language)),a&&s.push(o),(t=s,t.filter((function(e,n){return e&&t.indexOf(e)===n}))).map(IEe)}),AEe);var REe=MEe((function(e){return NEe(e)[0]||null}),AEe),OEe=REe;function DEe(e,t,n){return function(r,a){void 0===a&&(a=n);var i=e(r)+a;return t(i)}}function PEe(e){return function(t){return new Date(e(t).getTime()-1)}}function LEe(e,t){return function(n){return[e(n),t(n)]}}function FEe(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function jEe(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function zEe(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function BEe(e){var t=FEe(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var UEe=DEe(FEe,BEe,-100),WEe=DEe(FEe,BEe,100),ZEe=PEe(WEe),VEe=DEe(FEe,ZEe,-100),HEe=(DEe(FEe,ZEe,100),LEe(BEe,ZEe));function GEe(e){var t=FEe(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var qEe=DEe(FEe,GEe,-10),XEe=DEe(FEe,GEe,10),YEe=PEe(XEe),KEe=DEe(FEe,YEe,-10),JEe=(DEe(FEe,YEe,10),LEe(GEe,YEe));function $Ee(e){var t=FEe(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var QEe=DEe(FEe,$Ee,-1),eCe=DEe(FEe,$Ee,1),tCe=PEe(eCe),nCe=DEe(FEe,tCe,-1),rCe=(DEe(FEe,tCe,1),LEe($Ee,tCe));function aCe(e,t){return function(n,r){void 0===r&&(r=t);var a=FEe(n),i=jEe(n)+r,o=new Date;return o.setFullYear(a,i,1),o.setHours(0,0,0,0),e(o)}}function iCe(e){var t=FEe(e),n=jEe(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var oCe=aCe(iCe,-1),sCe=aCe(iCe,1),lCe=PEe(sCe),uCe=aCe(lCe,-1),cCe=(aCe(lCe,1),LEe(iCe,lCe));function dCe(e,t){return function(n,r){void 0===r&&(r=t);var a=FEe(n),i=jEe(n),o=zEe(n)+r,s=new Date;return s.setFullYear(a,i,o),s.setHours(0,0,0,0),e(s)}}function hCe(e){var t=FEe(e),n=jEe(e),r=zEe(e),a=new Date;return a.setFullYear(t,n,r),a.setHours(0,0,0,0),a}dCe(hCe,-1);var fCe,pCe=PEe(dCe(hCe,1)),mCe=(dCe(pCe,-1),dCe(pCe,1),LEe(hCe,pCe));function vCe(e){return zEe(lCe(e))}var gCe={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},yCe=((fCe={})[gCe.US]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],fCe[gCe.ARABIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],fCe[gCe.HEBREW]=["he","he-IL"],fCe),bCe=[0,1,2,3,4,5,6],xCe=new Map;function wCe(e){return function(t,n){return function(e){return function(t,n){var r=t||OEe();xCe.has(r)||xCe.set(r,new Map);var a=xCe.get(r);return a.has(e)||a.set(e,new Intl.DateTimeFormat(r||void 0,e).format),a.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}wCe({day:"numeric",month:"numeric",year:"numeric"});var kCe=wCe({day:"numeric"}),SCe=wCe({day:"numeric",month:"long",year:"numeric"}),TCe=wCe({month:"long"}),ECe=wCe({month:"long",year:"numeric"}),CCe=wCe({weekday:"short"}),_Ce=wCe({weekday:"long"}),MCe=wCe({year:"numeric"}),ACe=bCe[0],ICe=bCe[5],NCe=bCe[6];function RCe(e,t){void 0===t&&(t=gCe.ISO_8601);var n=e.getDay();switch(t){case gCe.ISO_8601:return(n+6)%7;case gCe.ARABIC:return(n+1)%7;case gCe.HEBREW:case gCe.US:return n;default:throw new Error("Unsupported calendar type.")}}function OCe(e,t){void 0===t&&(t=gCe.ISO_8601);var n=FEe(e),r=jEe(e),a=e.getDate()-RCe(e,t);return new Date(n,r,a)}function DCe(e,t){switch(e){case"century":return BEe(t);case"decade":return GEe(t);case"year":return $Ee(t);case"month":return iCe(t);case"day":return hCe(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function PCe(e,t){switch(e){case"century":return WEe(t);case"decade":return XEe(t);case"year":return eCe(t);case"month":return sCe(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function LCe(e,t){switch(e){case"century":return ZEe(t);case"decade":return YEe(t);case"year":return tCe(t);case"month":return lCe(t);case"day":return pCe(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function FCe(e,t){switch(e){case"century":return HEe(t);case"decade":return JEe(t);case"year":return rCe(t);case"month":return cCe(t);case"day":return mCe(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function jCe(e,t,n){return void 0===t&&(t=MCe),n.map((function(n){return t(e,n)})).join(" \u2013 ")}function zCe(e,t,n){return jCe(e,t,JEe(n))}function BCe(e){return e.getDay()===(new Date).getDay()}function UCe(e,t){void 0===t&&(t=gCe.ISO_8601);var n=e.getDay();switch(t){case gCe.ARABIC:case gCe.HEBREW:return n===ICe||n===NCe;case gCe.ISO_8601:case gCe.US:return n===NCe||n===ACe;default:throw new Error("Unsupported calendar type.")}}var WCe=Object.values(gCe),ZCe=["century","decade","year","month"],VCe=pu().oneOf(WCe),HCe=pu().oneOfType([pu().string,pu().arrayOf(pu().string)]),GCe=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, expected instance of `Date`."));var a=e.maxDate;return a&&r>a?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},qCe=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, expected instance of `Date`."));var a=e.minDate;return a&&r<a?new Error("Invalid prop `".concat(t,"` of type `").concat(typeof r,"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},XCe=pu().oneOfType([pu().func,pu().exact({current:pu().any})]),YCe=pu().oneOfType([pu().instanceOf(Date),pu().arrayOf(pu().instanceOf(Date))]),KCe=pu().arrayOf(pu().oneOf(ZCe)),JCe=function(e,t,n){var r=e[t];return void 0===r||"string"===typeof r&&-1!==ZCe.indexOf(r)?null:new Error("Invalid prop `".concat(t,"` of value `").concat(r,"` supplied to `").concat(n,"`, expected one of [").concat(ZCe.map((function(e){return'"'.concat(e,'"')})).join(", "),"]."))};JCe.isRequired=function(e,t,n,r,a){var i=e[t];return i?JCe(e,t,n):new Error("The prop `".concat(t,"` is marked as required in `").concat(n,"`, but its value is `").concat(i,"`."))};var $Ce={activeStartDate:pu().instanceOf(Date).isRequired,hover:pu().instanceOf(Date),locale:pu().string,maxDate:qCe,minDate:GCe,onClick:pu().func,onMouseOver:pu().func,tileClassName:pu().oneOfType([pu().func,HCe]),tileContent:pu().oneOfType([pu().func,pu().node]),value:YCe,valueType:pu().string},QCe={activeStartDate:pu().instanceOf(Date).isRequired,classes:pu().arrayOf(pu().string).isRequired,date:pu().instanceOf(Date).isRequired,locale:pu().string,maxDate:qCe,minDate:GCe,onClick:pu().func,onMouseOver:pu().func,style:pu().objectOf(pu().oneOfType([pu().string,pu().number])),tileClassName:pu().oneOfType([pu().func,HCe]),tileContent:pu().oneOfType([pu().func,pu().node]),tileDisabled:pu().func},e_e="react-calendar__navigation";function t_e(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,a=void 0===r?ECe:r,i=e.formatYear,o=void 0===i?MCe:i,s=e.locale,l=e.maxDate,u=e.minDate,c=e.navigationAriaLabel,d=void 0===c?"":c,h=e.navigationAriaLive,f=e.navigationLabel,p=e.next2AriaLabel,m=void 0===p?"":p,v=e.next2Label,g=void 0===v?"\xbb":v,y=e.nextAriaLabel,b=void 0===y?"":y,x=e.nextLabel,w=void 0===x?"\u203a":x,k=e.prev2AriaLabel,S=void 0===k?"":k,E=e.prev2Label,C=void 0===E?"\xab":E,_=e.prevAriaLabel,M=void 0===_?"":_,A=e.prevLabel,I=void 0===A?"\u2039":A,N=e.setActiveStartDate,R=e.showDoubleView,O=e.view,D=e.views.indexOf(O)>0,P="century"!==O,L=function(e,t){switch(e){case"century":return UEe(t);case"decade":return qEe(t);case"year":return QEe(t);case"month":return oCe(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t),F=P?function(e,t){switch(e){case"decade":return qEe(t,-100);case"year":return QEe(t,-10);case"month":return oCe(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t):void 0,j=PCe(O,t),z=P?function(e,t){switch(e){case"decade":return XEe(t,100);case"year":return eCe(t,10);case"month":return sCe(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t):void 0,B=function(){if(L.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return VEe(t);case"decade":return KEe(t);case"year":return nCe(t);case"month":return uCe(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t);return u&&u>=e}(),U=P&&function(){if(F.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return KEe(t,-100);case"year":return nCe(t,-10);case"month":return uCe(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(O,t);return u&&u>=e}(),W=l&&l<j,Z=P&&l&&l<z;function V(e){var t=function(){switch(O){case"century":return function(e,t,n){return jCe(e,t,HEe(n))}(s,o,e);case"decade":return zCe(s,o,e);case"year":return o(s,e);case"month":return a(s,e);default:throw new Error("Invalid view: ".concat(O,"."))}}();return f?f({date:e,label:t,locale:s||REe()||void 0,view:O}):t}return T.createElement("div",{className:e_e},null!==C&&P?T.createElement("button",{"aria-label":S,className:"".concat(e_e,"__arrow ").concat(e_e,"__prev2-button"),disabled:U,onClick:function(){N(F,"prev2")},type:"button"},C):null,null!==I&&T.createElement("button",{"aria-label":M,className:"".concat(e_e,"__arrow ").concat(e_e,"__prev-button"),disabled:B,onClick:function(){N(L,"prev")},type:"button"},I),function(){var e="".concat(e_e,"__label");return T.createElement("button",{"aria-label":d,"aria-live":h,className:e,disabled:!D,onClick:n,style:{flexGrow:1},type:"button"},T.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from")},V(t)),R?T.createElement(T.Fragment,null,T.createElement("span",{className:"".concat(e,"__divider")}," \u2013 "),T.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to")},V(j))):null)}(),null!==w&&T.createElement("button",{"aria-label":b,className:"".concat(e_e,"__arrow ").concat(e_e,"__next-button"),disabled:W,onClick:function(){N(j,"next")},type:"button"},w),null!==g&&P?T.createElement("button",{"aria-label":m,className:"".concat(e_e,"__arrow ").concat(e_e,"__next2-button"),disabled:Z,onClick:function(){N(z,"next2")},type:"button"},g):null)}t_e.propTypes={activeStartDate:pu().instanceOf(Date).isRequired,drillUp:pu().func.isRequired,formatMonthYear:pu().func,formatYear:pu().func,locale:pu().string,maxDate:pu().instanceOf(Date),minDate:pu().instanceOf(Date),navigationAriaLabel:pu().string,navigationAriaLive:pu().string,navigationLabel:pu().func,next2AriaLabel:pu().string,next2Label:pu().node,nextAriaLabel:pu().string,nextLabel:pu().node,prev2AriaLabel:pu().string,prev2Label:pu().node,prevAriaLabel:pu().string,prevLabel:pu().node,setActiveStartDate:pu().func.isRequired,showDoubleView:pu().bool,view:JCe.isRequired,views:KCe.isRequired};var n_e=function(){return n_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n_e.apply(this,arguments)},r_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function a_e(e){return"".concat(e,"%")}function i_e(e){var t=e.children,n=e.className,r=e.count,a=e.direction,i=e.offset,o=e.style,s=e.wrap,l=r_e(e,["children","className","count","direction","offset","style","wrap"]);return T.createElement("div",n_e({className:n,style:n_e({display:"flex",flexDirection:a,flexWrap:s?"wrap":"nowrap"},o)},l),T.Children.map(t,(function(e,t){var n=i&&0===t?a_e(100*i/r):null;return T.cloneElement(e,n_e(n_e({},e.props),{style:{flexBasis:a_e(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:n,marginInlineStart:n,marginInlineEnd:0}}))})))}function o_e(e,t){return t[0]<=e&&t[1]>=e}function s_e(e,t){return o_e(e[0],t)||o_e(e[1],t)}function l_e(e,t,n){var r=[];if(s_e(t,e)){r.push(n);var a=o_e(e[0],t),i=o_e(e[1],t);a&&r.push("".concat(n,"Start")),i&&r.push("".concat(n,"End")),a&&i&&r.push("".concat(n,"BothEnds"))}return r}function u_e(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,a="react-calendar__tile",i=[a];if(!n)return i;var o=new Date,s=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return FCe(t,n)}();if(o_e(o,s)&&i.push("".concat(a,"--now")),!t)return i;var l,u,c=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return FCe(n,t)}();u=s,(l=c)[0]<=u[0]&&l[1]>=u[1]?i.push("".concat(a,"--active")):s_e(c,s)&&i.push("".concat(a,"--hasActive"));var d=l_e(c,s,"".concat(a,"--range"));i.push.apply(i,d);var h=Array.isArray(t)?t:[t];if(r&&1===h.length){var f=l_e(r>c[0]?[c[0],r]:[r,c[0]],s,"".concat(a,"--hover"));i.push.apply(i,f)}return i}i_e.propTypes={children:pu().node,className:pu().string,count:pu().number.isRequired,direction:pu().string,offset:pu().number,style:pu().objectOf(pu().oneOfType([pu().string,pu().number])),wrap:pu().bool};var c_e=function(){return c_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c_e.apply(this,arguments)},d_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function h_e(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,a=e.dateTransform,i=e.dateType,o=e.end,s=e.hover,l=e.offset,u=e.start,c=e.step,d=void 0===c?1:c,h=e.tile,f=e.value,p=e.valueType,m=d_e(e,["className","count","dateTransform","dateType","end","hover","offset","start","step","tile","value","valueType"]),v=[],g=u;g<=o;g+=d){var y=a(g);v.push(T.createElement(h,c_e({key:y.getTime(),classes:u_e({value:f,valueType:p,date:y,dateType:i,hover:s}),date:y,point:g},m)))}return T.createElement(i_e,{className:t,count:r,offset:l,wrap:!0},v)}h_e.propTypes=c_e(c_e({},$Ce),{className:pu().string,count:pu().number,dateTransform:pu().func.isRequired,dateType:pu().string,end:pu().number.isRequired,offset:pu().number,step:pu().number,start:pu().number.isRequired,tile:pu().func.isRequired});var f_e=function(){return f_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f_e.apply(this,arguments)};function p_e(e){var t=e.activeStartDate,n=e.children,r=e.classes,a=e.date,i=e.formatAbbr,o=e.locale,s=e.maxDate,l=e.maxDateTransform,u=e.minDate,c=e.minDateTransform,d=e.onClick,h=e.onMouseOver,f=e.style,p=e.tileClassName,m=e.tileContent,v=e.tileDisabled,g=e.view,y=(0,T.useMemo)((function(){return"function"===typeof p?p({activeStartDate:t,date:a,view:g}):p}),[t,a,p,g]),b=(0,T.useMemo)((function(){return"function"===typeof m?m({activeStartDate:t,date:a,view:g}):m}),[t,a,m,g]);return T.createElement("button",{className:(0,Xu.Z)(r,y),disabled:u&&c(u)>a||s&&l(s)<a||v&&v({activeStartDate:t,date:a,view:g}),onClick:d?function(e){return d(a,e)}:void 0,onFocus:h?function(){return h(a)}:void 0,onMouseOver:h?function(){return h(a)}:void 0,style:f,type:"button"},i?T.createElement("abbr",{"aria-label":i(o,a)},n):n,b)}p_e.propTypes=f_e(f_e({},QCe),{children:pu().node.isRequired,formatAbbr:pu().func,maxDateTransform:pu().func.isRequired,minDateTransform:pu().func.isRequired});var m_e=function(){return m_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},m_e.apply(this,arguments)},v_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},g_e=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},y_e="react-calendar__century-view__decades__decade";function b_e(e){var t=e.classes,n=void 0===t?[]:t,r=e.formatYear,a=void 0===r?MCe:r,i=v_e(e,["classes","formatYear"]),o=i.date,s=i.locale;return T.createElement(p_e,m_e({},i,{classes:g_e(g_e([],n,!0),[y_e],!1),maxDateTransform:YEe,minDateTransform:GEe,view:"century"}),zCe(s,a,o))}b_e.propTypes=m_e(m_e({},QCe),{formatYear:pu().func});var x_e=function(){return x_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},x_e.apply(this,arguments)};function w_e(e){var t=function(e){return FEe(BEe(e))}(e.activeStartDate),n=t+99;return T.createElement(h_e,x_e({},e,{className:"react-calendar__century-view__decades",dateTransform:GEe,dateType:"decade",end:n,start:t,step:10,tile:b_e}))}w_e.propTypes=x_e({},$Ce);var k_e=function(){return k_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k_e.apply(this,arguments)};function S_e(e){return T.createElement("div",{className:"react-calendar__century-view"},T.createElement(w_e,k_e({},e)))}var T_e=function(){return T_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},T_e.apply(this,arguments)},E_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},C_e=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},__e="react-calendar__decade-view__years__year";function M_e(e){var t=e.classes,n=void 0===t?[]:t,r=e.formatYear,a=void 0===r?MCe:r,i=E_e(e,["classes","formatYear"]),o=i.date,s=i.locale;return T.createElement(p_e,T_e({},i,{classes:C_e(C_e([],n,!0),[__e],!1),maxDateTransform:tCe,minDateTransform:$Ee,view:"decade"}),a(s,o))}M_e.propTypes=T_e(T_e({},QCe),{formatYear:pu().func});var A_e=function(){return A_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},A_e.apply(this,arguments)};function I_e(e){var t=function(e){return FEe(GEe(e))}(e.activeStartDate),n=t+9;return T.createElement(h_e,A_e({},e,{className:"react-calendar__decade-view__years",dateTransform:function(e){var t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t},dateType:"year",end:n,start:t,tile:M_e}))}I_e.propTypes=A_e({},$Ce);var N_e=function(){return N_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},N_e.apply(this,arguments)};function R_e(e){return T.createElement("div",{className:"react-calendar__decade-view"},T.createElement(I_e,N_e({},e)))}var O_e=function(){return O_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},O_e.apply(this,arguments)},D_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},P_e=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},L_e="react-calendar__year-view__months__month";function F_e(e){var t=e.classes,n=void 0===t?[]:t,r=e.formatMonth,a=void 0===r?TCe:r,i=e.formatMonthYear,o=void 0===i?ECe:i,s=D_e(e,["classes","formatMonth","formatMonthYear"]),l=s.date,u=s.locale;return T.createElement(p_e,O_e({},s,{classes:P_e(P_e([],n,!0),[L_e],!1),formatAbbr:o,maxDateTransform:lCe,minDateTransform:iCe,view:"year"}),a(u,l))}F_e.propTypes=O_e(O_e({},QCe),{formatMonth:pu().func,formatMonthYear:pu().func});var j_e=function(){return j_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},j_e.apply(this,arguments)};function z_e(e){var t=FEe(e.activeStartDate);return T.createElement(h_e,j_e({},e,{className:"react-calendar__year-view__months",dateTransform:function(e){var n=new Date;return n.setFullYear(t,e,1),n.setHours(0,0,0,0),n},dateType:"month",end:11,start:0,tile:F_e}))}z_e.propTypes=j_e(j_e({},$Ce),{locale:pu().string});var B_e=function(){return B_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},B_e.apply(this,arguments)};function U_e(e){return T.createElement("div",{className:"react-calendar__year-view"},T.createElement(z_e,B_e({},e)))}var W_e=function(){return W_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},W_e.apply(this,arguments)},Z_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},V_e="react-calendar__month-view__days__day";function H_e(e){var t=e.calendarType,n=e.classes,r=void 0===n?[]:n,a=e.currentMonthIndex,i=e.formatDay,o=void 0===i?kCe:i,s=e.formatLongDate,l=void 0===s?SCe:s,u=Z_e(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),c=u.date,d=u.locale,h=[];return r&&h.push.apply(h,r),V_e&&h.push(V_e),UCe(c,t)&&h.push("".concat(V_e,"--weekend")),c.getMonth()!==a&&h.push("".concat(V_e,"--neighboringMonth")),T.createElement(p_e,W_e({},u,{classes:h,formatAbbr:l,maxDateTransform:pCe,minDateTransform:hCe,view:"month"}),o(d,c))}H_e.propTypes=W_e(W_e({},QCe),{currentMonthIndex:pu().number.isRequired,formatDay:pu().func,formatLongDate:pu().func});var G_e=function(){return G_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},G_e.apply(this,arguments)},q_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function X_e(e){var t=e.activeStartDate,n=e.calendarType,r=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,i=q_e(e,["showFixedNumberOfWeeks","showNeighboringMonth"]),o=FEe(t),s=jEe(t),l=r||a,u=RCe(t,n),c=l?0:u,d=1+(l?-u:0),h=function(){if(r)return d+42-1;var e=vCe(t);if(a){var i=new Date;return i.setFullYear(o,s,e),i.setHours(0,0,0,0),e+(7-RCe(i,n)-1)}return e}();return T.createElement(h_e,G_e({},i,{className:"react-calendar__month-view__days",count:7,currentMonthIndex:s,dateTransform:function(e){var t=new Date;return t.setFullYear(o,s,e),t.setHours(0,0,0,0),t},dateType:"day",end:h,offset:c,start:d,tile:H_e}))}X_e.propTypes=G_e({calendarType:VCe,showFixedNumberOfWeeks:pu().bool,showNeighboringMonth:pu().bool},$Ce);var Y_e="react-calendar__month-view__weekdays",K_e="".concat(Y_e,"__weekday");function J_e(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=void 0===n?CCe:n,a=e.formatWeekday,i=void 0===a?_Ce:a,o=e.locale,s=e.onMouseLeave,l=iCe(new Date),u=FEe(l),c=jEe(l),d=[],h=1;h<=7;h+=1){var f=new Date(u,c,h-RCe(l,t)),p=i(o,f);d.push(T.createElement("div",{key:h,className:(0,Xu.Z)(K_e,BCe(f)&&"".concat(K_e,"--current"),UCe(f,t)&&"".concat(K_e,"--weekend"))},T.createElement("abbr",{"aria-label":p,title:p},r(o,f).replace(".",""))))}return T.createElement(i_e,{className:Y_e,count:7,onFocus:s,onMouseOver:s},d)}J_e.propTypes={calendarType:VCe,formatShortWeekday:pu().func,formatWeekday:pu().func,locale:pu().string,onMouseLeave:pu().func};var $_e=function(){return $_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$_e.apply(this,arguments)},Q_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},eMe="react-calendar__tile";function tMe(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=T.createElement("span",null,n);if(t){var a=e.date,i=e.onClickWeekNumber,o=e.weekNumber,s=Q_e(e,["date","onClickWeekNumber","weekNumber"]);return T.createElement("button",$_e({},s,{className:eMe,onClick:function(e){return i(o,a,e)},type:"button"}),r)}e.date,e.onClickWeekNumber,e.weekNumber,s=Q_e(e,["date","onClickWeekNumber","weekNumber"]);return T.createElement("div",$_e({},s,{className:eMe}),r)}function nMe(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,a=e.onMouseLeave,i=e.showFixedNumberOfWeeks,o=function(){if(i)return 6;var e=vCe(t)-(7-RCe(t,n));return 1+Math.ceil(e/7)}(),s=function(){for(var e=FEe(t),r=jEe(t),a=zEe(t),i=[],s=0;s<o;s+=1)i.push(OCe(new Date(e,r,a+7*s),n));return i}(),l=s.map((function(e){return function(e,t){void 0===t&&(t=gCe.ISO_8601);var n,r=t===gCe.US?gCe.US:gCe.ISO_8601,a=OCe(e,t),i=FEe(e)+1;do{n=OCe(new Date(i,0,r===gCe.ISO_8601?4:1),t),i-=1}while(e<n);return Math.round((a.getTime()-n.getTime())/6048e5)+1}(e,n)}));return T.createElement(i_e,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:a,onMouseOver:a,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},l.map((function(e,t){var n=s[t];if(!n)throw new Error("date is not defined");return T.createElement(tMe,{key:e,date:n,onClickWeekNumber:r,weekNumber:e})})))}tMe.propTypes={date:pu().instanceOf(Date).isRequired,onClickWeekNumber:pu().func,weekNumber:pu().node.isRequired},nMe.propTypes={activeStartDate:pu().instanceOf(Date).isRequired,calendarType:VCe,onClickWeekNumber:pu().func,onMouseLeave:pu().func,showFixedNumberOfWeeks:pu().bool};var rMe=function(){return rMe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},rMe.apply(this,arguments)},aMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function iMe(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,a=e.showFixedNumberOfWeeks,i=e.calendarType,o=void 0===i?function(e){for(var t=0,n=Object.entries(yCe);t<n.length;t++){var r=n[t],a=r[0];if(r[1].includes(e))return a}return gCe.ISO_8601}(n):i,s=e.formatShortWeekday,l=e.formatWeekday,u=e.onClickWeekNumber,c=e.showWeekNumbers,d=aMe(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var h="react-calendar__month-view";return T.createElement("div",{className:(0,Xu.Z)(h,c?"".concat(h,"--weekNumbers"):"")},T.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},c?T.createElement(nMe,{activeStartDate:t,calendarType:o,onClickWeekNumber:u,onMouseLeave:r,showFixedNumberOfWeeks:a}):null,T.createElement("div",{style:{flexGrow:1,width:"100%"}},T.createElement(J_e,{calendarType:o,formatShortWeekday:s,formatWeekday:l,locale:n,onMouseLeave:r}),T.createElement(X_e,rMe({calendarType:o},d)))))}iMe.propTypes=rMe(rMe({},$Ce),{calendarType:VCe,formatDay:pu().func,formatLongDate:pu().func,formatShortWeekday:pu().func,formatWeekday:pu().func,onClickWeekNumber:pu().func,onMouseLeave:pu().func,showFixedNumberOfWeeks:pu().bool,showNeighboringMonth:pu().bool,showWeekNumbers:pu().bool});var oMe=function(){return oMe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},oMe.apply(this,arguments)},sMe="react-calendar",lMe=["century","decade","year","month"],uMe=["decade","year","month","day"],cMe=new Date;cMe.setFullYear(1,0,1),cMe.setHours(0,0,0,0);var dMe=new Date(864e13);function hMe(e){return e instanceof Date?e:new Date(e)}function fMe(e,t){return lMe.slice(lMe.indexOf(e),lMe.indexOf(t)+1)}function pMe(e,t,n){return e&&function(e,t,n){return-1!==fMe(t,n).indexOf(e)}(e,t,n)?e:n}function mMe(e){var t=lMe.indexOf(e);return uMe[t]}function vMe(e,t){var n=e.value,r=e.minDate,a=e.maxDate,i=e.maxDetail,o=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=hMe(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!o)return null;var s=mMe(i);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return DCe(s,o);case 1:return LCe(s,o);default:throw new Error("Invalid index value: ".concat(t))}}(),r,a)}var gMe=function(e){return vMe(e,0)},yMe=function(e){return vMe(e,1)},bMe=function(e){return[gMe,yMe].map((function(t){return t(e)}))};function xMe(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,a=e.minDetail,i=e.value;return DCe(pMe(e.view,a,n),gMe({value:i,minDate:r,maxDate:t,maxDetail:n})||new Date)}function wMe(e){return e&&(!Array.isArray(e)||1===e.length)}function kMe(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var SMe,TMe=(0,T.forwardRef)((function(e,t){var n=e.activeStartDate,r=e.allowPartialRange,a=e.calendarType,i=e.className,o=e.defaultActiveStartDate,s=e.defaultValue,l=e.defaultView,u=e.formatDay,c=e.formatLongDate,d=e.formatMonth,h=e.formatMonthYear,f=e.formatShortWeekday,p=e.formatWeekday,m=e.formatYear,v=e.goToRangeStartOnSelect,g=void 0===v||v,y=e.inputRef,b=e.locale,x=e.maxDate,w=void 0===x?dMe:x,k=e.maxDetail,S=void 0===k?"month":k,E=e.minDate,C=void 0===E?cMe:E,_=e.minDetail,M=void 0===_?"century":_,A=e.navigationAriaLabel,I=e.navigationAriaLive,N=e.navigationLabel,R=e.next2AriaLabel,O=e.next2Label,D=e.nextAriaLabel,P=e.nextLabel,L=e.onActiveStartDateChange,F=e.onChange,j=e.onClickDay,z=e.onClickDecade,B=e.onClickMonth,U=e.onClickWeekNumber,W=e.onClickYear,Z=e.onDrillDown,V=e.onDrillUp,H=e.onViewChange,G=e.prev2AriaLabel,q=e.prev2Label,X=e.prevAriaLabel,Y=e.prevLabel,K=e.returnValue,J=void 0===K?"start":K,$=e.selectRange,Q=e.showDoubleView,ee=e.showFixedNumberOfWeeks,te=e.showNavigation,ne=void 0===te||te,re=e.showNeighboringMonth,ae=void 0===re||re,ie=e.showWeekNumbers,oe=e.tileClassName,se=e.tileContent,le=e.tileDisabled,ue=e.value,ce=e.view,de=(0,T.useState)(o),he=de[0],fe=de[1],pe=(0,T.useState)(null),me=pe[0],ve=pe[1],ge=(0,T.useState)(Array.isArray(s)?s.map((function(e){return null!==e?hMe(e):e})):null!==s&&void 0!==s?hMe(s):s),ye=ge[0],be=ge[1],xe=(0,T.useState)(l),we=xe[0],ke=xe[1],Se=n||he||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,a=e.defaultView,i=e.maxDate,o=e.maxDetail,s=e.minDate,l=e.minDetail,u=e.value,c=e.view,d=pMe(c,l,o),h=t||n;return h?DCe(d,h):xMe({maxDate:i,maxDetail:o,minDate:s,minDetail:l,value:u||r,view:c||a})}({activeStartDate:n,defaultActiveStartDate:o,defaultValue:s,defaultView:l,maxDate:w,maxDetail:S,minDate:C,minDetail:M,value:ue,view:ce}),Te=function(){var e=$&&wMe(ye)?ye:void 0!==ue?ue:ye;return e?Array.isArray(e)?e.map((function(e){return null!==e?hMe(e):e})):null!==e?hMe(e):e:null}(),Ee=mMe(S),Ce=pMe(ce||we,M,S),_e=fMe(M,S),Me=$?me:null,Ae=_e.indexOf(Ce)<_e.length-1,Ie=_e.indexOf(Ce)>0,Ne=(0,T.useCallback)((function(e){return function(){switch(J){case"start":return gMe;case"end":return yMe;case"range":return bMe;default:throw new Error("Invalid returnValue.")}}()({maxDate:w,maxDetail:S,minDate:C,value:e})}),[w,S,C,J]),Re=(0,T.useCallback)((function(e,t){fe(e);var n={action:t,activeStartDate:e,value:Te,view:Ce};L&&!kMe(Se,e)&&L(n)}),[Se,L,Te,Ce]),Oe=(0,T.useCallback)((function(e,t){var n=function(){switch(Ce){case"century":return z;case"decade":return W;case"year":return B;case"month":return j;default:throw new Error("Invalid view: ".concat(Ce,"."))}}();n&&n(e,t)}),[j,z,B,W,Ce]),De=(0,T.useCallback)((function(e,t){if(Ae){Oe(e,t);var n=_e[_e.indexOf(Ce)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");fe(e),ke(n);var r={action:"drillDown",activeStartDate:e,value:Te,view:n};L&&!kMe(Se,e)&&L(r),H&&Ce!==n&&H(r),Z&&Z(r)}}),[Se,Ae,L,Oe,Z,H,Te,Ce,_e]),Pe=(0,T.useCallback)((function(){if(Ie){var e=_e[_e.indexOf(Ce)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=DCe(e,Se);fe(t),ke(e);var n={action:"drillUp",activeStartDate:t,value:Te,view:e};L&&!kMe(Se,t)&&L(n),H&&Ce!==e&&H(n),V&&V(n)}}),[Se,Ie,L,V,H,Te,Ce,_e]),Le=(0,T.useCallback)((function(e,t){var n=Te;Oe(e,t);var a,i=$&&!wMe(n);if($)if(i)a=DCe(Ee,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");a=function(e,t,n){var r=[t,n].sort((function(e,t){return e.getTime()-t.getTime()}));return[DCe(e,r[0]),LCe(e,r[1])]}(Ee,n,e)}else a=Ne(e);var o=!$||i||g?xMe({maxDate:w,maxDetail:S,minDate:C,minDetail:M,value:a,view:Ce}):null;t.persist(),fe(o),be(a);var s={action:"onChange",activeStartDate:o,value:a,view:Ce};if(L&&!kMe(Se,o)&&L(s),F)if($)if(wMe(a)){if(r){if(Array.isArray(a))throw new Error("value must not be an array");F([a||null,null],t)}}else F(a||null,t);else F(a||null,t)}),[Se,r,Ne,g,w,S,C,M,L,F,Oe,$,Te,Ee,Ce]);function Fe(e){ve(e)}function je(){ve(null)}function ze(e){var t={activeStartDate:e?PCe(Ce,Se):DCe(Ce,Se),hover:Me,locale:b,maxDate:w,minDate:C,onClick:Ae?De:Le,onMouseOver:$?Fe:null,tileClassName:oe,tileContent:se,tileDisabled:le,value:Te,valueType:Ee};switch(Ce){case"century":return T.createElement(S_e,oMe({formatYear:m},t));case"decade":return T.createElement(R_e,oMe({formatYear:m},t));case"year":return T.createElement(U_e,oMe({formatMonth:d,formatMonthYear:h},t));case"month":return T.createElement(iMe,oMe({calendarType:a,formatDay:u,formatLongDate:c,formatShortWeekday:f,formatWeekday:p,onClickWeekNumber:U,onMouseLeave:$?je:null,showFixedNumberOfWeeks:"undefined"!==typeof ee?ee:Q,showNeighboringMonth:ae,showWeekNumbers:ie},t));default:throw new Error("Invalid view: ".concat(Ce,"."))}}(0,T.useImperativeHandle)(t,(function(){return{activeStartDate:Se,drillDown:De,drillUp:Pe,onChange:Le,setActiveStartDate:Re,value:Te,view:Ce}}),[Se,De,Pe,Le,Re,Te,Ce]);var Be=Array.isArray(Te)?Te:[Te];return T.createElement("div",{className:(0,Xu.Z)(sMe,$&&1===Be.length&&"".concat(sMe,"--selectRange"),Q&&"".concat(sMe,"--doubleView"),i),ref:y},ne?T.createElement(t_e,{activeStartDate:Se,drillUp:Pe,formatMonthYear:h,formatYear:m,locale:b,maxDate:w,minDate:C,navigationAriaLabel:A,navigationAriaLive:I,navigationLabel:N,next2AriaLabel:R,next2Label:O,nextAriaLabel:D,nextLabel:P,prev2AriaLabel:G,prev2Label:q,prevAriaLabel:X,prevLabel:Y,setActiveStartDate:Re,showDoubleView:Q,view:Ce,views:_e}):null,T.createElement("div",{className:"".concat(sMe,"__viewContainer"),onBlur:$?je:void 0,onMouseLeave:$?je:void 0},ze(),Q?ze(!0):null))})),EMe=pu().instanceOf(Date),CMe=pu().oneOfType([pu().string,pu().instanceOf(Date)]),_Me=pu().oneOfType([CMe,(SMe=CMe,pu().arrayOf(SMe))]);TMe.propTypes={activeStartDate:EMe,allowPartialRange:pu().bool,calendarType:VCe,className:HCe,defaultActiveStartDate:EMe,defaultValue:_Me,defaultView:JCe,formatDay:pu().func,formatLongDate:pu().func,formatMonth:pu().func,formatMonthYear:pu().func,formatShortWeekday:pu().func,formatWeekday:pu().func,formatYear:pu().func,goToRangeStartOnSelect:pu().bool,inputRef:XCe,locale:pu().string,maxDate:qCe,maxDetail:pu().oneOf(lMe),minDate:GCe,minDetail:pu().oneOf(lMe),navigationAriaLabel:pu().string,navigationAriaLive:pu().oneOf(["off","polite","assertive"]),navigationLabel:pu().func,next2AriaLabel:pu().string,next2Label:pu().node,nextAriaLabel:pu().string,nextLabel:pu().node,onActiveStartDateChange:pu().func,onChange:pu().func,onClickDay:pu().func,onClickDecade:pu().func,onClickMonth:pu().func,onClickWeekNumber:pu().func,onClickYear:pu().func,onDrillDown:pu().func,onDrillUp:pu().func,onViewChange:pu().func,prev2AriaLabel:pu().string,prev2Label:pu().node,prevAriaLabel:pu().string,prevLabel:pu().node,returnValue:pu().oneOf(["start","end","range"]),selectRange:pu().bool,showDoubleView:pu().bool,showFixedNumberOfWeeks:pu().bool,showNavigation:pu().bool,showNeighboringMonth:pu().bool,showWeekNumbers:pu().bool,tileClassName:pu().oneOfType([pu().func,HCe]),tileContent:pu().oneOfType([pu().func,pu().node]),tileDisabled:pu().func,value:_Me,view:JCe};var MMe=TMe,AMe=function(){var e=TNe(),t=e.reports,n=e.reportsResume,r=ni(),a=(0,T.useState)([]),i=(0,Z.Z)(a,2),o=i[0],s=i[1],l=(0,T.useState)([]),u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=(0,T.useState)([]),f=(0,Z.Z)(h,2),p=(f[0],f[1]),m=(0,T.useState)(new Date),v=(0,Z.Z)(m,2),g=v[0],y=v[1],b=(0,T.useState)([]),x=(0,Z.Z)(b,2),w=x[0],k=x[1],S=(0,T.useState)(!1),E=(0,Z.Z)(S,2),C=(E[0],E[1]),_=(0,T.useState)(""),M=(0,Z.Z)(_,2),A=(M[0],M[1]),I=(0,T.useState)(null),N=(0,Z.Z)(I,2),R=N[0],O=N[1],D=(0,T.useState)(!1),P=(0,Z.Z)(D,2),L=P[0],F=P[1],j=Ze();(0,T.useEffect)((function(){var e=document.querySelector(".react-calendar__navigation");e&&e.addEventListener("click",(function(e){z()}))}),[]),(0,T.useEffect)((function(){if(n.length>0){var e=[],t=[];n.forEach((function(n){n.dateInit?e.push(n):t.push(n)})),s(e),d(t),z()}}),[n]);var z=function(){setTimeout((function(){var e=document.getElementsByClassName("react-calendar__month-view__days");if(e)for(var t=0;t<e[0].children.length;t++){var n=e[0].children[t].childNodes[0].ariaLabel;n&&V(n,e[0].children[t])}}),1e3)};(0,T.useEffect)((function(){var e=[];o.forEach((function(t,n){e.push(t.dateInit.split("T")[0])})),c.forEach((function(t,n){e.push(t.datePrev.split("T")[0])}));var t=e.sort((function(e,t){return e>t?-1:e<t?1:0})),n=B(t);k(n)}),[o,c]);var B=function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))},U=function(e){return 0===e?"Dom":1===e?"Lun":2===e?"Mar":3===e?"Mie":4===e?"Jue":5===e?"Vie":6===e?"Sab":void 0};(0,T.useEffect)((function(){console.log(g),A(" ".concat(U(g.getDay())," ").concat(g.toLocaleDateString("es-CL"))),C(!0),console.log(g);var e=new Date(g).toISOString().split("T")[0];W(e)}),[g]);var W=function(e){var n=t.filter((function(t){if(t.isActive=!1,t.dateInit){if(t.dateInit.split("T")[0]===e)return t}else if(t.datePrev.split("T")[0]===e)return t}));p(n),C(!1)},V=function(e,r){n.forEach((function(n,a){var i=document.getElementById("".concat(e));if((i||((i=document.createElement("ul")).setAttribute("id","".concat(e)),i.style.position="absolute",i.style.overflowY="auto",i.style.maxHeight="calc((100vh - 280px)/7)",i.style.minWidth="150px",i.style.right="5px",i.style.bottom="0px",i.style.padding="0px 5px",i.style.margin="0px",i.style.backgroundColor="#e9e9e9",i.style.color="black",i.style.fontSize="10px",i.style.textAlign="left"),r.style.position="relative",r.appendChild(i),H(new Date(n.dateInit?n.dateInit:n.datePrev)).toLocaleDateString()===new Date(function(e){var t;t=isNaN(Number(e[2]))?"0"+"".concat(e):"".concat(e);var n,r="".concat(t[0]).concat(t[1]);t.includes("enero")?n="01":t.includes("febrero")?n="02":t.includes("marzo")?n="03":t.includes("abril")?n="04":t.includes("mayo")?n="05":t.includes("junio")?n="06":t.includes("julio")?n="07":t.includes("agosto")?n="08":t.includes("septiembre")?n="09":t.includes("octubre")?n="10":t.includes("noviembre")?n="11":t.includes("diciembre")&&(n="12");var a="".concat(t[t.length-4]).concat(t[t.length-3]).concat(t[t.length-2]).concat(t[t.length-1]);return"".concat(a,"/").concat(n,"/").concat(r)}(e)).toLocaleDateString())&&!document.getElementById("".concat(a,"-").concat(n.idIndex))){var o=document.createElement("li");o.className=n.isAutomatic?"itemListAutomatic":"itemList",o.setAttribute("id","".concat(a,"-").concat(n.idIndex)),o.innerText="OT ".concat(n.idIndex," - E ").concat(n.equ," - ").concat("Pauta de Inspecci\xf3n"===n.guide?"P. Insp":n.guide," - ").concat(n.dateInit?"Inic.":"Progr."),o.onclick=function(){var e=t.filter((function(e){if(n._id===e._id)return e}));e[0]&&(O(e[0]),F(!0))},i.appendChild(o)}}))},H=function(e){if(e)return new Date(e.getFullYear(),e.getMonth(),e.getDate())};return(0,Ct.jsxs)(vg,{height:"100%",children:[R&&(0,Ct.jsx)(QIe,{open:L,report:R,onlyClose:function(){O(null)}}),(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{className:r.pageContainer,item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{style:{flexShrink:0},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){j(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Calendario"})]})})})}),(0,Ct.jsx)(Lh,{container:!0,spacing:1,style:{padding:"5px 10px 0px 10px"},children:(0,Ct.jsx)(Lh,{item:!0,sm:12,children:(0,Ct.jsx)(MMe,{style:{width:"100%"},onChange:y,onViewChange:function(e){console.log("Cambio vista ",e)},value:g,locale:"es-US",tileClassName:function(e){var t=new Date(e.date);if(w.find((function(e){return t.toISOString().split("T")[0]===e})))return"highlight"}})})})]})})})]})};function IMe(e,t){if(null==e)return{};var n,r,a=(0,wt.Z)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function NMe(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function RMe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:NMe(t[n])&&NMe(e[n])&&Object.keys(t[n]).length>0&&RMe(e[n],t[n])}))}var OMe={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function DMe(){var e="undefined"!==typeof document?document:{};return RMe(e,OMe),e}var PMe={document:OMe,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function LMe(){var e="undefined"!==typeof window?window:{};return RMe(e,PMe),e}var FMe=function(e){O(n,e);var t=z(n);function n(e){var r;return M(this,n),"number"===typeof e?r=t.call(this,e):function(e){var t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return t},set:function(e){t.__proto__=e}})}(F(r=t.call.apply(t,[this].concat((0,_.Z)(e||[]))))),j(r)}return N(n)}(U(Array));function jMe(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){Array.isArray(t)?e.push.apply(e,(0,_.Z)(jMe(t))):e.push(t)})),e}function zMe(e,t){return Array.prototype.filter.call(e,t)}function BMe(e,t){var n=LMe(),r=DMe(),a=[];if(!t&&e instanceof FMe)return e;if(!e)return new FMe(a);if("string"===typeof e){var i=e.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){var o="div";0===i.indexOf("<li")&&(o="ul"),0===i.indexOf("<tr")&&(o="tbody"),0!==i.indexOf("<td")&&0!==i.indexOf("<th")||(o="tr"),0===i.indexOf("<tbody")&&(o="table"),0===i.indexOf("<option")&&(o="select");var s=r.createElement(o);s.innerHTML=i;for(var l=0;l<s.childNodes.length;l+=1)a.push(s.childNodes[l])}else a=function(e,t){if("string"!==typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),a=0;a<r.length;a+=1)n.push(r[a]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)a.push(e);else if(Array.isArray(e)){if(e instanceof FMe)return e;a=e}return new FMe(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(a))}BMe.fn=FMe.prototype;var UMe="resize scroll".split(" ");function WMe(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("undefined"===typeof n[0]){for(var a=0;a<this.length;a+=1)UMe.indexOf(e)<0&&(e in this[a]?this[a][e]():BMe(this[a]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}WMe("click"),WMe("blur"),WMe("focus"),WMe("focusin"),WMe("focusout"),WMe("keyup"),WMe("keydown"),WMe("keypress"),WMe("submit"),WMe("change"),WMe("mousedown"),WMe("mousemove"),WMe("mouseup"),WMe("mouseenter"),WMe("mouseleave"),WMe("mouseout"),WMe("mouseover"),WMe("touchstart"),WMe("touchend"),WMe("touchmove"),WMe("resize"),WMe("scroll");var ZMe={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=jMe(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,(0,_.Z)(r))})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=jMe(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,(0,_.Z)(r))})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=jMe(t.map((function(e){return e.split(" ")})));return zMe(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=jMe(t.map((function(e){return e.split(" ")})));this.forEach((function(e){r.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!==typeof e?"".concat(e,"ms"):e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],o=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),BMe(t).is(a))i.apply(t,n);else for(var r=BMe(t).parents(),o=0;o<r.length;o+=1)BMe(r[o]).is(a)&&i.apply(r[o],n)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),i.apply(this,t)}"function"===typeof t[1]&&(r=t[0],i=t[1],o=t[2],a=void 0),o||(o=!1);for(var u,c=r.split(" "),d=0;d<this.length;d+=1){var h=this[d];if(a)for(u=0;u<c.length;u+=1){var f=c[u];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[f]||(h.dom7LiveListeners[f]=[]),h.dom7LiveListeners[f].push({listener:i,proxyListener:s}),h.addEventListener(f,s,o)}else for(u=0;u<c.length;u+=1){var p=c[u];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[p]||(h.dom7Listeners[p]=[]),h.dom7Listeners[p].push({listener:i,proxyListener:l}),h.addEventListener(p,l,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],o=t[3];"function"===typeof t[1]&&(r=t[0],i=t[1],o=t[2],a=void 0),o||(o=!1);for(var s=r.split(" "),l=0;l<s.length;l+=1)for(var u=s[l],c=0;c<this.length;c+=1){var d=this[c],h=void 0;if(!a&&d.dom7Listeners?h=d.dom7Listeners[u]:a&&d.dom7LiveListeners&&(h=d.dom7LiveListeners[u]),h&&h.length)for(var f=h.length-1;f>=0;f-=1){var p=h[f];i&&p.listener===i||i&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===i?(d.removeEventListener(u,p.proxyListener,o),h.splice(f,1)):i||(d.removeEventListener(u,p.proxyListener,o),h.splice(f,1))}}return this},trigger:function(){for(var e=LMe(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=n[0].split(" "),i=n[1],o=0;o<a.length;o+=1)for(var s=a[o],l=0;l<this.length;l+=1){var u=this[l];if(e.CustomEvent){var c=new e.CustomEvent(s,{detail:i,bubbles:!0,cancelable:!0});u.dom7EventData=n.filter((function(e,t){return t>0})),u.dispatchEvent(c),u.dom7EventData=[],delete u.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=LMe();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=LMe(),t=DMe(),n=this[0],r=n.getBoundingClientRect(),a=t.body,i=n.clientTop||a.clientTop||0,o=n.clientLeft||a.clientLeft||0,s=n===e?e.scrollY:n.scrollTop,l=n===e?e.scrollX:n.scrollLeft;return{top:r.top+s-i,left:r.left+l-o}}return null},css:function(e,t){var n,r=LMe();if(1===arguments.length){if("string"!==typeof e){for(n=0;n<this.length;n+=1)for(var a in e)this[n].style[a]=e[a];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this},html:function(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=LMe(),a=DMe(),i=this[0];if(!i||"undefined"===typeof e)return!1;if("string"===typeof e){if(i.matches)return i.matches(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);for(t=BMe(e),n=0;n<t.length;n+=1)if(t[n]===i)return!0;return!1}if(e===a)return i===a;if(e===r)return i===r;if(e.nodeType||e instanceof FMe){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===i)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if("undefined"===typeof e)return this;var t=this.length;if(e>t-1)return BMe([]);if(e<0){var n=t+e;return BMe(n<0?[]:[this[n]])}return BMe([this[e]])},append:function(){for(var e,t=DMe(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"===typeof e){var a=t.createElement("div");for(a.innerHTML=e;a.firstChild;)this[r].appendChild(a.firstChild)}else if(e instanceof FMe)for(var i=0;i<e.length;i+=1)this[r].appendChild(e[i]);else this[r].appendChild(e)}return this},prepend:function(e){var t,n,r=DMe();for(t=0;t<this.length;t+=1)if("string"===typeof e){var a=r.createElement("div");for(a.innerHTML=e,n=a.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(a.childNodes[n],this[t].childNodes[0])}else if(e instanceof FMe)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&BMe(this[0].nextElementSibling).is(e)?BMe([this[0].nextElementSibling]):BMe([]):this[0].nextElementSibling?BMe([this[0].nextElementSibling]):BMe([]):BMe([])},nextAll:function(e){var t=[],n=this[0];if(!n)return BMe([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?BMe(r).is(e)&&t.push(r):t.push(r),n=r}return BMe(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&BMe(t.previousElementSibling).is(e)?BMe([t.previousElementSibling]):BMe([]):t.previousElementSibling?BMe([t.previousElementSibling]):BMe([])}return BMe([])},prevAll:function(e){var t=[],n=this[0];if(!n)return BMe([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?BMe(r).is(e)&&t.push(r):t.push(r),n=r}return BMe(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?BMe(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return BMe(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?BMe(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return BMe(t)},closest:function(e){var t=this;return"undefined"===typeof e?BMe([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),a=0;a<r.length;a+=1)t.push(r[a]);return BMe(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,a=0;a<r.length;a+=1)e&&!BMe(r[a]).is(e)||t.push(r[a]);return BMe(t)},filter:function(e){return BMe(zMe(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(ZMe).forEach((function(e){Object.defineProperty(BMe.fn,e,{value:ZMe[e],writable:!0})}));var VMe,HMe,GMe,qMe=BMe;function XMe(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function YMe(){return Date.now()}function KMe(e,t){void 0===t&&(t="x");var n,r,a,i=LMe(),o=function(e){var t,n=LMe();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return i.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),a=new i.WebKitCSSMatrix("none"===r?"":r)):n=(a=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=i.WebKitCSSMatrix?a.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=i.WebKitCSSMatrix?a.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function JMe(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function $Me(){for(var e,t=Object(arguments.length<=0?void 0:arguments[0]),n=["__proto__","constructor","prototype"],r=1;r<arguments.length;r+=1){var a=r<0||arguments.length<=r?void 0:arguments[r];if(void 0!==a&&null!==a&&(e=a,!("undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType))))for(var i=Object.keys(Object(a)).filter((function(e){return n.indexOf(e)<0})),o=0,s=i.length;o<s;o+=1){var l=i[o],u=Object.getOwnPropertyDescriptor(a,l);void 0!==u&&u.enumerable&&(JMe(t[l])&&JMe(a[l])?a[l].__swiper__?t[l]=a[l]:$Me(t[l],a[l]):!JMe(t[l])&&JMe(a[l])?(t[l]={},a[l].__swiper__?t[l]=a[l]:$Me(t[l],a[l])):t[l]=a[l])}}return t}function QMe(e,t,n){e.style.setProperty(t,n)}function eAe(e){var t,n=e.swiper,r=e.targetPosition,a=e.side,i=LMe(),o=-n.translate,s=null,l=n.params.speed;n.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(n.cssModeFrameID);var u=r>o?"next":"prev",c=function(e,t){return"next"===u&&e>=t||"prev"===u&&e<=t};!function e(){t=(new Date).getTime(),null===s&&(s=t);var u=Math.max(Math.min((t-s)/l,1),0),d=.5-Math.cos(u*Math.PI)/2,h=o+d*(r-o);if(c(h,r)&&(h=r),n.wrapperEl.scrollTo((0,kt.Z)({},a,h)),c(h,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((function(){n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo((0,kt.Z)({},a,h))})),void i.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=i.requestAnimationFrame(e)}()}function tAe(){return VMe||(VMe=function(){var e=LMe(),t=DMe();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(d4){}return t}(),gestures:"ongesturestart"in e}}()),VMe}function nAe(e){return void 0===e&&(e={}),HMe||(HMe=function(e){var t=(void 0===e?{}:e).userAgent,n=tAe(),r=LMe(),a=r.navigator.platform,i=t||r.navigator.userAgent,o={ios:!1,android:!1},s=r.screen.width,l=r.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/),c=i.match(/(iPad).*OS\s([\d_]+)/),d=i.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===a,p="MacIntel"===a;return!c&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(s,"x").concat(l))>=0&&((c=i.match(/(Version)\/([\d.]+)/))||(c=[0,1,"13_0_0"]),p=!1),u&&!f&&(o.os="android",o.android=!0),(c||h||d)&&(o.os="ios",o.ios=!0),o}(e)),HMe}function rAe(){return GMe||(GMe=function(){var e=LMe();return{isSafari:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),GMe}var aAe={on:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;var a=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][a](t)})),r},once:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;function a(){r.off(e,a),a.__emitterProxy&&delete a.__emitterProxy;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];t.apply(r,i)}return a.__emitterProxy=t,r.on(e,a,n)},onAny:function(e,t){var n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((function(e){"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,a){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(a,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners||r.destroyed)return r;if(!r.eventsListeners)return r;for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return"string"===typeof i[0]||Array.isArray(i[0])?(e=i[0],t=i.slice(1,i.length),n=r):(e=i[0].events,t=i[0].data,n=i[0].context||r),t.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat((0,_.Z)(t)))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}};var iAe={updateSize:function(){var e,t,n=this,r=n.$el;e="undefined"!==typeof n.params.width&&null!==n.params.width?n.params.width:r[0].clientWidth,t="undefined"!==typeof n.params.height&&null!==n.params.height?n.params.height:r[0].clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,a=e.$wrapperEl,i=e.size,o=e.rtlTranslate,s=e.wrongRTL,l=e.virtual&&r.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,c=a.children(".".concat(e.params.slideClass)),d=l?e.virtual.slides.length:c.length,h=[],f=[],p=[],m=r.slidesOffsetBefore;"function"===typeof m&&(m=r.slidesOffsetBefore.call(e));var v=r.slidesOffsetAfter;"function"===typeof v&&(v=r.slidesOffsetAfter.call(e));var g=e.snapGrid.length,y=e.slidesGrid.length,b=r.spaceBetween,x=-m,w=0,k=0;if("undefined"!==typeof i){"string"===typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*i),e.virtualSize=-b,o?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(QMe(e.wrapperEl,"--swiper-centered-offset-before",""),QMe(e.wrapperEl,"--swiper-centered-offset-after",""));var S,T=r.grid&&r.grid.rows>1&&e.grid;T&&e.grid.initSlides(d);for(var E="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((function(e){return"undefined"!==typeof r.breakpoints[e].slidesPerView})).length>0,C=0;C<d;C+=1){S=0;var _=c.eq(C);if(T&&e.grid.updateSlide(C,_,d,t),"none"!==_.css("display")){if("auto"===r.slidesPerView){E&&(c[C].style[t("width")]="");var M=getComputedStyle(_[0]),A=_[0].style.transform,I=_[0].style.webkitTransform;if(A&&(_[0].style.transform="none"),I&&(_[0].style.webkitTransform="none"),r.roundLengths)S=e.isHorizontal()?_.outerWidth(!0):_.outerHeight(!0);else{var N=n(M,"width"),R=n(M,"padding-left"),O=n(M,"padding-right"),D=n(M,"margin-left"),P=n(M,"margin-right"),L=M.getPropertyValue("box-sizing");if(L&&"border-box"===L)S=N+D+P;else{var F=_[0],j=F.clientWidth;S=N+R+O+D+P+(F.offsetWidth-j)}}A&&(_[0].style.transform=A),I&&(_[0].style.webkitTransform=I),r.roundLengths&&(S=Math.floor(S))}else S=(i-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),c[C]&&(c[C].style[t("width")]="".concat(S,"px"));c[C]&&(c[C].swiperSlideSize=S),p.push(S),r.centeredSlides?(x=x+S/2+w/2+b,0===w&&0!==C&&(x=x-i/2-b),0===C&&(x=x-i/2-b),Math.abs(x)<.001&&(x=0),r.roundLengths&&(x=Math.floor(x)),k%r.slidesPerGroup===0&&h.push(x),f.push(x)):(r.roundLengths&&(x=Math.floor(x)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup===0&&h.push(x),f.push(x),x=x+S+b),e.virtualSize+=S+b,w=S,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+v,o&&s&&("slide"===r.effect||"coverflow"===r.effect)&&a.css({width:"".concat(e.virtualSize+r.spaceBetween,"px")}),r.setWrapperSize&&a.css((0,kt.Z)({},t("width"),"".concat(e.virtualSize+r.spaceBetween,"px"))),T&&e.grid.updateWrapperSize(S,h,t),!r.centeredSlides){for(var z=[],B=0;B<h.length;B+=1){var U=h[B];r.roundLengths&&(U=Math.floor(U)),h[B]<=e.virtualSize-i&&z.push(U)}h=z,Math.floor(e.virtualSize-i)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-i)}if(0===h.length&&(h=[0]),0!==r.spaceBetween){var W=e.isHorizontal()&&o?"marginLeft":t("marginRight");c.filter((function(e,t){return!r.cssMode||t!==c.length-1})).css((0,kt.Z)({},W,"".concat(b,"px")))}if(r.centeredSlides&&r.centeredSlidesBounds){var Z=0;p.forEach((function(e){Z+=e+(r.spaceBetween?r.spaceBetween:0)}));var V=(Z-=r.spaceBetween)-i;h=h.map((function(e){return e<0?-m:e>V?V+v:e}))}if(r.centerInsufficientSlides){var H=0;if(p.forEach((function(e){H+=e+(r.spaceBetween?r.spaceBetween:0)})),(H-=r.spaceBetween)<i){var G=(i-H)/2;h.forEach((function(e,t){h[t]=e-G})),f.forEach((function(e,t){f[t]=e+G}))}}if(Object.assign(e,{slides:c,snapGrid:h,slidesGrid:f,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){QMe(e.wrapperEl,"--swiper-centered-offset-before","".concat(-h[0],"px")),QMe(e.wrapperEl,"--swiper-centered-offset-after","".concat(e.size/2-p[p.length-1]/2,"px"));var q=-e.snapGrid[0],X=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((function(e){return e+q})),e.slidesGrid=e.slidesGrid.map((function(e){return e+X}))}if(d!==u&&e.emit("slidesLengthChange"),h.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),f.length!==y&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!l&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){var Y="".concat(r.containerModifierClass,"backface-hidden"),K=e.$el.hasClass(Y);d<=r.maxBackfaceHiddenSlides?K||e.$el.addClass(Y):K&&e.$el.removeClass(Y)}}},updateAutoHeight:function(e){var t,n=this,r=[],a=n.virtual&&n.params.virtual.enabled,i=0;"number"===typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var o=function(e){return a?n.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:n.slides.eq(e)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)n.visibleSlides.each((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var s=n.activeIndex+t;if(s>n.slides.length&&!a)break;r.push(o(s))}else r.push(o(n.activeIndex));for(t=0;t<r.length;t+=1)if("undefined"!==typeof r[t]){var l=r[t].offsetHeight;i=l>i?l:i}(i||0===i)&&n.$wrapperEl.css("height","".concat(i,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,n=t.params,r=t.slides,a=t.rtlTranslate,i=t.snapGrid;if(0!==r.length){"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;a&&(o=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<r.length;s+=1){var l=r[s],u=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);var c=(o+(n.centeredSlides?t.minTranslate():0)-u)/(l.swiperSlideSize+n.spaceBetween),d=(o-i[0]+(n.centeredSlides?t.minTranslate():0)-u)/(l.swiperSlideSize+n.spaceBetween),h=-(o-u),f=h+t.slidesSizesGrid[s];(h>=0&&h<t.size-1||f>1&&f<=t.size||h<=0&&f>=t.size)&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(s),r.eq(s).addClass(n.slideVisibleClass)),l.progress=a?-c:c,l.originalProgress=a?-d:d}t.visibleSlides=qMe(t.visibleSlides)}},updateProgress:function(e){var t=this;if("undefined"===typeof e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,a=t.maxTranslate()-t.minTranslate(),i=t.progress,o=t.isBeginning,s=t.isEnd,l=o,u=s;0===a?(i=0,o=!0,s=!0):(o=(i=(e-t.minTranslate())/a)<=0,s=i>=1),Object.assign(t,{progress:i,isBeginning:o,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),o&&!l&&t.emit("reachBeginning toEdge"),s&&!u&&t.emit("reachEnd toEdge"),(l&&!o||u&&!s)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,a=t.$wrapperEl,i=t.activeIndex,o=t.realIndex,s=t.virtual&&r.virtual.enabled;n.removeClass("".concat(r.slideActiveClass," ").concat(r.slideNextClass," ").concat(r.slidePrevClass," ").concat(r.slideDuplicateActiveClass," ").concat(r.slideDuplicateNextClass," ").concat(r.slideDuplicatePrevClass)),(e=s?t.$wrapperEl.find(".".concat(r.slideClass,'[data-swiper-slide-index="').concat(i,'"]')):n.eq(i)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?a.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass):a.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass));var l=e.nextAll(".".concat(r.slideClass)).eq(0).addClass(r.slideNextClass);r.loop&&0===l.length&&(l=n.eq(0)).addClass(r.slideNextClass);var u=e.prevAll(".".concat(r.slideClass)).eq(0).addClass(r.slidePrevClass);r.loop&&0===u.length&&(u=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(l.hasClass(r.slideDuplicateClass)?a.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass):a.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass),u.hasClass(r.slideDuplicateClass)?a.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass):a.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,a=n.slidesGrid,i=n.snapGrid,o=n.params,s=n.activeIndex,l=n.realIndex,u=n.snapIndex,c=e;if("undefined"===typeof c){for(var d=0;d<a.length;d+=1)"undefined"!==typeof a[d+1]?r>=a[d]&&r<a[d+1]-(a[d+1]-a[d])/2?c=d:r>=a[d]&&r<a[d+1]&&(c=d+1):r>=a[d]&&(c=d);o.normalizeSlideIndex&&(c<0||"undefined"===typeof c)&&(c=0)}if(i.indexOf(r)>=0)t=i.indexOf(r);else{var h=Math.min(o.slidesPerGroupSkip,c);t=h+Math.floor((c-h)/o.slidesPerGroup)}if(t>=i.length&&(t=i.length-1),c!==s){var f=parseInt(n.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(n,{snapIndex:t,realIndex:f,previousIndex:s,activeIndex:c}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),l!==f&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==u&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this,r=n.params,a=qMe(e).closest(".".concat(r.slideClass))[0],i=!1;if(a)for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===a){i=!0,t=o;break}if(!a||!i)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=a,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(qMe(a).attr("data-swiper-slide-index"),10):n.clickedIndex=t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var oAe={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,n=t.params,r=t.rtlTranslate,a=t.translate,i=t.$wrapperEl;if(n.virtualTranslate)return r?-a:a;if(n.cssMode)return a;var o=KMe(i[0],e);return r&&(o=-o),o||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,a=n.params,i=n.$wrapperEl,o=n.wrapperEl,s=n.progress,l=0,u=0;n.isHorizontal()?l=r?-e:e:u=e,a.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),a.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:a.virtualTranslate||i.transform("translate3d(".concat(l,"px, ").concat(u,"px, ").concat(0,"px)")),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u;var c=n.maxTranslate()-n.minTranslate();(0===c?0:(e-n.minTranslate())/c)!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,a){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var i=this,o=i.params,s=i.wrapperEl;if(i.animating&&o.preventInteractionOnTransition)return!1;var l,u=i.minTranslate(),c=i.maxTranslate();if(l=r&&e>u?u:r&&e<c?c:e,i.updateProgress(l),o.cssMode){var d=i.isHorizontal();if(0===t)s[d?"scrollLeft":"scrollTop"]=-l;else{var h;if(!i.support.smoothScroll)return eAe({swiper:i,targetPosition:-l,side:d?"left":"top"}),!0;s.scrollTo((h={},(0,kt.Z)(h,d?"left":"top",-l),(0,kt.Z)(h,"behavior","smooth"),h))}return!0}return 0===t?(i.setTransition(0),i.setTranslate(l),n&&(i.emit("beforeTransitionStart",t,a),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(l),n&&(i.emit("beforeTransitionStart",t,a),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}};function sAe(e){var t=e.swiper,n=e.runCallbacks,r=e.direction,a=e.step,i=t.activeIndex,o=t.previousIndex,s=r;if(s||(s=i>o?"next":i<o?"prev":"reset"),t.emit("transition".concat(a)),n&&i!==o){if("reset"===s)return void t.emit("slideResetTransition".concat(a));t.emit("slideChangeTransition".concat(a)),"next"===s?t.emit("slideNextTransition".concat(a)):t.emit("slidePrevTransition".concat(a))}}var lAe={slideTo:function(e,t,n,r,a){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!==typeof e&&"string"!==typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(typeof e,"] given."));if("string"===typeof e){var i=parseInt(e,10);if(!isFinite(i))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=i}var o=this,s=e;s<0&&(s=0);var l=o.params,u=o.snapGrid,c=o.slidesGrid,d=o.previousIndex,h=o.activeIndex,f=o.rtlTranslate,p=o.wrapperEl,m=o.enabled;if(o.animating&&l.preventInteractionOnTransition||!m&&!r&&!a)return!1;var v=Math.min(o.params.slidesPerGroupSkip,s),g=v+Math.floor((s-v)/o.params.slidesPerGroup);g>=u.length&&(g=u.length-1),(h||l.initialSlide||0)===(d||0)&&n&&o.emit("beforeSlideChangeStart");var y,b=-u[g];if(o.updateProgress(b),l.normalizeSlideIndex)for(var x=0;x<c.length;x+=1){var w=-Math.floor(100*b),k=Math.floor(100*c[x]),S=Math.floor(100*c[x+1]);"undefined"!==typeof c[x+1]?w>=k&&w<S-(S-k)/2?s=x:w>=k&&w<S&&(s=x+1):w>=k&&(s=x)}if(o.initialized&&s!==h){if(!o.allowSlideNext&&b<o.translate&&b<o.minTranslate())return!1;if(!o.allowSlidePrev&&b>o.translate&&b>o.maxTranslate()&&(h||0)!==s)return!1}if(y=s>h?"next":s<h?"prev":"reset",f&&-b===o.translate||!f&&b===o.translate)return o.updateActiveIndex(s),l.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==l.effect&&o.setTranslate(b),"reset"!==y&&(o.transitionStart(n,y),o.transitionEnd(n,y)),!1;if(l.cssMode){var T=o.isHorizontal(),E=f?b:-b;if(0===t){var C=o.virtual&&o.params.virtual.enabled;C&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),p[T?"scrollLeft":"scrollTop"]=E,C&&requestAnimationFrame((function(){o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1}))}else{var _;if(!o.support.smoothScroll)return eAe({swiper:o,targetPosition:E,side:T?"left":"top"}),!0;p.scrollTo((_={},(0,kt.Z)(_,T?"left":"top",E),(0,kt.Z)(_,"behavior","smooth"),_))}return!0}return o.setTransition(t),o.setTranslate(b),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,y),0===t?o.transitionEnd(n,y):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,y))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0);var a=this,i=e;return a.params.loop&&(i+=a.loopedSlides),a.slideTo(i,t,n,r)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,a=r.animating,i=r.enabled,o=r.params;if(!i)return r;var s=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));var l=r.activeIndex<o.slidesPerGroupSkip?1:s;if(o.loop){if(a&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+l,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,a=r.params,i=r.animating,o=r.snapGrid,s=r.slidesGrid,l=r.rtlTranslate;if(!r.enabled)return r;if(a.loop){if(i&&a.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var c,d=u(l?r.translate:-r.translate),h=o.map((function(e){return u(e)})),f=o[h.indexOf(d)-1];"undefined"===typeof f&&a.cssMode&&(o.forEach((function(e,t){d>=e&&(c=t)})),"undefined"!==typeof c&&(f=o[c>0?c-1:c]));var p=0;if("undefined"!==typeof f&&((p=s.indexOf(f))<0&&(p=r.activeIndex-1),"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(p=p-r.slidesPerViewDynamic("previous",!0)+1,p=Math.max(p,0))),a.rewind&&r.isBeginning){var m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,e,t,n)}return r.slideTo(p,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var a=this,i=a.activeIndex,o=Math.min(a.params.slidesPerGroupSkip,i),s=o+Math.floor((i-o)/a.params.slidesPerGroup),l=a.rtlTranslate?a.translate:-a.translate;if(l>=a.snapGrid[s]){var u=a.snapGrid[s];l-u>(a.snapGrid[s+1]-u)*r&&(i+=a.params.slidesPerGroup)}else{var c=a.snapGrid[s-1];l-c<=(a.snapGrid[s]-c)*r&&(i-=a.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,a.slidesGrid.length-1),a.slideTo(i,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,a="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,i=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(qMe(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?i<t.loopedSlides-a/2||i>t.slides.length-t.loopedSlides+a/2?(t.loopFix(),i=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),XMe((function(){t.slideTo(i)}))):t.slideTo(i):i>t.slides.length-a?(t.loopFix(),i=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),XMe((function(){t.slideTo(i)}))):t.slideTo(i)}else t.slideTo(i)}};var uAe={loopCreate:function(){var e=this,t=DMe(),n=e.params,r=e.$wrapperEl,a=r.children().length>0?qMe(r.children()[0].parentNode):r;a.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass)).remove();var i=a.children(".".concat(n.slideClass));if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-i.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var s=0;s<o;s+=1){var l=qMe(t.createElement("div")).addClass("".concat(n.slideClass," ").concat(n.slideBlankClass));a.append(l)}i=a.children(".".concat(n.slideClass))}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>i.length&&(e.loopedSlides=i.length);var u=[],c=[];i.each((function(t,n){var r=qMe(t);n<e.loopedSlides&&c.push(t),n<i.length&&n>=i.length-e.loopedSlides&&u.push(t),r.attr("data-swiper-slide-index",n)}));for(var d=0;d<c.length;d+=1)a.append(qMe(c[d].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var h=u.length-1;h>=0;h-=1)a.prepend(qMe(u[h].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,r=e.slides,a=e.loopedSlides,i=e.allowSlidePrev,o=e.allowSlideNext,s=e.snapGrid,l=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var u=-s[n]-e.getTranslate();if(n<a)t=r.length-3*a+n,t+=a,e.slideTo(t,0,!1,!0)&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u);else if(n>=r.length-a){t=-r.length+n+a,t+=a,e.slideTo(t,0,!1,!0)&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u)}e.allowSlidePrev=i,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides;t.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,",.").concat(n.slideClass,".").concat(n.slideBlankClass)).remove(),r.removeAttr("data-swiper-slide-index")}};var cAe={setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}};function dAe(e){var t=this,n=DMe(),r=LMe(),a=t.touchEventsData,i=t.params,o=t.touches;if(t.enabled&&(!t.animating||!i.preventInteractionOnTransition)){!t.animating&&i.cssMode&&i.loop&&t.loopFix();var s=e;s.originalEvent&&(s=s.originalEvent);var l=qMe(s.target);if(("wrapper"!==i.touchEventsTarget||l.closest(t.wrapperEl).length)&&(a.isTouchEvent="touchstart"===s.type,(a.isTouchEvent||!("which"in s)||3!==s.which)&&!(!a.isTouchEvent&&"button"in s&&s.button>0)&&(!a.isTouched||!a.isMoved))){!!i.noSwipingClass&&""!==i.noSwipingClass&&s.target&&s.target.shadowRoot&&e.path&&e.path[0]&&(l=qMe(e.path[0]));var u=i.noSwipingSelector?i.noSwipingSelector:".".concat(i.noSwipingClass),c=!(!s.target||!s.target.shadowRoot);if(i.noSwiping&&(c?function(e,t){return void 0===t&&(t=this),function t(n){return n&&n!==DMe()&&n!==LMe()?(n.assignedSlot&&(n=n.assignedSlot),n.closest(e)||t(n.getRootNode().host)):null}(t)}(u,s.target):l.closest(u)[0]))t.allowClick=!0;else if(!i.swipeHandler||l.closest(i.swipeHandler)[0]){o.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,o.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var d=o.currentX,h=o.currentY,f=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,p=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(f&&(d<=p||d>=r.innerWidth-p)){if("prevent"!==f)return;e.preventDefault()}if(Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=d,o.startY=h,a.touchStartTime=YMe(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(a.allowThresholdMove=!1),"touchstart"!==s.type){var m=!0;l.is(a.focusableElements)&&(m=!1,"SELECT"===l[0].nodeName&&(a.isTouched=!1)),n.activeElement&&qMe(n.activeElement).is(a.focusableElements)&&n.activeElement!==l[0]&&n.activeElement.blur();var v=m&&t.allowTouchMove&&i.touchStartPreventDefault;!i.touchStartForcePreventDefault&&!v||l[0].isContentEditable||s.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}}}}function hAe(e){var t=DMe(),n=this,r=n.touchEventsData,a=n.params,i=n.touches,o=n.rtlTranslate;if(n.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===s.type){var l="touchmove"===s.type&&s.targetTouches&&(s.targetTouches[0]||s.changedTouches[0]),u="touchmove"===s.type?l.pageX:s.pageX,c="touchmove"===s.type?l.pageY:s.pageY;if(s.preventedByNestedSwiper)return i.startX=u,void(i.startY=c);if(!n.allowTouchMove)return qMe(s.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(i,{startX:u,startY:c,currentX:u,currentY:c}),r.touchStartTime=YMe()));if(r.isTouchEvent&&a.touchReleaseOnEdges&&!a.loop)if(n.isVertical()){if(c<i.startY&&n.translate<=n.maxTranslate()||c>i.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&s.target===t.activeElement&&qMe(s.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){i.currentX=u,i.currentY=c;var d=i.currentX-i.startX,h=i.currentY-i.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(h,2))<n.params.threshold)){var f;if("undefined"===typeof r.isScrolling)n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:d*d+h*h>=25&&(f=180*Math.atan2(Math.abs(h),Math.abs(d))/Math.PI,r.isScrolling=n.isHorizontal()?f>a.touchAngle:90-f>a.touchAngle);if(r.isScrolling&&n.emit("touchMoveOpposite",s),"undefined"===typeof r.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!a.cssMode&&s.cancelable&&s.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&s.stopPropagation(),r.isMoved||(a.loop&&!a.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!a.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)),n.emit("sliderMove",s),r.isMoved=!0;var p=n.isHorizontal()?d:h;i.diff=p,p*=a.touchRatio,o&&(p=-p),n.swipeDirection=p>0?"prev":"next",r.currentTranslate=p+r.startTranslate;var m=!0,v=a.resistanceRatio;if(a.touchReleaseOnEdges&&(v=0),p>0&&r.currentTranslate>n.minTranslate()?(m=!1,a.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+p,v))):p<0&&r.currentTranslate<n.maxTranslate()&&(m=!1,a.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-p,v))),m&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),a.threshold>0){if(!(Math.abs(p)>a.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,void(i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}a.followFinger&&!a.cssMode&&((a.freeMode&&a.freeMode.enabled&&n.freeMode||a.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&a.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s)}}function fAe(e){var t=this,n=t.touchEventsData,r=t.params,a=t.touches,i=t.rtlTranslate,o=t.slidesGrid;if(t.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var l,u=YMe(),c=u-n.touchStartTime;if(t.allowClick){var d=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(d&&d[0]||s.target),t.emit("tap click",s),c<300&&u-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=YMe(),XMe((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===a.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,l=r.followFinger?i?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(t.params.freeMode&&r.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:l});else{for(var h=0,f=t.slidesSizesGrid[0],p=0;p<o.length;p+=p<r.slidesPerGroupSkip?1:r.slidesPerGroup){var m=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;"undefined"!==typeof o[p+m]?l>=o[p]&&l<o[p+m]&&(h=p,f=o[p+m]-o[p]):l>=o[p]&&(h=p,f=o[o.length-1]-o[o.length-2])}var v=null,g=null;r.rewind&&(t.isBeginning?g=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(v=0));var y=(l-o[h])/f,b=h<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(c>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?v:h+b):t.slideTo(h)),"prev"===t.swipeDirection&&(y>1-r.longSwipesRatio?t.slideTo(h+b):null!==g&&y<0&&Math.abs(y)>r.longSwipesRatio?t.slideTo(g):t.slideTo(h))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(h+b):t.slideTo(h):("next"===t.swipeDirection&&t.slideTo(null!==v?v:h+b),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:h))}}}}function pAe(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,a=e.allowSlidePrev,i=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=a,e.allowSlideNext=r,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}}function mAe(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function vAe(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var gAe=!1;function yAe(){}var bAe=function(e,t){var n=DMe(),r=e.params,a=e.touchEvents,i=e.el,o=e.wrapperEl,s=e.device,l=e.support,u=!!r.nested,c="on"===t?"addEventListener":"removeEventListener",d=t;if(l.touch){var h=!("touchstart"!==a.start||!l.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};i[c](a.start,e.onTouchStart,h),i[c](a.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:u}:u),i[c](a.end,e.onTouchEnd,h),a.cancel&&i[c](a.cancel,e.onTouchEnd,h)}else i[c](a.start,e.onTouchStart,!1),n[c](a.move,e.onTouchMove,u),n[c](a.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",e.onClick,!0),r.cssMode&&o[c]("scroll",e.onScroll),r.updateOnWindowResize?e[d](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",pAe,!0):e[d]("observerUpdate",pAe,!0)};var xAe={attachEvents:function(){var e=this,t=DMe(),n=e.params,r=e.support;e.onTouchStart=dAe.bind(e),e.onTouchMove=hAe.bind(e),e.onTouchEnd=fAe.bind(e),n.cssMode&&(e.onScroll=vAe.bind(e)),e.onClick=mAe.bind(e),r.touch&&!gAe&&(t.addEventListener("touchstart",yAe),gAe=!0),bAe(e,"on")},detachEvents:function(){bAe(this,"off")}},wAe=function(e,t){return e.grid&&t.grid&&t.grid.rows>1};var kAe={setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,a=void 0===r?0:r,i=e.params,o=e.$el,s=i.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var l=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(l&&e.currentBreakpoint!==l){var u=(l in s?s[l]:void 0)||e.originalParams,c=wAe(e,i),d=wAe(e,u),h=i.enabled;c&&!d?(o.removeClass("".concat(i.containerModifierClass,"grid ").concat(i.containerModifierClass,"grid-column")),e.emitContainerClasses()):!c&&d&&(o.addClass("".concat(i.containerModifierClass,"grid")),(u.grid.fill&&"column"===u.grid.fill||!u.grid.fill&&"column"===i.grid.fill)&&o.addClass("".concat(i.containerModifierClass,"grid-column")),e.emitContainerClasses());var f=u.direction&&u.direction!==i.direction,p=i.loop&&(u.slidesPerView!==i.slidesPerView||f);f&&n&&e.changeDirection(),$Me(e.params,u);var m=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),h&&!m?e.disable():!h&&m&&e.enable(),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",u),p&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-a+e.loopedSlides,0,!1)),e.emit("breakpoint",u)}}},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),e&&("container"!==t||n)){var r=!1,a=LMe(),i="window"===t?a.innerHeight:n.clientHeight,o=Object.keys(e).map((function(e){if("string"===typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:i*t,point:e}}return{value:e,point:e}}));o.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<o.length;s+=1){var l=o[s],u=l.point,c=l.value;"window"===t?a.matchMedia("(min-width: ".concat(c,"px)")).matches&&(r=u):c<=n.clientWidth&&(r=u)}return r||"max"}}};var SAe={addClasses:function(){var e=this,t=e.classNames,n=e.params,r=e.rtl,a=e.$el,i=e.device,o=e.support,s=function(e,t){var n=[];return e.forEach((function(e){"object"===typeof e?Object.keys(e).forEach((function(r){e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push.apply(t,(0,_.Z)(s)),a.addClass((0,_.Z)(t).join(" ")),e.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,n=e.classNames;t.removeClass(n.join(" ")),e.emitContainerClasses()}};var TAe={loadImage:function(e,t,n,r,a,i){var o,s=LMe();function l(){i&&i()}qMe(e).parent("picture")[0]||e.complete&&a?l():t?((o=new s.Image).onload=l,o.onerror=l,r&&(o.sizes=r),n&&(o.srcset=n),t&&(o.src=t)):l()},preloadImages:function(){var e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}};var EAe={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function CAe(e,t){return function(n){void 0===n&&(n={});var r=Object.keys(n)[0],a=n[r];"object"===typeof a&&null!==a?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in a?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),$Me(t,n)):$Me(t,n)):$Me(t,n)}}var _Ae={eventsEmitter:aAe,update:iAe,translate:oAe,transition:{setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),sAe({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;n.animating=!1,r.cssMode||(n.setTransition(0),sAe({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:lAe,loop:uAe,grabCursor:cAe,events:xAe,breakpoints:kAe,checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked,n=e.params,r=n.slidesOffsetBefore;if(r){var a=e.slides.length-1,i=e.slidesGrid[a]+e.slidesSizesGrid[a]+2*r;e.isLocked=e.size>i}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:SAe,images:TAe},MAe={},AAe=function(){function e(){var t,n;M(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];if(1===a.length&&a[0].constructor&&"Object"===Object.prototype.toString.call(a[0]).slice(8,-1)?n=a[0]:(t=a[0],n=a[1]),n||(n={}),n=$Me({},n),t&&!n.el&&(n.el=t),n.el&&qMe(n.el).length>1){var o=[];return qMe(n.el).each((function(t){var r=$Me({},n,{el:t});o.push(new e(r))})),o}var s,l=this;(l.__swiper__=!0,l.support=tAe(),l.device=nAe({userAgent:n.userAgent}),l.browser=rAe(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=(0,_.Z)(l.__modules__),n.modules&&Array.isArray(n.modules))&&(s=l.modules).push.apply(s,(0,_.Z)(n.modules));var u={};l.modules.forEach((function(e){e({swiper:l,extendParams:CAe(n,u),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})}));var c=$Me({},EAe,u);return l.params=$Me({},c,MAe,n),l.originalParams=$Me({},l.params),l.passedParams=$Me({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach((function(e){l.on(e,l.params.on[e])})),l.params&&l.params.onAny&&l.onAny(l.params.onAny),l.$=qMe,Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:qMe(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===l.params.direction},isVertical:function(){return"vertical"===l.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return l.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},l.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},l.support.touch||!l.params.simulateTouch?l.touchEventsTouch:l.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:YMe(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}return N(e,[{key:"enable",value:function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}},{key:"disable",value:function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}},{key:"setProgress",value:function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),a=(n.maxTranslate()-r)*e+r;n.translateTo(a,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}}},{key:"getSlideClasses",value:function(e){var t=this;return t.destroyed?"":e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}}},{key:"slidesPerViewDynamic",value:function(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);var n=this,r=n.params,a=n.slides,i=n.slidesGrid,o=n.slidesSizesGrid,s=n.size,l=n.activeIndex,u=1;if(r.centeredSlides){for(var c,d=a[l].swiperSlideSize,h=l+1;h<a.length;h+=1)a[h]&&!c&&(u+=1,(d+=a[h].swiperSlideSize)>s&&(c=!0));for(var f=l-1;f>=0;f-=1)a[f]&&!c&&(u+=1,(d+=a[f].swiperSlideSize)>s&&(c=!0))}else if("current"===e)for(var p=l+1;p<a.length;p+=1){(t?i[p]+o[p]-i[l]<s:i[p]-i[l]<s)&&(u+=1)}else for(var m=l-1;m>=0;m-=1){i[l]-i[m]<s&&(u+=1)}return u}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass("".concat(n.params.containerModifierClass).concat(r)).addClass("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}},{key:"mount",value:function(e){var t=this;if(t.mounted)return!0;var n=qMe(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var r=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},a=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=qMe(e.shadowRoot.querySelector(r()));return t.children=function(e){return n.children(e)},t}return n.children(r())}();if(0===a.length&&t.params.createElements){var i=DMe().createElement("div");a=qMe(i),i.className=t.params.wrapperClass,n.append(i),n.children(".".concat(t.params.slideClass)).each((function(e){a.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:a,wrapperEl:a[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===a.css("display")}),!0}},{key:"init",value:function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}},{key:"destroy",value:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n=this,r=n.params,a=n.$el,i=n.$wrapperEl,o=n.slides;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),a.removeAttr("style"),i.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((function(e){n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(d4){}try{delete t[e]}catch(d4){}}))}(n)),n.destroyed=!0),null}}],[{key:"extendDefaults",value:function(e){$Me(MAe,e)}},{key:"extendedDefaults",get:function(){return MAe}},{key:"defaults",get:function(){return EAe}},{key:"installModule",value:function(t){e.prototype.__modules__||(e.prototype.__modules__=[]);var n=e.prototype.__modules__;"function"===typeof t&&n.indexOf(t)<0&&n.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)}}]),e}();Object.keys(_Ae).forEach((function(e){Object.keys(_Ae[e]).forEach((function(t){AAe.prototype[t]=_Ae[e][t]}))})),AAe.use([function(e){var t=e.swiper,n=e.on,r=e.emit,a=LMe(),i=null,o=null,s=function(){t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},l=function(){t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(function(){t.params.resizeObserver&&"undefined"!==typeof a.ResizeObserver?t&&!t.destroyed&&t.initialized&&(i=new ResizeObserver((function(e){o=a.requestAnimationFrame((function(){var n=t.width,r=t.height,a=n,i=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,o=e.target;o&&o!==t.el||(a=r?r.width:(n[0]||n).inlineSize,i=r?r.height:(n[0]||n).blockSize)})),a===n&&i===r||s()}))})),i.observe(t.el)):(a.addEventListener("resize",s),a.addEventListener("orientationchange",l))})),n("destroy",(function(){o&&a.cancelAnimationFrame(o),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null),a.removeEventListener("resize",s),a.removeEventListener("orientationchange",l)}))},function(e){var t=e.swiper,n=e.extendParams,r=e.on,a=e.emit,i=[],o=LMe(),s=function(e,t){void 0===t&&(t={});var n=new(o.MutationObserver||o.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){a("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}else a("observerUpdate",e[0])}));n.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),i.push(n)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),n=0;n<e.length;n+=1)s(e[n]);s(t.$el[0],{childList:t.params.observeSlideChildren}),s(t.$wrapperEl[0],{attributes:!1})}})),r("destroy",(function(){i.forEach((function(e){e.disconnect()})),i.splice(0,i.length)}))}]);var IAe=AAe;function NAe(e){var t=e.swiper,n=e.extendParams,r=e.on,a=e.emit,i=DMe(),o=LMe();function s(e){if(t.enabled){var n=t.rtlTranslate,r=e;r.originalEvent&&(r=r.originalEvent);var s=r.keyCode||r.charCode,l=t.params.keyboard.pageUpDown,u=l&&33===s,c=l&&34===s,d=37===s,h=39===s,f=38===s,p=40===s;if(!t.allowSlideNext&&(t.isHorizontal()&&h||t.isVertical()&&p||c))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&d||t.isVertical()&&f||u))return!1;if(!(r.shiftKey||r.altKey||r.ctrlKey||r.metaKey)&&(!i.activeElement||!i.activeElement.nodeName||"input"!==i.activeElement.nodeName.toLowerCase()&&"textarea"!==i.activeElement.nodeName.toLowerCase())){if(t.params.keyboard.onlyInViewport&&(u||c||d||h||f||p)){var m=!1;if(t.$el.parents(".".concat(t.params.slideClass)).length>0&&0===t.$el.parents(".".concat(t.params.slideActiveClass)).length)return;var v=t.$el,g=v[0].clientWidth,y=v[0].clientHeight,b=o.innerWidth,x=o.innerHeight,w=t.$el.offset();n&&(w.left-=t.$el[0].scrollLeft);for(var k=[[w.left,w.top],[w.left+g,w.top],[w.left,w.top+y],[w.left+g,w.top+y]],S=0;S<k.length;S+=1){var T=k[S];if(T[0]>=0&&T[0]<=b&&T[1]>=0&&T[1]<=x){if(0===T[0]&&0===T[1])continue;m=!0}}if(!m)return}t.isHorizontal()?((u||c||d||h)&&(r.preventDefault?r.preventDefault():r.returnValue=!1),((c||h)&&!n||(u||d)&&n)&&t.slideNext(),((u||d)&&!n||(c||h)&&n)&&t.slidePrev()):((u||c||f||p)&&(r.preventDefault?r.preventDefault():r.returnValue=!1),(c||p)&&t.slideNext(),(u||f)&&t.slidePrev()),a("keyPress",s)}}}function l(){t.keyboard.enabled||(qMe(i).on("keydown",s),t.keyboard.enabled=!0)}function u(){t.keyboard.enabled&&(qMe(i).off("keydown",s),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},n({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),r("init",(function(){t.params.keyboard.enabled&&l()})),r("destroy",(function(){t.keyboard.enabled&&u()})),Object.assign(t.keyboard,{enable:l,disable:u})}function RAe(e,t,n,r){var a=DMe();return e.params.createElements&&Object.keys(r).forEach((function(i){if(!n[i]&&!0===n.auto){var o=e.$el.children(".".concat(r[i]))[0];o||((o=a.createElement("div")).className=r[i],e.$el.append(o)),n[i]=o,t[i]=o}})),n}function OAe(e){var t=e.swiper,n=e.extendParams,r=e.on,a=e.emit;function i(e){var n;return e&&(n=qMe(e),t.params.uniqueNavElements&&"string"===typeof e&&n.length>1&&1===t.$el.find(e).length&&(n=t.$el.find(e))),n}function o(e,n){var r=t.params.navigation;e&&e.length>0&&(e[n?"addClass":"removeClass"](r.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=n),t.params.watchOverflow&&t.enabled&&e[t.isLocked?"addClass":"removeClass"](r.lockClass))}function s(){if(!t.params.loop){var e=t.navigation,n=e.$nextEl;o(e.$prevEl,t.isBeginning&&!t.params.rewind),o(n,t.isEnd&&!t.params.rewind)}}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&t.slidePrev()}function u(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&t.slideNext()}function c(){var e=t.params.navigation;if(t.params.navigation=RAe(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),e.nextEl||e.prevEl){var n=i(e.nextEl),r=i(e.prevEl);n&&n.length>0&&n.on("click",u),r&&r.length>0&&r.on("click",l),Object.assign(t.navigation,{$nextEl:n,nextEl:n&&n[0],$prevEl:r,prevEl:r&&r[0]}),t.enabled||(n&&n.addClass(e.lockClass),r&&r.addClass(e.lockClass))}}function d(){var e=t.navigation,n=e.$nextEl,r=e.$prevEl;n&&n.length&&(n.off("click",u),n.removeClass(t.params.navigation.disabledClass)),r&&r.length&&(r.off("click",l),r.removeClass(t.params.navigation.disabledClass))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},r("init",(function(){c(),s()})),r("toEdge fromEdge lock unlock",(function(){s()})),r("destroy",(function(){d()})),r("enable disable",(function(){var e=t.navigation,n=e.$nextEl,r=e.$prevEl;n&&n[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),r&&r[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)})),r("click",(function(e,n){var r=t.navigation,i=r.$nextEl,o=r.$prevEl,s=n.target;if(t.params.navigation.hideOnClick&&!qMe(s).is(o)&&!qMe(s).is(i)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===s||t.pagination.el.contains(s)))return;var l;i?l=i.hasClass(t.params.navigation.hiddenClass):o&&(l=o.hasClass(t.params.navigation.hiddenClass)),a(!0===l?"navigationShow":"navigationHide"),i&&i.toggleClass(t.params.navigation.hiddenClass),o&&o.toggleClass(t.params.navigation.hiddenClass)}})),Object.assign(t.navigation,{update:s,init:c,destroy:d})}function DAe(e){return void 0===e&&(e=""),".".concat(e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."))}function PAe(e){var t,n=e.swiper,r=e.extendParams,a=e.on,i=e.emit,o="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"".concat(o,"-bullet"),bulletActiveClass:"".concat(o,"-bullet-active"),modifierClass:"".concat(o,"-"),currentClass:"".concat(o,"-current"),totalClass:"".concat(o,"-total"),hiddenClass:"".concat(o,"-hidden"),progressbarFillClass:"".concat(o,"-progressbar-fill"),progressbarOppositeClass:"".concat(o,"-progressbar-opposite"),clickableClass:"".concat(o,"-clickable"),lockClass:"".concat(o,"-lock"),horizontalClass:"".concat(o,"-horizontal"),verticalClass:"".concat(o,"-vertical")}}),n.pagination={el:null,$el:null,bullets:[]};var s=0;function l(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function u(e,t){var r=n.params.pagination.bulletActiveClass;e[t]().addClass("".concat(r,"-").concat(t))[t]().addClass("".concat(r,"-").concat(t,"-").concat(t))}function c(){var e=n.rtl,r=n.params.pagination;if(!l()){var a,o=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,c=n.pagination.$el,d=n.params.loop?Math.ceil((o-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?((a=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup))>o-1-2*n.loopedSlides&&(a-=o-2*n.loopedSlides),a>d-1&&(a-=d),a<0&&"bullets"!==n.params.paginationType&&(a=d+a)):a="undefined"!==typeof n.snapIndex?n.snapIndex:n.activeIndex||0,"bullets"===r.type&&n.pagination.bullets&&n.pagination.bullets.length>0){var h,f,p,m=n.pagination.bullets;if(r.dynamicBullets&&(t=m.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),c.css(n.isHorizontal()?"width":"height","".concat(t*(r.dynamicMainBullets+4),"px")),r.dynamicMainBullets>1&&void 0!==n.previousIndex&&((s+=a-(n.previousIndex-n.loopedSlides||0))>r.dynamicMainBullets-1?s=r.dynamicMainBullets-1:s<0&&(s=0)),h=Math.max(a-s,0),p=((f=h+(Math.min(m.length,r.dynamicMainBullets)-1))+h)/2),m.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((function(e){return"".concat(r.bulletActiveClass).concat(e)})).join(" ")),c.length>1)m.each((function(e){var t=qMe(e),n=t.index();n===a&&t.addClass(r.bulletActiveClass),r.dynamicBullets&&(n>=h&&n<=f&&t.addClass("".concat(r.bulletActiveClass,"-main")),n===h&&u(t,"prev"),n===f&&u(t,"next"))}));else{var v=m.eq(a),g=v.index();if(v.addClass(r.bulletActiveClass),r.dynamicBullets){for(var y=m.eq(h),b=m.eq(f),x=h;x<=f;x+=1)m.eq(x).addClass("".concat(r.bulletActiveClass,"-main"));if(n.params.loop)if(g>=m.length){for(var w=r.dynamicMainBullets;w>=0;w-=1)m.eq(m.length-w).addClass("".concat(r.bulletActiveClass,"-main"));m.eq(m.length-r.dynamicMainBullets-1).addClass("".concat(r.bulletActiveClass,"-prev"))}else u(y,"prev"),u(b,"next");else u(y,"prev"),u(b,"next")}}if(r.dynamicBullets){var k=Math.min(m.length,r.dynamicMainBullets+4),S=(t*k-t)/2-p*t,T=e?"right":"left";m.css(n.isHorizontal()?T:"top","".concat(S,"px"))}}if("fraction"===r.type&&(c.find(DAe(r.currentClass)).text(r.formatFractionCurrent(a+1)),c.find(DAe(r.totalClass)).text(r.formatFractionTotal(d))),"progressbar"===r.type){var E;E=r.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";var C=(a+1)/d,_=1,M=1;"horizontal"===E?_=C:M=C,c.find(DAe(r.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(_,") scaleY(").concat(M,")")).transition(n.params.speed)}"custom"===r.type&&r.renderCustom?(c.html(r.renderCustom(n,a+1,d)),i("paginationRender",c[0])):i("paginationUpdate",c[0]),n.params.watchOverflow&&n.enabled&&c[n.isLocked?"addClass":"removeClass"](r.lockClass)}}function d(){var e=n.params.pagination;if(!l()){var t=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,r=n.pagination.$el,a="";if("bullets"===e.type){var o=n.params.loop?Math.ceil((t-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&o>t&&(o=t);for(var s=0;s<o;s+=1)e.renderBullet?a+=e.renderBullet.call(n,s,e.bulletClass):a+="<".concat(e.bulletElement,' class="').concat(e.bulletClass,'"></').concat(e.bulletElement,">");r.html(a),n.pagination.bullets=r.find(DAe(e.bulletClass))}"fraction"===e.type&&(a=e.renderFraction?e.renderFraction.call(n,e.currentClass,e.totalClass):'<span class="'.concat(e.currentClass,'"></span>')+" / "+'<span class="'.concat(e.totalClass,'"></span>'),r.html(a)),"progressbar"===e.type&&(a=e.renderProgressbar?e.renderProgressbar.call(n,e.progressbarFillClass):'<span class="'.concat(e.progressbarFillClass,'"></span>'),r.html(a)),"custom"!==e.type&&i("paginationRender",n.pagination.$el[0])}}function h(){n.params.pagination=RAe(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});var e=n.params.pagination;if(e.el){var t=qMe(e.el);0!==t.length&&(n.params.uniqueNavElements&&"string"===typeof e.el&&t.length>1&&(t=n.$el.find(e.el)).length>1&&(t=t.filter((function(e){return qMe(e).parents(".swiper")[0]===n.el}))),"bullets"===e.type&&e.clickable&&t.addClass(e.clickableClass),t.addClass(e.modifierClass+e.type),t.addClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(t.addClass("".concat(e.modifierClass).concat(e.type,"-dynamic")),s=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&t.addClass(e.progressbarOppositeClass),e.clickable&&t.on("click",DAe(e.bulletClass),(function(e){e.preventDefault();var t=qMe(this).index()*n.params.slidesPerGroup;n.params.loop&&(t+=n.loopedSlides),n.slideTo(t)})),Object.assign(n.pagination,{$el:t,el:t[0]}),n.enabled||t.addClass(e.lockClass))}}function f(){var e=n.params.pagination;if(!l()){var t=n.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),t.removeClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",DAe(e.bulletClass))}}a("init",(function(){h(),d(),c()})),a("activeIndexChange",(function(){(n.params.loop||"undefined"===typeof n.snapIndex)&&c()})),a("snapIndexChange",(function(){n.params.loop||c()})),a("slidesLengthChange",(function(){n.params.loop&&(d(),c())})),a("snapGridLengthChange",(function(){n.params.loop||(d(),c())})),a("destroy",(function(){f()})),a("enable disable",(function(){var e=n.pagination.$el;e&&e[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)})),a("lock unlock",(function(){c()})),a("click",(function(e,t){var r=t.target,a=n.pagination.$el;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&a.length>0&&!qMe(r).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&r===n.navigation.nextEl||n.navigation.prevEl&&r===n.navigation.prevEl))return;var o=a.hasClass(n.params.pagination.hiddenClass);i(!0===o?"paginationShow":"paginationHide"),a.toggleClass(n.params.pagination.hiddenClass)}})),Object.assign(n.pagination,{render:d,update:c,init:h,destroy:f})}function LAe(e){var t,n,r,a,i=e.swiper,o=e.extendParams,s=e.on,l=e.emit,u=DMe(),c=!1,d=null,h=null;function f(){if(i.params.scrollbar.el&&i.scrollbar.el){var e=i.scrollbar,t=i.rtlTranslate,a=i.progress,o=e.$dragEl,s=e.$el,l=i.params.scrollbar,u=n,c=(r-n)*a;t?(c=-c)>0?(u=n-c,c=0):-c+n>r&&(u=r+c):c<0?(u=n+c,c=0):c+n>r&&(u=r-c),i.isHorizontal()?(o.transform("translate3d(".concat(c,"px, 0, 0)")),o[0].style.width="".concat(u,"px")):(o.transform("translate3d(0px, ".concat(c,"px, 0)")),o[0].style.height="".concat(u,"px")),l.hide&&(clearTimeout(d),s[0].style.opacity=1,d=setTimeout((function(){s[0].style.opacity=0,s.transition(400)}),1e3))}}function p(){if(i.params.scrollbar.el&&i.scrollbar.el){var e=i.scrollbar,t=e.$dragEl,o=e.$el;t[0].style.width="",t[0].style.height="",r=i.isHorizontal()?o[0].offsetWidth:o[0].offsetHeight,a=i.size/(i.virtualSize+i.params.slidesOffsetBefore-(i.params.centeredSlides?i.snapGrid[0]:0)),n="auto"===i.params.scrollbar.dragSize?r*a:parseInt(i.params.scrollbar.dragSize,10),i.isHorizontal()?t[0].style.width="".concat(n,"px"):t[0].style.height="".concat(n,"px"),o[0].style.display=a>=1?"none":"",i.params.scrollbar.hide&&(o[0].style.opacity=0),i.params.watchOverflow&&i.enabled&&e.$el[i.isLocked?"addClass":"removeClass"](i.params.scrollbar.lockClass)}}function m(e){return i.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY}function v(e){var a,o=i.scrollbar,s=i.rtlTranslate,l=o.$el;a=(m(e)-l.offset()[i.isHorizontal()?"left":"top"]-(null!==t?t:n/2))/(r-n),a=Math.max(Math.min(a,1),0),s&&(a=1-a);var u=i.minTranslate()+(i.maxTranslate()-i.minTranslate())*a;i.updateProgress(u),i.setTranslate(u),i.updateActiveIndex(),i.updateSlidesClasses()}function g(e){var n=i.params.scrollbar,r=i.scrollbar,a=i.$wrapperEl,o=r.$el,s=r.$dragEl;c=!0,t=e.target===s[0]||e.target===s?m(e)-e.target.getBoundingClientRect()[i.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),a.transition(100),s.transition(100),v(e),clearTimeout(h),o.transition(0),n.hide&&o.css("opacity",1),i.params.cssMode&&i.$wrapperEl.css("scroll-snap-type","none"),l("scrollbarDragStart",e)}function y(e){var t=i.scrollbar,n=i.$wrapperEl,r=t.$el,a=t.$dragEl;c&&(e.preventDefault?e.preventDefault():e.returnValue=!1,v(e),n.transition(0),r.transition(0),a.transition(0),l("scrollbarDragMove",e))}function b(e){var t=i.params.scrollbar,n=i.scrollbar,r=i.$wrapperEl,a=n.$el;c&&(c=!1,i.params.cssMode&&(i.$wrapperEl.css("scroll-snap-type",""),r.transition("")),t.hide&&(clearTimeout(h),h=XMe((function(){a.css("opacity",0),a.transition(400)}),1e3)),l("scrollbarDragEnd",e),t.snapOnRelease&&i.slideToClosest())}function x(e){var t=i.scrollbar,n=i.touchEventsTouch,r=i.touchEventsDesktop,a=i.params,o=i.support,s=t.$el[0],l=!(!o.passiveListener||!a.passiveListeners)&&{passive:!1,capture:!1},c=!(!o.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};if(s){var d="on"===e?"addEventListener":"removeEventListener";o.touch?(s[d](n.start,g,l),s[d](n.move,y,l),s[d](n.end,b,c)):(s[d](r.start,g,l),u[d](r.move,y,l),u[d](r.end,b,c))}}function w(){var e=i.scrollbar,t=i.$el;i.params.scrollbar=RAe(i,i.originalParams.scrollbar,i.params.scrollbar,{el:"swiper-scrollbar"});var n=i.params.scrollbar;if(n.el){var r=qMe(n.el);i.params.uniqueNavElements&&"string"===typeof n.el&&r.length>1&&1===t.find(n.el).length&&(r=t.find(n.el));var a=r.find(".".concat(i.params.scrollbar.dragClass));0===a.length&&(a=qMe('<div class="'.concat(i.params.scrollbar.dragClass,'"></div>')),r.append(a)),Object.assign(e,{$el:r,el:r[0],$dragEl:a,dragEl:a[0]}),n.draggable&&i.params.scrollbar.el&&x("on"),r&&r[i.enabled?"removeClass":"addClass"](i.params.scrollbar.lockClass)}}function k(){i.params.scrollbar.el&&x("off")}o({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}}),i.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},s("init",(function(){w(),p(),f()})),s("update resize observerUpdate lock unlock",(function(){p()})),s("setTranslate",(function(){f()})),s("setTransition",(function(e,t){!function(e){i.params.scrollbar.el&&i.scrollbar.el&&i.scrollbar.$dragEl.transition(e)}(t)})),s("enable disable",(function(){var e=i.scrollbar.$el;e&&e[i.enabled?"removeClass":"addClass"](i.params.scrollbar.lockClass)})),s("destroy",(function(){k()})),Object.assign(i.scrollbar,{updateSize:p,setTranslate:f,init:w,destroy:k})}function FAe(e){var t=e.swiper,n=e.extendParams,r=e.on,a=e.emit,i=LMe();n({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};var o,s,l,u=1,c=!1,d={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},h={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},f={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},p=1;function m(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY,r=e.targetTouches[1].pageX,a=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-t,2)+Math.pow(a-n,2))}function v(e){var n=t.support,r=t.params.zoom;if(s=!1,l=!1,!n.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;s=!0,d.scaleStart=m(e)}d.$slideEl&&d.$slideEl.length||(d.$slideEl=qMe(e.target).closest(".".concat(t.params.slideClass)),0===d.$slideEl.length&&(d.$slideEl=t.slides.eq(t.activeIndex)),d.$imageEl=d.$slideEl.find(".".concat(r.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),d.$imageWrapEl=d.$imageEl.parent(".".concat(r.containerClass)),d.maxRatio=d.$imageWrapEl.attr("data-swiper-zoom")||r.maxRatio,0!==d.$imageWrapEl.length)?(d.$imageEl&&d.$imageEl.transition(0),c=!0):d.$imageEl=void 0}function g(e){var n=t.support,r=t.params.zoom,a=t.zoom;if(!n.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;l=!0,d.scaleMove=m(e)}d.$imageEl&&0!==d.$imageEl.length?(n.gestures?a.scale=e.scale*u:a.scale=d.scaleMove/d.scaleStart*u,a.scale>d.maxRatio&&(a.scale=d.maxRatio-1+Math.pow(a.scale-d.maxRatio+1,.5)),a.scale<r.minRatio&&(a.scale=r.minRatio+1-Math.pow(r.minRatio-a.scale+1,.5)),d.$imageEl.transform("translate3d(0,0,0) scale(".concat(a.scale,")"))):"gesturechange"===e.type&&v(e)}function y(e){var n=t.device,r=t.support,a=t.params.zoom,i=t.zoom;if(!r.gestures){if(!s||!l)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!n.android)return;s=!1,l=!1}d.$imageEl&&0!==d.$imageEl.length&&(i.scale=Math.max(Math.min(i.scale,d.maxRatio),a.minRatio),d.$imageEl.transition(t.params.speed).transform("translate3d(0,0,0) scale(".concat(i.scale,")")),u=i.scale,c=!1,1===i.scale&&(d.$slideEl=void 0))}function b(e){var n=t.zoom;if(d.$imageEl&&0!==d.$imageEl.length&&(t.allowClick=!1,h.isTouched&&d.$slideEl)){h.isMoved||(h.width=d.$imageEl[0].offsetWidth,h.height=d.$imageEl[0].offsetHeight,h.startX=KMe(d.$imageWrapEl[0],"x")||0,h.startY=KMe(d.$imageWrapEl[0],"y")||0,d.slideWidth=d.$slideEl[0].offsetWidth,d.slideHeight=d.$slideEl[0].offsetHeight,d.$imageWrapEl.transition(0));var r=h.width*n.scale,a=h.height*n.scale;if(!(r<d.slideWidth&&a<d.slideHeight)){if(h.minX=Math.min(d.slideWidth/2-r/2,0),h.maxX=-h.minX,h.minY=Math.min(d.slideHeight/2-a/2,0),h.maxY=-h.minY,h.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,h.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!h.isMoved&&!c){if(t.isHorizontal()&&(Math.floor(h.minX)===Math.floor(h.startX)&&h.touchesCurrent.x<h.touchesStart.x||Math.floor(h.maxX)===Math.floor(h.startX)&&h.touchesCurrent.x>h.touchesStart.x))return void(h.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(h.minY)===Math.floor(h.startY)&&h.touchesCurrent.y<h.touchesStart.y||Math.floor(h.maxY)===Math.floor(h.startY)&&h.touchesCurrent.y>h.touchesStart.y))return void(h.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),h.isMoved=!0,h.currentX=h.touchesCurrent.x-h.touchesStart.x+h.startX,h.currentY=h.touchesCurrent.y-h.touchesStart.y+h.startY,h.currentX<h.minX&&(h.currentX=h.minX+1-Math.pow(h.minX-h.currentX+1,.8)),h.currentX>h.maxX&&(h.currentX=h.maxX-1+Math.pow(h.currentX-h.maxX+1,.8)),h.currentY<h.minY&&(h.currentY=h.minY+1-Math.pow(h.minY-h.currentY+1,.8)),h.currentY>h.maxY&&(h.currentY=h.maxY-1+Math.pow(h.currentY-h.maxY+1,.8)),f.prevPositionX||(f.prevPositionX=h.touchesCurrent.x),f.prevPositionY||(f.prevPositionY=h.touchesCurrent.y),f.prevTime||(f.prevTime=Date.now()),f.x=(h.touchesCurrent.x-f.prevPositionX)/(Date.now()-f.prevTime)/2,f.y=(h.touchesCurrent.y-f.prevPositionY)/(Date.now()-f.prevTime)/2,Math.abs(h.touchesCurrent.x-f.prevPositionX)<2&&(f.x=0),Math.abs(h.touchesCurrent.y-f.prevPositionY)<2&&(f.y=0),f.prevPositionX=h.touchesCurrent.x,f.prevPositionY=h.touchesCurrent.y,f.prevTime=Date.now(),d.$imageWrapEl.transform("translate3d(".concat(h.currentX,"px, ").concat(h.currentY,"px,0)"))}}}function x(){var e=t.zoom;d.$slideEl&&t.previousIndex!==t.activeIndex&&(d.$imageEl&&d.$imageEl.transform("translate3d(0,0,0) scale(1)"),d.$imageWrapEl&&d.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,u=1,d.$slideEl=void 0,d.$imageEl=void 0,d.$imageWrapEl=void 0)}function w(e){var n,r,a,o,s,l,c,f,p,m,v,g,y,b,x,w,k=t.zoom,S=t.params.zoom;(d.$slideEl||(e&&e.target&&(d.$slideEl=qMe(e.target).closest(".".concat(t.params.slideClass))),d.$slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?d.$slideEl=t.$wrapperEl.children(".".concat(t.params.slideActiveClass)):d.$slideEl=t.slides.eq(t.activeIndex)),d.$imageEl=d.$slideEl.find(".".concat(S.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),d.$imageWrapEl=d.$imageEl.parent(".".concat(S.containerClass))),d.$imageEl&&0!==d.$imageEl.length&&d.$imageWrapEl&&0!==d.$imageWrapEl.length)&&(t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),d.$slideEl.addClass("".concat(S.zoomedSlideClass)),"undefined"===typeof h.touchesStart.x&&e?(n="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,r="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(n=h.touchesStart.x,r=h.touchesStart.y),k.scale=d.$imageWrapEl.attr("data-swiper-zoom")||S.maxRatio,u=d.$imageWrapEl.attr("data-swiper-zoom")||S.maxRatio,e?(x=d.$slideEl[0].offsetWidth,w=d.$slideEl[0].offsetHeight,a=d.$slideEl.offset().left+i.scrollX+x/2-n,o=d.$slideEl.offset().top+i.scrollY+w/2-r,c=d.$imageEl[0].offsetWidth,f=d.$imageEl[0].offsetHeight,p=c*k.scale,m=f*k.scale,y=-(v=Math.min(x/2-p/2,0)),b=-(g=Math.min(w/2-m/2,0)),(s=a*k.scale)<v&&(s=v),s>y&&(s=y),(l=o*k.scale)<g&&(l=g),l>b&&(l=b)):(s=0,l=0),d.$imageWrapEl.transition(300).transform("translate3d(".concat(s,"px, ").concat(l,"px,0)")),d.$imageEl.transition(300).transform("translate3d(0,0,0) scale(".concat(k.scale,")")))}function k(){var e=t.zoom,n=t.params.zoom;d.$slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?d.$slideEl=t.$wrapperEl.children(".".concat(t.params.slideActiveClass)):d.$slideEl=t.slides.eq(t.activeIndex),d.$imageEl=d.$slideEl.find(".".concat(n.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),d.$imageWrapEl=d.$imageEl.parent(".".concat(n.containerClass))),d.$imageEl&&0!==d.$imageEl.length&&d.$imageWrapEl&&0!==d.$imageWrapEl.length&&(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),e.scale=1,u=1,d.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),d.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),d.$slideEl.removeClass("".concat(n.zoomedSlideClass)),d.$slideEl=void 0)}function S(e){var n=t.zoom;n.scale&&1!==n.scale?k():w(e)}function T(){var e=t.support;return{passiveListener:!("touchstart"!==t.touchEvents.start||!e.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1},activeListenerWithCapture:!e.passiveListener||{passive:!1,capture:!0}}}function E(){return".".concat(t.params.slideClass)}function C(e){var n=T().passiveListener,r=E();t.$wrapperEl[e]("gesturestart",r,v,n),t.$wrapperEl[e]("gesturechange",r,g,n),t.$wrapperEl[e]("gestureend",r,y,n)}function _(){o||(o=!0,C("on"))}function M(){o&&(o=!1,C("off"))}function A(){var e=t.zoom;if(!e.enabled){e.enabled=!0;var n=t.support,r=T(),a=r.passiveListener,i=r.activeListenerWithCapture,o=E();n.gestures?(t.$wrapperEl.on(t.touchEvents.start,_,a),t.$wrapperEl.on(t.touchEvents.end,M,a)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.on(t.touchEvents.start,o,v,a),t.$wrapperEl.on(t.touchEvents.move,o,g,i),t.$wrapperEl.on(t.touchEvents.end,o,y,a),t.touchEvents.cancel&&t.$wrapperEl.on(t.touchEvents.cancel,o,y,a)),t.$wrapperEl.on(t.touchEvents.move,".".concat(t.params.zoom.containerClass),b,i)}}function I(){var e=t.zoom;if(e.enabled){var n=t.support;e.enabled=!1;var r=T(),a=r.passiveListener,i=r.activeListenerWithCapture,o=E();n.gestures?(t.$wrapperEl.off(t.touchEvents.start,_,a),t.$wrapperEl.off(t.touchEvents.end,M,a)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.off(t.touchEvents.start,o,v,a),t.$wrapperEl.off(t.touchEvents.move,o,g,i),t.$wrapperEl.off(t.touchEvents.end,o,y,a),t.touchEvents.cancel&&t.$wrapperEl.off(t.touchEvents.cancel,o,y,a)),t.$wrapperEl.off(t.touchEvents.move,".".concat(t.params.zoom.containerClass),b,i)}}Object.defineProperty(t.zoom,"scale",{get:function(){return p},set:function(e){if(p!==e){var t=d.$imageEl?d.$imageEl[0]:void 0,n=d.$slideEl?d.$slideEl[0]:void 0;a("zoomChange",e,t,n)}p=e}}),r("init",(function(){t.params.zoom.enabled&&A()})),r("destroy",(function(){I()})),r("touchStart",(function(e,n){t.zoom.enabled&&function(e){var n=t.device;d.$imageEl&&0!==d.$imageEl.length&&(h.isTouched||(n.android&&e.cancelable&&e.preventDefault(),h.isTouched=!0,h.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,h.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))}(n)})),r("touchEnd",(function(e,n){t.zoom.enabled&&function(){var e=t.zoom;if(d.$imageEl&&0!==d.$imageEl.length){if(!h.isTouched||!h.isMoved)return h.isTouched=!1,void(h.isMoved=!1);h.isTouched=!1,h.isMoved=!1;var n=300,r=300,a=f.x*n,i=h.currentX+a,o=f.y*r,s=h.currentY+o;0!==f.x&&(n=Math.abs((i-h.currentX)/f.x)),0!==f.y&&(r=Math.abs((s-h.currentY)/f.y));var l=Math.max(n,r);h.currentX=i,h.currentY=s;var u=h.width*e.scale,c=h.height*e.scale;h.minX=Math.min(d.slideWidth/2-u/2,0),h.maxX=-h.minX,h.minY=Math.min(d.slideHeight/2-c/2,0),h.maxY=-h.minY,h.currentX=Math.max(Math.min(h.currentX,h.maxX),h.minX),h.currentY=Math.max(Math.min(h.currentY,h.maxY),h.minY),d.$imageWrapEl.transition(l).transform("translate3d(".concat(h.currentX,"px, ").concat(h.currentY,"px,0)"))}}()})),r("doubleTap",(function(e,n){!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&S(n)})),r("transitionEnd",(function(){t.zoom.enabled&&t.params.zoom.enabled&&x()})),r("slideChange",(function(){t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&x()})),Object.assign(t.zoom,{enable:A,disable:I,in:w,out:k,toggle:S})}function jAe(e){var t=e.swiper,n=e.extendParams,r=e.on;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}});var a=null;function i(e){var t=a;0!==t.length&&(t.html(""),t.html(e))}function o(e){e.attr("tabIndex","0")}function s(e){e.attr("tabIndex","-1")}function l(e,t){e.attr("role",t)}function u(e,t){e.attr("aria-roledescription",t)}function c(e,t){e.attr("aria-label",t)}function d(e){e.attr("aria-disabled",!0)}function h(e){e.attr("aria-disabled",!1)}function f(e){if(13===e.keyCode||32===e.keyCode){var n=t.params.a11y,r=qMe(e.target);t.navigation&&t.navigation.$nextEl&&r.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?i(n.lastSlideMessage):i(n.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&r.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?i(n.firstSlideMessage):i(n.prevSlideMessage)),t.pagination&&r.is(DAe(t.params.pagination.bulletClass))&&r[0].click()}}function p(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function m(){return p()&&t.params.pagination.clickable}var v=function(e,t,n){o(e),"BUTTON"!==e[0].tagName&&(l(e,"button"),e.on("keydown",f)),c(e,n),function(e,t){e.attr("aria-controls",t)}(e,t)},g=function(e){var n=e.target.closest(".".concat(t.params.slideClass));if(n&&t.slides.includes(n)){var r=t.slides.indexOf(n)===t.activeIndex,a=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(n);r||a||t.slideTo(t.slides.indexOf(n),0)}};function y(){var e=t.params.a11y;t.$el.append(a);var n=t.$el;e.containerRoleDescriptionMessage&&u(n,e.containerRoleDescriptionMessage),e.containerMessage&&c(n,e.containerMessage);var r,i=t.$wrapperEl,o=e.id||i.attr("id")||"swiper-wrapper-".concat((void 0===(r=16)&&(r=16),"x".repeat(r).replace(/x/g,(function(){return Math.round(16*Math.random()).toString(16)})))),s=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";!function(e,t){e.attr("id",t)}(i,o),function(e,t){e.attr("aria-live",t)}(i,s),e.itemRoleDescriptionMessage&&u(qMe(t.slides),e.itemRoleDescriptionMessage),l(qMe(t.slides),e.slideRole);var d,h,p=t.params.loop?t.slides.filter((function(e){return!e.classList.contains(t.params.slideDuplicateClass)})).length:t.slides.length;t.slides.each((function(n,r){var a=qMe(n),i=t.params.loop?parseInt(a.attr("data-swiper-slide-index"),10):r;c(a,e.slideLabelMessage.replace(/\{\{index\}\}/,i+1).replace(/\{\{slidesLength\}\}/,p))})),t.navigation&&t.navigation.$nextEl&&(d=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(h=t.navigation.$prevEl),d&&d.length&&v(d,o,e.nextSlideMessage),h&&h.length&&v(h,o,e.prevSlideMessage),m()&&t.pagination.$el.on("keydown",DAe(t.params.pagination.bulletClass),f),t.$el.on("focus",g,!0)}r("beforeInit",(function(){a=qMe('<span class="'.concat(t.params.a11y.notificationClass,'" aria-live="assertive" aria-atomic="true"></span>'))})),r("afterInit",(function(){t.params.a11y.enabled&&y()})),r("fromEdge toEdge afterInit lock unlock",(function(){t.params.a11y.enabled&&function(){if(!t.params.loop&&!t.params.rewind&&t.navigation){var e=t.navigation,n=e.$nextEl,r=e.$prevEl;r&&r.length>0&&(t.isBeginning?(d(r),s(r)):(h(r),o(r))),n&&n.length>0&&(t.isEnd?(d(n),s(n)):(h(n),o(n)))}}()})),r("paginationUpdate",(function(){t.params.a11y.enabled&&function(){var e=t.params.a11y;p()&&t.pagination.bullets.each((function(n){var r=qMe(n);t.params.pagination.clickable&&(o(r),t.params.pagination.renderBullet||(l(r,"button"),c(r,e.paginationBulletMessage.replace(/\{\{index\}\}/,r.index()+1)))),r.is(".".concat(t.params.pagination.bulletActiveClass))?r.attr("aria-current","true"):r.removeAttr("aria-current")}))}()})),r("destroy",(function(){t.params.a11y.enabled&&function(){var e,n;a&&a.length>0&&a.remove(),t.navigation&&t.navigation.$nextEl&&(e=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(n=t.navigation.$prevEl),e&&e.off("keydown",f),n&&n.off("keydown",f),m()&&t.pagination.$el.off("keydown",DAe(t.params.pagination.bulletClass),f),t.$el.off("focus",g,!0)}()}))}function zAe(e){var t=e.swiper,n=e.extendParams,r=e.on;n({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});!function(e){var t,n=e.effect,r=e.swiper,a=e.on,i=e.setTranslate,o=e.setTransition,s=e.overwriteParams,l=e.perspective,u=e.recreateShadows,c=e.getEffectParams;a("beforeInit",(function(){if(r.params.effect===n){r.classNames.push("".concat(r.params.containerModifierClass).concat(n)),l&&l()&&r.classNames.push("".concat(r.params.containerModifierClass,"3d"));var e=s?s():{};Object.assign(r.params,e),Object.assign(r.originalParams,e)}})),a("setTranslate",(function(){r.params.effect===n&&i()})),a("setTransition",(function(e,t){r.params.effect===n&&o(t)})),a("transitionEnd",(function(){if(r.params.effect===n&&u){if(!c||!c().slideShadows)return;r.slides.each((function(e){r.$(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()})),u()}})),a("virtualUpdate",(function(){r.params.effect===n&&(r.slides.length||(t=!0),requestAnimationFrame((function(){t&&r.slides&&r.slides.length&&(i(),t=!1)})))}))}({effect:"creative",swiper:t,on:r,setTranslate:function(){var e=t.slides,n=t.$wrapperEl,r=t.slidesSizesGrid,a=t.params.creativeEffect,i=a.progressMultiplier,o=t.params.centeredSlides;if(o){var s=r[0]/2-t.params.slidesOffsetBefore||0;n.transform("translateX(calc(50% - ".concat(s,"px))"))}for(var l=function(){var n=e.eq(u),r=n[0].progress,s=Math.min(Math.max(n[0].progress,-a.limitProgress),a.limitProgress),l=s;o||(l=Math.min(Math.max(n[0].originalProgress,-a.limitProgress),a.limitProgress));var c=n[0].swiperSlideOffset,d=[t.params.cssMode?-c-t.translate:-c,0,0],h=[0,0,0],f=!1;t.isHorizontal()||(d[1]=d[0],d[0]=0);var p={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};s<0?(p=a.next,f=!0):s>0&&(p=a.prev,f=!0),d.forEach((function(e,t){d[t]="calc(".concat(e,"px + (").concat(function(e){return"string"===typeof e?e:"".concat(e,"px")}(p.translate[t])," * ").concat(Math.abs(s*i),"))")})),h.forEach((function(e,t){h[t]=p.rotate[t]*Math.abs(s*i)})),n[0].style.zIndex=-Math.abs(Math.round(r))+e.length;var m=d.join(", "),v="rotateX(".concat(h[0],"deg) rotateY(").concat(h[1],"deg) rotateZ(").concat(h[2],"deg)"),g="scale(".concat(l<0?1+(1-p.scale)*l*i:1-(1-p.scale)*l*i,")"),y=l<0?1+(1-p.opacity)*l*i:1-(1-p.opacity)*l*i,b="translate3d(".concat(m,") ").concat(v," ").concat(g);if(f&&p.shadow||!f){var x=n.children(".swiper-slide-shadow");if(0===x.length&&p.shadow&&(x=function(e,t,n){var r="swiper-slide-shadow".concat(n?"-".concat(n):""),a=e.transformEl?t.find(e.transformEl):t,i=a.children(".".concat(r));return i.length||(i=qMe('<div class="swiper-slide-shadow'.concat(n?"-".concat(n):"",'"></div>')),a.append(i)),i}(a,n)),x.length){var w=a.shadowPerProgress?s*(1/a.limitProgress):s;x[0].style.opacity=Math.min(Math.max(Math.abs(w),0),1)}}var k=function(e,t){return e.transformEl?t.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):t}(a,n);k.transform(b).css({opacity:y}),p.origin&&k.css("transform-origin",p.origin)},u=0;u<e.length;u+=1)l()},setTransition:function(e){var n=t.params.creativeEffect.transformEl;(n?t.slides.find(n):t.slides).transition(e).find(".swiper-slide-shadow").transition(e),function(e){var t=e.swiper,n=e.duration,r=e.transformEl,a=e.allSlides,i=t.slides,o=t.activeIndex,s=t.$wrapperEl;if(t.params.virtualTranslate&&0!==n){var l=!1;(a?r?i.find(r):i:r?i.eq(o).find(r):i.eq(o)).transitionEnd((function(){if(!l&&t&&!t.destroyed){l=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)s.trigger(e[n])}}))}}({swiper:t,duration:e,transformEl:n,allSlides:!0})},perspective:function(){return t.params.creativeEffect.perspective},overwriteParams:function(){return{watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode}}})}function BAe(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function UAe(e,t){var n=["__proto__","constructor","prototype"];Object.keys(t).filter((function(e){return n.indexOf(e)<0})).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:BAe(t[n])&&BAe(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:UAe(e[n],t[n]):e[n]=t[n]}))}function WAe(e){return void 0===e&&(e={}),e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function ZAe(e){return void 0===e&&(e={}),e.pagination&&"undefined"===typeof e.pagination.el}function VAe(e){return void 0===e&&(e={}),e.scrollbar&&"undefined"===typeof e.scrollbar.el}function HAe(e){void 0===e&&(e="");var t=e.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})),n=[];return t.forEach((function(e){n.indexOf(e)<0&&n.push(e)})),n.join(" ")}var GAe=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function qAe(e,t){var n=t.slidesPerView;if(t.breakpoints){var r=IAe.prototype.getBreakpoint(t.breakpoints),a=r in t.breakpoints?t.breakpoints[r]:void 0;a&&a.slidesPerView&&(n=a.slidesPerView)}var i=Math.ceil(parseFloat(t.loopedSlides||n,10));return(i+=t.loopAdditionalSlides)>e.length&&(i=e.length),i}function XAe(e){var t=[];return T.Children.toArray(e).forEach((function(e){e.type&&"SwiperSlide"===e.type.displayName?t.push(e):e.props&&e.props.children&&XAe(e.props.children).forEach((function(e){return t.push(e)}))})),t}function YAe(e){var t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return T.Children.toArray(e).forEach((function(e){if(e.type&&"SwiperSlide"===e.type.displayName)t.push(e);else if(e.props&&e.props.slot&&n[e.props.slot])n[e.props.slot].push(e);else if(e.props&&e.props.children){var r=XAe(e.props.children);r.length>0?r.forEach((function(e){return t.push(e)})):n["container-end"].push(e)}else n["container-end"].push(e)})),{slides:t,slots:n}}function KAe(e){var t,n,r,a,i,o=e.swiper,s=e.slides,l=e.passedParams,u=e.changedParams,c=e.nextEl,d=e.prevEl,h=e.scrollbarEl,f=e.paginationEl,p=u.filter((function(e){return"children"!==e&&"direction"!==e})),m=o.params,v=o.pagination,g=o.navigation,y=o.scrollbar,b=o.virtual,x=o.thumbs;u.includes("thumbs")&&l.thumbs&&l.thumbs.swiper&&m.thumbs&&!m.thumbs.swiper&&(t=!0),u.includes("controller")&&l.controller&&l.controller.control&&m.controller&&!m.controller.control&&(n=!0),u.includes("pagination")&&l.pagination&&(l.pagination.el||f)&&(m.pagination||!1===m.pagination)&&v&&!v.el&&(r=!0),u.includes("scrollbar")&&l.scrollbar&&(l.scrollbar.el||h)&&(m.scrollbar||!1===m.scrollbar)&&y&&!y.el&&(a=!0),u.includes("navigation")&&l.navigation&&(l.navigation.prevEl||d)&&(l.navigation.nextEl||c)&&(m.navigation||!1===m.navigation)&&g&&!g.prevEl&&!g.nextEl&&(i=!0);(p.forEach((function(e){if(BAe(m[e])&&BAe(l[e]))UAe(m[e],l[e]);else{var t=l[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?m[e]=l[e]:!1===t&&function(e){o[e]&&(o[e].destroy(),"navigation"===e?(m[e].prevEl=void 0,m[e].nextEl=void 0,o[e].prevEl=void 0,o[e].nextEl=void 0):(m[e].el=void 0,o[e].el=void 0))}(e)}})),p.includes("controller")&&!n&&o.controller&&o.controller.control&&m.controller&&m.controller.control&&(o.controller.control=m.controller.control),u.includes("children")&&b&&m.virtual.enabled?(b.slides=s,b.update(!0)):u.includes("children")&&o.lazy&&o.params.lazy.enabled&&o.lazy.load(),t)&&(x.init()&&x.update(!0));n&&(o.controller.control=m.controller.control),r&&(f&&(m.pagination.el=f),v.init(),v.render(),v.update()),a&&(h&&(m.scrollbar.el=h),y.init(),y.updateSize(),y.setTranslate()),i&&(c&&(m.navigation.nextEl=c),d&&(m.navigation.prevEl=d),g.init(),g.update()),u.includes("allowSlideNext")&&(o.allowSlideNext=l.allowSlideNext),u.includes("allowSlidePrev")&&(o.allowSlidePrev=l.allowSlidePrev),u.includes("direction")&&o.changeDirection(l.direction,!1),o.update()}function JAe(e,t){return"undefined"===typeof window?(0,T.useEffect)(e,t):(0,T.useLayoutEffect)(e,t)}var $Ae=(0,T.createContext)(null),QAe=(0,T.createContext)(null),eIe=["className","tag","wrapperTag","children","onSwiper"];function tIe(){return tIe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tIe.apply(this,arguments)}var nIe=(0,T.forwardRef)((function(e,t){var n=void 0===e?{}:e,r=n.className,a=n.tag,i=void 0===a?"div":a,o=n.wrapperTag,s=void 0===o?"div":o,l=n.children,u=n.onSwiper,c=IMe(n,eIe),d=!1,h=(0,T.useState)("swiper"),f=(0,Z.Z)(h,2),p=f[0],m=f[1],v=(0,T.useState)(null),g=(0,Z.Z)(v,2),y=g[0],b=g[1],x=(0,T.useState)(!1),w=(0,Z.Z)(x,2),k=w[0],S=w[1],E=(0,T.useRef)(!1),C=(0,T.useRef)(null),M=(0,T.useRef)(null),A=(0,T.useRef)(null),I=(0,T.useRef)(null),N=(0,T.useRef)(null),R=(0,T.useRef)(null),O=(0,T.useRef)(null),D=(0,T.useRef)(null),P=function(e){void 0===e&&(e={});var t={on:{}},n={},r={};UAe(t,IAe.defaults),UAe(t,IAe.extendedDefaults),t._emitClasses=!0,t.init=!1;var a={},i=GAe.map((function(e){return e.replace(/_/,"")}));return Object.keys(e).forEach((function(o){i.indexOf(o)>=0?BAe(e[o])?(t[o]={},r[o]={},UAe(t[o],e[o]),UAe(r[o],e[o])):(t[o]=e[o],r[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"===typeof e[o]?n["".concat(o[2].toLowerCase()).concat(o.substr(3))]=e[o]:a[o]=e[o]})),["navigation","pagination","scrollbar"].forEach((function(e){!0===t[e]&&(t[e]={}),!1===t[e]&&delete t[e]})),{params:t,passedParams:r,rest:a,events:n}}(c),L=P.params,F=P.passedParams,j=P.rest,z=P.events,B=YAe(l),U=B.slides,W=B.slots,V=function(){S(!k)};Object.assign(L.on,{_containerClasses:function(e,t){m(t)}});var H=function(){if(Object.assign(L.on,z),d=!0,M.current=new IAe(L),M.current.loopCreate=function(){},M.current.loopDestroy=function(){},L.loop&&(M.current.loopedSlides=qAe(U,L)),M.current.virtual&&M.current.params.virtual.enabled){M.current.virtual.slides=U;var e={cache:!1,slides:U,renderExternal:b,renderExternalUpdate:!1};UAe(M.current.params.virtual,e),UAe(M.current.originalParams.virtual,e)}};C.current||H(),M.current&&M.current.on("_beforeBreakpoint",V);return(0,T.useEffect)((function(){return function(){M.current&&M.current.off("_beforeBreakpoint",V)}})),(0,T.useEffect)((function(){!E.current&&M.current&&(M.current.emitSlidesClasses(),E.current=!0)})),JAe((function(){if(t&&(t.current=C.current),C.current)return M.current.destroyed&&H(),function(e,t){var n=e.el,r=e.nextEl,a=e.prevEl,i=e.paginationEl,o=e.scrollbarEl,s=e.swiper;WAe(t)&&r&&a&&(s.params.navigation.nextEl=r,s.originalParams.navigation.nextEl=r,s.params.navigation.prevEl=a,s.originalParams.navigation.prevEl=a),ZAe(t)&&i&&(s.params.pagination.el=i,s.originalParams.pagination.el=i),VAe(t)&&o&&(s.params.scrollbar.el=o,s.originalParams.scrollbar.el=o),s.init(n)}({el:C.current,nextEl:N.current,prevEl:R.current,paginationEl:O.current,scrollbarEl:D.current,swiper:M.current},L),u&&u(M.current),function(){M.current&&!M.current.destroyed&&M.current.destroy(!0,!1)}}),[]),JAe((function(){!d&&z&&M.current&&Object.keys(z).forEach((function(e){M.current.on(e,z[e])}));var e=function(e,t,n,r){var a=[];if(!t)return a;var i=function(e){a.indexOf(e)<0&&a.push(e)},o=r.map((function(e){return e.key})),s=n.map((function(e){return e.key}));o.join("")!==s.join("")&&i("children"),r.length!==n.length&&i("children");var l=GAe.filter((function(e){return"_"===e[0]})).map((function(e){return e.replace(/_/,"")}));return l.forEach((function(n){if(n in e&&n in t)if(BAe(e[n])&&BAe(t[n])){var r=Object.keys(e[n]),a=Object.keys(t[n]);r.length!==a.length?i(n):(r.forEach((function(r){e[n][r]!==t[n][r]&&i(n)})),a.forEach((function(r){e[n][r]!==t[n][r]&&i(n)})))}else e[n]!==t[n]&&i(n)})),a}(F,A.current,U,I.current);return A.current=F,I.current=U,e.length&&M.current&&!M.current.destroyed&&KAe({swiper:M.current,slides:U,passedParams:F,changedParams:e,nextEl:N.current,prevEl:R.current,scrollbarEl:D.current,paginationEl:O.current}),function(){z&&M.current&&Object.keys(z).forEach((function(e){M.current.off(e,z[e])}))}})),JAe((function(){var e;!(e=M.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}),[y]),T.createElement(i,tIe({ref:C,className:HAe("".concat(p).concat(r?" ".concat(r):""))},j),T.createElement(QAe.Provider,{value:M.current},W["container-start"],WAe(L)&&T.createElement(T.Fragment,null,T.createElement("div",{ref:R,className:"swiper-button-prev"}),T.createElement("div",{ref:N,className:"swiper-button-next"})),VAe(L)&&T.createElement("div",{ref:D,className:"swiper-scrollbar"}),ZAe(L)&&T.createElement("div",{ref:O,className:"swiper-pagination"}),T.createElement(s,{className:"swiper-wrapper"},W["wrapper-start"],L.virtual?function(e,t,n){if(!n)return null;var r=e.isHorizontal()?(0,kt.Z)({},e.rtlTranslate?"right":"left","".concat(n.offset,"px")):{top:"".concat(n.offset,"px")};return t.filter((function(e,t){return t>=n.from&&t<=n.to})).map((function(t){return T.cloneElement(t,{swiper:e,style:r})}))}(M.current,U,y):!L.loop||M.current&&M.current.destroyed?U.map((function(e){return T.cloneElement(e,{swiper:M.current})})):function(e,t,n){var r=t.map((function(t,n){return T.cloneElement(t,{swiper:e,"data-swiper-slide-index":n})}));function a(e,t,r){return T.cloneElement(e,{key:"".concat(e.key,"-duplicate-").concat(t,"-").concat(r),className:"".concat(e.props.className||""," ").concat(n.slideDuplicateClass)})}if(n.loopFillGroupWithBlank){var i=n.slidesPerGroup-r.length%n.slidesPerGroup;if(i!==n.slidesPerGroup)for(var o=0;o<i;o+=1){var s=T.createElement("div",{className:"".concat(n.slideClass," ").concat(n.slideBlankClass)});r.push(s)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=r.length);var l=qAe(r,n),u=[],c=[];return r.forEach((function(e,t){t<l&&c.push(a(e,t,"prepend")),t<r.length&&t>=r.length-l&&u.push(a(e,t,"append"))})),e&&(e.loopedSlides=l),[].concat(u,(0,_.Z)(r),c)}(M.current,U,L),W["wrapper-end"]),W["container-end"]))}));nIe.displayName="Swiper";var rIe=["tag","children","className","swiper","zoom","virtualIndex"];function aIe(){return aIe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aIe.apply(this,arguments)}var iIe=(0,T.forwardRef)((function(e,t){var n=void 0===e?{}:e,r=n.tag,a=void 0===r?"div":r,i=n.children,o=n.className,s=void 0===o?"":o,l=n.swiper,u=n.zoom,c=n.virtualIndex,d=IMe(n,rIe),h=(0,T.useRef)(null),f=(0,T.useState)("swiper-slide"),p=(0,Z.Z)(f,2),m=p[0],v=p[1];function g(e,t,n){t===h.current&&v(n)}JAe((function(){if(t&&(t.current=h.current),h.current&&l){if(!l.destroyed)return l.on("_slideClass",g),function(){l&&l.off("_slideClass",g)};"swiper-slide"!==m&&v("swiper-slide")}})),JAe((function(){l&&h.current&&!l.destroyed&&v(l.getSlideClasses(h.current))}),[l]);var y={isActive:m.indexOf("swiper-slide-active")>=0||m.indexOf("swiper-slide-duplicate-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isDuplicate:m.indexOf("swiper-slide-duplicate")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0||m.indexOf("swiper-slide-duplicate-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0||m.indexOf("swiper-slide-duplicate-next")>=0},b=function(){return"function"===typeof i?i(y):i};return T.createElement(a,aIe({ref:h,className:HAe("".concat(m).concat(s?" ".concat(s):"")),"data-swiper-slide-index":c},d),T.createElement($Ae.Provider,{value:y},u?T.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof u?u:void 0},b()):b()))}));iIe.displayName="SwiperSlide";var oIe=function(e){var t=e.selectTypePost;return(0,Ct.jsxs)(Lh,{container:!0,style:{height:"calc(100vh - 250px)",overflowY:"auto"},children:[(0,Ct.jsx)(Lh,{item:!0,xs:12,md:4,style:{padding:10},children:(0,Ct.jsxs)("div",{className:"postExampleContainer",id:"only-text",onClick:function(){t("only-text")},children:[(0,Ct.jsx)("div",{className:"titleExample"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("p",{className:"textExampleContainer",children:"Solo Texto"})]})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,md:4,style:{padding:10},children:(0,Ct.jsxs)("div",{className:"postExampleContainer",id:"text-photo",onClick:function(){t("text-photo")},children:[(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,sm:6,style:{paddingRight:5},children:(0,Ct.jsx)("img",{src:"../assets/no-image-icon-6.png",alt:"no-video",width:"100%"})}),(0,Ct.jsxs)(Lh,{item:!0,sm:6,style:{paddingLeft:5},children:[(0,Ct.jsx)("div",{className:"titleExample"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"})]})]}),(0,Ct.jsx)("p",{className:"textExampleContainer",children:"Im\xe1gen y Texto"})]})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,md:4,style:{padding:10},children:(0,Ct.jsxs)("div",{className:"postExampleContainer",id:"title-video",onClick:function(){t("title-video")},children:[(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,sm:6,style:{paddingRight:5},children:(0,Ct.jsx)("img",{src:"../assets/no-video.png",alt:"no-video",width:"100%",height:"100%"})}),(0,Ct.jsxs)(Lh,{item:!0,sm:6,style:{paddingLeft:5},children:[(0,Ct.jsx)("div",{className:"titleExample"}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"}),(0,Ct.jsx)("div",{className:"textExample"})]})]}),(0,Ct.jsx)("p",{className:"textExampleContainer",children:"Video y Texto"})]})})]})};function sIe(e){return(0,bc.Z)("MuiFormGroup",e)}(0,yc.Z)("MuiFormGroup",["root","row","error"]);var lIe=["className","row"],uIe=(0,Dc.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.row&&t.row]}})((function(e){var t=e.ownerState;return(0,xt.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),cIe=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiFormGroup"}),r=n.className,a=n.row,i=void 0!==a&&a,o=(0,wt.Z)(n,lIe),s=Hh({props:n,muiFormControl:qh(),states:["error"]}),l=(0,xt.Z)({},n,{row:i,error:s.error}),u=function(e){var t=e.classes,n={root:["root",e.row&&"row",e.error&&"error"]};return(0,Yu.Z)(n,sIe,t)}(l);return(0,Ct.jsx)(uIe,(0,xt.Z)({className:(0,Xu.Z)(u.root,r),ownerState:l,ref:t},o))})),dIe=cIe;function hIe(e){return(0,bc.Z)("MuiFormControlLabel",e)}var fIe=(0,yc.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),pIe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],mIe=(0,Dc.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,kt.Z)({},"& .".concat(fIe.label),t.label),t.root,t["labelPlacement".concat((0,Ju.Z)(n.labelPlacement))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)((0,kt.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(fIe.disabled),{cursor:"default"}),"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},(0,kt.Z)({},"& .".concat(fIe.label),(0,kt.Z)({},"&.".concat(fIe.disabled),{color:(t.vars||t).palette.text.disabled})))})),vIe=(0,Dc.ZP)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,kt.Z)({},"&.".concat(fIe.error),{color:(t.vars||t).palette.error.main})})),gIe=T.forwardRef((function(e,t){var n,r,a=(0,Lt.Z)({props:e,name:"MuiFormControlLabel"}),i=a.className,o=a.componentsProps,s=void 0===o?{}:o,l=a.control,u=a.disabled,c=a.disableTypography,d=a.label,h=a.labelPlacement,f=void 0===h?"end":h,p=a.required,m=a.slotProps,v=void 0===m?{}:m,g=(0,wt.Z)(a,pIe),y=qh(),b=null!=(n=null!=u?u:l.props.disabled)?n:null==y?void 0:y.disabled,x=null!=p?p:l.props.required,w={disabled:b,required:x};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof l.props[e]&&"undefined"!==typeof a[e]&&(w[e]=a[e])}));var k=Hh({props:a,muiFormControl:y,states:["error"]}),S=(0,xt.Z)({},a,{disabled:b,labelPlacement:f,required:x,error:k.error}),E=function(e){var t=e.classes,n=e.disabled,r=e.labelPlacement,a=e.error,i=e.required,o={root:["root",n&&"disabled","labelPlacement".concat((0,Ju.Z)(r)),a&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",a&&"error"]};return(0,Yu.Z)(o,hIe,t)}(S),C=null!=(r=v.typography)?r:s.typography,_=d;return null==_||_.type===lh||c||(_=(0,Ct.jsx)(lh,(0,xt.Z)({component:"span"},C,{className:(0,Xu.Z)(E.label,null==C?void 0:C.className),children:_}))),(0,Ct.jsxs)(mIe,(0,xt.Z)({className:(0,Xu.Z)(E.root,i),ownerState:S,ref:t},g,{children:[T.cloneElement(l,w),_,x&&(0,Ct.jsxs)(vIe,{ownerState:S,"aria-hidden":!0,className:E.asterisk,children:["\u2009","*"]})]}))})),yIe=gIe,bIe=function(e){var t=e.typePost,n=e.roles,r=e.rolesSeleccionados,a=e.obras,i=e.setVideo,o=e.setImagen,s=(0,T.useState)(),l=(0,Z.Z)(s,2),u=l[0],c=l[1],d=(0,T.useState)(),h=(0,Z.Z)(d,2),f=h[0],p=h[1],m=(0,T.useState)([]),v=(0,Z.Z)(m,2),g=v[0],y=v[1],b=(0,T.useState)([]),x=(0,Z.Z)(b,2),w=x[0],k=x[1],S=(0,T.useState)(!1),E=(0,Z.Z)(S,2),C=E[0],M=E[1],A=(0,T.useState)(!1),I=(0,Z.Z)(A,2),N=I[0],R=I[1],O=(0,T.useState)(""),D=(0,Z.Z)(O,2),P=D[0],L=D[1],F=(0,T.useState)(""),j=(0,Z.Z)(F,2),z=j[0],B=j[1];(0,T.useEffect)((function(){if(n.length>0){var e=(0,_.Z)(n);e.forEach((function(e){e.selected=!1})),y(e)}}),[n]),(0,T.useEffect)((function(){if(a.length>0){var e=(0,_.Z)(a);e.forEach((function(e){e.selected=!1})),k(e)}}),[a]),(0,T.useEffect)((function(){if(console.log(C),C){var e=(0,_.Z)(g);e.forEach((function(e){e.selected=!0})),y(e)}else{var t=(0,_.Z)(g);t.forEach((function(e){e.selected=!1})),y(t)}}),[C]),(0,T.useEffect)((function(){if(N){var e=(0,_.Z)(w);e.forEach((function(e){e.selected=!0})),k(e)}else{var t=(0,_.Z)(w);t.forEach((function(e){e.selected=!1})),k(t)}}),[N]),(0,T.useEffect)((function(){var e=[];g.forEach((function(t){t.selected&&e.push(t.dbName)}));var t=[];w.forEach((function(e){e.selected&&t.push(e._id)})),r(e,P,z,t)}),[g,P,z,w]);var U=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t.target.files[0]),e.next=3,uo(t.target.files[0]);case 3:n=e.sent,c(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t.target.files[0]),(n=new FileReader).readAsDataURL(t.target.files[0]),n.onload=function(){p(n.result)},n.onerror=function(e){console.log("Error: ",e)};case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:7,children:"only-text"===t?(0,Ct.jsx)(Lh,{container:!0,style:{padding:"0% 10%"},children:(0,Ct.jsxs)(Lh,{item:!0,xs:12,children:[(0,Ct.jsx)(pf,{onChange:function(e){L(e.target.value)},placeholder:"Ingrese t\xedtulo",style:{width:"60%"}}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Vh,{onChange:function(e){B(e.target.value)},style:{width:"100%",height:400,marginTop:20,padding:10}})]})}):"text-photo"===t?(0,Ct.jsxs)(Lh,{container:!0,style:{padding:"0% 10%"},children:[(0,Ct.jsxs)(Lh,{item:!0,xs:6,children:[(0,Ct.jsx)(Hm,{style:{backgroundColor:"brown",color:"white"},onClick:function(){console.log("imageSelector");var e=document.getElementById("imageSelector");null===e||void 0===e||e.click(),console.log(e)},children:"Seleccione Im\xe1gen"}),(0,Ct.jsx)("input",{type:"file",id:"imageSelector",accept:"image/jpeg, image/png",style:{display:"none"},onChange:U}),(0,Ct.jsx)("div",{className:"mediaContainer",children:u?(0,Ct.jsx)("img",{src:u,alt:"image-post",className:"imagePost",width:"100%",style:{maxWidth:500,maxHeight:500}}):(0,Ct.jsx)("p",{children:"Se mostrar\xe1 la im\xe1gen al seleccionar"})})]}),(0,Ct.jsxs)(Lh,{item:!0,xs:6,children:[(0,Ct.jsx)(pf,{onChange:function(e){L(e.target.value)},placeholder:"Ingrese t\xedtulo",style:{width:"60%"}}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Vh,{onChange:function(e){B(e.target.value)},style:{width:"100%",height:400,marginTop:20,padding:10,fontSize:18}})]})]}):(0,Ct.jsxs)(Lh,{container:!0,style:{padding:"0% 10%"},children:[(0,Ct.jsxs)(Lh,{item:!0,xs:6,children:[(0,Ct.jsx)(Hm,{style:{backgroundColor:"brown",color:"white"},onClick:function(){var e=document.getElementById("videoSelector");e&&e.click()},children:"Seleccione Video"}),(0,Ct.jsx)("input",{type:"file",id:"videoSelector",accept:"video/mp4,video/x-m4v,video/*",style:{display:"none"},onChange:W}),(0,Ct.jsx)("div",{className:"mediaContainer",children:f?(0,Ct.jsx)("video",{controls:!0,src:f,alt:"video-post",className:"videoPost",width:"100%",style:{maxWidth:500,maxHeight:500}}):(0,Ct.jsx)("p",{children:"Se mostrar\xe1 el video al seleccionar"})})]}),(0,Ct.jsxs)(Lh,{item:!0,xs:6,children:[(0,Ct.jsx)(pf,{onChange:function(e){L(e.target.value)},placeholder:"Ingrese t\xedtulo",style:{width:"60%"}}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Vh,{onChange:function(e){B(e.target.value)},style:{width:"100%",height:400,marginTop:20,padding:10,fontSize:18}})]})]})}),(0,Ct.jsx)(Lh,{item:!0,xs:5,style:{padding:"10px"},children:(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsxs)(Lh,{item:!0,xs:6,style:{padding:"0px 10px"},children:[(0,Ct.jsx)("h2",{children:"Seleccione los roles."}),(0,Ct.jsxs)(dIe,{children:[(0,Ct.jsx)(yIe,{style:{fontSize:12},control:(0,Ct.jsx)(kpe,{style:{color:"brown"},checked:C,onChange:function(e){M(e.target.checked)}}),label:"Todos"}),g.map((function(e,t){return(0,Ct.jsx)(yIe,{style:{fontSize:12},control:(0,Ct.jsx)(kpe,{style:{color:"brown"},checked:e.selected,onChange:function(e){!function(e,t){var n=(0,_.Z)(g);n.forEach((function(n,r){t===r&&(n.selected=e.target.checked)})),y(n)}(e,t)}}),label:e.name},t)}))]})]}),(0,Ct.jsxs)(Lh,{item:!0,xs:6,style:{padding:"0px 10px"},children:[(0,Ct.jsx)("h2",{children:"Seleccione obras."}),(0,Ct.jsxs)(dIe,{children:[(0,Ct.jsx)(yIe,{style:{fontSize:12},control:(0,Ct.jsx)(kpe,{style:{color:"brown"},checked:N,onChange:function(e){R(e.target.checked)}}),label:"Todos"}),w.map((function(e,t){return(0,Ct.jsx)(yIe,{style:{fontSize:12},control:(0,Ct.jsx)(kpe,{style:{color:"brown"},checked:e.selected,onChange:function(e){!function(e,t){var n=(0,_.Z)(w);n.forEach((function(n,r){t===r&&(n.selected=e.target.checked)})),k(n)}(e,t)}}),label:e.descripcion},t)}))]})]})]})})]})},xIe=function(e){var t=e.open;return(0,Ct.jsx)(dd,{open:t,PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none",height:300,width:300}},children:(0,Ct.jsxs)("div",{style:{backgroundColor:"transparent",position:"relative",height:300,width:300,overflow:"hidden"},children:[(0,Ct.jsx)(Dg,{size:300,color:"primary"}),(0,Ct.jsx)("img",{src:"../assets/logo_icv_blanco.png",width:150,style:{position:"absolute",top:90,right:70}})]})})},wIe=function(){var e=Ze(),t=(0,T.useState)(""),n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=(0,T.useState)(0),o=(0,Z.Z)(i,2),s=o[0],l=o[1],u=(0,T.useState)([]),c=(0,Z.Z)(u,2),d=c[0],h=c[1],f=(0,T.useState)(""),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=(0,T.useState)(""),y=(0,Z.Z)(g,2),b=y[0],x=y[1],w=(0,T.useState)([]),k=(0,Z.Z)(w,2),S=k[0],E=k[1],C=(0,T.useState)([]),_=(0,Z.Z)(C,2),M=_[0],A=_[1],I=(0,T.useState)([]),N=(0,Z.Z)(I,2),R=N[0],O=N[1],D=(0,T.useState)(),P=(0,Z.Z)(D,2),L=P[0],F=P[1],j=(0,T.useState)(),z=(0,Z.Z)(j,2),B=z[0],U=z[1],W=(0,T.useState)(!1),V=(0,Z.Z)(W,2),H=V[0],G=V[1];(0,T.useEffect)((function(){q(),X()}),[]);var q=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ki();case 2:t=e.sent,console.log(t.data),h(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to();case 2:t=e.sent,console.log(t.data),O(t.data.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,T.useEffect)((function(){console.log(r)}),[r]);var Y=function(){var e=document.getElementById("wallEditor");e&&(e.swiper.slideNext(),l(1))},K=function(){var e=document.getElementById("wallEditor");e&&(e.swiper.slidePrev(),l(0))},J=function(){var e=mo(fo().mark((function e(t,n,r,a){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,n,r),v(n),x(r),E(t),A(a);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),$=function(){var e=mo(fo().mark((function e(){var t,n,a,i,o,s,l,u,c,d;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(S.length>0)){e.next=55;break}if(!(m.length>0)){e.next=52;break}if(!(b.length>0)){e.next=49;break}if("only-text"!==r){e.next=13;break}return G(!0),t={titulo:m,comentario:b,roles:S,obras:M},e.next=8,no(t);case 8:n=e.sent,G(!1),n&&K(),e.next=47;break;case 13:if("text-photo"!==r){e.next=32;break}if(!B){e.next=29;break}return G(!0),a=Date.now(),e.next=19,Wi(B,a.toString(),"news/".concat(a));case 19:return i=e.sent,console.log(i),o={titulo:m,comentario:b,roles:S,obras:M,nombreFoto:a,urlFoto:i.data.data.url},e.next=24,ro(o);case 24:s=e.sent,G(!1),s&&K(),e.next=30;break;case 29:alert("Imagen no seleccionada");case 30:e.next=47;break;case 32:if("title-video"!==r){e.next=47;break}if(!L){e.next=47;break}return G(!0),console.log(L),l=Date.now(),e.next=39,Zi(L,l.toString(),"news/".concat(l));case 39:return u=e.sent,console.log(u),c={titulo:m,comentario:b,roles:S,obras:M,nombreVideo:l,urlVideo:u.data.data.url},e.next=44,ao(c);case 44:d=e.sent,G(!1),d&&K();case 47:e.next=50;break;case 49:alert("Debe agregar un comentario");case 50:e.next=53;break;case 52:alert("Debe agregar un t\xedtulo");case 53:e.next=56;break;case 55:alert("Debe seleccionar al menos un rol");case 56:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ct.jsxs)(vg,{height:"100%",children:[(0,Ct.jsx)(xIe,{open:H}),(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{style:{flexShrink:0},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){e(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n Mural"})]})})})}),(0,Ct.jsxs)(Lh,{container:!0,spacing:1,style:{padding:"5px 10px 0px 10px"},children:[(0,Ct.jsxs)(nIe,{id:"wallEditor",spaceBetween:50,slidesPerView:1,className:"mySwiper",pagination:{clickable:!0},allowTouchMove:!1,children:[(0,Ct.jsx)(iIe,{children:(0,Ct.jsx)(oIe,{selectTypePost:function(e){["only-text","text-photo","title-video"].forEach((function(e){var t=document.getElementById(e);t&&(t.className="postExampleContainer")})),a(e);var t=document.getElementById(e);t&&(t.className="postExampleContainerSelected")}})}),(0,Ct.jsx)(iIe,{children:(0,Ct.jsx)(bIe,{typePost:r,roles:d,rolesSeleccionados:J,obras:R,setVideo:F,setImagen:U})})]}),(0,Ct.jsx)(Lh,{item:!0,xs:12,children:(0,Ct.jsxs)("div",{style:{textAlign:"right"},children:[0===s&&(0,Ct.jsx)("button",{className:"buttonNextWall",onClick:function(){r.length>0?Y():alert("Debe seleccionar una opci\xf3n")},children:"Siguiente"}),1===s&&(0,Ct.jsx)("button",{className:"buttonNextWall",onClick:K,children:"Atr\xe1s"}),1===s&&(0,Ct.jsx)("button",{className:"buttonNextWall sendButton",onClick:$,children:"Enviar"})]})})]})]})})})]})},kIe=(0,mm.Z)((0,Ct.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),SIe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],TIe=(0,Dc.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,Yc.Fq)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.ownerState;return(0,xt.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider)}})}),(function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider)}})}),(function(e){var t=e.ownerState;return(0,xt.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),EIe=(0,Dc.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var n=e.ownerState;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,n=e.ownerState;return(0,xt.Z)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),CIe=T.forwardRef((function(e,t){var n=(0,Lt.Z)({props:e,name:"MuiDivider"}),r=n.absolute,a=void 0!==r&&r,i=n.children,o=n.className,s=n.component,l=void 0===s?i?"div":"hr":s,u=n.flexItem,c=void 0!==u&&u,d=n.light,h=void 0!==d&&d,f=n.orientation,p=void 0===f?"horizontal":f,m=n.role,v=void 0===m?"hr"!==l?"separator":void 0:m,g=n.textAlign,y=void 0===g?"center":g,b=n.variant,x=void 0===b?"fullWidth":b,w=(0,wt.Z)(n,SIe),k=(0,xt.Z)({},n,{absolute:a,component:l,flexItem:c,light:h,orientation:p,role:v,textAlign:y,variant:x}),S=function(e){var t=e.absolute,n=e.children,r=e.classes,a=e.flexItem,i=e.light,o=e.orientation,s=e.textAlign,l={root:["root",t&&"absolute",e.variant,i&&"light","vertical"===o&&"vertical",a&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===s&&"vertical"!==o&&"textAlignRight","left"===s&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,Yu.Z)(l,Ype,r)}(k);return(0,Ct.jsx)(TIe,(0,xt.Z)({as:l,className:(0,Xu.Z)(S.root,o),role:v,ref:t,ownerState:k},w,{children:i?(0,Ct.jsx)(EIe,{className:S.wrapper,ownerState:k,children:i}):null}))})),_Ie=CIe,MIe=function(){var e=Ze(),t=Zpe(),n=t.noticias,r=t.listaLectura,a=(0,T.useState)([]),i=(0,Z.Z)(a,2),o=i[0],s=i[1],l=(0,T.useState)(),u=(0,Z.Z)(l,2),c=u[0],d=u[1];(0,T.useEffect)((function(){s(n)}),[n]),(0,T.useEffect)((function(){console.log(c)}),[c]);return(0,Ct.jsx)(vg,{height:"100%",children:(0,Ct.jsx)(Lh,{className:"pageRoot",container:!0,spacing:0,children:(0,Ct.jsx)(Lh,{item:!0,xs:12,children:(0,Ct.jsxs)(Ipe,{elevation:0,className:"pageCard",children:[(0,Ct.jsx)(Lh,{style:{flexShrink:0},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:(0,Ct.jsxs)(D3,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[(0,Ct.jsx)(Jd,{onClick:function(){return setTimeout((function(){e(-1)}),500)},children:(0,Ct.jsx)(Npe,{style:{color:"#333",fontSize:16}})}),(0,Ct.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Mi Mural"})]})})})}),(0,Ct.jsxs)(Lh,{container:!0,spacing:1,style:{padding:"5px 10px 0px 10px"},children:[(0,Ct.jsx)(Lh,{item:!0,xs:3,children:(0,Ct.jsx)("div",{style:{padding:10,border:"1px solid #ccc",borderRadius:8,width:"100%",height:"calc(100vh - 220px)",overflowY:"auto"},children:r?o.length>0?o.map((function(e,t){return(0,Ct.jsxs)("div",{className:"item-mywall",onClick:function(){!function(e){d(e)}(e)},children:[(0,Ct.jsx)("p",{style:{maxWidth:"80%"},children:e.titulo}),(0,Ct.jsx)(kIe,{className:"icon-right"})]},t)})):(0,Ct.jsx)("div",{className:"item-mywall",children:(0,Ct.jsx)("p",{style:{maxWidth:"80%"},children:"No tiene noticias en su muro"})}):(0,Ct.jsx)("div",{className:"item-mywall",children:(0,Ct.jsx)("p",{style:{maxWidth:"80%"},children:"Cargando noticias"})})})}),(0,Ct.jsx)(Lh,{item:!0,xs:9,children:(0,Ct.jsx)("div",{style:{padding:10,border:"1px solid #ccc",borderRadius:8,width:"100%",height:"calc(100vh - 220px)"},children:c&&(0,Ct.jsxs)(Lh,{container:!0,style:{width:"100%",padding:10},children:[(c.urlVideo||c.urlFoto)&&(0,Ct.jsxs)(Lh,{item:!0,xs:6,style:{width:"100%",padding:10},children:[c.urlVideo&&(0,Ct.jsx)("video",{controls:!0,src:c.urlVideo,width:"100%"}),c.urlFoto&&(0,Ct.jsx)("img",{src:c.urlFoto,width:"100%"})]}),(0,Ct.jsxs)(Lh,{item:!0,xs:c.urlVideo||c.urlFoto?6:12,style:{width:"100%",padding:10},children:[(0,Ct.jsx)("h1",{children:c.titulo}),(0,Ct.jsx)("p",{style:{whiteSpace:"pre-line"},children:c.comentario}),(0,Ct.jsx)(_Ie,{}),(0,Ct.jsx)("br",{}),(0,Ct.jsxs)("p",{children:["Creada: ",di(c.createdAt)]})]})]})})})]})]})})})})},AIe=function(e){var t=e.height,n=e.hableButton,r=jNe().users,a=UNe().sites,i=(0,T.useState)([]),o=(0,Z.Z)(i,2),s=o[0],l=o[1],u=(0,T.useState)([]),c=(0,Z.Z)(u,2),d=c[0],h=c[1],f=(0,T.useState)(!1),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=(0,T.useState)({}),y=(0,Z.Z)(g,2),b=y[0],x=y[1],w=(0,T.useState)(0),k=(0,Z.Z)(w,2),S=k[0],E=k[1],C=(0,T.useState)(!1),_=(0,Z.Z)(C,2),M=_[0],A=_[1],I=(0,T.useState)([]),N=(0,Z.Z)(I,2),R=N[0],O=N[1],D=(0,T.useState)([]),P=(0,Z.Z)(D,2),L=P[0],F=P[1],j=function(e){Ti(e).then((function(e){}))};(0,T.useEffect)((function(){h(r),l(r)}),[r]);var z={height:70,borderRadius:10,boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)",fontSize:14};return(0,Ct.jsx)("div",{style:{height:t},children:(0,Ct.jsxs)("div",{style:{height:t},children:[(0,Ct.jsxs)(Lh,{container:!0,spacing:5,children:[(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:8,lg:8,children:(0,Ct.jsx)(D3,{style:{width:"100%"},children:(0,Ct.jsx)("h1",{children:"Administrar usuarios"})})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:4,lg:4,children:(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"right"},children:(0,Ct.jsx)(gt,{to:"/new-users",children:(0,Ct.jsxs)("button",{disabled:!n,style:{marginTop:15,width:171,height:38,borderRadius:23,fontSize:16},children:[(0,Ct.jsx)(Eu,{icon:Os,style:{marginRight:10}}),"Crear usuario"]})})})})]}),(0,Ct.jsx)("div",{children:(0,Ct.jsxs)(Kg,{children:[(0,Ct.jsx)("div",{style:{width:"5%",marginLeft:5,fontSize:12}}),(0,Ct.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[(0,Ct.jsxs)("p",{style:{margin:0},children:[" ",(0,Ct.jsx)("strong",{children:"Nombre de usuario"})," "]}),(0,Ct.jsx)("input",{type:"text",placeholder:"Buscar por nombre",onChange:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String;if(console.log(e),e.length>3){var t=d.filter((function(t){return(t.name+" "+t.lastName).toLocaleUpperCase().match(e.toLocaleUpperCase())?t:null}));l(t)}else 0===e.length&&l(d)}(e.target.value)}})]}),(0,Ct.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[(0,Ct.jsxs)("p",{style:{margin:0},children:[" ",(0,Ct.jsx)("strong",{children:"Correo electr\xf3nico"})," "]}),(0,Ct.jsx)("input",{type:"text",placeholder:"Buscar por correo",onChange:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String;if(e.length>3){var t=d.filter((function(t){return t.email.toLocaleUpperCase().match(e.toLocaleUpperCase())?t:null}));l(t)}else 0===e.length&&l(d)}(e.target.value)}})]}),(0,Ct.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[(0,Ct.jsxs)("p",{style:{margin:0},children:[" ",(0,Ct.jsx)("strong",{children:"RUN"})," "]}),(0,Ct.jsx)("input",{style:{width:110},type:"text",placeholder:"Buscar por RUN",onChange:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String;if(e.length>3){var t=d.filter((function(t){return t.rut&&t.rut.match(e)?t:null}));l(t)}else 0===e.length&&l(d)}(e.target.value)}})]}),(0,Ct.jsxs)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:[(0,Ct.jsxs)("p",{style:{margin:0},children:[" ",(0,Ct.jsx)("strong",{children:"Rol"})," "]}),(0,Ct.jsxs)("select",{placeholder:"Filtro por ROL",style:{width:"80%"},onChange:function(e){!function(e){if(console.log(e),"TODOS LOS ROLES"===e)l(d);else{var t=d.filter((function(t){return t.roles&&t.roles.includes(e)?t:null}));l(t)}}(e.target.value)},children:[(0,Ct.jsx)("option",{children:"Todos los roles".toUpperCase()}),(0,Ct.jsx)("option",{value:"admin",children:"Administrador"}),(0,Ct.jsx)("option",{value:"chiefMachinery",children:"Jefe de maquinaria"}),(0,Ct.jsx)("option",{value:"shiftManager",children:"Jefe de turno - Inspecci\xf3n y Mantenci\xf3n"}),(0,Ct.jsx)("option",{value:"sapExecutive",children:"Ejecutivo SAP"}),(0,Ct.jsx)("option",{value:"inspectionWorker",children:"Operario de Inspecci\xf3n"}),(0,Ct.jsx)("option",{value:"maintenceOperator",children:"Operario de Mantenci\xf3n"}),(0,Ct.jsx)("option",{value:"observer",children:"Perfil Observaci\xf3n"})]})]}),(0,Ct.jsxs)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:[(0,Ct.jsxs)("p",{style:{margin:0},children:[" ",(0,Ct.jsx)("strong",{children:"Faena/Obra"})," "]}),(0,Ct.jsxs)("select",{placeholder:"Filtro por obra",style:{width:"80%"},onChange:function(e){!function(e){if(console.log(e),"TODAS LAS OBRAS"===e)l(d);else{var t=d.filter((function(t){return t.obras[0]&&t.obras[0].descripcion&&t.obras[0].descripcion.match(e)?t:null}));l(t)}}(e.target.value)},children:[(0,Ct.jsx)("option",{children:"Todas las obras".toUpperCase()}),a.map((function(e,t){return(0,Ct.jsx)("option",{children:e.descripcion},t)}))]})]}),(0,Ct.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:(0,Ct.jsxs)("p",{style:{margin:0,marginBottom:22},children:[" ",(0,Ct.jsx)("strong",{children:"Estado"})," "]})})]})}),n&&(0,Ct.jsxs)("div",{style:{overflowY:"auto",height:"calc(100vh - 350px)"},children:[0===s.length&&(0,Ct.jsx)(Fpe,{}),s.length>0&&s.map((function(e,t){return(0,Ct.jsxs)(Kg,{style:z,children:[(0,Ct.jsx)("div",{style:{width:"5%",marginLeft:5,fontSize:12},children:(0,Ct.jsx)("img",{style:{height:50,borderRadius:"50%",objectFit:"cover",width:50},src:e.imageUrl?e.imageUrl:"../assets/no-profile-image.png",alt:""})}),(0,Ct.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[e.name," ",e.lastName]}),(0,Ct.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12,wordBreak:"break-all"},children:"x@x.xx"===e.email?"----":e.email}),(0,Ct.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:e.rut}),(0,Ct.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12,overflowY:"auto",maxHeight:50},children:e.role&&e.role.length>0?si(e.role):e.roles.map((function(e,t){return(0,Ct.jsx)("p",{style:{margin:0},children:si(e)},t)}))}),(0,Ct.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:e.obras&&e.obras[0]?e.obras[0].descripcion:""}),(0,Ct.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[e.enabled&&(0,Ct.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#C3EBD4",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"ACTIVO"}),!e.enabled&&(0,Ct.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#F9F9F9",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"INACTIVO"})]}),(0,Ct.jsx)(Jd,{title:"Informaci\xf3n del usuario",onClick:function(){return function(e,t){x(e),A(e.enabled),O(e.permissionsReports),F(e.permissionsUsers),E(t),v(!0)}(e,t)},children:(0,Ct.jsx)(Eu,{icon:ps})}),(0,Ct.jsx)(gt,{to:"/edit-user/".concat(e._id),children:(0,Ct.jsx)(Jd,{title:"Editar usuario",children:(0,Ct.jsx)(Eu,{icon:ks})})}),(0,Ct.jsx)(Jd,{title:"Borrar usuario",onClick:function(){!function(e,t,n,r){"admin"===r?alert("No es posible eliminar un Administrador."):confirm("Remover\xe1 al usuario ".concat(t," ").concat(n,". Confirme la acci\xf3n."))&&_i(e).then(function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.t0=l,e.next=4,new Promise((function(e){Ei().then((function(t){e(t)}))}));case 4:e.t1=e.sent.data,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}(e._id,e.name,e.lastName,e.role)},children:(0,Ct.jsx)(Eu,{icon:Ns})})]},t)})),b&&(0,Ct.jsx)(yy,{open:m,userModal:b,handleChange:function(e){A(e.target.checked),s[S].enabled=e.target.checked},checked:M,permissionsReports:R,permissionsUsers:L,closeModal:function(e){v(!1),j(e)}})]}),!n&&(0,Ct.jsx)("div",{style:{textAlign:"center",width:"100%",height:"50%",paddingTop:50},children:(0,Ct.jsx)("h1",{children:"Requiere conexi\xf3n a internet para administraci\xf3n de usuarios"})})]})})},IIe=function(e){var t=e.typeDisplay,n=e.uData,r=UNe(),a=r.sites,i=r.setSiteSelected,o=(0,T.useContext)(MNe),s=o.setUserData,l=o.userData,u=(o.rolesListSelectionCache,o.setRolesListSelectionCache),c=o.setChangeModule,d=(0,T.useState)("password"),h=(0,Z.Z)(d,2),f=h[0],p=h[1],m=(0,T.useState)("password"),v=(0,Z.Z)(m,2),g=v[0],y=v[1],b=(0,T.useState)([]),x=(0,Z.Z)(b,2),w=x[0],k=x[1],S=(0,T.useState)(!1),E=(0,Z.Z)(S,2),C=E[0],M=E[1],A=(0,T.useState)(!1),I=(0,Z.Z)(A,2),N=I[0],R=(I[1],(0,T.useState)()),O=(0,Z.Z)(R,2),D=O[0],P=O[1];(0,T.useEffect)((function(){L()}),[]);var L=function(){var e=mo(fo().mark((function e(){var t,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ki();case 2:t=e.sent,n=[],t.data.forEach((function(e){e.selected=!1,"superAdmin"===e.dbName||n.push(e)})),0===l.roles.length?(u(n),k(n)):(n.forEach((function(e){e.selected=!1,l.roles.forEach((function(t){e.dbName===t&&(e.selected=!0)}))})),console.log(n),k(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,T.useEffect)((function(){if(l.password&&l.confirmPassword&&l.password.length>5&&l.confirmPassword.length>5&&(l.password===l.confirmPassword?(M(!1),document.getElementById("passw").className="isValid",document.getElementById("c_passw").className="isValid"):(M(!0),document.getElementById("passw").className="isInvalid",document.getElementById("c_passw").className="isInvalid")),(0,B3.validate)(l.rut)?document.getElementById("rut").className="isValid":document.getElementById("rut").className="isInvalid",l.roles.length>0){console.log(l);var e=(0,_.Z)(w);e.forEach((function(e){l.roles.forEach((function(t){t===e.dbName&&(e.selected=!0)}))})),k(e)}}),[l]);var F=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(t);case 2:n=e.sent,P(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ct.jsxs)("div",{style:{height:"calc(100vh-500px)",width:"100%"},children:["Nuevo usuario"===t&&(0,Ct.jsx)(Lh,{children:(0,Ct.jsx)("div",{children:(0,Ct.jsxs)("p",{children:["Para enrolar nuevo usuario debe ingresar todos los datos. ",(0,Ct.jsx)("br",{})," Foto de perfil se podr\xe1 cargar una vez creado."]})})}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:"Nuevo usuario"===t?"auto":3,lg:"Nuevo usuario"===t?"auto":3,md:12,sm:12,xs:12,hidden:"Nuevo usuario"===t,children:(0,Ct.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ct.jsx)("p",{children:"Foto de perfil"}),(0,Ct.jsx)("button",{style:{height:224,width:190,borderRadius:8,objectFit:"cover"},onClick:function(){n._id?document.getElementById("profileImage").click():alert("Solo puede agregar foto una vez creado el usuario.")},children:D?(0,Ct.jsx)("img",{src:D,style:{objectFit:"cover",width:"100%"},height:"100%"}):(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)(Eu,{icon:ws,style:{fontSize:18}}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),"CARGAR",(0,Ct.jsx)("br",{}),"FOTO"]})}),(0,Ct.jsx)("input",{autoComplete:"off",type:"file",id:"profileImage",onChange:function(e){F(e.target.files[0])},hidden:!0})]})}),(0,Ct.jsxs)(Lh,{item:!0,xl:"Nuevo usuario"===t?12:9,lg:"Nuevo usuario"===t?12:9,md:12,sm:12,xs:12,children:[(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:8,lg:8,children:(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:4,lg:4,md:6,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"RUT"}),(0,Ct.jsx)("input",{autoComplete:"off",required:!0,id:"rut",className:"inputClass",type:"text",minLength:11,maxLength:12,onInput:function(e){return t=e.target.value,void s(qo(qo({},l),{},"-"===t?{rut:""}:{rut:(0,B3.format)(t)}));var t},value:l.rut,placeholder:"11.222.333-K",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:8,lg:8,md:12,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"Obra"}),(0,Ct.jsxs)("select",{required:!0,name:"site",id:"site",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){s(qo(qo({},l),{},{obras:[e.target.value]})),i(e.target.value)},value:l.obras[0],className:"inputClass",children:[(0,Ct.jsx)("option",{children:"Seleccione..."}),a.length>0&&a.map((function(e,t){return(0,Ct.jsx)("option",{value:e._id,children:e.descripcion},t)}))]})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"Obra"}),(0,Ct.jsxs)("select",{required:!0,name:"test",id:"test",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){return s(qo(qo({},l),{},{isTest:"true"===e.target.value}))},value:l.isTest,className:"inputClass",children:[(0,Ct.jsx)("option",{value:!1,children:"Seleccione..."}),(0,Ct.jsx)("option",{value:!0,children:"Modo Test"})]})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"Nombre"}),(0,Ct.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"name",onChange:function(e){return s(qo(qo({},l),{},{name:e.target.value}))},value:l.name,placeholder:"John",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"Apellido"}),(0,Ct.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"lastName",onChange:function(e){return s(qo(qo({},l),{},{lastName:e.target.value}))},value:l.lastName,placeholder:"Doe",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:8,lg:8,md:6,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"Correo electr\xf3nico"}),(0,Ct.jsx)("input",{autoComplete:"off",required:!0,id:"email",onChange:function(e){return s(qo(qo({},l),{},{email:e.target.value}))},value:l.email,placeholder:"nombre@correo.cl",type:"email",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:4,lg:4,md:6,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"N\xfamero de tel\xe9fono"}),(0,Ct.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"phone",minLength:9,onInput:function(e){e.target.value=e.target.value.slice(0,9)},onChange:function(e){return s(qo(qo({},l),{},{phone:e.target.value}))},value:l.phone,placeholder:"999998888",type:"phone",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),"Nuevo usuario"===t&&(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsxs)(Lh,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"Contrase\xf1a"}),(0,Ct.jsx)("div",{style:{float:"left",width:"100%",paddingRight:10},children:(0,Ct.jsx)("input",{autoComplete:"off",id:"passw",required:!0,className:"isInvalid",onChange:function(e){return s(qo(qo({},l),{},{password:e.target.value}))},value:l.password,minLength:6,placeholder:"Min 6 car\xe1cteres",type:f,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),(0,Ct.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:(0,Ct.jsxs)(Jd,{style:{width:40},onClick:function(){p("password"===f?"text":"password")},children:["password"===f&&(0,Ct.jsx)(Eu,{icon:cs}),"text"===f&&(0,Ct.jsx)(Eu,{icon:ds})]})})]}),(0,Ct.jsxs)(Lh,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"Confirmar contrase\xf1a"}),(0,Ct.jsx)("div",{style:{float:"left",width:"100%",paddingRight:10},children:(0,Ct.jsx)("input",{autoComplete:"off",id:"c_passw",required:!0,className:"isInvalid",onChange:function(e){return s(qo(qo({},l),{},{confirmPassword:e.target.value}))},value:l.confirmPassword,minLength:6,placeholder:"Repita contrase\xf1a",type:g,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),(0,Ct.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:(0,Ct.jsxs)(Jd,{style:{width:40},onClick:function(){y("password"===g?"text":"password")},children:["password"===g&&(0,Ct.jsx)(Eu,{icon:cs}),"text"===g&&(0,Ct.jsx)(Eu,{icon:ds})]})})]})]})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:4,lg:4,children:(0,Ct.jsx)(Lh,{container:!0,style:{height:"100%"},children:(0,Ct.jsxs)("div",{style:{padding:"0px 10px",borderLeftColor:"#ccc",borderLeftStyle:"solid",borderLeftWidth:1,height:"100%"},children:[(0,Ct.jsx)("div",{style:{marginTop:10,marginPadding:10},children:(0,Ct.jsx)("h2",{children:"Roles de usuario"})}),w.map((function(e,t){return(0,Ct.jsx)(Lh,{sm:12,item:!0,children:(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,sm:1,children:(0,Ct.jsx)(kpe,{style:{padding:3},checked:e.selected,onChange:function(e){!function(e,t){var n=(0,_.Z)(w),r=[];n.forEach((function(n,a){a===t&&(n.selected=e.target.checked,n.selected&&r.push(n.dbName))})),k(n),u(n),c(!0)}(e,t)}})}),(0,Ct.jsx)(Lh,{item:!0,sm:11,children:(0,Ct.jsx)("p",{style:{margin:"5px 0px 5px 10px"},children:e.name})})]})},t)}))]})})})]}),C&&(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,Ct.jsx)("h3",{style:{color:"red"},children:"Contrase\xf1as no coinciden"})}),(0,Ct.jsx)(Pg,{open:N,withProgress:!1,loadingData:"Espere..."})]})]})]})},NIe=function(e){e.width;var t=e.height,n=e.typeDisplay,r=(e.id,(0,T.useContext)(MNe)),a=r.userData,i=(r.setUserData,UNe().siteSelected,(0,T.useState)("")),o=(0,Z.Z)(i,2),s=o[0],l=o[1];(0,T.useEffect)((function(){console.log(a),a.obras&&u()}),[a.obras]);var u=function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",n=(t=a).obras[0]._id?t.obras[0]._id:t.obras[0],e.next=5,eo(n);case 5:r=e.sent,console.log(r),l(r.data.data.descripcion);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ct.jsx)(Lh,{container:!0,style:{height:t},children:(0,Ct.jsx)(Lh,{item:!0,xl:12,md:12,style:{padding:20,marginRight:0,backgroundColor:"#F9F9F9",borderRadius:20,overflowY:"auto"},children:(0,Ct.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ct.jsx)("h2",{children:"Resumen del usuario"}),(0,Ct.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[(0,Ct.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"RUT"}),(0,Ct.jsx)("p",{style:{margin:0,fontSize:16},children:a.rut})]}),(0,Ct.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[(0,Ct.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Nombre y Apellido"}),(0,Ct.jsxs)("p",{style:{margin:0,fontSize:16},children:[a.name," ",a.lastName]})]}),(0,Ct.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[(0,Ct.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tipo de usuario"}),a.roles.map((function(e,t){return(0,Ct.jsx)("p",{children:si(e)},t)}))]}),(0,Ct.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[(0,Ct.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Obra"}),(0,Ct.jsx)("p",{style:{margin:0,fontSize:16},children:s})]}),(0,Ct.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[(0,Ct.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Correo electr\xf3nico"}),(0,Ct.jsx)("p",{style:{margin:0,fontSize:16},children:a.email})]}),(0,Ct.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[(0,Ct.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tel\xe9fono"}),(0,Ct.jsxs)("p",{style:{margin:0,fontSize:16},children:["+56 ",a.phone]})]}),"Nuevo usuario"===n&&(0,Ct.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[(0,Ct.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Contrase\xf1a"}),(0,Ct.jsxs)("p",{style:{margin:0,fontSize:16},children:[a.password," "," "]})]})]})})})},RIe=function(e){var t=e.list,n=e.typeReportsSelected,r=e.statusReports,a=cNe().admin,i=UNe().sites,o=TNe().saveReport,s=(0,T.useState)(null),l=(0,Z.Z)(s,2),u=l[0],c=l[1],d=(0,T.useState)(null),h=(0,Z.Z)(d,2),f=h[0],p=h[1],m=(0,T.useState)(!1),v=(0,Z.Z)(m,2),g=v[0],y=v[1],b=(0,T.useState)(!1),x=(0,Z.Z)(b,2),w=x[0],k=x[1],S=(0,T.useState)([]),E=(0,Z.Z)(S,2),C=E[0],_=E[1],M=(0,T.useState)(null),A=(0,Z.Z)(M,2),I=A[0],N=A[1],R=Boolean(I),O=R?"simple-popover":void 0;(0,T.useEffect)((function(){console.log(a)}),[]);var D=function(){N(null)},P=function(e,t,n){if(0!==e&&e){if(1===e)return"Revisi\xf3n Supervisor";if(2===e)return"Revisi\xf3n J. Maquinaria";if(3===e)return"Revisi\xf3n SAP";if(4===e)return"Terminado"}else{if(!(t.length>0))return"Asignar";if("En proceso"===n)return"Ejecutando por operador";if("Asignar"===n)return"Reasignar"}};return(0,Ct.jsxs)("div",{style:{width:"100%",paddingLeft:10,paddingRight:10,fontSize:12},children:[(0,Ct.jsxs)(Lh,{container:!0,style:{width:"100%",borderBottomColor:"#ccc",borderBottomStyle:"solid",borderBottomWidth:1},children:[(0,Ct.jsx)(Lh,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:(0,Ct.jsx)("p",{style:{textAlign:"center",width:40},children:(0,Ct.jsx)("strong",{children:"N\xb0 OT"})})}),(0,Ct.jsx)(Lh,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:(0,Ct.jsxs)("p",{style:{textAlign:"center",minWidth:60},children:[" ",(0,Ct.jsx)("strong",{children:"M\xe1quina"})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:(0,Ct.jsxs)("p",{style:{textAlign:"center",width:20},children:[" ",(0,Ct.jsx)("strong",{children:"Pauta"})," "]})}),"Completadas"!==n&&(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsx)("strong",{children:"Progreso"})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsxs)("strong",{children:["Fecha ",(0,Ct.jsx)("br",{})," Prevista"]})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsxs)("strong",{children:["Fecha ",(0,Ct.jsx)("br",{})," Inicio"]})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsxs)("strong",{children:["Fecha ",(0,Ct.jsx)("br",{})," T\xe9rmino"]})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsx)("strong",{children:"Hor\xf3metro"})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsx)("strong",{children:"Estado"})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:2,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsx)("strong",{children:"OM SAP"})," "]})}),"Completadas"!==n&&(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:2,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsx)("strong",{children:"Responsable"})," "]})}),a&&(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center",minWidth:60},children:[" ",(0,Ct.jsx)("strong",{children:"Obra"})," "]})}),"Completadas"===n&&(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center",minWidth:60},children:[" ",(0,Ct.jsx)("strong",{children:"Download"})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:(0,Ct.jsxs)("p",{style:{textAlign:"center",minWidth:60},children:[" ",(0,Ct.jsx)("strong",{children:"Flota"})," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:"auto",xl:"auto",children:(0,Ct.jsxs)("p",{style:{textAlign:"left"},children:[" ",(0,Ct.jsx)("strong",{children:"Acci\xf3n"})," "]})})]}),(0,Ct.jsx)("div",{children:0==t.length&&(0,Ct.jsx)(Lh,{container:!0,children:(0,Ct.jsxs)("div",{style:{width:"100%",textAlign:"center",height:"50vh"},children:[(0,Ct.jsx)("img",{style:{margin:0,top:"50%",left:"calc(100%/1.53)"},src:"../../assets/icons/Arrow.svg",alt:""}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center",top:"55%"},children:r?(0,Ct.jsxs)("p",{children:["Descargando la informaci\xf3n ",(0,Ct.jsx)("br",{})," Espere un momento."]}):(0,Ct.jsxs)("p",{children:["Selecciona otra opci\xf3n ",(0,Ct.jsx)("br",{})," El detalle no cuenta con lista de reportes."]})})]})})}),(0,Ct.jsx)("div",{style:{height:"calc(100vh - 370px)",overflowY:"auto",fontSize:12},children:t.map((function(e,t){return(0,Ct.jsxs)(Lh,{container:!0,style:{width:"100%",borderBottomColor:"#ccc",borderBottomStyle:"solid",borderBottomWidth:1},children:[(0,Ct.jsx)(Lh,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:(0,Ct.jsxs)("p",{style:{textAlign:"center",width:40},children:[" ",e.idIndex," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:(0,Ct.jsxs)("p",{style:{textAlign:"center",minWidth:60},children:[" ",e.machineData&&e.machineData.equ," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:(0,Ct.jsxs)("p",{style:{textAlign:"center",width:20},children:[" ","Pauta de Inspecci\xf3n"===e.guide?"P.I.":e.guide," "]})}),"Completadas"!==n&&(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",e.progress?"".concat(e.progress,"%"):"S/I"," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",ci(e.datePrev)," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",ci(e.dateInit)," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",ci(e.dateClose)," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(e.machineData.hourMeter/3600).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,".")," hrs "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsx)("div",{style:{textAlign:"center"},children:(0,Ct.jsxs)("p",{children:[" ",(0,Ct.jsx)("strong",{children:P(e.level,e.usersAssigned,e.state)})," "]})})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",e.sapId," "]})}),"Completadas"!==n&&(e.enabled?(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:2,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsx)("button",{onClick:function(){c(e),y(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Asignar"})," "]})}):(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsx)("button",{disabled:!0,style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Terminado"})," "]})})),a&&(0,Ct.jsxs)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,style:{textAlign:"center"},children:[(0,Ct.jsxs)(Hm,{"aria-describedby":O,style:{textAlign:"center",minWidth:60,marginTop:5},onClick:function(t){!function(e,t){console.log(t),console.log(i);var n=i.filter((function(e){if(t===e.idobra)return e}));_(n[0].descripcion),N(e.currentTarget)}(t,e.site)},children:[" ",e.site," "]}),(0,Ct.jsx)(Fp,{id:O,open:R,anchorEl:I,onClose:D,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,Ct.jsx)("div",{style:{padding:5},children:(0,Ct.jsx)("p",{children:C})})})]}),"Completadas"===n&&(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:e.urlPdf?(0,Ct.jsx)("p",{style:{textAlign:"center",minWidth:60},children:(0,Ct.jsx)("a",{href:"".concat(e.urlPdf),children:"Link"})}):(0,Ct.jsx)("p",{style:{textAlign:"center",minWidth:70},children:" Sin URL "})}),(0,Ct.jsx)(Lh,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:(0,Ct.jsxs)("p",{style:{textAlign:"center",minWidth:60},children:[" ",e.machineData&&e.machineData.model," "]})}),(0,Ct.jsx)(Lh,{item:!0,xs:1,sm:1,md:1,lg:"auto",xl:"auto",children:(0,Ct.jsx)(Lh,{container:!0,children:(0,Ct.jsx)(Lh,{item:!0,children:e.origen?(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsx)("button",{onClick:function(){var t;t=e,confirm("Permitir\xe1 asignar OT "+t.idIndex+".")&&(t.origen=!1,o(t))},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",height:24,fontSize:12},children:"Elevar"})," "]}):(0,Ct.jsxs)("p",{style:{textAlign:"center"},children:[" ",(0,Ct.jsx)("button",{onClick:function(){p(e),k(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",height:24,fontSize:12},children:"Ver"})," "]})})})})]},t)}))}),u&&(0,Ct.jsx)(JIe,{open:g,report:u,reportType:u.reportType,onlyClose:function(){y(!1)},closeModal:function(){y(!1)}}),f&&(0,Ct.jsx)(QIe,{open:w,report:f,onlyClose:function(){p(null)}})]})},OIe=n(1276),DIe=n.n(OIe),PIe=function(e){var t=e.width,n=e.height,r=e.setRefCanvas;e.disabled;return(0,Ct.jsx)(DIe(),{ref:function(e){r(e)},penColor:"black",canvasProps:{width:t,height:n,style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:20}}})},LIe=function(e){var t=e.open,n=e.closeModal,r=e.savedInfo,a=(0,T.useState)(""),i=(0,Z.Z)(a,2),o=i[0],s=i[1],l=(0,T.useState)(""),u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=(0,T.useState)(""),f=(0,Z.Z)(h,2),p=f[0],m=f[1],v=(0,T.useState)(""),g=(0,Z.Z)(v,2),y=g[0],b=g[1],x=(0,T.useState)(""),w=(0,Z.Z)(x,2),k=w[0],S=w[1];(0,T.useEffect)((function(){}),[]);var E=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:o,brand:c,model:p,pIDPM:y,zone:k},e.next=3,Ji(t);case 3:e.sent&&(C(),r());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){n(),s(""),d(""),m(""),b(""),S("")};return(0,Ct.jsx)(Xc,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Ct.jsxs)(vg,{sx:ai,children:[(0,Ct.jsxs)(Lh,{container:!0,style:{paddingTop:50},children:[(0,Ct.jsx)(Lh,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"Marca"}),(0,Ct.jsxs)("select",{required:!0,name:"site",id:"site",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){return d(e.target.value)},value:c,className:"inputClass",children:[(0,Ct.jsx)("option",{value:"",children:"Seleccione..."}),["Caterpillar","Komatsu"].map((function(e,t){return(0,Ct.jsx)("option",{value:e,children:e},t)}))]})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"Tipo"}),(0,Ct.jsxs)("select",{required:!0,name:"site",id:"site",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){return s(e.target.value)},value:o,className:"inputClass",children:[(0,Ct.jsx)("option",{value:"",children:"Seleccione..."}),["Cami\xf3n","Pala","Cargador Frontal","Bulldozer"].map((function(e,t){return(0,Ct.jsx)("option",{value:e,children:e},t)}))]})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"Modelo"}),(0,Ct.jsxs)("select",{required:!0,name:"site",id:"site",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){return m(e.target.value)},value:p,className:"inputClass",children:[(0,Ct.jsx)("option",{value:"",children:"Seleccione..."}),["793-F","PC5500","789-D","994-K","D10-T2","D10-T"].map((function(e,t){return(0,Ct.jsx)("option",{value:e,children:e},t)}))]})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"Zona"}),(0,Ct.jsxs)("select",{required:!0,name:"site",id:"site",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){return S(e.target.value)},value:k,className:"inputClass",children:[(0,Ct.jsx)("option",{value:"",children:"Seleccione..."}),["Gen\xe9rico"].map((function(e,t){return(0,Ct.jsx)("option",{value:e,children:e},t)}))]})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:(0,Ct.jsxs)(Jf,{style:{width:"100%",paddingRight:10},children:[(0,Ct.jsx)("p",{style:{margin:0,marginTop:5},children:"PIDPM"}),(0,Ct.jsx)("input",{autoComplete:"off",required:!0,id:"rut",className:"inputClass",type:"text",minLength:11,maxLength:12,onInput:function(e){return b(e.target.value)},value:y,placeholder:"SPM000111",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,children:(0,Ct.jsx)(Hm,{onClick:E,children:"Guardar Pauta"})})]}),(0,Ct.jsx)(gy,{onClick:function(){return C()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})},FIe=function(e){var t=e.open,n=e.closeModal,r=(0,T.useState)([]),a=(0,Z.Z)(r,2),i=a[0],o=a[1];(0,T.useEffect)((function(){s()}),[]);var s=function(){var e=mo(fo().mark((function e(){var t,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go.initDbPMs();case 2:return t=e.sent,e.next=5,go.consultar(t.database);case 5:n=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ct.jsx)(Xc,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Ct.jsxs)(vg,{sx:ai,children:[(0,Ct.jsx)("div",{style:{width:"100%",position:"absolute",top:0,left:0,textAlign:"right"},children:(0,Ct.jsx)(Hm,{style:{borderRadius:"50%",width:36,height:36},onClick:n,children:(0,Ct.jsx)(Gm,{})})}),(0,Ct.jsx)(Lh,{container:!0,xl:12,lg:12,style:{width:"100%"},children:(0,Ct.jsx)(Lh,{item:!0,xl:12,lg:12,children:(0,Ct.jsxs)("h3",{children:["Pautas en dispositivo. Total descargadas: ",i.length]})})}),(0,Ct.jsxs)(Lh,{container:!0,xl:12,style:{width:"100%",paddingTop:30},children:[(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:(0,Ct.jsx)("strong",{children:"N\xb0"})}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:(0,Ct.jsx)("strong",{children:"Tipo PM"})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,lg:2,children:(0,Ct.jsx)("strong",{children:"ID PM"})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,lg:2,children:(0,Ct.jsx)("strong",{children:"Acci\xf3n"})})]}),(0,Ct.jsx)("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 290px)"},children:i.map((function(e,t){return(0,Ct.jsxs)(Lh,{container:!0,style:{width:"100%",paddingTop:25,paddingBottom:25,maxHeight:"calc(100vh - 200px)",borderBottomColor:"#ccc",borderBottomWidth:1,borderBottomStyle:"solid"},children:[(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:t+1}),(0,Ct.jsx)(Lh,{item:!0,xl:1,lg:1,children:e.typepm}),(0,Ct.jsx)(Lh,{item:!0,xl:2,lg:2,children:e.idpm}),(0,Ct.jsx)(Lh,{item:!0,xl:2,lg:2,children:e.action})]},t)}))})]})})},jIe=(0,T.forwardRef)((function(e,t){return(0,Ct.jsx)(qu,qo({direction:"up",ref:t},e))})),zIe=function(e){var t=e.handleClickOpen,n=e.open,r=e.handleClose,a=e.image;return(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)(Hm,{variant:"outlined",onClick:t,children:"Open full-screen dialog"}),(0,Ct.jsxs)(dd,{fullScreen:!0,open:n,onClose:r,TransitionComponent:jIe,children:[(0,Ct.jsx)(Jd,{style:{position:"absolute",top:20,right:20,backgroundColor:"#fff"},onClick:r,children:(0,Ct.jsx)(Gm,{})}),(0,Ct.jsx)("div",{style:{padding:30,textAlign:"center",height:"100vh"},children:(0,Ct.jsx)("img",{src:a,height:"100%"})})]})]})},BIe=(0,T.forwardRef)((function(e,t){return(0,Ct.jsx)(qu,qo({direction:"up",ref:t},e))})),UIe=function(e){var t=e.open,n=e.handleClose,r=e.images,a=e.setIsEdited;console.log(r);var i=(0,T.useState)(),o=(0,Z.Z)(i,2),s=o[0],l=o[1],u=(0,T.useState)(!1),c=(0,Z.Z)(u,2),d=c[0],h=c[1],f=(0,T.useState)(r),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=(0,T.useState)(),y=(0,Z.Z)(g,2),b=y[0],x=y[1],w=function(e){document.getElementById("astChange").click(),x(e)},k=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return h(!0),e.next=4,uo(t);case 4:n=e.sent,setTimeout((function(){n&&(b.image=n,h(!1),a(!0))}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ct.jsxs)(dd,{fullScreen:!0,open:t,onClose:n,TransitionComponent:BIe,adaptiveHeight:!0,children:[(0,Ct.jsxs)(bh,{className:"dialog-content-ast",children:[(0,Ct.jsxs)(nIe,{grabCursor:!0,effect:"creative",creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}},zoom:!0,modules:[FAe,OAe,PAe,LAe,jAe,zAe,NAe],spaceBetween:50,slidesPerView:1,navigation:!0,keyboard:{enabled:!0},style:{"--swiper-navigation-color":"#be2e26","--swiper-pagination-color":"#be2e26"},className:"mySwiper",pagination:{clickable:!0},onSwiper:function(e){return l(e.activeIndex)},onSlideChange:function(e){return l(e.activeIndex)},children:[m.map((function(e,t){return console.log(e),(0,Ct.jsx)(iIe,{style:{height:"80vh",display:"block",width:"100%",textAlign:"center"},children:(0,Ct.jsx)("div",{className:"swiper-zoom-container",children:(0,Ct.jsx)("img",{src:e.image.length>0?e.image:e.imageUrl,style:{height:"85vh",textAlign:"center"}},t)})},t)})),(0,Ct.jsx)("input",{autoComplete:"off",type:"file",id:"astChange",accept:"image/x-png,image/jpeg",onChange:function(e){k(e.target.files[0])},hidden:!0})]}),(0,Ct.jsxs)("div",{style:{width:"100%",textAlign:"center",position:"absolute",bottom:10},children:[(0,Ct.jsxs)(Hm,{style:{backgroundColor:"#fff",borderStyle:"solid",borderWidth:1,borderColor:"green",color:"green",marginRight:10},onClick:function(){console.log(r[s]),w(r[s])},children:[(0,Ct.jsx)(Eu,{style:{fontSize:30,marginRight:10},icon:fs})," Cambiar AST"]}),(0,Ct.jsxs)(Hm,{style:{backgroundColor:"#fff",borderStyle:"solid",borderWidth:1,borderColor:"red",color:"red"},onClick:function(){!function(){h(!0),console.log(r);var e=r.splice(s,1);console.log(e),v(r),setTimeout((function(){h(!1),a(!0)}),1e3)}()},children:[(0,Ct.jsx)(Gm,{style:{fontSize:30,marginRight:10}})," Borrar AST"]})]})]}),(0,Ct.jsx)(Jd,{style:{position:"absolute",zIndex:2,top:20,right:20,backgroundColor:"#fff"},onClick:n,children:(0,Ct.jsx)(Gm,{})}),(0,Ct.jsx)(xIe,{open:d})]})},WIe=n(173),ZIe=(0,mm.Z)((0,Ct.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),VIe=(0,T.forwardRef)((function(e,t){return(0,Ct.jsx)(qu,qo({direction:"up",ref:t},e))})),HIe=function(e){var t=e.handleClickOpen,n=e.open,r=e.handleClose,a=e.message,i=e.inputMessage,o=e.saveMessage;return setTimeout((function(){document.getElementById("textField").focus()}),100),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)(Hm,{variant:"outlined",onClick:t,children:"Open full-screen dialog"}),(0,Ct.jsxs)(dd,{fullScreen:!0,open:n,onClose:r,TransitionComponent:VIe,children:[(0,Ct.jsx)(Jd,{style:{position:"absolute",top:20,left:20,backgroundColor:"#fff"},onClick:r,children:(0,Ct.jsx)(Gm,{})}),(0,Ct.jsxs)(Jd,{style:{position:"absolute",top:20,right:20,backgroundColor:"#fff"},onClick:function(){o(),r()},children:["Enviar ",(0,Ct.jsx)(ZIe,{})]}),(0,Ct.jsx)("div",{style:{padding:30,textAlign:"center",height:"100vh"},children:(0,Ct.jsx)(Am,{style:{width:"70%"},id:"textField",value:a,onChange:function(e){i(e.target.value)}})})]})]})},GIe=(0,T.forwardRef)((function(e,t){return(0,Ct.jsx)(qu,qo({direction:"up",ref:t},e))})),qIe=function(e){var t=e.open,n=e.handleClose,r=e.item,a=e.index,i=e.executionReport,o=e.gruposKeys,s=(e.indexActivity,e.indexGroup),l=e.save,u=(e.setChecks,e.canEdit),c=cNe(),d=c.userData,h=c.admin,f=(c.isOperator,c.isSapExecutive,c.isShiftManager,c.isChiefMachinery,jNe().usersFilteredBySite,_Ne().report),p=wNe().isOnline,m=(0,T.useState)(""),v=(0,Z.Z)(m,2),g=v[0],y=v[1],b=(0,T.useState)([]),x=(0,Z.Z)(b,2),w=x[0],k=x[1],S=(0,T.useState)(),E=(0,Z.Z)(S,2),C=E[0],M=E[1],A=(0,T.useState)(!1),I=(0,Z.Z)(A,2),N=I[0],R=I[1],O=(0,T.useState)(!1),D=(0,Z.Z)(O,2),P=D[0],L=D[1],F=(0,T.useState)(""),j=(0,Z.Z)(F,2),z=j[0],B=j[1],U=(0,T.useState)(!1),W=(0,Z.Z)(U,2),V=W[0],H=(W[1],(0,T.useState)(!1)),G=(0,Z.Z)(H,2),q=G[0],X=G[1],Y=(0,T.useState)(!1),K=(0,Z.Z)(Y,2),J=K[0],$=K[1],Q=(0,T.useState)([]),ee=(0,Z.Z)(Q,2),te=ee[0],ne=ee[1],re=(0,T.useState)(!1),ae=(0,Z.Z)(re,2),ie=(ae[0],ae[1]),oe=(0,T.useState)(0),se=(0,Z.Z)(oe,2),le=se[0],ue=se[1],ce=(0,T.useState)(),de=(0,Z.Z)(ce,2),he=de[0],fe=de[1],pe=(0,T.useState)(!1),me=(0,Z.Z)(pe,2),ve=(me[0],me[1]);(0,T.useEffect)((function(){console.log(f)}),[f]),(0,T.useEffect)((function(){if(o.map((function(e,t){e.data===s&&fe(t)})),i&&i.astList&&ne(i.astList),M(r.unidadData),r.messages){var e=[];r.messages.forEach(function(){var t=mo(fo().mark((function t(n,a){return fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(n),n&&(n.urlBase64&&e.push(n),a==r.messages.length-1&&(ue(e.length+1),k(r.messages)));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),setTimeout((function(){document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),100)}}),[]),(0,T.useEffect)((function(){if(w.length>0){var e=!1,t=!1;(0,_.Z)(w).forEach(function(){var n=mo(fo().mark((function n(a,i){return fo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a&&((a.urlBase64||a.urlImageMessage)&&(t=!0),"Se indica estado ejecutado sin dejar mensajes"===a.content||(e=!0),i===w.length-1&&(r.haveMessage=e,r.haveClip=t));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()),y(""),setTimeout((function(){document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),50)}}),[w]);var ge=function(e){y(e)},ye=function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return e.next=3,uo(t);case 3:if(n=e.sent,!p){e.next=12;break}return e.next=7,Wi(t,"".concat((new Date).getFullYear(),"/").concat(f.idIndex,"/").concat(s,"/").concat(Date.now()),"reports-test");case 7:r=e.sent,console.log(r.data.data.url),be(n,"Imagen ".concat(Date.now()),r.data.data.url),e.next=13;break;case 12:be(n,"Imagen ".concat(Date.now()),null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=mo(fo().mark((function e(t,n,i){var o,s,l,u,c;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(g.length>0||n)&&(o=le,t&&(r.haveClip=!0,ue(o+=1)),s=n||g,l={id:Date.now(),namePicture:i?"".concat(he,"_Tarea_").concat(a+1,"_Foto_").concat(o):null,content:s,name:"".concat(d.name," ").concat(d.lastName),user:d._id,urlBase64:t,urlImageMessage:i},u=[],w.forEach((function(e){e&&u.push(e)})),(c=[].concat(u)).push(l),k(c));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),xe=function(e,t,r){var a=[];w.forEach((function(e){e&&a.push(e)})),r.messages=[].concat(a),ve(!1);var o=!1;r.isRequerido?(r.unidadData=C,r.unidadData?(l(e,t,r),i.offLineGuard=Date.now(),o=!0):(r.messages.length>0?(l(e,t,r),i.offLineGuard=Date.now(),o=!0):alert("Debe dejar al menos un comentario"),alert("Debe indicar una cantidad como se solicita."))):(o=!0,l(e,t,r),i.offLineGuard=Date.now(),o=!0),console.log(r,o),!0===o&&n()};return(0,Ct.jsxs)(dd,{open:t,TransitionComponent:GIe,keepMounted:!0,disableEscapeKeyDown:!0,"aria-describedby":"alert-dialog-slide-description",children:[(0,Ct.jsx)("div",{style:{position:"absolute",right:50,top:10},children:(0,Ct.jsx)(Jd,{onClick:function(){n()},style:{position:"fixed"},children:(0,Ct.jsx)(Gm,{})})}),(0,Ct.jsx)(ph,{style:{marginTop:30},children:r.taskdesc}),(0,Ct.jsx)(bh,{children:(0,Ct.jsxs)(Th,{id:"alert-dialog-slide-description",style:{whiteSpace:"pre-line"},children:[r.obs01," ",(0,Ct.jsx)("br",{})]})}),"*"!==r.unidad&&(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:3,children:(0,Ct.jsxs)("div",{style:{marginLeft:24,marginBottom:16},children:[(0,Ct.jsx)("h3",{children:"Total utilizado"}),(0,Ct.jsx)(Am,{id:"standard-basic",label:r.unidad,variant:"standard",type:"number",value:C,onChange:function(e){!function(e){M(e)}(e.target.value)}})]})}),(0,Ct.jsx)(Lh,{item:!0,xl:2,lg:2,md:2,sm:2,children:(0,Ct.jsx)("div",{children:(0,Ct.jsxs)("p",{children:["Nro Parte: ",r.partnumberUtl]})})}),(0,Ct.jsx)(Lh,{item:!0,xl:4,lg:4,md:4,sm:4,children:(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:6,lg:6,md:6,sm:6,children:(0,Ct.jsx)("div",{children:(0,Ct.jsxs)("p",{children:["Cant. Utilizar: ",(0,Ct.jsx)("br",{})," ",r.cantidad," ",r.unidad]})})}),(0,Ct.jsx)(Lh,{item:!0,xl:6,lg:6,md:6,sm:6,children:(0,Ct.jsx)("div",{children:(0,Ct.jsxs)("p",{children:["Tipo Rpto: ",r.idtypeutlPartnumber]})})})]})})]}),(0,Ct.jsx)("div",{style:{paddingLeft:24,paddingRight:24,marginBottom:50},children:(0,Ct.jsxs)("div",{style:{width:"100%",height:250,borderWidth:2,borderStyle:"solid",borderColor:"#ccc",borderRadius:20,position:"relative"},children:[(0,Ct.jsxs)("div",{id:"commits",style:{width:"100%",height:190,overflowY:"auto",scrollBehavior:"smooth"},children:[0===w.length&&(0,Ct.jsx)("p",{children:"No hay mensajes"}),w.map((function(e,t){if(console.log(e),e)return(0,Ct.jsxs)("div",{style:{position:"relative",color:"#555",padding:5,margin:5,borderRadius:20,borderWidth:2,borderStyle:"solid",borderColor:"#dddddd",backgroundColor:"#F5F5F5"},children:[(d._id===e.user&&u||h)&&(0,Ct.jsx)(Jd,{onClick:function(){!function(e){if(confirm("\xbfConfirma borrar el mensaje?")){ve(!0);var t=[];w.forEach((function(n,a){if(e===a||t.push(n),a===w.length-1)if(k(t),r.messages=t,0===r.messages.length)r.haveMessage=!1,r.haveClip=!1;else{var i=!1,o=!1;r.messages.forEach((function(e,t){console.log(e),"Se indica estado ejecutado sin dejar mensajes"===e.content||(o=!0),(e.urlBase64||e.urlImageMessage)&&(i=!0),console.log("Clip",i),t===r.messages.length-1&&(r.haveClip=i,r.haveMessage=o)}))}}))}}(t)},style:{position:"absolute",top:10,right:10},children:(0,Ct.jsx)(Gm,{style:{fontSize:14,color:"black"}})}),(0,Ct.jsx)("p",{style:{marginBottom:0,fontSize:10},children:(0,Ct.jsx)("strong",{children:e.name})}),(e.urlBase64||e.urlImageMessage)&&(0,Ct.jsx)("img",{src:e.urlBase64?e.urlBase64:e.urlImageMessage,height:70,onClick:function(){return function(e){B(e),R(!0)}(e.urlBase64.length>0?e.urlBase64:e.urlImageMessage)}}),(0,Ct.jsx)("p",{style:{marginBottom:20,whiteSpace:"pre-line"},children:e.content}),(0,Ct.jsx)("p",{style:{position:"absolute",fontSize:10,right:5,bottom:0},children:di(e.id)})]},t)}))]}),(0,Ct.jsx)("div",{style:{width:"100%",height:50,borderTopWidth:2,borderTopStyle:"solid",borderTopColor:"#ccc",position:"absolute",bottom:0,left:0,paddingLeft:10,paddingRight:10},children:(0,Ct.jsxs)("form",{children:[u&&(0,Ct.jsxs)("div",{style:{width:"70%",float:"left"},children:[!WIe.tq&&(0,Ct.jsx)("textarea",{disabled:!u,value:g,placeholder:"Ingrese comentarios",type:"text",style:{width:"100%",borderColor:"transparent",resize:"none"},onChange:function(e){ge(e.target.value)}}),WIe.tq&&(0,Ct.jsx)("textarea",{disabled:!u,id:"mobileTextArea",value:g,placeholder:"Ingrese comentarios",type:"text",style:{width:"100%",borderColor:"transparent",resize:"none"},onChange:function(e){console.log(e.target.value)},onClick:function(){X(!0),document.getElementById("mobileTextArea").blur()}})]}),(0,Ct.jsxs)("div",{style:{width:"30%",float:"right",textAlign:"right"},children:[u&&(0,Ct.jsx)(Jd,{onClick:function(){document.getElementById("foto").click(),ie(!1)},children:(0,Ct.jsx)(Eu,{icon:fs})}),u&&(0,Ct.jsx)(Jd,{onClick:function(){return be()},children:(0,Ct.jsx)(Eu,{icon:Yo})}),(0,Ct.jsx)("input",{autoComplete:"off",type:"file",id:"foto",accept:"image/x-png,image/jpeg",onChange:function(e){ye(e.target.files[0])},hidden:!0})]})]})})]})}),u&&(0,Ct.jsxs)(Dm,{style:{minWidth:400},children:[(0,Ct.jsx)(Hm,{style:{backgroundColor:"#D5CC41",color:"#fff"},onClick:function(){xe(a,!1,r)},children:"Guardar sin ejecutar"}),(0,Ct.jsx)(Hm,{style:{backgroundColor:"#9ACF26",color:"#fff"},onClick:function(){xe(a,!0,r)},children:"Guardar ejecutado"})]}),N&&(0,Ct.jsx)(zIe,{open:N,image:z,handleClose:function(){R(!1)}}),P&&(0,Ct.jsx)(UIe,{open:P,images:te,handleClose:function(){L(!1)},setIsEdited:ve}),q&&(0,Ct.jsx)(HIe,{open:q,handleClose:function(){X(!1)},saveMessage:be,message:g,inputMessage:ge}),V&&(0,Ct.jsx)(Pg,{open:V,withProgress:!1,loadingData:"Cargando im\xe1gen"}),J&&(0,Ct.jsx)(S3,{open:J,handleClose:function(){$(!1)},astList:te})]})},XIe=(0,T.forwardRef)((function(e,t){return(0,Ct.jsx)(qu,qo({direction:"up",ref:t},e))})),YIe=function(e){var t=e.handleClickOpen,n=e.open,r=e.handleClose,a=e.report,i=Ze();return(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)(Hm,{variant:"outlined",onClick:t,children:"Open full-screen dialog"}),(0,Ct.jsxs)(dd,{open:n,onClose:r,TransitionComponent:XIe,children:[(0,Ct.jsx)(Jd,{style:{position:"absolute",top:20,right:20,backgroundColor:"#fff"},onClick:r,children:(0,Ct.jsx)(Gm,{})}),(0,Ct.jsxs)("div",{style:{padding:30,textAlign:"center",height:"50vh"},children:[(0,Ct.jsxs)("h1",{children:["N\xb0 de OT: ",a.idIndex]}),(0,Ct.jsxs)("h2",{children:["N\xb0 SAP",a.sapId]}),(0,Ct.jsxs)("h3",{children:["Tipo de reporte: ",a.reportType]}),(0,Ct.jsxs)("h3",{children:["Pauta: ",a.guide]}),a.testMode&&(0,Ct.jsx)("p",{style:{width:"100%",backgroundColor:"red",color:"white"},children:"OT creada para testing."}),(0,Ct.jsx)("div",{style:{textAlign:"justify"},children:(0,Ct.jsxs)("p",{children:["Fecha programado: ",di(a.datePrev),(0,Ct.jsx)("br",{}),"Fecha de inicio: ",di(a.dateInit),(0,Ct.jsx)("br",{}),"Fecha \xfaltima actualizaci\xf3n: ",di(a.updatedAt)]})}),(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,Ct.jsx)("button",{onClick:function(){return i("/assignment/".concat(a.idIndex))},children:"Abrir reporte"})})]})]})]})},KIe=(0,T.forwardRef)((function(e,t){return(0,Ct.jsx)(qu,qo({direction:"up",ref:t},e))})),JIe=function(e){var t=e.open,n=e.report,r=e.closeModal,a=e.reportType,i=e.onlyClose,o=cNe(),s=(o.admin,o.userData),l=jNe(),u=l.inspectors,c=l.maitenances,d=UNe().sites,h=TNe().saveReport,f=(0,T.useState)([]),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=(0,T.useState)(),y=(0,Z.Z)(g,2),b=y[0],x=y[1],w=n.idIndex,k=n.guide,S=n.state,E=n.usersAssigned,C=n.site,_=(0,T.useState)(!1),M=(0,Z.Z)(_,2),A=M[0],I=(M[1],(0,T.useState)("")),N=(0,Z.Z)(I,2),R=N[0],O=(N[1],(0,T.useState)(!1)),D=(0,Z.Z)(O,2),P=D[0],L=D[1],F=(0,T.useState)(),j=(0,Z.Z)(F,2),z=(j[0],j[1]),B=(0,T.useState)(!0),U=(0,Z.Z)(B,2),W=U[0],V=U[1],H=(0,T.useState)(""),G=(0,Z.Z)(H,2),q=G[0],X=G[1],Y=(0,T.useState)(""),K=(0,Z.Z)(Y,2),J=(K[0],K[1],(0,T.useState)(!0)),$=(0,Z.Z)(J,2),Q=$[0],ee=$[1];(0,T.useEffect)((function(){E.length>0&&ee(!1)}),[E]),(0,T.useEffect)((function(){if(t)if(te(),"Inspecci\xf3n"===a){var e=u.sort((function(e,t){return e.name<t.name?-1:e.mane>t.name?1:0}));v(e)}else{var n=c.sort((function(e,t){return e.name<t.name?-1:e.mane>t.name?1:0}));v(n)}}),[t]),(0,T.useEffect)((function(){m&&m.length>0&&V(!1)}),[m]),(0,T.useEffect)((function(){console.log(n)}),[n]);var te=function(){console.log(d);var e=d.filter((function(e){if(C===e.idobra)return e}));X(e[0].descripcion)},ne=function(){var e=mo(fo().mark((function e(t){var r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=15;break}if(r=m.filter((function(e){if(t===e._id)return e}))[0],!window.confirm("Confirme que asignar\xe1 a ".concat(r.name," ").concat(r.lastName," a la OT ").concat(n.idIndex))){e.next=15;break}if(!(a=n).usersAssigned){e.next=14;break}return i=a.usersAssigned,console.log(i),i&&i.length>0?(i.find((function(e,n){e===t&&i.splice(n,1)})),i.unshift(t)):i.push(t),a.usersAssigned=i,a.state="En proceso",a.level=0,e.next=13,h(a);case 13:og("nueva-asignacion","".concat(s._id),t,"Asignaciones","Se ha asignado nueva OT","OT ".concat(a.idIndex," asignada a usted"),"/assignment",n._id);case 14:re();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){P?r():i()};(0,T.useEffect)((function(){z(E[0]),L(!1),"Asignar"===S?x("#DE4343"):"En proceso"===S?x("#F2994A"):"Por cerrar"===S?x("#F2C94C"):"Completadas"===S&&x("#27AE60")}),[k]);var ae=function(){var e=mo(fo().mark((function e(){var t,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(E.length>0)){e.next=14;break}if(console.log(E),!window.confirm("Confirme que quitar\xe1 a ".concat(E[0].name," ").concat(E[0].lastName," a la OT ").concat(n.idIndex))){e.next=14;break}if(!(t=n).usersAssigned){e.next=13;break}return r=t.usersAssigned.shift(),console.log(r),r&&r.length>0?(r.find((function(e,t){e===userId&&r.splice(t,1)})),r.unshift(userId)):r.push(userId),t.usersAssigned=r,t.state="Asignar",t.level=0,e.next=13,h(t);case 13:re();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ct.jsx)(dd,{open:t,TransitionComponent:KIe,adaptiveHeight:!0,children:(0,Ct.jsxs)("div",{style:{padding:30},children:[(0,Ct.jsxs)(D3,{style:{width:"100%",height:70,paddingLeft:0},children:[(0,Ct.jsxs)("h2",{children:["Asignar Pauta de ",(0,Ct.jsx)("br",{})," ",a," ",k]}),(0,Ct.jsx)("div",{style:{position:"absolute",right:0,backgroundColor:b,paddingTop:3,borderRadius:5,width:100,height:20,textAlign:"center"},children:(0,Ct.jsx)("p",{style:{margin:0,fontSize:12},children:S.toUpperCase()})})]}),(0,Ct.jsxs)("div",{style:{width:"100%",height:90},children:[(0,Ct.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[(0,Ct.jsx)("strong",{children:"Faena:"})," ",(0,Ct.jsx)("br",{}),q]}),(0,Ct.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[(0,Ct.jsx)("strong",{children:"N\xfamero de orden:"})," ",(0,Ct.jsx)("br",{}),w]}),(0,Ct.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[(0,Ct.jsx)("strong",{children:"Pauta:"})," ",(0,Ct.jsx)("br",{}),k]})]}),(0,Ct.jsx)("div",{style:{width:"100%",height:59},children:A&&(0,Ct.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[(0,Ct.jsx)("strong",{children:R})," ",(0,Ct.jsx)("br",{})]})}),(0,Ct.jsxs)(Jf,{fullWidth:!0,children:[(0,Ct.jsx)(Hf,{children:"Asignar Pauta a:"}),(0,Ct.jsxs)(Sm,{value:"Asignar"===n.state?null:E[0],onChange:function(e){ne(e.target.value)},label:"Asignar Pauta a:",disabled:W,children:[(0,Ct.jsx)(ime,{style:{fontSize:15},children:W?"Leyendo operarios. Espere...".toUpperCase():"Seleccionar operario".toUpperCase()}),m.map((function(e,t){if(e.obras[0].idobra===C)return(0,Ct.jsx)(ime,{style:{fontSize:15},value:e._id,children:"".concat(e.name," ").concat(e.lastName).toUpperCase()},t)}))]}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Hm,{disabled:Q,onClick:ae,style:{width:150},color:"error",children:"Quitar usuario"})]}),(0,Ct.jsx)(gy,{onClick:re,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})},$Ie=(0,T.forwardRef)((function(e,t){return(0,Ct.jsx)(qu,qo({direction:"left",ref:t},e))})),QIe=function(e){var t=e.open,n=e.report,r=e.onlyClose,a=(0,T.useContext)(lNe),i=a.admin,o=a.isSapExecutive,s=_Ne().setReport,l=(0,T.useState)(),u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=n.idIndex,f=n.guide,p=n.state,m=n.siteName,v=n.usersAssigned,g=n.sapId,y=n.machineData,b=n.description,x=(0,T.useState)(""),w=(0,Z.Z)(x,2),k=w[0],S=w[1],E=(0,T.useState)(""),C=(0,Z.Z)(E,2),_=C[0],M=C[1],A=(0,T.useState)(""),I=(0,Z.Z)(A,2),N=I[0],R=I[1],O=(0,T.useState)(""),D=(0,Z.Z)(O,2),P=D[0],L=D[1],F=(0,T.useState)(!1),j=(0,Z.Z)(F,2),z=(j[0],j[1]),B=(0,T.useState)(!1),U=(0,Z.Z)(B,2),W=U[0],V=U[1],H=(0,T.useState)(g),G=(0,Z.Z)(H,2),q=G[0],X=G[1],Y=(0,T.useState)(0),K=(0,Z.Z)(Y,2),J=K[0],$=K[1],Q=(0,T.useState)(0),ee=(0,Z.Z)(Q,2),te=ee[0],ne=ee[1],re=(0,T.useState)(0),ae=(0,Z.Z)(re,2),ie=ae[0],oe=ae[1],se=(0,T.useState)(0),le=(0,Z.Z)(se,2),ue=le[0],ce=le[1],de=(0,T.useState)(0),he=(0,Z.Z)(de,2),fe=he[0],pe=he[1],me=Ze();(0,T.useEffect)((function(){ve(),n&&($(Number(((new Date(n.endReport)-new Date(n.createdAt))/1e3/60/60/24).toFixed(2))),ne(Number(((new Date(n.shiftManagerApprovedDate)-new Date(n.endReport))/1e3/60/60/24).toFixed(2))),oe(Number(((new Date(n.chiefMachineryApprovedDate)-new Date(n.shiftManagerApprovedDate))/1e3/60/60/24).toFixed(2))),ce(Number(((new Date(n.dateClose)-new Date(n.chiefMachineryApprovedDate))/1e3/60/60/24).toFixed(2))))}),[n]),(0,T.useEffect)((function(){pe((J+te+ie+ue).toFixed(2))}),[J,te,ie,ue]);var ve=function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Po(n.chiefMachineryApprovedBy).then((function(e){R(e)})),Po(n.shiftManagerApprovedBy).then((function(e){M(e)})),Po(n.sapExecutiveApprovedBy).then((function(e){L(e)})),console.log(v[0]),Ci(v[0]).then((function(e){var t=e.data;t&&S(t.name+" "+t.lastName)})),"Asignar"===p?d("#DE4343"):"En proceso"===p?d("#F2994A"):"Por cerrar"===p?d("#F2C94C"):"Completadas"===p&&d("#27AE60");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){V(!W)},ye=function(){var e=mo(fo().mark((function e(){var t,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(q.length<1)){e.next=4;break}alert("Debe agregar alg\xfan n\xfamero SAP"),e.next=15;break;case 4:return e.prev=4,t={_id:n._id,sapId:q},e.next=8,Ni(t);case 8:r=e.sent,console.log(r),r&&(n.sapId=q,ge()),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return(0,Ct.jsx)(dd,{open:t,TransitionComponent:$Ie,adaptiveHeight:!0,maxWidth:"xl",children:(0,Ct.jsxs)("div",{style:{padding:30,width:1e3},children:[(0,Ct.jsxs)(D3,{style:{width:"100%",height:59,paddingLeft:0},children:[(0,Ct.jsxs)("h2",{children:["Mantenci\xf3n"===n.reportType?"Pauta de ".concat(n.reportType):""," Equ: ",y.equid.replace("00000000","")," / ",y.model]}),(0,Ct.jsx)("div",{style:{position:"absolute",right:65,backgroundColor:c,paddingTop:3,borderRadius:5,width:100,height:20,textAlign:"center"},children:(0,Ct.jsx)("p",{style:{margin:0,fontSize:12},children:p.toUpperCase()})})]}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsxs)(Lh,{item:!0,xs:12,sm:12,md:4,lg:4,children:[(0,Ct.jsx)("strong",{children:"Faena:"})," ",(0,Ct.jsx)("br",{}),m]}),(0,Ct.jsxs)(Lh,{item:!0,xs:12,sm:12,md:4,lg:4,children:[(0,Ct.jsx)("strong",{children:"N\xfamero de orden:"})," ",(0,Ct.jsx)("br",{}),h]}),(0,Ct.jsxs)(Lh,{item:!0,xs:12,sm:12,md:4,lg:4,children:[(0,Ct.jsx)("strong",{children:"N\xb0 SAP:"})," ",(0,Ct.jsx)("br",{}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,children:W?(0,Ct.jsx)("input",{onChange:function(e){return X(e.target.value)},value:q}):q||"N/A"}),(o||i)&&(0,Ct.jsx)(Lh,{item:!0,children:W?(0,Ct.jsx)("button",{style:{marginLeft:10},children:(0,Ct.jsx)(Eu,{icon:Ko,onClick:ye})}):(0,Ct.jsx)("button",{style:{marginLeft:10},onClick:ge,children:(0,Ct.jsx)(Eu,{icon:ks})})})]})]})]}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:4,lg:4,children:(0,Ct.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[(0,Ct.jsx)("strong",{children:"Pauta:"})," ",(0,Ct.jsx)("br",{}),f]})}),(0,Ct.jsx)(Lh,{item:!0,xs:12,sm:12,md:4,lg:4,children:(0,Ct.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[(0,Ct.jsx)("strong",{children:"Descripci\xf3n:"})," ",(0,Ct.jsx)("br",{}),b||"Sin descripci\xf3n"]})})]}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,md:6,xs:12,sm:12,lg:4,xl:4,children:(0,Ct.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[(0,Ct.jsx)("label",{children:"Revisores: "}),(0,Ct.jsxs)("p",{children:["Pauta asignada a: ",(0,Ct.jsx)("br",{})," ",(0,Ct.jsx)("b",{children:k||"No encontrado"})]}),(0,Ct.jsxs)("p",{children:["Jefe de turno: ",(0,Ct.jsx)("br",{})," ",(0,Ct.jsx)("b",{children:_.length>1?_:"No encontrado"})]}),(0,Ct.jsxs)("p",{children:["Jefe de maquinaria: ",(0,Ct.jsx)("br",{})," ",(0,Ct.jsx)("b",{children:N.length>1?N:"No encontrado"})]}),(0,Ct.jsxs)("p",{children:["Ejecutivo SAP: ",(0,Ct.jsx)("br",{})," ",(0,Ct.jsx)("b",{children:P.length>1?P:"No encontrado"})]})]})}),(0,Ct.jsx)(Lh,{item:!0,lg:4,xl:4,children:(0,Ct.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[(0,Ct.jsx)("p",{children:"Registro horario: "}),(0,Ct.jsxs)("p",{children:["Creado: ",(0,Ct.jsx)("br",{})," ",(0,Ct.jsx)("b",{children:di(n.createdAt)})]}),(0,Ct.jsxs)("p",{children:["Programado: ",(0,Ct.jsx)("br",{})," ",(0,Ct.jsx)("b",{children:"Sin informaci\xf3n"===di(n.datePrev)?"Faltan datos":di(n.datePrev)})]}),(0,Ct.jsxs)("p",{children:["Inicio: ",(0,Ct.jsx)("br",{})," ",(0,Ct.jsx)("b",{children:"Sin informaci\xf3n"===di(n.dateInit)?"No inicado":di(n.dateInit)})]}),(0,Ct.jsxs)("p",{children:["Finalizado: ",(0,Ct.jsx)("br",{})," ",(0,Ct.jsx)("b",{children:"Sin informaci\xf3n"===di(n.endReport)?"No finalizado":di(n.endReport)})]}),(0,Ct.jsxs)("p",{children:["Aprobado Jefe Turno: ",(0,Ct.jsx)("br",{})," ",(0,Ct.jsx)("b",{children:"Sin informaci\xf3n"===di(n.shiftManagerApprovedDate)?"No cerrado":di(n.shiftManagerApprovedDate)})]}),(0,Ct.jsxs)("p",{children:["Aprobado Jefe maquinaria: ",(0,Ct.jsx)("br",{})," ",(0,Ct.jsx)("b",{children:"Sin informaci\xf3n"===di(n.chiefMachineryApprovedDate)?"No cerrado":di(n.chiefMachineryApprovedDate)})]}),(0,Ct.jsxs)("p",{children:["Cerrado: ",(0,Ct.jsx)("br",{})," ",(0,Ct.jsx)("b",{children:"Sin informaci\xf3n"===di(n.dateClose)?"No cerrado":di(n.dateClose)})]})]})}),(0,Ct.jsx)(Lh,{item:!0,lg:4,xl:4,children:(0,Ct.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[(0,Ct.jsxs)("p",{children:["Tiempo de Desarrollo de OT: ",(0,Ct.jsxs)("b",{children:[isNaN(J)?0:J," d\xedas"]})]}),(0,Ct.jsxs)("p",{children:["Aprobaci\xf3n de supervisor: ",(0,Ct.jsxs)("b",{children:[isNaN(te)?0:te," d\xedas"]})]}),(0,Ct.jsxs)("p",{children:["Aprobaci\xf3n de jefe maquinaria: ",(0,Ct.jsxs)("b",{children:[isNaN(ie)?0:ie," d\xedas"]})]}),(0,Ct.jsxs)("p",{children:["Cierre de la OT: ",(0,Ct.jsxs)("b",{children:[isNaN(ue)?0:ue," d\xedas"]})]}),(0,Ct.jsxs)("p",{children:["Tiempo Total: ",(0,Ct.jsxs)("b",{children:[isNaN(fe)?0:fe," d\xedas"]})]})]})})]}),(0,Ct.jsxs)(Lh,{container:!0,children:[(0,Ct.jsx)(Lh,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:(0,Ct.jsx)("div",{style:{padding:10},children:(0,Ct.jsxs)("button",{style:{height:50,width:"100%",backgroundColor:"green",color:"#fff",fontSize:20},onClick:function(){s(n),me("/assignment/".concat(h))},children:[" ",(0,Ct.jsxs)("strong",{children:[" ",(0,Ct.jsx)(Eu,{icon:Xo})," Revisar OT ",h," "]})," "]})})}),(0,Ct.jsx)(Lh,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:i&&(0,Ct.jsx)("div",{style:{padding:10},children:(0,Ct.jsxs)("button",{style:{height:50,width:"100%",backgroundColor:"red",color:"#fff",fontSize:20},onClick:function(){confirm("Se borrar\xe1 la OT ".concat(n.idIndex,". Su eliminaci\xf3n ser\xe1 permanente. \xbfDesea continuar?"))&&(z(!0),n.deleted=!0,Ii(n).then((function(){z(!1),location.reload()})))},children:[" ",(0,Ct.jsxs)("strong",{children:[" ",(0,Ct.jsx)(Eu,{icon:Ns})," Borrar OT ",h," "]})," "]})})})]}),(0,Ct.jsx)(gy,{onClick:r,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})},eNe=function(e){var t=e.openSign,n=e.setRefCanvasFunction,r=e.getImage,a=e.clear;return(0,Ct.jsx)(dd,{open:t,adaptiveHeight:!0,maxWidth:"xl",children:(0,Ct.jsxs)("div",{style:{width:400,padding:30},children:[(0,Ct.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,Ct.jsx)("h2",{children:"Para continuar deje su firma para la documentaci\xf3n. (Obligatorio)"})}),(0,Ct.jsxs)("div",{style:{width:"100%",textAlign:"center",position:"relative"},children:[(0,Ct.jsx)("div",{style:{position:"absolute",width:"100%",textAlign:"right",marginTop:10,paddingRight:30},children:(0,Ct.jsx)(Eu,{size:"lg",icon:ks,color:"#333"})}),(0,Ct.jsx)(PIe,{disabled:!0,width:300,height:300,setRefCanvas:n})]}),(0,Ct.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[(0,Ct.jsx)("div",{style:{width:"50%",textAlign:"center",float:"left"},children:(0,Ct.jsxs)(Hm,{onClick:function(){return a()},style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:10},children:[(0,Ct.jsx)(Eu,{size:"lg",icon:us,color:"#333",style:{marginRight:10}})," Borrar"]})}),(0,Ct.jsx)("div",{style:{width:"50%",textAlign:"center",float:"right"},children:(0,Ct.jsxs)(Hm,{onClick:function(){return r()},style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:10},children:[(0,Ct.jsx)(Eu,{size:"lg",icon:Es,color:"#333",style:{marginRight:10}})," Guardar"]})})]})]})})},tNe=function(e){var t=e.open,n=e.report,r=e.closeModal,a=e.isTermJornada,i=e.terminarjornada,o=e.messageType,s=cNe().userData,l=(0,T.useState)(""),u=(0,Z.Z)(l,2),c=u[0],d=u[1];(0,T.useEffect)((function(){console.log(n)}),[n]);return(0,Ct.jsx)(dd,{open:t,children:(0,Ct.jsxs)("div",{style:{padding:30,width:600},children:[(0,Ct.jsxs)(Lh,{container:!0,style:{padding:10},children:[(0,Ct.jsxs)("div",{style:{width:"100%"},children:[(0,Ct.jsx)("h1",{children:"Deje un comentario."}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Vh,{"aria-label":"empty textarea",placeholder:"Deje su comentario",minRows:10,maxRows:15,style:{width:"100%",fontSize:18,fontFamily:"Raleway"},value:c,onChange:function(e){d(e.target.value)}})]}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Hm,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){!function(){if(c.length>1){var e=a?"reject-for-end-day":"rejectReport"===o?"reject-to-previous-level":"sending-to-next-level";n.history.push({id:Date.now(),userSendingData:s._id,type:e,message:c}),a?i():r(!0)}else alert("Por favor deje un comentario a la actividad.")}()},children:"Enviar Mensaje"})]}),(0,Ct.jsx)(gy,{onClick:function(){r(!1)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})},nNe=function(e){var t=e.open,n=e.data,r=e.closePreviewModal;return console.log(n),(0,Ct.jsx)(dd,{open:t,children:(0,Ct.jsxs)("div",{style:{width:600,padding:10},children:[(0,Ct.jsx)("div",{children:(0,Ct.jsx)("h2",{children:"Resumen de Insumos y Materiales"})}),(0,Ct.jsx)("div",{style:{height:"calc(100vh - 290px)",overflowY:"auto",borderColor:"#ccc",borderWidth:1,borderStyle:"solid",borderRadius:20,padding:10,marginTop:50},children:0===n.length?(0,Ct.jsx)("div",{children:(0,Ct.jsx)("h3",{children:(0,Ct.jsx)("strong",{children:"OT no registra uso de insumos y materiales para resumir"})})}):n.map((function(e,t){return(0,Ct.jsxs)("div",{style:{width:"100%"},children:[(0,Ct.jsx)("h2",{children:e.nombre}),e.data.map((function(e,t){return(0,Ct.jsxs)("div",{style:{fontSize:16,marginLeft:20,borderBottomColor:"#ccc",borderBottomWidth:1,borderBottomStyle:"solid"},children:[(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:e.taskdesc})}),(0,Ct.jsxs)("p",{children:["Observaci\xf3n:",(0,Ct.jsx)("br",{}),(0,Ct.jsx)("strong",{children:e.obs01})]}),(0,Ct.jsxs)("p",{children:["Unidad de medida: ",(0,Ct.jsx)("strong",{children:e.unidad})]}),(0,Ct.jsxs)("p",{children:["Cantidad proyectada: ",(0,Ct.jsx)("strong",{children:e.cantidad})]}),(0,Ct.jsxs)("p",{children:["Cantidad usada: ",(0,Ct.jsx)("strong",{children:e.unidadData})]}),(0,Ct.jsxs)("p",{children:["Diferencia: ",(0,Ct.jsx)("strong",{children:e.diferencia})]})]},t)}))]},t)}))}),(0,Ct.jsx)(gy,{onClick:r,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})},rNe=function(e){var t=e.open,n=e.close,r=e.report,a=(cNe().userData,(0,T.useState)([])),i=(0,Z.Z)(a,2),o=i[0],s=i[1];return(0,T.useEffect)((function(){r.history.forEach(function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=6;break}return e.next=3,Po(t.userSendingData);case 3:t.name=e.sent,e.next=7;break;case 6:t.name="Sin informaci\xf3n (fuera de red)";case 7:n==r.history.length-1&&s(r.history.sort((function(e,t){return t.id-e.id})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[r]),(0,Ct.jsx)(dd,{open:t,maxWidth:"xl",adaptiveHeight:!0,children:(0,Ct.jsxs)("div",{style:{width:800,padding:10},children:[(0,Ct.jsx)("h1",{children:"Mensajes a las revisiones de la OT"}),(0,Ct.jsxs)("div",{style:{width:"100%",overflowY:"auto",height:"calc(100vh - 300px)"},children:[0==o.length&&(0,Ct.jsx)("p",{children:"No hay mensajes"}),o.length>0&&o.map((function(e,t){return(0,Ct.jsx)("div",{style:{width:"100%",padding:10},children:(0,Ct.jsxs)("div",{style:{borderRadius:20,backgroundColor:"#BE2E26",color:"#FFF",padding:10},children:[(0,Ct.jsx)("p",{style:{fontSize:18},children:(0,Ct.jsx)("strong",{children:e.name})}),(0,Ct.jsx)("p",{style:{fontSize:20},children:e.message}),(0,Ct.jsxs)("p",{style:{fontSize:12},children:["Fecha: ",di(e.id)]})]})},t)}))]}),(0,Ct.jsx)(gy,{onClick:function(){return n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:(0,Ct.jsx)(Gm,{style:{color:"#ccc"}})})]})})},aNe=function(e){var t=e.open,n=e.handleClose,r=e.userData,a=cNe().setUserData,i=(0,T.useState)(),o=(0,Z.Z)(i,2),s=o[0],l=o[1],u=(0,T.useState)(),c=(0,Z.Z)(u,2),d=c[0],h=c[1],f=(0,T.useState)(),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=(0,T.useState)(),y=(0,Z.Z)(g,2),b=y[0],x=y[1];(0,T.useEffect)((function(){r&&(console.log(r),l(r.name),h(r.lastName),v("x@x.xx"===r.email?null:r.email),x(r.phone))}),[r]);var w=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k()){e.next=7;break}return e.next=3,Ti({name:s,lastName:d,email:m,phone:b},r._id);case 3:(t=e.sent)&&(console.log(t),a(t.data),n()),e.next=8;break;case 7:alert("No hay cambios");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){return r.name!==s||(r.lastName!==d||(r.email!==m||r.phone!==b))};return(0,Ct.jsxs)(dd,{open:t,onClose:n,children:[(0,Ct.jsx)(ph,{children:"Editar datos usuario"}),(0,Ct.jsxs)(bh,{children:[(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Am,{onChange:function(e){l(e.target.value)},style:{marginBottom:30},id:"outlined-basic",label:"Nombre",variant:"outlined",value:s}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Am,{onChange:function(e){h(e.target.value)},style:{marginBottom:30},id:"outlined-basic",label:"Apellido",variant:"outlined",value:d}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Am,{onChange:function(e){v(e.target.value)},style:{marginBottom:30},id:"outlined-basic",label:"Email",variant:"outlined",value:m}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Am,{onChange:function(e){x(e.target.value)},style:{marginBottom:30},id:"outlined-basic",label:"Tel\xe9fono",variant:"outlined",value:b}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(Hm,{style:{background:"brown",color:"white",marginBottom:30},fullWidth:!0,onClick:w,children:"Guardar"}),(0,Ct.jsx)(Hm,{style:{background:"red",color:"white"},fullWidth:!0,onClick:n,children:"Cancelar"})]})]})},iNe=(0,T.forwardRef)((function(e,t){return(0,Ct.jsx)(qu,qo({direction:"up",ref:t},e))})),oNe=function(e){var t=e.open,n=e.reports,r=e.handleClose,a=(0,T.useState)([]),i=(0,Z.Z)(a,2),o=i[0],s=i[1],l=(0,T.useState)([]),u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=(0,T.useState)(!1),f=(0,Z.Z)(h,2),p=f[0],m=f[1],v=(0,T.useState)(!1),g=(0,Z.Z)(v,2),y=g[0],b=g[1];(0,T.useEffect)((function(){if(n.length>0){var e=[],t=[];n.forEach((function(n,r){n.description?e.push(n):t.push(n)})),s(e.sort(x)),d(t.sort(x))}}),[n]);var x=function(e,t){return e.idIndex<t.idIndex?1:e.idIndex>t.idIndex?-1:0};return(0,Ct.jsx)(dd,{open:t,TransitionComponent:iNe,onClose:r,children:(0,Ct.jsxs)(vg,{sx:{height:700,width:"100%",position:"relative"},children:[(0,Ct.jsx)(Gm,{onClick:r,style:{position:"absolute",top:10,right:10,cursor:"pointer"}}),(0,Ct.jsxs)("div",{style:{padding:20},children:[(0,Ct.jsx)("h2",{style:{marginTop:15},children:"Resumen de Ordenes de Trabajo"}),(0,Ct.jsxs)("p",{children:[" ",(0,Ct.jsx)("strong",{children:"Total OTs: "})," ",n.length," "]}),(0,Ct.jsxs)("p",{style:{marginBottom:0,cursor:"pointer",width:"100%"},onClick:function(){m(!p)},children:[" ",(0,Ct.jsx)("strong",{children:"OTs Autom\xe1ticos: "})," ",o.length," ",(0,Ct.jsx)(Eu,{style:{marginLeft:10},icon:p?ns:ts})," "]}),(0,Ct.jsx)("p",{style:{margin:0,fontSize:10},children:"OT generadas desde el sistema"}),p&&(0,Ct.jsx)("div",{style:{maxHeight:200,overflowY:"auto",border:"1px solid #ccc",borderRadius:8,padding:10},children:o.map((function(e,t){return(0,Ct.jsxs)("p",{children:["OT ",e.idIndex]},t)}))}),(0,Ct.jsxs)("p",{style:{marginBottom:0,cursor:"pointer"},onClick:function(){b(!y)},children:[" ",(0,Ct.jsx)("strong",{children:"OTs Manuales: "})," ",c.length," ",(0,Ct.jsx)(Eu,{style:{marginLeft:10},icon:y?ns:ts})," "]}),(0,Ct.jsx)("p",{style:{margin:0,fontSize:10},children:"OT generadas por un usuario"}),y&&(0,Ct.jsx)("div",{style:{maxHeight:200,overflowY:"auto",border:"1px solid #ccc",borderRadius:8,padding:10},children:c.map((function(e,t){return(0,Ct.jsxs)("p",{children:["OT ",e.idIndex]},t)}))})]})]})})},sNe=function(e){var t=e.open,n=e.progress,r=e.buffer;return(0,Ct.jsx)(dd,{open:t,children:(0,Ct.jsx)(vg,{sx:{width:300,height:20},children:(0,Ct.jsx)(kEe,{variant:"determinate",value:n,color:"error",style:{height:20},valueBuffer:r})})})},lNe=(0,T.createContext)(),uNe=function(e){var t=(0,T.useState)(!1),n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=(0,T.useState)(JSON.parse(localStorage.getItem("user"))||void 0),o=(0,Z.Z)(i,2),s=o[0],l=o[1],u=(0,T.useState)(!1),c=(0,Z.Z)(u,2),d=c[0],h=c[1],f=(0,T.useState)([]),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=(0,T.useState)(),y=(0,Z.Z)(g,2),b=y[0],x=y[1],w=(0,T.useState)(!1),k=(0,Z.Z)(w,2),S=k[0],E=k[1],C=(0,T.useState)(!1),_=(0,Z.Z)(C,2),M=_[0],A=_[1],I=(0,T.useState)(!1),N=(0,Z.Z)(I,2),R=N[0],O=N[1],D=(0,T.useState)(!1),P=(0,Z.Z)(D,2),L=P[0],F=P[1],j=(0,T.useState)(),z=(0,Z.Z)(j,2),B=z[0],U=z[1],W=(0,T.useState)(!1),V=(0,Z.Z)(W,2),H=V[0],G=V[1],q=(0,T.useState)([]),X=(0,Z.Z)(q,2),Y=X[0],K=X[1],J=Ze();(0,T.useEffect)((function(){"true"===window.localStorage.getItem("isauthenticated")&&a(!0)}),[]),(0,T.useEffect)((function(){r?(Notification.requestPermission().then((function(e){})),s||ee()):So.borrarDb()}),[r]),(0,T.useEffect)((function(){r&&s&&$()}),[r,s]),(0,T.useEffect)((function(){if(0===Y.length&&localStorage.getItem("unidades")){var e=JSON.parse(localStorage.getItem("unidades"));K(e)}}),[Y]);var $=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo();case 2:t=e.sent,localStorage.setItem("unidades",JSON.stringify(t.data.unidades)),t.data.state&&K(t.data.unidades);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,T.useEffect)((function(){if(s){if((!s.sign||s.sign.length<1)&&setTimeout((function(){G(!0)}),500),s.roles.length>0){s.roles.forEach((function(e){"admin"===e||"superAdmin"===e?(localStorage.setItem("isAdmin",!0),h(!0)):"inspectionWorker"===e||"maintenceOperator"===e?(localStorage.setItem("isOperator",!0),E(!0)):"sapExecutive"===e?(localStorage.setItem("isSapExecutive",!0),A(!0)):"shiftManager"===e?(localStorage.setItem("isShiftManager",!0),O(!0)):"chiefMachinery"===e?(localStorage.setItem("isChiefMachinery",!0),F(!0)):(localStorage.setItem("isAdmin",!1),h(!1))}))}}else ee();s&&s.obras.length>0&&(x(s.obras[0]),window.localStorage.setItem("sitio",JSON.stringify(s.obras[0])))}),[s]);var Q=function(){var e=mo(fo().mark((function e(t){var n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do.initDb();case 2:return n=e.sent,r=n.database,e.next=6,Do.actualizar(t,r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("obteniendo datos de usuario desde base de datos"),e.next=3,Do.initDb();case 3:return t=e.sent,n=t.database,e.next=7,Do.consultar(n);case 7:r=e.sent,l(r[0]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te={userData:s,setUserData:l,isAuthenticated:r,admin:d,roles:m,site:b,setSite:x,isOperator:S,isSapExecutive:M,isShiftManager:R,isChiefMachinery:L,loginRut:function(e,t){return new Promise((function(n){mi(e,t).then(function(){var e=mo(fo().mark((function e(t){var r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.data,t.data.enabled?(v(r.roles),l(r),localStorage.setItem("user",JSON.stringify(r)),r.role&&r.role.length>0&&("admin"===r.role||"superAdmin"===r.role?(localStorage.setItem("isAdmin",!0),h(!0)):(localStorage.setItem("isAdmin",!1),h(!1))),localStorage.setItem("isauthenticated",!0),n({state:!0,response:t}),a(!0)):"usuario no encontrado"===t.data.message?(localStorage.setItem("isauthenticated",!1),a(!1),alert("Usuario no encontrado."),n({state:!1})):(localStorage.setItem("isauthenticated",!1),a(!1),alert("Su cuenta no est\xe1 habilitada, debe confirmarla."),n({state:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){localStorage.setItem("isauthenticated",!1),alert(JSON.stringify(e).includes("400")?"Contrase\xf1a incorrecta":"Error de autenticaci\xf3n: "+e),a(!1)}))}))},login:function(e,t){return new Promise((function(n){pi(e,t).then(function(){var e=mo(fo().mark((function e(t){var r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.data,t.data.enabled?(v(r.roles),l(r),localStorage.setItem("user",JSON.stringify(r)),r.role&&r.role.length>0&&("admin"===r.role||"superAdmin"===r.role?(localStorage.setItem("isAdmin",!0),h(!0)):(localStorage.setItem("isAdmin",!1),h(!1))),localStorage.setItem("isauthenticated",!0),n({state:!0,response:t}),a(!0)):"usuario no encontrado"===t.data.message?(localStorage.setItem("isauthenticated",!1),a(!1),alert("Usuario no encontrado."),n({state:!1})):(localStorage.setItem("isauthenticated",!1),a(!1),alert("Su cuenta no est\xe1 habilitada, debe confirmarla."),n({state:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){localStorage.setItem("isauthenticated",!1),alert(JSON.stringify(e).includes("400")?"Contrase\xf1a incorrecta":"Error de autenticaci\xf3n: "+e),a(!1)}))}))},logout:function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:confirm("Confirme salida de la aplicaci\xf3n. Para volver a iniciar sesi\xf3n requiere contar con internet para validar las credenciales.")&&setTimeout((function(){window.localStorage.clear(),J("/",{replace:!0}),a(!1),go.borrarDb()}),500);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),unidades:Y};return(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)(lNe.Provider,qo({value:te},e)),(0,Ct.jsx)(eNe,{openSign:H,setRefCanvasFunction:function(e){U(e)},getImage:function(){Ti({sign:B.toDataURL()},s._id).then(mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=s).sign=B.toDataURL(),l(t),Q(t),localStorage.setItem("user",JSON.stringify(t)),G(!1),alert("Muchas gracias. Su firma ha sido actualizada.");case 7:case"end":return e.stop()}}),e)}))))},clear:function(){B.clear()}})]})},cNe=function(){return(0,T.useContext)(lNe)},dNe={en:JSON.parse('{"login":{"rutField":"Rut","emailField":"E-mail","passwordField":"Password","loginButton":"Login","forgotPasswordText":"Forgot password.","forgotPasswordLink":"Click here."},"restorePassword":{"passwordField":"Password","confirmPasswordField":"Confirm Password","button":"Change Password","cancel":"Cancel"},"welcome":{"inspectionButton":"Inspection","assignmentButton":"Assignment","machinesButton":"M\xe1quinas","maintenanceButton":"Maintenance","reportsButton":"Reports","configurationButton":"Configuration"},"machines":{"title":"Select machine type"},"location":{"start":"Start","inspection":"Inspection","maintenance":"Maintenance","reports":"Reports","configuration":"Configuration"},"components":{"fields":{"filter":"Search"}}}'),es:JSON.parse('{"login":{"rutField":"Rut","emailField":"E-mail","passwordField":"Contrase\xf1a","loginButton":"Ingresar","forgotPasswordText":"Olvid\xe9 mi contrase\xf1a.","forgotPasswordLink":"Click aqu\xed."},"restorePassword":{"passwordField":"Ingrese Contrase\xf1a","confirmPasswordField":"Confirme Contrase\xf1a","button":"Cambiar contrase\xf1a","cancel":"Cancelar"},"welcome":{"inspectionButton":"Inspecci\xf3n","assignmentButton":"Asignaciones","machinesButton":"M\xe1quinas","maintenanceButton":"Mantenci\xf3n","reportsButton":"Reportes","configurationButton":"Configuraci\xf3n","administrationButton":"Administraci\xf3n"},"admin":{"adminUsersButton":"Usuarios","machinesAdmin":"M\xe1quinas"},"roles":{"rolesUsersButton":"Roles"},"patterns":{"patternsButton":"Pautas"},"news":{"newsButton":"Noticias"},"calendar":{"calendarButton":"Calendario"},"machines":{"title":"Selecciona tipo de m\xe1quina"},"location":{"start":"Inicio","inspection":"Inspecci\xf3n","maintenance":"Mantenci\xf3n","reports":"Reportes","configuration":"Configuraci\xf3n"},"components":{"fields":{"filter":"Buscar"}}}')},hNe={en:"English",es:"Espa\xf1ol"},fNe=(0,T.createContext)({userLanguage:"es",dictionary:dNe.es,languageOptions:hNe}),pNe=function(e){var t=window.localStorage.getItem("rcml-lang"),n=(0,T.useState)(t||"es"),r=(0,Z.Z)(n,2),a=r[0],i=r[1],o={userLanguage:a,dictionary:dNe[a],languageOptions:hNe,userLanguageChange:function(e){var t=hNe[e]?e:"es";i(t),window.localStorage.setItem("rcml-lang",t)}};return(0,Ct.jsx)(fNe.Provider,qo({value:o},e))},mNe=function(){return(0,T.useContext)(fNe)},vNe=(0,T.createContext)(),gNe=function(e){var t=(0,T.useState)(!1),n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=(0,T.useState)(""),o=(0,Z.Z)(i,2),s=o[0],l=o[1],u=Ue();(0,T.useEffect)((function(){var e,t=null===u||void 0===u||null===(e=u.pathname)||void 0===e?void 0:e.split("/")[1];l(t)}),[u]);var c={locationData:s,navBarOpen:r,handleNavBar:function(){return a(!r)}};return(0,Ct.jsx)(vNe.Provider,qo({value:c},e))},yNe=function(){return(0,T.useContext)(vNe)},bNe=(0,T.createContext)(),xNe=function(e){var t=(0,T.useState)(!0),n=(0,Z.Z)(t,2),r=n[0],a=n[1];(0,T.useEffect)((function(){window.addEventListener("online",(function(){a(!0)})),window.addEventListener("offline",(function(){a(!1)}))}),[]);var i={isOnline:r};return(0,Ct.jsx)(bNe.Provider,qo({value:i},e))},wNe=function(){return(0,T.useContext)(bNe)},kNe=(0,T.createContext)(),SNe=function(e){var t=wNe().isOnline,n=cNe(),r=n.admin,a=n.isSapExecutive,i=n.isShiftManager,o=n.isChiefMachinery,s=(n.roles,n.site),l=n.isOperator,u=n.isAuthenticated,c=n.userData,d=(0,T.useState)([]),h=(0,Z.Z)(d,2),f=h[0],p=h[1],m=(0,T.useState)([]),v=(0,Z.Z)(m,2),g=v[0],y=v[1],b=(0,T.useState)([]),x=(0,Z.Z)(b,2),w=x[0],k=x[1],S=(0,T.useState)([]),E=(0,Z.Z)(S,2),C=E[0],M=E[1],A=(0,T.useState)([]),I=(0,Z.Z)(A,2),N=I[0],R=I[1],O=(0,T.useState)([]),D=(0,Z.Z)(O,2),P=D[0],L=D[1],F=(0,T.useState)([]),j=(0,Z.Z)(F,2),z=j[0],B=j[1],U=(0,T.useState)([]),W=(0,Z.Z)(U,2),V=W[0],H=W[1],G=(0,T.useState)(!1),q=(0,Z.Z)(G,2),X=q[0],Y=q[1],K=(0,T.useState)([]),J=(0,Z.Z)(K,2),$=J[0],Q=J[1],ee=(0,T.useState)([]),te=(0,Z.Z)(ee,2),ne=te[0],re=te[1],ae=(0,T.useState)("Descargando reportes"),ie=(0,Z.Z)(ae,2),oe=ie[0],se=ie[1],le=(0,T.useState)(!1),ue=(0,Z.Z)(le,2),ce=ue[0],de=ue[1],he=(0,T.useState)(!0),fe=(0,Z.Z)(he,2),pe=fe[0],me=fe[1],ve=(0,T.useState)(),ge=(0,Z.Z)(ve,2),ye=ge[0],be=(ge[1],(0,T.useState)()),xe=(0,Z.Z)(be,2),we=xe[0],ke=xe[1],Se=Ze();(0,T.useEffect)((function(){if(console.log(we),we&&"none"===we)p(g);else if(we&&"none"!==we){console.log(g.filter((function(e){if(e.site===we)return!0})));var e=g.filter((function(e){if(e.site===we)return!0}));p(e)}}),[we]),(0,T.useEffect)((function(){if(ye){var e=(0,_.Z)(f),t=null;e.forEach((function(n,r){n._id===ye._id&&(t=r),r===e.length-1&&(null===t?e.push(ye):e[t]=ye,p(e),y(e))}))}}),[ye]),(0,T.useEffect)((function(){c&&u&&Ee()}),[c,t,u]);var Te=function(e){Le()},Ee=function(){var e=mo(fo().mark((function e(){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ag(c,Te),rg(c,Ce);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(e){F3()({icon:P3,title:e.title,subtitle:e.subtitle,message:e.message,theme:"red",native:!0}),e.report&&Le()};(0,T.useEffect)((function(){if(f.length>0){0===g.length&&y(f);var e=[];f.forEach((function(t){e.push({_id:t._id,idIndex:t.idIndex,dateInit:t.dateInit,datePrev:t.datePrev,isAutomatic:t.isAutomatic,guide:t.guide,equ:t.machineData.equ})})),k(e),Oe(),M(f)}else u&&!we&&(se("Descargando recursos"),Re(),M([]),k([]))}),[f,u]),(0,T.useEffect)((function(){u&&(pe?(Oe(),me(!1)):B(V))}),[pe,u]),(0,T.useEffect)((function(){t||me(!0)}),[t]),(0,T.useEffect)((function(){z.length>0&&u&&(se("Guardando pautas"),Ie())}),[z,u]);var _e=function(){var e=mo(fo().mark((function e(t){var n,r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se("Guardando reportes"),n=(0,_.Z)(f),e.next=4,Ni(t);case 4:r=e.sent,a=r.data,i=n.find((function(e,t){if(e._id===a._id)return t})),n[i]=a,p(n),y(n),alert("reporte asignado"),Y(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=mo(fo().mark((function e(t,n){var r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),r=(0,_.Z)(f),e.next=4,Ai(t);case 4:a=e.sent,i=a.data,r.push(i),p(r),y(r),alert("Reporte ".concat(i.idIndex,", para m\xe1quina modelo ").concat(i.machine," creado satisfactoriamente.")),n(!1),Se("/reports",{replace:!0});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(){var e=mo(fo().mark((function e(t){var n,r,a,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se("Guardando reportes"),n=(0,_.Z)(f),e.next=4,Ni(t);case 4:r=e.sent,a=r.data,i=n.find((function(e,t){if(e._id===a._id)return t})),n[i]=a,p(n),y(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=mo(fo().mark((function e(){var t,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go.initDbPMs();case 2:t=e.sent,n=t.database,0,Ne(z,0,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=mo(fo().mark((function e(t,n,r){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length!==n){e.next=5;break}console.log("IndexedDB Pautas listas"),se(""),e.next=9;break;case 5:return e.next=7,go.actualizar(t[n],r);case 7:e.sent.state,Ne(t,n+=1,r);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Re=function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se("Descargando recursos"),e.next=3,To();case 3:return t=e.sent,n=t.database,e.next=7,_o(n);case 7:(r=e.sent).length>0?(p(r),y(g)):se("");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,T.useEffect)((function(){if(se("Guardando asignaciones"),z.length>0)if(C.length>0){if(i){var e=[],t=[];C.forEach((function(n,r){"Pauta de Inspecci\xf3n"===n.guide?n._guide="PI":n._guide=n.guide,1===n.level?(n.isPrioritary=!0,e.push(n)):(n.isPrioritary=!1,t.push(n))})),Q(e.filter((function(e){return 4===e.level?null:e}))),re(t)}else if(o){var n=[],s=[];C.forEach((function(e,t){"Pauta de Inspecci\xf3n"===e.guide?e._guide="PI":e._guide=e.guide,2===e.level?(e.isPrioritary=!0,n.push(e)):(e.isPrioritary=!1,s.push(e))})),Q(n.filter((function(e){return 4===e.level?null:e}))),re(s.filter((function(e){return 4===e.level?null:e})))}else if(l||r||a){C.forEach((function(e,t){"Pauta de Inspecci\xf3n"===e.guide?e._guide="PI":e._guide=e.guide}));var u=C.filter((function(e){return 4===e.level?null:e}));Q(u)}}else Q([]),re([]);De()}),[C,z]),(0,T.useEffect)((function(){u&&s&&(se("Descargando reportes"),(r||l||a||i||o)&&c&&Le())}),[r,l,a,i,o,t,u,s,c]);var Oe=function(){var e=mo(fo().mark((function e(){var t,n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se("Descargando pautas"),e.next=3,go.initDbPMs();case 3:return t=e.sent,n=t.database,e.next=7,go.consultar(n);case 7:if(!((r=e.sent).length>0)){e.next=13;break}B(r),H(r),e.next=19;break;case 13:return console.log("Se descargan pautas"),e.next=16,$i();case 16:a=e.sent,B(a.data),H(a.data);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=mo(fo().mark((function e(){var t,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se("Actualizando OTs"),e.next=3,To();case 3:return t=e.sent,n=t.database,C.forEach(function(){var e=mo(fo().mark((function e(t,r){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eo(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=8,_o(n);case 8:e.sent.forEach(function(){var e=mo(fo().mark((function e(t){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==C.filter((function(e){if(t.idIndex===e.idIndex)return e})).length){e.next=4;break}return e.next=4,Co(t.idIndex,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),se(""),Y(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,To();case 2:return t=e.sent,n=t.database,e.next=6,_o(n);case 6:r=e.sent,p(r),y(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=mo(fo().mark((function e(){var n,u,d,h;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Sincronizando reportes"),se("Sincronizando reportes"),p([]),de(!0),console.log(t),!t){e.next=44;break}if(console.log(r),!r){e.next=17;break}return e.next=10,Oi();case 10:n=e.sent,console.log("Reportes: ",n.data),p(n.data),y(n.data),de(!1),e.next=42;break;case 17:if(!l||a||i||o){e.next=26;break}return e.next=20,Pi(c._id,s.idobra);case 20:u=e.sent,p(u.data),y(u.data),de(!1),e.next=42;break;case 26:if(!l||!(a||i||o)){e.next=35;break}return e.next=29,Di(s.idobra);case 29:d=e.sent,p(d.data),y(d.data),de(!1),e.next=42;break;case 35:if(!(a||i||o)){e.next=42;break}return e.next=38,Di(s.idobra);case 38:h=e.sent,p(h.data),y(h.data),de(!1);case 42:e.next=46;break;case 44:Pe(),de(!1);case 46:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe={reports:f,setReports:p,assignments:C,listSelected:N,listSelectedCache:P,setListSelected:R,setListSelectedCache:L,loading:X,pautas:z,priorityAssignments:$,normalAssignments:ne,saveReport:_e,saveReportToData:Ae,getReports:Le,getReportsOffline:function(){Pe()},message:oe,setMessage:se,statusReports:ce,setStatusReports:de,createReport:Me,reportsResume:w,setSiteSelected:ke,siteSelected:we};return(0,Ct.jsx)(Ct.Fragment,{children:(0,Ct.jsx)(kNe.Provider,qo({value:Fe},e))})},TNe=function(){return(0,T.useContext)(kNe)},ENe=(0,T.createContext)(),CNe=function(e){var t=cNe(),n=t.isOperator,r=t.userData,a=wNe().isOnline,i=(0,T.useContext)(kNe),o=i.reports,s=i.setMessage,l=(0,T.useState)(),u=(0,Z.Z)(l,2),c=u[0],d=u[1],h=(0,T.useState)(),f=(0,Z.Z)(h,2),p=f[0],m=f[1],v=(0,T.useState)(),g=(0,Z.Z)(v,2),y=g[0],b=g[1],x=(0,T.useState)(),w=(0,Z.Z)(x,2),k=w[0],S=w[1],E=(0,T.useState)(),C=(0,Z.Z)(E,2),M=C[0],A=C[1],I=(0,T.useState)(),N=(0,Z.Z)(I,2),R=N[0],O=N[1],D=(0,T.useState)(!0),P=(0,Z.Z)(D,2),L=P[0],F=P[1],j=(0,T.useState)(0),z=(0,Z.Z)(j,2),B=z[0],U=z[1],W=(0,T.useState)(0),V=(0,Z.Z)(W,2),H=V[0],G=V[1],q=(0,T.useState)(!1),X=(0,Z.Z)(q,2),Y=X[0],K=X[1],J=(0,T.useState)(""),$=(0,Z.Z)(J,2),Q=($[0],$[1]),ee=(0,T.useState)(!0),te=(0,Z.Z)(ee,2),ne=te[0],re=te[1],ae=(0,T.useState)(!1),ie=(0,Z.Z)(ae,2),oe=ie[0],se=ie[1],le=(0,T.useState)(0),ue=(0,Z.Z)(le,2),ce=ue[0],de=ue[1],he=(0,T.useState)(""),fe=(0,Z.Z)(he,2),pe=fe[0],me=fe[1],ve=Ue();(0,T.useEffect)((function(){oe||de(0)}),[oe]),(0,T.useEffect)((function(){ve.pathname.includes("assignment/")||(console.log("Borrado"),re(!0),m(void 0),d(void 0),b(void 0),S(void 0),A(void 0),O(void 0),F(!0))}),[ve]),(0,T.useEffect)((function(){p&&ge()}),[p]);var ge=function(){var e=mo(fo().mark((function e(){var t,n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo();case 2:return t=e.sent,n=t.database,e.next=6,Ao(p,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,T.useEffect)((function(){if(c){b(c._id),S(c.idIndex),A(c.sapId),O(c.machine),F(c.testMode),s("Buscando Pauta");try{be()}catch(e){}}}),[c]),(0,T.useEffect)((function(){k&&ye()}),[k]);var ye=function(){try{console.log("Obteniendo reporte");var e=o.filter((function(e){if(e.idIndex===Number(k))return e}));d(e[0])}catch(t){console.log(t)}},be=function(){var e=mo(fo().mark((function e(){var t,i,o,l,u,d,h,f,p,v,g;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Buscando Pauta"),m(void 0),me("Buscando Pauta"),n||!a){e.next=14;break}return me("Descargando Pauta"),se(!0),e.next=8,ji(c._id,de);case 8:t=e.sent,se(!1),console.log(t),setTimeout((function(){t.data.data?m(t.data.data):(s("OT no iniciado"),re(!1)),K(!1),setTimeout((function(){s("")}),500)}),1500),e.next=53;break;case 14:if(!n||!a){e.next=42;break}return e.next=17,Mo();case 17:return i=e.sent,o=i.database,e.next=21,Io(o);case 21:if(l=e.sent,!((u=l.filter((function(e){if(e.reportId===c._id)return e}))).length>0)){e.next=33;break}return se(!0),e.next=27,ji(c._id,de);case 27:d=e.sent,console.log(d),se(!1),setTimeout((function(){u[0].offLineGuard>d.data.data.offLineGuard?m(u[0]):m(d.data.data),me("")}),500),e.next=40;break;case 33:return se(!0),e.next=36,ji(c._id,de);case 36:h=e.sent,se(!1),setTimeout(mo(fo().mark((function e(){var t,n,a,i,l,u;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(h),!h.data.state){e.next=6;break}m(h.data.data),me(""),e.next=39;break;case 6:if(!c||!c.usersAssigned[0]){e.next=37;break}if(c.usersAssigned[0]._id!==r._id){e.next=37;break}return me("Guardando pauta de OT "+c.idIndex),e.next=11,go.initDbPMs();case 11:return t=e.sent,s("Guardando pauta de OT "+c.idIndex),e.next=15,go.consultar(t.database);case 15:if(n=e.sent,console.log(n),!((a=n.filter((function(e){if(console.log(e.typepm,c.guide),console.log(e.idpm,c.idPm),e.typepm===c.guide&&c.idPm===e.idpm)return e}))).length>0)){e.next=36;break}return e.next=21,a[0].struct.reduce((function(e,t){return e[t.strpmdesc]=[].concat((0,_.Z)(e[t.strpmdesc]||[]),[t]),e}),{});case 21:return i=e.sent,l={reportId:c._id,createdBy:r._id,group:i,offLineGuard:null},e.next=25,Bi(l);case 25:return u=e.sent,e.next=28,Ao(u.data.data,o);case 28:if(m(u.data.data),c.dateInit){e.next=34;break}return c.dateInit=new Date,e.next=33,Ni(c);case 33:me("");case 34:e.next=37;break;case 36:me(c.idPm+" para "+c.guide+" no encontrado en bases de datos. \n Contacte al administrador de sistema.");case 37:s("No se logra descargar ejecuci\xf3n de datos."),setTimeout((function(){s("")}),1e3);case 39:case"end":return e.stop()}}),e)}))),500),setTimeout((function(){s("")}),1e3);case 40:e.next=53;break;case 42:if(!n||a){e.next=53;break}return e.next=45,Mo();case 45:return f=e.sent,p=f.database,e.next=49,Io(p);case 49:v=e.sent,(g=v.filter((function(e){if(e.reportId===c._id)return e}))).length>0&&m(g[0]),setTimeout((function(){s("")}),1e3);case 53:s("");case 54:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe={report:c,setReport:d,executionReport:p,setExecutionReport:m,reportId:y,sapId:M,serieEquipo:R,modoTest:L,avanceHoja:B,avanceTotal:H,otIndex:k,setAvanceHoja:U,setAvanceTotal:G,loading:Y,setLoading:K,setOtIndex:S,setLoadingMessage:Q,reporteIniciado:ne,messageOnReport:pe};return(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)(sNe,{open:oe,progress:ce}),(0,Ct.jsx)(ENe.Provider,qo({value:xe},e))]})},_Ne=function(){return(0,T.useContext)(ENe)},MNe=(0,T.createContext)(),ANe=function(e){var t=(0,T.useState)([]),n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=(0,T.useState)(!1),o=(0,Z.Z)(i,2),s=o[0],l=o[1],u={rut:"",name:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",sites:"",obras:[],roles:[],isTest:!1},c=Ue(),d=(0,T.useState)({rut:"",name:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",sites:"",obras:[],roles:[],isTest:!1}),h=(0,Z.Z)(d,2),f=h[0],p=h[1];(0,T.useEffect)((function(){"/new-users"===c.pathname||p(u)}),[c]),(0,T.useEffect)((function(){if(s){var e=[];r.forEach((function(t){t.selected&&e.push(t.dbName)})),p(qo(qo({},f),{},{roles:e})),l(!1)}}),[s]),(0,T.useEffect)((function(){if(r){var e=[];r.forEach((function(t){t.selected&&e.push(t.dbName)})),f.roles=e,p(qo(qo({},f),{},{roles:e})),l(!1)}}),[r]);var m={userData:f,setUserData:p,rolesListSelectionCache:r,setRolesListSelectionCache:a,setChangeModule:l};return(0,Ct.jsx)(MNe.Provider,qo({value:m},e))},INe=(0,T.createContext)(),NNe=function(e){var t=(0,T.useState)(""),n=(0,Z.Z)(t,2),r=n[0],a=n[1],i=(0,T.useState)(""),o=(0,Z.Z)(i,2),s=o[0],l=o[1];(0,T.useEffect)((function(){a("".concat(u((new Date).getDay())," ").concat((new Date).toLocaleDateString()));var e=setInterval((function(){l(function(e){var t,n=new Date(e).getMinutes().toLocaleString("es-CL"),r=new Date(e).getHours().toLocaleString("es-CL");return t=n<10?"0"+n:n,"".concat(r<10?"0"+r:r,":").concat(t)}(Date.now()))}),100);return function(){return clearInterval(e)}}),[]);var u=function(e){return 0===e?"Dom":1===e?"Lun":2===e?"Mar":3===e?"Mie":4===e?"Jue":5===e?"Vie":6===e?"Sab":void 0},c={date:r,hour:s,traduceDia:u};return(0,Ct.jsx)(INe.Provider,qo({value:c},e))},RNe=function(){return(0,T.useContext)(INe)},ONe=(0,T.createContext)(),DNe=function(e){var t=cNe(),n=t.isAuthenticated,r=t.site,a=t.admin,i=(0,T.useState)([]),o=(0,Z.Z)(i,2),s=o[0],l=o[1],u=(0,T.useState)([]),c=(0,Z.Z)(u,2),d=c[0],h=c[1],f=(0,T.useState)(),p=(0,Z.Z)(f,2),m=p[0],v=p[1],g=(0,T.useState)([]),y=(0,Z.Z)(g,2),b=y[0],x=y[1],w=(0,T.useState)([]),k=(0,Z.Z)(w,2),S=k[0],E=k[1],C=(0,T.useState)([]),M=(0,Z.Z)(C,2),A=M[0],I=M[1],N=wNe().isOnline;(0,T.useEffect)((function(){n&&(N?(U(),P(),L(),F()):(console.log("Machines offline"),B()))}),[n,N]),(0,T.useEffect)((function(){s.length>0&&(console.log(s),N?r&&j():z())}),[s,N,r]);var R=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fo(t);case 2:return n=e.sent,P(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(t);case 2:return n=e.sent,L(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=mo(fo().mark((function e(t,n){var r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(t,n);case 2:return r=e.sent,F(),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo();case 2:t=e.sent,x(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uo();case 2:t=e.sent,E(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo();case 2:t=e.sent,I(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=mo(fo().mark((function e(){var t,n,i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||a){e.next=4;break}return e.next=3,xi(r.idobra);case 3:t=e.sent;case 4:if(!a){e.next=8;break}return e.next=7,bi();case 7:t=e.sent;case 8:return e.next=10,So.initDbMachines();case 10:n=e.sent,i=n.database,t.data.forEach(function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=n,e.next=3,So.actualizar(t,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h(t.data);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,So.initDbMachines();case 2:return t=e.sent,n=t.database,e.next=6,So.consultar(n);case 6:r=e.sent,h(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ho.initDbMachines();case 2:return t=e.sent,n=t.database,e.next=6,ho.consultar(n);case 6:r=e.sent,l(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=mo(fo().mark((function e(){var t,n,r,a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi();case 2:return t=e.sent,e.next=5,ho.initDbMachines();case 5:n=e.sent,r=n.database,console.log(t.data.data),(a=(0,_.Z)(t.data.data)).forEach(function(){var e=mo(fo().mark((function e(t,n){var a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.id=n,(a=new XMLHttpRequest).onload=mo(fo().mark((function e(){var i;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=new FileReader).onload=mo(fo().mark((function e(){var a;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:n,data:i.result.replace("data:","")},t.image=a,e.next=4,ho.actualizar(t,r);case 4:case"end":return e.stop()}}),e)}))),i.readAsDataURL(a.response);case 3:case"end":return e.stop()}}),e)}))),a.open("GET",t.urlImagen),a.responseType="blob",a.send();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),l(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=mo(fo().mark((function e(t){var n;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.type){e.next=16;break}if(!t.brand){e.next=13;break}if(!t.model){e.next=10;break}return e.next=5,Zo(t);case 5:return n=e.sent,U(),e.abrupt("return",n);case 10:alert("Falta Modelo de Equipo");case 11:e.next=14;break;case 13:alert("Falta Marca de Equipo");case 14:e.next=17;break;case 16:alert("Falta Tipo de Equipo");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V={setMachines:l,machines:s,machinesBySite:d,machineSelected:m,setMachineSelected:v,nuevaMaquina:W,tipoMaquinas:b,sumarTipoMaquina:R,marcasMaquinas:S,sumarMarcaMaquina:O,modelosMaquinas:A,sumarModeloMaquina:D};return(0,Ct.jsx)(ONe.Provider,qo({value:V},e))},PNe=function(){return(0,T.useContext)(ONe)},LNe=(0,T.createContext)(),FNe=function(e){var t=cNe(),n=t.isAuthenticated,r=t.admin,a=t.userData,i=t.site,o=(0,T.useState)([]),s=(0,Z.Z)(o,2),l=s[0],u=s[1],c=(0,T.useState)([]),d=(0,Z.Z)(c,2),h=d[0],f=d[1],p=(0,T.useState)([]),m=(0,Z.Z)(p,2),v=m[0],g=m[1],y=(0,T.useState)([]),b=(0,Z.Z)(y,2),x=b[0],w=b[1];(0,T.useEffect)((function(){n&&k()}),[n]),(0,T.useEffect)((function(){if(!r&&l.length>0&&i){var e=l.filter((function(e){if(e.obras[0]&&e.obras[0].idobra===i.idobra)return e}));f(e)}}),[l,i]),(0,T.useEffect)((function(){var e=[],t=[];(r&&l.length>0||h.length>0)&&((r?l:h).forEach((function(n){n.roles.forEach((function(r){"inspectionWorker"===r&&e.push(n),"maintenceOperator"===r&&t.push(n)}))})),g(e),w(t))}),[h,r,l]);var k=function(){var e=mo(fo().mark((function e(){var t;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei(r,!!a&&a.isTest);case 2:t=e.sent,u(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S={users:l,setUsers:u,getUsers:k,usersFilteredBySite:h,inspectors:v,maitenances:x};return(0,Ct.jsx)(LNe.Provider,qo({value:S},e))},jNe=function(){return(0,T.useContext)(LNe)},zNe=(0,T.createContext)(),BNe=function(e){var t=cNe().isAuthenticated,n=wNe().isOnline,r=(0,T.useState)([]),a=(0,Z.Z)(r,2),i=a[0],o=a[1],s=(0,T.useState)([]),l=(0,Z.Z)(s,2),u=l[0],c=l[1],d=(0,T.useState)(),h=(0,Z.Z)(d,2),f=h[0],p=h[1];(0,T.useEffect)((function(){t&&(n?m():g())}),[t]),(0,T.useEffect)((function(){if(i.length>0){var e=[];i.forEach((function(t){t.status&&e.push(t)})),c(e)}}),[i]);var m=function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to();case 2:return t=e.sent,e.next=5,bo.initDbObras();case 5:n=e.sent,r=n.database,t.data.data.forEach(function(){var e=mo(fo().mark((function e(t,n){return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=n,e.next=3,bo.actualizar(t,r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),o(t.data.data.sort(v));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e,t){return e.descripcion>t.descripcion?1:e.descripcion<t.descripcion?-1:0},g=function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bo.initDbObras();case 2:return t=e.sent,n=t.database,e.next=6,bo.consultar(n);case 6:r=e.sent,o(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y={sites:i,siteSelected:f,setSiteSelected:p,sitesToSelection:u};return(0,Ct.jsx)(zNe.Provider,qo({value:y},e))},UNe=function(){return(0,T.useContext)(zNe)},WNe=(0,T.createContext)(),ZNe=function(e){var t=cNe().isAuthenticated,n=(0,T.useState)(""),r=(0,Z.Z)(n,2),a=r[0],i=r[1],o=(0,T.useState)(0),s=(0,Z.Z)(o,2),l=s[0],u=s[1],c=(0,T.useState)(!1),d=(0,Z.Z)(c,2),h=d[0],f=d[1],p=(0,T.useState)(!1),m=(0,Z.Z)(p,2),v=m[0],g=m[1],y=(0,T.useState)(!1),b=(0,Z.Z)(y,2),x=b[0],w=b[1],k=(0,T.useState)([]),S=(0,Z.Z)(k,2),E=(S[0],S[1]);(0,T.useEffect)((function(){t&&_()}),[t]);var C=function(){var e=mo(fo().mark((function e(t,n,r){var a,o,s,l,c,d,h,p,m,v,y;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i("Modelos 3D deber\xe1n ser descargados."),a=Number(t),new Array,a!==n.length){e.next=8;break}setTimeout((function(){u(100),i("Recursos descargados"),w(!0),setTimeout((function(){f(!1),localStorage.setItem("isLoading3D","nok"),setTimeout((function(){localStorage.getItem("version")||(g(!0),localStorage.setItem("version",li.version))}),500)}),1e3)}),1e3),e.next=19;break;case 8:return o=n[a],s=o.model,l=o.brand,c=o.type,d=o.name,i("Descargando modelo 3D de ".concat(d,", ").concat(l," ").concat(s)),e.next=12,fetch("".concat(li.storageURL).concat(n[a].url));case 12:h=e.sent,p=h.body.getReader(),m=+h.headers.get("Content-Length"),v=0,y=[],u(0),setTimeout(mo(fo().mark((function e(){var t,i,o,h,f,g,b,x,w;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,p.read();case 3:if(!(t=e.sent).done){e.next=22;break}for(i=new Uint8Array(v),o=0,h=0,f=y;h<f.length;h++)g=f[h],i.set(g,o),o+=g.length;if(b=new TextDecoder("utf-8"),x=b.decode(i),!r){e.next=21;break}return e.next=13,wo.actualizar({id:a,model:s,brand:l,type:c,name:d,nameModel:"".concat(d,"_").concat(s),data:x},r.database);case 13:if(!e.sent){e.next=21;break}return e.next=17,Ro.initDb();case 17:w=e.sent,Ro.actualizar({id:a,model:s,brand:l,type:c,name:d,nameModel:"".concat(d,"_").concat(s)},w.database),C(a+=1,n,r);case 21:return e.abrupt("break",27);case 22:y.push(t.value),v+=t.value.length,u(100*v/m),e.next=0;break;case 27:case"end":return e.stop()}}),e)}))),1e3);case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),_=function(){var e=mo(fo().mark((function e(){var t,n,r;return fo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo.initDb3DFiles();case 2:return t=e.sent,e.next=5,wo.consultar(t.database);case 5:if(!((n=e.sent).length>0)){e.next=13;break}E(n),i("Modelos 3D descargados."),w(!0),setTimeout((function(){u(100),setTimeout((function(){f(!1),localStorage.setItem("isLoading3D","nok")}),1e3)}),1e3),e.next=19;break;case 13:return r=new Array,e.next=16,new Promise((function(e){var t=new Array;t=Vo;var n=new Array;n=[],t.forEach((function(r,a){r.files.forEach((function(e,t){var a="maquinas/".concat(r.group,"/").concat(r.brand.toUpperCase(),"/").concat(r.brand.toUpperCase(),"_").concat(r.model,"_").concat(e.name,".gltf");n.push({name:e.name,brand:r.brand,model:r.model,type:r.type,url:a})})),a===t.length-1&&e(n)}))}));case 16:r=e.sent,0,C(0,r,t);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M={downloadingData3D:a,progressDownload3D:l,openDownload3D:h,openVersion:v,todoArchivo3DListo:x};return(0,Ct.jsx)(WNe.Provider,qo({value:M},e))},VNe=function(){return(0,T.useContext)(WNe)},HNe=function(){var e=cNe(),t=e.userData,n=e.loading,r=e.admin,a=e.isOperator,i=e.isSapExecutive,o=e.isShiftManager,s=e.isChiefMachinery,l=e.isAuthenticated;return(0,T.useEffect)((function(){console.log(l),l&&t&&ig(t)}),[l]),(0,Ct.jsxs)("div",{style:{fontFamily:"Roboto"},children:[l&&!n&&(0,Ct.jsx)(i4,{})," ",l&&!n&&(0,Ct.jsx)(z3,{}),(0,Ct.jsxs)(st,{children:[!l&&(0,Ct.jsx)(it,{exact:!0,path:"/reset-password",element:(0,Ct.jsx)(Gpe,{})}),!l&&(0,Ct.jsx)(it,{exact:!0,path:"/restore-password/:id",element:(0,Ct.jsx)(qpe,{})}),(0,Ct.jsx)(it,{path:"/login",element:(0,Ct.jsx)(Bpe,{})}),(0,Ct.jsx)(it,{path:"/welcome",element:(0,Ct.jsx)(Vpe,{})}),(0,Ct.jsx)(it,{path:"/",element:(0,Ct.jsx)(at,{to:l?"/welcome":"/login"})}),(0,Ct.jsx)(it,{path:"/internal-messages",element:(r||i)&&(0,Ct.jsx)(EEe,{route:"internal-messages"})}),(0,Ct.jsx)(it,{exact:!0,path:"/reports",element:(0,Ct.jsx)(DTe,{route:"reports"})}),(0,Ct.jsx)(it,{exact:!0,path:"/reports/create-report",element:(0,Ct.jsx)(PTe,{route:"reports"})}),(0,Ct.jsx)(it,{exact:!0,path:"/reports/edit-report/:id",element:(0,Ct.jsx)(PTe,{route:"reports"})}),(0,Ct.jsx)(it,{exact:!0,path:"/alerts",element:(0,Ct.jsx)(LTe,{route:"alerts"})}),(0,Ct.jsx)(it,{exact:!0,path:"/user-profile",element:(0,Ct.jsx)(VTe,{route:"user-profile"})}),(0,Ct.jsx)(it,{exact:!0,path:"/info",element:(0,Ct.jsx)(FTe,{route:"info"})}),(0,Ct.jsx)(it,{exact:!0,path:"/machines",element:(0,Ct.jsx)(Lpe,{route:"machines"})}),(0,Ct.jsx)(it,{exact:!0,path:"/machines/:id",element:(0,Ct.jsx)(jpe,{route:"machines"})}),(0,Ct.jsx)(it,{exact:!0,path:"/machines/:el/machine-detail/:id",element:(0,Ct.jsx)(Rpe,{route:"machines/machine-detail"})}),!a&&(0,Ct.jsx)(it,{exact:!0,path:"/maintenance",element:(0,Ct.jsx)(JTe,{route:"maintenance"})}),(i||r||"superAdmin"===localStorage.getItem("role"))&&(0,Ct.jsx)(it,{exact:!0,path:"/sites",element:(0,Ct.jsx)(zTe,{route:"sites"})}),!i&&(0,Ct.jsx)(it,{exact:!0,path:"/sites",element:(0,Ct.jsx)(JTe,{route:"sites"})}),(0,Ct.jsx)(it,{exact:!0,path:"/maintance",element:(0,Ct.jsx)(Xpe,{route:"maintance"})}),(0,Ct.jsx)(it,{exact:!0,path:"/configuration",element:(0,Ct.jsx)(jTe,{route:"configuration"})}),(0,Ct.jsx)(it,{exact:!0,path:"/options",element:(0,Ct.jsx)(_Ee,{route:"options"})}),(0,Ct.jsx)(it,{exact:!0,path:"/pauta-detail/:id",element:(0,Ct.jsx)(KTe,{route:"pauta-detail"})}),(0,Ct.jsx)(it,{exact:!0,path:"/administration",element:r?(0,Ct.jsx)(BTe,{route:"administration"}):(0,Ct.jsx)(JTe,{route:"administration"})}),(i||r||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&(0,Ct.jsx)(it,{exact:!0,path:"/users",element:(0,Ct.jsx)(UTe,{route:"users"})}),(i||r)&&(0,Ct.jsx)(it,{exact:!0,path:"/machinesAdmin",element:(0,Ct.jsx)(YTe,{})}),(a||o||s||"admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&(0,Ct.jsx)(it,{exact:!0,path:"/users",element:(0,Ct.jsx)(JTe,{route:"users"})}),(i||r||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&(0,Ct.jsx)(it,{exact:!0,path:"/new-users",element:(0,Ct.jsx)(ZTe,{route:"new-users"})}),(a||o||s||"admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&(0,Ct.jsx)(it,{exact:!0,path:"/new-users",element:(0,Ct.jsx)(JTe,{route:"new-users"})}),(r||"superAdmin"===localStorage.getItem("role"))&&(0,Ct.jsx)(it,{exact:!0,path:"/roles",element:(0,Ct.jsx)(HTe,{route:"roles"})}),(0,Ct.jsx)(it,{exact:!0,path:"/patterns",element:(0,Ct.jsx)(qTe,{route:"roles"})}),(0,Ct.jsx)(it,{exact:!0,path:"/edit-user/:id",element:(0,Ct.jsx)(ZTe,{route:"edit-user"})}),(0,Ct.jsx)(it,{path:"/assignment/:id",element:(0,Ct.jsx)(TEe,{route:"assignment"})}),(0,Ct.jsx)(it,{exact:!0,path:"/assignment",element:(0,Ct.jsx)($Te,{route:"assignment"})}),(0,Ct.jsx)(it,{exact:!0,path:"/notifications",element:(0,Ct.jsx)(CEe,{route:"notifications"})}),(0,Ct.jsx)(it,{exact:!0,path:"/calendar",element:(0,Ct.jsx)(AMe,{route:"calendar"})}),(0,Ct.jsx)(it,{exact:!0,path:"/news",element:(0,Ct.jsx)(wIe,{})}),(0,Ct.jsx)(it,{exact:!0,path:"/mynews",element:(0,Ct.jsx)(MIe,{})})]})]})},GNe=function(){return(0,Ct.jsxs)(pt,{children:[(0,Ct.jsx)(L3.Notifications,{}),(0,Ct.jsx)(xNe,{children:(0,Ct.jsx)(uNe,{children:(0,Ct.jsx)(Wpe,{children:(0,Ct.jsx)(BNe,{children:(0,Ct.jsx)(pNe,{children:(0,Ct.jsx)(gNe,{children:(0,Ct.jsx)(FNe,{children:(0,Ct.jsx)(SNe,{children:(0,Ct.jsx)(CNe,{children:(0,Ct.jsx)(ANe,{children:(0,Ct.jsx)(NNe,{children:(0,Ct.jsx)(DNe,{children:(0,Ct.jsx)(ZNe,{children:(0,Ct.jsxs)(Pt,{theme:ti,children:[(0,Ct.jsx)(Kt,{}),(0,Ct.jsx)(HNe,{})]})})})})})})})})})})})})})})]})},qNe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function XNe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var YNe=function(e){e&&e instanceof Function&&n.e(377).then(n.bind(n,9377)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))},KNe=document.getElementById("root");(0,C.s)(KNe).render((0,Ct.jsx)(T.StrictMode,{children:(0,Ct.jsx)(GNe,{})})),function(e){if(console.log("production"),"serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");qNe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):XNe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):XNe(t,e)}))}}({onUpdate:function(e){var t=e.waiting;t&&(t.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.location.reload()})),t.postMessage({type:"SKIP_WAITING"}))}}),YNe()}()}();
//# sourceMappingURL=main.74e6d240.js.map