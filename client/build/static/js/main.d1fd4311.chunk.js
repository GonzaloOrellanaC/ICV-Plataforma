(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{404:function(e,t,n){},405:function(e,t,n){},425:function(e){e.exports=JSON.parse('{"login":{"rutField":"Rut","emailField":"E-mail","passwordField":"Password","loginButton":"Login","forgotPasswordText":"Forgot password.","forgotPasswordLink":"Click here."},"restorePassword":{"passwordField":"Password","confirmPasswordField":"Confirm Password","button":"Change Password","cancel":"Cancel"},"welcome":{"inspectionButton":"Inspection","assignmentButton":"Assignment","machinesButton":"M\xe1quinas","maintenanceButton":"Maintenance","reportsButton":"Reports","configurationButton":"Configuration"},"machines":{"title":"Select machine type"},"location":{"start":"Start","inspection":"Inspection","maintenance":"Maintenance","reports":"Reports","configuration":"Configuration"},"components":{"fields":{"filter":"Search"}}}')},426:function(e){e.exports=JSON.parse('{"login":{"rutField":"Rut","emailField":"E-mail","passwordField":"Contrase\xf1a","loginButton":"Ingresar","forgotPasswordText":"Olvid\xe9 mi contrase\xf1a.","forgotPasswordLink":"Click aqu\xed."},"restorePassword":{"passwordField":"Ingrese Contrase\xf1a","confirmPasswordField":"Confirme Contrase\xf1a","button":"Cambiar contrase\xf1a","cancel":"Cancelar"},"welcome":{"inspectionButton":"Inspecci\xf3n","assignmentButton":"Asignaciones","machinesButton":"M\xe1quinas","maintenanceButton":"Mantenci\xf3n","reportsButton":"Reportes","configurationButton":"Configuraci\xf3n","administrationButton":"Administraci\xf3n"},"admin":{"adminUsersButton":"Usuarios"},"roles":{"rolesUsersButton":"Roles"},"machines":{"title":"Selecciona tipo de m\xe1quina"},"location":{"start":"Inicio","inspection":"Inspecci\xf3n","maintenance":"Mantenci\xf3n","reports":"Reportes","configuration":"Configuraci\xf3n"},"components":{"fields":{"filter":"Buscar"}}}')},480:function(e,t,n){},501:function(e,t,n){},509:function(e,t,n){},525:function(e,t,n){},529:function(e,t){},530:function(e,t){},538:function(e,t){},539:function(e,t){},540:function(e,t){},541:function(e,t){},542:function(e,t,n){},544:function(e,t,n){},546:function(e,t,n){},566:function(e,t,n){},567:function(e,t,n){},570:function(e,t,n){},571:function(e,t,n){},586:function(e,t,n){"use strict";n.r(t);var a,r=n(2),i=n(61),c=n.n(i),o=(n(480),n(3)),s=n.n(o),l=n(8),d=n(4),u=n(68),j=n(50),b=n(298),m=n(333),h=n(587),g=n(585),p=n(455),x=n(659),O=n.n(x),f=n(635),v=n(654),y=n(661),w=n(662),S=n(49),C=n(458),A=n(630),k=n(422),I=(n.p,Object(C.a)({palette:{background:{default:"#fff"},primary:{light:"#DE0000",main:"#920000",dark:"#780000"}},overrides:{MuiCssBaseline:{"@global":{body:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"center",backgroundAttachment:"fixed","& ::-webkit-scrollbar":{width:"0.4em"},"& ::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"& ::-webkit-scrollbar-thumb":{borderRadius:10,backgroundColor:"rgb(160,160,160)"}}}},MuiOutlinedInput:{root:{borderRadius:20},input:{padding:10}},MuiInputLabel:{outlined:{transform:"translate(14px, 12px) scale(1)"}},MuiButton:{root:{}},MuiListItemIcon:{root:{justifyContent:"center"}}}},k.esES));a=window.matchMedia("(min-width: 660px)").matches?99:"15vw";var D,R=Object(A.a)((function(e){return{pageRoot:{height:"90%",fontFamily:"Raleway",marginTop:70},pageContainer:Object(S.a)({},e.breakpoints.down("sm"),{padding:0}),pageCard:{marginLeft:a,fontFamily:"Raleway",borderRadius:0,boxShadow:"none",padding:20,overflowY:"auto"},pageTitle:{padding:"40px 0px",textAlign:"center",textTransform:"uppercase",fontSize:"1.5rem",color:e.palette.primary.main},backDrop:{zIndex:e.zIndex.drawer-1,marginTop:90,color:"#fff"},noNavBarMargin:{marginLeft:0}}})),M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:window.screen.width<500?"80%":"30%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:300,height:300,bgcolor:"transparent",boxShadow:10,p:4,textAlign:"center"},N={fontFamily:"Raleway",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",height:"90%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4,overflowY:"auto"},B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"100%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},T={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"100%",bgcolor:"#414646",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},P=function(e){return"superAdmin"===e?"Super Administrador":"admin"===e?"Administrador":"sapExecutive"===e?"Ejecutivo SAP":"inspectionWorker"===e?"Operario de Inspecci\xf3n":"maintenceOperator"===e?"Operario de Mantenci\xf3n":"shiftManager"===e?"Jefe de turno - Inspecci\xf3n y Mantenci\xf3n":"chiefMachinery"===e?"Jefe de maquinaria":void 0},F={storageURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL_STORAGE||"https://icvmantencion.blob.core.windows.net/plataforma-mantencion/",version:"versi\xf3n 1.8.9",storageApi:{account:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AZURE_ACCOUNT,accountKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).TOKEN_SAS_BLOB,url:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORAGE_URL,urlWithKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL_SAS_BLOB,accessKeys:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).ACCESS_KEYS}},L=F,Y=function(e){var t,n=new Date(e).getDay()+1;1==n?t="Lunes":2==n?t="Martes":3==n?t="Miercoles":4==n?t="Jueves":5==n?t="Viernes":6==n?t="Sabado":7==n&&(t="Domingo");var a,r=new Date(e).getUTCDate(),i=new Date(e).getMonth();return 0==i?a="Enero":1==i?a="Febrero":2==i?a="Marzo":3==i?a="Abril":4==i?a="Mayo":5==i?a="Junio":6==i?a="Julio":7==i?a="Agosto":8==i?a="Septiembre":9==i?a="Octubre":10==i?a="Noviembre":11==i&&(a="Diciembre"),e?(t+" "+r+" DE "+a).toUpperCase():"Sin informaci\xf3n".toUpperCase()},G=function(e){var t=new Date(e).getUTCDate(),n=new Date(e).getMonth()+1,a=new Date(e).getFullYear();return n<10&&(n="0"+n),t<10&&(t="0"+t),e?t+"/"+n+"/"+a:"No informado"},U=function(e){var t=Date.now(),n=new Date(e).getHours(),a=new Date(e).getMinutes();n<10&&(n="0"+n),a<10&&(a="0"+a);var r,i=new Date(e).getDay();i==new Date(t).getDay()&&i<t-2592e5?r="Hoy":i==new Date(t).getDay()-1&&i<t-2592e5?r="Ayer":1==i?r="Lunes":2==i?r="Martes":3==i?r="Miercoles":4==i?r="Jueves":5==i?r="Viernes":6==i?r="Sabado":0==i&&(r="Domingo");var c,o=new Date(e).getDate()+1,s=new Date(e).getMonth();return 0==s?c="Enero":1==s?c="Febrero":2==s?c="Marzo":3==s?c="Abril":4==s?c="Mayo":5==s?c="Junio":6==s?c="Julio":7==s?c="Agosto":8==s?c="Septiembre":9==s?c="Octubre":10==s?c="Noviembre":11==s&&(c="Diciembre"),e?"Hoy"===r||"Ayer"===r?r+" "+n+":"+a:r+" "+o+" DE "+c+" "+n+":"+a:"Sin informaci\xf3n"},Z=n(42),W=n.n(Z),Q=function(e,t){var n={user:{email:e,password:t}};return W.a.post("/auth/login",n)},H=function(e,t){var n={user:{rut:e,password:t}};return W.a.post("/auth/loginRut",n)},J=function(e){var t={email:e};return W.a.post("/auth/forgotpassword",t)},V=function(e,t){var n={password:e};return W.a.post("/auth/resetpassword/".concat(t),n)},q=function(){return W.a.get("/machines/getMachinesOfProject")},X=function(){return W.a.get("/machines/readAllMachines")},K=function(e){var t={equid:e};return W.a.post("/machines/readMachineByEquid",t)},_=function(){return W.a.get("icv/getSites")},$=function(){return W.a.get("icv/getPautas")},ee=function(e){var t={idpm:e.idpm,typepm:e.typepm};return W.a.post("icv/getHeaderPauta",t)},te=function(e){var t={idpm:e.idpm,typepm:e.typepm};return W.a.post("icv/getStructsPauta",t)},ne=function(e,t){var n={idpm:e,typepm:t};return W.a.post("/icv/getStructsPauta",n)},ae=function(e){var t={machine:e};return W.a.post("/machines/saveMachineDataById",t)},re=function(){return W.a.get("/roles/getRoles")},ie=function(e,t){var n={userData:e,password:t};return W.a.post("/users/createUser",n)},ce=function(e,t){var n={userData:e,id:t};return W.a.post("/users/editUser",n)},oe=function(){return W.a.get("/users/getUsers")},se=function(e){var t={id:e};return W.a.post("/users/getUser",t)},le=function(e){var t={id:e};return W.a.post("/users/deleteUser",t)},de=function(e){var t={role:e};return W.a.post("/users/findByRole",t)},ue=function(e){var t={id:e};return W.a.post("/users/getUserSign",t)},je=function(e){var t={report:e};return W.a.post("/reports/createReport",t)},be=function(e){var t={report:e};return W.a.post("/reports/editReport",t)},me=function(e,t){var n={report:e,generateLink:t};return W.a.post("/reports/editReportFromAudit",n)},he=function(e){var t={id:e};return W.a.post("/reports/deleteReport",t)},ge=function(){return W.a.get("/reports/getAllReports")},pe=function(e){var t={indexNumber:e};return W.a.post("/reports/getReportByIndex",t)},xe=function(e,t){var n={state:e,reportType:t};return W.a.post("/reports/getReportByState",n)},Oe=function(e){var t={userId:e};return W.a.post("/reports/findMyAssignations",t)},fe=function(e){var t={equid:e};return W.a.post("/reports/getReportByEquid",t)},ve=function(e){var t={idpm:e};return W.a.post("/reports/getReportByIdpm",t)},ye=function(e,t,n){var a={dateInit:e,dateEnd:t,reportType:n};return W.a.post("/reports/getReportsByDateRange",a)},we=function(){return W.a.get("/reports/getTotalReportsToIndex")},Se=function(e){var t={equid:e};return W.a.post("/machines/readMachineByEquid",t)},Ce=function(e){var t={reportData:e};return W.a.post("/execution-report/getExecutionReportById",t)},Ae=function(e){var t={reportData:e};return W.a.post("/execution-report/saveExecutionReport",t)},ke=function(e){var t={_id:e};return W.a.post("/internalMessagesData/get-messages-by-user",t)},Ie=function(){return W.a.get("/internalMessagesData/getAllMessages")},De=function(e){var t={message:e};return W.a.post("/internalMessagesData/sendMessage",t)},Re=function(e){var t={_id:e};return W.a.post("/internalMessagesData/removeMessage",t)},Me=function(e){var t={pdfContent:e};return W.a.post("/pdf-maker/createPdf",t)},Ee=function(e){var t={id:e};return W.a.post("/notifications/getNotificationsById",t)},Ne=function(e){var t={_id:e,state:!0};return W.a.post("/notifications/actualiceNotificationState",t)},Be=n(424),Te=n.n(Be),ze=function(e){return new Promise((function(t){new Te.a(e,{quality:.5,success:function(e){var n=new FileReader;n.onload=function(){t(n.result)},n.readAsDataURL(e)}})}))},Pe=function(e){return new Promise((function(t){var n=e.transaction(["Machines"],"readonly").objectStore("Machines");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){t(e.target.result)}}}))},Fe={initDbMachines:function(){var e,t=window.indexedDB.open("Trucks",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Machines",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").add(e).onsuccess=function(){}},obtener:function(e,t){t.transaction(["Machines"],"readonly").objectStore("Machines").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Machines"],"readwrite").objectStore("Machines").put(e).onsuccess=function(){Pe(t).then((function(e){})),n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").delete(e).onsuccess=function(){Pe()}},consultar:Pe},Le=function(e){var t=e.transaction(["pautas"],"readonly").objectStore("pautas"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Ye={initDbPMs:function(){var e,t=window.indexedDB.open("Pautas",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("pautas",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["pautas"],"readwrite").objectStore("pautas").add(e)},obtener:function(e,t){return new Promise((function(n){t.transaction(["pautas"],"readonly").objectStore("pautas").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["pautas"],"readwrite").objectStore("pautas").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["pautas"],"readwrite").objectStore("pautas").delete(e).onsuccess=function(){Le()}},consultar:Le,consultarPorDato:function(e,t){return new Promise((function(e){t.transaction(["pautas"],"readonly").objectStore("pautas").openCursor().onsuccess=function(e){}}))}},Ge=function(e){var t=e.transaction(["Obras"],"readonly").objectStore("Obras"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Ue={initDbObras:function(){var e,t=window.indexedDB.open("Sites",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Obras",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").add(e)},obtener:function(e,t){t.transaction(["Obras"],"readonly").objectStore("Obras").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Obras"],"readwrite").objectStore("Obras").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").delete(e).onsuccess=function(){Ge()}},consultar:Ge},Ze=function(e){var t=e.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},We={initDb3DFiles:function(){var e,t=window.indexedDB.open("3Ds",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){var a=(e=t.target.result).createObjectStore("3dFilesList",{keyPath:"id"});a.createIndex("model","model",{unique:!1}),a.createIndex("name","name",{unique:!1}),a.createIndex("type","type",{unique:!1}),a.createIndex("brand","brand",{unique:!1}),a.createIndex("nameModel","nameModel",{unique:!1}),a.transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){return new Promise((function(n){var a=t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").add(e);a.onsuccess=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(t);case 2:e.sent&&n(!0);case 4:case"end":return e.stop()}}),e)}))),a.onerror=function(e){n(!1)}}))},obtener:function(e,t){return new Promise((function(n){t.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").put(e).onsuccess=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);case 1:case"end":return e.stop()}}),e)})))}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").delete(e).onsuccess=function(){Ze()}},consultar:Ze,buscarPorNombreModelo:function(e,t){return new Promise((function(n){t.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList").index("nameModel").get(e).onsuccess=function(e){n(e.target.result)}}))}},Qe=function(e){return new Promise((function(t){var n=e.transaction(["Equips"],"readonly").objectStore("Equips");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){var n=new Array;n=e.target.result,t(n)}}}))},He={initDbMachines:function(){var e,t=window.indexedDB.open("Machines",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Equips",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Equips"],"readwrite").objectStore("Equips").add(e).onsuccess=function(){}},obtener:function(e,t){t.transaction(["Equips"],"readonly").objectStore("Equips").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Equips"],"readwrite").objectStore("Equips").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Equips"],"readwrite").objectStore("Equips").delete(e).onsuccess=function(){Qe()}},consultar:Qe},Je=function(){var e,t=window.indexedDB.open("MachinesImages",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("EquipsImages",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},Ve=function(e,t){return new Promise((function(n){t.transaction(["EquipsImages"],"readonly").objectStore("EquipsImages").get(e).onsuccess=function(e){n(e.target.result)}}))},qe=function(e,t){return new Promise((function(n){try{t.transaction(["EquipsImages"],"readwrite").objectStore("EquipsImages").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},Xe=function(){var e,t=window.indexedDB.open("Documentation",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Reports",{keyPath:"idDatabase"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},Ke=function(e,t){return new Promise((function(n){try{var a=t.transaction(["Reports"],"readwrite").objectStore("Reports").put(e);a.onsuccess=function(){n(!0)},a.onerror=function(e){}}catch(r){n(!1)}}))},_e=function(e,t){return new Promise((function(n){var a=t.transaction(["Reports"],"readwrite").objectStore("Reports").delete(e);a.onsuccess=function(){n(!0)},a.onerror=function(){n(!1)}}))},$e=function(e){var t=e.transaction(["Reports"],"readonly").objectStore("Reports"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},et=function(e){return new Promise((function(t){var n=e.transaction(["Reports"],"readonly").objectStore("Reports");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){var n=new Array;n=e.target.result,t(n)}}}))},tt={initDb:function(){var e,t=window.indexedDB.open("Executions",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Reports",{keyPath:"_id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Reports"],"readwrite").objectStore("Reports").add(e).onsuccess=function(){}},obtener:function(e,t){return new Promise((function(n){t.transaction(["Reports"],"readonly").objectStore("Reports").get(e).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Reports"],"readwrite").objectStore("Reports").put(e).onsuccess=function(){n(!0)}}catch(a){n(a)}}))},eliminar:function(e,t){t.transaction(["Reports"],"readwrite").objectStore("Reports").delete(e).onsuccess=function(){et()}},consultar:et},nt=function(e){var t=e.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},at={initDb:function(){var e,t=window.indexedDB.open("MachinesParts",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("MachinesPartsList",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){return new Promise((function(n){var a=t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").add(e);a.onsuccess=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(t);case 2:e.sent&&n(!0);case 4:case"end":return e.stop()}}),e)}))),a.onerror=function(e){n(!1)}}))},obtener:function(e,t){return new Promise((function(n){t.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").put(e).onsuccess=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);case 1:case"end":return e.stop()}}),e)})))}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").delete(e).onsuccess=function(){nt()}},consultar:nt,buscarPorNombreModelo:function(e,t){return new Promise((function(n){t.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList").index("nameModel").get(e).onsuccess=function(e){n(e.target.result)}}))}},rt=function(){var e,t=window.indexedDB.open("Images",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("SinglesImages",{keyPath:"name"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},it=function(e,t){return new Promise((function(n){try{t.transaction(["SinglesImages"],"readwrite").objectStore("SinglesImages").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},ct=function(){var e,t=window.indexedDB.open("ReportesListos",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("reportesListos",{keyPath:"idIndex"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},ot=function(e,t){return new Promise((function(n){try{t.transaction(["reportesListos"],"readwrite").objectStore("reportesListos").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},st=function(e,t){return new Promise((function(n){try{t.transaction(["reportesListos"],"readwrite").objectStore("reportesListos").delete(Number(e)).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},lt=function(e){var t=e.transaction(["reportesListos"],"readonly").objectStore("reportesListos"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},dt=function(e){return new Promise(e?function(){var t=Object(l.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e);case 2:a=t.sent,n("".concat(a.data.name," ").concat(a.data.lastName));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}():function(e){e("Sin informaci\xf3n")})},ut=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(l.a)(s.a.mark((function e(n){var a,r,i,c,o,l,d,u,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("admin");case 2:return a=e.sent,e.next=5,de("sapExecutive");case 5:return r=e.sent,e.next=8,de("shiftManager");case 8:return i=e.sent,e.next=11,de("chiefMachinery");case 11:c=e.sent,o=a.data,l=r.data,d=i.data,u=c.data,j=[],o.forEach((function(e,a){j.push(e.email),a==o.length-1&&l.forEach((function(e,a){j.push(e.email),a==l.length-1&&(1==t?d.forEach((function(e,t){j.push(e.email),t==d.length-1&&u.forEach((function(e,t){j.push(e.email),t==u.length-1&&n(j.toString())}))})):2==t?d.forEach((function(e,t){j.push(e.email),t==d.length-1&&n(j.toString())})):n(j.toString()))}))}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(l.a)(s.a.mark((function e(n){var a,r,i,c,o,l,d,u,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de("admin");case 2:return a=e.sent,e.next=5,de("sapExecutive");case 5:return r=e.sent,e.next=8,de("shiftManager");case 8:return i=e.sent,e.next=11,de("chiefMachinery");case 11:c=e.sent,o=new Array,l=new Array,o=a.data,l=r.data,d=i.data,u=c.data,j=new Array,j=[],o.forEach((function(e,a){j.push(e._id),a==o.length-1&&l.forEach((function(e,a){j.push(e._id),a==l.length-1&&(1==t?d.forEach((function(e,t){j.push(e._id),t==d.length-1&&(u.forEach((function(e,t){j.push(e._id)})),t==u.length-1&&n(j))})):2==t?d.forEach((function(e,t){j.push(e._id),t==d.length-1&&n(j)})):n(j))}))}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=new Date,t=e.getDate()-e.getDay()+1;return[new Date(e.setDate(t)).toISOString(),new Date(Date.now()).toISOString()]},mt=function(e){return new Promise((function(t){navigator.onLine?Se(e).then((function(e){t(e.data)})):He.initDbMachines().then((function(n){He.consultar(n.database).then((function(n){new Array;var a=n.filter((function(t){if(t.equid===e)return t}));t(a)}))}))}))},ht=function(e){return new Promise((function(t){Ce(e).then((function(e){t(e.data)}))}))},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String;return new Promise(function(){var t=Object(l.a)(s.a.mark((function t(n){var a,r,i,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt.initDb();case 2:return a=t.sent,r=a.database,i=new Array,t.next=7,tt.consultar(r);case 7:i=t.sent,(c=i.filter((function(t){if(t.reportId===e)return t}))).length>0?n({state:!0,data:c[0]}):n({state:!1,data:{message:"Sin datos"}});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},pt=function(e,t){return new Promise(function(){var n=Object(l.a)(s.a.mark((function n(a){var r,i,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.updatedAt=new Date(Date.now()).toISOString(),t.updatedAt=new Date(Date.now()).toISOString(),n.next=4,tt.initDb();case 4:return r=n.sent,i=r.database,n.next=8,tt.actualizar(e,i);case 8:c=n.sent,a(!!c);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},xt=function(e){return new Promise(e?function(){var t=Object(l.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(e);case 2:a=t.sent,n(a.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}():function(e){e("Sin informaci\xf3n")})},Ot=function(e){var t=new Date(e).getHours(),n=new Date(e).getMinutes();return t<10&&(t="0"+t),n<10&&(n="0"+n),e?t+":"+n:"Sin informaci\xf3n"},ft=n(20),vt=[{brand:"CATERPILLAR",model:"793-F",type:"camion",group:"camiones",files:[{name:"Preview"},{name:"Cabina"},{name:"Chasis"},{name:"Estructura"},{name:"Maza"},{name:"Motor"},{name:"Neumaticos"},{name:"Sistema_direccion"},{name:"Sistema_hidraulico"},{name:"Sistema_neumatico"},{name:"Suspension"},{name:"Transmision"}]},{brand:"KOMATSU",model:"PC5500",type:"pala",group:"palas",files:[{name:"Cabina"},{name:"Chasis"},{name:"Electrico"},{name:"Estructura"},{name:"Implemento"},{name:"Mando_de_giro"},{name:"Mando_final"},{name:"Motor"},{name:"Preview"},{name:"PTO"},{name:"Sistema_hidraulico"},{name:"Sistema_rodado"}]}],yt=function(){var e=Object(l.a)(s.a.mark((function e(t,n,a,r){var i,c,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){var e=Object(l.a)(s.a.mark((function e(c,o,d){var u,j,b,m,h,g,p,x,O,f,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a("Modelos 3D deber\xe1n ser descargados."),u=Number(c),new Array,u!=o.length){e.next=8;break}setTimeout((function(){t&&t(100),a&&a("Recursos descargados"),setTimeout((function(){n&&(n(!1),localStorage.setItem("isLoading3D","nok")),setTimeout((function(){localStorage.getItem("version")||(r&&r(!0),localStorage.setItem("version",L.version))}),500)}),1e3)}),1e3),e.next=19;break;case 8:return j=o[u],b=j.model,m=j.brand,h=j.type,g=j.name,a&&a("Descargando modelo 3D de ".concat(g,", ").concat(m," ").concat(b)),e.next=12,fetch("".concat(L.storageURL).concat(o[u].url));case 12:p=e.sent,x=p.body.getReader(),O=+p.headers.get("Content-Length"),f=0,v=[],t&&t(0),setTimeout(Object(l.a)(s.a.mark((function e(){var n,a,r,c,l,j,p,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,x.read();case 3:if(!(n=e.sent).done){e.next=22;break}a=new Uint8Array(f),r=0,c=Object(ft.a)(v);try{for(c.s();!(l=c.n()).done;)j=l.value,a.set(j,r),r+=j.length}catch(s){c.e(s)}finally{c.f()}if(p=new TextDecoder("utf-8").decode(a),!d){e.next=21;break}return e.next=13,We.actualizar({id:u,model:b,brand:m,type:h,name:g,nameModel:"".concat(g,"_").concat(b),data:p},d.database);case 13:if(!e.sent){e.next=21;break}return e.next=17,at.initDb();case 17:y=e.sent,at.actualizar({id:u,model:b,brand:m,type:h,name:g,nameModel:"".concat(g,"_").concat(b)},y.database),i(u+=1,o,d);case 21:return e.abrupt("break",27);case 22:v.push(n.value),f+=n.value.length,t&&t(100*f/O),e.next=0;break;case 27:case"end":return e.stop()}}),e)}))),1e3);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),c=function(){return new Promise((function(e){var t=new Array;t=vt;var n=new Array;n=[],t.forEach((function(a,r){a.files.forEach((function(e,t){var r="maquinas/".concat(a.group,"/").concat(a.brand.toUpperCase(),"/").concat(a.brand.toUpperCase(),"_").concat(a.model,"_").concat(e.name,".gltf");n.push({name:e.name,brand:a.brand,model:a.model,type:a.type,url:r})})),r===t.length-1&&e(n)}))}))},e.next=4,We.initDb3DFiles();case 4:return o=e.sent,e.next=7,We.consultar(o.database);case 7:if(!(e.sent.length>0)){e.next=13;break}a&&a("Modelos 3D descargados."),setTimeout((function(){t&&t(100),setTimeout((function(){n&&(n(!1),localStorage.setItem("isLoading3D","nok"))}),1e3)}),1e3),e.next=19;break;case 13:return d=new Array,e.next=16,c();case 16:d=e.sent,0,i(0,d,o);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new String;return console.log(e,t),"PC5500"===t?"Motor"===e||"Mando Final"===e||"Rodado"===e||"PTO"===e||"Neum\xe1ticos"===e||"Hidr\xe1ulico"===e||"Mando de Giro"===e||"Chassis"===e||"Cabina"===e||"Implementos"===e||"El\xe9ctrico"===e:"793-F"===t?"Motor"===e||"Transmisi\xf3n"===e||"Ejes"===e||"Neum\xe1ticos"===e||"Hidr\xe1ulico"===e||"Direcci\xf3n"===e||"Chassis"===e||"Cabina"===e||"Mazas"===e||"Sistema Neum\xe1tico"===e||"Suspensi\xf3n"===e:void 0},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String;return"Neum\xe1ticos"===e?"Neumaticos":"Chassis"===e?"Chasis":"Direcci\xf3n"===e?"Sistema_direccion":"Sistema Neum\xe1tico"===e?"Sistema_neumatico":"Hidr\xe1ulico"===e?"Sistema_hidraulico":"Suspensi\xf3n"===e?"Suspension":"Mazas"===e?"Maza":"Transmisi\xf3n"===e||"Ejes"===e?"Transmision":"Mando Final"===e?"Mando_final":"Mando de Giro"===e?"Mando_de_giro":"Rodado"===e?"Sistema_rodado":"El\xe9ctrico"===e?"Electrico":"Implementos"===e?"Implemento":e},Ct=(n(501),n(72)),At=n(665),kt=n(188),It=n(191),Dt=Object(It.a)(D||(D=Object(kt.a)(["\n    query Users {\n        self {\n            _id\n            email\n            name\n            lastName\n            fullName\n            enabled\n        }\n    }\n"]))),Rt={query:{GET_SELF:Dt}},Mt=n(1),Et=Object(r.createContext)(),Nt=function(e){var t=Boolean(window.localStorage.getItem("isauthenticated")),n=Boolean(window.localStorage.getItem("isAdmin")),a=Object(r.useState)(t||!1),i=Object(d.a)(a,2),c=i[0],o=i[1],s=Object(At.a)(Rt.query.GET_SELF),l=Object(d.a)(s,2),u=l[0],j=l[1],b=j.loading,m=j.error,h=j.data,g=Object(r.useState)({}),p=Object(d.a)(g,2),x=p[0],O=p[1],f=Object(r.useState)(n||!1),v=Object(d.a)(f,2),y=v[0],w=v[1];Object(r.useEffect)((function(){(null===h||void 0===h?void 0:h.self)&&O(h.self)}),[h]),Object(r.useEffect)((function(){}),[m]),Object(r.useEffect)((function(){u()}),[]);var S={userData:x,isAuthenticated:c,loading:b,error:m,admin:y,loginRut:function(e,t){return new Promise((function(n){H(e,t).then((function(e){var t=e.data;e.data.enabled?(localStorage.setItem("email",t.email),localStorage.setItem("fullName",t.fullName),localStorage.setItem("name",t.name),localStorage.setItem("lastName",t.lastName),localStorage.setItem("_id",t._id),localStorage.setItem("role",t.role),"admin"===t.role||"superAdmin"===t.role?(localStorage.setItem("isAdmin",!0),w(!0)):(localStorage.setItem("isAdmin",!1),w(!1)),t.sites&&localStorage.setItem("sitio",t.sites),localStorage.setItem("isauthenticated",!0),o(!0),n({state:!0,response:e})):(o(!1),alert("Su cuenta no est\xe1 habilitada, debe confirmarla."),n({state:!1}))})).catch((function(e){alert("Error de autenticaci\xf3n: "+e),o(!1),localStorage.setItem("isauthenticated",!1)}))}))},login:function(e,t){return new Promise((function(n){Q(e,t).then((function(e){var t=e.data;e.data.enabled?(localStorage.setItem("email",t.email),localStorage.setItem("fullName",t.fullName),localStorage.setItem("name",t.name),localStorage.setItem("lastName",t.lastName),localStorage.setItem("_id",t._id),localStorage.setItem("role",t.role),"admin"===t.role||"superAdmin"===t.role?(localStorage.setItem("isAdmin",!0),w(!0)):(localStorage.setItem("isAdmin",!1),w(!1)),t.sites&&localStorage.setItem("sitio",t.sites),localStorage.setItem("isauthenticated",!0),o(!0),n({state:!0,response:e})):(o(!1),alert("Su cuenta no est\xe1 habilitada, debe confirmarla."),n({state:!1}))})).catch((function(e){alert("Error de autenticaci\xf3n: "+e),o(!1),localStorage.setItem("isauthenticated",!1)}))}))}};return Object(Mt.jsx)(Et.Provider,Object(Ct.a)({value:S},e))},Bt=function(){return Object(r.useContext)(Et)},Tt=n(425),zt=n(426),Pt={en:Tt,es:zt},Ft={en:"English",es:"Espa\xf1ol"},Lt=Object(r.createContext)({userLanguage:"es",dictionary:Pt.es,languageOptions:Ft}),Yt=function(e){var t=window.localStorage.getItem("rcml-lang"),n=Object(r.useState)(t||"es"),a=Object(d.a)(n,2),i=a[0],c=a[1],o={userLanguage:i,dictionary:Pt[i],languageOptions:Ft,userLanguageChange:function(e){var t=Ft[e]?e:"es";c(t),window.localStorage.setItem("rcml-lang",t)}};return Object(Mt.jsx)(Lt.Provider,Object(Ct.a)({value:o},e))},Gt=function(){return Object(r.useContext)(Lt)},Ut=Object(r.createContext)(),Zt=function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(""),o=Object(d.a)(c,2),s=o[0],l=o[1],j=Object(u.g)();Object(r.useEffect)((function(){var e,t=null===j||void 0===j||null===(e=j.pathname)||void 0===e?void 0:e.split("/")[1];l(t)}),[j]);var b={locationData:s,navBarOpen:a,handleNavBar:function(){return i(!a)}};return Object(Mt.jsx)(Ut.Provider,Object(Ct.a)({value:b},e))},Wt=function(){return Object(r.useContext)(Ut)},Qt=n(640),Ht=n(632),Jt=n(29),Vt=n(30),qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAABpCAYAAADoScsPAAABVWlDQ1BEaXNwbGF5IFAzAAAoz2NgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGgkwMjB8uwYiGRgu64LMOiU1tUm1XsDXYqbw1YuvRJsY8AOulNTiZCD9B4hTkwuKSoBGpgDZyuUlBSB2B5AtUgR0FJA9B8ROh7A3gNhJEPYRsJqQIGcg+waQrZCckQg0g/EHkK2ThCSejsSG2gsC3C6ZxQU5iZUKAcYMVAclqRUlINo5v6CyKDM9o0TBERhKqQqeecl6OgpGBobmDAygMIeo/hwIDktGsTMIseb7DAy2+////78bIea1n4FhI1An106EmIYFA4MgNwPDiZ0FiUWJYCFmIGZKS2Ng+LScgYE3koFB+AJQT3RxmrERJPZ4nBgYWO/9//9ZjYGBfTIDw98J////XvT//9/FQM13GBgO5AEAFwJl7w8EHeAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAnOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5MzM4Y2ZlLWEyODctNDk2MC1iODcyLTk5YWY2YWRjYzYwYSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjJkZTFlNjU4LTg3NDEtYmY0YS05NzYyLTVlZjMxNzAxM2Q3YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyMjhiZDNiLWViZDEtNDM3Ny04N2UxLTkwNDMxNmNjZmIwOSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRpc3BsYXkgUDMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI4YmQzYi1lYmQxLTQzNzctODdlMS05MDQzMTZjY2ZiMDkiIHN0RXZ0OndoZW49IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTkzMzhjZmUtYTI4Ny00OTYwLWI4NzItOTlhZjZhZGNjNjBhIiBzdEV2dDp3aGVuPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjAwNjQ2MkNDRjBEN0QxMUI4RkYyRTQxQTc0NjAyQzRGPC9yZGY6bGk+IDxyZGY6bGk+MUMwODU5NjM2MTVEOTlDOEY4MDlEOEQ2MzEwNjk2MTI8L3JkZjpsaT4gPHJkZjpsaT4xQzYxNjVFODQwNTlBRjBCQUNFQzcwMUNFRUE4ODUzODwvcmRmOmxpPiA8cmRmOmxpPjU3NjEzM0IwMTc1ODM0QTM5OTRBQTA4RjYxRUJCQzE2PC9yZGY6bGk+IDxyZGY6bGk+NUZCQzczNEJBQzk2MzYxMDI0NzFDMkMxRDQzRkNENUU8L3JkZjpsaT4gPHJkZjpsaT44NEJFRkM1N0VDRjBBMkQ2MTFCRTM4QjIyODU0NDFFQjwvcmRmOmxpPiA8cmRmOmxpPkIxQkEyNkY5RDM3QzE4MTg3RjMwMzRBQTFCQkIzNUVBPC9yZGY6bGk+IDxyZGY6bGk+Q0JDOTNCMzBEQ0YxNkU3RDgzMzYyNDdBMDAyOTU4MzM8L3JkZjpsaT4gPHJkZjpsaT5GOEVEOEI3NEZGRkVDNkRBNDExNzZGRDUyNzY5NTk1NTwvcmRmOmxpPiA8cmRmOmxpPkZFNkJEMEJBNUJFQzE5RDQ3OTE0NEMxNTJDQkJDRUYyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDowMEMyNkRBQzI0MjA2ODExOERCQkQ4MzgxN0Q4NjVFNTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NjgyNWRjMjQtY2ZhOC00ODBlLWE5MmItMmUzNDM5ZThhNWQ0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo2OUQ3QUJCNDIxMjA2ODExOEY2MkVGRUNFNjdBQ0M0MzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QTZDNzJERDQwNzIwNjgxMTk1RkVDRDVERDFDODBCMTU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkQxQjVGNTREQTFDMjExRTFBQzZEQ0JBNUM5RDJGMjAwPC9yZGY6bGk+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",Xt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPkAAAD6CAYAAABj2+E+AAABVWlDQ1BEaXNwbGF5IFAzAAAoz2NgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGgkwMjB8uwYiGRgu64LMOiU1tUm1XsDXYqbw1YuvRJsY8AOulNTiZCD9B4hTkwuKSoBGpgDZyuUlBSB2B5AtUgR0FJA9B8ROh7A3gNhJEPYRsJqQIGcg+waQrZCckQg0g/EHkK2ThCSejsSG2gsC3C6ZxQU5iZUKAcYMVAclqRUlINo5v6CyKDM9o0TBERhKqQqeecl6OgpGBobmDAygMIeo/hwIDktGsTMIseb7DAy2+////78bIea1n4FhI1An106EmIYFA4MgNwPDiZ0FiUWJYCFmIGZKS2Ng+LScgYE3koFB+AJQT3RxmrERJPZ4nBgYWO/9//9ZjYGBfTIDw98J////XvT//9/FQM13GBgO5AEAFwJl7w8EHeAAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAnOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5MzM4Y2ZlLWEyODctNDk2MC1iODcyLTk5YWY2YWRjYzYwYSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjJkZTFlNjU4LTg3NDEtYmY0YS05NzYyLTVlZjMxNzAxM2Q3YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyMjhiZDNiLWViZDEtNDM3Ny04N2UxLTkwNDMxNmNjZmIwOSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRpc3BsYXkgUDMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI4YmQzYi1lYmQxLTQzNzctODdlMS05MDQzMTZjY2ZiMDkiIHN0RXZ0OndoZW49IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTkzMzhjZmUtYTI4Ny00OTYwLWI4NzItOTlhZjZhZGNjNjBhIiBzdEV2dDp3aGVuPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjAwNjQ2MkNDRjBEN0QxMUI4RkYyRTQxQTc0NjAyQzRGPC9yZGY6bGk+IDxyZGY6bGk+MUMwODU5NjM2MTVEOTlDOEY4MDlEOEQ2MzEwNjk2MTI8L3JkZjpsaT4gPHJkZjpsaT4xQzYxNjVFODQwNTlBRjBCQUNFQzcwMUNFRUE4ODUzODwvcmRmOmxpPiA8cmRmOmxpPjU3NjEzM0IwMTc1ODM0QTM5OTRBQTA4RjYxRUJCQzE2PC9yZGY6bGk+IDxyZGY6bGk+NUZCQzczNEJBQzk2MzYxMDI0NzFDMkMxRDQzRkNENUU8L3JkZjpsaT4gPHJkZjpsaT44NEJFRkM1N0VDRjBBMkQ2MTFCRTM4QjIyODU0NDFFQjwvcmRmOmxpPiA8cmRmOmxpPkIxQkEyNkY5RDM3QzE4MTg3RjMwMzRBQTFCQkIzNUVBPC9yZGY6bGk+IDxyZGY6bGk+Q0JDOTNCMzBEQ0YxNkU3RDgzMzYyNDdBMDAyOTU4MzM8L3JkZjpsaT4gPHJkZjpsaT5GOEVEOEI3NEZGRkVDNkRBNDExNzZGRDUyNzY5NTk1NTwvcmRmOmxpPiA8cmRmOmxpPkZFNkJEMEJBNUJFQzE5RDQ3OTE0NEMxNTJDQkJDRUYyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDowMEMyNkRBQzI0MjA2ODExOERCQkQ4MzgxN0Q4NjVFNTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NjgyNWRjMjQtY2ZhOC00ODBlLWE5MmItMmUzNDM5ZThhNWQ0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo2OUQ3QUJCNDIxMjA2ODExOEY2MkVGRUNFNjdBQ0M0MzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QTZDNzJERDQwNzIwNjgxMTk1RkVDRDVERDFDODBCMTU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkQxQjVGNTREQTFDMjExRTFBQzZEQ0JBNUM5RDJGMjAwPC9yZGY6bGk+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",Kt=(n(509),n(153)),_t=n.n(Kt),$t=(window.indexedDB,n(225)),en=Object($t.a)(),tn=function(){console.log("Revisando"),en.emit("isConnected",{id:localStorage.getItem("_id")})},nn=function(e,t,n,a,r,i,c){en.emit(e,{title:a,from:t,subtitle:r,message:i,id:n,url:c})},an=function(e,t,n,a,r,i,c){en.emit(e,{title:n,from:t,subtitle:a,message:r,url:i,uid:c})},rn=function(e,t,n,a,r,i){en.emit(e,{title:n,from:t,subtitle:a,message:r,url:i})},cn=n(463),on=n(663),sn=n(633),ln=n(634),dn=function(e){var t=e.open,n=e.report,a=e.closeModal,i=e.reportType,c=e.onlyClose,o=Object(r.useState)([]),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(r.useState)(),h=Object(d.a)(m,2),g=h[0],p=h[1],x=n.idIndex,O=n.guide,f=n.state,v=n.siteName,y=n.usersAssigned,w=Object(r.useState)(!1),S=Object(d.a)(w,2),C=S[0],A=S[1],k=Object(r.useState)(""),I=Object(d.a)(k,2),D=I[0],R=I[1],M=Object(r.useState)(!1),E=Object(d.a)(M,2),N=E[0],B=E[1],z=Object(r.useState)(),P=Object(d.a)(z,2),F=P[0],L=P[1],Y=function(){var e=Object(l.a)(s.a.mark((function e(t){var r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=10;break}return(r=new Array)[0]=t,R("Reporte sin asignaci\xf3n."),e.next=6,be({idIndex:x,state:"Asignar",usersAssigned:r});case 6:e.sent&&(n.usersAssigned=r,A(!0),alert("Se retira asignaci\xf3n"),F&&nn("retiro-asignacion","".concat(localStorage.getItem("_id")),F,"Asignaciones","Se ha retirado su asignaci\xf3n de OT","OT ".concat(n.idIndex," se reasignar\xe1 a otro usuario"),"/assignment"),setTimeout((function(){A(!1),a()}),1e3)),e.next=17;break;case 10:return R("Pauta asignada."),(i=new Array).push(t),e.next=15,be({idIndex:x,state:"En proceso",usersAssigned:i});case 15:e.sent&&(n.usersAssigned=i,A(!0),alert("Pauta asignada"),nn("nueva-asignacion","".concat(localStorage.getItem("_id")),t,"Asignaciones","Se ha asignado nueva OT","OT ".concat(n.idIndex," asignada a usted"),"/assignment"),setTimeout((function(){A(!1),a()}),1e3));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){L(y[0]),B(!1),oe().then((function(e){var t=new Array,n=new Array;(t=e.data).forEach((function(e,a){n.push(e),a==t.length-1&&(console.log(n),b(n))}))})),"Asignar"===f?p("#DE4343"):"En proceso"===f?p("#F2994A"):"Por cerrar"===f?p("#F2C94C"):"Completadas"===f&&p("#27AE60")}),[]),Object(Mt.jsx)(cn.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:T,children:[Object(Mt.jsxs)(Ht.a,{style:{width:"100%",height:59,paddingLeft:0},children:[Object(Mt.jsxs)("h2",{children:["Asignar Pauta de ",i," ",O]}),Object(Mt.jsx)("div",{style:{position:"absolute",right:65,backgroundColor:g,paddingTop:3,borderRadius:5,width:100,height:20,textAlign:"center"},children:Object(Mt.jsx)("p",{style:{margin:0,fontSize:12},children:f.toUpperCase()})})]}),Object(Mt.jsxs)("div",{style:{width:"100%",height:90},children:[Object(Mt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[Object(Mt.jsx)("strong",{children:"Faena:"})," ",Object(Mt.jsx)("br",{}),v]}),Object(Mt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[Object(Mt.jsx)("strong",{children:"N\xfamero de orden:"})," ",Object(Mt.jsx)("br",{}),x]}),Object(Mt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[Object(Mt.jsx)("strong",{children:"Pauta:"})," ",Object(Mt.jsx)("br",{}),O]})]}),Object(Mt.jsx)("div",{style:{width:"100%",height:59},children:C&&Object(Mt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[Object(Mt.jsx)("strong",{children:D})," ",Object(Mt.jsx)("br",{})]})}),Object(Mt.jsxs)("div",{style:{width:"100%",height:59},children:[Object(Mt.jsx)("label",{children:"Asignar Pauta a:"}),Object(Mt.jsx)("br",{}),Object(Mt.jsxs)("select",{value:y[0],onChange:function(e){Y(e.target.value),B(!0)},placeholder:"Seleccionar operario",style:{height:44,width:274,borderStyle:"solid",borderColor:"#C4C4C4",borderWidth:1,borderRadius:10},children:[Object(Mt.jsx)("option",{value:"",children:"Seleccionar operario"}),j.filter((function(e){if("Inspecci\xf3n"===i){if("inspectionWorker"===e.role)return e}else if("Mantenci\xf3n"===i&&"maintenceOperator"===e.role)return e})).sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})).map((function(e,t){return Object(Mt.jsx)("option",{value:e._id,children:"".concat(e.name," ").concat(e.lastName)},t)}))]})]}),Object(Mt.jsx)(sn.a,{onClick:function(){N?a():c()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Mt.jsx)(ln.a,{style:{color:"#ccc"}})})]})})},un=n(636),jn=function(e){var t=e.open,n=e.progress,a=e.loadingData,r=e.withProgress;return Object(Mt.jsx)(cn.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsx)(on.a,{sx:M,children:Object(Mt.jsxs)("div",{style:{height:300,textAlign:"center"},children:[r&&Object(Mt.jsx)(f.a,{variant:"determinate",size:200,value:Number(n)}),!r&&Object(Mt.jsx)(f.a,{size:200}),Object(Mt.jsx)("h2",{children:a})]})})})},bn=function(e){var t=e.open;return Object(Mt.jsx)(cn.a,{open:t,children:Object(Mt.jsxs)(on.a,{sx:E,children:[Object(Mt.jsx)(f.a,{size:300}),Object(Mt.jsx)("img",{src:"../../assets/logo_icv_blanco.png",width:150,style:{position:"absolute",top:120,right:40}})]})})},mn=function(e){var t=e.open,n=e.report,a=(e.closeModal,e.onlyClose),i=Object(r.useState)([]),c=Object(d.a)(i,2),o=(c[0],c[1]),s=Object(r.useState)(),l=Object(d.a)(s,2),j=l[0],b=l[1],m=n.idIndex,h=n.guide,g=n.state,p=n.siteName,x=n.usersAssigned,O=n.sapId,f=Object(r.useState)(!1),v=Object(d.a)(f,2),y=(v[0],v[1],Object(r.useState)("")),w=Object(d.a)(y,2),S=(w[0],w[1],Object(r.useState)("")),C=Object(d.a)(S,2),A=C[0],k=C[1],I=Object(r.useState)(""),D=Object(d.a)(I,2),R=D[0],M=D[1],E=Object(r.useState)(""),N=Object(d.a)(E,2),B=N[0],z=N[1],P=Object(r.useState)(""),F=Object(d.a)(P,2),L=F[0],Y=F[1],G=Object(r.useState)(!1),Z=Object(d.a)(G,2),W=Z[0],Q=Z[1],H=Object(u.f)();Object(r.useEffect)((function(){return dt(n.chiefMachineryApprovedBy).then((function(e){z(e)})),dt(n.shiftManagerApprovedBy).then((function(e){M(e)})),dt(n.sapExecutiveApprovedBy).then((function(e){Y(e)})),console.log(x[0]),oe().then((function(e){var t=new Array,n=new Array;t=e.data,console.log(t),t.forEach((function(e,t){console.log(e._id,x[0]),e._id===x[0]&&k(e.name+" "+e.lastName)})),o(n)})),"Asignar"===g?b("#DE4343"):"En proceso"===g?b("#F2994A"):"Por cerrar"===g?b("#F2C94C"):"Completadas"===g&&b("#27AE60"),!1}),[]);return Object(Mt.jsx)(cn.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:T,children:[Object(Mt.jsxs)(Ht.a,{style:{width:"100%",height:59,paddingLeft:0},children:[Object(Mt.jsxs)("h2",{children:["Mantenci\xf3n"===n.reportType?"Pauta de ".concat(n.reportType):""," ",h," SAP ",O||"N/A"]}),Object(Mt.jsx)("div",{style:{position:"absolute",right:65,backgroundColor:j,paddingTop:3,borderRadius:5,width:100,height:20,textAlign:"center"},children:Object(Mt.jsx)("p",{style:{margin:0,fontSize:12},children:g.toUpperCase()})})]}),Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsxs)(un.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:[Object(Mt.jsx)("strong",{children:"Faena:"})," ",Object(Mt.jsx)("br",{}),p]}),Object(Mt.jsxs)(un.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:[Object(Mt.jsx)("strong",{children:"N\xfamero de orden:"})," ",Object(Mt.jsx)("br",{}),m]}),Object(Mt.jsxs)(un.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:[Object(Mt.jsx)("strong",{children:"ID de SAP:"})," ",Object(Mt.jsx)("br",{}),O||"N/A"]})]}),Object(Mt.jsx)(un.a,{container:!0,children:Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(Mt.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[Object(Mt.jsx)("strong",{children:"Pauta:"})," ",Object(Mt.jsx)("br",{}),h]})})}),Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,md:6,xs:12,sm:12,lg:6,children:Object(Mt.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[Object(Mt.jsx)("div",{style:{width:"100%",height:59},children:Object(Mt.jsxs)("label",{children:["Pauta asignada a: ",Object(Mt.jsx)("b",{children:A})]})}),Object(Mt.jsx)("div",{style:{width:"100%",height:59},children:Object(Mt.jsxs)("label",{children:["Jefe de turno revisor: ",Object(Mt.jsx)("b",{children:R.length>1?R:"Sin informaci\xf3n"})]})}),Object(Mt.jsx)("div",{style:{width:"100%",height:59},children:Object(Mt.jsxs)("label",{children:["Jefe de maquinaria revisor: ",Object(Mt.jsx)("b",{children:B.length>1?B:"Sin informaci\xf3n"})]})}),Object(Mt.jsx)("div",{style:{width:"100%",height:59},children:Object(Mt.jsxs)("label",{children:["Ejecutivo SAP revisor: ",Object(Mt.jsx)("b",{children:L.length>1?L:"Sin informaci\xf3n"})]})})]})}),Object(Mt.jsx)(un.a,{item:!0,children:Object(Mt.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[Object(Mt.jsx)("div",{style:{width:"100%",height:59},children:Object(Mt.jsxs)("label",{children:["Creado: ",Object(Mt.jsx)("b",{children:U(n.createdAt)})]})}),Object(Mt.jsx)("div",{style:{width:"100%",height:59},children:Object(Mt.jsxs)("label",{children:["Inicio: ",Object(Mt.jsx)("b",{children:"Sin informaci\xf3n"===U(n.dateInit)?"No inicado":U(n.dateInit)})]})}),Object(Mt.jsx)("div",{style:{width:"100%",height:59},children:Object(Mt.jsxs)("label",{children:["Finalizado: ",Object(Mt.jsx)("b",{children:"Sin informaci\xf3n"===U(n.endReport)?"No finalizado":U(n.endReport)})]})}),Object(Mt.jsx)("div",{style:{width:"100%",height:59},children:Object(Mt.jsxs)("label",{children:["Cerrado: ",Object(Mt.jsx)("b",{children:"Sin informaci\xf3n"===U(n.dateClose)?"No cerrado":U(n.dateClose)})]})})]})}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"right"}}),W&&Object(Mt.jsx)(bn,{open:W})]}),Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:Object(Mt.jsx)("div",{style:{padding:10},children:Object(Mt.jsxs)("button",{style:{height:50,width:"100%",backgroundColor:"green",color:"#fff",fontSize:20},onClick:function(){H.push("/assignment/".concat(m))},children:[" ",Object(Mt.jsxs)("strong",{children:[" ",Object(Mt.jsx)(Vt.a,{icon:Jt.a})," Revisar OT ",m," "]})," "]})})}),Object(Mt.jsx)(un.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:Object(Mt.jsx)("div",{style:{padding:10},children:Object(Mt.jsxs)("button",{style:{height:50,width:"100%",backgroundColor:"red",color:"#fff",fontSize:20},onClick:function(){confirm("Se borrar\xe1 la OT ".concat(n.idIndex,". Su eliminaci\xf3n ser\xe1 permanente. \xbfDesea continuar?"))&&(Q(!0),n.deleted=!0,be(n).then((function(){Q(!1),location.reload()})))},children:[" ",Object(Mt.jsxs)("strong",{children:[" ",Object(Mt.jsx)(Vt.a,{icon:Jt.F})," Borrar OT ",m," "]})," "]})})})]}),Object(Mt.jsx)(sn.a,{onClick:a,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Mt.jsx)(ln.a,{style:{color:"#ccc"}})})]})})},hn=n(592),gn=n(637),pn=function(e){var t=e.open,n=e.userModal,a=e.handleChange,r=e.checked,i=(e.permissionsReports,e.permissionsUsers,e.closeModal);return Object(Mt.jsx)(cn.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:M,children:[Object(Mt.jsx)("div",{style:{textAlign:"left",width:"100%"},children:Object(Mt.jsx)("h2",{children:"Datos del Usuario"})}),Object(Mt.jsxs)("div",{style:{width:"100%",height:"25vh"},children:[Object(Mt.jsxs)("div",{style:{float:"left",width:"30%"},children:[Object(Mt.jsx)("p",{children:Object(Mt.jsx)("strong",{children:"Nombre y Apellido"})}),Object(Mt.jsxs)("p",{children:[" ",n.name," ",n.lastName," "]}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)("p",{children:Object(Mt.jsx)("strong",{children:"Rol del usuario"})}),Object(Mt.jsxs)("p",{children:[" ",n.roleTranslated," "]})]}),Object(Mt.jsxs)("div",{style:{float:"left",width:"30%"},children:[Object(Mt.jsx)("p",{children:Object(Mt.jsx)("strong",{children:"Email"})}),Object(Mt.jsxs)("p",{children:[" ",n.email]}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)("p",{children:Object(Mt.jsx)("strong",{children:"RUN"})}),Object(Mt.jsxs)("p",{children:[" ",n.rut," "]})]}),Object(Mt.jsx)("div",{style:{float:"right",width:"30%"},children:Object(Mt.jsxs)(hn.a,{children:[Object(Mt.jsx)(gn.a,{onChange:a,checked:r}),r&&Object(Mt.jsx)("p",{children:"Usuario activo"}),!r&&Object(Mt.jsx)("p",{children:"Usuario inactivo"})]})})]}),Object(Mt.jsx)("div",{style:{width:"100%",height:"5vh",margin:10},children:Object(Mt.jsx)("button",{style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D",position:"absolute",right:30},children:"Editar usuario"})}),Object(Mt.jsx)(sn.a,{onClick:function(){return i(n)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Mt.jsx)(ln.a,{style:{color:"#ccc"}})})]})})},xn=function(e){var t=e.open,n=e.closeModal;return Object(Mt.jsx)(cn.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:M,children:[Object(Mt.jsx)("div",{style:{textAlign:"left",width:"100%"},children:Object(Mt.jsxs)("h2",{children:["Versi\xf3n ",L.version]})}),Object(Mt.jsxs)("div",{style:{width:"100%",height:"25vh",overflowY:"auto"},children:[Object(Mt.jsx)("p",{children:"Se ha actualizado la aplicaci\xf3n de servicios de Mantenimiento e Inspecci\xf3n."}),Object(Mt.jsx)("strong",{children:"v.1.8.9"}),Object(Mt.jsx)("li",{children:"Cambios en forma de llenado de pauta, presionando el checkbox."}),Object(Mt.jsx)("li",{children:"Mejoras de rendimiento."}),Object(Mt.jsx)("strong",{children:"v.1.8.8"}),Object(Mt.jsx)("li",{children:"Reparaci\xf3n de notificaciones."}),Object(Mt.jsx)("li",{children:"Vista notificaciones de p\xe1gina de inicio se actualiza junto a la llegada de notificaciones push."}),Object(Mt.jsx)("strong",{children:"v.1.8.7"}),Object(Mt.jsx)("li",{children:"Cambios en los permisos de roles."}),Object(Mt.jsx)("li",{children:"Correo para creaci\xf3n de usuarios opcional."}),Object(Mt.jsx)("strong",{children:"v.1.8.6"}),Object(Mt.jsx)("li",{children:"Se agrega login usando RUT."}),Object(Mt.jsx)("li",{children:"Reparaci\xf3nes menores."}),Object(Mt.jsx)("strong",{children:"v.1.8.5"}),Object(Mt.jsx)("li",{children:"Reparaciones menores."}),Object(Mt.jsx)("strong",{children:"v.1.8"}),Object(Mt.jsx)("li",{children:"Modelo 3D de subsistema desde la OT."}),Object(Mt.jsx)("li",{children:"Etiquetado de Pala y Cami\xf3n."}),Object(Mt.jsx)("strong",{children:"v.1.7"}),Object(Mt.jsx)("li",{children:"Se posicionan etiquetas de Pala y Cami\xf3n de acuerdo a indicaciones."}),Object(Mt.jsx)("strong",{children:"v.1.6"}),Object(Mt.jsx)("li",{children:"Se habilita vista 3D de m\xe1quinas. Solo cambi\xf3n Caterpillar 793-F cuenta con etiquetas en las partes."}),Object(Mt.jsx)("li",{children:"Se habilita bot\xf3n de borrado del sistema en caso de requerir limpiar la memoria."}),Object(Mt.jsx)("strong",{children:"v.1.5"}),Object(Mt.jsx)("li",{children:"Se agrega elemento que permite borrar o cambiar la AST."}),Object(Mt.jsx)("strong",{children:"v.1.4"}),Object(Mt.jsx)("li",{children:"Optimizaciones. Cambios al proceso de flujo. Se corrige error al enviar OT finalizando sin conexi\xf3n."}),Object(Mt.jsx)("strong",{children:"v.1.3"}),Object(Mt.jsx)("li",{children:"Ajustes de usuarios. Correcci\xf3n en caso de cambios para la AST."}),Object(Mt.jsx)("li",{children:"Correcci\xf3n de errores."}),Object(Mt.jsx)("strong",{children:"v.1.2"}),Object(Mt.jsx)("li",{children:"Cambios de vistas. Se agrega foto AST en pautas."}),Object(Mt.jsx)("strong",{children:"v.1.1"}),Object(Mt.jsx)("li",{children:"Se agrega listado de OTs asignadas a cada m\xe1quina."}),Object(Mt.jsx)("li",{children:"Se ajustan cambios en pautas."}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)("strong",{children:"v.1.0"}),Object(Mt.jsx)("li",{children:"Habilitado producci\xf3n."})]}),Object(Mt.jsx)(sn.a,{onClick:function(){return n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Mt.jsx)(ln.a,{style:{color:"#ccc"}})})]})})},On=(n(460),n(638)),fn=(n(525),n(430)),vn=n.n(fn),yn=n(189),wn=function(e){var t=e.open,n=e.closeModal,a="/icv_web_model/model.json",i=["Pala","Cuerpo","Cabina_Pala","Oruga","Brazo","Balde","Trasero_Pala","Camion","Neumaticos","Tolva","Cabina_Camion","Parrilla","Trasero_Camion"],c=Object(r.useState)(null),o=Object(d.a)(c,2),u=o[0],j=o[1],b=Object(r.useState)(""),m=Object(d.a)(b,2),h=m[0],g=m[1],p=Object(r.useState)(!1),x=Object(d.a)(p,2),O=x[0],f=x[1],v=Object(r.useState)(!1),y=Object(d.a)(v,2),w=y[0],S=y[1];Object(r.useEffect)((function(){var e=!1;if(!e)return yn.d(a).then((function(t){e||j(t)})),function(){e=!0}}),[]);var C=function(e,t,n){var a=e.naturalWidth,r=e.naturalHeight;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#000000",n.fillRect(0,0,t.width,t.height);var i=Math.min(t.width/e.naturalWidth,t.height/e.naturalHeight),c=Math.round(a*i),o=Math.round(r*i);n.drawImage(e,0,0,a,r,(t.width-c)/2,(t.height-o)/2,c,o)},A=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById("canvas"),a=n.getContext("2d"),C(t.target,n,a),r=yn.e((function(){return yn.c.resizeBilinear(yn.a.fromPixels(n),[640,640]).div(255).expandDims(0)})),u&&r&&u.executeAsync(r).then((function(e){f(!1),S(!0);var t="16px sans-serif";a.font=t,a.textBaseline="top";var r,c=Object(d.a)(e,4),o=c[0],s=c[1],l=c[2],u=c[3],j=o.dataSync(),b=s.dataSync(),m=l.dataSync(),h=u.dataSync()[0];for(yn.b(e),r=0;r<h;++r){var g=j.slice(4*r,4*(r+1)),p=Object(d.a)(g,4),x=p[0],O=p[1],v=p[2],y=p[3];x*=n.width,v*=n.width,O*=n.height;var w=v-x,C=(y*=n.height)-O,A=i[m[r]],k=b[r].toFixed(2);a.strokeStyle="#00FFFF",a.lineWidth=4,a.strokeRect(x,O,w,C),a.fillStyle="#00FFFF";var I=a.measureText(A+":"+k).width,D=parseInt(t,10);a.fillRect(x,O,I+4,D+4)}for(r=0;r<h;++r){var R=j.slice(4*r,4*(r+1)),M=Object(d.a)(R,3),E=M[0],N=M[1];E*=n.width,N*=n.height;var B=i[m[r]],T=b[r].toFixed(2);a.fillStyle="#000000",a.fillText(B+":"+T,E,N)}})).catch((function(e){f(!1),alert("Se detecta que la m\xe1quina no est\xe1 completa en la im\xe1gen. Por favor al\xe9jese de la m\xe1quina para que el sistema logre identificar todas las partes.")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Mt.jsx)(cn.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:B,children:[Object(Mt.jsxs)("div",{className:"Dropzone-page",children:[Object(Mt.jsxs)("h3",{children:["Inserte su im\xe1gen. ",Object(Mt.jsx)("br",{})," Para cambiar solo vuelva a tocar el cuadrado."]}),u?Object(Mt.jsxs)(vn.a,{className:"Dropzone",accept:"image/jpeg, image/png, .jpg, .jpeg, .png",multiple:!1,onDrop:function(e,t,n){w?(f(!0),yn.d(a).then((function(t){j(t),setTimeout((function(){g(e[0].preview||n[0])}),2e3)}))):(f(!0),setTimeout((function(){g(e[0].preview||n[0])}),2e3))},children:[h?Object(Mt.jsx)("img",{alt:"upload preview",onLoad:A,className:"Dropzone-img",src:h}):Object(Mt.jsx)("h2",{children:"Presione para elegir una foto desde el archivo"}),Object(Mt.jsx)("canvas",{id:"canvas",width:"640",height:"640"})]}):Object(Mt.jsx)("div",{className:"Dropzone",children:"Cargando modelo..."})]}),Object(Mt.jsx)(jn,{open:O,withProgress:!1,loadingData:"Cargando datos..."}),Object(Mt.jsx)(sn.a,{onClick:function(){n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Mt.jsx)(ln.a,{style:{color:"#ccc"}})})]})})},Sn=n.p+"static/media/check.f24c812a.png",Cn="data:image/png;base64,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",An=new Array,kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Array,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array,n=[];return new Promise((function(a){t.forEach(function(){var r=Object(l.a)(s.a.mark((function r(i,c){return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=n,r.t1=[50,50,130,170,50,50,30,"*",35],r.next=4,En(i,e[c],c);case 4:r.t2=r.sent,r.t3={widths:r.t1,body:r.t2},r.t4={style:"title",table:r.t3},r.t0.push.call(r.t0,r.t4),c==t.length-1&&a(n);case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())}))},In=function(e){var t=[];return new Promise((function(n){e.forEach((function(a,r){t.push({image:a.image,width:700,height:500}),r==e.length-1&&n(t)}))}))},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Array,t=[];return new Promise((function(n){e.sort((function(e,t){return e.id-t.id})),e.forEach(function(){var a=Object(l.a)(s.a.mark((function a(r,i){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0==i&&t.push({pageBreak:"before",text:"Historial de la OT\n\n",fontSize:16,bold:!0}),a.t0=t,a.t1="",!r.name){a.next=7;break}a.t2=r.name,a.next=10;break;case 7:return a.next=9,dt(r.userSendingData);case 9:a.t2=a.sent;case 10:a.t3=a.t2,a.t4=a.t1.concat.call(a.t1,a.t3,"\n"),a.t5=[a.t4],a.t6={text:a.t5,bold:!0,fontSize:8},a.t7={text:["Fecha: ".concat(Y(r.id).toLowerCase(),"\n")],fontSize:8},a.t8={text:["Estado: "+"".concat("sending-to-next-level"===r.type?"Enviado":"Rechazado","\n")],color:"".concat("sending-to-next-level"===r.type?"#81E508":"#852F07"),fontSize:8},a.t9={text:"Mensaje: \n",fontSize:8},a.t10={text:[{text:"".concat(r.message,"\n"),italics:!0}],fontSize:8},a.t11={text:".................................\n"},a.t0.push.call(a.t0,a.t6,a.t7,a.t8,a.t9,a.t10,a.t11),i==e.length-1&&n(t);case 21:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}))},Rn=function(e){return new Promise(function(){var t=Object(l.a)(s.a.mark((function t(n){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.blob();case 5:r=t.sent,n(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},Mn=function(){var e=[{alignment:"center",width:"*",pageBreak:"before",text:"Im\xe1genes de la OT"},{style:"imageTables",table:{},layout:"noBorders"}],t=[],n=[],a={widths:[350,350],height:[300,300],body:[]},r=0,i=2;return new Promise((function(c){An.forEach((function(o,s){s==i&&(a.body[r]=t,a.body[r+1]=n,t=[],n=[],r=i,i+=i);var l={width:350,alignment:"center",image:o.urlBase64},d={width:350,alignment:"center",text:"Comentario id: "+o.id+'\n "'+o.namePicture+'"\n Im\xe1gen: '+U(o.id)+"\n Usuario: "+o.name+"\n \n \n \n __________________"};t.push(l),n.push(d),s==An.length-1&&(An.length%2==1&&(t.push({}),n.push({})),a.body[r]=t,a.body[r+1]=n,e[1].table=a,t=[],n=[],a={widths:[300,300,300],height:[300,300,300],body:[]},r=0,i=2,An=[],c(e))}))}))},En=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a,r,i,c,o,d=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:new Array,n=d.length>1&&void 0!==d[1]?d[1]:new String,a=d.length>2&&void 0!==d[2]?d[2]:new Number,e.next=5,Rn(Sn);case 5:return r=e.sent,e.next=8,Rn(Cn);case 8:return i=e.sent,c=0==a?"none":"before",o=[[{colSpan:9,border:[!0,!0,!0,!0],text:"".concat(a,".- ").concat(n),fillColor:"#DADADA",pageBreak:c},{},{},{},{},{},{},{},{}]],e.abrupt("return",new Promise((function(e){t.forEach(function(){var n=Object(l.a)(s.a.mark((function n(a,c){var l,d,u;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.writeCommits?(a.writeCommits.length>0&&a.writeCommits.forEach((function(e,t){e.urlBase64&&An.push(e)})),l="".concat(a.writeCommits[0].userName,": ").concat(a.writeCommits[0].commit),d=G(a.writeCommits[0].id),u=Ot(a.writeCommits[0].id)):a.readCommits?(a.readCommits.length>0&&a.readCommits.forEach((function(e,t){e.urlBase64&&An.push(e)})),l="Observaci\xf3n: -- ".concat(a.readCommits[0].userName,": ").concat(a.readCommits[0].commit),d=G(a.readCommits[0].id),u=Ot(a.readCommits[0].id)):a.messages&&(a.messages.length>0&&a.messages.forEach((function(e,t){e.urlBase64&&An.push(e)})),a.isWarning?(l="Observaci\xf3n: -- ".concat(a.messages[0].name,": ").concat(a.messages[0].content),d=G(a.messages[0].id),u=Ot(a.messages[0].id)):(l="".concat(a.messages[0].name,": ").concat(a.messages[0].content),d=G(a.messages[0].id),u=Ot(a.messages[0].id))),!a.isWarning){n.next=7;break}return n.next=4,ze(i);case 4:a.image=n.sent,n.next=10;break;case 7:return n.next=9,ze(r);case 9:a.image=n.sent;case 10:o.push([{fontSize:8,text:"".concat(d," \n ").concat(u)},{fontSize:8,text:a.workteamdesc},{fontSize:8,text:a.taskdesc},{fontSize:8,text:a.obs01},{fontSize:8,text:"*"===a.partnumberUtl?"N/A":a.partnumberUtl},{fontSize:8,text:a.unidadData?"".concat(a.unidadData," ").concat(a.unidad):"N/A"},{fontSize:8,text:"*"===a.idtypeutlPartnumber?"N/A":"".concat(a.idtypeutlPartnumber)},{fontSize:8,text:l},{alignment:"center",image:a.image,width:15}]),c==t.length-1&&e(o);case 12:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(l.a)(s.a.mark((function e(t,n,a,r){var i,c,o,l,d,u,j,b,m,h,g,p,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt(t.createdBy);case 2:return i=e.sent,e.next=5,dt(t.chiefMachineryApprovedBy);case 5:return c=e.sent,e.next=8,xt(t.chiefMachineryApprovedBy);case 8:return o=e.sent,e.next=11,dt(t.shiftManagerApprovedBy);case 11:return l=e.sent,e.next=14,xt(t.shiftManagerApprovedBy);case 14:return d=e.sent,e.next=17,dt(t.usersAssigned[0]);case 17:return u=e.sent,e.next=20,xt(t.usersAssigned[0]);case 20:return j=e.sent,e.next=23,ht(t);case 23:return b=e.sent,t.testMode?(g=Object.keys(b[0].group),p=Object.values(b[0].group),m=[g[0],g[1]],h=[p[0],p[1]]):(m=Object.keys(b[0].group),h=Object.values(b[0].group)),e.t0={columns:[{alignment:"left",text:"DEPTO DE CONTROL Y GESTI\xd3N DE MAQUINARIA",style:"deptoInfo",width:100},{alignment:"center",text:"ORDEN DE TRABAJO ".concat(t.idIndex," \n PAUTA DE ").concat(t.reportType).toUpperCase(),style:"subheader",width:"*"},{width:100,columns:[{width:"*",text:""},{alignment:"right",image:qt,width:60}]}]},e.t1={columns:[{width:150,style:"table",table:{body:[["Tipo","".concat(n.type)],["Marca","".concat(n.brand)],["Modelo","".concat(n.model)],["N\xb0","".concat(n.equ)]]}},{width:170,columns:[{width:"*",text:""},{width:50,style:"table",table:{body:[["Equipos","TODOS"],["Pauta","".concat(t.idPm)]]}},{width:"*",text:""}]},{width:170,columns:[{width:"*",text:""},{width:70,style:"table",table:{body:[["Fecha Creaci\xf3n: ","".concat(G(t.createdAt))],["Creado por: ","".concat(i)]]}}]}]},e.t2={style:"title",table:{widths:[50,50,130,170,50,50,30,"*",35],body:[["Fecha","Personal Necesario","Descripci\xf3n de la tarea","Observaciones","N\xb0 Parte Utilizado","Cantidad Utilizada","Tipo Rpto","Comentarios","Trabajo Realizado"]]},layout:{fillColor:"#DADADA"}},e.next=30,kn(m,h);case 30:if(e.t3=e.sent,!(t.history.length>0)){e.next=37;break}return e.next=34,Dn(t.history);case 34:e.t4=e.sent,e.next=38;break;case 37:e.t4={};case 38:if(e.t5=e.t4,e.t6={columns:[{pageBreak:"before",text:"Responsables: ",margin:[0,50,0,0]},{pageBreak:"before",alignment:"right",margin:[0,50,0,0],width:"*",text:"Fecha: ".concat(G(Date.now())," \n Hora: ").concat(Ot(Date.now()))}]},e.t7={columns:[{alignment:"center",margin:[0,100,0,10],width:200,height:100,image:o||null},{alignment:"center",margin:[0,100,0,10],width:200,height:100,image:d||null},{alignment:"center",margin:[0,100,0,10],width:200,height:100,image:j||null}]},e.t8={columns:[{alignment:"center",margin:[0,10,0,200],width:200,text:c+"\n Jefe de Maquinaria"},{alignment:"center",margin:[0,10,0,200],width:200,text:l+"\n Jefe de Turno"},{alignment:"center",margin:[0,10,0,200],width:200,text:u+"\n T\xe9cnico Inspecci\xf3n o Mantenimiento"}]},!b[0].astList){e.next=48;break}return e.next=45,In(b[0].astList);case 45:e.t9=e.sent,e.next=49;break;case 48:e.t9={};case 49:return e.t10=e.t9,e.next=52,Mn();case 52:e.t11=e.sent,e.t12=[e.t0,e.t1,e.t2,e.t3,e.t5,e.t6,e.t7,e.t8,e.t10,e.t11],e.t13={imageTables:{fontSize:8,margin:[0,50,0,50]},header:{fontSize:18,bold:!0,margin:[0,0,0,10]},deptoInfo:{fontSize:8,bold:!1,margin:[10,10,10,10]},subheader:{fontSize:16,bold:!0,margin:[0,10,0,5]},table:{margin:[0,5,0,15],fontSize:6},title:{margin:[0,5,0,15],fontSize:10,bold:"true",alignment:"center"},historial:{margin:[0,5,0,15],fontSize:10,bold:!0,alignment:"justify"},tableHeader:{bold:!0,fontSize:13,color:"black"}},x={pageOrientation:"landscape",content:e.t12,styles:e.t13},Me(x).then((function(e){var t=e.data,n=document.createElement("a");n.href=t,n.download="".concat(r,".pdf"),n.click(),a()})).catch((function(e){alert("Error al descargar PDF"),a()}));case 57:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Bn=(n(542),function(e){var t=e.open,n=e.reportData,a=e.close,i=Object(r.useState)(),c=Object(d.a)(i,2),o=c[0],u=c[1],j=Object(r.useState)(null),b=Object(d.a)(j,2),m=b[0],h=b[1],g=Object(r.useState)(!1),p=Object(d.a)(g,2),x=p[0],O=p[1];Object(r.useEffect)(Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,mt(n.machine);case 3:e.t1=e.sent,(0,e.t0)(e.t1),h("Orden_de_trabajo_".concat(n.idIndex,"_aprobado"));case 6:case"end":return e.stop()}}),e)}))),[n]);var v=function(){O(!1),a(),h(null)};return Object(Mt.jsx)(cn.a,{open:t,children:Object(Mt.jsxs)(on.a,{sx:M,children:[Object(Mt.jsx)("div",{style:{width:"100%",position:"absolute",top:0,left:0,textAlign:"right"},children:Object(Mt.jsx)(On.a,{style:{borderRadius:"50%",width:36,height:36},onClick:function(){return a()},children:Object(Mt.jsx)(ln.a,{})})}),Object(Mt.jsxs)("div",{style:{width:"100%",height:60},children:[Object(Mt.jsx)("p",{style:{marginTop:0},children:"Editar nombre:"}),Object(Mt.jsx)("input",{style:{width:"80%",float:"left",textAlign:"right"},width:"100%",type:"text",value:m,onChange:function(e){var t;t=e.target.value,h(t)}}),Object(Mt.jsx)("p",{style:{width:"10%",float:"left",margin:0,textAlign:"left"},children:".pdf"})]}),Object(Mt.jsx)("div",{style:{width:"100%",marginTop:10,textAlign:"center"},children:Object(Mt.jsxs)("button",{disabled:x,onClick:function(){return function(){try{Nn(n,o[0],v,m),O(!0)}catch(e){alert("Error al descargar. Cerrando ventana."),O(!0),a(),h(null)}}()},style:{textAlign:"center"},children:[!x&&Object(Mt.jsx)(Vt.a,{icon:Jt.z,size:"5x",style:{color:"#888"}}),x&&Object(Mt.jsx)(f.a,{style:{height:66,width:66,color:"#888"}}),!x&&Object(Mt.jsx)("p",{style:{marginTop:10,marginBottom:0,fontSize:26,color:"#888"},children:"Descargar PDF"}),x&&Object(Mt.jsx)("p",{style:{marginTop:10,marginBottom:0,fontSize:26,color:"#888"},children:"Descargando..."})]})})]})})}),Tn=n(639),zn=n(594),Pn=function(e){var t=e.open,n=(e.report,e.closeModal),a=Object(r.useState)([]),i=Object(d.a)(a,2),c=i[0],o=i[1],s=Object(r.useState)(""),l=Object(d.a)(s,2),j=l[0],b=l[1],m=Object(r.useState)(""),h=Object(d.a)(m,2),g=h[0],p=h[1],x=localStorage.getItem("_id"),O=Object(u.f)();Object(r.useEffect)((function(){ke(x).then((function(e){o(e.data.reverse())}))}),[]);return Object(Mt.jsx)(cn.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:N,children:[Object(Mt.jsxs)(un.a,{container:!0,style:{paddingTop:50},children:[Object(Mt.jsx)(un.a,{item:!0,xl:4,md:3,sm:2,xs:null}),Object(Mt.jsxs)(un.a,{item:!0,xl:4,md:6,sm:8,xs:12,children:[Object(Mt.jsxs)("div",{children:[Object(Mt.jsx)("h1",{children:"Dejenos sus comentarios de la aplicaci\xf3n."}),Object(Mt.jsx)(Tn.a,{value:g,onChange:function(e){p(e.target.value)},placeholder:"Asunto",style:{width:"100%",fontSize:18,fontFamily:"Raleway"}}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)(zn.a,{"aria-label":"empty textarea",placeholder:"Deje su comentario",minRows:10,maxRows:15,style:{width:"100%",fontSize:18,fontFamily:"Raleway"},value:j,onChange:function(e){b(e.target.value)}})]}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)(On.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){!function(){if(g.length>0&&j.length>1){var e={sendDate:Date.now(),message:j,from:localStorage.getItem("_id"),subject:g};navigator.onLine?De(e).then((function(e){ke(x).then((function(e){o(e.data.reverse())})),alert("Mensaje enviado."),b(""),p("")})):alert("Error de red")}else alert("Asunto y comentario son obligatorios.")}()},children:"Enviar Mensaje"}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Mt.jsx)(On.a,{variant:"contained",color:"primary",style:{borderRadius:50,marginLeft:10},onClick:function(){n(),O.push("/internal-messages")},children:"Listado de mensajes"})]}),Object(Mt.jsx)(un.a,{item:!0,xl:4,md:3,sm:2,xs:null})]}),Object(Mt.jsxs)(un.a,{container:!0,style:{paddingTop:50},children:[Object(Mt.jsx)(un.a,{item:!0,xl:4,md:3,sm:2,xs:null}),Object(Mt.jsx)(un.a,{item:!0,xl:4,md:6,sm:8,xs:12,children:Object(Mt.jsx)("div",{style:{overFlow:"auto",maxHeight:200,display:"block"},children:c.map((function(e,t){return e.answer||(e.answer="No hay respuesta."),Object(Mt.jsxs)("div",{style:{width:"100%",fontSize:16,padding:10,borderRadius:20,borderStyle:"solid",borderWidth:1,borderColor:"#000",marginBottom:30},children:[Object(Mt.jsx)("div",{style:{position:"relative",top:0,width:"100%"},children:Object(Mt.jsx)(sn.a,{onClick:function(){!function(e,t){navigator.onLine&&confirm("Confirme la eliminaci\xf3n de su consulta.")&&Re(e).then((function(e){var t=c.filter((function(t){if(t._id!==e.data._id)return t}));o(t),alert("Mensaje borrado.")}))}(e._id)},style:{position:"absolute",right:0,top:0,boxShadow:"none",backgroundColor:"transparent"},children:Object(Mt.jsx)(ln.a,{style:{color:"#ccc"}})})}),Object(Mt.jsx)("p",{children:Object(Mt.jsx)("b",{children:e.subject})}),Object(Mt.jsx)("p",{style:{whiteSpace:"pre-line"},children:e.message}),Object(Mt.jsxs)("p",{style:{textAlign:"right"},children:["Enviado ",U(e.sendDate)," "]}),Object(Mt.jsx)("p",{children:Object(Mt.jsx)("b",{children:"Respuesta:"})}),Object(Mt.jsx)("p",{children:e.answer})]},t)}))})}),Object(Mt.jsx)(un.a,{item:!0,xl:4,md:3,sm:2,xs:null})]}),Object(Mt.jsx)(sn.a,{onClick:n,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Mt.jsx)(ln.a,{style:{color:"#ccc"}})})]})})},Fn=function(e){var t=e.open,n=e.report,a=e.closeModal,i=e.getResponseState,c=e.messageType,o=Object(r.useState)(""),s=Object(d.a)(o,2),l=s[0],u=s[1];Object(r.useEffect)((function(){}),[]);return Object(Mt.jsx)(cn.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:N,children:[Object(Mt.jsxs)(un.a,{container:!0,style:{paddingTop:50},children:[Object(Mt.jsx)(un.a,{item:!0,xl:4,md:3,sm:2,xs:null}),Object(Mt.jsxs)(un.a,{item:!0,xl:4,md:6,sm:8,xs:12,children:[Object(Mt.jsxs)("div",{children:[Object(Mt.jsx)("h1",{children:"Deje un comentario."}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)(zn.a,{"aria-label":"empty textarea",placeholder:"Deje su comentario",minRows:10,maxRows:15,style:{width:"100%",fontSize:18,fontFamily:"Raleway"},value:l,onChange:function(e){u(e.target.value)}})]}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)(On.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){!function(){if(l.length>1){var e="rejectReport"===c?"reject-to-previous-level":"sending-to-next-level";n.history.push({id:Date.now(),userSendingData:localStorage.getItem("_id"),type:e,message:l}),a(),i(!0,n)}else alert("Por favor deje un comentario a la actividad.")}()},children:"Enviar Mensaje"})]}),Object(Mt.jsx)(un.a,{item:!0,xl:4,md:3,sm:2,xs:null})]}),Object(Mt.jsx)(sn.a,{onClick:function(){return a(),void i(!1,n)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Mt.jsx)(ln.a,{style:{color:"#ccc"}})})]})})},Ln=function(e){var t=e.open,n=e.close,a=e.report,i=Object(r.useState)([]),c=Object(d.a)(i,2),o=c[0],u=c[1];return Object(r.useEffect)((function(){a.history.forEach(function(){var e=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=6;break}return e.next=3,dt(t.userSendingData);case 3:t.name=e.sent,e.next=7;break;case 6:t.name="Sin informaci\xf3n (fuera de red)";case 7:n==a.history.length-1&&u(a.history.sort((function(e,t){return t.id-e.id})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[]),Object(Mt.jsx)(cn.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:N,children:[Object(Mt.jsxs)(un.a,{container:!0,style:{paddingTop:50},children:[Object(Mt.jsx)(un.a,{item:!0,xl:4,md:3,sm:2,xs:null}),Object(Mt.jsxs)(un.a,{item:!0,xl:4,md:6,sm:8,xs:12,children:[Object(Mt.jsx)("h1",{children:"Mensajes a las revisiones de la OT"}),Object(Mt.jsxs)("div",{style:{width:"100%",overflowY:"auto",height:"calc(100vh - 300px)"},children:[0==o.length&&Object(Mt.jsx)("p",{children:"No hay mensajes"}),o.length>0&&o.map((function(e,t){return Object(Mt.jsx)("div",{style:{width:"100%",padding:10},children:Object(Mt.jsxs)("div",{style:{borderRadius:20,backgroundColor:"#BE2E26",color:"#FFF",padding:10},children:[Object(Mt.jsx)("p",{style:{fontSize:18},children:Object(Mt.jsx)("strong",{children:e.name})}),Object(Mt.jsx)("p",{style:{fontSize:20,whiteSpace:"pre"},children:e.message}),Object(Mt.jsxs)("p",{style:{fontSize:12},children:["Fecha: ",U(e.id)]})]})},t)}))]})]}),Object(Mt.jsx)(un.a,{item:!0,xl:4,md:3,sm:2,xs:null})]}),Object(Mt.jsx)(sn.a,{onClick:function(){return n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Mt.jsx)(ln.a,{style:{color:"#ccc"}})})]})})},Yn=n(593),Gn=n(334),Un=n.n(Gn),Zn=function(e){var t=e.open,n=e.handleClose,a=e.astList,i=Object(r.useState)(screen.height),c=Object(d.a)(i,2),o=c[0],s=c[1],l=Object(r.useState)(screen.width),u=Object(d.a)(l,2),j=u[0],b=u[1];window.addEventListener("resize",(function(e){s(e.target.screen.availHeight),b(e.target.screen.availWidth)}));var m={width:j,height:o,facingMode:"user"};return Object(Mt.jsx)(cn.a,{open:t,style:{backgroundColor:"#ccc"},id:"cameraModal",children:Object(Mt.jsx)("div",{style:{textAlign:"center"},children:Object(Mt.jsx)(Un.a,{audio:!1,height:o,screenshotFormat:"image/jpeg",width:j,videoConstraints:m,children:function(e){var t=e.getScreenshot;return Object(Mt.jsx)("div",{style:{position:"absolute",width:"100%",textAlign:"center",bottom:100},children:Object(Mt.jsx)(Yn.a,{onClick:function(){var e=t();a.push({id:Date.now(),image:e}),n()},children:Object(Mt.jsx)(Vt.a,{icon:Jt.d})})})}})})})},Wn=function(e){var t=e.openSign,n=e.styleModal,a=e.setRefCanvasFunction,r=e.getImage,i=e.clear;return Object(Mt.jsx)(cn.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:n,children:[Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Mt.jsx)("h2",{children:"Para continuar deje su firma para la documentaci\xf3n. (Obligatorio)"})}),Object(Mt.jsxs)("div",{style:{width:"100%",textAlign:"center",position:"relative"},children:[Object(Mt.jsx)("div",{style:{position:"absolute",width:"100%",textAlign:"center",marginTop:10},children:Object(Mt.jsx)(Vt.a,{size:"lg",icon:Jt.y,color:"#333"})}),Object(Mt.jsx)($a,{disabled:!0,width:300,height:300,setRefCanvas:a})]}),Object(Mt.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[Object(Mt.jsx)("div",{style:{width:"50%",textAlign:"center",float:"left"},children:Object(Mt.jsxs)(On.a,{onClick:function(){return i()},style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:10},children:[Object(Mt.jsx)(Vt.a,{size:"lg",icon:Jt.n,color:"#333",style:{marginRight:10}})," Borrar"]})}),Object(Mt.jsx)("div",{style:{width:"50%",textAlign:"center",float:"right"},children:Object(Mt.jsxs)(On.a,{onClick:function(){return r()},style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:10},children:[Object(Mt.jsx)(Vt.a,{size:"lg",icon:Jt.B,color:"#333",style:{marginRight:10}})," Guardar"]})})]})]})})},Qn=Object(A.a)((function(e){return{appbar:{height:80,width:"100%",backgroundColor:"#fff",borderBottomRightRadius:30,color:"#000"},locationIcon:{height:60,width:100,display:"flex",alignItems:"center",justifyContent:"center"},locationText:{display:"flex",flex:1,justifyContent:"flex-end",alignItems:"center",fontSize:"1rem"},languageSelector:{marginRight:15,"&.MuiInputBase-root":{color:"white"},"& .MuiSelect-icon":{color:"white"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}}}})),Hn=function(){var e=Qn(),t=Wt().navBarOpen,n=Bt().isAuthenticated,a=Object(r.useState)(!1),i=Object(d.a)(a,2),c=i[0],o=i[1],s=Object(r.useState)(!1),l=Object(d.a)(s,2),b=l[0],m=l[1],h=Object(r.useState)(),g=Object(d.a)(h,2),p=g[0],x=g[1],O=Object(r.useState)(!0),f=Object(d.a)(O,2),v=f[0],y=f[1],w={},S=Object(u.f)();w.name=window.localStorage.getItem("name"),w.lastName=window.localStorage.getItem("lastName"),window.localStorage.getItem("role")&&(w.role=P(window.localStorage.getItem("role"))),Object(r.useEffect)((function(){return v&&n&&(navigator.onLine&&se(localStorage.getItem("_id")).then((function(e){e.data&&(e.data.sign||m(!0))})),navigator.onLine?o(!0):o(!1),window.addEventListener("online",(function(){o(!0)})),window.addEventListener("offline",(function(){o(!1),_t()({icon:Xt,title:"Alerta",subtitle:"P\xe9rdida de conexi\xf3n",message:"El dispositivo no cuenta con conexi\xf3n a internet.",theme:"red",native:!0})})),Notification.requestPermission().then((function(e){}))),function(){return y(!1)}}),[v]);if(n)return Object(Mt.jsx)(Qt.a,{className:e.appbar,children:Object(Mt.jsxs)("div",{className:"header-bar",children:[Object(Mt.jsxs)(Ht.a,{children:[!t&&Object(Mt.jsx)(j.b,{to:"/",children:Object(Mt.jsx)("img",{src:qt,height:75})}),n&&Object(Mt.jsx)(r.Fragment,{children:Object(Mt.jsx)("div",{className:"user-name",onClick:function(){S.push("/user-profile")},children:Object(Mt.jsxs)("dl",{children:[Object(Mt.jsx)("dt",{style:{margin:0},children:n&&Object(Mt.jsxs)("div",{children:[" ",Object(Mt.jsxs)("p",{className:"nombre",children:[" ",w.name," ",w.lastName," "]})," "]})}),Object(Mt.jsxs)("dt",{children:[" ",w.role," "]})]})})}),Object(Mt.jsxs)("div",{style:{position:"absolute",right:10},children:[("admin"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Mt.jsx)("button",{onClick:function(){rn("test",localStorage.getItem("_id"),"Env\xedo prueba","Todos los usuarios","Se env\xeda notificaci\xf3n de prueba a todos los usuarios.")},children:"Notif. Test"}),Object(Mt.jsxs)("p",{children:[Object(Mt.jsx)(Vt.a,{icon:Jt.g,color:c?"#2FB83F":"#B62800"})," ",c?"Online":"Offline"]}),!c&&Object(Mt.jsx)("p",{children:"Sin red"})]})]}),Object(Mt.jsx)(Wn,{openSign:b,styleModal:M,setRefCanvasFunction:function(e){x(e)},getImage:function(){ce({sign:p.toDataURL()},localStorage.getItem("_id")).then((function(e){m(!1),alert("Muchas gracias. Su firma ha sido actualizada.")}))},clear:function(){p.clear()}})]})})},Jn=n(669),Vn=n(644),qn=n(186),Xn=Object(A.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}})),Kn=function(){var e=Gt().dictionary,t=Bt(),n=t.login,a=t.loginRut,i=Object(r.useState)(""),c=Object(d.a)(i,2),o=c[0],j=c[1],b=Object(r.useState)(""),m=Object(d.a)(b,2),h=m[0],g=m[1],p=Object(r.useState)(""),x=Object(d.a)(p,2),O=x[0],f=x[1],v=Object(r.useState)("email"),y=Object(d.a)(v,2),w=y[0],S=y[1],C=Object(r.useState)("rut"),A=Object(d.a)(C,2),k=A[0],I=A[1],D=Xn(),R=Object(r.useState)({}),M=Object(d.a)(R,2),E=(M[0],M[1],Object(u.f)()),N=Object(r.useState)("password"),B=Object(d.a)(N,2),T=B[0],z=B[1],P=function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"rut":return g(Object(qn.format)(e.target.value));case"email":return j(e.target.value);case"password":return f(e.target.value)}};Object(r.useEffect)((function(){E.location.pathname.length>1&&E.replace("/")}),[]);var F=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"email"!==w){e.next=8;break}return e.next=4,n(o,O);case 4:e.sent,e.next=13;break;case 8:if("rut"!==w){e.next=13;break}return e.next=11,a(h,O);case 11:e.sent;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Mt.jsx)(un.a,{container:!0,style:{padding:10,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("form",{onSubmit:F,children:Object(Mt.jsxs)(un.a,{container:!0,item:!0,spacing:2,children:["rut"===w&&Object(Mt.jsx)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Mt.jsx)(Jn.a,{type:"text",name:"rut",label:e.login.rutField,value:h,onChange:P,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),"email"===w&&Object(Mt.jsx)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Mt.jsx)(Jn.a,{type:"email",name:"email",label:e.login.emailField,value:o,onChange:P,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(Mt.jsxs)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:[Object(Mt.jsx)(Jn.a,{type:T,name:"password",label:e.login.passwordField,value:O,onChange:P,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}}),Object(Mt.jsxs)(Yn.a,{style:{width:0,position:"relative",right:25,zIndex:1,padding:0},onClick:function(){z("password"===T?"text":"password")},children:["password"===T&&Object(Mt.jsx)(Vt.a,{icon:Jt.o}),"text"===T&&Object(Mt.jsx)(Vt.a,{icon:Jt.p})]})]}),Object(Mt.jsx)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Mt.jsx)(On.a,{className:D.button,style:{marginBottom:20},type:"submit",variant:"contained",color:"primary",children:e.login.loginButton})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Mt.jsxs)(On.a,{className:D.button,variant:"contained",onClick:function(){"email"===w?(S("rut"),I("email")):(S("email"),I("rut"))},children:["Usar ",k]})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",children:"rut"===k&&Object(Mt.jsxs)(Vn.a,{href:"/reset-password",children:[" ",e.login.forgotPasswordText," "]})})]})})})},_n=n(125),$n=n(645),ea=n(26),ta=n.p+"static/media/Logologo_icv_1.054cafd3.svg",na=Object(A.a)((function(e){return{drawer:{width:250,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:330,maxWidth:"100vw",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},drawerClose:{width:"15vw",maxWidth:99,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:" hidden"},drawerPaper:{marginTop:0,backgroundColor:"#212121",border:"none",borderEndEndRadius:30,borderTopRightRadius:30},drawerContainer:{position:"relative"},drawerBottom:{position:"absolute",backgroundColor:"rgb(228, 228, 228)",width:"100%",display:"flex",bottom:0,padding:5},bottomButtons:{height:54,width:54},sideButtons:{width:"5vh",maxWidth:26,height:"2.5vh",color:"#FFFFFF"},sideButtonsCloseMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:100,paddingTop:40},sideButtonsOpenMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:20,paddingTop:40},divider:{width:"100%",backgroundColor:"rgba(255, 255, 255, 0.18)"},searchField:{"& .MuiFormLabel-root":{color:"white"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"},"& .fa-search":{color:"white"},"& .MuiInputBase-input":{color:"white"}},listItemText:{whiteSpace:"normal",color:"white",fontWeight:"bold"}}})),aa=function(e){e.getNotification;var t,n,a=na(),i=Wt(),c=i.navBarOpen,o=i.handleNavBar,b=(Bt().userData,Object(r.useState)()),m=Object(d.a)(b,2),h=(m[0],m[1]),g=Object(r.useState)(""),p=Object(d.a)(g,2),x=p[0],O=p[1],f=Object(u.f)(),v=Object(r.useState)(!0),y=Object(d.a)(v,2),w=y[0],C=y[1],A=Object(r.useState)(!0),k=Object(d.a)(A,2),I=k[0],D=k[1],R=Object(r.useState)(!1),M=Object(d.a)(R,2),E=M[0],N=M[1],B=Object(r.useState)(!1),T=Object(d.a)(B,2),z=T[0],P=T[1],F=Object(r.useState)(!1),L=Object(d.a)(F,2),Y=L[0],G=L[1],U=Object(r.useState)(!0),Z=Object(d.a)(U,2),W=Z[0],Q=Z[1],H=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:confirm("Confirme salida de la aplicaci\xf3n. Para volver a iniciar sesi\xf3n requiere contar con internet para validar las credenciales.")&&(window.localStorage.clear(),window.location.reload(),J());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent).length>0&&t.forEach((function(e,t){"3Ds"===e.name||"MachinesParts"===e.name||window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){c&&o()},q={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return q.Android()||q.BlackBerry()||q.iOS()||q.Opera()||q.Windows()},other:function(){return navigator.userAgent.match(/Mozilla/i)||navigator.userAgent.match(/AppleWebKit/i)||navigator.userAgent.match(/Chrome/i)||navigator.userAgent.match(/Safari/i)}};return Object(r.useEffect)((function(){if(W){var e=Object($t.a)();navigator.onLine&&(e.on("test_".concat(localStorage.getItem("_id")),(function(e){_t()({icon:Xt,title:"Test",subtitle:"Notifications",message:e.message,theme:"red",duration:5e3,native:!0})})),e.on("notification_".concat(localStorage.getItem("_id")),(function(e){_t()({icon:Xt,title:e.title,subtitle:e.subtitle,message:e.message,theme:"red",duration:5e3,native:!0})}))),"admin"!==localStorage.getItem("role")&&"superAdmin"!==localStorage.getItem("role")||C(!1),"admin"!==localStorage.getItem("role")&&"superAdmin"!==localStorage.getItem("role")&&"sapExecutive"!==localStorage.getItem("role")&&"shiftManager"!==localStorage.getItem("role")||D(!1),O(f.location.pathname),f.listen((function(e){O(e.pathname)}))&&h(!0);var t=setInterval((function(){localStorage.getItem("sitio")?(h(!0),clearInterval(t)):h(!1)}),1e3)}return function(){return Q(!1)}}),[W]),Object(Mt.jsx)("div",{children:Object(Mt.jsx)(_n.a,{className:Object(ea.a)(Object(ea.a)(a.drawer,(t={},Object(S.a)(t,a.drawerOpen,c),Object(S.a)(t,a.drawerClose,!c),t))),variant:"permanent",classes:{paper:Object(ea.a)(a.drawerPaper,(n={},Object(S.a)(n,a.drawerOpen,c),Object(S.a)(n,a.drawerClose,!c),n))},children:Object(Mt.jsxs)("div",{className:a.drawerContainer,children:[Object(Mt.jsx)(un.a,{container:!0,spacing:2,style:{padding:c?8:"8px 0 0 0"},children:Object(Mt.jsxs)(un.a,{item:!0,xs:12,container:!0,children:[Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"right":"center"},children:Object(Mt.jsx)(Yn.a,{title:c?"Cerrar Men\xfa":"Abrir Men\xfa",onClick:o,className:c?a.sideButtonsOpenMenu:a.sideButtonsCloseMenu,children:c?Object(Mt.jsx)(ln.a,{}):Object(Mt.jsx)($n.a,{})})}),c&&Object(Mt.jsxs)("div",{style:{padding:10},children:[Object(Mt.jsx)("img",{height:60,src:ta,alt:""}),Object(Mt.jsx)("p",{style:{color:"#fff",margin:0},children:"Ingenier\xeda Civil Vicente"})]}),Object(Mt.jsx)("div",{style:{height:1,backgroundColor:"#fff",width:"100%",marginRight:10,marginLeft:10}}),Object(Mt.jsx)("div",{style:{width:"100%",marginTop:40,textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"Inicio",children:Object(Mt.jsxs)(j.b,{to:"/",className:a.sideButtons,style:{textDecoration:"none",color:"/"===x?"#BE2E26":"#FFFFFF"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.q})," ",c?" Inicio":""]})})}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"Listado Asignaciones",children:Object(Mt.jsxs)(j.b,{to:"/assignment",className:a.sideButtons,style:{color:x.includes("/assignment")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.t})," ",c?" Listado Asignaciones":""]})})}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"M\xe1quinas",children:Object(Mt.jsxs)(j.b,{to:"/machines",className:a.sideButtons,style:{textDecoration:"none",color:x.match("/machines")?"#BE2E26":"#FFFFFF"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.G})," ",c?" M\xe1quinas":""]})})}),!w&&Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"Obras",children:Object(Mt.jsxs)(j.b,{to:"/sites",className:a.sideButtons,style:{color:"/sites"===x?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.v})," ",c?" Obras":""]})})}),!I&&Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"Ordenes de Trabajo",children:Object(Mt.jsxs)(j.b,{to:"/reports",className:a.sideButtons,style:{color:x.includes("/reports")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.i})," ",c?" Ordenes de Trabajo":""]})})}),!w&&Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"Administraci\xf3n",children:Object(Mt.jsxs)(j.b,{to:"/administration",className:a.sideButtons,style:{color:x.includes("/administration")||x.includes("/users")||x.includes("/edit-user")||x.includes("/new-users")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.I})," ",c?" Administraci\xf3n":""]})})}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"Perfil",children:Object(Mt.jsxs)(j.b,{to:"/user-profile",className:a.sideButtons,style:{color:x.includes("/user-profile")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.H})," ",c?" Perfil":""]})})}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"Int. Artificial",onClickCapture:function(){P(!0)},children:Object(Mt.jsxs)("div",{className:a.sideButtons,style:{color:"/pms"===x?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.A})," ",c?" Int. Artificial":""]})})}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"Mensajes App",onClickCapture:function(){G(!0)},children:Object(Mt.jsxs)("div",{className:a.sideButtons,style:{color:"/pms"===x?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.k})," ",c?" Mensajes App":""]})})}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"Informaci\xf3n",onClickCapture:function(){N(!0)},children:Object(Mt.jsxs)("div",{className:a.sideButtons,style:{color:"/information"===x?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.s})," ",c?" Informaci\xf3n":""]})})}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"Informaci\xf3n",onClickCapture:function(){q.Android()?window.location.replace("market://details?id=org.opencascade.cadassistant"):alert("Su dispositivo no cuenta con el link a Cad Assistant")},children:Object(Mt.jsxs)("div",{className:a.sideButtons,style:{color:"/information"===x?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.m})," ",c?" Cad Assistant":""]})})}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:V,title:"Limpiar Datos",onClickCapture:function(){confirm("Limpiar\xe1 toda la data del sistema y cerrar\xe1 la sesi\xf3n. Una vez terminado vuelva a iniciar.")&&window.indexedDB.databases().then((function(e){console.log(e),e.forEach((function(t,n){window.indexedDB.deleteDatabase(t.name),n==e.length-1&&(window.localStorage.clear(),window.location.reload(),J())}))}))},children:Object(Mt.jsxs)("div",{className:a.sideButtons,style:{color:"/information"===x?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.F})," ",c?" Limpiar Datos":""]})})}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:c?"left":"center"},children:Object(Mt.jsx)(Yn.a,{onClick:H,title:"Cerrar Sesi\xf3n",children:Object(Mt.jsxs)("div",{className:a.sideButtons,children:[Object(Mt.jsx)(Vt.a,{icon:Jt.D})," ",c?" Cerrar Sesi\xf3n":""]})})})]})}),E&&Object(Mt.jsx)(xn,{open:E,closeModal:function(){N(!1)}}),z&&Object(Mt.jsx)(wn,{open:z,closeModal:function(){P(!1)}}),Y&&Object(Mt.jsx)(Pn,{open:Y,closeModal:function(){G(!1)}})]})})})},ra=(n(668),Object(A.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}}))),ia=function(){var e=Gt().dictionary,t=(Bt().login,Object(r.useState)("")),n=Object(d.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(!1),o=Object(d.a)(c,2),j=o[0],b=o[1],m=ra(),h=Object(u.f)(),g=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,t.preventDefault(),e.next=5,p();case 5:n=e.sent,console.log(n),n.data.status?"no-email"===n.data.status&&(alert(n.data.message),b(!1)):(alert(n.data.message),b(!1),h.replace("/")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("No se pudo obtener el reset");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){return new Promise((function(e){J(a).then((function(t){e(t)})).catch((function(t){e(t)}))}))};return Object(Mt.jsxs)(un.a,{container:!0,style:{padding:20,height:"50%"},alignItems:"center",justifyContent:"center",children:[Object(Mt.jsx)("form",{onSubmit:g,children:Object(Mt.jsxs)(un.a,{container:!0,item:!0,spacing:2,children:[Object(Mt.jsx)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Mt.jsx)(Jn.a,{type:"email",name:"email",label:e.login.emailField,value:a,onChange:function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"email":return i(e.target.value)}},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Mt.jsx)(On.a,{className:m.button,type:"submit",variant:"contained",color:"primary",children:"SOLICITAR"})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(Mt.jsx)(On.a,{className:m.button,variant:"contained",color:"primary",onClick:function(){h.goBack()},children:"VOLVER"})})]})}),j&&Object(Mt.jsx)(jn,{open:j,loadingData:"Solicitando restablecer contrase\xf1a",withProgress:!1})]})},ca=(n(544),Object(A.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}}))),oa=function(e){var t=e.id,n=Gt().dictionary,a=Object(r.useState)(""),i=Object(d.a)(a,2),c=i[0],o=i[1],j=Object(r.useState)(""),b=Object(d.a)(j,2),m=b[0],h=b[1],g=Object(r.useState)(""),p=Object(d.a)(g,2),x=p[0],O=p[1],f=Object(r.useState)(!1),v=Object(d.a)(f,2),y=v[0],w=v[1],S=Object(r.useState)(!1),C=Object(d.a)(S,2),A=C[0],k=C[1],I=ca(),D=Object(u.f)(),R=Object(r.useState)("password"),M=Object(d.a)(R,2),E=M[0],N=M[1],B=Object(r.useState)("password"),T=Object(d.a)(B,2),z=T[0],P=T[1];Object(r.useEffect)((function(){O(t)}),[]);var F=function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"password":return o(e.target.value);case"confirmPassword":return h(e.target.value)}},L=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c===m?c.length>5?V(c,x).then((function(e){alert("Contrase\xf1a cambiada con \xe9xito"),D.push("/")})).catch((function(e){alert("Error al crear contrase\xf1a. El correo utilizado est\xe1 vencido. Revise si le ha llegado un correo nuevo con la solicitud de restauraci\xf3n de contrase\xf1a actualizado o espere un m\xe1ximo de 10 minutos m\xe1s. Si el error persiste, contacte al administrador.")})):alert("Contrase\xf1a debe contener al menos 6 car\xe1cteres."):alert("Contrase\xf1as ingresadas no coinciden");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){w(c!==m),c.length<6?k(!0):k(!1)};return Object(Mt.jsx)(un.a,{container:!0,style:{padding:20,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("form",{children:Object(Mt.jsxs)(un.a,{container:!0,item:!0,spacing:2,children:[Object(Mt.jsxs)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",children:[Object(Mt.jsx)(Jn.a,{type:E,name:"password",label:n.restorePassword.passwordField,value:c,onChange:F,onBlur:function(e){return Y()},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"},id:"password"}),Object(Mt.jsxs)(Yn.a,{style:{width:0,position:"relative",right:25,zIndex:1,padding:0},onClick:function(){N("password"===E?"text":"password")},children:["password"===E&&Object(Mt.jsx)(Vt.a,{icon:Jt.o}),"text"===E&&Object(Mt.jsx)(Vt.a,{icon:Jt.p})]})]}),Object(Mt.jsxs)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:[Object(Mt.jsx)(Jn.a,{type:z,name:"confirmPassword",label:n.restorePassword.confirmPasswordField,value:m,onChange:F,onBlur:function(e){return Y()},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"},id:"c_password"}),Object(Mt.jsxs)(Yn.a,{style:{width:0,position:"relative",right:25,zIndex:1,padding:0},onClick:function(){P("password"===z?"text":"password")},children:["password"===z&&Object(Mt.jsx)(Vt.a,{icon:Jt.o}),"text"===z&&Object(Mt.jsx)(Vt.a,{icon:Jt.p})]})]}),A&&Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Mt.jsx)("p",{style:{color:"red"},children:Object(Mt.jsx)("strong",{children:"Contrase\xf1as deben ser de 6 car\xe1cteres m\xednimo"})})}),y&&Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Mt.jsx)("p",{style:{color:"red"},children:Object(Mt.jsx)("strong",{children:"Contrase\xf1as no coinciden"})})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:Object(Mt.jsx)(On.a,{className:I.button,variant:"contained",color:"primary",onClick:function(){L()},children:n.restorePassword.button})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:Object(Mt.jsx)(On.a,{className:I.button,variant:"contained",color:"primary",onClick:function(){D.replace("/")},children:n.restorePassword.cancel})})]})})})},sa=n(646),la=(Object(A.a)((function(e){return{}})),Object(A.a)((function(e){return{}})),n(545),n(546),n(647)),da=function(e,t){return console.log(e,t),"793-F"===t?"Sistema_direccion"===e?[{title:"Acumuladores",position:"1.3 3.5 3.3",normal:"0 0.05 0.69",orbit:"225deg 45deg 3m",target:"1.3m 2.7m 3.3m"},{title:"Sistema Hidraulico Direcci\xf3n",position:"0 1.93 2.5",normal:"0.73 0.05 0.69",orbit:"45deg 45deg 2.5m",target:"0m 1.7m 2.5m"},{title:"Cilindro Hidraulico 1",position:"-0.6 1.7 2.5",normal:"0.73 0.05 0.69",orbit:"45deg 45deg 2m",target:"-0.6m 1.5m 2.5m"},{title:"Cilindro Hidraulico 2",position:"0.6 1.7 2.5",normal:"0.73 0.05 0.69",orbit:"45deg 45deg 2m",target:"0.6m 1.5m 2.5m"},{title:"Bomba Direcci\xf3n",position:"-0.5 2.25 1",normal:"0.73 0.05 0.69",orbit:"10deg 80deg 2m",target:"-0.5m 1.9m 1m"}]:"Neumaticos"===e?[{title:"Neum\xe1tico",position:"2.6 2.5 2.5",normal:"0.73 0.05 0.69",orbit:"125deg 90deg 6m",target:"2.3m 1.45m 2.8m"},{title:"Aro",position:"2.6 1.93 2.5",normal:"0.73 0.05 0.69",orbit:"125deg 90deg 3m",target:"2.3m 1.45m 2.6m"}]:"Sistema_hidraulico"===e?[{title:"Filtros de Malla",position:"-0.4 2.7 -0.2",normal:"0 -0.05 -0.69",orbit:"200deg 90deg 1.5m",target:"-0.4m 2.4m -0.2m"},{title:"Cilindro de levante 1",position:"1.1 3.5 -0.7",normal:"0 -0.05 -0.69",orbit:"180deg 65deg 3m",target:"1.1m 2.8m -0.7m"},{title:"Cilindro de levante 2",position:"-1.1 3.5 -0.7",normal:"0 -0.05 -0.69",orbit:"240deg 65deg 3m",target:"-1.1m 2.8m -0.7m"},{title:"Enfriadores de aceite",position:"0.36 3 0.55",normal:"0 0.05 0.5",orbit:"20deg 65deg 3m",target:"0.36m 2m 0.55m"},{title:"Bomba de levante",position:"-0.4 2.35 0.55",normal:"0 0.05 0.5",orbit:"20deg 90deg 1.5m",target:"-0.4m 2.1m 0.55m"}]:"Estructura"===e?[{title:"AFEX",position:"-1.8 4.8 2.9",normal:"0.73 0.05 0.69",orbit:"45deg 60deg 1.5m",target:"-1.8m 4.4m 2.9m"},{title:"Filtro de Aire 4",position:"2.1 3 5.1",normal:"0.73 0.05 0.69",orbit:"45deg 90deg 2m",target:"2.1m 3.3m 5.2m"},{title:"Filtro de Aire 3",position:"1.6 3 5.1",normal:"0.73 0.05 0.69",orbit:"45deg 90deg 2m",target:"1.6m 3.3m 5.2m"},{title:"Filtro de Aire 2",position:"-1.6 3 5.1",normal:"0.73 0.05 0.69",orbit:"330deg 90deg 2m",target:"-1.6m 3.3m 5.2m"},{title:"Filtro de Aire 1",position:"-2.1 3 5.1",normal:"0.73 0.05 0.69",orbit:"330deg 90deg 2m",target:"-2.1m 3.3m 5.2m"}]:"Chasis"===e?[{title:"Articulaci\xf3n Eje Trasero",position:"0 0.7 -0.5",normal:"0 -0.05 -0.69",orbit:"250deg 100deg 3m",target:"0m 1m -0.5m"},{title:"Eslabones de suspenci\xf3n trasera",position:"0 1.5 -2",normal:"0 -0.05 -0.69",orbit:"225deg 100deg 2m",target:"0m 1.5m -2m"},{title:"Cross tube",position:"0 2.1 0",normal:"0 -0.05 -0.69",orbit:"0deg 180deg 3m",target:"0m 2.1m 0m"},{title:"Steering box",position:"0 1.8 2.6",normal:"0 0.05 0.69",orbit:"0deg 20deg 1.5m",target:"0m 1.7m 2.6m"},{title:"Pad tolva",position:"0.8 2.7 -1.5",normal:"0 -0.05 0.69",orbit:"0deg 20deg 2m",target:"0.8m 2.7m -1.5m"}]:"Maza"===e?[{title:"Maza derecha",position:"-1 1.93 2.5",normal:"0 0.05 -1",orbit:"-125deg 90deg 4m",target:"-2.3m 1.45m 2.6m"},{title:"Maza izquierda",position:"1 1.93 2.5",normal:"0 0.05 1",orbit:"125deg 90deg 4m",target:"2.3m 1.45m 2.6m"}]:"Sistema_neumatico"===e?[{title:"Condensador de aire",position:"-0.05 2.4 4.65",normal:"0 0.05 1",orbit:"0deg 90deg 4m",target:"-0.05m 2.35m 4.65m"},{title:"Compresor de aire acondocionado",position:"-0.7 2.15 4",normal:"0 0.05 -1",orbit:"-145deg 90deg 0.7m",target:"-0.7m 2.3m 4m"},{title:"Compresor de aire",position:"-0.45 2.2 4.2",normal:"0 0.05 -1",orbit:"125deg 75deg 1m",target:"-0.45m 2.35m 4.2m"}]:"Suspension"===e?[{title:"Suspensi\xf3n delantera 1",position:"-1.6 4 2.7",normal:"0 0.05 1",orbit:"0deg 55deg 4m",target:"-1.6m 3m 2.7m"},{title:"Suspensi\xf3n delantera 2",position:"1.6 4 2.7",normal:"0 0.05 1",orbit:"60deg 55deg 4m",target:"1.6m 3m 2.7m"},{title:"Suspensi\xf3n trasera 1",position:"-0.6 3 -3.2",normal:"0 0.05 1",orbit:"0deg 55deg 3m",target:"-0.6m 2m -3.2m"},{title:"Suspensi\xf3n trasera 2",position:"0.6 3 -3.25",normal:"0 0.05 1",orbit:"60deg 55deg 3m",target:"0.6m 2m -3.25m"}]:"Transmision"===e?[{title:"Caja de transferencia",position:"0 2.4 -1.2",normal:"0 -0.05 1",orbit:"300deg 55deg 1.5m",target:"0m 2.2m -1.2m"},{title:"Transmisi\xf3n",position:"0 2.2 -2",normal:"0 -0.05 1",orbit:"300deg 55deg 3m",target:"0m 1.7m -2m"},{title:"Mando Final Izquierdo",position:"2 2.2 -2",normal:"0 -0.05 1",orbit:"300deg 55deg 3m",target:"2m 1.7m -2m"},{title:"Mando Final Derecho",position:"-2 2.2 -2",normal:"0 -0.05 1",orbit:"300deg 55deg 3m",target:"-2m 1.7m -2m"},{title:"Uni\xf3n deslizante",position:"0 1.67 0",normal:"0 -0.05 -1",orbit:"10deg 55deg 3m",target:"0m 1.8m 0m"},{title:"Respiradero convertidor de torque",position:"0.5 3.5 1.4",normal:"0 0.05 1",orbit:"60deg 55deg 1m",target:"0.5m 3.2m 1.4m"},{title:"Convertidor de torque",position:"0 1.4 1.4",normal:"0 0.05 1",orbit:"60deg 120deg 3m",target:"0m 2m 1.4m"},{title:"P.T.O.",position:"-0.45 2.5 0.85",normal:"0 -0.05 -1",orbit:"240deg 50deg 1m",target:"-0.45m 2.25m 0.85m"}]:"Motor"===e?[{title:"Motor",position:"1 2.5 2",normal:"0 -0.05 2",orbit:"90deg 90deg 5m",target:"1 2.5 2"},{title:"Radiador",position:"0 4.5 4.7",normal:"0 0.05 1",orbit:"45deg 90deg 7m",target:"0m 3m 4.5m"},{title:"Tanque de Combustible",position:"2.3 3.5 0.5",normal:"-1 0.05 -1",orbit:"125deg 90deg 5m",target:"2.3m 2.5m 0.5m"},{title:"Filtro centr\xedfugo",position:"-0.3 3.1 1.5",normal:"-1 0.05 -1",orbit:"180deg 45deg 2m",target:"-0.3m 2.9m 1.5m"},{title:"Respiradero Motor 1",position:"0.3 3.1 2",normal:"-1 0.05 -1",orbit:"180deg 90deg 2m",target:"0.3m 2.9m 2m"},{title:"Respiradero Motor 2",position:"-0.3 3.1 2",normal:"-1 0.05 -1",orbit:"225deg 90deg 2m",target:"-0.3m 2.9m 2m"},{title:"Filtros de Combustible",position:"-0.3 1.5 3.7",normal:"-1 0.05 -1",orbit:"225deg 110deg 2m",target:"-0.3m 1.5m 3.7m"},{title:"Bomba de Agua Auxiliar Derecho",position:"-0.45 1.9 4.2",normal:"0 -0.05 2",orbit:"0deg 140deg 2m",target:"-0.45m 1.9m 4.5m"},{title:"Bomba de Agua Auxiliar Izquierdo",position:"0.45 1.9 4.2",normal:"0 -0.05 2",orbit:"0deg 140deg 2m",target:"0.45m 1.9m 4.2m"},{title:"Bomba de Aceite de Motor",position:"0.45 1.9 3.8",normal:"0.7 0.5 1",orbit:"90deg 120deg 1.5m",target:"0.45m 2.1m 3.8m"},{title:"Enfriadores de Aceite de Motor",position:"0.45 1.9 2.7",normal:"0.7 0.5 1",orbit:"90deg 90deg 1.5m",target:"0.45m 2m 2.7m"},{title:"V\xe1lvula Termost\xe1tica",position:"0.55 2.4 4.5",normal:"0.7 0.5 1",orbit:"120deg 90deg 1.5m",target:"0.55m 2.25m 4.5m"},{title:"Filtros de Autolimpieza",position:"-0.45 1.9 2.7",normal:"-1 0.05 -1",orbit:"225deg 110deg 2m",target:"-0.45m 2.1m 2.7m"},{title:"Turbos",position:"0 3.5 3.9",normal:"-1 0.05 -1",orbit:"225deg 45deg 2m",target:"0m 3.1m 3.9m"},{title:"Silenciadores",position:"-2.3 3.5 2",normal:"-1 0.05 -1",orbit:"225deg 90deg 2.5m",target:"-2.3m 4m 2m"},{title:"Ductos de escape",position:"-1.2 3.5 2",normal:"-1 0.05 -1",orbit:"180deg 90deg 2.5m",target:"-1.2m 4m 2m"}]:"Cabina"===e?[{title:"Cintur\xf3n de seguridad",position:"2.45 4.5 2.7",normal:"0 -0.05 2",orbit:"-45deg 90deg 0.7m",target:"2.45m 4.5m 2.7m"},{title:"Plumilla 1",position:"2.45 5 4",normal:"0 0.05 1",orbit:"45deg 90deg 1m",target:"2.45m 4.7m 4m"},{title:"Plumilla 2",position:"1.1 5 4",normal:"0 0.05 1",orbit:"-45deg 90deg 1m",target:"1.1m 4.7m 4m"},{title:"Manubrio",position:"2.2 4.5 3.5",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"2.2m 4.5m 3.5m"},{title:"Monitor Vims",position:"1.7 4.5 3.5",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"1.7m 4.5m 3.5m"},{title:"Selector de Marcha",position:"1.8 4.25 3.25",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"1.8m 4.25m 3.25m"},{title:"Control de Levante",position:"1.6 4.25 3.25",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"1.6m 4.25m 3.25m"},{title:"Asiento chofer",position:"2.2 4.45 3",normal:"0 0.05 1",orbit:"0deg 55deg 0.7m",target:"2.2m 4.45m 3m"},{title:"Asiento copiloto",position:"1.3 4.45 3",normal:"0 0.05 1",orbit:"0deg 55deg 0.7m",target:"1.3m 4.45m 3m"}]:[]:"PC5500"===t?"Chasis"===e?[{title:"Chasis",position:"0 3.1 -4",normal:"-0.7 -0.05 -0.69",orbit:"170deg 70deg 6.5m",target:"0m 3.1m -4m"},{title:"Corona de Giro",position:"-1.75 2.1 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 80deg 4m",target:"-1m 2.1m -2m"},{title:"Bastidor",position:"-2 1.7 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 4m",target:"-1m 1.7m -2m"}]:"Cabina"===e?[{title:"Controles de traslaci\xf3n",position:"2.2 4.85 0",normal:"0 -0.05 2",orbit:"-45deg 70deg 0.7m",target:"2.2m 4.85m -0.3m"},{title:"Joystick 1",position:"2.45 5.2 -0.55",normal:"0 0.05 1",orbit:"10deg 60deg 1m",target:"2.45m 5.2m -0.7m"},{title:"Joystick 2",position:"2.1 5.2 -0.55",normal:"0 0.05 1",orbit:"10deg 60deg 1m",target:"2.1m 5.2m -0.7m"}]:"Electrico"===e?[{title:"Gabinete el\xe9ctrico 1",position:"1.4 5.6 -4.6",normal:"0 -0.05 2",orbit:"-45deg 45deg 2m",target:"1.4m 5.3m -4.6m"},{title:"Gabinete el\xe9ctrico 2",position:"-1.6 5.4 -4",normal:"0 -0.05 2",orbit:"-45deg 65deg 1m",target:"-1.6m 5.1m -4m"},{title:"Gabinete el\xe9ctrico 3",position:"-2.1 5.4 -6",normal:"0.5 0.05 2",orbit:"80deg 65deg 2m",target:"-2.1m 5.1m -6m"},{title:"Sala El\xe9ctrica",position:"2.1 3.5 -1",normal:"-2 0.05 2",orbit:"-120deg 90deg 4m",target:"2.1m 3.5m -1m"},{title:"Bater\xedas",position:"2.2 2.6 -4.6",normal:"-2 0.05 2",orbit:"-100deg 70deg 3m",target:"2.1m 2m -4.6m"}]:"Estructura"===e?[{title:"Gabinete el\xe9ctrico 1",position:"1.4 5.6 -4.6",normal:"0 -0.05 2",orbit:"-45deg 45deg 2m",target:"1.4m 5.3m -4.6m"},{title:"Gabinete el\xe9ctrico 2",position:"-1.6 5.4 -4",normal:"0 -0.05 2",orbit:"-45deg 65deg 1m",target:"-1.6m 5.1m -4m"},{title:"Gabinete el\xe9ctrico 3",position:"-2.1 5.4 -6",normal:"0.5 0.05 2",orbit:"100deg 65deg 2m",target:"-2.1m 5.1m -6m"},{title:"Tanques sistema AFEX",position:"-1.4 5.6 -5",normal:"-0.04 0.07 0.9",orbit:"0deg 65deg 4m",target:"-1.4m 5.1m -5m"},{title:"Tubos de escape",position:"-1 6.1 -5",normal:"-0.04 0.07 0.9",orbit:"-45deg 65deg 4m",target:"-1m 5.7m -5m"},{title:"Caja de filtros",position:"0.8 6.1 -4.7",normal:"-0.04 0.07 0.9",orbit:"45deg 65deg 4m",target:"0.8m 5.7m -4.7m"},{title:"Bombas de engrase",position:"2 5.6 -5.5",normal:"-0.04 0.07 0.9",orbit:"45deg 65deg 4m",target:"2m 5.4m -5.5m"},{title:"Tanques de grasa",position:"2 4.9 -5.5",normal:"-0.04 0.07 0.9",orbit:"45deg 65deg 4m",target:"2m 4.7m -5.5m"}]:"Implemento"===e?[{title:"Boom",position:"0 6.5 2",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 6.3m 2m"},{title:"Cilindros Levante",position:"0 4.5 2",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 4.5m 2m"},{title:"Stick",position:"0 5 6",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 4.7m 6m"},{title:"Cilindros Stick",position:"0 8.5 6",normal:"0.04 0.07 0.9",orbit:"90deg 90deg 6m",target:"0m 8.3m 6m"},{title:"Cilindros Balde",position:"0 5 8",normal:"0.04 0.07 0.9",orbit:"45deg 90deg 6m",target:"0m 4.7m 8m"},{title:"Balde",position:"0 1 6",normal:"1 -0.5 0.9",orbit:"120deg 90deg 6m",target:"0m 1m 6m"}]:"Mando_de_giro"===e?[{title:"Corona de Giro",position:"-1 2.1 -1.5",normal:"0.7 -0.05 -0.69",orbit:"120deg 45deg 4m",target:"-1m 2.1m -1.5m"},{title:"Motores de Giro",position:"-1 3.5 -2.7",normal:"0.7 -0.05 -0.69",orbit:"100deg 70deg 2m",target:"-1m 3.5m -2.7m"},{title:"Reductores de Giro",position:"-1 2.5 -2.7",normal:"0.7 -0.05 -0.69",orbit:"100deg 70deg 2m",target:"-1m 2.5m -2.7m"}]:"Mando_final"===e?[{title:"Rotary",position:"-0 2.1 -2",normal:"0.7 -0.05 -0.69",orbit:"120deg 45deg 4m",target:"-0m 2.1m -2m"},{title:"Mando Final Derecho",position:"1.5 1 -3.7",normal:"0.7 0.05 0.69",orbit:"70deg 70deg 3m",target:"1.5m 1m -4.2m"},{title:"Mando Final Izquierdo",position:"-1.5 1 -3.7",normal:"0.7 0.05 0.69",orbit:"350deg 70deg 3m",target:"-1.5m 1m -4.2m"},{title:"Motores Hidr\xe1ulicos de Traslaci\xf3n Derecho",position:"0.7 0.5 -4",normal:"0.7 0.05 0.69",orbit:"350deg 120deg 3m",target:"0.7m 0.5m -4m"},{title:"Motores Hidr\xe1ulicos de Traslaci\xf3n Izquierdo",position:"-0.7 0.5 -4",normal:"0.7 0.05 0.69",orbit:"350deg 120deg 3m",target:"-0.7m 0.5m -4m"}]:"Motor"===e?[{title:"Compresor Aire Acondicionado (1 por motor)",position:"0.4 3.6 -6",normal:"-0.7 0.05 -0.69",orbit:"200deg 120deg 1m",target:"0.4m 3.5m -6m"},{title:"Motores de Partida (1 por motor)",position:"-0.7 3.6 -5.9",normal:"-0.7 0.05 -0.69",orbit:"180deg 120deg 1m",target:"-0.7m 3.5m -5.9m"},{title:"Ductos de Escape",position:"-0.7 4.8 -5.5",normal:"-0.7 0.05 -0.69",orbit:"190deg 45deg 4m",target:"-0.7m 4.5m -5.5m"},{title:"Ductos de Escape",position:"-0.7 4.8 -4.3",normal:"-0.7 0.05 -0.69",orbit:"300deg 45deg 4m",target:"-0.7m 4.5m -4.3m"},{title:"Tubos Motor 1",position:"0 4.5 -5.5",normal:"-0.7 0.05 -0.69",orbit:"190deg 45deg 4m",target:"0m 4.3m -5.5m"},{title:"Tubos Motor 2",position:"0 4.5 -4.3",normal:"-0.7 0.05 -0.69",orbit:"300deg 45deg 4m",target:"0m 4.3m -4.3m"},{title:"Filtro Eliminator (1 por motor)",position:"-0.4 3.5 -4",normal:"0.7 0.05 0.69",orbit:"320deg 70deg 2m",target:"-0.4m 3.5m -3.8m"},{title:"Bomba de Agua (1 por motor)",position:"0.2 3.5 -4",normal:"0.7 0.05 0.69",orbit:"320deg 70deg 2m",target:"0.2m 3.5m -3.7m"},{title:"Tanque de Expansi\xf3n del Radiador Motor 1",position:"1.5 4.5 -5.5",normal:"0.7 0.05 0.69",orbit:"300deg 80deg 1m",target:"1.5m 4.3m -5.5m"},{title:"Tanque de Expansi\xf3n del Radiador Motor 2",position:"1.5 4.5 -4.3",normal:"0.7 0.05 0.69",orbit:"300deg 80deg 1m",target:"1.5m 4.3m -4.3m"},{title:"Radiador Motor 1",position:"1.5 2.5 -5.5",normal:"-0.7 0.05 0.69",orbit:"300deg 120deg 4m",target:"1.5m 2.5m -5.5m"},{title:"Radiador Motor 2",position:"1.5 2.5 -4.3",normal:"-0.7 0.05 0.69",orbit:"300deg 120deg 4m",target:"1.5m 2.5m -4.3m"},{title:"Filtro Combustible Separador de Agua",position:"1.5 4.2 -6.6",normal:"0.7 0.05 0.69",orbit:"350deg 80deg 1m",target:"1.5m 4m -6.6m"}]:"PTO"===e?[{title:"Acople Flexible",position:"-1 3.8 -4.3",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 3m",target:"-1m 3.6m -4.3m"},{title:"Acople Flexible",position:"-1 3.8 -5.5",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 3m",target:"-1m 3.6m -5.5m"},{title:"Bomba Ventilador Enfriador de Aceite Hidr\xe1ulico",position:"-1.5 3.9 -4.55",normal:"-0.7 -0.05 -0.69",orbit:"270deg 70deg 1m",target:"-1.5m 3.7m -4.55m"},{title:"Bomba Ventilador Enfriador de Aceite Hidr\xe1ulico",position:"-1.5 3.9 -5.8",normal:"-0.7 -0.05 -0.69",orbit:"270deg 70deg 1m",target:"-1.5m 3.7m -5.8m"},{title:"Bombas Hidr\xe1ulicas Principales",position:"-1.5 3.5 -4.3",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.3m -4.3m"},{title:"Bombas Hidr\xe1ulicas Principales",position:"-1.5 3.5 -5.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.3m -5.5m"},{title:"Bomba Hidr\xe1ulica Ventilador, Radiador Motor 2",position:"-1.5 3.8 -4.3",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.6m -4.3m"},{title:"Bomba Hidr\xe1ulica Ventilador, Radiador Motor 1",position:"-1.5 3.8 -5.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 1m",target:"-1.5m 3.6m -5.5m"},{title:"Tanque de Succi\xf3n de Aceite",position:"-2 2.7 -4.9",normal:"-0.7 -0.05 -0.69",orbit:"270deg 70deg 2m",target:"-2m 2.5m -4.9m"}]:"Sistema_hidraulico"===e?[{title:"Respiraderos",position:"-2 5.2 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 2m",target:"-2m 5m -2m"},{title:"Motor Hidr\xe1ulico de Ventilador Superior",position:"-1.5 4.8 -1",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 3m",target:"-1.5m 4.3m -1m"},{title:"Motor Hidr\xe1ulico de Ventilador Inferior",position:"-1.5 3.9 -1",normal:"0.7 -0.05 -0.69",orbit:"90deg 70deg 2m",target:"-1.5m 3.5m -1m"},{title:"Enfriadores de aceite",position:"-2.5 4.8 -1",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 3m",target:"-2.5m 3.8m -1m"},{title:"Filtros de Aceite Sistema Hidr\xe1ulico",position:"-2 5 -2.",normal:"0.7 -0.05 -0.69",orbit:"150deg 70deg 2m",target:"-2m 4.8m -2.8m"},{title:"Tanque Hidr\xe1ulico",position:"-2.5 4 -2.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 70deg 4m",target:"-2.5m 4m -2.5m"},{title:"Tubo Recolector de Aceite de Retorno",position:"-1.5 4 -2.5",normal:"0.7 -0.05 -0.69",orbit:"120deg 70deg 4m",target:"-1.5m 4m -2.5m"},{title:"V\xe1lbulas de Control",position:"0.1 4.6 -2.1",normal:"0.1 -0.9 0.9",orbit:"0deg 70deg 3m",target:"0.1m 4.5m -2.1m"}]:"Sistema_rodado"===e?[{title:"Rodillo Superior",position:"-2.5 1.9 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.8m -2m"},{title:"Rodillo Superior",position:"-2.5 1.9 0",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.8m 0m"},{title:"Rodillo Superior",position:"-2.5 1.9 -3.7",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.8m -3.7m"},{title:"Rodillo Inferior",position:"-2.5 0.6 0",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m 0m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -0.7",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -0.7m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -1.3",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -1.3m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -2m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -2.6",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -2.6m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -3.2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -3.2m"},{title:"Rodillo Inferior",position:"-2.5 0.6 -3.7",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 0.6m -3.7m"},{title:"Rueda Tensora",position:"-2.5 1 1",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1m 1m"},{title:"Bastidor",position:"-2.5 1.1 -2",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.1m -2m"},{title:"Sprocket",position:"-2.5 1.5 -4.5",normal:"-0.7 -0.05 -0.69",orbit:"300deg 90deg 4m",target:"-2.5m 1.5m -4.5m"}]:[]:[]},ua=function(e){var t=e.machine,n=e.subSistem,a=Object(r.useState)(),i=Object(d.a)(a,2),c=(i[0],i[1]),o=Object(r.useState)(),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(r.useState)(0),h=Object(d.a)(m,2),g=h[0],p=h[1],x=Object(r.useState)(!1),O=Object(d.a)(x,2),f=O[0],v=O[1],y=Object(r.useState)(!1),w=Object(d.a)(y,2),S=w[0],C=w[1],A=Object(r.useState)([]),k=Object(d.a)(A,2),I=k[0],D=k[1],R=Object(r.useState)(""),M=Object(d.a)(R,2),E=M[0],N=M[1],B=Object(r.useState)(""),T=Object(d.a)(B,2),z=T[0],P=T[1],F=Object(r.useState)(""),L=Object(d.a)(F,2),Y=L[0],G=L[1],U=Object(r.useState)("45deg 81deg 100m"),Z=Object(d.a)(U,2),W=Z[0],Q=Z[1],H=Object(r.useState)("0.009 0.009 0.009"),J=Object(d.a)(H,2),V=J[0],q=J[1],X=Object(r.useState)("auto auto auto"),K=Object(d.a)(X,2),_=K[0],$=K[1],ee=Object(r.useState)(!1),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],re=Object(r.useState)([]),ie=Object(d.a)(re,2),ce=ie[0],oe=ie[1],se=Object(r.useState)("auto"),le=Object(d.a)(se,2),de=le[0],ue=(le[1],Object(r.useState)("auto")),je=Object(d.a)(ue,2),be=je[0],me=(je[1],Object(r.useState)("auto")),he=Object(d.a)(me,2),ge=he[0];he[1];Object(r.useEffect)((function(){if(oe([]),n){Oe();var e=JSON.parse(n);setTimeout((function(){ye(e.name,e.brand,e.model,e.nameModel)}),500)}else Oe()}),[]);var pe=function(){var e=Object(l.a)(s.a.mark((function e(){var n,a,r,i,c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P("primary"),v(!0),p(0),e.next=5,We.initDb3DFiles();case 5:if(!(n=e.sent)){e.next=15;break}return e.next=9,We.buscarPorNombreModelo("Preview_".concat(t.model),n.database);case 9:a=e.sent,r=a.data,i=new Blob([r]),c=URL.createObjectURL(i),b(c),N(xe("Preview"));case 15:return e.next=17,at.initDb();case 17:if(!(o=e.sent)){e.next=25;break}return l=new Array,e.next=22,at.consultar(o.database);case 22:(l=e.sent).forEach((function(e,t){e.isSelected=""})),D(l.filter((function(e){if(e.model===t.model&&"Preview"!=e.name)return e;e.name})));case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(e){return"Preview"===e?"Vista General ".concat(t.brand," ").concat(t.model):"Preview_Con_Texturas"===e?"Vista General ".concat(t.brand," ").concat(t.model," Color"):"Sistema_direccion"===e?"Sistema de Direcci\xf3n":"Sistema_hidraulico"===e?"Sistema Hidraulico":"Sistema_neumatico"===e?"Sistema Neumatico":"Mando_de_giro"===e?"Mando de Giro":"Mando_final"===e?"Mando Final":"Sistema_rodado"===e?"Sistema Rodado":e},Oe=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n||pe(),c(document.querySelector("model-viewer#machine")),(t=document.querySelector("model-viewer#machine")).addEventListener("model-visibility",(function(e){})),t.addEventListener("load",(function(){v(!1),t.cameraControls=!0,document.getElementById("image").style.opacity="0",setTimeout((function(){document.getElementById("machine").style.opacity="1",document.getElementById("image").style.height="0px",document.getElementById("machine").style.height="100%"}),2e3)})),t.addEventListener("click",(function(e){})),t.addEventListener("error",(function(e){}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe="undefined"!==typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),ve=function(){C(!1)},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new String,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new String,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new String;if(N(xe(e)),"CATERPILLAR"===t)if("Preview_Con_Texturas"===e)p(0),v(!0);else{var r="../assets/transiciones/".concat(t,"/").concat(n,"/Pantalla_de_carga_").concat(e,".png");G(r),document.getElementById("machine").style.opacity="0",setTimeout((function(){document.getElementById("machine").style.height="0px",document.getElementById("image").style.height="80%",document.getElementById("image").style.opacity="1"}),500)}else p(0),v(!0);setTimeout(Object(l.a)(s.a.mark((function t(){var r,i,c,o,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We.initDb3DFiles();case 2:return r=t.sent,t.next=5,We.buscarPorNombreModelo(a,r.database);case 5:i=t.sent,c=i.data,o=new Blob([c]),l=URL.createObjectURL(o),oe(da(e,n)),b(l);case 11:case"end":return t.stop()}}),t)}))),4e3)},we=function(){Q("45deg 81deg 100m"),q("0.009 0.009 0.009"),$("".concat(de," ").concat(be," ").concat(ge)),ae(!1)};return Object(Mt.jsxs)(on.a,{style:{height:"100%",width:"100%"},id:"box",children:[!n&&Object(Mt.jsxs)(_n.a,{sx:{width:"30%",backgroundColor:"transparent"},disableBackdropTransition:!fe,disableDiscovery:fe,variant:"persistent",anchor:"top",open:S,children:[Object(Mt.jsx)("div",{style:{width:"27vw",textAlign:"right"},children:Object(Mt.jsx)(Yn.a,{onClick:function(){return ve()},children:Object(Mt.jsx)(ln.a,{})})}),Object(Mt.jsxs)("div",{children:[Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Mt.jsx)(On.a,{color:z,style:{width:"90%",marginBottom:10},variant:"outlined",onClick:function(){v(!0),ve(),P("primary"),p(0),setTimeout((function(){pe()}),1e3)},children:Object(Mt.jsx)("p",{children:xe("Preview")})})}),I.map((function(e,n){return Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Mt.jsxs)(On.a,{color:e.isSelected,style:{width:"90%",marginBottom:10},variant:"outlined",onClick:function(){!function(e,n){console.log(e,n),ve(),we(),oe([]),setTimeout((function(){if(N(xe(e.name)),"CATERPILLAR"===e.brand)if("Preview_Con_Texturas"===e.name)p(0),v(!0);else{var a="../assets/transiciones/".concat(e.brand,"/").concat(e.model,"/Pantalla_de_carga_").concat(e.name,".png");G(a),document.getElementById("machine").style.opacity="0",setTimeout((function(){document.getElementById("machine").style.height="0px",document.getElementById("image").style.height="80%",document.getElementById("image").style.opacity="1"}),500)}else p(0),v(!0);I.forEach((function(e,t){e.isSelected=t===n?"primary":"",t===I.length-1&&D(I)})),setTimeout(Object(l.a)(s.a.mark((function n(){var a,r,i,c,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,We.initDb3DFiles();case 2:return a=n.sent,n.next=5,We.buscarPorNombreModelo(e.nameModel,a.database);case 5:r=n.sent,i=r.data,c=new Blob([i]),o=URL.createObjectURL(c),console.log(t.model),oe(da(e.name,t.model)),b(o);case 12:case"end":return n.stop()}}),n)}))),4e3)}),1e3)}(e,n)},children:[Object(Mt.jsx)("img",{src:"../assets/no-image.png",style:{width:50,height:50,borderRadius:30,objectFit:"cover",position:"absolute",left:10},alt:""}),Object(Mt.jsx)("p",{children:xe(e.name)})]})},n)}))]})]}),Object(Mt.jsx)("img",{src:Y,id:"image",className:"image",height:640,width:480}),Object(Mt.jsx)("model-viewer",{id:"machine",src:j,style:{height:"100%",width:"100%",backgroundColor:"#414646",opacity:1,transition:"opacity 0.5s"},"camera-target":_,"camera-orbit":W,scale:V,alt:"A Material Picking Example","touch-action":"none","min-field-of-view":"0deg","interpolation-decay":"200","min-camera-orbit":"auto auto 10%",oncontextmenu:"return false",children:ce.map((function(e,t){return Object(Mt.jsx)("button",{onClick:function(){Q(e.orbit),$(e.target),ae(!0)},className:"view-button",slot:"hotspot-".concat(t),"data-position":e.position,"data-normal":e.normal,"data-orbit":e.orbit,"data-target":e.target,children:e.title},t)}))}),Object(Mt.jsx)(jn,{open:f,progress:g,loadingData:"Preparando vista 3D...",withProgress:!0}),Object(Mt.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"transparent",textAlign:"center"},children:Object(Mt.jsxs)("div",{style:{width:"60%",backgroundColor:"transparent",textAlign:"center",marginLeft:"auto",marginRight:"auto"},children:[ne&&Object(Mt.jsxs)(Yn.a,{onClick:function(){return we()},children:[Object(Mt.jsx)(la.a,{style:{color:"white",fontFamily:"Raleway",marginRight:10}})," ",Object(Mt.jsx)("p",{style:{color:"white",fontFamily:"Raleway"},children:"Centrar c\xe1mara"})]}),Object(Mt.jsx)("h2",{style:{color:"white",fontFamily:"Raleway"},children:E})]})}),!S&&!n&&Object(Mt.jsx)(sn.a,{onClick:function(){C(!0)},style:{position:"absolute",left:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:Object(Mt.jsx)($n.a,{})})]})},ja=n(23),ba=n(335),ma=n.n(ba),ha=(n(399),n(400),n(666)),ga=n(667),pa=n(453),xa=n.n(pa),Oa=n(452),fa=n.n(Oa),va=n(595),ya=n(648),wa=n(651),Sa=n(649),Ca=n(652),Aa=n(653),ka=Object(r.forwardRef)((function(e,t){return Object(Mt.jsx)(va.a,Object(Ct.a)({direction:"up",ref:t},e))})),Ia=function(e){var t=e.handleClickOpen,n=e.open,a=e.handleClose,r=e.image;return Object(Mt.jsxs)("div",{children:[Object(Mt.jsx)(On.a,{variant:"outlined",onClick:t,children:"Open full-screen dialog"}),Object(Mt.jsxs)(ya.a,{fullScreen:!0,open:n,onClose:a,TransitionComponent:ka,children:[Object(Mt.jsx)(Yn.a,{style:{position:"absolute",top:20,right:20,backgroundColor:"#fff"},onClick:a,children:Object(Mt.jsx)(ln.a,{})}),Object(Mt.jsx)("div",{style:{padding:30,textAlign:"center",height:"100vh"},children:Object(Mt.jsx)("img",{src:r,height:"100%"})})]})]})},Da=n(97),Ra=n(343),Ma=(n(562),n(563),Object(r.forwardRef)((function(e,t){return Object(Mt.jsx)(va.a,Object(Ct.a)({direction:"up",ref:t},e))}))),Ea=function(e){e.handleClickOpen;var t=e.open,n=e.handleClose,a=e.images,i=Object(r.useState)(),c=Object(d.a)(i,2),o=c[0],u=c[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),m=b[0],h=b[1],g=Object(r.useState)(a),p=Object(d.a)(g,2),x=p[0],O=p[1],f=Object(r.useState)(),v=Object(d.a)(f,2),y=v[0],w=v[1],S=function(e){document.getElementById("astChange").click(),w(e)},C=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return h(!0),e.next=4,ze(t);case 4:n=e.sent,setTimeout((function(){n&&(y.image=n,h(!1))}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Mt.jsxs)(ya.a,{fullScreen:!0,open:t,onClose:n,TransitionComponent:Ma,adaptiveHeight:!0,children:[Object(Mt.jsxs)(Sa.a,{className:"dialog-content-ast",children:[Object(Mt.jsxs)(Ra.a,{grabCursor:!0,effect:"creative",creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}},zoom:!0,modules:[Da.g,Da.d,Da.e,Da.f,Da.a,Da.b,Da.c],spaceBetween:50,slidesPerView:1,navigation:!0,keyboard:{enabled:!0},style:{"--swiper-navigation-color":"#be2e26","--swiper-pagination-color":"#be2e26"},className:"mySwiper",pagination:{clickable:!0},onSwiper:function(e){return u(e.activeIndex)},onSlideChange:function(e){return u(e.activeIndex)},children:[x.map((function(e,t){return Object(Mt.jsx)(Ra.b,{style:{height:"80vh",display:"block",width:"100%",textAlign:"center"},children:Object(Mt.jsx)("div",{className:"swiper-zoom-container",children:Object(Mt.jsx)("img",{src:e.image,style:{height:"85vh",textAlign:"center"}},t)})},t)})),Object(Mt.jsx)("input",{autoComplete:"off",type:"file",id:"astChange",accept:"image/x-png,image/jpeg",onChange:function(e){C(e.target.files[0])},hidden:!0})]}),Object(Mt.jsxs)("div",{style:{width:"100%",textAlign:"center",position:"absolute",bottom:10},children:[Object(Mt.jsxs)(On.a,{style:{backgroundColor:"#fff",borderStyle:"solid",borderWidth:1,borderColor:"green",color:"green",marginRight:10},onClick:function(){console.log(a[o]),S(a[o])},children:[Object(Mt.jsx)(Vt.a,{style:{fontSize:30,marginRight:10},icon:Jt.r})," Cambiar AST"]}),Object(Mt.jsxs)(On.a,{style:{backgroundColor:"#fff",borderStyle:"solid",borderWidth:1,borderColor:"red",color:"red"},onClick:function(){!function(){h(!0),console.log(a);var e=a.splice(o,1);console.log(e),O(a),setTimeout((function(){h(!1)}),1e3)}()},children:[Object(Mt.jsx)(ln.a,{style:{fontSize:30,marginRight:10}})," Borrar AST"]})]})]}),Object(Mt.jsx)(Yn.a,{style:{position:"absolute",zIndex:2,top:20,right:20,backgroundColor:"#fff"},onClick:n,children:Object(Mt.jsx)(ln.a,{})}),Object(Mt.jsx)(bn,{open:m})]})},Na=n(340),Ba=n(650),Ta=Object(r.forwardRef)((function(e,t){return Object(Mt.jsx)(va.a,Object(Ct.a)({direction:"up",ref:t},e))})),za=function(e){var t=e.handleClickOpen,n=e.open,a=e.handleClose,r=e.message,i=e.inputMessage,c=e.saveMessage;return setTimeout((function(){document.getElementById("textField").focus()}),100),Object(Mt.jsxs)("div",{children:[Object(Mt.jsx)(On.a,{variant:"outlined",onClick:t,children:"Open full-screen dialog"}),Object(Mt.jsxs)(ya.a,{fullScreen:!0,open:n,onClose:a,TransitionComponent:Ta,children:[Object(Mt.jsx)(Yn.a,{style:{position:"absolute",top:20,left:20,backgroundColor:"#fff"},onClick:a,children:Object(Mt.jsx)(ln.a,{})}),Object(Mt.jsxs)(Yn.a,{style:{position:"absolute",top:20,right:20,backgroundColor:"#fff"},onClick:function(){c(),a()},children:["Enviar ",Object(Mt.jsx)(Ba.a,{})]}),Object(Mt.jsx)("div",{style:{padding:30,textAlign:"center",height:"100vh"},children:Object(Mt.jsx)(Jn.a,{style:{width:"70%"},id:"textField",value:r,onChange:function(e){i(e.target.value)}})})]})]})},Pa=Object(r.forwardRef)((function(e,t){return Object(Mt.jsx)(va.a,Object(Ct.a)({direction:"up",ref:t},e))})),Fa=function(e){var t=e.open,n=e.handleClose,a=(e.report,e.item),i=e.index,c=e.executionReport,o=e.gruposKeys,u=(e.indexActivity,e.indexGroup),j=e.save,b=(e.setChecks,Object(r.useState)("")),m=Object(d.a)(b,2),h=m[0],g=m[1],p=Object(r.useState)([]),x=Object(d.a)(p,2),O=x[0],f=x[1],v=Object(r.useState)(),y=Object(d.a)(v,2),w=y[0],S=y[1],C=Object(r.useState)(!1),A=Object(d.a)(C,2),k=A[0],I=A[1],D=Object(r.useState)(!1),R=Object(d.a)(D,2),M=R[0],E=R[1],N=Object(r.useState)(""),B=Object(d.a)(N,2),T=B[0],z=B[1],P=Object(r.useState)(!1),F=Object(d.a)(P,2),L=F[0],Y=F[1],G=Object(r.useState)(!1),Z=Object(d.a)(G,2),W=Z[0],Q=Z[1],H=Object(r.useState)(!1),J=Object(d.a)(H,2),V=J[0],q=J[1],X=Object(r.useState)([]),K=Object(d.a)(X,2),_=K[0],$=K[1],ee=Object(r.useState)(!1),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],re=Object(r.useState)(1),ie=Object(d.a)(re,2),ce=ie[0],oe=ie[1],se=Object(r.useState)(),le=Object(d.a)(se,2),de=le[0],ue=le[1];Object(r.useEffect)((function(){if(o.map((function(e,t){e.data===u&&ue(t)})),c.astList&&$(c.astList),S(a.unidadData),a.messages){f(a.messages);var e=[];a.messages.forEach((function(t,n){t.urlBase64&&e.push(t),n==a.messages.length-1&&oe(e.length+1)})),setTimeout((function(){document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),100)}}),[]);var je=function(e){g(e)},be=function(){document.getElementById("foto").click()},me=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return Y(!0),e.next=4,ze(t);case 4:n=e.sent,setTimeout((function(){n&&(ne?(_.push({id:Date.now(),image:n}),c.astList=_):he(n,"Imagen ".concat(Date.now())),Y(!1))}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(e,t){if(""!==h||t){var n;e&&(a.haveClip=!0),n=t||h;var r={id:Date.now(),namePicture:e?"".concat(de,"_Pregunta_").concat(i+1,"_Foto_").concat(ce):null,content:n,name:"".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),user:localStorage.getItem("_id"),urlBase64:e};O.push(r),f(O),a.messages=O,g(""),setTimeout((function(){document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight,e&&oe(ce+1)}),50)}},ge=function(e,t,a){a.unidadData=w,O.length>0?(j(e,t,a),c.offLineGuard=Date.now(),n()):alert("Debe dejar un comentario")};return Object(Mt.jsxs)(ya.a,{open:t,TransitionComponent:Pa,keepMounted:!0,onClose:n,"aria-describedby":"alert-dialog-slide-description",children:[Object(Mt.jsx)("div",{style:{position:"absolute",right:50,top:10},children:Object(Mt.jsx)(Yn.a,{onClick:function(){return n()},style:{position:"fixed"},children:Object(Mt.jsx)(ln.a,{})})}),Object(Mt.jsx)(wa.a,{style:{marginTop:30},children:a.taskdesc}),Object(Mt.jsxs)(Sa.a,{children:[Object(Mt.jsxs)(Ca.a,{id:"alert-dialog-slide-description",style:{whiteSpace:"pre-line"},children:[a.obs01," ",Object(Mt.jsx)("br",{})]}),a.taskdesc.match("Confecci\xf3n de ART o AST")&&Object(Mt.jsxs)("button",{style:{width:200,borderRadius:20,borderColor:"#ccc"},onClick:function(){E(!0)},children:[" Total im\xe1genes AST: ",Object(Mt.jsx)("strong",{children:_.length})," "]})]}),"*"!==a.unidad&&Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xl:3,children:Object(Mt.jsxs)("div",{style:{marginLeft:24,marginBottom:16},children:[Object(Mt.jsx)("h3",{children:"Total utilizado"}),Object(Mt.jsx)(Jn.a,{id:"standard-basic",label:a.unidad,variant:"standard",type:"number",value:w,onChange:function(e){var t;t=e.target.value,S(t)}})]})}),Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:2,children:Object(Mt.jsx)("div",{children:Object(Mt.jsxs)("p",{children:["Nro Parte: ",a.partnumberUtl]})})}),Object(Mt.jsx)(un.a,{item:!0,xl:4,lg:4,md:4,sm:4,children:Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xl:6,lg:6,md:6,sm:6,children:Object(Mt.jsx)("div",{children:Object(Mt.jsxs)("p",{children:["Cant. Utilizar: ",Object(Mt.jsx)("br",{})," ",a.cantidad," ",a.unidad]})})}),Object(Mt.jsx)(un.a,{item:!0,xl:6,lg:6,md:6,sm:6,children:Object(Mt.jsx)("div",{children:Object(Mt.jsxs)("p",{children:["Tipo Rpto: ",a.idtypeutlPartnumber]})})})]})})]}),Object(Mt.jsx)("div",{style:{paddingLeft:24,paddingRight:24,marginBottom:50},children:Object(Mt.jsxs)("div",{style:{width:"100%",height:250,borderWidth:2,borderStyle:"solid",borderColor:"#ccc",borderRadius:20,position:"relative"},children:[Object(Mt.jsx)("div",{id:"commits",style:{width:"100%",height:190,overflowY:"auto",scrollBehavior:"smooth"},children:O.map((function(e,t){return Object(Mt.jsxs)("div",{style:{position:"relative",color:"#555",padding:5,margin:5,borderRadius:20,borderWidth:2,borderStyle:"solid",borderColor:"#dddddd",backgroundColor:"#F5F5F5"},children:[Object(Mt.jsx)("p",{style:{marginBottom:0,fontSize:10},children:Object(Mt.jsx)("strong",{children:e.name})}),e.urlBase64&&Object(Mt.jsx)("img",{src:e.urlBase64,height:70,onClick:function(){return t=e.urlBase64,z(t),void I(!0);var t}}),Object(Mt.jsx)("p",{style:{marginBottom:20,whiteSpace:"pre-line"},children:e.content}),Object(Mt.jsx)("p",{style:{position:"absolute",fontSize:10,right:5,bottom:0},children:U(e.id)})]},t)}))}),Object(Mt.jsx)("div",{style:{width:"100%",height:50,borderTopWidth:2,borderTopStyle:"solid",borderTopColor:"#ccc",position:"absolute",bottom:0,left:0,paddingLeft:10,paddingRight:10},children:Object(Mt.jsxs)("form",{children:[Object(Mt.jsxs)("div",{style:{width:"70%",float:"left"},children:[!Na.isMobile&&Object(Mt.jsx)("textarea",{value:h,placeholder:"Ingrese comentarios",type:"text",style:{width:"100%",borderColor:"transparent",resize:"none"},onChange:function(e){je(e.target.value)}}),Na.isMobile&&Object(Mt.jsx)("textarea",{id:"mobileTextArea",value:h,placeholder:"Ingrese comentarios",type:"text",style:{width:"100%",borderColor:"transparent",resize:"none"},onChange:function(e){console.log(e.target.value)},onClick:function(){Q(!0),document.getElementById("mobileTextArea").blur()}})]}),Object(Mt.jsxs)("div",{style:{width:"30%",float:"right",textAlign:"right"},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){be(),ae(!1)},children:Object(Mt.jsx)(Vt.a,{icon:Jt.r})}),Object(Mt.jsx)(Yn.a,{onClick:function(){return he()},children:Object(Mt.jsx)(Vt.a,{icon:Jt.b})}),Object(Mt.jsx)("input",{autoComplete:"off",type:"file",id:"foto",accept:"image/x-png,image/jpeg",onChange:function(e){me(e.target.files[0])},hidden:!0})]})]})})]})}),Object(Mt.jsxs)(Aa.a,{style:{minWidth:400},children:[a.taskdesc.match("Confecci\xf3n de ART o AST")&&Object(Mt.jsxs)(On.a,{style:{backgroundColor:"#9ACF26",color:"#fff"},onClick:function(){be(),ae(!0)},children:[Object(Mt.jsx)(Vt.a,{style:{marginRight:10},icon:Jt.c})," AST / ART"]}),Object(Mt.jsx)(On.a,{style:{backgroundColor:"#D5CC41",color:"#fff"},onClick:function(){ge(i,!1,a)},children:"Guardar sin ejecutar"}),Object(Mt.jsx)(On.a,{style:{backgroundColor:"#9ACF26",color:"#fff"},onClick:function(){ge(i,!0,a)},children:"Guardar ejecutado"})]}),k&&Object(Mt.jsx)(Ia,{open:k,image:T,handleClose:function(){I(!1)}}),M&&Object(Mt.jsx)(Ea,{open:M,images:_,handleClose:function(){E(!1)}}),W&&Object(Mt.jsx)(za,{open:W,handleClose:function(){Q(!1)},saveMessage:he,message:h,inputMessage:je}),L&&Object(Mt.jsx)(jn,{open:L,withProgress:!1,loadingData:"Cargando im\xe1gen"}),V&&Object(Mt.jsx)(Zn,{open:V,handleClose:function(){q(!1)},astList:_})]})},La=Object(r.forwardRef)((function(e,t){return Object(Mt.jsx)(va.a,Object(Ct.a)({direction:"up",ref:t},e))})),Ya=function(e){var t=e.handleClickOpen,n=e.open,a=e.handleClose,r=e.report,i=Object(u.f)();return Object(Mt.jsxs)("div",{children:[Object(Mt.jsx)(On.a,{variant:"outlined",onClick:t,children:"Open full-screen dialog"}),Object(Mt.jsxs)(ya.a,{open:n,onClose:a,TransitionComponent:La,children:[Object(Mt.jsx)(Yn.a,{style:{position:"absolute",top:20,right:20,backgroundColor:"#fff"},onClick:a,children:Object(Mt.jsx)(ln.a,{})}),Object(Mt.jsxs)("div",{style:{padding:30,textAlign:"center",height:"50vh"},children:[Object(Mt.jsxs)("h1",{children:["N\xb0 de OT: ",r.idIndex]}),Object(Mt.jsxs)("h2",{children:["N\xb0 SAP",r.sapId]}),Object(Mt.jsxs)("h3",{children:["Tipo de reporte: ",r.reportType]}),Object(Mt.jsxs)("h3",{children:["Pauta: ",r.guide]}),r.testMode&&Object(Mt.jsx)("p",{style:{width:"100%",backgroundColor:"red",color:"white"},children:"OT creada para testing."}),Object(Mt.jsx)("div",{style:{textAlign:"justify"},children:Object(Mt.jsxs)("p",{children:["Fecha programado: ",U(r.datePrev),Object(Mt.jsx)("br",{}),"Fecha de inicio: ",U(r.dateInit),Object(Mt.jsx)("br",{}),"Fecha \xfaltima actualizaci\xf3n: ",U(r.updatedAt)]})}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Mt.jsx)("button",{onClick:function(){return i.push("/assignment/".concat(r.idIndex))},children:"Abrir reporte"})})]})]})]})},Ga=function(e){var t=e.height,n=e.pauta,a=e.reportAssigned,i=e.setProgress,c=(e.reportAssignment,e.reportLevel,e.setIndexGroupToSend),o=e.resultThisItemProgress,u=e.selectionItem,j=Object(r.useState)([]),b=Object(d.a)(j,2),m=b[0],h=b[1],g=Object(r.useState)([]),p=Object(d.a)(g,2),x=p[0],O=p[1],f=Object(r.useState)(),v=Object(d.a)(f,2),y=v[0],w=v[1],S=Object(r.useState)(),C=Object(d.a)(S,2),A=C[0],k=C[1],I=Object(r.useState)([]),D=Object(d.a)(I,2),R=D[0],M=D[1],E=Object(r.useState)(),N=Object(d.a)(E,2),B=N[0],T=N[1],z=Object(r.useState)(),P=Object(d.a)(z,2),F=P[0],L=P[1],Y=Object(r.useState)(!1),G=Object(d.a)(Y,2),U=G[0],Z=G[1],W=Object(r.useState)(),Q=Object(d.a)(W,2),H=Q[0],J=Q[1],V=Object(r.useState)(),q=Object(d.a)(V,2),X=q[0],K=q[1],_=Object(r.useState)(Jt.y),$=Object(d.a)(_,2),ee=$[0],te=$[1],ae=Object(r.useState)(!1),re=Object(d.a)(ae,2),ie=re[0],ce=re[1],oe=Object(r.useState)("12%"),se=Object(d.a)(oe,2),le=(se[0],se[1]),de=Object(r.useState)("20%"),ue=Object(d.a)(de,2),je=(ue[0],ue[1]),me=Object(r.useState)(!1),he=Object(d.a)(me,2),ge=he[0],pe=he[1],xe=Object(r.useState)(!1),Oe=Object(d.a)(xe,2);Oe[0],Oe[1];Object(r.useEffect)((function(){"Inspecci\xf3n"===n.action&&(le("30%"),je("30%")),ye(),"inspectionWorker"===localStorage.getItem("role")||localStorage.getItem("role"),te(Jt.y)}),[]);var fe=function(e){return new Promise(function(){var t=Object(l.a)(s.a.mark((function t(n){var a,r,i,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt.initDb();case 2:return a=t.sent,r=a.database,i=new Array,t.next=7,tt.consultar(r);case 7:i=t.sent,c=i.filter((function(t){if(t.reportId===e)return t})),n(c[0]);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},ve=function(e,t,n){var a=[];n?e.forEach((function(e,n){var r={data:e,state:!1};if(0==n&&(r.state=!0,L(e)),a.push(r),3==n){var o=[],s=[],l=t[a[0].data];l.forEach((function(e,t){if(e.obs01||(e.obs01="Sin Observaciones"),e.isChecked?s.push(e.isChecked):e.isChecked=!1,o.push(e.isChecked),t==l.length-1){M(o),h([a[0],a[1]]),c([a[0],a[1]]),O(l);var n=100*s.length/l.length;i(n)}}))}})):e.forEach((function(n,r){var c={data:n,state:!1};if(0==r&&(c.state=!0,L(n)),a.push(c),r==e.length-1){var o=[],s=[],l=t[a[0].data];l.forEach((function(e,t){if(e.obs01||(e.obs01="Sin Observaciones"),e.isChecked?s.push(e.isChecked):e.isChecked=!1,o.push(e.isChecked),t==l.length-1){M(o),h(a),O(l);var n=100*s.length/l.length;i(n)}}))}}))},ye=function(){var e=Object(l.a)(s.a.mark((function e(){var t,r,i,c,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=11;break}return e.next=3,new Promise((function(e){Ce(a).then((function(t){e(t.data[0])}))}));case 3:return i=e.sent,console.log(i),e.next=7,fe(a._id);case 7:c=e.sent,r=i.offLineGuard?c&&c.offLineGuard&&c.offLineGuard>i.offLineGuard?c:i:c&&c.offLineGuard?c:i,e.next=15;break;case 11:return e.next=13,fe(a._id);case 13:i=e.sent,r=i;case 15:if(!a.testMode){e.next=41;break}if(!r.group){e.next=25;break}return w(r.group),ve(Object.keys(r.group),r.group,!0),we(r.group),k(r),e.next=23,pt(r,a);case 23:e.next=39;break;case 25:return e.next=27,ne(n.idpm,n.typepm);case 27:return o=e.sent,n.struct=o.data,t=n.struct.reduce((function(e,t){return e[t.strpmdesc]=[].concat(Object(ja.a)(e[t.strpmdesc]||[]),[t]),e}),{}),w(t),r.group=t,ve(Object.keys(t),t,!0),we(t),e.next=36,Ae(r);case 36:return k(r),e.next=39,pt(r,a);case 39:e.next=64;break;case 41:if(!r.group){e.next=50;break}return w(r.group),ve(Object.keys(r.group),r.group),we(r.group),k(r),e.next=48,pt(r,a);case 48:e.next=64;break;case 50:return e.next=52,ne(n.idpm,n.typepm);case 52:return d=e.sent,n.struct=d.data,t=n.struct.reduce((function(e,t){return e[t.strpmdesc]=[].concat(Object(ja.a)(e[t.strpmdesc]||[]),[t]),e}),{}),w(t),r.group=t,ve(Object.keys(t),t),we(r.group),e.next=61,Ae(r);case 61:return k(r),e.next=64,pt(r,a);case 64:window.addEventListener("online",Object(l.a)(s.a.mark((function e(){var t,n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.initDb();case 2:return t=e.sent,e.next=5,tt.consultar(t.database);case 5:n=e.sent,i=n.filter((function(e){if(console.log(e),e._id===r._id)return e})),pe(!0),Ae(i[0]).then((function(){be(a).then((function(){pe(!1)}))}));case 9:case"end":return e.stop()}}),e)})))),window.addEventListener("offline",(function(){pe(!1),ie&&(alert("No se logra cargar todo el formulario a la base de datos. Intente conectarse a internet y espere a que se vuelva a cargar toda la informaci\xf3n."),ce(!1))}));case 66:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(e){var t=[],n=[],a=[];Object.values(e).map((function(r,i){t=t.concat(r),i==Object.values(e).length-1&&(console.log(t.length),t.map((function(e,r){!0===e.isChecked?(n.push(!0),1):(a.push(!1),1),r==t.length-1&&o(100*n.length/t.length)})))}))},Se=function(e){var t=e.className,n=(e.style,e.onClick);return Object(Mt.jsx)("div",{className:t,style:{color:"black",background:"grey",borderRadius:20},onClick:n})},ke={infinite:!1,speed:500,slidesToShow:7,slidesToScroll:7,nextArrow:Object(Mt.jsx)(Se,{}),prevArrow:Object(Mt.jsx)(Se,{})},Ie=function(){var e=Object(l.a)(s.a.mark((function e(t,n,r){var c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:we(A.group),a.dateInit||(a.dateInit=Date.now()),R[t]=!0,o=[],l=[],(c=R).map((function(e,t){if(e?o.push(e):l.push(e),t==c.length-1){var n=100*o.length/c.length;i(n)}})),r.isWarning=!n,r.isChecked=!0,De(A),navigator.onLine&&(pe(!0),Ae(A).then((function(){be(a).then((function(){pe(!1)}))})));case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),De=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt.initDb();case 2:return n=e.sent,e.next=5,tt.actualizar(t,n.database);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Mt.jsxs)("div",{children:[Object(Mt.jsx)("div",{style:{height:70,borderColor:"#ccc",borderWidth:2,borderStyle:"solid",borderRadius:10},children:Object(Mt.jsx)(ma.a,Object(Ct.a)(Object(Ct.a)({},ke),{},{children:m.map((function(e,t){return Object(Mt.jsxs)("div",{style:{textAlign:"center",height:"100%"},children:[Object(Mt.jsx)(On.a,{style:{textAlign:"center",width:"100%",height:70},onClick:function(){return function(e,t){u(t.data),O([]),e.forEach((function(n,a){if(n.state=!1,a==e.length-1){var r=[],c=[],o=y[t.data];o.forEach((function(e,n){if(e.obs01||(e.obs01="Sin Observaciones"),e.isChecked?c.push(e.isChecked):e.isChecked=!1,r.push(e.isChecked),n==o.length-1){M(r),t.state=!0;var a=100*c.length/o.length;i(a),setTimeout((function(){O(o),L(t.data)}),100)}}))}}))}(m,e)},children:Object(Mt.jsx)("p",{style:{margin:0},children:e.data})}),e.state&&Object(Mt.jsx)("div",{style:{width:"100%",height:6,backgroundColor:"#BB2D2D",position:"relative",bottom:5,borderRadius:5}})]},t)}))}))}),Object(Mt.jsxs)("div",{children:[Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xl:"auto",md:"auto",children:Object(Mt.jsxs)("p",{style:{margin:0,textAlign:"center",width:30},children:[" ",Object(Mt.jsx)("strong",{children:"N\xb0"})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,md:1,children:Object(Mt.jsxs)("p",{style:{margin:0,textAlign:"center"},children:[" ",Object(Mt.jsxs)("strong",{children:["Personal ",Object(Mt.jsx)("br",{})," Necesario"]})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xl:"auto",md:"auto",children:Object(Mt.jsxs)("p",{style:{margin:0,textAlign:"center",width:150},children:[" ",Object(Mt.jsx)("strong",{children:"Descripcion De Tarea"})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xl:"Mantenci\xf3n"===n.action?3:5,md:"Mantenci\xf3n"===n.action?3:5,sm:4,children:Object(Mt.jsxs)("p",{style:{margin:0,textAlign:"center"},children:[" ",Object(Mt.jsx)("strong",{children:"Observaciones"})," "]})}),Object(Mt.jsxs)(ha.a,{mdDown:!0,children:["Mantenci\xf3n"===n.action&&Object(Mt.jsx)(un.a,{item:!0,xl:"auto",md:"auto",children:Object(Mt.jsxs)("p",{style:{margin:0,textAlign:"center",width:100},children:[" ",Object(Mt.jsxs)("strong",{children:["N\xb0 Parte ",Object(Mt.jsx)("br",{})," a Utilizar"]})," "]})}),"Mantenci\xf3n"===n.action&&Object(Mt.jsx)(un.a,{item:!0,xl:"auto",md:"auto",children:Object(Mt.jsxs)("p",{style:{margin:0,textAlign:"center",width:100},children:[" ",Object(Mt.jsxs)("strong",{children:["Cantidad ",Object(Mt.jsx)("br",{})," a utilizar"]})," "]})}),"Mantenci\xf3n"===n.action&&Object(Mt.jsx)(un.a,{item:!0,xl:"auto",md:"auto",children:Object(Mt.jsxs)("p",{style:{margin:0,textAlign:"center",width:60},children:[" ",Object(Mt.jsxs)("strong",{children:["Cantidad ",Object(Mt.jsx)("br",{})," Utilizada"]})," "]})}),"Mantenci\xf3n"===n.action&&Object(Mt.jsx)(un.a,{item:!0,xl:1,md:1,children:Object(Mt.jsxs)("p",{style:{margin:0,textAlign:"center",width:100},children:[" ",Object(Mt.jsxs)("strong",{children:["Tipo ",Object(Mt.jsx)("br",{})," Rpto"]})," "]})})]}),Object(Mt.jsx)(un.a,{item:!0,xl:1,md:"auto",children:Object(Mt.jsxs)("p",{style:{margin:0,textAlign:"center",width:50},children:[" ",Object(Mt.jsxs)("strong",{children:["Ejecutar ",Object(Mt.jsx)("br",{})," Tarea"]})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,md:1,children:Object(Mt.jsxs)("p",{style:{margin:0,textAlign:"center"},children:[" ",Object(Mt.jsx)("strong",{children:"Estado"})," "]})})]}),x&&Object(Mt.jsx)("div",{style:{height:t,overflowY:"scroll"},children:x.map((function(e,t){return console.log(e),Object(Mt.jsxs)(un.a,{container:!0,style:{borderBottomStyle:"solid",borderBottomWidth:1,borderBottomColor:"#ccc"},children:[Object(Mt.jsx)(un.a,{item:!0,xl:"auto",md:"auto",children:Object(Mt.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:30},children:[" ",Object(Mt.jsxs)("strong",{children:[t+1,".-"]})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,md:1,children:Object(Mt.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center"},children:[" ",e.workteamdesc,"   "]})}),Object(Mt.jsx)(un.a,{item:!0,xl:"auto",md:"auto",children:Object(Mt.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"left",width:150},children:[" ",e.taskdesc," "]})}),Object(Mt.jsx)(un.a,{item:!0,xl:"Mantenci\xf3n"===n.action?3:5,md:"Mantenci\xf3n"===n.action?3:5,sm:4,children:Object(Mt.jsxs)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"justify"},children:[" ",e.obs01," "]})}),Object(Mt.jsxs)(ha.a,{mdDown:!0,children:["Mantenci\xf3n"===n.action&&Object(Mt.jsx)(un.a,{item:!0,xl:"auto",md:"auto",children:"*"===e.partnumberUtl?Object(Mt.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:100},children:"N/A"}):Object(Mt.jsx)("p",{style:{padding:5,margin:0,textAlign:"center",width:100},children:e.partnumberUtl})}),"Mantenci\xf3n"===n.action&&Object(Mt.jsx)(un.a,{item:!0,xl:"auto",md:"auto",children:"*"===e.unidad?Object(Mt.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:100},children:"N/A"}):Object(Mt.jsxs)("p",{style:{padding:5,margin:0,textAlign:"center",width:100},children:[" ",e.cantidad," ",e.unidad]})}),"Mantenci\xf3n"===n.action&&Object(Mt.jsx)(un.a,{item:!0,xl:"auto",md:"auto",children:"*"===e.unidad?Object(Mt.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:60},children:"N/A"}):Object(Mt.jsxs)("p",{style:{padding:5,margin:0,textAlign:"center",width:60},children:[" ",e.unidadData?e.unidadData:"___"," ",e.unidad]})}),"Mantenci\xf3n"===n.action&&Object(Mt.jsx)(un.a,{item:!0,xl:1,md:1,children:"*"===e.idtypeutlPartnumber?Object(Mt.jsx)("p",{style:{fontSize:12,padding:5,margin:0,textAlign:"center",width:100},children:"N/A"}):Object(Mt.jsxs)("p",{style:{padding:5,margin:0,textAlign:"center",width:100},children:[" ",e.idtypeutlPartnumber]})})]}),Object(Mt.jsx)(un.a,{item:!0,xl:1,md:"auto",children:Object(Mt.jsx)("div",{style:{textAlign:"center",width:60},children:Object(Mt.jsx)(Yn.a,{style:{width:"5%",textAlign:"center"},onClick:function(){!function(e,t){K(t),J(e),Z(!0)}(e,t),T(t)},children:Object(Mt.jsx)(Vt.a,{icon:ee})})})}),Object(Mt.jsxs)(un.a,{item:!0,xl:1,md:1,children:[Object(Mt.jsx)(ga.a,{checked:R[t],disabled:!!R[t],onClick:function(){!function(e,t){if(!e.isChecked&&confirm("\xbfDesea indicar estado ejecutado, sin dejar un mensaje?")){var n=[{content:"Se indica estado ejecutado sin dejar mensajes",id:Date.now(),name:"ADMINISTRADOR PLATAFORMA",namePicture:null,urlBase64:void 0,user:localStorage.getItem("_id")}];e.messages=n,Ie(t,!0,e)}}(e,t)},style:{transform:"scale(1.2)"},icon:Object(Mt.jsx)(fa.a,{}),checkedIcon:Object(Mt.jsx)(xa.a,{style:{color:e.isWarning?"#EAD749":"#27AE60"}})}),e.messages&&Object(Mt.jsx)(Yn.a,{style:{padding:5},disabled:!0,children:Object(Mt.jsx)(Vt.a,{icon:Jt.l})}),!e.messages&&Object(Mt.jsx)(Yn.a,{style:{padding:5},disabled:!0,children:Object(Mt.jsx)(Vt.a,{style:{color:"transparent"},icon:Jt.l})}),e.haveClip&&Object(Mt.jsx)(Yn.a,{style:{padding:5},disabled:!0,children:Object(Mt.jsx)(Vt.a,{icon:Jt.x})}),!e.haveClip&&Object(Mt.jsx)(Yn.a,{style:{padding:5},disabled:!0,children:Object(Mt.jsx)(Vt.a,{style:{color:"transparent"},icon:Jt.x})})]})]},t)}))}),U&&Object(Mt.jsx)(Fa,{open:U,handleClose:function(){Z(!1),J(null)},report:a,item:H,index:X,executionReport:A,gruposKeys:m,indexActivity:B,indexGroup:F,save:Ie,setChecks:M}),ge&&Object(Mt.jsx)(bn,{open:ge})]})]})},Ua=function(e){var t=e.height,n=e.hableButton,a=Object(r.useState)([]),i=Object(d.a)(a,2),c=i[0],o=i[1],u=Object(r.useState)(!1),b=Object(d.a)(u,2),m=b[0],h=b[1],g=Object(r.useState)({}),p=Object(d.a)(g,2),x=p[0],O=p[1],f=Object(r.useState)(0),v=Object(d.a)(f,2),y=v[0],w=v[1],S=Object(r.useState)(!1),C=Object(d.a)(S,2),A=C[0],k=C[1],I=Object(r.useState)([]),D=Object(d.a)(I,2),R=D[0],M=D[1],E=Object(r.useState)([]),N=Object(d.a)(E,2),B=N[0],T=N[1],z=function(e){ce(e).then((function(e){}))};Object(r.useEffect)((function(){var e=!0;return e&&(oe().then((function(t){e&&o(t.data)})),localStorage.removeItem("userDataToSave")),function(){e=!1}}),[]);var F={height:70,borderRadius:10,boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)",fontSize:14};return Object(Mt.jsx)("div",{style:{height:t},children:Object(Mt.jsxs)("div",{style:{height:t},children:[Object(Mt.jsxs)(un.a,{container:!0,spacing:5,children:[Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:8,lg:8,children:Object(Mt.jsx)(Ht.a,{style:{width:"100%"},children:Object(Mt.jsx)("h1",{children:"Administrar usuarios"})})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"right"},children:Object(Mt.jsx)(j.b,{to:"/new-users",children:Object(Mt.jsxs)("button",{disabled:!n,style:{marginTop:20,width:171,height:38,borderRadius:23,fontSize:16},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.H,style:{marginRight:10}}),"Crear usuario"]})})})})]}),Object(Mt.jsx)("div",{children:Object(Mt.jsxs)(hn.a,{children:[Object(Mt.jsx)("div",{style:{width:"5%",marginLeft:5,fontSize:12}}),Object(Mt.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:Object(Mt.jsxs)("p",{style:{margin:0},children:[" ",Object(Mt.jsx)("strong",{children:"Nombre de usuario"})," "]})}),Object(Mt.jsx)("div",{style:{width:"20%",marginLeft:5,fontSize:12},children:Object(Mt.jsxs)("p",{style:{margin:0},children:[" ",Object(Mt.jsx)("strong",{children:"Correo electr\xf3nico"})," "]})}),Object(Mt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:Object(Mt.jsxs)("p",{style:{margin:0},children:[" ",Object(Mt.jsx)("strong",{children:"RUN"})," "]})}),Object(Mt.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:Object(Mt.jsxs)("p",{style:{margin:0},children:[" ",Object(Mt.jsx)("strong",{children:"Rol"})," "]})}),Object(Mt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:Object(Mt.jsxs)("p",{style:{margin:0},children:[" ",Object(Mt.jsx)("strong",{children:"Faena/Obra"})," "]})}),Object(Mt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:Object(Mt.jsxs)("p",{style:{margin:0},children:[" ",Object(Mt.jsx)("strong",{children:"Estado"})," "]})})]})}),n&&Object(Mt.jsxs)("div",{style:{overflowY:"auto",height:"calc(100vh - 350px)"},children:[c.map((function(e,t){return e.imageUrl||(e.imageUrl="../assets/no-profile-image.png"),e.roleTranslated=P(e.role),Object(Mt.jsxs)(hn.a,{style:F,children:[Object(Mt.jsx)("div",{style:{width:"5%",marginLeft:5,fontSize:12},children:Object(Mt.jsx)("img",{style:{height:50,borderRadius:"50%",objectFit:"cover",width:50},src:e.imageUrl,alt:""})}),Object(Mt.jsxs)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:[e.name," ",e.lastName]}),Object(Mt.jsx)("div",{style:{width:"20%",marginLeft:5,fontSize:12,wordBreak:"break-all"},children:"x@x.xx"===e.email?"----":e.email}),Object(Mt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:e.rut}),Object(Mt.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:e.roleTranslated}),Object(Mt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12}}),Object(Mt.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[e.enabled&&Object(Mt.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#C3EBD4",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"ACTIVO"}),!e.enabled&&Object(Mt.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#F9F9F9",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"INACTIVO"})]}),Object(Mt.jsx)(Yn.a,{title:"Informaci\xf3n del usuario",onClick:function(){return a=t,O(n=e),k(n.enabled),M(n.permissionsReports),T(n.permissionsUsers),w(a),void h(!0);var n,a},children:Object(Mt.jsx)(Vt.a,{icon:Jt.s})}),Object(Mt.jsx)(j.b,{to:"/edit-user/".concat(e._id),children:Object(Mt.jsx)(Yn.a,{title:"Editar usuario",children:Object(Mt.jsx)(Vt.a,{icon:Jt.y})})}),Object(Mt.jsx)(Yn.a,{title:"Borrar usuario",onClick:function(){var t,n,a;t=e._id,n=e.name,a=e.lastName,"admin"===e.role?alert("No es posible eliminar un Administrador."):confirm("Remover\xe1 al usuario ".concat(n," ").concat(a,". Confirme la acci\xf3n."))&&le(t).then(function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.t0=o,e.next=4,new Promise((function(e){oe().then((function(t){e(t)}))}));case 4:e.t1=e.sent.data,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:Object(Mt.jsx)(Vt.a,{icon:Jt.F})})]},t)})),x&&Object(Mt.jsx)(pn,{open:m,userModal:x,handleChange:function(e){k(e.target.checked),c[y].enabled=e.target.checked},checked:A,permissionsReports:R,permissionsUsers:B,closeModal:function(e){h(!1),z(e)}})]}),!n&&Object(Mt.jsx)("div",{style:{textAlign:"center",width:"100%",height:"50%",paddingTop:50},children:Object(Mt.jsx)("h1",{children:"Requiere conexi\xf3n a internet para administraci\xf3n de usuarios"})})]})})},Za=n(642),Wa=(n(566),function(e,t,n,a,r,i,c,o,s,l,d,u){t(!0);var j=e;j.imageUrl&&u(j.imageUrl),j.rut&&n(j.rut),j.name&&a(j.name),j.lastName&&r(j.lastName),j.email&&i(j.email),j.phone&&(c(j.phone),j.phone.length>0&&(9==e.phone.length?document.getElementById("phone").className="isValid":document.getElementById("phone").className="isInvalid")),j.role&&o(j.role),j.sites&&s(j.sites),j.password&&"Nuevo usuario"===typeDisplay&&l(j.password),j.confirmPassword&&"Nuevo usuario"===typeDisplay&&d(j.confirmPassword),setTimeout((function(){localStorage.setItem("userDataToSave",JSON.stringify(e)),t(!1)}),1e3)}),Qa=function(e,t,n,a,r,i,c,o,s,l,d){e&&setTimeout((function(){var u=JSON.parse(e);u.rut&&t(u.rut),u.name&&n(u.name),u.lastName&&a(u.lastName),u.email&&r(u.email),u.phone&&(i(u.phone),u.phone.length>0&&(9==userData.phone.length?document.getElementById("phone").className="isValid":document.getElementById("phone").className="isInvalid")),u.role&&c(u.role),u.sites&&o(u.sites),u.password&&"Nuevo usuario"===typeDisplay&&s(u.password),u.confirmPassword&&"Nuevo usuario"===typeDisplay&&l(u.confirmPassword),u.imageUrl&&d(u.imageUrl)}),500)},Ha=Object(A.a)((function(e){return{inputsStyle:{borderColor:"#C4C4C4"}}})),Ja=function(e){var t=e.typeDisplay,n=e.uData,a=Object(r.useState)([]),i=Object(d.a)(a,2),c=(i[0],i[1]),o=Object(r.useState)("password"),u=Object(d.a)(o,2),j=u[0],b=u[1],m=Object(r.useState)("password"),h=Object(d.a)(m,2),g=h[0],p=h[1],x=Object(r.useState)(""),O=Object(d.a)(x,2),f=O[0],v=O[1],y=Object(r.useState)(""),w=Object(d.a)(y,2),S=w[0],C=w[1],A=Object(r.useState)(""),k=Object(d.a)(A,2),I=k[0],D=k[1],R=Object(r.useState)(""),M=Object(d.a)(R,2),E=M[0],N=M[1],B=Object(r.useState)(""),T=Object(d.a)(B,2),z=T[0],P=T[1],F=Object(r.useState)(""),L=Object(d.a)(F,2),Y=L[0],G=L[1],U=Object(r.useState)(""),Z=Object(d.a)(U,2),W=Z[0],Q=Z[1],H=Object(r.useState)(""),J=Object(d.a)(H,2),V=J[0],q=J[1],X=Object(r.useState)(""),K=Object(d.a)(X,2),_=K[0],$=K[1],ee=Object(r.useState)([]),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],ie=Object(r.useState)([]),ce=Object(d.a)(ie,2),oe=ce[0],se=ce[1],le=Object(r.useState)(!1),de=Object(d.a)(le,2),ue=de[0],je=de[1],be=Object(r.useState)(!1),me=Object(d.a)(be,2),he=me[0],ge=me[1],pe=Object(r.useState)(),xe=Object(d.a)(pe,2),Oe=xe[0],fe=xe[1],ve=function(){var e=Object(l.a)(s.a.mark((function e(n){var a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={name:f,lastName:S,rut:I,role:E,email:Y,phone:W,password:V,sites:z,confirmPassword:_,createdBy:localStorage.getItem("_id"),imageUrl:Oe},n&&(a.imageUrl=n),a.rut&&(Object(qn.validate)(a.rut)?document.getElementById("rut").className="isValid":document.getElementById("rut").className="isInvalid"),a.email.length>0&&(a.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?document.getElementById("rut").className="isValid":document.getElementById("rut").className="isInvalid"),a.name.length>0&&(a.name[0]==a.name[0].toUpperCase()||(r=a.name[0].toUpperCase(),a.name=a.name.slice(1),v("".concat(r).concat(a.name)))),a.lastName.length>0&&(a.lastName[0]==a.lastName[0].toUpperCase()||(i=a.lastName[0].toUpperCase(),a.lastName=a.lastName.slice(1),C("".concat(i).concat(a.lastName)))),"Nuevo usuario"===t&&(a.password.length>0&&a.password===a.confirmPassword?(je(!1),document.getElementById("passw").className="isValid",document.getElementById("c_passw").className="isValid"):(je(!0),document.getElementById("passw").className="isInvalid",document.getElementById("c_passw").className="isInvalid")),a.phone.length>0&&(9==a.phone.length?document.getElementById("phone").className="isValid":document.getElementById("phone").className="isInvalid"),localStorage.setItem("userDataToSave",JSON.stringify(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=(Ha(),function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t);case 2:n=e.sent,fe(n),ve(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(r.useEffect)((function(){var e=!0,t=localStorage.getItem("userDataToSave");return Wa(n,ge,D,v,C,G,Q,N,P,q,$,fe),Qa(t,D,v,C,G,Q,N,P,q,$,fe),c(ne),re().then((function(t){e&&ae(t.data)})),Ue.initDbObras().then((function(t){e&&Ue.consultar(t.database).then((function(t){e&&se(t)}))})),function(){return e=!1}}),[]),Object(Mt.jsxs)("div",{style:{height:"calc(100vh-100px)",width:"100%"},children:["Nuevo usuario"===t&&Object(Mt.jsx)(un.a,{children:Object(Mt.jsx)("div",{children:Object(Mt.jsxs)("h2",{children:["Para enrolar nuevo usuario debe ingresar todos los datos. ",Object(Mt.jsx)("br",{})," Foto de perfil se podr\xe1 cargar una vez creado."]})})}),Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xl:"Nuevo usuario"===t?"auto":3,lg:"Nuevo usuario"===t?"auto":3,md:12,sm:12,xs:12,hidden:"Nuevo usuario"===t,children:Object(Mt.jsxs)("div",{style:{textAlign:"center"},children:[Object(Mt.jsx)("p",{children:"Foto de perfil"}),Object(Mt.jsx)("button",{style:{height:224,width:190,borderRadius:8,objectFit:"cover"},onClick:function(){n._id?document.getElementById("profileImage").click():alert("Solo puede agregar foto una vez creado el usuario.")},children:Oe?Object(Mt.jsx)("img",{src:Oe,style:{objectFit:"cover",width:"100%"},height:"100%"}):Object(Mt.jsxs)("div",{children:[Object(Mt.jsx)(Vt.a,{icon:Jt.x,style:{fontSize:18}}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)("br",{}),"CARGAR",Object(Mt.jsx)("br",{}),"FOTO"]})}),Object(Mt.jsx)("input",{autoComplete:"off",type:"file",id:"profileImage",onChange:function(e){ye(e.target.files[0])},hidden:!0})]})}),Object(Mt.jsxs)(un.a,{item:!0,xl:"Nuevo usuario"===t?"auto":9,lg:"Nuevo usuario"===t?"auto":9,md:12,sm:12,xs:12,children:[Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xl:4,lg:4,md:6,sm:12,xs:12,children:Object(Mt.jsxs)(Za.a,{style:{width:"100%",paddingRight:10},children:[Object(Mt.jsx)("p",{style:{margin:0,marginTop:5},children:"RUT"}),Object(Mt.jsx)("input",{autoComplete:"off",required:!0,id:"rut",className:"inputClass",type:"text",minLength:11,maxLength:12,onBlur:function(){return ve()},onInput:function(e){var t;""===(t=e.target.value)||D(Object(qn.format)(t))},value:I,placeholder:"11.222.333-K",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Mt.jsx)(un.a,{item:!0,xl:4,lg:4,md:6,sm:12,xs:12,children:Object(Mt.jsxs)(Za.a,{style:{width:"100%",paddingRight:10},children:[Object(Mt.jsx)("p",{style:{margin:0,marginTop:5},children:"Tipo de usuario"}),Object(Mt.jsxs)("select",{onBlur:function(){return ve()},required:!0,name:"userType",id:"userType",style:{width:"100%",height:44,borderRadius:10,fontSize:20,marginRight:10},onChange:function(e){return N(e.target.value)},value:E,className:"inputClass",children:[Object(Mt.jsx)("option",{value:"",children:"Seleccione..."},100),ne.filter((function(e){if("superAdmin"!==e.dbName)return e})).map((function(e,t){return Object(Mt.jsx)("option",{value:e.dbName,children:e.name},t)}))]})]})}),Object(Mt.jsx)(un.a,{item:!0,xl:4,lg:4,md:12,sm:12,xs:12,children:Object(Mt.jsxs)(Za.a,{style:{width:"100%",paddingRight:10},children:[Object(Mt.jsx)("p",{style:{margin:0,marginTop:5},children:"Obra"}),Object(Mt.jsxs)("select",{required:!0,onBlur:function(){return ve()},name:"site",id:"site",style:{width:"100%",height:44,borderRadius:10,fontSize:20},onChange:function(e){return P(e.target.value)},value:z,className:"inputClass",children:[Object(Mt.jsx)("option",{value:"",children:"Seleccione..."},100),oe.map((function(e,t){return Object(Mt.jsx)("option",{value:JSON.stringify(e),children:e.descripcion},t)}))]})]})}),Object(Mt.jsx)(un.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:Object(Mt.jsxs)(Za.a,{style:{width:"100%",paddingRight:10},children:[Object(Mt.jsx)("p",{style:{margin:0,marginTop:5},children:"Nombre"}),Object(Mt.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"name",onBlur:function(){return ve()},onChange:function(e){return v(e.target.value)},value:f,placeholder:"John",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Mt.jsx)(un.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:Object(Mt.jsxs)(Za.a,{style:{width:"100%",paddingRight:10},children:[Object(Mt.jsx)("p",{style:{margin:0,marginTop:5},children:"Apellido"}),Object(Mt.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"lastName",onBlur:function(){return ve()},onChange:function(e){return C(e.target.value)},value:S,placeholder:"Doe",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Mt.jsx)(un.a,{item:!0,xl:8,lg:8,md:6,sm:12,xs:12,children:Object(Mt.jsxs)(Za.a,{style:{width:"100%",paddingRight:10},children:[Object(Mt.jsx)("p",{style:{margin:0,marginTop:5},children:"Correo electr\xf3nico"}),Object(Mt.jsx)("input",{autoComplete:"off",required:!0,id:"email",onBlur:function(){return ve()},onChange:function(e){return G(e.target.value)},value:Y,placeholder:"nombre@correo.cl",type:"email",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Mt.jsx)(un.a,{item:!0,xl:4,lg:4,md:6,sm:12,xs:12,children:Object(Mt.jsxs)(Za.a,{style:{width:"100%",paddingRight:10},children:[Object(Mt.jsx)("p",{style:{margin:0,marginTop:5},children:"N\xfamero de tel\xe9fono"}),Object(Mt.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"phone",minLength:9,onBlur:function(){return ve()},onInput:function(e){e.target.value=e.target.value.slice(0,9)},onChange:function(e){return Q(e.target.value)},value:W,placeholder:"999998888",type:"phone",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),"Nuevo usuario"===t&&Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsxs)(un.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[Object(Mt.jsx)("p",{style:{margin:0,marginTop:5},children:"Contrase\xf1a"}),Object(Mt.jsx)("div",{style:{float:"left",width:"100%",paddingRight:10},children:Object(Mt.jsx)("input",{autoComplete:"off",id:"passw",required:!0,className:"isInvalid",onBlur:function(){return ve()},onChange:function(e){return q(e.target.value)},value:V,minLength:6,placeholder:"Min 6 car\xe1cteres",type:j,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),Object(Mt.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:Object(Mt.jsxs)(Yn.a,{style:{width:40},onClick:function(){b("password"===j?"text":"password")},children:["password"===j&&Object(Mt.jsx)(Vt.a,{icon:Jt.o}),"text"===j&&Object(Mt.jsx)(Vt.a,{icon:Jt.p})]})})]}),Object(Mt.jsxs)(un.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[Object(Mt.jsx)("p",{style:{margin:0,marginTop:5},children:"Confirmar contrase\xf1a"}),Object(Mt.jsx)("div",{style:{float:"left",width:"100%",paddingRight:10},children:Object(Mt.jsx)("input",{autoComplete:"off",id:"c_passw",required:!0,className:"isInvalid",onBlur:function(){return ve()},onChange:function(e){return $(e.target.value)},value:_,minLength:6,placeholder:"Repita contrase\xf1a",type:g,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),Object(Mt.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:Object(Mt.jsxs)(Yn.a,{style:{width:40},onClick:function(){p("password"===g?"text":"password")},children:["password"===g&&Object(Mt.jsx)(Vt.a,{icon:Jt.o}),"text"===g&&Object(Mt.jsx)(Vt.a,{icon:Jt.p})]})})]})]})]}),ue&&Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Mt.jsx)("h3",{style:{color:"red"},children:"Contrase\xf1as no coinciden"})}),Object(Mt.jsx)(jn,{open:he,withProgress:!1,loadingData:"Espere..."})]})]})]})},Va=Object(A.a)((function(e){return{inputsStyle:{borderColor:"#C4C4C4"}}})),qa=function(e){e.width;var t=e.height,n=e.typeDisplay,a=(e.id,Object(r.useState)({})),i=Object(d.a)(a,2),c=i[0],o=i[1],u=Object(r.useState)(""),j=Object(d.a)(u,2),b=j[0],m=j[1],h=Object(r.useState)(""),g=Object(d.a)(h,2),p=g[0],x=g[1],O=Object(r.useState)([]),f=Object(d.a)(O,2),v=(f[0],f[1],Object(r.useState)([])),y=Object(d.a)(v,2);y[0],y[1];Object(r.useEffect)((function(){o(JSON.parse(localStorage.getItem("userDataToSave"))),x(JSON.parse(JSON.parse(localStorage.getItem("userDataToSave")).sites).descripcion),w()}),[]);var w=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(JSON.parse(localStorage.getItem("userDataToSave")).role);case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Va();return Object(Mt.jsx)(un.a,{container:!0,style:{height:t},children:c&&Object(Mt.jsx)(un.a,{item:!0,xl:12,md:12,style:{padding:20,marginRight:0,backgroundColor:"#F9F9F9",borderRadius:20,overflowY:"auto"},children:Object(Mt.jsxs)("div",{style:{textAlign:"center"},children:[Object(Mt.jsx)("h2",{children:"Resumen del usuario"}),Object(Mt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Mt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"RUT"}),Object(Mt.jsx)("p",{style:{margin:0,fontSize:16},children:c.rut})]}),Object(Mt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Mt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Nombre y Apellido"}),Object(Mt.jsxs)("p",{style:{margin:0,fontSize:16},children:[c.name," ",c.lastName]})]}),Object(Mt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Mt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tipo de usuario"}),b&&Object(Mt.jsx)("p",{style:{margin:0,fontSize:16},children:b})]}),Object(Mt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Mt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Obra"}),Object(Mt.jsx)("p",{style:{margin:0,fontSize:16},children:p})]}),Object(Mt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Mt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Correo electr\xf3nico"}),Object(Mt.jsx)("p",{style:{margin:0,fontSize:16},children:c.email})]}),Object(Mt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Mt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tel\xe9fono"}),Object(Mt.jsxs)("p",{style:{margin:0,fontSize:16},children:["+56 ",c.phone]})]}),"Nuevo usuario"===n&&Object(Mt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(Mt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Contrase\xf1a"}),Object(Mt.jsxs)("p",{style:{margin:0,fontSize:16},children:[c.password," "," "]})]})]})})})},Xa=(n(567),function(e){var t=e.list,n=e.reloadData,a=Object(r.useState)(null),i=Object(d.a)(a,2),c=i[0],o=i[1],u=Object(r.useState)(null),j=Object(d.a)(u,2),b=j[0],m=j[1],h=Object(r.useState)(!1),g=Object(d.a)(h,2),p=g[0],x=g[1],O=Object(r.useState)(!1),f=Object(d.a)(O,2),v=f[0],y=f[1],w=Object(r.useState)(!1),S=Object(d.a)(w,2),C=S[0],A=S[1],k=Object(r.useState)([]),I=Object(d.a)(k,2),D=I[0],R=I[1],M=function(e){return new Promise(function(){var t=Object(l.a)(s.a.mark((function t(n){var a,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,He.initDbMachines();case 2:return a=t.sent,t.next=5,He.consultar(a.database);case 5:r=t.sent,i=r.filter((function(t){if(e===t.equid)return t})),n({number:i[0].equ,model:i[0].model});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};Object(r.useEffect)((function(){R([]);var e=[];t.forEach(function(){var n=Object(l.a)(s.a.mark((function n(a,r){var i;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.date=G(a.datePrev),a.end=G(a.endReport),a.init=G(a.dateInit),Se(a.machine).then((function(e){a.hourMeter=Number(e.data[0].hourMeter)/36e5})),n.next=6,M(a.machine);case 6:i=n.sent,a.number=i.number,a.model=i.model,e.push(a),r==t.length-1&&R(e);case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}),[t]);return Object(Mt.jsxs)("div",{style:{width:"100%",paddingLeft:10,paddingRight:10},children:[Object(Mt.jsxs)(un.a,{container:!0,style:{width:"100%",borderBottomColor:"#ccc",borderBottomStyle:"solid",borderBottomWidth:1},children:[Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Mt.jsx)("strong",{children:"N\xb0 OT"})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Mt.jsx)("strong",{children:"Pauta"})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Mt.jsxs)("strong",{children:["Fecha ",Object(Mt.jsx)("br",{})," Prevista"]})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Mt.jsxs)("strong",{children:["Fecha ",Object(Mt.jsx)("br",{})," Inicio"]})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Mt.jsxs)("strong",{children:["Fecha ",Object(Mt.jsx)("br",{})," T\xe9rmino"]})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Mt.jsx)("strong",{children:"Hor\xf3metro"})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Mt.jsx)("strong",{children:"Estado"})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:2,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Mt.jsx)("strong",{children:"Responsable"})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:Object(Mt.jsxs)("p",{style:{textAlign:"center",minWidth:70},children:[" ",Object(Mt.jsx)("strong",{children:"Flota"})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:Object(Mt.jsxs)("p",{style:{textAlign:"center",minWidth:70},children:[" ",Object(Mt.jsx)("strong",{children:"M\xe1quina"})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"left"},children:[" ",Object(Mt.jsx)("strong",{children:"Acci\xf3n"})," "]})})]}),0==D.length&&Object(Mt.jsx)(un.a,{container:!0,children:Object(Mt.jsxs)("div",{style:{width:"100%",textAlign:"center",height:"50vh"},children:[Object(Mt.jsx)("img",{style:{margin:0,top:"50%",left:"calc(100%/1.53)"},src:"../../assets/icons/Arrow.svg",alt:""}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center",top:"55%"},children:Object(Mt.jsxs)("p",{children:["Selecciona otra opci\xf3n ",Object(Mt.jsx)("br",{})," El detalle no cuenta con lista de reportes."]})})]})}),D.map((function(e,t){return Object(Mt.jsxs)(un.a,{container:!0,style:{width:"100%",borderBottomColor:"#ccc",borderBottomStyle:"solid",borderBottomWidth:1},children:[Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",e.idIndex," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",e.guide," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",e.date," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",e.init," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",e.end," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",e.hourMeter," hrs "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsx)("div",{style:{textAlign:"center"},children:Object(Mt.jsxs)("p",{children:[" ",(n=e.level,a=e.usersAssigned,(0==n||!n)&&a.length>0?"Ejecutando Operario":0!=n&&n||0!=a.length?1==n?"Revisi\xf3n Supervisor":2==n?"Revisi\xf3n J. Maquinaria":3==n?"Revisi\xf3n SAP":4==n?"Terminado":void 0:"Sin Asignar")," "]})})}),e.enabled?Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:2,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Mt.jsx)("button",{onClick:function(){return o(e),void x(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Asignar"})," "]})}):Object(Mt.jsx)(un.a,{item:!0,xs:1,sm:1,md:1,lg:1,xl:1,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Mt.jsx)("button",{disabled:!0,style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Terminado"})," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:Object(Mt.jsxs)("p",{style:{textAlign:"center",minWidth:70},children:[" ",e.model," "]})}),Object(Mt.jsx)(un.a,{item:!0,xs:"auto",sm:"auto",md:"auto",lg:"auto",xl:"auto",children:Object(Mt.jsxs)("p",{style:{textAlign:"center",minWidth:70},children:[" ",e.number," "]})}),Object(Mt.jsxs)(un.a,{item:!0,xs:1,sm:1,md:1,lg:2,xl:2,children:["                                ",Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,children:Object(Mt.jsxs)("p",{style:{textAlign:"center"},children:[" ",Object(Mt.jsx)("button",{onClick:function(){m(e),y(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Ver"})," "]})}),Object(Mt.jsx)(un.a,{item:!0,children:!e.enabled&&Object(Mt.jsxs)("p",{style:{textAlign:"center",marginLeft:10},children:[" ",Object(Mt.jsx)("button",{onClick:function(){o(e),A(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"PDF"})," "]})})]})]})]},t);var n,a})),c&&Object(Mt.jsx)(dn,{open:p,report:c,reportType:c.reportType,onlyClose:function(){x(!1)},closeModal:function(){x(!1),n()}}),b&&Object(Mt.jsx)(mn,{open:v,report:b,onlyClose:function(){m(null)}}),c&&Object(Mt.jsx)(Bn,{open:C,reportData:c,close:function(){A(!1)}})]})}),Ka=n(454),_a=n.n(Ka),$a=function(e){var t=e.width,n=e.height,a=e.setRefCanvas;e.disabled;return Object(Mt.jsx)(_a.a,{ref:function(e){a(e)},penColor:"black",canvasProps:{width:t,height:n,style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:20}}})},er=n(656),tr=function(e){var t=e.route,n=R(),a=Object(r.useState)(!1),i=Object(d.a)(a,2),c=i[0],o=i[1],j=Object(r.useState)([]),b=Object(d.a)(j,2),m=b[0],h=b[1],g=Object(r.useState)([]),p=Object(d.a)(g,2),x=p[0],O=p[1],f=Object(r.useState)(!1),v=Object(d.a)(f,2),y=v[0],w=v[1],S=Object(r.useState)({}),C=Object(d.a)(S,2),A=C[0],k=C[1],I=Object(r.useState)(!1),D=Object(d.a)(I,2),M=D[0],E=D[1],N=Object(r.useState)(!1),B=Object(d.a)(N,2),T=B[0],z=B[1],P=Object(r.useState)(""),F=Object(d.a)(P,2),L=F[0],Y=F[1],G=Object(u.h)().id,U=Object(r.useState)({}),Z=Object(d.a)(U,2),W=Z[0],Q=Z[1];new String;t.toString();Object(r.useEffect)((function(){E(!0),navigator.onLine?Se(G).then((function(e){Q(e.data[0]),fe(e.data[0].equid).then((function(e){e.data&&(h(e.data.reverse()),O(e.data.reverse()),setTimeout((function(){E(!1)}),500))}))})):E(!1)}),[]);var H,J=JSON.parse(localStorage.getItem("sitio")).descripcion,V=Object(u.f)();J||V.goBack(),"inspection/machine-detail"===t?H="Inspecci\xf3n":"maintenance/machine-detail"===t?H="Mantenci\xf3n":"machines/machine-detail"===t&&(H="M\xe1quinas");var q=function(e){h("all"===e?x:x.filter((function(t){if(t.state===e)return t})))},X=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return E(!0),e.next=4,ze(t);case 4:n=e.sent,setTimeout((function(){n&&(console.log(n),W.image=n,ae(W),E(!1))}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:n.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:n.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:n.pageCard,children:Object(Mt.jsxs)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){V.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsxs)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:[H,"/",J,"/",W.type," ",W.brand," ",W.model,"/N\xfamero interno: ",Object(Mt.jsx)("b",{children:W.equ})]})]})})}),Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:8,md:6,lg:4,xl:4,children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsxs)("div",{style:{padding:15,borderTopLeftRadius:20,borderEndStartRadius:20,backgroundColor:"#F9F9F9",borderRadius:10,minHeight:400},children:[Object(Mt.jsx)("h3",{style:{marginTop:5,marginBottom:5},children:W.type}),Object(Mt.jsxs)("div",{style:{width:"100%",backgroundColor:"transparent",textAlign:"center"},children:[Object(Mt.jsx)("img",{src:W.image?W.image:"/assets/".concat(W.model,".png"),height:180,id:"imageMachine",onClick:function(){var e;e=W.image?W.image:"/assets/".concat(W.model,".png"),Y(e),z(!0)}}),Object(Mt.jsx)("br",{}),Object(Mt.jsxs)("button",{onClick:function(){document.getElementById("fotoMaquina").click()},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.d,style:{marginRight:10}})," Cambiar imagen"]}),Object(Mt.jsx)("input",{autoComplete:"off",type:"file",id:"fotoMaquina",accept:"image/x-png,image/jpeg",onChange:function(e){X(e.target.files[0])},hidden:!0})]}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)("p",{style:{marginTop:5,marginBottom:5},id:"machineData",children:[Object(Mt.jsx)("b",{children:"Marca: "})," ",W.brand," "]})}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(Mt.jsx)("b",{children:"Modelo: "})," ",W.model," "]})}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(Mt.jsx)("b",{children:"C\xf3digo: "})," ",W.equid," "]})}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(Mt.jsx)("b",{children:"Hor\xf3metro Actual: "})," ",Number(W.hourMeter)/36e5," hrs "]})}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(Mt.jsx)("b",{children:"N\xfamero Interno: "})," ",W.equ," "]})})]})})}),Object(Mt.jsx)(un.a,{item:!0,sm:12,md:7,lg:8,xl:8,children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsxs)("div",{style:{padding:15,backgroundColor:"#F9F9F9",width:"100%",height:"calc(100vh - 220px)",position:"relative",borderRadius:10},children:[Object(Mt.jsxs)("div",{style:{position:"absolute",top:10,right:10},children:[Object(Mt.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){q("all")},children:"Todos"}),Object(Mt.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){q("Completadas")},children:"Completados"}),Object(Mt.jsx)("button",{style:{float:"left",marginRight:10},onClick:function(){q("En proceso")},children:"En proceso"}),Object(Mt.jsx)("button",{style:{float:"left"},onClick:function(){q("Asignar")},children:"Por asignar"})]}),Object(Mt.jsx)("h3",{children:"Listado de mantenciones"}),Object(Mt.jsxs)("div",{style:{overflowY:"auto",height:"calc(100vh - 300px)",width:"100%",padding:20},children:[navigator.onLine&&0===m.length&&Object(Mt.jsx)("p",{children:"No hay mantenciones"}),navigator.onLine&&m.length>0&&m.map((function(e,t){return Object(Mt.jsxs)("div",{style:{width:"95%",padding:10,margin:10,display:"block",height:100,borderBottomStyle:"solid",borderBottomColor:"#ccc",borderBottomWidth:2},children:[Object(Mt.jsxs)("div",{style:{float:"left"},children:[Object(Mt.jsxs)("h4",{style:{margin:0},children:["OT N\xb0",e.idIndex]}),Object(Mt.jsxs)("p",{style:{margin:0},children:["C\xf3digo SAP ",e.sapId]}),Object(Mt.jsxs)("p",{style:{margin:0},children:["Estado: ",e.state]})]}),Object(Mt.jsx)("button",{style:{float:"right"},onClick:function(){return function(e){w(!0),k(e)}(e)},children:Object(Mt.jsx)(Vt.a,{icon:Jt.o})})]},t)})),!navigator.onLine&&Object(Mt.jsx)("p",{children:"Debe contar con conexi\xf3n a internet."})]})]})})}),Object(Mt.jsx)(cn.a,{open:c,close:!c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsx)("div",{style:{height:"100%",width:"100%",backgroundColor:"#333"},children:Object(Mt.jsx)(sn.a,{onClick:function(){setTimeout((function(){o(!c)}),500)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Mt.jsx)(ln.a,{style:{color:"#ccc"}})})})}),y&&Object(Mt.jsx)(Ya,{open:y,report:A,handleClose:function(){w(!1)}}),M&&Object(Mt.jsx)(bn,{open:M}),T&&Object(Mt.jsx)(Ia,{open:T,image:L,handleClose:function(){z(!1)}})]})]})})})})})},nr=(n(570),function(e){e.image;var t=e.machine,n=e.route,a=Object(u.f)(),r={brand:t.brand,id:t.id,model:t.model,pIDPM:t.pIDPM,type:t.type};return Object(Mt.jsxs)(On.a,{className:"buttonContent",style:{borderRadius:20},onClick:function(){a.push("/".concat(n,"/").concat(JSON.stringify(r)))},children:[Object(Mt.jsx)("img",{className:"imageMachine",src:"data:".concat(t.image),alt:t.model}),Object(Mt.jsx)("div",{style:{position:"absolute",bottom:5,width:"100%",textAlign:"center"},children:"".concat(t.type," ").concat(t.brand," ").concat(t.model)})]})}),ar=(Object(A.a)((function(e){return{root:{display:"inline-block",textAlign:"center"},icon:{marginBottom:15},button:{minWidth:180}}})),Object(A.a)((function(e){return{root:{display:"inline-block",textAlign:"center",padding:10,width:"25%",backgroundColor:"transparent"},icon:{padding:20,width:"100%"},button:{minWidth:"100%"},buttonSelection:{backgroundColor:"#F9F9F9",color:"#505050",width:"100%",minHeight:340,borderRadius:20,fontFamily:"Raleway",textTransform:"none",margin:10},iconButton:{color:"#BE2E26"}}}))),rr=function(e){var t=e.variant,n=e.disableButton,a=Gt().dictionary,r=ar(),i=Object(u.f)();return Object(Mt.jsx)(On.a,{onClick:function(){i.push("/".concat(t))},variant:"contained",className:r.buttonSelection,disabled:n,children:Object(Mt.jsxs)("div",{className:r.icon,children:[function(){switch(t){case"inspection":return Object(Mt.jsx)(Vt.a,{icon:Jt.C,size:"4x",className:r.iconButton});case"assignment":return Object(Mt.jsx)(Vt.a,{icon:Jt.t,size:"4x",className:r.iconButton});case"machines":return Object(Mt.jsx)(Vt.a,{icon:Jt.G,size:"4x",className:r.iconButton});case"maintenance":return Object(Mt.jsx)(Vt.a,{icon:Jt.E,size:"4x",className:r.iconButton});case"reports":return Object(Mt.jsx)(Vt.a,{icon:Jt.i,size:"4x",className:r.iconButton});case"administration":return Object(Mt.jsx)(Vt.a,{icon:Jt.I,size:"4x",className:r.iconButton});case"users":return Object(Mt.jsx)(Vt.a,{icon:Jt.J,size:"4x",className:r.iconButton});case"roles":return Object(Mt.jsx)(Vt.a,{icon:Jt.u,size:"4x",className:r.iconButton})}}(),Object(Mt.jsx)("br",{}),Object(Mt.jsx)("p",{className:"button-font-size",children:function(){switch(t){case"inspection":return a.welcome.inspectionButton;case"assignment":return a.welcome.assignmentButton;case"machines":return a.welcome.machinesButton;case"maintenance":return a.welcome.maintenanceButton;case"reports":return a.welcome.reportsButton;case"administration":return a.welcome.administrationButton;case"users":return a.admin.adminUsersButton;case"roles":return a.roles.rolesUsersButton}}()})]})})},ir=function(e){var t=e.site,n=Object(r.useState)(!1),a=Object(d.a)(n,2);a[0],a[1];return Object(Mt.jsxs)(un.a,{container:!0,style:{borderStyle:"solid",borderWidth:2,borderColor:"#505050",borderRadius:20,padding:20},children:[Object(Mt.jsx)("div",{style:{margin:"auto",textAlign:"left"},children:Object(Mt.jsxs)("h1",{children:[" ",t.descripcion," "]})}),Object(Mt.jsx)("div",{style:{position:"relative",right:20,margin:"auto",marginRight:80,maxWidth:50,textAlign:"right"},children:Object(Mt.jsx)(On.a,{onClick:function(){localStorage.setItem("sitio",JSON.stringify(t)),alert(t.descripcion+" seleccionado.")},style:{borderStyle:"solid",borderWidth:2,backgroundColor:"#BE2E26",borderColor:"#BE2E26",color:"#FFF",borderRadius:20,padding:20},children:"Seleccionar"})})]})},cr=function(e){var t=e.route,n=R(),a=(Gt().dictionary,Object(r.useState)([])),i=Object(d.a)(a,2),c=i[0],o=i[1];Object(r.useEffect)((function(){m()}),[]);var j,b,m=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je();case 2:t=e.sent,Fe.initDbMachines().then(function(){var e=Object(l.a)(s.a.mark((function e(n){var a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.consultar(n.database);case 2:if(!(a=e.sent)){e.next=14;break}r=0;case 5:if(!(r<a.length)){e.next=14;break}return e.next=8,Ve(r,t.database);case 8:(i=e.sent)&&(a[r].image=i.data),r==a.length-1&&o(a);case 11:r++,e.next=5;break;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=Object(u.f)();return localStorage.getItem("sitio")?j=JSON.parse(localStorage.getItem("sitio")).descripcion:h.replace("/"),"inspection"===t?b="Inspecci\xf3n":"maintenance"===t?b="Mantenci\xf3n":"machines"===t&&(b="M\xe1quinas"),Object(Mt.jsx)(on.a,{height:"90%",children:Object(Mt.jsx)(un.a,{className:n.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:n.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)("div",{className:n.pageCard,children:Object(Mt.jsxs)(un.a,{container:!0,alignItems:"flex-start",justifyContent:"flex-start",children:[Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){h.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"".concat(b,"/").concat(j)})]})})}),Object(Mt.jsxs)(un.a,{container:!0,spacing:5,justifyContent:"flex-start",style:{textAlign:"center",height:"75vh",overflowY:"auto"},children:[Object(Mt.jsx)(un.a,{item:!0,xs:null,sm:null,md:2,lg:2,xl:2}),c.map((function(e){return Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:4,lg:4,xl:4,style:{margin:10},children:Object(Mt.jsx)(nr,{machine:e,image:e.image,route:t})},e.id)})),Object(Mt.jsx)(un.a,{item:!0,xs:null,sm:null,md:2,lg:2,xl:2})]})]})})})})})},or=n(643),sr=function(e){var t=e.route,n=Object(r.useState)(""),a=Object(d.a)(n,2),i=a[0],c=a[1],o=Object(r.useState)([]),s=Object(d.a)(o,2),l=s[0],j=s[1],b=Object(r.useState)(!1),m=Object(d.a)(b,2),h=m[0],g=m[1],p=Object(u.f)(),x=R(),O=JSON.parse(localStorage.getItem("sitio")).descripcion,f=(JSON.parse(localStorage.getItem("sitio")).idobra,Object(u.h)().id),v=JSON.parse(f),y=function(e){v.id,v.brand,v.model,v.pIDPM,v.type,JSON.stringify(e);p.push("machine-detail/".concat(e.equid))};return Object(r.useEffect)((function(){var e=!1;return navigator.onLine?X().then((function(t){e||j(t.data.filter((function(e){if(e.model===JSON.parse(f).model)return e})).sort((function(e,t){return e.equ-t.equ})))})):He.initDbMachines().then((function(t){He.consultar(t.database).then((function(t){e||j(t.filter((function(e){if(e.model===JSON.parse(f).model)return e})).sort((function(e,t){return e.equ-t.equ})))}))})),O||p.goBack(),"inspection"===t?c("Inspecci\xf3n"):"maintenance"===t?c("Mantenci\xf3n"):"machines"===t&&c("M\xe1quinas"),function(){e=!0}}),[]),Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:x.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:x.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:x.pageCard,children:Object(Mt.jsxs)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){p.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"".concat(i,"/").concat(O,"/").concat(v.type," ").concat(v.brand," ").concat(v.model)})]})})}),Object(Mt.jsx)("div",{style:{width:"100%",paddingLeft:20,height:40,textAlign:"center"},children:Object(Mt.jsx)("button",{style:{height:30,borderRadius:20,position:"relative",right:10,paddingLeft:30,paddingRight:30},onClick:function(){setTimeout((function(){"nok"===localStorage.getItem("isLoading3D")?g(!0):alert("Debe esperar el t\xe9rmino de la descarga de los modelo s 3D.")}),500)},children:Object(Mt.jsx)("strong",{children:"Ver modelo 3D de ".concat(v.type," ").concat(v.brand," ").concat(v.model)})})}),Object(Mt.jsx)(or.a,{style:{width:"100vw",marginRight:11,overflowY:"scroll",maxHeight:"70vh",paddingLeft:20,paddingRight:20},children:l.map((function(e,t){return Object(Mt.jsxs)(un.a,{container:!0,style:{minHeight:148,marginBottom:20,padding:20,borderStyle:"solid",borderWidth:2,borderColor:"#CCC",borderRadius:20},children:[Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:3,lg:2,children:Object(Mt.jsx)("img",{src:e.image?e.image:"../assets/no-image.png",style:{height:120,width:"100%",objectFit:"cover"}})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:3,lg:2,children:Object(Mt.jsx)("div",{style:{padding:10},children:Object(Mt.jsxs)("h1",{style:{margin:0},children:[" ",Object(Mt.jsxs)("strong",{children:[e.type," ",e.equ]})," "]})})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:3,lg:3,children:Object(Mt.jsxs)("div",{style:{padding:10},children:[Object(Mt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Marca: ",e.brand.toUpperCase()]}),Object(Mt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Modelo: ",e.model]}),Object(Mt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["C\xf3digo: ",e.equid]})]})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:3,lg:3,children:Object(Mt.jsxs)("div",{style:{padding:10},children:[Object(Mt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Hor\xf3metro Actual: ",Number(e.hourMeter)/36e5]}),Object(Mt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["N\xfamero Interno: ",e.equ]}),Object(Mt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Serie motor: ",e.enginesnr]})]})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:12,lg:2,children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Mt.jsx)("button",{style:{width:100,height:30,borderRadius:20,marginLeft:6},onClick:function(){return y(e)},children:Object(Mt.jsx)("strong",{children:"Ver m\xe1s"})})})})]},t)}))}),Object(Mt.jsx)("div",{children:Object(Mt.jsx)(cn.a,{open:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:z,children:[Object(Mt.jsx)(ua,{machine:v}),Object(Mt.jsx)(sn.a,{onClick:function(){g(!1)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:Object(Mt.jsx)(ln.a,{})})]})})})]})})})})})},lr=function(){var e=R();return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:Object(ea.a)(e.pageCard,e.noNavBarMargin),children:Object(Mt.jsx)(un.a,{container:!0,style:{height:"100%"},alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)(un.a,{container:!0,item:!0,spacing:8,justifyContent:"center",children:Object(Mt.jsx)(un.a,{item:!0,children:Object(Mt.jsx)(f.a,{size:200})})})})})})})})},dr=n.p+"static/media/Iniciar sesio\u0301n-1.0c974736.png",ur=n.p+"static/media/ICV-transparent.a120acf7.png",jr=function(){var e=R(),t=function(){return Object(Mt.jsxs)(sa.a,{elevation:0,className:Object(ea.a)(e.pageCard,e.noNavBarMargin),children:[Object(Mt.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(Mt.jsx)("img",{src:ur,height:100,alt:""}),Object(Mt.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(Mt.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),Object(Mt.jsx)("p",{style:{fontSize:"2em",marginBottom:0},children:"Iniciar sesi\xf3n"}),Object(Mt.jsxs)("p",{style:{fontSize:10,marginTop:0},children:[" ",L.version," "]})]}),Object(Mt.jsx)(Kn,{})]})};Object(r.useEffect)((function(){n()}),[]);var n=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent).length>0&&t.forEach((function(e,t){"3Ds"===e.name||"MachinesParts"===e.name||window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Mt.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(Mt.jsx)(ha.a,{smDown:!0,children:Object(Mt.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:t()})}),Object(Mt.jsx)(ha.a,{smDown:!0,children:Object(Mt.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:Object(Mt.jsx)("img",{src:dr,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(Mt.jsx)(ha.a,{mdUp:!0,children:Object(Mt.jsx)("div",{children:t()})})]})},br=(n(571),function(e){return new Promise((function(t){Oe(e).then((function(e){var n=new Array;n=0==e.data.length?[]:e.data,t(n)}))}))}),mr=function(e){return new Promise(function(){var t=Object(l.a)(s.a.mark((function t(n){var a,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={reportId:e,createdBy:localStorage.getItem("_id")},t.next=3,Ce(a);case 3:return r=t.sent,t.next=6,tt.initDb();case 6:if(!(i=t.sent)){t.next=10;break}return t.next=10,tt.actualizar(r.data[0],i.database);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},hr=function(){return new Promise((function(e){$().then((function(t){e(t.data)})).catch((function(e){}))}))},gr=function(e){return new Promise((function(t){ee(e).then((function(e){t(e.data)})).catch((function(e){}))}))},pr=function(e){return new Promise((function(t){_().then((function(n){"admin"!==localStorage.getItem("role")&&"superAdmin"!==localStorage.getItem("role")||(localStorage.setItem("sitio",JSON.stringify(n.data[0])),setTimeout((function(){e(!1)}),500)),t(n.data)})).catch((function(e){}))}))},xr=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(l.a)(s.a.mark((function e(n){var a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=15;break}return a=[],e.next=4,pr(t);case 4:return a=e.sent,e.next=7,Ue.initDbObras();case 7:if(!(r=e.sent)){e.next=13;break}return e.next=11,Ue.consultar(r.database);case 11:(i=e.sent)&&(a.length==i.length?n({state:!0,data:"reload"}):n({state:!0,data:"full"}));case 13:e.next=16;break;case 15:n(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Or={getAssignments:function(e){return new Promise(function(){var t=Object(l.a)(s.a.mark((function t(n){var a,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new Array,"maintenceOperator"!==localStorage.getItem("role")&&"inspectionWorker"!==localStorage.getItem("role")){t.next=7;break}return t.next=4,br(localStorage.getItem("_id"));case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,new Promise((function(e){ge().then((function(t){e(t.data)}))}));case 9:a=t.sent;case 10:r=0,i=100/a.length,0==a.length&&n(!0),a.forEach(function(){var t=Object(l.a)(s.a.mark((function t(c,o){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(r+=i),c.idDatabase=o,mr(c._id),o==a.length-1&&(e(100),setTimeout((function(){n(!0)}),100));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},descargarPautas:function(e){return e&&e(0),new Promise(function(){var t=Object(l.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hr();case 2:(a=t.sent)&&a.forEach(function(){var t=Object(l.a)(s.a.mark((function t(r,i){var c,o,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=0,o=100/a.length/2,t.next=4,gr(r);case 4:d=t.sent,r.header=d,r.id=i,"Pauta de Inspecci\xf3n"===r.typepm?r.action="Inspecci\xf3n":r.action="Mantenci\xf3n",i==a.length-1&&(c+=o,e&&e(c),a.forEach(function(){var t=Object(l.a)(s.a.mark((function t(r,i){var d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c+=o,e&&e(c),i!=a.length-1){t.next=7;break}return t.next=5,Ye.initDbPMs();case 5:(d=t.sent)&&a.forEach(function(){var t=Object(l.a)(s.a.mark((function t(r,i){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c+=o,e&&e(c),t.next=4,Ye.actualizar(r,d.database);case 4:i==a.length-1&&(e&&e(100),n({progress:100,state:!0}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getSites:function(e,t){return e(0),new Promise(function(){var n=Object(l.a)(s.a.mark((function n(a){var r,i,c,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],n.next=3,pr(t);case 3:return r=n.sent,n.next=6,Ue.initDbObras();case 6:(i=n.sent)&&(c=0,o=100/r.length,r.forEach(function(){var t=Object(l.a)(s.a.mark((function t(n,l){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(c+=o),n.id=l,t.next=5,Ue.actualizar(n,i.database,i.database.version);case 5:if(l!==r.length-1){t.next=10;break}return t.next=8,Ue.consultar(i.database);case 8:t.sent&&a(!0);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},getSitesList:pr,setIfNeedReadDataAgain:xr,getPautasInstepctList:function(e,t){e(0);var n=0,a=100/t.length,r=[];return new Promise((function(i){t.forEach(function(){var c=Object(l.a)(s.a.mark((function c(o,l){var d,u,j,b;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e(n+=a),c.next=4,ve(o.idpminspeccion);case 4:return(d=c.sent).data[0].typepm&&(d.data[0].typepm=encodeURIComponent(d.data[0].typepm)),c.next=8,ee(d.data[0]);case 8:return u=c.sent,c.next=11,te(d.data[0]);case 11:j=c.sent,(b=d.data[0]).header=u,b.struct=j,b.action="Inspecci\xf3n",r.push(b),l==t.length-1&&(i(r),e(100));case 18:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}())}))},getPautasMaintenanceList:function(e,t){e(0);var n=0,a=100/t.length,r=[];return new Promise((function(i){t.forEach(function(){var c=Object(l.a)(s.a.mark((function c(o,l){var d,u,j,b;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e(n+=a),c.next=4,ve(o.idpmmantencion);case 4:return(d=c.sent).data[0].typepm=encodeURIComponent(d.data[0].typepm),c.next=8,ee(d.data[0]);case 8:return u=c.sent,c.next=11,te(d.data[0]);case 11:j=c.sent,(b=d.data[0]).header=u,b.struct=j,b.action="Mantenci\xf3n",r.push(b),l==t.length-1&&(i(r),e(100));case 18:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}())}))}},fr=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent).length>0&&t.forEach((function(e,t){"3Ds"===e.name||"MachinesParts"===e.name||window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vr=function(e,t,n,a,r,i,c,o){localStorage.getItem("sitio")&&e(!1),"admin"!==localStorage.getItem("role")&&"superAdmin"!==localStorage.getItem("role")||i(!1),"admin"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"shiftManager"===localStorage.getItem("role")?n(!1):("maintenceOperator"===localStorage.getItem("role")?a(!1):a(!0),"inspectionWorker"===localStorage.getItem("role")?r(!1):r(!0)),localStorage.getItem("version")&&localStorage.getItem("version")!=L.version&&(alert("Plataforma requiere actualizaci\xf3n. Se cerrar\xe1 sesi\xf3n para actualizar el servicio."),window.localStorage.clear(),window.location.reload(),fr()),o(function(e){var t,n=new Date(e).getDay();1==n?t="Lunes":2==n?t="Martes":3==n?t="Miercoles":4==n?t="Jueves":5==n?t="Viernes":6==n?t="Sabado":0==n&&(t="Domingo");var a,r=new Date(e).getDate(),i=new Date(e).getMonth();return 0==i?a="Enero":1==i?a="Febrero":2==i?a="Marzo":3==i?a="Abril":4==i?a="Mayo":5==i?a="Junio":6==i?a="Julio":7==i?a="Agosto":8==i?a="Septiembre":9==i?a="Octubre":10==i?a="Noviembre":11==i&&(a="Diciembre"),(t+" "+r+" DE "+a).toUpperCase()}(Date.now()));var s=setInterval((function(){c(function(e){var t,n=new Date(e).getMinutes(),a=new Date(e).getHours();return t=n<10?"0"+n:n,"".concat(a<10?"0"+a:a,":").concat(t)}(Date.now()))}),100);return function(){return clearInterval(s)}},yr=function(e,t,n,a,r,i,c,o,d,u){return new Promise(function(){var o=Object(l.a)(s.a.mark((function o(d){var j,b;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Or.setIfNeedReadDataAgain(c);case 2:if(j=o.sent,b=localStorage.getItem("role"),!j.state){o.next=21;break}if("full"!==j.data){o.next=18;break}if(e(!0),"admin"!==b&&"superAdmin"!==b&&"sapExecutive"!==b){o.next=11;break}setTimeout(Object(l.a)(s.a.mark((function o(){return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t("Descargando pautas de mantenimiento e inspecci\xf3n."),o.next=3,Or.descargarPautas(a);case 3:o.sent.state&&setTimeout(Object(l.a)(s.a.mark((function o(){var j;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t("Descargando datos de las obras."),o.next=3,Or.getSites(a,c);case 3:j=o.sent,setTimeout(Object(l.a)(s.a.mark((function c(){var o;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!j){c.next=9;break}return t("Descargando datos de las m\xe1quinas."),a(65),c.next=5,n();case 5:o=c.sent,setTimeout(Object(l.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o){n.next=9;break}return t("Descargando lista de las m\xe1quinas de las obras."),a(100),n.next=5,r();case 5:n.sent&&(setTimeout((function(){e(!1),d(!0),u()}),1e3),i()),n.next=12;break;case 9:e(!1),d(!0),u();case 12:case"end":return n.stop()}}),n)}))),1e3),c.next=12;break;case 9:e(!1),d(!0),u();case 12:case"end":return c.stop()}}),c)}))),1e3);case 5:case"end":return o.stop()}}),o)}))),1e3);case 5:case"end":return o.stop()}}),o)}))),500),o.next=16;break;case 11:return t("Descargando pautas de mantenimiento e inspecci\xf3n."),o.next=14,Or.descargarPautas(a);case 14:o.sent.state&&setTimeout(Object(l.a)(s.a.mark((function o(){var j;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t("Descargando datos de las obras."),o.next=3,Or.getSites(a,c);case 3:j=o.sent,setTimeout(Object(l.a)(s.a.mark((function c(){var o;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!j){c.next=9;break}return t("Descargando datos de las m\xe1quinas."),a(65),c.next=5,n();case 5:o=c.sent,setTimeout(Object(l.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i(),a(100),!o){n.next=12;break}return t("Descargando lista de las m\xe1quinas de las obras."),a(100),n.next=7,r();case 7:n.sent&&(i(),setTimeout((function(){e(!1),d(!0),u()}),1e3)),i(),n.next=15;break;case 12:e(!1),d(!0),u();case 15:case"end":return n.stop()}}),n)}))),1e3),c.next=12;break;case 9:e(!1),d(!0),u();case 12:case"end":return c.stop()}}),c)}))),1e3);case 5:case"end":return o.stop()}}),o)}))),1e3);case 16:o.next=19;break;case 18:j.data;case 19:o.next=24;break;case 21:d(!0),e(!1),u();case 24:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())},wr=function(e){var t=e.readyToLoad,n=Object(r.useState)(""),a=Object(d.a)(n,2),i=a[0],c=a[1],o=Object(r.useState)(""),j=Object(d.a)(o,2),b=j[0],m=j[1],h=Object(r.useState)(!1),g=Object(d.a)(h,2),p=g[0],x=g[1],O=Object(r.useState)(!1),f=Object(d.a)(O,2),v=f[0],y=f[1],w=Object(r.useState)(0),S=Object(d.a)(w,2),C=S[0],A=S[1],k=Object(r.useState)(""),I=Object(d.a)(k,2),D=I[0],R=I[1],M=Object(r.useState)(!0),E=Object(d.a)(M,2),N=E[0],B=E[1],T=Object(r.useState)(!0),z=Object(d.a)(T,2),P=z[0],F=z[1],L=Object(r.useState)(!0),Y=Object(d.a)(L,2),G=Y[0],Z=Y[1],W=Object(r.useState)(!1),Q=Object(d.a)(W,2),H=(Q[0],Q[1]),J=Object(r.useState)(!1),V=Object(d.a)(J,2),K=(V[0],V[1]),_=Object(r.useState)(!0),$=Object(d.a)(_,2),ee=$[0],te=$[1],ne=Object(r.useState)([]),ae=Object(d.a)(ne,2),re=(ae[0],ae[1],Object(r.useState)("Sin notificaciones pendientes")),ie=Object(d.a)(re,2),ce=ie[0],oe=ie[1],se=Object(r.useState)("Sin informaciones pendientes"),le=Object(d.a)(se,2),de=le[0],ue=le[1],je=Object(r.useState)(!0),be=Object(d.a)(je,2),me=be[0],he=be[1],ge=Object(u.f)();window.addEventListener("online",(function(){te(!0);var e=Number(localStorage.getItem("timeOffline"));Date.now()<e+216e5&&(localStorage.setItem("revisado",!0),localStorage.removeItem("timeOffline"))}));window.addEventListener("offline",(function(){te(!1),localStorage.getItem("timeOffline")||pe(Date.now())}));var pe=function(e){localStorage.setItem("timeOffline",e),localStorage.setItem("revisado",!1)},xe=function(){localStorage.setItem("ultimaActualizacion",Date.now())};Object(r.useEffect)(Object(l.a)(s.a.mark((function e(){var t,n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:return t=e.sent,e.next=5,lt(t.database);case 5:return n=e.sent,Oe(n),me&&(a=Object($t.a)(),navigator.onLine&&a.on("notification_".concat(localStorage.getItem("_id")),(function(e){Oe()})),fe(),(r=new XMLHttpRequest).onload=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new FileReader).onload=Object(l.a)(s.a.mark((function e(){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt();case 2:if(!(n=e.sent)){e.next=7;break}return a={name:"no-image-profile",data:t.result.replace("data:","")},e.next=7,it(a,n.database);case 7:case"end":return e.stop()}}),e)}))),t.readAsDataURL(r.response);case 3:case"end":return e.stop()}}),e)}))),r.open("GET","../assets/no-profile-image.png"),r.responseType="blob",r.send()),e.abrupt("return",(function(){return he(!1)}));case 9:case"end":return e.stop()}}),e)}))),[me]);var Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ee(localStorage.getItem("_id")).then((function(t){var n;(n=t.data.reverse()).length>0&&(n[0].state?oe("Sin notificaciones pendientes"):oe(n[0].message+". \n "+U(n[0].createdAt)),"inspectionWorker"!==localStorage.getItem("role")&&"maintenceOperator"!==localStorage.getItem("role")||(e.length>0?ue("Existen "+e.length+" Ordenes de trabajo listos a enviar."):ue("Sin OT listas a enviar")))}))},fe=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yr(x,R,ye,A,ve,xe,B,y,ee,t),vr(B,0,F,H,K,Z,m,c);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){return new Promise(function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,Ce();case 3:return n=e.sent,e.next=6,He.initDbMachines();case 6:(a=e.sent)&&n.forEach(function(){var e=Object(l.a)(s.a.mark((function e(r,i){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.id=i,e.next=3,He.actualizar(r,a.database);case 3:if(i!==n.length-1){e.next=8;break}return e.next=6,He.consultar(a.database);case 6:(c=e.sent)&&(Or.getPautasInstepctList(A,c),t(c));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},ye=function(){return new Promise(function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,Se();case 3:return n=e.sent,e.next=6,Fe.initDbMachines();case 6:(a=e.sent)&&n.forEach(function(){var e=Object(l.a)(s.a.mark((function e(r,i){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.id=i,(c=new XMLHttpRequest).onload=Object(l.a)(s.a.mark((function e(){var o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=new FileReader).onload=Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je();case 2:if(!(t=e.sent)){e.next=7;break}return n={id:i,data:o.result.replace("data:","")},e.next=7,qe(n,t.database);case 7:return e.next=9,Fe.actualizar(r,a.database);case 9:e.sent;case 10:case"end":return e.stop()}}),e)}))),o.readAsDataURL(c.response),i!=n.length-1){e.next=8;break}return e.next=6,we(n);case 6:d=e.sent,t(d);case 8:case"end":return e.stop()}}),e)}))),c.open("GET","/assets/".concat(r.model,".png")),c.responseType="blob",c.send();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},we=function(e){return new Promise(function(){var t=Object(l.a)(s.a.mark((function t(n){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe.initDbMachines();case 2:a=t.sent;case 3:return t.next=5,Fe.consultar(a.database);case 5:r=t.sent;case 6:if(r.length<e.length){t.next=3;break}case 7:r.length===e.length&&n(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},Se=function(){return new Promise((function(e){q().then((function(t){e(t.data)})).catch((function(e){}))}))},Ce=function(){return new Promise((function(e){X().then((function(t){e(t.data)}))}))};return Object(Mt.jsxs)("div",{children:[Object(Mt.jsxs)("div",{className:"container",children:[Object(Mt.jsx)(un.a,{container:!0,spacing:5,children:Object(Mt.jsx)("div",{children:Object(Mt.jsxs)("p",{className:"titulo",children:["Hola ",localStorage.getItem("name")," \xbfPor d\xf3nde quieres comenzar hoy?"]})})}),Object(Mt.jsxs)(un.a,{container:!0,spacing:5,children:[Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(Mt.jsxs)("div",{className:"notificaciones reloj",children:[Object(Mt.jsxs)("p",{className:"reloj-fecha",children:[" ",i," "]}),Object(Mt.jsxs)("p",{className:"reloj-hora",children:[" ",b," hs "]})]})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(Mt.jsxs)("button",{className:"notificaciones alertas",onClick:function(){return ge.push("/notifications")},children:[Object(Mt.jsxs)("p",{className:"notificaciones-texto",children:[" ",Object(Mt.jsx)("b",{children:"Notificaciones:"})," "]}),Object(Mt.jsxs)("p",{className:"notificaciones-texto",children:[" ",ce," "]})]})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(Mt.jsxs)("button",{className:"notificaciones alertas",onClick:function(){return ge.push("/assignment")},children:[("inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role"))&&Object(Mt.jsxs)("p",{className:"notificaciones-texto",children:[" ",Object(Mt.jsx)("b",{children:"OT Listas a enviar:"})," "]}),Object(Mt.jsxs)("p",{className:"notificaciones-texto",children:[" ",de]})]})})]}),Object(Mt.jsx)("br",{}),Object(Mt.jsxs)(un.a,{container:!0,spacing:5,children:[Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(Mt.jsx)(rr,{variant:"assignment",disableButton:N})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(Mt.jsx)(rr,{variant:"machines",disableButton:N})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(Mt.jsx)(rr,{variant:"reports",disableButton:P})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(Mt.jsx)(rr,{variant:"administration",disableButton:G})})]})]}),Object(Mt.jsx)(jn,{open:p,progress:C,loadingData:D,withProgress:!0}),Object(Mt.jsx)(xn,{open:v,closeModal:function(){y(!1)}})]})},Sr=function(){var e=R(),t=function(){return Object(Mt.jsxs)(sa.a,{elevation:0,className:Object(ea.a)(e.pageCard,e.noNavBarMargin),children:[Object(Mt.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(Mt.jsx)("img",{src:ur,height:100,alt:""}),Object(Mt.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(Mt.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),Object(Mt.jsx)("p",{style:{fontSize:"2em"},children:"Recuperar Contrase\xf1a"})]}),Object(Mt.jsx)(ia,{})]})};return Object(Mt.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(Mt.jsx)(ha.a,{smDown:!0,children:Object(Mt.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:t()})}),Object(Mt.jsx)(ha.a,{smDown:!0,children:Object(Mt.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:Object(Mt.jsx)("img",{src:dr,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(Mt.jsx)(ha.a,{mdUp:!0,children:Object(Mt.jsx)("div",{children:t()})})]})},Cr=function(){var e=Object(u.h)().id,t=R(),n=function(){return Object(Mt.jsxs)(sa.a,{elevation:0,className:Object(ea.a)(t.pageCard,t.noNavBarMargin),children:[Object(Mt.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(Mt.jsx)("img",{src:ur,height:100,alt:""}),Object(Mt.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(Mt.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]})]}),Object(Mt.jsx)(oa,{id:e})]})};return Object(Mt.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(Mt.jsx)(ha.a,{smDown:!0,children:Object(Mt.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:n()})}),Object(Mt.jsx)(ha.a,{smDown:!0,children:Object(Mt.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:Object(Mt.jsx)("img",{src:dr,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(Mt.jsx)(ha.a,{mdUp:!0,children:Object(Mt.jsx)("div",{children:n()})})]})},Ar=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=(t[0],t[1],Object(r.useState)([])),a=Object(d.a)(n,2),i=(a[0],a[1]);return Object(r.useEffect)((function(){q().then((function(e){e.data&&i(e.data)}))}),[]),Object(Mt.jsx)(on.a,{children:Object(Mt.jsx)("div",{children:Object(Mt.jsx)("h1",{children:"Hello!!"})})})},kr=n(657),Ir=Object(A.a)((function(e){return{root:{"& :-webkit-autofill":{"-webkit-transition-delay":"9999s","-webkit-transition":"color 9999s ease-out, background-color 9999s ease-out"}},lightVariant:{"& .Mui-focused":{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}},"& .MuiInputBase-input":{color:"white"}},darkVariant:{"& .Mui-focused .MuiInputAdornment-root":{color:e.palette.primary.main}}}})),Dr=function(e){var t=e.value,n=e.onChange,a=e.lightVariant,r=e.fullWidth,i=Gt().dictionary,c=Ir();return Object(Mt.jsx)(Jn.a,{className:Object(ea.a)(c.root,a?c.lightVariant:c.darkVariant),fullWidth:r,type:"text",name:"filter",label:i.components.fields.filter.toLocaleUpperCase(),value:t,onChange:n,variant:"outlined",InputProps:{endAdornment:Object(Mt.jsx)(kr.a,{position:"end",children:Object(Mt.jsx)(Vt.a,{icon:Jt.C})})}})},Rr=Object(A.a)((function(e){return{root:{padding:20,backgroundColor:"rgba(0, 0, 0, 0)",border:"5px solid gray",borderRadius:0,boxShadow:"none"},fichaText:{fontSize:"1.2rem",color:e.palette.primary.main},name:{fontWeight:"bold"}}})),Mr=function(){var e=R(),t=Rr(),n=Object(r.useState)(""),a=Object(d.a)(n,2),i=a[0],c=a[1];return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:e.pageCard,children:Object(Mt.jsxs)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Mt.jsx)(un.a,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:Object(Mt.jsx)(Dr,{value:i,onChange:function(e){c(e.target.value)}})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,children:Object(Mt.jsx)("div",{className:e.pageTitle,children:"DIVISIONES"})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:t.root,children:Object(Mt.jsxs)(un.a,{container:!0,item:!0,alignContent:"center",spacing:2,children:[Object(Mt.jsxs)(un.a,{item:!0,xs:12,md:6,children:[Object(Mt.jsx)("div",{className:Object(ea.a)(t.name,t.fichaText),children:"NOMBRE TIPO"}),Object(Mt.jsx)("div",{className:t.fichaText,children:"MODELO"}),Object(Mt.jsx)("div",{className:t.fichaText,children:"INFORMACI\xd3N"}),Object(Mt.jsx)("div",{className:t.fichaText,children:"\xdaLTIMA INSPECCI\xd3N"})]}),Object(Mt.jsx)(un.a,{item:!0,xs:12,md:6,children:Object(Mt.jsx)("div",{style:{height:120,width:"100%"}})})]})})})]})})})})})},Er=n(672),Nr=[{color:"#27AE60",name:"Completadas",button:"Detalle",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",number:null},{color:"#DE4343",name:"Asignar",button:"Detalle",number:null}],Br=[{color:"#27AE60",name:"Completadas",button:"Detalle",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",number:null},{color:"#DE4343",name:"Asignar",button:"Detalle",number:null}],Tr=(n(404),function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),c=Object(d.a)(i,2),o=c[0],j=c[1],b=Object(r.useState)(!1),m=Object(d.a)(b,2),h=m[0],g=m[1],p=Object(r.useState)(0),x=Object(d.a)(p,2),O=x[0],f=x[1],v=Object(r.useState)(0),y=Object(d.a)(v,2),w=y[0],S=y[1],C=Object(r.useState)(0),A=Object(d.a)(C,2),k=A[0],I=A[1],D=Object(r.useState)(0),M=Object(d.a)(D,2),E=M[0],N=M[1],B=Object(r.useState)([]),T=Object(d.a)(B,2),z=T[0],P=T[1],F=Object(r.useState)(!0),L=Object(d.a)(F,2),Y=L[0],G=L[1],U=Object(r.useState)(!0),Z=Object(d.a)(U,2),W=Z[0],Q=Z[1],H=Object(r.useState)(!1),J=Object(d.a)(H,2),V=J[0],q=J[1],X=Object(u.f)();R();Object(r.useEffect)((function(){return X&&K(),W&&setTimeout((function(){navigator.onLine||(alert("Problemas de red. Revise su conexi\xf3n."),X.goBack())}),1e3),function(){return Q(!1)}}),[W]);var K=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),t=bt(),e.next=4,ye(t[0],t[1],"Inspecci\xf3n");case 4:return n=e.sent,e.next=7,ye(t[0],t[1],"Mantenci\xf3n");case 7:r=e.sent,S(n.data.length),N(r.data.length),Nr.map(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t.name,"Inspecci\xf3n");case 2:r=e.sent,i=[],r.data.length>0?(t.number=r.data.length,r.data.map(function(){var e=Object(l.a)(s.a.mark((function e(n,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Asignar"===n.state&&i.push(n),e.next=3,_(n.site);case 3:n.siteName=e.sent,Se(n.machine).then((function(e){n.hourMeter=Number(e.data[0].hourMeter)/36e5})),a==r.data.length-1&&(t.lista=r.data.reverse(),f(i.length));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())):(t.lista=[],t.number=0),n==Nr.length-1&&a(Nr);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Br.map(function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t.name,"Mantenci\xf3n");case 2:a=e.sent,r=[],a.data.length>0?(t.number=a.data.length,a.data.map(function(){var e=Object(l.a)(s.a.mark((function e(n,i){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Asignar"===n.state&&r.push(n),e.next=3,_(n.site);case 3:n.siteName=e.sent,Se(n.machine).then((function(e){n.hourMeter=Number(e.data[0].hourMeter)/36e5})),i==a.data.length-1&&(t.lista=a.data.reverse(),I(r.length));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())):(t.lista=[],t.number=0),n==Br.length-1&&(j(Br),q(!1));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),"superAdmin"!==localStorage.getItem("role")&&"admin"!==localStorage.getItem("role")&&"sapExecutive"!==localStorage.getItem("role")||g(!0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){return new Promise((function(t){Ue.initDbObras().then((function(n){Ue.consultar(n.database).then((function(n){n.forEach((function(n){n.idobra===e&&t(n.descripcion)}))}))}))}))},$=function(e){G(!1),P(e)};return Object(Mt.jsxs)("div",{className:"container-width",children:[Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){X.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Ordenes"}),Object(Mt.jsxs)("button",{hidden:!h,onClick:function(){X.push("/reports/create-report")},title:"Nuevo reporte",style:{position:"absolute",right:10,color:"#fff",backgroundColor:"#be2e26",paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,borderRadius:20,borderColor:"transparent"},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.i,style:{marginRight:10}})," Nueva orden"]})]})})}),Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsxs)(un.a,{item:!0,xs:12,sm:12,md:4,lg:3,xl:3,children:[Object(Mt.jsxs)("div",{className:"menu-card",children:[Object(Mt.jsx)("h3",{children:"Inspecciones"}),Object(Mt.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(Mt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(Mt.jsx)("p",{style:{fontSize:32,margin:0},children:O})}),Object(Mt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(Mt.jsx)("p",{style:{fontSize:10,margin:0},children:"Inspecciones por asignar"})})]}),Object(Mt.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(Mt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(Mt.jsxs)("p",{style:{fontSize:32,margin:0},children:[w," "]})}),Object(Mt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(Mt.jsx)("p",{style:{fontSize:10,margin:0},children:"Inspecciones completadas en la semana"})})]}),Object(Mt.jsx)("div",{style:{paddingLeft:10,paddingRight:10,marginTop:"10vh"},children:n.map((function(e,t){return Object(Mt.jsxs)(un.a,{container:!0,style:{height:"5vh"},children:[Object(Mt.jsx)(un.a,{item:!0,style:{width:"15%"},children:Object(Mt.jsx)(Vt.a,{icon:Jt.g,size:"2x",style:{marginRight:10},color:e.color})}),Object(Mt.jsx)(un.a,{item:!0,style:{width:"30%"},children:Object(Mt.jsx)("p",{style:{margin:0,fontSize:12},children:e.name})}),Object(Mt.jsx)(un.a,{item:!0,style:{width:"15%"},children:Object(Mt.jsx)(Er.a,{label:e.number,style:{marginLeft:10,marginRight:10}})}),Object(Mt.jsx)(un.a,{item:!0,style:{width:"40%",textAlign:"right"},children:Object(Mt.jsx)("button",{onClick:function(){return $(e.lista)},style:{position:"relative",right:5,width:80,height:30,borderRadius:20},children:e.button})})]},t)}))})]}),Object(Mt.jsxs)("div",{className:"menu-card",children:[Object(Mt.jsx)("h3",{children:"Mantenciones"}),Object(Mt.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(Mt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(Mt.jsx)("p",{style:{fontSize:32,margin:0},children:k})}),Object(Mt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(Mt.jsx)("p",{style:{fontSize:10,margin:0},children:"Mantenciones por asignar"})})]}),Object(Mt.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(Mt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(Mt.jsxs)("p",{style:{fontSize:32,margin:0},children:[E," "]})}),Object(Mt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(Mt.jsx)("p",{style:{fontSize:10,margin:0},children:"Mantenciones completadas en la semana"})})]}),Object(Mt.jsx)("div",{style:{paddingLeft:10,paddingRight:10,marginTop:"10vh"},children:o.map((function(e,t){return Object(Mt.jsxs)(un.a,{container:!0,style:{height:"5vh"},children:[Object(Mt.jsx)(un.a,{item:!0,style:{width:"15%"},children:Object(Mt.jsx)(Vt.a,{icon:Jt.g,size:"2x",style:{marginRight:10},color:e.color})}),Object(Mt.jsx)(un.a,{item:!0,style:{width:"30%"},children:Object(Mt.jsx)("p",{style:{margin:0,fontSize:12},children:e.name})}),Object(Mt.jsx)(un.a,{item:!0,style:{width:"15%"},children:Object(Mt.jsx)(Er.a,{label:e.number,style:{marginLeft:10,marginRight:10}})}),Object(Mt.jsx)(un.a,{item:!0,style:{width:"40%",textAlign:"right"},children:Object(Mt.jsx)("button",{onClick:function(){return $(e.lista)},style:{position:"relative",right:5,width:80,height:30,borderRadius:20},children:e.button})})]},t)}))})]})]}),Object(Mt.jsxs)(un.a,{item:!0,xs:12,sm:12,md:8,lg:9,xl:9,children:[Y&&Object(Mt.jsxs)("div",{children:[Object(Mt.jsx)("img",{style:{margin:0,position:"absolute",top:"50%",left:"calc(100%/1.53)",msTransform:"translateY(-50%)",transform:"translateY(-50%)"},src:"../../assets/icons/Arrow.svg",alt:""}),Object(Mt.jsx)("div",{style:{textAlign:"center",position:"absolute",top:"55%",left:"calc(100%/1.6)"},children:Object(Mt.jsxs)("p",{children:["Selecciona una opci\xf3n ",Object(Mt.jsx)("br",{})," para ver el detalle"]})})]}),!Y&&Object(Mt.jsx)("div",{style:{height:"calc(100% - 50px)",display:"block",overflowY:"auto"},children:Object(Mt.jsx)(Xa,{list:z,reloadData:function(){location.reload()}})}),V&&Object(Mt.jsx)(bn,{open:V})]})]})]})}),zr=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),c=Object(d.a)(i,2),o=c[0],j=c[1],b=Object(r.useState)([]),m=Object(d.a)(b,2),h=m[0],g=m[1],p=Object(r.useState)(""),x=Object(d.a)(p,2),O=x[0],f=x[1],v=Object(r.useState)(),y=Object(d.a)(v,2),w=y[0],C=y[1],A=Object(r.useState)(),k=Object(d.a)(A,2),I=k[0],D=k[1],M=Object(r.useState)(),E=Object(d.a)(M,2),N=E[0],B=E[1],T=Object(r.useState)(),z=Object(d.a)(T,2),P=z[0],F=z[1],L=Object(r.useState)(),Y=Object(d.a)(L,2),G=Y[0],U=Y[1],Z=Object(r.useState)(!0),W=Object(d.a)(Z,2),Q=W[0],H=W[1],J=Object(r.useState)(!1),V=Object(d.a)(J,2),q=V[0],X=V[1],_=Object(r.useState)(!0),ee=Object(d.a)(_,2),te=ee[0],ne=ee[1],ae=Object(r.useState)(0),re=Object(d.a)(ae,2),ie=re[0],ce=re[1],oe=Object(r.useState)(""),se=Object(d.a)(oe,2),le=se[0],de=se[1],ue=Object(r.useState)(""),me=Object(d.a)(ue,2),ge=me[0],pe=me[1],xe=Object(r.useState)(""),Oe=Object(d.a)(xe,2),fe=Oe[0],ve=Oe[1],ye=Object(r.useState)(""),Se=Object(d.a)(ye,2),Ce=Se[0],Ae=Se[1],ke=Object(r.useState)(""),Ie=Object(d.a)(ke,2),De=Ie[0],Re=Ie[1],Me=Object(r.useState)(""),Ee=Object(d.a)(Me,2),Ne=Ee[0],Be=Ee[1],Te=Object(r.useState)(!0),ze=Object(d.a)(Te,2),Pe=(ze[0],ze[1],Object(r.useState)("")),Le=Object(d.a)(Pe,2),Ge=Le[0],Ue=Le[1],Ze=Object(r.useState)(!1),We=Object(d.a)(Ze,2),Qe=We[0],Je=We[1],Ve=R(),qe=Object(u.f)(),Xe=Object(u.h)().id,Ke=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return H(!0),X(!0),e.next=5,nt();case 5:n=e.sent,a=n.filter((function(e,t){if(e.header[3].typeDataDesc===O&&e.action.includes(I))return e})),j(a),setTimeout((function(){H(!1),X(!1)}),500);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(e){D(e)},$e=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(t),e.next=3,He.initDbMachines();case 3:(n=e.sent)&&He.consultar(n.database).then((function(e){new Array;var n=e.filter((function(e){if(e.model===t)return e})).sort((function(e,t){return Number(e.equ)-Number(t.equ)}));g(n)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={createdBy:localStorage.getItem("_id"),updatedBy:localStorage.getItem("_id"),state:"Asignar",datePrev:Date.parse(le),endPrev:Date.parse(ge),machine:P,guide:w,reportType:N},Object(S.a)(t,"machine",JSON.parse(G).equid),Object(S.a)(t,"site",JSON.parse(localStorage.getItem("sitio")).idobra),Object(S.a)(t,"sapId",Ne),Object(S.a)(t,"idPm",Ge),Object(S.a)(t,"testMode",Qe),(n=t).machine&&n.sapId&&n.guide&&"Selecci\xf3n no cuenta con pautas."!==n.guide&&n.reportType&&"Seleccione..."!==n.reportType){e.next=5;break}alert("Falta informaci\xf3n"),e.next=11;break;case 5:return e.next=7,je(n);case 7:a=e.sent,r={reportId:a.data._id,createdBy:localStorage.getItem("_id")},ht(r),a&&(alert("Reporte ".concat(a.data.idIndex,", para m\xe1quina modelo ").concat(a.data.machine," creado satisfactoriamente.")),qe.goBack());case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={idIndex:ie,updatedBy:localStorage.getItem("_id"),state:"Asignar",datePrev:Date.parse(le),machine:P,guide:w,reportType:N},Object(S.a)(t,"machine",JSON.parse(G).equid),Object(S.a)(t,"site",JSON.parse(localStorage.getItem("sitio")).idobra),(n=t).machine&&n.guide&&"Selecci\xf3n no cuenta con pautas."!==n.guide&&n.reportType&&"Seleccione..."!==n.reportType){e.next=5;break}alert("Falta informaci\xf3n"),e.next=9;break;case 5:return e.next=7,be(n);case 7:(a=e.sent)&&(alert("Reporte ".concat(a.data.idIndex,", para m\xe1quina modelo ").concat(a.data.machine," editado satisfactoriamente.")),qe.goBack());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(){return new Promise((function(e){Ye.initDbPMs().then(function(){var t=Object(l.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ye.consultar(n.database);case 2:a=t.sent,e(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},at=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:t=e.sent,ce(t.data.length);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){Fe.initDbMachines().then(function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.consultar(t.database);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),it(Xe),rt()}),[]);var rt=function(){var e=new Date(Date.now()),t=e.getMonth()+1,n=e.getDate(),a=e.getFullYear();t<10&&(t="0"+t.toString()),n<10&&(n="0"+n.toString()),Re(a+"-"+t+"-"+n)},it=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,r,i,c,o,l,d,u,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:if(n=e.sent,!t){e.next=41;break}return a=JSON.parse(t),s=a.reportType,D("Inspecci\xf3n"===s?"PI":"Mantenci\xf3n"===s?"PM":void 0),ce(a.idIndex),r=a.datePrev.toString().replace("T00:00:00.000Z",""),de(r),B(a.reportType),_e(a.reportType),ne(!1),navigator.onLine&&$().then((function(e){})),e.next=16,He.initDbMachines();case 16:return i=e.sent,e.next=19,He.consultar(i.database);case 19:return c=e.sent,o=new Array,l=(o=c).filter((function(e){if(e.equid===a.machine)return e})),f(l[0].model),d=n.filter((function(e,t){if(e.header[3].typeDataDesc===l[0].model&&e.action===a.reportType)return e})),j(d),a.guide.testMode||(a.guide.testMode=!1),C(a.guide),H(!1),u=o.filter((function(e){if(e.model===l[0].model)return l})),e.next=32,K(l[0].equid);case 32:b=e.sent,ve(Number(b.data[0].hourMeter)/36e5),Ae(l[0].equid),g(u),F(l[0].model),U(JSON.stringify(l[0])),g(u),e.next=42;break;case 41:at();case 42:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:"root",container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:Ve.pageContainer,item:!0,xs:12,children:Object(Mt.jsxs)(sa.a,{elevation:0,className:Ve.pageCard,children:[Object(Mt.jsxs)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Mt.jsx)("div",{className:"navigation-bar",children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){qe.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:[Xe&&"Ordenes / Editar orden de trabajo",!Xe&&"Ordenes / Crear nueva orden de trabajo"]})]})})}),Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsxs)(un.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)(Za.a,{children:[Object(Mt.jsx)("p",{style:{margin:5},children:"N\xb0 OT"}),Object(Mt.jsx)("input",{disabled:!0,value:ie,maxLength:12,onBlur:function(){return Ke()},className:Ve.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)(Za.a,{children:[Object(Mt.jsx)("p",{style:{margin:5},children:"ID SAP"}),Object(Mt.jsx)("input",{value:Ne,onChange:function(e){Be(e.target.value)},maxLength:12,onBlur:function(){return Ke()},className:Ve.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)(Za.a,{children:[Object(Mt.jsx)("p",{style:{margin:5},children:"Fecha Inicio Programado"}),Object(Mt.jsx)("input",{value:le,onChange:function(e){de(e.target.value)},maxLength:12,onBlur:function(){return Ke()},className:Ve.inputsStyle,type:"date",min:De,style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)(Za.a,{children:[Object(Mt.jsx)("p",{style:{margin:5},children:"Fecha T\xe9rmino Programado"}),Object(Mt.jsx)("input",{value:ge,onChange:function(e){pe(e.target.value)},maxLength:12,onBlur:function(){return Ke()},className:Ve.inputsStyle,type:"date",min:le,disabled:!le,style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Mt.jsxs)("div",{style:{width:"100%"},children:[Object(Mt.jsx)("p",{style:{margin:5},children:"Seleccionar tipo de reporte"}),Object(Mt.jsx)(Za.a,{children:Object(Mt.jsxs)("select",{onBlur:function(){return Ke(!0)},className:Ve.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){B(e.target.value),_e(e.target.value)},value:N,children:[Object(Mt.jsx)("option",{children:"Seleccione..."}),Object(Mt.jsx)("option",{children:"Inspecci\xf3n"}),Object(Mt.jsx)("option",{children:"Mantenci\xf3n"})]})})]}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)(Za.a,{children:[Object(Mt.jsx)("p",{style:{margin:5},children:"Seleccionar modelo de m\xe1quina"}),Object(Mt.jsxs)("select",{onBlur:function(){return Ke(!0)},className:Ve.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){F(e.target.value),H(!1),$e(e.target.value)},value:P,children:[Object(Mt.jsx)("option",{children:"Seleccione..."}),n.map((function(e,t){return Object(Mt.jsxs)("option",{value:e.model,children:[e.type," ",e.brand," ",e.model]},t)}))]})]})})]}),Object(Mt.jsxs)(un.a,{item:!0,xl:6,lg:6,md:6,sm:12,xs:12,children:[Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)(Za.a,{children:[Object(Mt.jsxs)("p",{style:{margin:0},children:["Seleccionar Pauta  ",Q&&q&&Object(Mt.jsx)("b",{children:"ESPERE..."})]}),Object(Mt.jsxs)("select",{disabled:Q,onBlur:function(){return Ke()},className:Ve.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){C(e.target.value.split(",")[1]),ne(!1),Ue(e.target.value.split(",")[0])},value:[Ge,w],children:[Object(Mt.jsx)("option",{children:"Seleccione..."}),o.length>0&&o.map((function(e,t){return console.log(e),Object(Mt.jsxs)("option",{value:[e.idpm,e.typepm],children:[" ","SPM000787"===e.idpm?"Motor LMR":"Motor Est\xe1ndar"," - ",e.typepm," / ",e.header[1].typeDataDesc," "]},t)})),0==o.length&&Object(Mt.jsx)("option",{children:" Selecci\xf3n no cuenta con pautas. "})]})]})}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)("p",{children:["Test: ",Object(Mt.jsx)(gn.a,{checked:Qe,onChange:function(e){return Je(e.target.checked)}})]})}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)(Za.a,{children:[Object(Mt.jsx)("p",{children:"Seleccionar m\xe1quina de obra"}),Object(Mt.jsxs)("select",{onBlur:function(){return Ke()},className:Ve.inputsStyle,disabled:te,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){"init"===e.target.value?(ve(""),Ae(""),U("")):(U(e.target.value),Ae(JSON.parse(e.target.value).equid),ve(JSON.parse(e.target.value).hourMeter/36e5))},value:G,defaultValue:"init",children:[Object(Mt.jsx)("option",{value:"init",selected:!0,children:"Seleccione..."}),h.sort((function(e,t){return Number(e.equ)-Number(t.equ)})).map((function(e,t){return Object(Mt.jsxs)("option",{value:JSON.stringify(e),children:[" ",e.equ," / ",e.type," ",e.brand," - ",e.model," "]},t)}))]})]})}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)(Za.a,{children:[Object(Mt.jsx)("p",{children:"Horas de operaci\xf3n"}),Object(Mt.jsx)("input",{disabled:!0,value:fe,maxLength:12,onBlur:function(){return Ke()},className:Ve.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)(Za.a,{children:[Object(Mt.jsx)("p",{children:"Equipo ID"}),Object(Mt.jsx)("input",{disabled:!0,value:Ce,maxLength:12,onBlur:function(){return Ke()},className:Ve.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})]})]})]}),Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,lg:6,md:6,sm:!1,xs:!1}),Object(Mt.jsx)(un.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(Mt.jsxs)("div",{style:{width:"100%",paddingTop:30,textAlign:"center"},children:[Xe&&Object(Mt.jsx)("button",{onClick:function(){return tt()},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Editar reporte"}),Xe&&Object(Mt.jsx)("button",{onClick:function(){Xe&&confirm("Se borrar\xe1 el reporte permanentemente. \xbfDesea continuar?")&&he(JSON.parse(Xe)._id).then((function(e){alert("Reporte eliminado."),qe.goBack()}))},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Borrar reporte"}),!Xe&&Object(Mt.jsx)("button",{onClick:function(){return et()},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Agregar reporte"})]})})]})]})})})})},Pr=function(){var e=R();return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:e.pageCard,children:[{id:0,description:"Actividad 1 programada",fecha:"12/10/2021"},{id:1,description:"Actividad 1 ejecutada",fecha:"13/10/2021"},{id:2,description:"Actividad 2 programada",fecha:"13/10/2021"},{id:3,description:"Actividad 3 programada",fecha:"14/10/2021"},{id:4,description:"Actividad 2 ejecutada",fecha:"15/10/2021"},{id:5,description:"Actividad 4 programada",fecha:"16/10/2021"},{id:6,description:"Actividad 3 ejecutada",fecha:"16/10/2021"},{id:7,description:"Actividad 4 ejecutada",fecha:"19/10/2021"},{id:8,description:"Actividad 5 programada",fecha:"20/10/2021"},{id:9,description:"Actividad 6 programada",fecha:"20/10/2021"}].reverse().filter((function(e){return e.toString()})).map((function(e){return Object(Mt.jsx)(un.a,{item:!0,style:{width:"100%",padding:5},children:Object(Mt.jsx)("div",{style:{borderRadius:20,backgroundColor:"#fff",padding:10},children:Object(Mt.jsxs)("h3",{children:[e.fecha," - ",e.description]})})},e.id)}))})})})})},Fr=function(){var e=R();return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:e.pageCard})})})})},Lr=function(){var e=R();return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsxs)(sa.a,{elevation:0,className:e.pageCard,children:[Object(Mt.jsx)(un.a,{style:{flexShrink:0},children:Object(Mt.jsx)("div",{style:{width:"100%",color:"#fff"},children:Object(Mt.jsx)("h1",{children:"Configuraci\xf3n"})})}),Object(Mt.jsxs)(un.a,{container:!0,spacing:1,children:[Object(Mt.jsx)("div",{style:{width:"30%"},children:Object(Mt.jsxs)("div",{style:{textAlign:"left",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:[Object(Mt.jsx)(hn.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(Mt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Perfil"})}),Object(Mt.jsx)(hn.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(Mt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Notificaciones"})}),Object(Mt.jsx)(hn.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(Mt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Informaci\xf3n"})}),Object(Mt.jsx)(hn.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(Mt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Soporte"})})]})}),Object(Mt.jsx)("div",{style:{width:"70%",height:"35rem",overflowY:"auto"},children:Object(Mt.jsx)("div",{style:{textAlign:"left",height:"100%",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:Object(Mt.jsx)("div",{style:{height:"50%"}})})})]})]})})})})},Yr=function(){var e=R(),t=Object(r.useState)([]),n=Object(d.a)(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ue.initDbObras().then(function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.consultar(t.database);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsxs)(sa.a,{elevation:0,className:e.pageCard,children:[Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsx)("h1",{children:"Para navegar en la plataforma debe seleccionar una obra."})}),Object(Mt.jsx)(un.a,{container:!0,style:{height:"75vh"},alignItems:"center",justifyContent:"center",children:a.filter((function(e){return e.toString()})).map((function(e){return Object(Mt.jsx)(un.a,{item:!0,style:{width:"100%",padding:20},children:Object(Mt.jsx)(ir,{site:e})},e.id)}))})]})})})})},Gr=function(){var e=R(),t=Object(u.f)(),n="superAdmin"!==localStorage.getItem("role");return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsxs)(sa.a,{elevation:0,className:e.pageCard,children:[Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n"})]})})})}),Object(Mt.jsxs)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:6,lg:3,style:{padding:10},children:Object(Mt.jsx)(rr,{variant:"users"})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:6,lg:3,style:{padding:10},children:Object(Mt.jsx)(rr,{variant:"roles",disableButton:n})})]})]})})})})},Ur=(n(405),function(e){e.route;var t=Object(r.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1],c=R(),o=Object(u.f)();return Object(r.useEffect)((function(){navigator.onLine?i(!0):i(!1)}),[]),Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:"root",container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:c.pageContainer,item:!0,xs:12,children:Object(Mt.jsxs)(sa.a,{elevation:0,className:c.pageCard,children:[Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){o.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / Administrar usuarios"})]})})})}),Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:20,overflowY:"auto",height:"calc(100vh - 200px)"},children:Object(Mt.jsx)(Ua,{height:"100%",hableButton:a})})})]})})})})}),Zr=function(e){return new Promise((function(t){"name"===e?t("Nombre de usuario"):"lastName"===e?t("Apellido de usuario"):"rut"===e?t("RUT de usuario"):"role"===e?t("Tipo de usuario"):"email"===e?t("Email / Correo electr\xf3nico de usuario"):"phone"===e?t("Tel\xe9fono"):"password"===e?t("Contrase\xf1a"):"sites"===e?t("Obra"):"confirmPassword"===e&&t("Confirmaci\xf3n de la contrase\xf1a")}))},Wr={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},Qr=function(){var e=R(),t=Object(u.f)(),n=Object(r.useState)(!1),a=Object(d.a)(n,2),i=a[0],c=a[1],o=Object(r.useState)(!1),j=Object(d.a)(o,2),b=j[0],m=j[1],h=Object(r.useState)(""),g=Object(d.a)(h,2),p=(g[0],g[1]),x=Object(r.useState)(""),O=Object(d.a)(x,2),f=O[0],v=O[1],y=Object(r.useState)(),w=Object(d.a)(y,2),S=w[0],C=w[1],A=Object(r.useState)({}),k=Object(d.a)(A,2),I=k[0],D=k[1],M=Object(u.h)().id,E=function(){var e;i?(e=!1,t.goBack(),B()):e=!0,setTimeout((function(){c(e)}),500)};Object(r.useEffect)((function(){M?(v("Editar usuario"),se(M).then((function(e){console.log(e),"x@x.xx"===e.data.email&&(e.data.email=""),D(e.data),C(0)}))):(C(0),v("Nuevo usuario"))}),[]);var N=function(){var e=Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=JSON.parse(localStorage.getItem("userDataToSave"))).confirmPassword=null,m(!0),"Nuevo usuario"!==f){e.next=19;break}return e.prev=4,p("Inscribiendo nuevo usuario"),e.next=8,ie(n,n.password);case 8:200==e.sent.status?(m(!1),E()):(alert("Error al crear usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),m(!1),t.goBack()),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),alert("Error al crear usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),m(!1),t.goBack();case 17:e.next=33;break;case 19:if("Editar usuario"!==f){e.next=33;break}return e.prev=20,p("Editando usuario"),e.next=24,ce(n);case 24:200==e.sent.status?(m(!1),E()):(alert("Error al editar usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),m(!1),t.goBack()),e.next=33;break;case 28:e.prev=28,e.t1=e.catch(20),alert("Error al crear usuario. Verifique los datos ingresados. Posiblemente haya repetido datos de alg\xfan usuario inscrito"),m(!1),t.goBack();case 33:case"end":return e.stop()}}),e,null,[[4,12],[20,28]])})));return function(){return e.apply(this,arguments)}}(),B=function(){localStorage.removeItem("userDataToSave"),localStorage.removeItem("listaPermisosReportes"),localStorage.removeItem("listaPermisosUsuarios")},T=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.parse(localStorage.getItem("userDataToSave")),n=!0,t?t.rut?Object(qn.validate)(t.rut)?t.phone?(console.log(t),a=[],r={},""===t.email?(r.confirmPassword=t.confirmPassword,r.password=t.password,r.name=t.name,r.lastName=t.lastName,r.phone=t.phone,r.role=t.role,r.rut=t.rut,r.sites=t.sites,Object.values(r).map(function(){var e=Object(l.a)(s.a.mark((function e(i,c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(i),i){e.next=8;break}return M||(n=!1),e.t0=a,e.next=6,Zr(Object.keys(t)[c]);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:c==Object.values(r).length-2&&(console.log(a),n?M||t.password===t.confirmPassword?C(S+1):alert("Contrase\xf1as no coinciden"):setTimeout((function(){alert("Faltan datos: "+JSON.stringify(a))}),100));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())):Object.values(t).map(function(){var e=Object(l.a)(s.a.mark((function e(r,i){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(r),r){e.next=8;break}return M||(n=!1),e.t0=a,e.next=6,Zr(Object.keys(t)[i]);case 6:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 8:i==Object.values(t).length-2&&(console.log(a),n?M||t.password===t.confirmPassword?C(S+1):alert("Contrase\xf1as no coinciden"):setTimeout((function(){alert("Faltan datos: "+JSON.stringify(a))}),100));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())):alert("Tel\xe9fono debe contar con al menos 9 car\xe1cteres"):alert("Rut inv\xe1lido. Revise los datos."):alert("Falta RUT"):alert("Sin datos");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsxs)(sa.a,{elevation:0,className:e.pageCard,children:[Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){t.goBack(),B()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:["Administraci\xf3n / Administrar usuarios / ",f]})]})})})}),Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsxs)("div",{style:{width:"100%",textAlign:"left",padding:10,overflowY:"auto"},children:[0===S&&Object(Mt.jsx)(Ja,{typeDisplay:f,uData:I}),1===S&&Object(Mt.jsx)(qa,{width:"calc(100vw - 350px)",height:"calc(100vh - 320px)",typeDisplay:f,id:M}),Object(Mt.jsx)("div",{style:{position:"absolute",right:40,bottom:40},children:Object(Mt.jsx)("div",{style:{width:"100%"},children:Object(Mt.jsxs)("div",{style:{float:"right"},children:[1==S&&Object(Mt.jsx)("button",{onClick:function(){return C(S-1)},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Modificar Datos"}),Object(Mt.jsx)("button",{onClick:function(){t.goBack(),B()},style:{width:189,height:48,borderRadius:23,marginRight:17,fontSize:20,color:"#BB2D2D",borderColor:"#BB2D2D",borderWidth:2},children:"Cancelar"}),0==S&&Object(Mt.jsx)("button",{onClick:function(){return T()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Siguiente"}),S>0&&!M&&Object(Mt.jsx)("button",{onClick:function(){N()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Crear usuario"}),S>0&&M&&Object(Mt.jsx)("button",{onClick:function(){m(!0),setTimeout(Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("userDataToSave")),e.next=3,ce(t,M);case 3:e.sent&&(E(),m(!1));case 5:case"end":return e.stop()}}),e)}))),1e3)},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Editar usuario"})]})})})]})}),Object(Mt.jsxs)("div",{children:[Object(Mt.jsx)(cn.a,{open:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:Wr,children:[Object(Mt.jsxs)("div",{style:{textAlign:"center"},children:[Object(Mt.jsx)("img",{src:"../../assets/icons/check-green.svg",alt:""}),"Nuevo usuario"===f&&Object(Mt.jsx)("h1",{children:"Usuario creado con \xe9xito"}),"Editar usuario"===f&&Object(Mt.jsx)("h1",{children:"Usuario editado con \xe9xito"})]}),Object(Mt.jsx)(sn.a,{onClick:E,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(Mt.jsx)(ln.a,{style:{color:"#ccc"}})})]})}),Object(Mt.jsx)(bn,{open:b})]})]})})})})},Hr=function(e){e.route;var t=Object(r.useState)(),n=Object(d.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)([]),o=Object(d.a)(c,2),j=o[0],b=o[1],m=R(),h=Object(u.f)();return Object(r.useEffect)((function(){var e=localStorage.getItem("_id");navigator.onLine?oe().then(function(){var t=Object(l.a)(s.a.mark((function t(n){var a,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=new Array,a=n.data,(r=a.filter((function(t){if(t._id===e)return t})))[0].imageUrl||(r[0].imageUrl="../assets/no-profile-image.png"),i(r[0]),c=a.filter((function(t){if(t._id!=e&&"admin"!=t.role)return t})),b(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):setTimeout((function(){alert("Dispositivo sin conexi\xf3n. Revise si cuenta con internet e intente nuevamente."),h.goBack()}),100)}),[]),Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:m.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:m.pageContainer,item:!0,xs:12,children:Object(Mt.jsxs)(sa.a,{elevation:0,className:m.pageCard,children:[Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){h.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Perfil"})]})})})}),Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:a&&Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(Mt.jsx)("div",{style:{padding:20,textAlign:"right"},children:Object(Mt.jsx)("img",{src:a.imageUrl,style:{maxHeight:300,maxWidth:300,objectFit:"cover"},width:"100%",alt:""})})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:a&&Object(Mt.jsxs)("div",{style:{padding:20},children:[Object(Mt.jsxs)("h1",{children:[a.name," ",a.lastName]}),Object(Mt.jsx)("h3",{children:P(a.role)}),Object(Mt.jsx)("h3",{children:a.rut}),Object(Mt.jsx)("h3",{children:a.email}),Object(Mt.jsxs)("h3",{children:["+56",a.phone]}),Object(Mt.jsxs)("h3",{children:[JSON.parse(a.sites).idobra," - ",JSON.parse(a.sites).descripcion]}),Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Mt.jsxs)("div",{style:{width:200,height:200},children:[Object(Mt.jsx)("h3",{children:"Firma"}),Object(Mt.jsx)("img",{src:a.sign,width:200,height:200})]})})]})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(Mt.jsxs)("div",{style:{padding:20},children:[Object(Mt.jsx)("h1",{children:"Otros usuarios"}),j.map((function(e,t){return e.imageUrl||(e.imageUrl="../assets/no-profile-image.png"),Object(Mt.jsxs)("div",{style:{width:"100%"},children:[Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xs:4,sm:3,lg:2,xl:2,children:Object(Mt.jsx)("img",{src:e.imageUrl,width:50,height:50,style:{objectFit:"cover",borderRadius:"50%"},alt:""})}),Object(Mt.jsx)(un.a,{item:!0,xs:6,sm:4,lg:4,xl:4,children:Object(Mt.jsxs)("p",{children:[e.name," ",e.lastName]})}),Object(Mt.jsx)(un.a,{item:!0,xs:12,sm:5,lg:4,xl:4,children:Object(Mt.jsx)("p",{children:P(e.role)})})]}),Object(Mt.jsx)("br",{})]},t)}))]})})]})})})]})})})})},Jr=function(e){e.route;var t=Object(r.useState)(!1),n=Object(d.a)(t,2),a=(n[0],n[1]),i=R(),c=Object(u.f)();return Object(r.useEffect)((function(){navigator.onLine?a(!0):a(!1)}),[]),Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:"root",container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:i.pageContainer,item:!0,xs:12,children:Object(Mt.jsxs)(sa.a,{elevation:0,className:i.pageCard,children:[Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){c.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / Administrar usuarios"})]})})})}),Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:20,overflowY:"auto",height:"calc(100vh - 200px)"}})})]})})})})},Vr=(n(671),n(664),n(658),function(){var e=R(),t=Object(r.useState)(),n=Object(d.a)(t,2),a=n[0],i=n[1],c=Object(u.f)(),o=Object(u.h)().id;return Object(r.useEffect)((function(){Ye.initDbPMs().then(function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.obtener(o,t.database);case 2:(n=e.sent)&&i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(Mt.jsx)(on.a,{children:Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:e.pageCard,children:Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsx)("div",{style:{paddingLeft:0},children:Object(Mt.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){c.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:a&&"Listado Pautas / ".concat(a.typepm)})]}),Object(Mt.jsx)("div",{style:{height:"90%",width:"98%"},children:a&&Object(Mt.jsx)(Ga,{pauta:a})})]})})})})})})})})})}),qr=function(){var e=R();Object(u.f)();return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:e.pageCard,children:Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("h1",{children:"Sin permiso de acceso"})})})})})})})},Xr=n(74),Kr=n(655),_r=function(e){return new Promise((function(t){Oe(e).then((function(e){t(e.data)}))}))},$r=function(){return new Promise((function(e){ge().then((function(t){e(t.data)}))}))},ei=function(){var e=R(),t=Object(u.f)(),n=Object(r.useState)([]),a=Object(d.a)(n,2),i=a[0],c=a[1],o=Object(r.useState)([]),j=Object(d.a)(o,2),b=j[0],m=j[1],h=Object(r.useState)([]),g=Object(d.a)(h,2),p=g[0],x=g[1],O=Object(Xr.a)(),v=Object(Kr.a)(O.breakpoints.down("sm"));Object(r.useEffect)(Object(l.a)(s.a.mark((function e(){var t,n,a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:return t=e.sent,e.next=5,lt(t.database);case 5:if(n=e.sent,x(n),!navigator.onLine){e.next=11;break}new Promise(function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Array,"maintenceOperator"!==localStorage.getItem("role")&&"inspectionWorker"!==localStorage.getItem("role")){e.next=7;break}return e.next=4,_r(localStorage.getItem("_id"));case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,$r();case 9:n=e.sent;case 10:return t(n),e.next=13,Xe();case 13:e.sent&&n.forEach(function(){var e=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.idDatabase=n;case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&e.forEach(function(){var t=Object(l.a)(s.a.mark((function t(n,a){var r,i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"Pauta de Inspecci\xf3n"===n.guide?n._guide="PI":n._guide=n.guide,n.priority=(d=n.level,u=localStorage.getItem("role"),1==d&&"shiftManager"===u||2==d&&"chiefMachinery"===u||3==d&&("sapExecutive"===u||"admin"===u)),n.dateFormat=Y(n.datePrev),n.end=Y(n.endReport),n.init=Y(n.dateInit),t.next=7,S(n.machine);case 7:n.getMachine=t.sent,n.modelMachine=n.getMachine.model,n.numberMachine=n.getMachine.number,"PC5500"===n.getMachine.model?n.machineType="Pala":"793-F"===n.getMachine.model&&(n.machineType="Cami\xf3n"),a==e.length-1&&(r=e.filter((function(e){if(e.enabled)return e})),i=[],o=[],r.map((function(e,t){var n;n=e,new Promise(function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe();case 2:return a=e.sent,r=a.database,e.next=6,Ke(n,r);case 6:i=e.sent,t(!!i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.priority?o.push(e):i.push(e),t==r.length-1&&(y(i.concat(o)),c(i.reverse()),m(o))})));case 12:case"end":return t.stop()}var d,u}),t)})));return function(e,n){return t.apply(this,arguments)}}())})),e.next=20;break;case 11:return e.next=13,Xe();case 13:return a=e.sent,r=a.database,i=[],e.next=18,$e(r);case 18:i=e.sent,c(i.reverse());case 20:return e.abrupt("return",(function(){return go=!1}));case 21:case"end":return e.stop()}}),e)}))),[]);var y=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a,r,i=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:new Array,e.next=3,Xe();case 3:return n=e.sent,a=n.database,r=new Array,e.next=8,$e(a);case 8:(r=e.sent).map(function(){var e=Object(l.a)(s.a.mark((function e(n,i){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(n.idDatabase,a);case 2:i==r.length-1&&t.map(function(){var e=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){t.push("/assignment/".concat(e.idIndex))},S=function(e){return new Promise(function(){var t=Object(l.a)(s.a.mark((function t(n){var a,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,He.initDbMachines();case 2:if(!(a=t.sent)){t.next=10;break}return t.next=6,He.consultar(a.database);case 6:(r=t.sent)&&(i=r.filter((function(t){if(e===t.equid)return t})),n({number:i[0].equ,model:i[0].model})),t.next=11;break;case 10:n(null);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:e.pageCard,children:Object(Mt.jsxs)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Actividades Asignadas"})]})})}),Object(Mt.jsxs)("div",{style:{width:"100%",padding:10},children:[Object(Mt.jsx)(un.a,{container:!0,direction:"column",children:Object(Mt.jsx)("div",{style:{width:"100%",borderRadius:10,borderStyle:"solid",borderWidth:1,borderColor:"#CCC",backgroundColor:"#CCC",marginBottom:10},children:Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Mt.jsx)("div",{style:{width:50,textAlign:"center"},children:Object(Mt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"N\xb0 OT"})})}),Object(Mt.jsx)(un.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Mt.jsx)("div",{style:{width:50,textAlign:"center"},children:Object(Mt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"Gu\xeda"})})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(Mt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"SAP ID"})})}),Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:2,xs:3,children:Object(Mt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"Inicio programado"})}),Object(Mt.jsx)(un.a,{item:!0,l:2,lg:2,md:2,sm:2,xs:2,children:Object(Mt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"Inicio ejecuci\xf3n"})}),!v&&Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:1,xs:1,children:Object(Mt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"T\xe9rmino programado"})}),!v&&Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:1,xs:1,children:Object(Mt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"T\xe9rmino ejecuci\xf3n"})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:Object(Mt.jsx)("p",{style:{fontSize:12,fontWeight:"bold",textAlign:"center"},children:"M\xe1quina"})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center",paddingRight:20},children:Object(Mt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"Acci\xf3n"})})})]})})}),Object(Mt.jsxs)(un.a,{container:!0,style:{overflowY:"auto",maxHeight:"calc(100vh - 295px)"},children:[("shiftManager"===localStorage.getItem("role")||"chiefMachinery"===localStorage.getItem("role"))&&Object(Mt.jsx)("div",{children:Object(Mt.jsx)("h3",{className:"item-style",children:"Mis actividades pendientes"})}),b&&b.reverse().map((function(e,t){return Object(Mt.jsx)("div",{className:"border-color-primary item-style",style:{width:"100%",borderRadius:10,marginBottom:10},children:Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Mt.jsx)("div",{style:{width:50,textAlign:"center"},children:Object(Mt.jsx)("p",{style:{fontSize:12},children:e.idIndex})})}),Object(Mt.jsx)(un.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Mt.jsx)("div",{style:{textAlign:"center",width:50},children:Object(Mt.jsx)("p",{style:{fontSize:12},children:e._guide})})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:Object(Mt.jsx)("div",{style:{textAlign:"center"},children:Object(Mt.jsx)("p",{style:{fontSize:12},children:e.sapId})})}),Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:2,xs:3,children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left"},children:Object(Mt.jsx)("p",{style:{fontSize:12},children:e.dateFormat})})}),Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:2,xs:2,children:Object(Mt.jsx)("p",{style:{fontSize:12},children:e.init})}),!v&&Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:1,xs:1,children:Object(Mt.jsxs)("p",{style:{fontSize:12},children:[" ",Y(e.endPrev)," "]})}),!v&&Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:1,xs:1,children:Object(Mt.jsxs)("p",{style:{fontSize:12},children:[" ",e.end," "]})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,lg:1,md:1,sm:2,xs:2,children:e.modelMachine&&Object(Mt.jsxs)("p",{style:{fontSize:12,textAlign:"center"},children:[" ",e.machineType," ",e.modelMachine," N\xb0: ",e.numberMachine," "]})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,style:{width:"100%",textAlign:"center",paddingRight:20},children:Object(Mt.jsx)(On.a,{onClick:function(){w(e)},color:"primary",style:{borderRadius:30},children:"Ver"})})]})},t)})),("shiftManager"===localStorage.getItem("role")||"chiefMachinery"===localStorage.getItem("role"))&&0==b.length&&Object(Mt.jsx)(un.a,{container:!0,children:Object(Mt.jsx)("h3",{className:"item-style",children:"Sin Asignaci\xf3n pendiente"})}),("shiftManager"===localStorage.getItem("role")||"chiefMachinery"===localStorage.getItem("role"))&&Object(Mt.jsx)("div",{children:Object(Mt.jsx)("h3",{children:"Otras asignaciones"})}),i&&i.map((function(e,t){return console.log(e),e.readyToSend=!1,p.forEach((function(t){t.idIndex===e.idIndex&&(e.readyToSend=!0)})),Object(Mt.jsx)("div",{style:{width:"100%",borderRadius:10,borderStyle:"solid",borderWidth:1,borderColor:e.readyToSend?"#be2e26":"#CCC",marginBottom:10,backgroundColor:e.endReport?"#f2f2f2":"#fff"},children:Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Mt.jsx)("div",{style:{width:50,textAlign:"center"},children:Object(Mt.jsx)("p",{style:{fontSize:12},children:e.idIndex})})}),Object(Mt.jsx)(un.a,{item:!0,xl:"auto",lg:"auto",md:"auto",sm:1,xs:1,children:Object(Mt.jsx)("div",{style:{width:50,textAlign:"center"},children:Object(Mt.jsx)("p",{style:{fontSize:12},children:e._guide})})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:Object(Mt.jsx)("div",{style:{textAlign:"center"},children:Object(Mt.jsx)("p",{style:{fontSize:12},children:e.sapId})})}),Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:2,xs:3,children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left"},children:Object(Mt.jsx)("p",{style:{fontSize:12},children:e.dateFormat})})}),Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:2,xs:2,children:Object(Mt.jsx)("p",{style:{fontSize:12},children:e.init})}),!v&&Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:1,xs:1,children:Object(Mt.jsxs)("p",{style:{fontSize:12},children:[" ",Y(e.endPrev)," "]})}),!v&&Object(Mt.jsx)(un.a,{item:!0,xl:2,lg:2,md:2,sm:1,xs:1,children:Object(Mt.jsxs)("p",{style:{fontSize:12},children:[" ",e.end," "]})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,children:e.modelMachine&&Object(Mt.jsxs)("p",{style:{fontSize:12,textAlign:"center"},children:[" ",e.machineType," ",e.modelMachine," ",Object(Mt.jsx)("br",{})," N\xb0: ",e.numberMachine," "]})}),Object(Mt.jsx)(un.a,{item:!0,xl:1,lg:1,md:1,sm:1,xs:1,style:{width:"100%",textAlign:"center",paddingRight:20},children:Object(Mt.jsx)(On.a,{onClick:function(){w(e)},color:"primary",style:{borderRadius:30},children:e.level&&e.level>0?"Ver":"inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role")?e.readyToSend?"Listo a enviar":"Ejecutar":"Ver"})})]})},t)})),0==i.length&&0==b.length&&Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center",height:100},children:Object(Mt.jsx)(f.a,{size:50})})]})]})]})})})})})},ti=function(e,t,n){var a,r,i;"termino-orden-1"===e?(a="OT ".concat(t," deber\xe1 ser revisada por Jefe de Turno"),r="/assignment",i="Se ha terminado de ejecutar OT ".concat(t)):"termino-orden-2"===e?(a="OT ".concat(t," deber\xe1 ser revisada por Jefe de Maquinaria"),r="/assignment",i="Se ha terminado de ejecutar OT ".concat(t)):"termino-orden-3"===e?(a="OT ".concat(t," deber\xe1 ser revisada por Ejecutivo SAP"),r="/assignment",i="Se ha terminado de ejecutar OT ".concat(t)):"termino-orden-4"===e?(a="OT ".concat(t," Ha sido cerrada por Ejecutivo SAP"),r="/reports",i="Se ha terminado de ejecutar OT ".concat(t)):"rechazo-orden-0"===e?(a="OT ".concat(t," rechazada"),r="/assignment",i="Se ha rechazado ejecuci\xf3n de OT ".concat(t)):("rechazo-orden-1"===e||"rechazo-orden-2"===e)&&(a="OT ".concat(t," rechazada"),r="/assignment",i="Se requiere ajuste de OT ".concat(t)),an(e,"".concat(localStorage.getItem("_id")),"Ejecuciones OT",i,a,r,n)},ni=function(){var e=R(),t=Object(u.f)(),n=Object(u.h)().id,a=Object(r.useState)(),i=Object(d.a)(a,2),c=i[0],o=i[1],j=Object(r.useState)(0),b=Object(d.a)(j,2),m=b[0],h=b[1],g=Object(r.useState)(0),p=Object(d.a)(g,2),x=p[0],O=p[1],f=Object(r.useState)(),y=Object(d.a)(f,2),w=y[0],S=y[1],C=Object(r.useState)(),A=Object(d.a)(C,2),k=A[0],I=A[1],D=Object(r.useState)(),M=Object(d.a)(D,2),E=M[0],N=M[1],B=Object(r.useState)(),T=Object(d.a)(B,2),P=T[0],F=T[1],L=Object(r.useState)(!1),Y=Object(d.a)(L,2),G=Y[0],U=Y[1],Z=Object(r.useState)(!1),W=Object(d.a)(Z,2),Q=W[0],H=W[1],J=Object(r.useState)(!1),V=Object(d.a)(J,2),q=V[0],X=V[1],K=Object(r.useState)([]),_=Object(d.a)(K,2),$=_[0],ee=_[1],te=Object(r.useState)(!1),ne=Object(d.a)(te,2),ae=ne[0],re=ne[1],ie=Object(r.useState)(!1),ce=Object(d.a)(ie,2),oe=ce[0],se=ce[1],le=Object(r.useState)(!1),de=Object(d.a)(le,2),ue=de[0],je=de[1],he=Object(r.useState)(),ge=Object(d.a)(he,2),xe=ge[0],Oe=ge[1],fe=Object(r.useState)(!1),ve=Object(d.a)(fe,2),ye=ve[0],we=ve[1],Se=Object(r.useState)(!1),Ce=Object(d.a)(Se,2),ke=Ce[0],Ie=Ce[1],De=Object(r.useState)(),Re=Object(d.a)(De,2),Me=Re[0],Ee=Re[1],Ne=Object(r.useState)(!1),Be=Object(d.a)(Ne,2),Te=Be[0],ze=Be[1],Pe=Object(r.useState)(),Fe=Object(d.a)(Pe,2),Le=Fe[0],Ge=Fe[1],Ue=Object(r.useState)(!1),Ze=Object(d.a)(Ue,2),We=Ze[0],Qe=Ze[1];Object(r.useEffect)(Object(l.a)(s.a.mark((function e(){var t,a,r,i,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.addEventListener("resize",(function(e){e.target.outerHeight>e.target.outerWidth?Ie(!0):Ie(!1)}),!0),window.screen.height>window.screen.width?Ie(!0):Ie(!1),"inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role")?se(!1):se(!0),re(!0),!navigator.onLine){e.next=8;break}pe(n).then((function(e){var t,n=e.data;console.log(n),He(n),n.level||(n.level=0),mt(n.machine).then((function(e){console.log(e[0]),Ee(e[0])})),F(n),I(n.level),"inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role")?t=0:"shiftManager"===localStorage.getItem("role")?t=1:"chiefMachinery"===localStorage.getItem("role")?t=2:"sapExecutive"!==localStorage.getItem("role")&&"admin"!==localStorage.getItem("role")&&"superAdmin"!==localStorage.getItem("role")||(t=3),t===n.level&&(N(!0),je(!0))})),e.next=25;break;case 8:return e.next=10,Xe();case 10:return t=e.sent,a=t.database,e.next=14,$e(a);case 14:r=e.sent,i=r.filter((function(e){if(Number(e.idIndex)==n)return e})),c=i[0],He(c),c.level||(c.level=0),mt(c.machine).then((function(e){console.log(e[0]),Ee(e[0])})),F(c),I(c.level),"inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role")?o=0:"shiftManager"===localStorage.getItem("role")?o=1:"chiefMachinery"===localStorage.getItem("role")?o=2:"sapExecutive"===localStorage.getItem("role")&&(o=3),o===c.level&&N(!0),console.log(c);case 25:case"end":return e.stop()}}),e)}))),[]);var He=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,r,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.initDbPMs();case 2:return n=e.sent,a=t,r=t.idPm,S(a.usersAssigned[0]),e.next=8,Ye.consultar(n.database);case 8:i=e.sent,c=i.filter((function(e){if(e.typepm===a.guide&&a.idPm===e.idpm||e.typepm===a.guide&&r===e.idpm)return e})),o(c[0]),c[0]&&setTimeout((function(){re(!1)}),1e3);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a,r,i,c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Array,n=!0,e.next=4,tt.initDb();case 4:return a=e.sent,e.next=7,tt.consultar(a.database);case 7:if(r=e.sent,i=r.filter((function(e){if(e.reportId===P._id)return e})),c={data:null,state:null},"inspectionWorker"!==localStorage.getItem("role")&&"maintenceOperator"!==localStorage.getItem("role")){e.next=17;break}return c.data=i[0],c.state=!0,e.next=15,Ae(i[0]);case 15:e.next=20;break;case 17:return e.next=19,gt(P._id);case 19:c=e.sent;case 20:t=Object.values(c.data.group),navigator.onLine?("sapExecutive"===localStorage.getItem("role")||"admin"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role")?X("Cerrando OT..."):X("Enviando estado..."),P.testMode?(o=[],$.map((function(e,t){o.push(c.data.group[e.data]),t==$.length-1&&Ke(o,n,!0)}))):Ke(t,n,!0)):(re(!0),P.testMode?(l=[],$.map((function(e,t){l.push(c.data.group[e.data]),t==$.length-1&&Ke(l,n,!1)}))):Ke(t,n,!1));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert('Dispositivo no est\xe1 conectado a internet. Conecte a una red e intente nuevamente. Estado de la OT cambia a "Listo para enviar"'),P.readyToSend=!0,e.next=4,ct();case 4:return n=e.sent,e.next=7,ot(P,n.database);case 7:e.sent?(t.goBack(),re(!1)):(re(!1),alert("Error al intentar guardar el estado de avance sin conexi\xf3n. Intente nuevamente. De continuar el problema, contactar a la administraci\xf3n."));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.onLine?(Oe("rejectReport"),U(!0)):alert("Dispositivo no est\xe1 conectado a internet. Conecte a una red e intente nuevamente");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Array,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Boolean,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Boolean;e.map((function(a,r){a.map((function(i,c){i.isChecked||(t=!1),P.testMode,c==a.length-1&&r==e.length-1&&(t?n?_e():Ve():(alert("Debe completar la pauta totalmente para enviar a revisi\xf3n."),re(!1)))}))}))},_e=function(){Oe("sendReport"),U(!0)},et=function(){var e=Object(l.a)(s.a.mark((function e(a,r){var i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=61;break}if(!confirm("Se enviar\xe1 informaci\xf3n. \xbfDesea confirmar?")){e.next=58;break}return H(!0),i=r||JSON.parse(n),e.next=6,ct();case 6:return c=e.sent,e.next=9,st(i.idIndex,c.database);case 9:if(e.sent,i.level=i.level+1,i.fullNameWorker="".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),1!==i.level){e.next=22;break}return i.emailing="termino-orden-1",i.endReport=Date.now(),i.endReport=i.endReport,e.next=18,at(i);case 18:e.sent?(ti(i.emailing,i.idIndex),H(!1),t.goBack()):(alert("Error de actualizaci\xf3n de datos en servidor. contacte al administrador."),H(!1)),e.next=56;break;case 22:if(2!==i.level){e.next=32;break}return i.emailing="termino-orden-2",i.shiftManagerApprovedBy=localStorage.getItem("_id"),i.shiftManagerApprovedDate=Date.now(),e.next=28,at(i);case 28:e.sent?(ti(i.emailing,i.idIndex),H(!1),t.goBack()):(alert("Error de actualizaci\xf3n de datos en servidor. contacte al administrador."),H(!1)),e.next=56;break;case 32:if(3!==i.level){e.next=43;break}return i.emailing="termino-orden-3",i.state="Por cerrar",i.chiefMachineryApprovedBy=localStorage.getItem("_id"),i.chiefMachineryApprovedDate=Date.now(),e.next=39,at(i);case 39:e.sent?(ti(i.emailing,i.idIndex),H(!1),t.goBack()):(alert("Error de actualizaci\xf3n de datos en servidor. contacte al administrador."),H(!1)),e.next=56;break;case 43:if(4!==i.level){e.next=55;break}return i.emailing="termino-orden-4",i.state="Completadas",i.enabled=!1,i.dateClose=Date.now(),i.sapExecutiveApprovedBy=localStorage.getItem("_id"),e.next=51,at(i);case 51:e.sent?(ti(i.emailing,i.idIndex),H(!1),t.goBack()):(alert("Error de actualizaci\xf3n de datos en servidor. contacte al administrador."),H(!1)),e.next=56;break;case 55:alert("Error al leer los niveles del reporte. Debe ser reparado por el administrador del servicio.");case 56:e.next=59;break;case 58:H(!1);case 59:e.next=64;break;case 61:alert("Orden no se encuantra finalizada. Revise e intente nuevamente."),X("Retrocediendo..."),setTimeout((function(){H(!1)}),1e3);case 64:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nt=function(){var e=Object(l.a)(s.a.mark((function e(n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(!0),a=new String,"shiftManager"===localStorage.getItem("role")?a="ejecutor":"chiefMachinery"===localStorage.getItem("role")?a="jefe de turno":"sapExecutive"===localStorage.getItem("role")&&(a="jefe de maquinaria"),!confirm("Devolver\xe1 la informaci\xf3n al ".concat(a,". \xbfDesea confirmar?"))){e.next=34;break}if(n.level=n.level-1,n.fullNameWorker="".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),0!==n.level){e.next=15;break}return n.emailing="rechazo-orden-0",ti(n.emailing,n.idIndex,n.history[n.history.length-1].userSendingData),e.next=11,be(n);case 11:e.sent&&setTimeout((function(){H(!1),t.goBack()}),1e3),e.next=34;break;case 15:if(1!==n.level){e.next=24;break}return n.emailing="rechazo-orden-1",ti(n.emailing,n.idIndex,n.history[n.history.length-1].userSendingData),e.next=20,be(n);case 20:e.sent&&setTimeout((function(){H(!1),t.goBack()}),1e3),e.next=34;break;case 24:if(2!==n.level){e.next=33;break}return n.emailing="rechazo-orden-2",ti(n.emailing,n.idIndex,n.history[n.history.length-1].userSendingData),e.next=29,be(n);case 29:e.sent&&setTimeout((function(){H(!1),t.goBack()}),1e3),e.next=34;break;case 33:alert("Error al leer los niveles del reporte. Debe ser reparado por el administrador del servicio.");case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(e){return new Promise(function(){var t=Object(l.a)(s.a.mark((function t(a){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut(e.level);case 2:r=t.sent,e.emailsToSend=r,setTimeout(Object(l.a)(s.a.mark((function t(){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/activities/".concat(n),t.next=3,me(e,r);case 3:t.sent?(alert("Informaci\xf3n enviada"),setTimeout((function(){a(!0)}),500)):a(!1);case 5:case"end":return t.stop()}}),t)}))),1e3);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},rt=function(){var e=Object(l.a)(s.a.mark((function e(){var a,r,i,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=23;break}return H(!0),X("Terminando su jornada"),a=P,e.next=6,ut(k);case 6:return r=e.sent,i=new Array,i=P.usersAssigned,c=i.filter((function(e){if(e!==localStorage.getItem("_id"))return e})),a.idIndex=n,a.usersAssigned=c,a.state="Asignar",a.emailing="termino-jornada",a.fullNameWorker="".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),a.emailsToSend=r,o=new Array,e.next=19,jt();case 19:(o=e.sent).forEach(function(){var e=Object(l.a)(s.a.mark((function e(n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nn("termino-jornada","".concat(localStorage.getItem("_id")),n,"Aviso general","T\xe9rmino de jornada","".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")," ha terminado su jornada. Recuerde reasignar OT"),"/reports"),r!=o.length-1){e.next=6;break}return e.next=4,be(a);case 4:e.sent&&(H(!1),setTimeout((function(){alert("Se ha actualizado su reporte. La orden desaparecer\xe1 de su listado."),t.goBack()}),500));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=24;break;case 23:alert("Dispositivo no est\xe1 conectado a internet. Conecte a una red e intente nuevamente");case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Mt.jsxs)(on.a,{height:"80vh",children:[Object(Mt.jsx)(un.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:e.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:e.pageCard,children:Object(Mt.jsxs)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10,width:"100%"},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:["Actividades Asignadas / Detalle / OT ",n," ",Object(Mt.jsx)("strong",{children:P&&P.testMode?"Modo test":""})]})]})})}),Object(Mt.jsxs)(un.a,{container:!0,children:[Object(Mt.jsx)(un.a,{item:!0,xl:10,md:10,sm:12,children:Object(Mt.jsx)("div",{style:{padding:20},children:c&&Object(Mt.jsx)(Ga,{height:ke?"calc(100vh - 850px)":"55vh",reportAssigned:P,pauta:c,reportLevel:k,reportAssignment:w,setProgress:function(e){h(e)},setIndexGroupToSend:ee,resultThisItemProgress:O,selectionItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new String,t=wt(e,Me.model),n={name:St(e),brand:Me.brand,model:Me.model,nameModel:"".concat(St(e),"_").concat(Me.model)};console.log(t),Ge(JSON.stringify(n)),ze(t)}})})}),Object(Mt.jsx)(un.a,{item:!0,xl:2,md:2,sm:12,children:Object(Mt.jsxs)("div",{style:{marginTop:20,padding:20,backgroundColor:"#F9F9F9",borderRadius:10,height:"98%"},children:[Object(Mt.jsxs)("div",{style:{textAlign:"center",width:"100%"},children:[Object(Mt.jsxs)("h2",{style:{margin:0},children:["OT ",n]}),Object(Mt.jsxs)("p",{style:{margin:0},children:["Tipo de pauta: ",Object(Mt.jsx)("br",{})," ",Object(Mt.jsx)("strong",{children:c&&c.typepm})]}),Object(Mt.jsx)("p",{style:{backgroundColor:"red",color:"white",marginBottom:0},children:Object(Mt.jsx)("strong",{children:P&&P.testMode?"Modo test":""})}),Me&&Object(Mt.jsxs)("p",{style:{margin:0},children:["M\xe1quina: ",Me.brand,", modelo ",Me.model,", N\xb0",Me.equ]}),Object(Mt.jsx)("br",{}),Object(Mt.jsx)(On.a,{variant:"contained",disabled:!Te,style:{paddingLeft:20,paddingRight:20,paddingTop:10,paddingBottom:10},onClick:function(){Qe(!0)},children:Object(Mt.jsx)("strong",{children:"3D"})})]}),Object(Mt.jsxs)("h4",{style:{textAlign:"center"},children:["Avance en esta hoja: ",m.toFixed(0),"%"]}),Object(Mt.jsx)(v.a,{variant:"determinate",value:m,style:{width:"100%"}}),Object(Mt.jsxs)("h4",{style:{textAlign:"center"},children:["Avance total: ",x.toFixed(0),"%"]}),Object(Mt.jsx)(v.a,{variant:"determinate",value:x,style:{width:"100%"}}),Object(Mt.jsx)("br",{}),("inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role")||"shiftManager"===localStorage.getItem("role")||"chiefMachinery"===localStorage.getItem("role"))&&Object(Mt.jsxs)(On.a,{disabled:!E,variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},onClick:function(){Je()},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.w,style:{marginRight:10}})," Enviar OT"]}),("sapExecutive"===localStorage.getItem("role")||"admin"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Mt.jsxs)(On.a,{disabled:!E,variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},onClick:function(){Je()},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.w,style:{marginRight:10}})," Cerrar OT"]}),!("inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role"))&&Object(Mt.jsxs)(On.a,{disabled:!oe||!ue,variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},onClick:function(){qe()},children:[Object(Mt.jsx)(ln.a,{}),"Rechazar OT"]}),("inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role"))&&0===k&&Object(Mt.jsxs)(On.a,{onClick:function(){rt()},variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:20},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.j,style:{marginRight:10}})," Terminar Jornada"]}),Object(Mt.jsxs)(On.a,{variant:"contained",color:"primary",style:{padding:10,width:"100%",marginBottom:0},onClick:function(){we(!0)},children:[Object(Mt.jsx)(Vt.a,{icon:Jt.k,style:{marginRight:10}})," Mensajes de flujo"]})]})})]}),G&&Object(Mt.jsx)(Fn,{open:G,closeModal:function(){U(!1)},report:P,getResponseState:function(e,t){e&&(H(!0),"rejectReport"===xe?nt(t):"sendReport"===xe&&et(e,t))},messageType:xe}),ye&&Object(Mt.jsx)(Ln,{open:ye,close:function(){we(!1)},report:P})]})})})}),Object(Mt.jsx)(jn,{open:Q,withProgress:!1,loadingData:q}),ae&&Object(Mt.jsx)(bn,{open:ae}),Object(Mt.jsx)(cn.a,{open:We,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(Mt.jsxs)(on.a,{sx:z,children:[Object(Mt.jsx)(ua,{subSistem:Le}),Object(Mt.jsx)(sn.a,{onClick:function(){Qe(!1)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:Object(Mt.jsx)(ln.a,{})})]})})]})},ai=function(){var e=Object(u.f)(),t=R(),n=Object(r.useState)([]),a=Object(d.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){Ie().then((function(e){e.data.forEach(function(){var t=Object(l.a)(s.a.mark((function t(n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt(n.from);case 2:n.fullName=t.sent,n.index=a,a==e.data.length-1&&c(e.data.reverse());case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}))}),[]),Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:t.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:t.pageContainer,item:!0,xs:12,children:Object(Mt.jsx)(sa.a,{elevation:0,className:t.pageCard,children:Object(Mt.jsxs)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center",padding:10},children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"center",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){e.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Mensajes Internos"})]})})}),Object(Mt.jsx)("div",{style:{width:"100vw",marginRight:11,overflowY:"scroll",maxHeight:"70vh",paddingLeft:20,paddingRight:20},children:Object(Mt.jsx)(or.a,{children:i.length>0&&i.map((function(e,t){return Object(Mt.jsxs)("div",{children:[Object(Mt.jsxs)("h2",{children:[e.index+1,".- ",e.fullName,":"]}),Object(Mt.jsx)("p",{children:e.message}),Object(Mt.jsx)("br",{})]},t)}))})})]})})})})})},ri=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),c=Object(d.a)(i,2),o=c[0],s=c[1],l=R(),j=Object(u.f)();Object(r.useEffect)((function(){var e=!0;return e&&Ee(localStorage.getItem("_id")).then((function(t){e&&a(t.data.reverse())})),function(){e=!1}}),[]);return Object(Mt.jsx)(on.a,{height:"100%",children:Object(Mt.jsx)(un.a,{className:l.pageRoot,container:!0,spacing:0,children:Object(Mt.jsx)(un.a,{className:l.pageContainer,item:!0,xs:12,children:Object(Mt.jsxs)(sa.a,{elevation:0,className:l.pageCard,children:[Object(Mt.jsx)(un.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(Mt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(Mt.jsxs)("div",{style:{width:"100%",position:"relative",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:[Object(Mt.jsxs)(Ht.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(Mt.jsx)(Yn.a,{onClick:function(){return setTimeout((function(){j.goBack()}),500)},children:Object(Mt.jsx)(er.a,{style:{color:"#333",fontSize:16}})}),Object(Mt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Notificaciones"})]}),Object(Mt.jsx)(On.a,{onClick:function(){s(!0),setTimeout((function(){n.forEach((function(e,t){Ne(e._id),t==n.length-1&&Ee(localStorage.getItem("_id")).then((function(e){a(e.data.reverse()),s(!1)}))}))}),1e3)},style:{position:"absolute",right:10,top:10},children:"Indicar Todo Le\xeddo"})]})})}),Object(Mt.jsxs)(un.a,{alignItems:"center",justifyContent:"center",style:{padding:10,borderRadius:20},children:[Object(Mt.jsx)("div",{style:{height:"calc(100vh - 220px)",overflowY:"auto"},children:n.map((function(e,t){return Object(Mt.jsxs)(hn.a,{style:{backgroundColor:e.state?"#fff":"#F9F9F9"},children:[Object(Mt.jsxs)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:[Object(Mt.jsx)("h1",{children:e.title}),Object(Mt.jsx)("h2",{children:e.subtitle})]}),Object(Mt.jsx)("div",{style:{width:"20%",marginLeft:5,fontSize:12},children:Object(Mt.jsx)("p",{style:{fontSize:18},children:e.message})}),Object(Mt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:Object(Mt.jsx)("p",{style:{fontSize:18},children:U(e.createdAt)})}),Object(Mt.jsx)("div",{style:{width:"20%",marginLeft:5,fontSize:12},children:Object(Mt.jsx)("button",{style:{width:50,height:40,borderRadius:20,fontSize:20},onClick:function(){var t;j.push(e.url),t=e._id,Ne(t)},children:"Ir"})})]},t)}))}),o&&Object(Mt.jsx)(bn,{open:o})]})]})})})})},ii=Object(p.a)((function(e){e.graphQLErrors;var t=e.networkError;e.response;null===t||void 0===t||t.statusCode})),ci=O()({uri:"/graphql",credentials:"include"}),oi=b.ApolloLink.from([ii,ci]),si=new m.a({link:oi,cache:new h.a}),li=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(0),c=Object(d.a)(i,2),o=c[0],j=c[1],b=Object(r.useState)(""),m=Object(d.a)(b,2),h=m[0],g=m[1],p=Bt().loading,x=localStorage.getItem("isauthenticated"),O="false"===localStorage.getItem("isauthenticated")||!localStorage.getItem("isauthenticated"),y=function(){w()},w=function(){console.log("Iniciado 3D"),S()};Object(r.useEffect)((function(){if(console.log(x),x){tn();window.addEventListener("online",Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),window.addEventListener("offline",(function(){!0}))}}),[x]);var S=function(){a(!0),localStorage.setItem("isLoading3D","ok"),yt(j,a,g,null)};return Object(Mt.jsxs)("div",{style:{fontFamily:"Roboto"},children:[x&&Object(Mt.jsxs)(u.a,{path:["/"],children:[x&&!p&&Object(Mt.jsx)(aa,{iniciarDescarga3D:S})," ",x&&!p&&Object(Mt.jsx)(Hn,{})]}),Object(Mt.jsxs)(u.c,{children:[O&&Object(Mt.jsx)(u.a,{exact:!0,path:["/reset-password"],render:function(){return Object(Mt.jsx)(Sr,{})}}),O&&Object(Mt.jsx)(u.a,{exact:!0,path:["/restore-password/:id"],render:function(){return Object(Mt.jsx)(Cr,{})}}),O&&Object(Mt.jsx)(u.a,{path:["/"],render:function(){return Object(Mt.jsx)(jr,{})}}),p&&Object(Mt.jsx)(u.a,{path:["/"],render:function(){return Object(Mt.jsx)(lr,{})}}),Object(Mt.jsx)(u.a,{exact:!0,path:["/","/welcome"],render:function(){return Object(Mt.jsx)(wr,{readyToLoad:y})}}),Object(Mt.jsx)(u.a,{path:["/divisions"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/divisions",children:Object(Mt.jsx)(Mr,{route:"divisions"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Mt.jsx)(u.a,{path:["/internal-messages"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/internal-messages",children:Object(Mt.jsx)(ai,{route:"internal-messages"})})})}),Object(Mt.jsx)(u.a,{path:["/reports"],children:Object(Mt.jsxs)(u.c,{children:[Object(Mt.jsx)(u.a,{exact:!0,path:"/reports",children:Object(Mt.jsx)(Tr,{route:"reports"})}),Object(Mt.jsx)(u.a,{exact:!0,path:"/reports/create-report",children:Object(Mt.jsx)(zr,{route:"reports"})}),Object(Mt.jsx)(u.a,{exact:!0,path:"/reports/edit-report/:id",children:Object(Mt.jsx)(zr,{route:"reports"})})]})}),Object(Mt.jsx)(u.a,{path:["/alerts"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/alerts",children:Object(Mt.jsx)(Pr,{route:"alerts"})})})}),Object(Mt.jsx)(u.a,{path:["/user-profile"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/user-profile",children:Object(Mt.jsx)(Hr,{route:"user-profile"})})})}),Object(Mt.jsx)(u.a,{path:["/info"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/info",children:Object(Mt.jsx)(Fr,{route:"info"})})})}),Object(Mt.jsx)(u.a,{path:["/machines"],children:Object(Mt.jsxs)(u.c,{children:[Object(Mt.jsx)(u.a,{exact:!0,path:"/machines",children:Object(Mt.jsx)(cr,{route:"machines"})}),Object(Mt.jsx)(u.a,{exact:!0,path:"/machines/:id",children:Object(Mt.jsx)(sr,{route:"machines"})}),Object(Mt.jsx)(u.a,{exact:!0,path:"/machines/machine-detail/:id",children:Object(Mt.jsx)(tr,{route:"machines/machine-detail"})})]})}),!("maintenceOperator"===localStorage.getItem("role"))&&Object(Mt.jsx)(u.a,{path:["/maintenance"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/maintenance",children:Object(Mt.jsx)(qr,{route:"maintenance"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Mt.jsx)(u.a,{path:["/sites"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/sites",children:Object(Mt.jsx)(Yr,{route:"sites"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role"))&&Object(Mt.jsx)(u.a,{path:["/sites"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/sites",children:Object(Mt.jsx)(qr,{route:"sites"})})})}),Object(Mt.jsx)(u.a,{path:["/maintance"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/maintance",children:Object(Mt.jsx)(Ar,{route:"maintance"})})})}),Object(Mt.jsx)(u.a,{path:["/configuration"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/configuration",children:Object(Mt.jsx)(Lr,{route:"configuration"})})})}),Object(Mt.jsx)(u.a,{path:["/pauta-detail"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/pauta-detail/:id",children:Object(Mt.jsx)(Vr,{route:"pauta-detail"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Mt.jsx)(u.a,{path:["/administration"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/administration",children:Object(Mt.jsx)(Gr,{route:"administration"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&Object(Mt.jsx)(u.a,{path:["/administration"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/administration",children:Object(Mt.jsx)(qr,{route:"administration"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Mt.jsx)(u.a,{path:["/users"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/users",children:Object(Mt.jsx)(Ur,{route:"users"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&Object(Mt.jsx)(u.a,{path:["/users"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/users",children:Object(Mt.jsx)(qr,{route:"users"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Mt.jsx)(u.a,{path:["/new-users"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/new-users",children:Object(Mt.jsx)(Qr,{route:"new-users"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&Object(Mt.jsx)(u.a,{path:["/new-users"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/new-users",children:Object(Mt.jsx)(qr,{route:"new-users"})})})}),("admin"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(Mt.jsx)(u.a,{path:["/roles"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/roles",children:Object(Mt.jsx)(Jr,{route:"roles"})})})}),Object(Mt.jsx)(u.a,{path:["/edit-user"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/edit-user/:id",children:Object(Mt.jsx)(Qr,{route:"edit-user"})})})}),Object(Mt.jsxs)(u.a,{path:["/assignment"],children:[Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{path:"/assignment/:id",children:Object(Mt.jsx)(ni,{route:"assignment"})})}),Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/assignment",children:Object(Mt.jsx)(ei,{route:"assignment"})})})]}),Object(Mt.jsx)(u.a,{path:["/notifications"],children:Object(Mt.jsx)(u.c,{children:Object(Mt.jsx)(u.a,{exact:!0,path:"/notifications",children:Object(Mt.jsx)(ri,{route:"notifications"})})})})]}),navigator.onLine&&n&&Object(Mt.jsxs)("div",{style:{position:"absolute",bottom:20,right:20,width:300,paddingTop:50,paddingBottom:40,paddingLeft:20,paddingRight:20,borderRadius:20,backgroundColor:"#fff",borderColor:"#ccc",borderWidth:1,borderStyle:"solid",textAlign:"center",zIndex:2},children:[!h&&Object(Mt.jsx)(f.a,{color:"primary"}),!h&&Object(Mt.jsx)("p",{style:{margin:0,marginTop:10},children:"Cargando datos..."}),h&&Object(Mt.jsx)(v.a,{variant:"determinate",value:o}),h&&Object(Mt.jsx)("p",{style:{margin:0,marginTop:10},children:h})]})]})},di=function(){return Object(Mt.jsxs)(j.a,{children:[Object(Mt.jsx)(Kt.Notifications,{}),Object(Mt.jsx)(g.a,{client:si,children:Object(Mt.jsx)(Nt,{children:Object(Mt.jsx)(Yt,{children:Object(Mt.jsx)(Zt,{children:Object(Mt.jsxs)(y.a,{theme:I,children:[Object(Mt.jsx)(w.a,{}),Object(Mt.jsx)(li,{})]})})})})})]})},ui=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ji(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var bi=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,675)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(Mt.jsx)(di,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ui?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ji(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ji(t,e)}))}}({onUpdate:function(e){var t=e.waiting;t&&(t.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.location.reload()})),t.postMessage({type:"SKIP_WAITING"}))}}),bi()}},[[586,1,2]]]);
//# sourceMappingURL=main.d1fd4311.chunk.js.map