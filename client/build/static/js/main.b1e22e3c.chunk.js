(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{380:function(e,t,n){},399:function(e){e.exports=JSON.parse('{"login":{"emailField":"E-mail","passwordField":"Password","loginButton":"Login","forgotPasswordText":"Forgot password.","forgotPasswordLink":"Click here."},"restorePassword":{"passwordField":"Password","confirmPasswordField":"Confirm Password","button":"Change Password","cancel":"Cancel"},"welcome":{"inspectionButton":"Inspection","assignmentButton":"Assignment","machinesButton":"M\xe1quinas","maintenanceButton":"Maintenance","reportsButton":"Reports","configurationButton":"Configuration"},"machines":{"title":"Select machine type"},"location":{"start":"Start","inspection":"Inspection","maintenance":"Maintenance","reports":"Reports","configuration":"Configuration"},"components":{"fields":{"filter":"Search"}}}')},400:function(e){e.exports=JSON.parse('{"login":{"emailField":"E-mail","passwordField":"Contrase\xf1a","loginButton":"Ingresar","forgotPasswordText":"Olvid\xe9 mi contrase\xf1a.","forgotPasswordLink":"Click aqu\xed."},"restorePassword":{"passwordField":"Ingrese Contrase\xf1a","confirmPasswordField":"Confirme Contrase\xf1a","button":"Cambiar contrase\xf1a","cancel":"Cancelar"},"welcome":{"inspectionButton":"Inspecci\xf3n","assignmentButton":"Asignaciones","machinesButton":"M\xe1quinas","maintenanceButton":"Mantenci\xf3n","reportsButton":"Reportes","configurationButton":"Configuraci\xf3n","administrationButton":"Administraci\xf3n"},"admin":{"adminUsersButton":"Usuarios"},"machines":{"title":"Selecciona tipo de m\xe1quina"},"location":{"start":"Inicio","inspection":"Inspecci\xf3n","maintenance":"Mantenci\xf3n","reports":"Reportes","configuration":"Configuraci\xf3n"},"components":{"fields":{"filter":"Buscar"}}}')},450:function(e,t,n){},471:function(e,t,n){},479:function(e,t,n){},481:function(e,t,n){},488:function(e,t){},489:function(e,t){},497:function(e,t){},498:function(e,t){},499:function(e,t){},500:function(e,t){},501:function(e,t,n){},502:function(e,t,n){},504:function(e,t,n){},523:function(e,t,n){},524:function(e,t,n){},527:function(e,t,n){},528:function(e,t,n){},529:function(e,t,n){},545:function(e,t,n){"use strict";n.r(t);var a,r=n(2),i=n.n(r),c=n(61),s=n.n(c),o=(n(450),n(3)),l=n.n(o),d=n(10),u=n(68),j=n(50),b=n(284),h=n(317),m=n(546),g=n(544),p=n(427),f=n(613),x=n.n(f),O=n(615),v=n(616),y=n(54),w=n(430),S=n(590),C=n(397),k=(n.p,Object(w.a)({palette:{background:{default:"#fff"},primary:{light:"#DE0000",main:"#920000",dark:"#780000"}},overrides:{MuiCssBaseline:{"@global":{body:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"center",backgroundAttachment:"fixed","& ::-webkit-scrollbar":{width:"0.4em"},"& ::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"& ::-webkit-scrollbar-thumb":{borderRadius:10,backgroundColor:"rgb(160,160,160)"}}}},MuiOutlinedInput:{root:{borderRadius:20},input:{padding:10}},MuiInputLabel:{outlined:{transform:"translate(14px, 12px) scale(1)"}},MuiButton:{root:{}},MuiListItemIcon:{root:{justifyContent:"center"}}}},C.esES));a=window.matchMedia("(min-width: 660px)").matches?99:"15vw";var I,A=Object(S.a)((function(e){return{pageRoot:{height:"90%",fontFamily:"Raleway",marginTop:70},pageContainer:Object(y.a)({},e.breakpoints.down("sm"),{padding:0}),pageCard:{marginLeft:a,fontFamily:"Raleway",borderRadius:0,boxShadow:"none",padding:20,overflowY:"auto"},pageTitle:{padding:"40px 0px",textAlign:"center",textTransform:"uppercase",fontSize:"1.5rem",color:e.palette.primary.main},backDrop:{zIndex:e.zIndex.drawer-1,marginTop:90,color:"#fff"},noNavBarMargin:{marginLeft:0}}})),D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:window.screen.width<500?"80%":"30%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},R={fontFamily:"Raleway",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",height:"90%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4,overflowY:"auto"},N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"100%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40%",bgcolor:"#F9F9F9",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"100%",bgcolor:"#414646",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},T=function(e){return"superAdmin"===e||"admin"===e||""===e?"Super Administrador":"sapExecutive"===e?"Ejecutivo SAP":"inspectionWorker"===e?"Operario de Inspecci\xf3n":"maintenceOperator"===e?"Operario de Mantenci\xf3n":"shiftManager"===e?"Jefe de turno - Inspecci\xf3n y Mantenci\xf3n":"chiefMachinery"===e?"Jefe de maquinaria":void 0},P={storageURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL_STORAGE||"https://icvmantencion.blob.core.windows.net/plataforma-mantencion/",version:"Beta 6.2",storageApi:{account:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AZURE_ACCOUNT,accountKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).TOKEN_SAS_BLOB,url:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).STORAGE_URL,urlWithKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL_SAS_BLOB,accessKeys:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).ACCESS_KEYS}},F=P,z=function(e){var t,n=new Date(e).getDay();1==n?t="Lunes":2==n?t="Martes":3==n?t="Miercoles":4==n?t="Jueves":5==n?t="Viernes":6==n?t="Sabado":0==n&&(t="Domingo");var a,r=new Date(e).getDate(),i=new Date(e).getMonth();return 0==i?a="Enero":1==i?a="Febrero":2==i?a="Marzo":3==i?a="Abril":4==i?a="Mayo":5==i?a="Junio":6==i?a="Julio":7==i?a="Agosto":8==i?a="Septiembre":9==i?a="Octubre":10==i?a="Noviembre":11==i&&(a="Diciembre"),e?(t+" "+r+" DE "+a).toUpperCase():"Sin informaci\xf3n".toUpperCase()},L=function(e){var t=new Date(e).getDate(),n=new Date(e).getMonth()+1,a=new Date(e).getFullYear();return n<10&&(n="0"+n),t<10&&(t="0"+t),e?t+"/"+n+"/"+a:"No informado"},W=function(e){var t=Date.now(),n=new Date(e).getHours(),a=new Date(e).getMinutes();n<10&&(n="0"+n),a<10&&(a="0"+a);var r,i=new Date(e).getDay();i==new Date(t).getDay()&&i<t-2592e5?r="Hoy":i==new Date(t).getDay()-1&&i<t-2592e5?r="Ayer":1==i?r="Lunes":2==i?r="Martes":3==i?r="Miercoles":4==i?r="Jueves":5==i?r="Viernes":6==i?r="Sabado":0==i&&(r="Domingo");var c,s=new Date(e).getDate()+1,o=new Date(e).getMonth();return 0==o?c="Enero":1==o?c="Febrero":2==o?c="Marzo":3==o?c="Abril":4==o?c="Mayo":5==o?c="Junio":6==o?c="Julio":7==o?c="Agosto":8==o?c="Septiembre":9==o?c="Octubre":10==o?c="Noviembre":11==o&&(c="Diciembre"),e?"Hoy"===r||"Ayer"===r?r+" "+n+":"+a:r+" "+s+" DE "+c+" "+n+":"+a:"Sin informaci\xf3n"},U=n(42),J=n.n(U),Y=function(e,t){var n={user:{email:e,password:t}};return J.a.post("/auth/login",n)},G=function(e){var t={email:e};return J.a.post("/auth/forgotpassword",t)},_=function(e,t){var n={password:e};return J.a.post("/auth/resetpassword/".concat(t),n)},Z=function(){return J.a.get("/machines/getMachinesOfProject")},q=function(){return J.a.get("/machines/readAllMachines")},Q=function(e){var t={equid:e};return J.a.post("/machines/readMachineByEquid",t)},H=function(){return J.a.get("icv/getSites")},V=function(){return J.a.get("icv/getPautas")},K=function(e){var t={idpm:e.idpm,typepm:e.typepm};return J.a.post("icv/getHeaderPauta",t)},X=function(e){var t={idpm:e.idpm,typepm:e.typepm};return J.a.post("icv/getStructsPauta",t)},$=function(){return J.a.get("/roles/getRoles")},ee=function(){return J.a.get("/permisos/getPermisos")},te=function(e){var t={id:e};return J.a.post("/permisos/getPermisosByUser",t)},ne=function(e,t){var n={userData:e,password:t};return J.a.post("/users/createUser",n)},ae=function(e,t){var n={userData:e,id:t};return J.a.post("/users/editUser",n)},re=function(){return J.a.get("/users/getUsers")},ie=function(e){var t={id:e};return J.a.post("/users/getUser",t)},ce=function(e){var t={id:e};return J.a.post("/users/deleteUser",t)},se=function(e){var t={role:e};return J.a.post("/users/findByRole",t)},oe=function(e){var t={id:e};return console.log(t),J.a.post("/users/getUserSign",t)},le=function(e){var t={report:e};return J.a.post("/reports/createReport",t)},de=function(e){var t={report:e};return J.a.post("/reports/editReport",t)},ue=function(e,t){var n={report:e,generateLink:t};return J.a.post("/reports/editReportFromAudit",n)},je=function(e){var t={id:e};return J.a.post("/reports/deleteReport",t)},be=function(){return J.a.get("/reports/getAllReports")},he=function(e){var t={indexNumber:e};return J.a.post("/reports/getReportByIndex",t)},me=function(e,t){var n={state:e,reportType:t};return J.a.post("/reports/getReportByState",n)},ge=function(e){var t={userId:e};return J.a.post("/reports/findMyAssignations",t)},pe=function(e){var t={idpm:e};return J.a.post("/reports/getReportByIdpm",t)},fe=function(e,t,n){var a={dateInit:e,dateEnd:t,reportType:n};return J.a.post("/reports/getReportsByDateRange",a)},xe=function(e){var t={equid:e};return J.a.post("/machines/readMachineByEquid",t)},Oe=function(e){var t={reportData:e};return J.a.post("/execution-report/getExecutionReportById",t)},ve=function(e){var t={reportData:e};return J.a.post("/execution-report/saveExecutionReport",t)},ye=function(e,t,n){var a=new FormData;a.append("image",e,e.name),a.append("path",t),a.append("containerName",n);return J.a.post("/azure-storage/uploadImage",a,{headers:{"Content-Type":"multipart/form-data"}})},we=function(e){var t={_id:e};return J.a.post("/internalMessagesData/get-messages-by-user",t)},Se=function(){return J.a.get("/internalMessagesData/getAllMessages")},Ce=function(e){var t={message:e};return J.a.post("/internalMessagesData/sendMessage",t)},ke=function(e){var t={_id:e};return J.a.post("/internalMessagesData/removeMessage",t)},Ie=function(e){var t={pdfContent:e};return J.a.post("/pdf-maker/createPdf",t)},Ae=function(e,t,n){if(e)return new Promise(function(){var a=Object(d.a)(l.a.mark((function a(r){var i;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ye(e,n,t);case 2:(i=a.sent)&&r(i);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());alert("Im\xe1gen no se carga o no se reconoce")},De=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){t(n.result)},n.readAsDataURL(e)}))},Re=function(e){return new Promise((function(t){var n=e.transaction(["Machines"],"readonly").objectStore("Machines");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){t(e.target.result)}}}))},Ne={initDbMachines:function(){var e,t=window.indexedDB.open("Trucks",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Machines",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").add(e).onsuccess=function(){}},obtener:function(e,t){t.transaction(["Machines"],"readonly").objectStore("Machines").get(e).onsuccess=function(e){}},actualizar:function(e,t){return console.log(e),new Promise((function(n){try{t.transaction(["Machines"],"readwrite").objectStore("Machines").put(e).onsuccess=function(){Re(t).then((function(e){console.log(e)})),n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Machines"],"readwrite").objectStore("Machines").delete(e).onsuccess=function(){Re()}},consultar:Re},Be=function(e){var t=e.transaction(["pautas"],"readonly").objectStore("pautas"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Ee={initDbPMs:function(){var e,t=window.indexedDB.open("Pautas",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("pautas",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["pautas"],"readwrite").objectStore("pautas").add(e)},obtener:function(e,t){return new Promise((function(n){t.transaction(["pautas"],"readonly").objectStore("pautas").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["pautas"],"readwrite").objectStore("pautas").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["pautas"],"readwrite").objectStore("pautas").delete(e).onsuccess=function(){Be()}},consultar:Be,consultarPorDato:function(e,t){return new Promise((function(e){t.transaction(["pautas"],"readonly").objectStore("pautas").openCursor().onsuccess=function(e){console.log(e.target.result.value)}}))}},Me=function(e){var t=e.transaction(["Obras"],"readonly").objectStore("Obras"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Te={initDbObras:function(){var e,t=window.indexedDB.open("Sites",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Obras",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").add(e)},obtener:function(e,t){t.transaction(["Obras"],"readonly").objectStore("Obras").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Obras"],"readwrite").objectStore("Obras").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Obras"],"readwrite").objectStore("Obras").delete(e).onsuccess=function(){Me()}},consultar:Me},Pe=function(e){var t=e.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Fe={initDb3DFiles:function(){var e,t=window.indexedDB.open("3Ds",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){var a=(e=t.target.result).createObjectStore("3dFilesList",{keyPath:"id"});a.createIndex("model","model",{unique:!1}),a.createIndex("name","name",{unique:!1}),a.createIndex("type","type",{unique:!1}),a.createIndex("brand","brand",{unique:!1}),a.createIndex("nameModel","nameModel",{unique:!1}),a.transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){return new Promise((function(n){var a=t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").add(e);a.onsuccess=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t);case 2:e.sent&&n(!0);case 4:case"end":return e.stop()}}),e)}))),a.onerror=function(e){console.log(e),n(!1)}}))},obtener:function(e,t){return new Promise((function(n){t.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").put(e).onsuccess=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);case 1:case"end":return e.stop()}}),e)})))}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["3dFilesList"],"readwrite").objectStore("3dFilesList").delete(e).onsuccess=function(){Pe()}},consultar:Pe,buscarPorNombreModelo:function(e,t){return new Promise((function(n){t.transaction(["3dFilesList"],"readonly").objectStore("3dFilesList").index("nameModel").get(e).onsuccess=function(e){n(e.target.result)}}))}},ze=function(e){return new Promise((function(t){var n=e.transaction(["Equips"],"readonly").objectStore("Equips");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){var n=new Array;n=e.target.result,t(n)}}}))},Le={initDbMachines:function(){var e,t=window.indexedDB.open("Machines",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("Equips",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Equips"],"readwrite").objectStore("Equips").add(e).onsuccess=function(){}},obtener:function(e,t){t.transaction(["Equips"],"readonly").objectStore("Equips").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Equips"],"readwrite").objectStore("Equips").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["Equips"],"readwrite").objectStore("Equips").delete(e).onsuccess=function(){ze()}},consultar:ze},We=function(){var e,t=window.indexedDB.open("MachinesImages",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("EquipsImages",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},Ue=function(e,t){return new Promise((function(n){t.transaction(["EquipsImages"],"readonly").objectStore("EquipsImages").get(e).onsuccess=function(e){n(e.target.result)}}))},Je=function(e,t){return console.log(e),new Promise((function(n){try{t.transaction(["EquipsImages"],"readwrite").objectStore("EquipsImages").put(e).onsuccess=function(){n(!0)}}catch(a){n(!1)}}))},Ye=function(e){var t=e.transaction(["Reports"],"readonly").objectStore("Reports"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Ge={initDbReports:function(){var e,t=window.indexedDB.open("Documentation",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){var a=(e=t.target.result).createObjectStore("Reports",{keyPath:"idDatabase"});a.createIndex("_id","_id",{unique:!1}),a.transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Reports"],"readwrite").objectStore("Reports").add(e)},obtener:function(e,t){t.transaction(["Reports"],"readonly").objectStore("Reports").get(e).onsuccess=function(e){}},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Reports"],"readwrite").objectStore("Reports").put(e).onsuccess=function(){n(!0)}}catch(a){console.log(a),n(!1)}}))},eliminar:function(e,t){t.transaction(["Reports"],"readwrite").objectStore("Reports").delete(e).onsuccess=function(){Ye()}},consultar:Ye},_e=function(e){return new Promise((function(t){var n=e.transaction(["Reports"],"readonly").objectStore("Reports");n.openCursor().onsuccess=function(e){e.target.result;n.getAll().onsuccess=function(e){var n=new Array;n=e.target.result,t(n)}}}))},Ze={initDb:function(){var e,t=window.indexedDB.open("Executions",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){var a=(e=t.target.result).createObjectStore("Reports",{keyPath:"_id"});a.createIndex("reportId","reportId",{unique:!1}),a.transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){t.transaction(["Reports"],"readwrite").objectStore("Reports").add(e).onsuccess=function(){}},obtener:function(e,t){return new Promise((function(n){t.transaction(["Reports"],"readonly").objectStore("Reports").get(e).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["Reports"],"readwrite").objectStore("Reports").put(e).onsuccess=function(){n(!0)}}catch(a){n(a)}}))},eliminar:function(e,t){t.transaction(["Reports"],"readwrite").objectStore("Reports").delete(e).onsuccess=function(){_e()}},consultar:_e},qe=function(e){var t=e.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList"),n=t.openCursor();return new Promise((function(e){n.onsuccess=function(n){n.target.result;t.getAll().onsuccess=function(t){e(t.target.result)}}}))},Qe={initDb:function(){var e,t=window.indexedDB.open("MachinesParts",1);return new Promise((function(n){t.onsuccess=function(){e=t.result,n({message:"Base de datos abierta",database:e,state:"abierta"})},t.onupgradeneeded=function(t){(e=t.target.result).createObjectStore("MachinesPartsList",{keyPath:"id"}).transaction.oncomplete=function(t){n({message:"Base de datos creada / actualizada",database:e,state:"actualizada"})}},t.onerror=function(e){n(e)}}))},agregar:function(e,t){return new Promise((function(n){var a=t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").add(e);a.onsuccess=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(t);case 2:e.sent&&n(!0);case 4:case"end":return e.stop()}}),e)}))),a.onerror=function(e){console.log(e),n(!1)}}))},obtener:function(e,t){return new Promise((function(n){t.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList").get(Number(e)).onsuccess=function(e){n(e.target.result)}}))},actualizar:function(e,t){return new Promise((function(n){try{t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").put(e).onsuccess=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0);case 1:case"end":return e.stop()}}),e)})))}catch(a){n(!1)}}))},eliminar:function(e,t){t.transaction(["MachinesPartsList"],"readwrite").objectStore("MachinesPartsList").delete(e).onsuccess=function(){qe()}},consultar:qe,buscarPorNombreModelo:function(e,t){return new Promise((function(n){t.transaction(["MachinesPartsList"],"readonly").objectStore("MachinesPartsList").index("nameModel").get(e).onsuccess=function(e){n(e.target.result)}}))}},He=function(e){return new Promise(e?function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie(e);case 2:a=t.sent,n("".concat(a.data.name," ").concat(a.data.lastName));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}():function(e){e("Sin informaci\xf3n")})},Ve=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(d.a)(l.a.mark((function e(n){var a,r,i,c,s,o,d,u,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se("admin");case 2:return a=e.sent,e.next=5,se("sapExecutive");case 5:return r=e.sent,e.next=8,se("shiftManager");case 8:return i=e.sent,e.next=11,se("chiefMachinery");case 11:c=e.sent,s=new Array,o=new Array,s=a.data,o=r.data,d=i.data,u=c.data,j=new Array,j=[],s.forEach((function(e,a){j.push(e.email),a==s.length-1&&o.forEach((function(e,a){j.push(e.email),a==o.length-1&&(1==t?d.forEach((function(e,t){j.push(e.email),t==d.length-1&&(u.forEach((function(e,t){j.push(e.email)})),t==u.length-1&&n(j.toString()))})):2==t?d.forEach((function(e,t){j.push(e.email),t==d.length-1&&n(j.toString())})):3!=t&&4!=t||n(j.toString()))}))}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=new Date,t=e.getDate()-e.getDay()+1;return[new Date(e.setDate(t)).toISOString(),new Date(Date.now()).toISOString()]},Xe=function(e){return new Promise((function(t){xe(e).then((function(e){t(e.data)}))}))},$e=function(e){return new Promise((function(t){Oe(e).then((function(e){t(e.data)}))}))},et=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.updatedAt=new Date(Date.now()).toISOString(),n.updatedAt=new Date(Date.now()).toISOString(),e.next=4,Ze.initDb();case 4:return a=e.sent,e.next=7,Ze.actualizar(t,a.database);case 7:return e.next=9,Ge.initDbReports();case 9:return r=e.sent,e.next=12,Ge.actualizar(n,r.database);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tt=function(e){return new Promise(e?function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe(e);case 2:a=t.sent,n(a.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}():function(e){e("Sin informaci\xf3n")})},nt=function(e){var t=new Date(e).getHours(),n=new Date(e).getMinutes();return t<10&&(t="0"+t),n<10&&(n="0"+n),e?t+":"+n:"Sin informaci\xf3n"},at=(n(471),n(123)),rt=n(4),it=n(620),ct=n(179),st=n(183),ot=Object(st.a)(I||(I=Object(ct.a)(["\n    query Users {\n        self {\n            _id\n            email\n            name\n            lastName\n            fullName\n            enabled\n        }\n    }\n"]))),lt={query:{GET_SELF:ot}},dt=n(1),ut=Object(r.createContext)(),jt=function(e){var t=Boolean(window.localStorage.getItem("isauthenticated")),n=Boolean(window.localStorage.getItem("isAdmin")),a=Object(r.useState)(t||!1),i=Object(rt.a)(a,2),c=i[0],s=i[1],o=Object(it.a)(lt.query.GET_SELF),l=Object(rt.a)(o,2),d=l[0],u=l[1],j=u.loading,b=u.error,h=u.data,m=Object(r.useState)({}),g=Object(rt.a)(m,2),p=g[0],f=g[1],x=Object(r.useState)(n||!1),O=Object(rt.a)(x,2),v=O[0],y=O[1];Object(r.useEffect)((function(){(null===h||void 0===h?void 0:h.self)&&f(h.self)}),[h]),Object(r.useEffect)((function(){}),[b]),Object(r.useEffect)((function(){d()}),[]);var w={userData:p,isAuthenticated:c,loading:j,error:b,admin:v,login:function(e,t){return new Promise((function(n){Y(e,t).then((function(e){var t=e.data;console.log(t),e.data.enabled?(localStorage.setItem("email",t.email),localStorage.setItem("fullName",t.fullName),localStorage.setItem("name",t.name),localStorage.setItem("lastName",t.lastName),localStorage.setItem("_id",t._id),localStorage.setItem("role",t.role),"admin"===t.role||"sapExecutive"===t.role?(localStorage.setItem("isAdmin",!0),y(!0)):(localStorage.setItem("isAdmin",!1),y(!1)),t.sites&&localStorage.setItem("sitio",t.sites),localStorage.setItem("isauthenticated",!0),s(!0),n({state:!0,response:e})):(s(!1),alert("Su cuenta no est\xe1 habilitada, debe confirmarla."),n({state:!1}))})).catch((function(e){alert("Error de autenticaci\xf3n: "+e),console.log(e),s(!1),localStorage.setItem("isauthenticated",!1)}))}))}};return Object(dt.jsx)(ut.Provider,Object(at.a)({value:w},e))},bt=function(){return Object(r.useContext)(ut)},ht=n(399),mt=n(400),gt={en:ht,es:mt},pt={en:"English",es:"Espa\xf1ol"},ft=Object(r.createContext)({userLanguage:"es",dictionary:gt.es,languageOptions:pt}),xt=function(e){var t=window.localStorage.getItem("rcml-lang"),n=Object(r.useState)(t||"es"),a=Object(rt.a)(n,2),i=a[0],c=a[1],s={userLanguage:i,dictionary:gt[i],languageOptions:pt,userLanguageChange:function(e){var t=pt[e]?e:"es";c(t),window.localStorage.setItem("rcml-lang",t)}};return Object(dt.jsx)(ft.Provider,Object(at.a)({value:s},e))},Ot=function(){return Object(r.useContext)(ft)},vt=Object(r.createContext)(),yt=function(e){var t=Object(r.useState)(!1),n=Object(rt.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(""),s=Object(rt.a)(c,2),o=s[0],l=s[1],d=Object(u.g)();Object(r.useEffect)((function(){var e,t=null===d||void 0===d||null===(e=d.pathname)||void 0===e?void 0:e.split("/")[1];l(t)}),[d]);var j={locationData:o,navBarOpen:a,handleNavBar:function(){return i(!a)}};return Object(dt.jsx)(vt.Provider,Object(at.a)({value:j},e))},wt=function(){return Object(r.useContext)(vt)},St=n(592),Ct=n(593),kt=n(619),It=n(617),At=n(594),Dt=n(40),Rt=n(39),Nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAABpCAYAAADoScsPAAABVWlDQ1BEaXNwbGF5IFAzAAAoz2NgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGgkwMjB8uwYiGRgu64LMOiU1tUm1XsDXYqbw1YuvRJsY8AOulNTiZCD9B4hTkwuKSoBGpgDZyuUlBSB2B5AtUgR0FJA9B8ROh7A3gNhJEPYRsJqQIGcg+waQrZCckQg0g/EHkK2ThCSejsSG2gsC3C6ZxQU5iZUKAcYMVAclqRUlINo5v6CyKDM9o0TBERhKqQqeecl6OgpGBobmDAygMIeo/hwIDktGsTMIseb7DAy2+////78bIea1n4FhI1An106EmIYFA4MgNwPDiZ0FiUWJYCFmIGZKS2Ng+LScgYE3koFB+AJQT3RxmrERJPZ4nBgYWO/9//9ZjYGBfTIDw98J////XvT//9/FQM13GBgO5AEAFwJl7w8EHeAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAnOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5MzM4Y2ZlLWEyODctNDk2MC1iODcyLTk5YWY2YWRjYzYwYSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjJkZTFlNjU4LTg3NDEtYmY0YS05NzYyLTVlZjMxNzAxM2Q3YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyMjhiZDNiLWViZDEtNDM3Ny04N2UxLTkwNDMxNmNjZmIwOSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRpc3BsYXkgUDMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI4YmQzYi1lYmQxLTQzNzctODdlMS05MDQzMTZjY2ZiMDkiIHN0RXZ0OndoZW49IjIwMTktMTEtMTNUMDk6Mzk6NTgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTkzMzhjZmUtYTI4Ny00OTYwLWI4NzItOTlhZjZhZGNjNjBhIiBzdEV2dDp3aGVuPSIyMDE5LTExLTEzVDA5OjM5OjU4LTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPjAwNjQ2MkNDRjBEN0QxMUI4RkYyRTQxQTc0NjAyQzRGPC9yZGY6bGk+IDxyZGY6bGk+MUMwODU5NjM2MTVEOTlDOEY4MDlEOEQ2MzEwNjk2MTI8L3JkZjpsaT4gPHJkZjpsaT4xQzYxNjVFODQwNTlBRjBCQUNFQzcwMUNFRUE4ODUzODwvcmRmOmxpPiA8cmRmOmxpPjU3NjEzM0IwMTc1ODM0QTM5OTRBQTA4RjYxRUJCQzE2PC9yZGY6bGk+IDxyZGY6bGk+NUZCQzczNEJBQzk2MzYxMDI0NzFDMkMxRDQzRkNENUU8L3JkZjpsaT4gPHJkZjpsaT44NEJFRkM1N0VDRjBBMkQ2MTFCRTM4QjIyODU0NDFFQjwvcmRmOmxpPiA8cmRmOmxpPkIxQkEyNkY5RDM3QzE4MTg3RjMwMzRBQTFCQkIzNUVBPC9yZGY6bGk+IDxyZGY6bGk+Q0JDOTNCMzBEQ0YxNkU3RDgzMzYyNDdBMDAyOTU4MzM8L3JkZjpsaT4gPHJkZjpsaT5GOEVEOEI3NEZGRkVDNkRBNDExNzZGRDUyNzY5NTk1NTwvcmRmOmxpPiA8cmRmOmxpPkZFNkJEMEJBNUJFQzE5RDQ3OTE0NEMxNTJDQkJDRUYyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDowMEMyNkRBQzI0MjA2ODExOERCQkQ4MzgxN0Q4NjVFNTwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6NjgyNWRjMjQtY2ZhOC00ODBlLWE5MmItMmUzNDM5ZThhNWQ0PC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo2OUQ3QUJCNDIxMjA2ODExOEY2MkVGRUNFNjdBQ0M0MzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6QTZDNzJERDQwNzIwNjgxMTk1RkVDRDVERDFDODBCMTU8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOkQxQjVGNTREQTFDMjExRTFBQzZEQ0JBNUM5RDJGMjAwPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDpFMUI3NzlGNzM2MjA2ODExOTEwOUQyOEQxMkM0ODBCNzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6Y2Q3YzM4MWQtM2M1Yy00ZGYxLTg2NWEtODFkZDBlOWI5NDFhPC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HBn8IgAAB6ZJREFUeNrtnX1oVlUcx+82ddOardSYgmZTwwm+la0MbZQRNSlXWFLCUMOMslWGFma4CjQEUysqNGOlYLM/XBnRaqZh2RuhEZmVurQXZUZppqbLPX1P/CZPj8+9O+c+595z77m/Ax98u297fh/Pc8/b7zipVMphGFn4Q2BYGIaFYVgYhoVhWBiGYWEYFoZhYRgWhmFhGBaGYbQL01Fqa2uvBU3gGEiBPeAp0NPhEtliRBhIMY8kycZ3oB+HhoX5D8gwwUOWDj7k0LAwHcI0SwgjGMvhYWGEMMclhZnL4WFhhDCnJYVZwOFhYYQwuySFuZ3Dw8IIYR6VkKUVnMvhYWGEMEVgm4cs4ivrFg4NC5PeD1MM6kF7hiw/gioOCwtzVk8vidMPTAY1YDwo4JCwMK7CcGFhWBgWhoXhYr5ZfbgzwvoAcK9e4HIwBTxAz1dHzAf3iVYbHaPU1P9gxCWDwIMGuVT188A5XcA0F2pMCFMn03EXoCBDSIz14GfJTsQORKtuN1gLZoD+nXz4JeA4SBlikw9hJnlc7+1ECIPr9QWPg68VBZHhUzAbnOcSgHqDwggGKwqz0eNaE60WBte5DDSAtgBEyURMBHsBDMgIwHjDwixRkKU/OO1ynRaQb6UwOH8oeCMESbJxisS5MC0QOw0KcwgUSgqz0OM6j5h66Q1MGJxXCJ4MqUbpjD/ADRSIOYZrmTslZMkH+1zOPwn6WCUMzhkJvo2AKOnUUTB604duSpgtEsJUeZy/1mSzWrswOH46OBExWc4IQwFZZ7iWKe9EmA0e515lhTA4Lg8sjaAo2YSZYFiY5R6ylII2l/N2mO640yIMjukCXg0o0KLz8KhmYfLAboPC/A6KXISZ73HerNgLQzXLGg0BFUtaXgRTqQneM+M++aAPGAfuoSkZB/0IIxGYMKjJIosQeY/L8X+Cc2wQZkUOkoiALwLlPltiQtYrwOq0RXiywnhV/WGwLYswXl+Vz0ZhLCknYfBv9/oU5QCNC3XX2IN8Psl3QkYYiZfLMBie8TyFNITRQV7UBh99C4O/rwAnFUURUz6XBbkElyaCvSkpTJVhYZ6L22i1L2HESDFoUZTlV7GGO8SR7+kZ667qXDrI9hsU5qz3EluFWa4oy3ZQGvZ8EXp5PuAmDElTZ7iWuctqYfDnMQoL4ASbTWaBEAOQYJ+HMF6DfGHwue3CNCvI8qXbVIOQpRkMZnl0lr1juJYZbaUwlEdGpSVU6sSgIGDVhoVZaaswzQqtocq4zI2lqZAHDQpzFBRbJQzNa5GtXZbHbUI1ArbIcC0zyzZhlknK8kscU50hYGWGhdlhjTDUBS87Sbs2rss2xERtw9JU2CJMhcLYUPcYCzPFsDCrbRHmCcnjljgxLjSW85tBYcQymBIbhHlP8rhhTswLArbUcC1zmw3CHJE4psWxoIjpk4ZrmAtsEEaGlx1LCoK21ZAwr9jyDiPD3RYJU2NImDFJEqbSImF6gMMhy/KFTf0wMgx0LCpiclPIwkxLmjAllgkzKuRVBN2TJox1OfHEXJWQhFlq1Wh1EmsYEmZmFNOA2CJMfwuFKaapB0HK0uT3+eIuzDjHwoKArgpYmOqkCjPDUmEqApTlJ1CQVGGedywtCOpXAQmT0y4xURbmmMQxuywW5v4AZDklluvaKswWyePKLBUmiAycDbk+V5SFWewnQ4Jl0qzRLEylzcJcLXmcWD7bxVJhdGbg/EbHM0VZmALaaEvm2GkW1zK7NAkz22phxMPh15WSwohN0ossFeZhTWuQeiZBmNF+sz1ZJIyODJwv6XqeOKx8/ERSmL/BKEulWZ+jMCOSJEy1Qi3zQxQW4qc9e54mYXLJwPmRzp8pDsKIBW2fKUizCXSLgCyluvbepsSFe30KMzVRwtCHf43ikMEGk9LQHkxi55R6jV9LfjJwtoJuiROGgqCak/d9E+utcc9BlM41pVkYkYHzH0VhFuv++eIkTC+FfpkOxN4Dw0OU5UZwKO3+9TqvDwEaFWRpBwMTKwwF5HrF1GUpSok6F3QNUJRiShCdee8GzcJMVBBmYxA/axzz9C70ORViJ7W48jWK0o12Y3Or+Ro1C1NA81lkhKliYZwz6dxfz2EOzU5K8Nw7B1EG0L5MBzq5V6PugElm4BQtqnwW5v//s5tynHzVRunQFlArrK+HoGXgZhpB36FwjyCEuYjeT7yEmRfU12+cdzPpAd7VvIuJSMq8n2qh7yn3TC77MDUGEbROMnCKYYTeLIx7TbMuwvslBSXMrR7CvBZkSzD2O7JRT/BjPlpPcRamq0cGzrEsjJw41ynuZRRbYUiaxVlk2R50X5Ntu8qW0D5GUZBF7LryUIDCDM4izEwWxp8448E2kzULGBLCtIf0DJxHctmlJNHCpIlzE9gakiTt4C1wZYjzZO5IE2ZFGPe0Wpg0cUZS131rAKLspV3ZLg57oDMjA2c5C6N/zEdMLK8UqVrBxzRLT1WQv2h7nQWUSzjPMVggyjNgc1j3MyHMUBrT8SSk0eVCMZpN95xDPbkraPfYevr90zSUMEm8l+gci9IkzDAw2VphmGTCHwLDwjAsDMPCMCwMw8IwDAvDsDAMC8OwMAwLw7AwDOPGv3Wb5ZG6WpljAAAAAElFTkSuQmCC",Bt=(n(479),Object(S.a)((function(e){return{appbar:{height:80,width:"100%",backgroundColor:"#fff",borderBottomRightRadius:30,color:"#000"},locationIcon:{height:60,width:100,display:"flex",alignItems:"center",justifyContent:"center"},locationText:{display:"flex",flex:1,justifyContent:"flex-end",alignItems:"center",fontSize:"1rem"},languageSelector:{marginRight:15,"&.MuiInputBase-root":{color:"white"},"& .MuiSelect-icon":{color:"white"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}}}}))),Et=function(){var e=Bt(),t=wt().navBarOpen,n=bt().isAuthenticated,a=Object(r.useState)(!0),i=Object(rt.a)(a,2),c=i[0],s=(i[1],Object(r.useState)(!1)),o=Object(rt.a)(s,2),l=o[0],d=o[1],b=Object(r.useState)(),h=Object(rt.a)(b,2),m=h[0],g=h[1],p={},f=Object(u.f)();p.name=window.localStorage.getItem("name"),p.lastName=window.localStorage.getItem("lastName"),window.localStorage.getItem("role")&&(p.role=T(window.localStorage.getItem("role"))),Object(r.useEffect)((function(){n&&(navigator.onLine&&ie(localStorage.getItem("_id")).then((function(e){e.data&&(e.data.sign||d(!0))})),window.addEventListener("online",(function(){})),window.addEventListener("offline",(function(){})))}),[]);if(n)return Object(dt.jsx)(St.a,{className:e.appbar,children:Object(dt.jsxs)("div",{className:"header-bar",children:[Object(dt.jsxs)(Ct.a,{children:[!t&&Object(dt.jsx)(j.b,{to:"/",children:Object(dt.jsx)("img",{src:Nt,height:75})}),n&&Object(dt.jsx)(r.Fragment,{children:Object(dt.jsx)("div",{className:"user-name",onClick:function(){f.push("/user-profile")},children:Object(dt.jsxs)("dl",{children:[Object(dt.jsx)("dt",{style:{margin:0},children:n&&Object(dt.jsxs)("div",{children:[" ",Object(dt.jsxs)("p",{className:"nombre",children:[" ",p.name," ",p.lastName," "]})," "]})}),Object(dt.jsxs)("dt",{children:[" ",p.role," "]})]})})}),Object(dt.jsxs)("div",{style:{position:"absolute",right:10},children:[Object(dt.jsxs)("p",{children:[Object(dt.jsx)(Rt.a,{icon:Dt.c,color:c?"#2FB83F":"#B62800"})," ",c?"Online":"Offline"]}),!c&&Object(dt.jsx)("p",{children:"Sin red"})]})]}),Object(dt.jsx)(kt.a,{open:l,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsxs)(It.a,{sx:D,children:[Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("h2",{children:"Para continuar deje su firma para la documentaci\xf3n. (Obligatorio)"})}),Object(dt.jsxs)("div",{style:{width:"100%",textAlign:"center",position:"relative"},children:[Object(dt.jsx)("div",{style:{position:"absolute",width:"100%",textAlign:"center",marginTop:10},children:Object(dt.jsx)(Rt.a,{size:"lg",icon:Dt.o,color:"#333"})}),Object(dt.jsx)(Hn,{disabled:!0,width:300,height:300,setRefCanvas:function(e){g(e)}})]}),Object(dt.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[Object(dt.jsx)("div",{style:{width:"50%",textAlign:"center",float:"left"},children:Object(dt.jsxs)(At.a,{onClick:function(){m.clear()},style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:10},children:[Object(dt.jsx)(Rt.a,{size:"lg",icon:Dt.g,color:"#333",style:{marginRight:10}})," Borrar"]})}),Object(dt.jsx)("div",{style:{width:"50%",textAlign:"center",float:"right"},children:Object(dt.jsxs)(At.a,{onClick:function(){ae({sign:m.toDataURL()},localStorage.getItem("_id")).then((function(e){d(!1),alert("Muchas gracias. Su firma ha sido actualizada.")}))},style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:10},children:[Object(dt.jsx)(Rt.a,{size:"lg",icon:Dt.r,color:"#333",style:{marginRight:10}})," Guardar"]})})]})]})})]})})},Mt=n(595),Tt=n(624),Pt=n(600),Ft=Object(S.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}})),zt=function(){var e=Ot().dictionary,t=bt().login,n=Object(r.useState)(""),a=Object(rt.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)(""),o=Object(rt.a)(s,2),j=o[0],b=o[1],h=Ft(),m=Object(r.useState)({}),g=Object(rt.a)(m,2),p=(g[0],g[1],Object(u.f)()),f=function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"email":return c(e.target.value);case"password":return b(e.target.value)}};Object(r.useEffect)((function(){p.location.pathname.length>1&&p.replace("/")}),[]);var x=function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(i,j);case 3:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(dt.jsx)(Mt.a,{container:!0,style:{padding:10,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(dt.jsx)("form",{onSubmit:x,children:Object(dt.jsxs)(Mt.a,{container:!0,item:!0,spacing:2,children:[Object(dt.jsx)(Mt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(dt.jsx)(Tt.a,{type:"email",name:"email",label:e.login.emailField,value:i,onChange:f,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(dt.jsx)(Tt.a,{type:"password",name:"password",label:e.login.passwordField,value:j,onChange:f,variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(dt.jsx)(At.a,{className:h.button,type:"submit",variant:"contained",color:"primary",children:e.login.loginButton})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,container:!0,justifyContent:"center",children:Object(dt.jsxs)(Pt.a,{href:"/reset-password",children:[" ",e.login.forgotPasswordText," "]})})]})})})},Lt=n(120),Wt=n(553),Ut=n(602),Jt=n(605),Yt=n(27),Gt=n.p+"static/media/Logologo_icv_1.054cafd3.svg",_t=n(601),Zt=function(e){var t=e.open,n=e.report,a=e.closeModal,i=e.reportType,c=e.onlyClose,s=Object(r.useState)([]),o=Object(rt.a)(s,2),u=o[0],j=o[1],b=Object(r.useState)(),h=Object(rt.a)(b,2),m=h[0],g=h[1],p=n.idIndex,f=n.guide,x=n.state,O=n.siteName,v=n.usersAssigned,y=Object(r.useState)(!1),w=Object(rt.a)(y,2),S=w[0],C=w[1],k=Object(r.useState)(""),I=Object(rt.a)(k,2),A=I[0],D=I[1],R=Object(r.useState)(!1),N=Object(rt.a)(R,2),B=N[0],M=N[1],T=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=10;break}return(a=new Array)[0]=t,D("Reporte sin asignaci\xf3n."),e.next=6,de({idIndex:p,state:"Asignar",usersAssigned:a});case 6:e.sent&&(n.usersAssigned=a,C(!0),setTimeout((function(){C(!1)}),1e3)),e.next=17;break;case 10:return D("Pauta asignada."),(r=new Array).push(t),e.next=15,de({idIndex:p,state:"En proceso",usersAssigned:r});case 15:e.sent&&(n.usersAssigned=r,C(!0),setTimeout((function(){C(!1)}),1e3));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){M(!1),re().then((function(e){var t=new Array,n=new Array;(t=e.data).forEach((function(e,a){var r=new Array;(r=e.permissionsReports).length>0&&r[1].isChecked&&n.push(e),a==t.length-1&&j(n)}))})),"Asignar"===x?g("#DE4343"):"En proceso"===x?g("#F2994A"):"Por cerrar"===x?g("#F2C94C"):"Completadas"===x&&g("#27AE60")}),[]),Object(dt.jsx)(kt.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsxs)(It.a,{sx:E,children:[Object(dt.jsxs)(Ct.a,{style:{width:"100%",height:59,paddingLeft:0},children:[Object(dt.jsxs)("h2",{children:["Asignar Pauta de ",i," ",f]}),Object(dt.jsx)("div",{style:{position:"absolute",right:65,backgroundColor:m,paddingTop:3,borderRadius:5,width:100,height:20,textAlign:"center"},children:Object(dt.jsx)("p",{style:{margin:0,fontSize:12},children:x.toUpperCase()})})]}),Object(dt.jsxs)("div",{style:{width:"100%",height:90},children:[Object(dt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[Object(dt.jsx)("strong",{children:"Faena:"})," ",Object(dt.jsx)("br",{}),O]}),Object(dt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[Object(dt.jsx)("strong",{children:"N\xfamero de orden:"})," ",Object(dt.jsx)("br",{}),p]}),Object(dt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left",display:"block",margin:0},children:[Object(dt.jsx)("strong",{children:"Pauta:"})," ",Object(dt.jsx)("br",{}),f]})]}),Object(dt.jsx)("div",{style:{width:"100%",height:59},children:S&&Object(dt.jsxs)("div",{style:{width:"calc(100%/3)",float:"left"},children:[Object(dt.jsx)("strong",{children:A})," ",Object(dt.jsx)("br",{})]})}),Object(dt.jsxs)("div",{style:{width:"100%",height:59},children:[Object(dt.jsx)("label",{children:"Asignar Pauta a:"}),Object(dt.jsx)("br",{}),Object(dt.jsxs)("select",{value:v[0],onChange:function(e){T(e.target.value),M(!0)},placeholder:"Seleccionar operario",style:{height:44,width:274,borderStyle:"solid",borderColor:"#C4C4C4",borderWidth:1,borderRadius:10},children:[Object(dt.jsx)("option",{value:"",children:"Seleccionar operario"}),u.filter((function(e){if("Inspecci\xf3n"===i){if("inspectionWorker"===e.role)return e}else if("Mantenci\xf3n"===i&&"maintenceOperator"===e.role)return e})).map((function(e,t){return Object(dt.jsx)("option",{value:e._id,children:"".concat(e.name," ").concat(e.lastName)},t)}))]})]}),Object(dt.jsx)(_t.a,{onClick:function(){B?a():c()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})]})})},qt=function(e){var t=e.open,n=e.report,a=(e.closeModal,e.onlyClose),i=Object(r.useState)([]),c=Object(rt.a)(i,2),s=(c[0],c[1]),o=Object(r.useState)(),l=Object(rt.a)(o,2),d=l[0],u=l[1],j=n.idIndex,b=n.guide,h=n.state,m=n.siteName,g=n.usersAssigned,p=n.sapId,f=Object(r.useState)(!1),x=Object(rt.a)(f,2),O=(x[0],x[1],Object(r.useState)("")),v=Object(rt.a)(O,2),y=(v[0],v[1],Object(r.useState)("")),w=Object(rt.a)(y,2),S=w[0],C=w[1],k=Object(r.useState)(""),I=Object(rt.a)(k,2),A=I[0],D=I[1],R=Object(r.useState)(""),N=Object(rt.a)(R,2),B=N[0],M=N[1],T=Object(r.useState)(""),P=Object(rt.a)(T,2),F=P[0],z=P[1];return Object(r.useEffect)((function(){return He(n.chiefMachineryApprovedBy).then((function(e){M(e)})),He(n.shiftManagerApprovedBy).then((function(e){D(e)})),He(n.sapExecutiveApprovedBy).then((function(e){z(e)})),re().then((function(e){var t=new Array,n=new Array;(t=e.data).forEach((function(e,a){var r=new Array;(r=e.permissionsReports).length>0&&r[1].isChecked&&n.push(e),a==t.length-1&&(n.forEach((function(e,t){e._id===g[0]&&C(e.name+" "+e.lastName)})),s(n))}))})),"Asignar"===h?u("#DE4343"):"En proceso"===h?u("#F2994A"):"Por cerrar"===h?u("#F2C94C"):"Completadas"===h&&u("#27AE60"),!1}),[]),Object(dt.jsx)(kt.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsxs)(It.a,{sx:E,children:[Object(dt.jsxs)(Ct.a,{style:{width:"100%",height:59,paddingLeft:0},children:[Object(dt.jsxs)("h2",{children:["Mantenci\xf3n"===n.reportType?"Pauta de ".concat(n.reportType):""," ",b," SAP ",p||"N/A"]}),Object(dt.jsx)("div",{style:{position:"absolute",right:65,backgroundColor:d,paddingTop:3,borderRadius:5,width:100,height:20,textAlign:"center"},children:Object(dt.jsx)("p",{style:{margin:0,fontSize:12},children:h.toUpperCase()})})]}),Object(dt.jsxs)(Mt.a,{container:!0,children:[Object(dt.jsxs)(Mt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:[Object(dt.jsx)("strong",{children:"Faena:"})," ",Object(dt.jsx)("br",{}),m]}),Object(dt.jsxs)(Mt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:[Object(dt.jsx)("strong",{children:"N\xfamero de orden:"})," ",Object(dt.jsx)("br",{}),j]}),Object(dt.jsxs)(Mt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:[Object(dt.jsx)("strong",{children:"ID de SAP:"})," ",Object(dt.jsx)("br",{}),p||"N/A"]})]}),Object(dt.jsx)(Mt.a,{container:!0,children:Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(dt.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[Object(dt.jsx)("strong",{children:"Pauta:"})," ",Object(dt.jsx)("br",{}),b]})})}),Object(dt.jsxs)(Mt.a,{container:!0,children:[Object(dt.jsx)(Mt.a,{item:!0,md:6,xs:12,sm:12,lg:6,children:Object(dt.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[Object(dt.jsx)("div",{style:{width:"100%",height:59},children:Object(dt.jsxs)("label",{children:["Pauta asignada a: ",Object(dt.jsx)("b",{children:S.length>1?S:"Sin asignaci\xf3n"})]})}),Object(dt.jsx)("div",{style:{width:"100%",height:59},children:Object(dt.jsxs)("label",{children:["Jefe de turno revisor: ",Object(dt.jsx)("b",{children:A.length>1?A:"Sin informaci\xf3n"})]})}),Object(dt.jsx)("div",{style:{width:"100%",height:59},children:Object(dt.jsxs)("label",{children:["Jefe de maquinaria revisor: ",Object(dt.jsx)("b",{children:B.length>1?B:"Sin informaci\xf3n"})]})}),Object(dt.jsx)("div",{style:{width:"100%",height:59},children:Object(dt.jsxs)("label",{children:["Ejecutivo SAP revisor: ",Object(dt.jsx)("b",{children:F.length>1?F:"Sin informaci\xf3n"})]})})]})}),Object(dt.jsx)(Mt.a,{item:!0,children:Object(dt.jsxs)("div",{style:{marginTop:30,width:"100%"},children:[Object(dt.jsx)("div",{style:{width:"100%",height:59},children:Object(dt.jsxs)("label",{children:["Creado: ",Object(dt.jsx)("b",{children:W(n.createdAt)})]})}),Object(dt.jsx)("div",{style:{width:"100%",height:59},children:Object(dt.jsxs)("label",{children:["Inicio: ",Object(dt.jsx)("b",{children:"Sin informaci\xf3n"===W(n.dateInit)?"No inicado":W(n.dateInit)})]})}),Object(dt.jsx)("div",{style:{width:"100%",height:59},children:Object(dt.jsxs)("label",{children:["Finalizado: ",Object(dt.jsx)("b",{children:"Sin informaci\xf3n"===W(n.endReport)?"No finalizado":W(n.endReport)})]})}),Object(dt.jsx)("div",{style:{width:"100%",height:59},children:Object(dt.jsxs)("label",{children:["Cerrado: ",Object(dt.jsx)("b",{children:"Sin informaci\xf3n"===W(n.dateClose)?"No cerrado":W(n.dateClose)})]})})]})})]}),Object(dt.jsx)(_t.a,{onClick:a,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})]})})},Qt=n(552),Ht=n(603),Vt=function(e){var t=e.open,n=e.userModal,a=e.handleChange,r=e.checked,i=e.permissionsReports,c=e.permissionsUsers,s=e.closeModal;return Object(dt.jsx)(kt.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsxs)(It.a,{sx:D,children:[Object(dt.jsx)("div",{style:{textAlign:"left",width:"100%"},children:Object(dt.jsx)("h2",{children:"Datos del Usuario"})}),Object(dt.jsxs)("div",{style:{width:"100%",height:"25vh"},children:[Object(dt.jsxs)("div",{style:{float:"left",width:"30%"},children:[Object(dt.jsx)("p",{children:Object(dt.jsx)("strong",{children:"Nombre y Apellido"})}),Object(dt.jsxs)("p",{children:[" ",n.name," ",n.lastName," "]}),Object(dt.jsx)("br",{}),Object(dt.jsx)("p",{children:Object(dt.jsx)("strong",{children:"Rol del usuario"})}),Object(dt.jsxs)("p",{children:[" ",n.roleTranslated," "]})]}),Object(dt.jsxs)("div",{style:{float:"left",width:"30%"},children:[Object(dt.jsx)("p",{children:Object(dt.jsx)("strong",{children:"Email"})}),Object(dt.jsxs)("p",{children:[" ",n.email]}),Object(dt.jsx)("br",{}),Object(dt.jsx)("p",{children:Object(dt.jsx)("strong",{children:"RUN"})}),Object(dt.jsxs)("p",{children:[" ",n.rut," "]})]}),Object(dt.jsx)("div",{style:{float:"right",width:"30%"},children:Object(dt.jsxs)(Qt.a,{children:[Object(dt.jsx)(Ht.a,{onChange:a,checked:r}),r&&Object(dt.jsx)("p",{children:"Usuario activo"}),!r&&Object(dt.jsx)("p",{children:"Usuario inactivo"})]})})]}),Object(dt.jsxs)("div",{style:{width:"100%"},children:[Object(dt.jsx)("p",{children:Object(dt.jsx)("strong",{children:"Permisos y accesos"})}),Object(dt.jsxs)("div",{style:{minHeight:"16.5vw",borderRadius:12,borderWidth:1,borderStyle:"solid",borderColor:"#C4C4C4",backgroundColor:"#F1F1F1"},children:[Object(dt.jsx)("div",{style:{margin:10,padding:10,width:"45%",float:"left"},children:i&&i.map((function(e,t){if(e.isChecked)return Object(dt.jsx)("div",{children:Object(dt.jsx)("p",{children:Object(dt.jsx)("strong",{children:e.name})})})}))}),Object(dt.jsx)("div",{style:{margin:10,padding:10,width:"45%",float:"right"},children:c.map((function(e,t){if(e.isChecked)return Object(dt.jsx)("div",{children:Object(dt.jsx)("p",{children:Object(dt.jsx)("strong",{children:e.name})})})}))})]})]}),Object(dt.jsx)("div",{style:{width:"100%",height:"5vh",margin:10},children:Object(dt.jsx)("button",{style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D",position:"absolute",right:30},children:"Editar usuario"})}),Object(dt.jsx)(_t.a,{onClick:function(){return s(n)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})]})})},Kt=n(604),Xt=function(e){var t=e.open,n=e.progress,a=e.loadingData,r=e.withProgress;return Object(dt.jsx)(kt.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsx)(It.a,{sx:D,children:Object(dt.jsxs)("div",{style:{height:300,textAlign:"center"},children:[r&&Object(dt.jsx)(Kt.a,{variant:"determinate",size:200,value:Number(n)}),!r&&Object(dt.jsx)(Kt.a,{size:200}),Object(dt.jsx)("h2",{children:a})]})})})},$t=function(e){var t=e.open,n=e.closeModal;return Object(dt.jsx)(kt.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsxs)(It.a,{sx:D,children:[Object(dt.jsx)("div",{style:{textAlign:"left",width:"100%"},children:Object(dt.jsxs)("h2",{children:["Versi\xf3n ",F.version]})}),Object(dt.jsxs)("div",{style:{width:"100%",height:"25vh",overflowY:"auto"},children:[Object(dt.jsx)("p",{children:"Se ha actualizado la aplicaci\xf3n de servicios de Mantenimiento e Inspecci\xf3n."}),Object(dt.jsx)("strong",{children:"v.6.2"}),Object(dt.jsx)("li",{children:"Reparaciones menores."}),Object(dt.jsx)("li",{children:"Se elimina necesidad de volver a descargar modelos 3D."}),Object(dt.jsx)("strong",{children:"v.6.1"}),Object(dt.jsx)("li",{children:"Se agrega firma digital."}),Object(dt.jsx)("strong",{children:"v.6.0"}),Object(dt.jsx)("li",{children:"Reparaciones de sistema."}),Object(dt.jsx)("strong",{children:"v.5.9"}),Object(dt.jsx)("li",{children:"Etiquetado de modelos 3D."}),Object(dt.jsx)("li",{children:"PDF de prueba de Orden de Trabajo terminado."}),Object(dt.jsx)("li",{children:"Reparaci\xf3n de errores en recuperaci\xf3n de password."}),Object(dt.jsx)("strong",{children:"v.5.8"}),Object(dt.jsx)("li",{children:"Desde correo electr\xf3nico puede seguir v\xeda link el flujo de aprobaciones de las Ordenes de Trabajo."}),Object(dt.jsx)("strong",{children:"v.5.7"}),Object(dt.jsx)("li",{children:"Env\xedo de mensajes para feedback a administraci\xf3n de plataforma. Nueva vista de perfil y edici\xf3n de fotograf\xeda por el usuario. Queda pendiente la edici\xf3n de los datos."}),Object(dt.jsx)("strong",{children:"v.5.6"}),Object(dt.jsx)("li",{children:"Gesti\xf3n de usuarios. Se permite adjuntar una foto una vez creado el usuario. Se agrega vista de cami\xf3n blanca como im\xe1gen principal de modelos 3D."}),Object(dt.jsx)("strong",{children:"v.5.5"}),Object(dt.jsx)("li",{children:"Conexi\xf3n a API Inspecciones y sistema de aviso y reasignaci\xf3n de Ordenes para cambios de turno."}),Object(dt.jsx)("strong",{children:"v.5.0"}),Object(dt.jsxs)("li",{children:["Ejecuci\xf3n de ordenes de trabajo con flujo siguiente: Creaci\xf3n de orden por parte de ejecutivo SAP. ",Object(dt.jsx)("br",{}),"| ",Object(dt.jsx)("br",{}),"-- Ejecuci\xf3n y cierre por parte de Operador de Mantenci\xf3n, ",Object(dt.jsx)("br",{}),"| ",Object(dt.jsx)("br",{}),"-- Una vez cerrada la orden por parte de Operador de Mantenci\xf3n, lo puede editar Jefe de Turno, ",Object(dt.jsx)("br",{}),"| ",Object(dt.jsx)("br",{}),"-- Cerrado por Jefe de Turno, lo puede editar Jefe de Maquinaria. ",Object(dt.jsx)("br",{}),"| ",Object(dt.jsx)("br",{}),"-- Cerrado por Jefe de Maquinaria lo puede editar Ejecutivo SAP. ",Object(dt.jsx)("br",{}),"| ",Object(dt.jsx)("br",{}),"-- Ejecutivo SAP cierra el flujo. ",Object(dt.jsx)("br",{}),"* Pendiente reasignaci\xf3n de usuario para cambio de turno y agregar conexi\xf3n a API de Inspecciones. * Queda pendiente tambien la edici\xf3n de las ordenes. Solo se pueden crear."]}),Object(dt.jsx)("strong",{children:"v.4.0"}),Object(dt.jsx)("li",{children:"Descarga y vista mediante men\xfa de equipos y partes de las m\xe1quinas en 3D."}),Object(dt.jsx)("strong",{children:"v.3.5"}),Object(dt.jsx)("li",{children:"Pruebas de reparaci\xf3n IA."}),Object(dt.jsx)("strong",{children:"v.3.4"}),Object(dt.jsx)("li",{children:"Se incorpora bot\xf3n Inteligencia Artificial en navegador para ingresar fotos de las m\xe1quinas, para que el sistema identifique sus partes m\xe1s importantes."}),Object(dt.jsxs)("li",{children:["Se habilita llenado ",Object(dt.jsx)("strong",{children:"solo online"})," de los reportes a Operarios de Inspecci\xf3n y Operarios de Mantenci\xf3n."]}),Object(dt.jsx)("strong",{children:"v.3.3"}),Object(dt.jsx)("li",{children:'Se habilita nuevo bot\xf3n en navegador lateral "Listado Asignaciones" para operarios'}),Object(dt.jsx)("li",{children:"Indicador de conexi\xf3n a internet en Header, Parte superior, dereha. Tiempo m\xe1ximo de espera de aviso una vez desconactado de la red: 10 segundos."}),Object(dt.jsx)("strong",{children:"v.3.2"}),Object(dt.jsxs)("li",{children:["Se habilitan reportes. Se realizan para pruebas:",Object(dt.jsxs)("ul",{children:[Object(dt.jsx)("li",{children:"Creaci\xf3n"}),Object(dt.jsx)("li",{children:"Edici\xf3n"}),Object(dt.jsx)("li",{children:"Asignaci\xf3n por usuario Operario de Inspecci\xf3n y Operario de Mantenci\xf3n"}),Object(dt.jsx)("li",{children:"Pautas solo se pueden ver para pruebas. No se ha habilitado para ser ejecutadas y guardadas."})]})]}),Object(dt.jsx)("strong",{children:"v.2.9.4"}),Object(dt.jsx)("li",{children:"Reparaciones en servicio de reset de contrase\xf1a."}),Object(dt.jsx)("strong",{children:"v.2.9.3"}),Object(dt.jsx)("li",{children:"Formulario de creaci\xf3n de usuarios con modificaciones. Se generan alertas y bordes rojos en inputs para identificar el estado del formulario."}),Object(dt.jsx)("strong",{children:"v.2.9.2"}),Object(dt.jsx)("li",{children:"Se corrige error de requerimiento obligado para obtener lista de todas las m\xe1quinas de las obras."}),Object(dt.jsx)("strong",{children:"v.2.9.1"}),Object(dt.jsx)("li",{children:"Se habilita color burdeo en navegaci\xf3n por barra lateral."}),Object(dt.jsx)("li",{children:"Se corrige problemas de acceso a \xe1reas no permitidas, a pesar de contar con privilegios."}),Object(dt.jsx)("strong",{children:"v.2.9"}),Object(dt.jsx)("li",{children:"Se habilita restablecimiento de contrase\xf1a."}),Object(dt.jsx)("li",{children:"Se agregan im\xe1genes en formatos SVG, JPG y PNG con mayor resoluci\xf3n."}),Object(dt.jsx)("strong",{children:"v.2.5"}),Object(dt.jsx)("li",{children:"Se actualiza para responsividad smartphone, excepto control de usuarios usando admin o Ejecutivo SAP y reportes."}),Object(dt.jsx)("li",{children:"Se corrige error de redacci\xf3n de correo electr\xf3nico."}),Object(dt.jsx)("strong",{children:"v.2.2"}),Object(dt.jsx)("li",{children:"Los usuarios pueden navegar sin conexi\xf3n, de acuerdo a sus privilegios."}),Object(dt.jsx)("li",{children:"Los usuarios que intenten acceder a una URL de la aplicaci\xf3n a la que no cuente con permisos, aparecer\xe1 un mensaje indicando que no tiene acceso."}),Object(dt.jsx)("li",{children:"Se ejecuta l\xf3gica offline para m\xe1quinas 3D."}),Object(dt.jsx)("li",{children:"Los administradores pueden asignar obra al crear o editar usuarios."})]}),Object(dt.jsx)(_t.a,{onClick:function(){return n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})]})})},en=n(433),tn=function(e){var t=e.open,n=e.closeModal,a=e.activity,i=e.onlyClose,c=e.reportId,s=(e.reportAssignment,e.reportLevel),o=Object(r.useState)(""),u=Object(rt.a)(o,2),j=u[0],b=u[1],h=Object(r.useState)([]),m=Object(rt.a)(h,2),g=m[0],p=m[1],f=Object(r.useState)(0),x=Object(rt.a)(f,2),O=x[0],v=x[1],y=Object(r.useState)(!1),w=Object(rt.a)(y,2),S=w[0],C=w[1];Object(r.useEffect)((function(){var e;"inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role")?e=0:"shiftManager"===localStorage.getItem("role")?e=1:"chiefMachinery"===localStorage.getItem("role")?e=2:"sapExecutive"===localStorage.getItem("role")&&(e=3),e==Number(s)&&C(!0),a.readCommits?(a.readCommits.length>0&&v(a.readCommits.length),p(a.readCommits)):p([])}),[a]);var k=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,i,s,o,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=29;break}if(n=new Array,n=g,p([]),r=0,a.ejecucionImages?r=a.ejecucionImages:a.ejecucionImages=r,i={user:localStorage.getItem("_id"),userName:"".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),id:Date.now(),commit:"Se ha cargado una im\xe1gen",url:null,urlBase64:null},!navigator.onLine){e.next=18;break}return e.next=11,De(t);case 11:return s=e.sent,e.next=14,Ae(t,"reports","".concat(c,"/image_report_obs_").concat(a.strpmdesc,"_").concat(a.task,"_").concat(n.length));case 14:(o=e.sent).data.status&&(i.url=o.data.data.url,i.urlBase64=s,n.push(i),p(n),a.readCommits=g,b(""),document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight,r+=1,a.ejecucionImages=r),e.next=29;break;case 18:return e.next=20,De(t);case 20:d=e.sent,i.urlBase64=d,n.push(i),p(n),a.readCommits=g,b(""),document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight,r+=1,a.ejecucionImages=r;case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(dt.jsx)(kt.a,{onClose:function(){return p([])},keepMounted:!1,open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",container:function(){setTimeout((function(){document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),50)},children:Object(dt.jsxs)(It.a,{sx:B,children:[Object(dt.jsxs)("div",{style:{width:"100%",overflowY:"auto"},children:[Object(dt.jsxs)("div",{style:{width:"100%",borderBottomStyle:"solid",borderBottomColor:"#BDBDBD",borderBottomWidth:.5},children:[Object(dt.jsx)("h2",{style:{marginBottom:0},children:a.strpmdesc}),Object(dt.jsxs)("p",{style:{marginTop:0},children:["ID: ",a.secexec," "]})]}),Object(dt.jsxs)("div",{style:{width:"100%"},children:[Object(dt.jsxs)("div",{style:{width:"30%",float:"left"},children:[Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("b",{children:"Equipo responsable"})," "]}),Object(dt.jsxs)("p",{children:[" ",a.workteam," ",a.workteamdesc," "]})]}),Object(dt.jsxs)("div",{style:{width:"70%",float:"right"},children:[Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("b",{children:"Descripci\xf3n de la tarea"})," "]}),Object(dt.jsxs)("p",{children:[" ",a.taskdesc," "]})]})]}),Object(dt.jsxs)("div",{style:{width:"100%",height:"15vh",overflowY:"auto"},children:[Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("b",{children:"Observaciones"})," "]}),Object(dt.jsxs)("p",{children:[" ",a.obs01," "]})]}),Object(dt.jsxs)("div",{children:[Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("b",{children:"Comentarios"})," "]}),Object(dt.jsxs)("div",{style:{borderRadius:20,zIndex:1,backgroundColor:"#fff",borderStyle:"solid",borderWidth:.5,borderColor:"#BDBDBD",height:"20vh",padding:0},children:[Object(dt.jsx)("div",{id:"commits",style:{width:"100%",borderBottomStyle:"solid",borderBottomColor:"#BDBDBD",borderBottomWidth:.5,height:"14vh",maxHeight:"14vh",overflowY:"auto"},children:g.length>0&&g.reverse().map((function(e,t){return Object(dt.jsx)("div",{id:"message_".concat(t+1),style:{width:"100%",display:"inline-block",paddingLeft:20,paddingRight:20},children:Object(dt.jsxs)("div",{style:{padding:10,margin:5,maxWidth:"80%",backgroundColor:"#F9F9F9",borderRadius:20},children:[Object(dt.jsx)("div",{style:{float:"right"},children:S&&Object(dt.jsx)(_t.a,{onClick:function(){return function(e){if(confirm("Se borrar\xe1 mensaje. Confirme.")){new Array;var t=g.filter((function(t){if(t.id!==e)return t}));a.readCommits=t,p(t)}}(e.id)},style:{boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc",fontSize:14}})})}),Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("b",{children:e.userName})," "]}),Object(dt.jsx)("p",{children:e.commit}),(e.url||e.urlBase64)&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",paddingRight:10},children:Object(dt.jsxs)("button",{onClick:function(){return function(e){window.open(e,"_blank")}(e.url||e.urlBase64)},children:[" ",Object(dt.jsx)("img",{src:e.url||e.urlBase64,width:50,height:50,style:{objectFit:"cover"},alt:""})," "]})}),Object(dt.jsx)("div",{style:{width:"100%",textAlign:"right",paddingRight:10},children:Object(dt.jsx)("p",{style:{margin:0,fontSize:10},children:W(e.id)})})]})},t)}))}),Object(dt.jsx)("div",{style:{width:"100%",paddingLeft:10,paddingRight:10},children:Object(dt.jsx)("div",{style:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:Object(dt.jsx)(en.a,{style:{width:"100%"},placeholder:"Ingrese un comentario sobre la tarea",onChange:function(e){b(e.target.value)},value:j})})})]})]}),S&&Object(dt.jsxs)("div",{style:{width:"100%",paddingTop:10,display:"inline-block"},children:[Object(dt.jsxs)("div",{style:{width:"50%",float:"left"},children:[Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){a.ejecucionImages&&(a.ejecucionImages=5)?alert("M\xe1ximo de 5 im\xe1genes cargadas."):document.getElementById("foto").click()},children:"Subir foto"}),Object(dt.jsx)("input",{autoComplete:"off",type:"file",id:"foto",accept:"image/x-png,image/jpeg",onChange:function(e){k(e.target.files[0])},hidden:!0})]}),Object(dt.jsx)("div",{style:{width:"50%",float:"right",textAlign:"right"},children:Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){!function(){var e={user:localStorage.getItem("_id"),userName:"".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),id:Date.now(),commit:j};if(console.log(e),j.length>0){var t=g;t.push(e),p(t),setTimeout((function(){a.readCommits=g,b(""),document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),500)}}()},children:"Guardar mensaje"})})]}),S&&Object(dt.jsx)("div",{style:{width:"100%",paddingTop:10,display:"inline-block",textAlign:"center"},children:Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){g.length>O?(console.log(g),confirm("Guardar avance")&&(a.isChecked=!0,n(),i())):alert("Debe dejar alg\xfan nuevo comentario.")},children:"Indicar tarea terminada"})}),!S&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("p",{children:"Mientras no se termine la ejecuci\xf3n de la orden por parte del usuario asignado, usted solo podr\xe1 supervisar."})}),("inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role"))&&!S&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("p",{style:{fontSize:18},children:Object(dt.jsx)("b",{children:"Usted ya ha enviado la orden a revisi\xf3n."})})})]}),Object(dt.jsx)(_t.a,{onClick:function(){i()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})]})})},nn=function(e){var t=e.open,n=e.closeWriteModal,a=e.activity,i=e.onlyClose,c=e.reportId,s=e.reportAssignment,o=e.reportLevel,u=Object(r.useState)(""),j=Object(rt.a)(u,2),b=j[0],h=j[1],m=Object(r.useState)([]),g=Object(rt.a)(m,2),p=g[0],f=g[1],x=Object(r.useState)(0),O=Object(rt.a)(x,2),v=O[0],y=O[1],w=Object(r.useState)(!1),S=Object(rt.a)(w,2),C=S[0],k=S[1];Object(r.useEffect)((function(){var e;"inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role")?e=0:"shiftManager"===localStorage.getItem("role")?e=1:"chiefMachinery"===localStorage.getItem("role")?e=2:"sapExecutive"===localStorage.getItem("role")&&(e=3),e==Number(o)&&k(!0),a.writeCommits?(a.writeCommits.length>0&&y(a.writeCommits.length),f(a.writeCommits)):f([])}),[]);var I=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,i,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=24;break}if(n=new Array,n=p,f([]),r={user:localStorage.getItem("_id"),userName:"".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),id:Date.now(),commit:"Se ha cargado una im\xe1gen",url:null,urlBase64:null},!navigator.onLine){e.next=15;break}return e.next=8,De(t);case 8:return i=e.sent,e.next=11,Ae(t,"reports","".concat(c,"/image_report_eje_").concat(a.strpmdesc,"_").concat(a.task,"_").concat(n.length));case 11:(s=e.sent).data.status&&(r.url=s.data.data.url,r.urlBase64=i,n.push(r),f(n),a.readCommits=p,h(""),document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight),e.next=24;break;case 15:return e.next=17,De(t);case 17:o=e.sent,r.urlBase64=o,n.push(r),f(n),a.readCommits=p,h(""),document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight;case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(dt.jsx)(kt.a,{onClose:function(){return f([])},keepMounted:!1,open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",container:function(){setTimeout((function(){document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),50)},children:Object(dt.jsxs)(It.a,{sx:B,children:[Object(dt.jsxs)("div",{style:{width:"100%",overflowY:"auto"},children:[Object(dt.jsxs)("div",{style:{width:"100%",borderBottomStyle:"solid",borderBottomColor:"#BDBDBD",borderBottomWidth:.5},children:[Object(dt.jsx)("h2",{style:{marginBottom:0},children:a.strpmdesc}),Object(dt.jsxs)("p",{style:{marginTop:0},children:["ID: ",a.secexec," "]})]}),Object(dt.jsxs)("div",{style:{width:"100%"},children:[Object(dt.jsxs)("div",{style:{width:"30%",float:"left"},children:[Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("b",{children:"Equipo responsable"})," "]}),Object(dt.jsxs)("p",{children:[" ",a.workteam," ",a.workteamdesc," "]})]}),Object(dt.jsxs)("div",{style:{width:"70%",float:"right"},children:[Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("b",{children:"Descripci\xf3n de la tarea"})," "]}),Object(dt.jsxs)("p",{children:[" ",a.taskdesc," "]})]})]}),Object(dt.jsxs)("div",{style:{width:"100%",height:"15vh",overflowY:"auto"},children:[Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("b",{children:"Observaciones"})," "]}),Object(dt.jsxs)("p",{children:[" ",a.obs01," "]})]}),Object(dt.jsxs)("div",{children:[Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("b",{children:"Comentarios"})," "]}),Object(dt.jsxs)("div",{style:{borderRadius:20,zIndex:1,backgroundColor:"#fff",borderStyle:"solid",borderWidth:.5,borderColor:"#BDBDBD",height:"20vh",padding:0},children:[Object(dt.jsx)("div",{id:"commits",style:{width:"100%",borderBottomStyle:"solid",borderBottomColor:"#BDBDBD",borderBottomWidth:.5,height:"14vh",maxHeight:"14vh",overflowY:"auto"},children:p.reverse().map((function(e,t){return Object(dt.jsx)("div",{id:"message_".concat(t+1),style:{width:"100%",display:"inline-block",paddingLeft:20,paddingRight:20},children:Object(dt.jsxs)("div",{style:{padding:5,margin:5,maxWidth:"80%",backgroundColor:"#F9F9F9",borderRadius:20},children:[Object(dt.jsx)("div",{style:{float:"right"},children:s===localStorage.getItem("_id")&&C&&Object(dt.jsx)(_t.a,{onClick:function(){return function(e){if(confirm("Se borrar\xe1 mensaje. Confirme.")){new Array;var t=p.filter((function(t){if(t.id!==e)return t}));a.writeCommits=t,f(t)}}(e.id)},style:{boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc",fontSize:14}})})}),Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("b",{children:e.userName})," "]}),Object(dt.jsx)("p",{children:e.commit}),(e.url||e.urlBase64)&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",paddingRight:10},children:Object(dt.jsxs)("button",{onClick:function(){return function(e){window.open(e,"_blank")}(e.url||e.urlBase64)},children:[" ",Object(dt.jsx)("img",{src:e.url||e.urlBase64,width:50,height:50,style:{objectFit:"cover"},alt:""})," "]})}),Object(dt.jsx)("div",{style:{width:"100%",textAlign:"right",paddingRight:10},children:Object(dt.jsx)("p",{style:{margin:0,fontSize:10},children:W(e.id)})})]})},t)}))}),Object(dt.jsx)("div",{style:{width:"100%",paddingLeft:10,paddingRight:10},children:Object(dt.jsx)("div",{style:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%"},children:Object(dt.jsx)(en.a,{style:{width:"100%"},placeholder:"Ingrese un comentario sobre la tarea",onChange:function(e){h(e.target.value)},value:b})})})]})]}),C&&Object(dt.jsxs)("div",{style:{width:"100%",paddingTop:10,display:"inline-block"},children:[Object(dt.jsxs)("div",{style:{width:"50%",float:"left"},children:[Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){a.observationsImages&&(a.observationsImages.length=5)?alert("M\xe1ximo de 5 im\xe1genes cargadas."):document.getElementById("foto").click()},children:"Subir foto"}),Object(dt.jsx)("input",{autoComplete:"off",type:"file",id:"foto",accept:"image/x-png,image/jpeg",onChange:function(e){I(e.target.files[0])},hidden:!0})]}),Object(dt.jsx)("div",{style:{width:"50%",float:"right",textAlign:"right"},children:Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){!function(){var e={user:localStorage.getItem("_id"),userName:"".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),id:Date.now(),commit:b};if(b.length>0){var t=p;t.push(e),f(t),setTimeout((function(){a.writeCommits=p,h(""),document.getElementById("commits").scrollTop=document.getElementById("commits").scrollHeight}),500)}}()},children:"Guardar mensaje"})})]}),C&&Object(dt.jsx)("div",{style:{width:"100%",paddingTop:10,display:"inline-block",textAlign:"center"},children:Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){console.log(p),p.length>v?confirm("Guardar avance")&&(a.isChecked=!0,n(),i()):alert("Debe dejar alg\xfan nuevo comentario.")},children:"Indicar tarea terminada"})}),!C&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("p",{children:"Mientras no se termine la ejecuci\xf3n de la orden por parte del usuario asignado, usted solo podr\xe1 supervisar."})}),("inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role"))&&!C&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("p",{style:{fontSize:18},children:Object(dt.jsx)("b",{children:"Usted ya ha enviado la orden a revisi\xf3n."})})})]}),Object(dt.jsx)(_t.a,{onClick:function(){i()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})]})})},an=(n(481),n(401)),rn=n.n(an),cn=n(180),sn=function(e){var t=e.open,n=e.closeModal,a="/icv_web_model/model.json",i=["Pala","Cuerpo","Cabina_Pala","Oruga","Brazo","Balde","Trasero_Pala","Camion","Neumaticos","Tolva","Cabina_Camion","Parrilla","Trasero_Camion"],c=Object(r.useState)(null),s=Object(rt.a)(c,2),o=s[0],u=s[1],j=Object(r.useState)(""),b=Object(rt.a)(j,2),h=b[0],m=b[1],g=Object(r.useState)(!1),p=Object(rt.a)(g,2),f=p[0],x=p[1],O=Object(r.useState)(!1),v=Object(rt.a)(O,2),y=v[0],w=v[1];Object(r.useEffect)((function(){var e=!1;if(!e)return cn.d(a).then((function(t){e||u(t)})),function(){e=!0}}),[]);var S=function(e,t,n){var a=e.naturalWidth,r=e.naturalHeight;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.fillStyle="#000000",n.fillRect(0,0,t.width,t.height);var i=Math.min(t.width/e.naturalWidth,t.height/e.naturalHeight),c=Math.round(a*i),s=Math.round(r*i);n.drawImage(e,0,0,a,r,(t.width-c)/2,(t.height-s)/2,c,s)},C=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById("canvas"),a=n.getContext("2d"),S(t.target,n,a),r=cn.e((function(){return cn.c.resizeBilinear(cn.a.fromPixels(n),[640,640]).div(255).expandDims(0)})),o&&r&&o.executeAsync(r).then((function(e){x(!1),w(!0),console.log(e);var t="16px sans-serif";a.font=t,a.textBaseline="top";var r,c=Object(rt.a)(e,4),s=c[0],o=c[1],l=c[2],d=c[3],u=s.dataSync(),j=o.dataSync(),b=l.dataSync(),h=d.dataSync()[0];for(cn.b(e),r=0;r<h;++r){var m=u.slice(4*r,4*(r+1)),g=Object(rt.a)(m,4),p=g[0],f=g[1],O=g[2],v=g[3];p*=n.width,O*=n.width,f*=n.height;var y=O-p,S=(v*=n.height)-f,C=i[b[r]],k=j[r].toFixed(2);a.strokeStyle="#00FFFF",a.lineWidth=4,a.strokeRect(p,f,y,S),a.fillStyle="#00FFFF";var I=a.measureText(C+":"+k).width,A=parseInt(t,10);a.fillRect(p,f,I+4,A+4)}for(r=0;r<h;++r){var D=u.slice(4*r,4*(r+1)),R=Object(rt.a)(D,3),N=R[0],B=R[1];N*=n.width,B*=n.height;var E=i[b[r]],M=j[r].toFixed(2);a.fillStyle="#000000",a.fillText(E+":"+M,N,B)}})).catch((function(e){console.log(e),x(!1),alert("Se detecta que la m\xe1quina no est\xe1 completa en la im\xe1gen. Por favor al\xe9jese de la m\xe1quina para que el sistema logre identificar todas las partes.")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(dt.jsx)(kt.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsxs)(It.a,{sx:N,children:[Object(dt.jsxs)("div",{className:"Dropzone-page",children:[Object(dt.jsxs)("h3",{children:["Inserte su im\xe1gen. ",Object(dt.jsx)("br",{})," Para cambiar solo vuelva a tocar el cuadrado."]}),o?Object(dt.jsxs)(rn.a,{className:"Dropzone",accept:"image/jpeg, image/png, .jpg, .jpeg, .png",multiple:!1,onDrop:function(e,t,n){y?(x(!0),cn.d(a).then((function(t){u(t),setTimeout((function(){console.log(e),m(e[0].preview||n[0])}),2e3)}))):(x(!0),setTimeout((function(){console.log(e),m(e[0].preview||n[0])}),2e3))},children:[h?Object(dt.jsx)("img",{alt:"upload preview",onLoad:C,className:"Dropzone-img",src:h}):Object(dt.jsx)("h2",{children:"Presione para elegir una foto desde el archivo"}),Object(dt.jsx)("canvas",{id:"canvas",width:"640",height:"640"})]}):Object(dt.jsx)("div",{className:"Dropzone",children:"Cargando modelo..."})]}),Object(dt.jsx)(Xt,{open:f,withProgress:!1,loadingData:"Cargando datos..."}),Object(dt.jsx)(_t.a,{onClick:function(){n()},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})]})})},on=new Array,ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Array,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array,n=[];return new Promise((function(a){t.forEach(function(){var r=Object(d.a)(l.a.mark((function r(i,c){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=n,r.t1=[50,50,100,100,"*"],r.next=4,un(i,e[c],c);case 4:r.t2=r.sent,r.t3={widths:r.t1,body:r.t2},r.t4={style:"title",table:r.t3},r.t0.push.call(r.t0,r.t4),c==t.length-1&&a(n);case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())}))},dn=function(){var e=[{alignment:"center",width:"*",pageBreak:"before",text:"Im\xe1genes de la OT"},{style:"imageTables",table:{},layout:"noBorders"}],t=[],n=[],a={widths:[250,250],height:[200,200],body:[]},r=0,i=2;return new Promise((function(c){on.forEach((function(s,o){o==i&&(a.body[r]=t,a.body[r+1]=n,t=[],n=[],r=i,i+=i);var l={width:150,alignment:"center",image:s.urlBase64},d={width:150,alignment:"center",text:"Comentario id: "+s.id+'\n "'+s.commit+'"\n Im\xe1gen: '+W(s.id)+"\n Usuario: "+s.userName+"\n "};t.push(l),n.push(d),o==on.length-1&&(on.length%2==1&&(t.push({}),n.push({})),a.body[r]=t,a.body[r+1]=n,console.log(a),e[1].table=a,t=[],n=[],a={widths:[250,250],height:[200,200],body:[]},r=0,i=2,on=[],c(e))}))}))},un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Array,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new String,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Number,a=[[{colSpan:5,border:[!0,!0,!0,!0],text:t,fillColor:"#DADADA",pageBreak:0==n?"none":"before"},{},{},{},{}]];return new Promise((function(t){e.forEach((function(n,r){var i,c,s;n.writeCommits?(n.writeCommits.length>0&&n.writeCommits.forEach((function(e,t){e.urlBase64&&on.push(e)})),i="".concat(n.writeCommits[0].userName,": ").concat(n.writeCommits[0].commit),c=L(n.writeCommits[0].id),s=nt(n.writeCommits[0].id)):(n.readCommits.length>0&&n.readCommits.forEach((function(e,t){e.urlBase64&&on.push(e)})),i="Observaci\xf3n: -- ".concat(n.readCommits[0].userName,": ").concat(n.readCommits[0].commit),c=L(n.readCommits[0].id),s=nt(n.readCommits[0].id)),a.push([{fontSize:8,text:"".concat(c," \n ").concat(s)},{fontSize:8,text:n.workteamdesc},{fontSize:8,text:n.taskdesc},{fontSize:8,text:n.obs01},{fontSize:8,text:i}]),r==e.length-1&&t(a)}))}))},jn=function(){var e=Object(d.a)(l.a.mark((function e(t,n,a,r){var i,c,s,o,d,u,j,b,h,m,g,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(t.createdBy);case 2:return i=e.sent,e.next=5,tt(t.createdBy);case 5:return c=e.sent,e.next=8,He(t.chiefMachineryApprovedBy);case 8:return s=e.sent,e.next=11,tt(t.chiefMachineryApprovedBy);case 11:return o=e.sent,e.next=14,He(t.shiftManagerApprovedBy);case 14:return d=e.sent,e.next=17,tt(t.shiftManagerApprovedBy);case 17:return u=e.sent,e.next=20,He(t.usersAssigned[0]);case 20:return j=e.sent,e.next=23,tt(t.usersAssigned[0]);case 23:return b=e.sent,e.next=26,$e(t);case 26:return h=e.sent,m=Object.keys(h[0].group),g=Object.values(h[0].group),e.t0={columns:[{alignment:"left",text:"DEPTO DE CONTROL Y GESTI\xd3N DE MAQUINARIA",style:"deptoInfo",width:100},{alignment:"center",text:"ORDEN DE TRABAJO ".concat(t.idIndex," \n PAUTA DE ").concat(t.reportType).toUpperCase(),style:"subheader",width:"*"},{width:100,columns:[{width:"*",text:""},{alignment:"right",image:Nt,width:60}]}]},e.t1={columns:[{width:150,style:"table",table:{body:[["Tipo","".concat(n.type)],["Marca","".concat(n.brand)],["Modelo","".concat(n.model)],["N\xb0","".concat(n.equ)]]}},{width:170,columns:[{width:"*",text:""},{width:50,style:"table",table:{body:[["Equipos","TODOS"],["Pauta","".concat(t.idPm)]]}},{width:"*",text:""}]},{width:170,columns:[{width:"*",text:""},{width:70,style:"table",table:{body:[["Fecha Creaci\xf3n: ","".concat(L(t.createdAt))],["Creado por: ","".concat(i)]]}}]}]},e.t2={style:"title",table:{widths:[50,50,100,100,"*"],body:[["Fecha","Personal Necesario","Descripci\xf3n de la tarea","Observaciones","Comentarios"]]},layout:{fillColor:"#DADADA"}},e.next=34,ln(m,g);case 34:return e.t3=e.sent,e.t4={columns:[{text:"Responsables: ",margin:[0,50,0,0]},{alignment:"right",margin:[0,50,0,0],width:"*",text:"Fecha: ".concat(L(Date.now())," \n Hora: ").concat(nt(Date.now()))}]},e.t5={columns:[{alignment:"center",margin:[0,100,0,10],width:125,height:100,image:c},{alignment:"center",margin:[0,100,0,10],width:125,height:100,image:o},{alignment:"center",margin:[0,100,0,10],width:125,height:100,image:u},{alignment:"center",margin:[0,100,0,10],width:125,height:100,image:b}]},e.t6={columns:[{alignment:"center",margin:[0,10,0,200],width:"*",text:i+"\n Ejecutivo SAP"},{alignment:"center",margin:[0,10,0,200],width:"*",text:s+"\n Jefe de Maquinaria"},{alignment:"center",margin:[0,10,0,200],width:"*",text:d+"\n Jefe de Turno"},{alignment:"center",margin:[0,10,0,200],width:"*",text:j+"\n T\xe9cnico Inspecci\xf3n o Mantenimiento"}]},e.t7={margin:[0,10,0,200],text:"Descargado desde https://mantencion.icv.cl"},e.next=41,dn();case 41:e.t8=e.sent,e.t9=[e.t0,e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,e.t7,e.t8],e.t10={imageTables:{fontSize:8,margin:[0,50,0,50]},header:{fontSize:18,bold:!0,margin:[0,0,0,10]},deptoInfo:{fontSize:8,bold:!1,margin:[10,10,10,10]},subheader:{fontSize:16,bold:!0,margin:[0,10,0,5]},table:{margin:[0,5,0,15],fontSize:6},title:{margin:[0,5,0,15],fontSize:10,bold:"true",alignment:"center"},tableHeader:{bold:!0,fontSize:13,color:"black"}},p={content:e.t9,styles:e.t10},console.log(p),Ie(p).then((function(e){var t=e.data,n=document.createElement("a");n.href=t,n.download="".concat(r,".pdf"),n.click(),a()})).catch((function(e){alert("Error al descargar PDF"),a()}));case 47:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),bn=(n(501),function(e){var t=e.open,n=e.reportData,a=e.close,i=Object(r.useState)(),c=Object(rt.a)(i,2),s=c[0],o=c[1],u=Object(r.useState)(""),j=Object(rt.a)(u,2),b=j[0],h=j[1],m=Object(r.useState)(!1),g=Object(rt.a)(m,2),p=g[0],f=g[1];Object(r.useEffect)(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,Xe(n.machine);case 3:e.t1=e.sent,(0,e.t0)(e.t1),h("Orden_de_trabajo_".concat(n.idIndex,"_aprobado"));case 6:case"end":return e.stop()}}),e)}))),[]);var x=function(){f(!1),a()};return Object(dt.jsx)(kt.a,{open:t,children:Object(dt.jsxs)(It.a,{sx:D,children:[Object(dt.jsx)("div",{style:{width:"100%",position:"absolute",top:0,left:0,textAlign:"right"},children:Object(dt.jsx)(At.a,{style:{borderRadius:"50%",width:36,height:36},onClick:function(){return a()},children:Object(dt.jsx)(Ut.a,{})})}),Object(dt.jsxs)("div",{style:{width:"100%",height:60},children:[Object(dt.jsx)("p",{style:{marginTop:0},children:"Editar nombre:"}),Object(dt.jsx)("input",{style:{width:"80%",float:"left",textAlign:"right"},width:"100%",type:"text",value:b,onChange:function(e){var t;t=e.target.value,h(t),console.log(t)}}),Object(dt.jsx)("p",{style:{width:"10%",float:"left",margin:0,textAlign:"left"},children:".pdf"})]}),Object(dt.jsx)("div",{style:{width:"100%",marginTop:10,textAlign:"center"},children:Object(dt.jsxs)("button",{disabled:p,onClick:function(){return function(){try{jn(n,s[0],x,b),f(!0)}catch(e){alert("Error al descargar. Cerrando ventana."),f(!0),a()}}()},style:{textAlign:"center"},children:[!p&&Object(dt.jsx)(Rt.a,{icon:Dt.p,size:"5x",style:{color:"#888"}}),p&&Object(dt.jsx)(Kt.a,{style:{height:66,width:66,color:"#888"}}),!p&&Object(dt.jsx)("p",{style:{marginTop:10,marginBottom:0,fontSize:26,color:"#888"},children:"Descargar PDF"}),p&&Object(dt.jsx)("p",{style:{marginTop:10,marginBottom:0,fontSize:26,color:"#888"},children:"Descargando..."})]})})]})})}),hn=n(596),mn=n(551),gn=function(e){var t=e.open,n=(e.report,e.closeModal),a=Object(r.useState)([]),i=Object(rt.a)(a,2),c=i[0],s=i[1],o=Object(r.useState)(""),l=Object(rt.a)(o,2),d=l[0],j=l[1],b=Object(r.useState)(""),h=Object(rt.a)(b,2),m=h[0],g=h[1],p=localStorage.getItem("_id"),f=Object(u.f)();Object(r.useEffect)((function(){we(p).then((function(e){s(e.data.reverse())}))}),[]);return Object(dt.jsx)(kt.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsxs)(It.a,{sx:R,children:[Object(dt.jsxs)(Mt.a,{container:!0,style:{paddingTop:50},children:[Object(dt.jsx)(Mt.a,{item:!0,xl:4,md:3,sm:2,xs:null}),Object(dt.jsxs)(Mt.a,{item:!0,xl:4,md:6,sm:8,xs:12,children:[Object(dt.jsxs)("div",{children:[Object(dt.jsx)("h1",{children:"Dejenos sus comentarios de la aplicaci\xf3n."}),Object(dt.jsx)(hn.a,{value:m,onChange:function(e){g(e.target.value)},placeholder:"Asunto",style:{width:"100%",fontSize:18,fontFamily:"Raleway"}}),Object(dt.jsx)("br",{}),Object(dt.jsx)("br",{}),Object(dt.jsx)(mn.a,{"aria-label":"empty textarea",placeholder:"Deje su comentario",minRows:10,maxRows:15,style:{width:"100%",fontSize:18,fontFamily:"Raleway"},value:d,onChange:function(e){j(e.target.value)}})]}),Object(dt.jsx)("br",{}),Object(dt.jsx)("br",{}),Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){!function(){if(m.length>0&&d.length>1){var e={sendDate:Date.now(),message:d,from:localStorage.getItem("_id"),subject:m};navigator.onLine?Ce(e).then((function(e){we(p).then((function(e){s(e.data.reverse())})),alert("Mensaje enviado."),j(""),g("")})):alert("Error de red")}else alert("Asunto y comentario son obligatorios.")}()},children:"Enviar Mensaje"}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50,marginLeft:10},onClick:function(){n(),f.push("/internal-messages")},children:"Listado de mensajes"})]}),Object(dt.jsx)(Mt.a,{item:!0,xl:4,md:3,sm:2,xs:null})]}),Object(dt.jsxs)(Mt.a,{container:!0,style:{paddingTop:50},children:[Object(dt.jsx)(Mt.a,{item:!0,xl:4,md:3,sm:2,xs:null}),Object(dt.jsx)(Mt.a,{item:!0,xl:4,md:6,sm:8,xs:12,children:Object(dt.jsx)("div",{style:{overFlow:"auto",maxHeight:200,display:"block"},children:c.map((function(e,t){return e.answer||(e.answer="No hay respuesta."),Object(dt.jsxs)("div",{style:{width:"100%",fontSize:16,padding:10,borderRadius:20,borderStyle:"solid",borderWidth:1,borderColor:"#000",marginBottom:30},children:[Object(dt.jsx)("div",{style:{position:"relative",top:0,width:"100%"},children:Object(dt.jsx)(_t.a,{onClick:function(){!function(e,t){navigator.onLine&&confirm("Confirme la eliminaci\xf3n de su consulta.")&&ke(e).then((function(e){var t=c.filter((function(t){if(t._id!==e.data._id)return t}));s(t),alert("Mensaje borrado.")}))}(e._id)},style:{position:"absolute",right:0,top:0,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})}),Object(dt.jsx)("p",{children:Object(dt.jsx)("b",{children:e.subject})}),Object(dt.jsx)("p",{style:{whiteSpace:"pre-line"},children:e.message}),Object(dt.jsxs)("p",{style:{textAlign:"right"},children:["Enviado ",W(e.sendDate)," "]}),Object(dt.jsx)("p",{children:Object(dt.jsx)("b",{children:"Respuesta:"})}),Object(dt.jsx)("p",{children:e.answer})]},t)}))})}),Object(dt.jsx)(Mt.a,{item:!0,xl:4,md:3,sm:2,xs:null})]}),Object(dt.jsx)(_t.a,{onClick:n,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})]})})},pn=function(e){var t=e.open,n=e.report,a=e.closeModal,i=e.getResponseState,c=Object(r.useState)(""),s=Object(rt.a)(c,2),o=s[0],l=s[1];Object(r.useEffect)((function(){}),[]);return Object(dt.jsx)(kt.a,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsxs)(It.a,{sx:R,children:[Object(dt.jsxs)(Mt.a,{container:!0,style:{paddingTop:50},children:[Object(dt.jsx)(Mt.a,{item:!0,xl:4,md:3,sm:2,xs:null}),Object(dt.jsxs)(Mt.a,{item:!0,xl:4,md:6,sm:8,xs:12,children:[Object(dt.jsxs)("div",{children:[Object(dt.jsx)("h1",{children:"Comentarios de la revisi\xf3n."}),Object(dt.jsx)("br",{}),Object(dt.jsx)(mn.a,{"aria-label":"empty textarea",placeholder:"Deje su comentario",minRows:10,maxRows:15,style:{width:"100%",fontSize:18,fontFamily:"Raleway"},value:o,onChange:function(e){l(e.target.value)}})]}),Object(dt.jsx)("br",{}),Object(dt.jsx)("br",{}),Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){o.length>1?(n.level&&0!=n.level&&(1==n.level?n.shiftManagerApprovedCommit=o:2==n.level?n.chiefMachineryApprovedCommit=o:3==n.level&&(n.sapExecutiveApprovedCommit=o)),a(),i(!0,n)):alert("Por favor deje un comentario a la actividad.")},children:"Enviar Mensaje"})]}),Object(dt.jsx)(Mt.a,{item:!0,xl:4,md:3,sm:2,xs:null})]}),Object(dt.jsx)(_t.a,{onClick:function(){return a(),void i(!1,n)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})]})})},fn=Object(S.a)((function(e){return{drawer:{width:250,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:330,maxWidth:"100vw",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflow:"hidden"},drawerClose:{width:"15vw",maxWidth:99,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:" hidden"},drawerPaper:{marginTop:0,backgroundColor:"#212121",border:"none",borderEndEndRadius:30,borderTopRightRadius:30},drawerContainer:{position:"relative"},drawerBottom:{position:"absolute",backgroundColor:"rgb(228, 228, 228)",width:"100%",display:"flex",bottom:0,padding:5},bottomButtons:{height:54,width:54},sideButtons:{width:"5vh",maxWidth:26,height:"2.5vh",color:"#FFFFFF"},sideButtonsCloseMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:100,paddingTop:40},sideButtonsOpenMenu:{width:26,height:26,color:"#FFFFFF",paddingBottom:20,paddingTop:40},divider:{width:"100%",backgroundColor:"rgba(255, 255, 255, 0.18)"},searchField:{"& .MuiFormLabel-root":{color:"white"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"},"& .fa-search":{color:"white"},"& .MuiInputBase-input":{color:"white"}},listItemText:{whiteSpace:"normal",color:"white",fontWeight:"bold"}}})),xn=function(){var e,t,n=fn(),a=wt(),i=a.navBarOpen,c=a.handleNavBar,s=(bt().userData,Object(r.useState)()),o=Object(rt.a)(s,2),b=(o[0],o[1]),h=Object(r.useState)(""),m=Object(rt.a)(h,2),g=m[0],p=m[1],f=Object(u.f)(),x=Object(r.useState)(!0),O=Object(rt.a)(x,2),v=O[0],w=O[1],S=Object(r.useState)(!1),C=Object(rt.a)(S,2),k=C[0],I=C[1],A=Object(r.useState)(!1),D=Object(rt.a)(A,2),R=D[0],N=D[1],B=Object(r.useState)(!1),E=Object(rt.a)(B,2),M=E[0],T=E[1],P=Object(r.useState)(!0),F=Object(rt.a)(P,2),z=F[0],L=F[1],W=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:confirm("Confirme salida de la aplicaci\xf3n. Para volver a iniciar sesi\xf3n requiere contar con internet para validar las credenciales.")&&(window.localStorage.clear(),window.location.reload(),U());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent).length>0&&t.forEach((function(e,t){"3Ds"===e.name||"MachinesParts"===e.name||window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){i&&c()};return Object(r.useEffect)((function(){if(z){"admin"!==localStorage.getItem("role")&&"superAdmin"!==localStorage.getItem("role")&&"sapExecutive"!==localStorage.getItem("role")||w(!1),p(f.location.pathname),f.listen((function(e){p(e.pathname)}))&&b(!0);var e=setInterval((function(){localStorage.getItem("sitio")?(b(!0),clearInterval(e)):b(!1)}),1e3)}return function(){return L(!1)}}),[z]),Object(dt.jsx)("div",{children:Object(dt.jsx)(Lt.a,{className:Object(Yt.a)(Object(Yt.a)(n.drawer,(e={},Object(y.a)(e,n.drawerOpen,i),Object(y.a)(e,n.drawerClose,!i),e))),variant:"permanent",classes:{paper:Object(Yt.a)(n.drawerPaper,(t={},Object(y.a)(t,n.drawerOpen,i),Object(y.a)(t,n.drawerClose,!i),t))},children:Object(dt.jsxs)("div",{className:n.drawerContainer,children:[Object(dt.jsx)(Mt.a,{container:!0,spacing:2,style:{padding:i?8:"8px 0 0 0"},children:Object(dt.jsxs)(Mt.a,{item:!0,xs:12,container:!0,children:[Object(dt.jsx)("div",{style:{width:"100%",textAlign:i?"right":"center"},children:Object(dt.jsx)(Wt.a,{title:i?"Cerrar Men\xfa":"Abrir Men\xfa",onClick:c,className:i?n.sideButtonsOpenMenu:n.sideButtonsCloseMenu,children:i?Object(dt.jsx)(Ut.a,{}):Object(dt.jsx)(Jt.a,{})})}),i&&Object(dt.jsxs)("div",{style:{padding:10},children:[Object(dt.jsx)("img",{height:60,src:Gt,alt:""}),Object(dt.jsx)("p",{style:{color:"#fff",margin:0},children:"Ingenier\xeda Civil Vicente"})]}),Object(dt.jsx)("div",{style:{height:1,backgroundColor:"#fff",width:"100%",marginRight:10,marginLeft:10}}),Object(dt.jsx)("div",{style:{width:"100%",marginTop:40,textAlign:i?"left":"center"},children:Object(dt.jsx)(Wt.a,{onClick:J,title:"Inicio",children:Object(dt.jsxs)(j.b,{to:"/",className:n.sideButtons,style:{textDecoration:"none",color:"/"===g?"#BE2E26":"#FFFFFF"},children:[Object(dt.jsx)(Rt.a,{icon:Dt.j})," ",i?" Inicio":""]})})}),Object(dt.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(dt.jsx)(Wt.a,{onClick:J,title:"M\xe1quinas",children:Object(dt.jsxs)(j.b,{to:"/machines",className:n.sideButtons,style:{textDecoration:"none",color:"/machines"===g?"#BE2E26":"#FFFFFF"},children:[Object(dt.jsx)(Rt.a,{icon:Dt.w})," ",i?" M\xe1quinas":""]})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role"))&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(dt.jsx)(Wt.a,{onClick:J,title:"Obras",children:Object(dt.jsxs)(j.b,{to:"/sites",className:n.sideButtons,style:{color:"/sites"===g?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(dt.jsx)(Rt.a,{icon:Dt.m})," ",i?" Obras":""]})})}),!v&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(dt.jsx)(Wt.a,{onClick:J,title:"Reportes",children:Object(dt.jsxs)(j.b,{to:"/reports",className:n.sideButtons,style:{color:g.includes("/reports")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(dt.jsx)(Rt.a,{icon:Dt.e})," ",i?" Reportes":""]})})}),!v&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(dt.jsx)(Wt.a,{onClick:J,title:"Administraci\xf3n",children:Object(dt.jsxs)(j.b,{to:"/administration",className:n.sideButtons,style:{color:g.includes("/administration")||g.includes("/users")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(dt.jsx)(Rt.a,{icon:Dt.y})," ",i?" Administraci\xf3n":""]})})}),Object(dt.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(dt.jsx)(Wt.a,{onClick:J,title:"Listado Asignaciones",children:Object(dt.jsxs)(j.b,{to:"/assignment",className:n.sideButtons,style:{color:g.includes("/assignment")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(dt.jsx)(Rt.a,{icon:Dt.l})," ",i?" Listado Asignaciones":""]})})}),Object(dt.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(dt.jsx)(Wt.a,{onClick:J,title:"Perfil",children:Object(dt.jsxs)(j.b,{to:"/user-profile",className:n.sideButtons,style:{color:g.includes("/user-profile")?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(dt.jsx)(Rt.a,{icon:Dt.x})," ",i?" Perfil":""]})})}),Object(dt.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(dt.jsx)(Wt.a,{onClick:J,title:"Int. Artificial (Beta)",onClickCapture:function(){N(!0)},children:Object(dt.jsxs)("div",{className:n.sideButtons,style:{color:"/pms"===g?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(dt.jsx)(Rt.a,{icon:Dt.q})," ",i?" Int. Artificial (Beta)":""]})})}),Object(dt.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(dt.jsx)(Wt.a,{onClick:J,title:"Mensajes App",onClickCapture:function(){T(!0)},children:Object(dt.jsxs)("div",{className:n.sideButtons,style:{color:"/pms"===g?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(dt.jsx)(Rt.a,{icon:Dt.f})," ",i?" Mensajes App":""]})})}),Object(dt.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(dt.jsx)(Wt.a,{onClick:J,title:"Informaci\xf3n",onClickCapture:function(){I(!0)},children:Object(dt.jsxs)("div",{className:n.sideButtons,style:{color:"/information"===g?"#BE2E26":"#FFFFFF",textDecoration:"none"},children:[Object(dt.jsx)(Rt.a,{icon:Dt.k})," ",i?" Informaci\xf3n":""]})})}),Object(dt.jsx)("div",{style:{width:"100%",textAlign:i?"left":"center"},children:Object(dt.jsx)(Wt.a,{onClick:W,title:"Cerrar Sesi\xf3n",children:Object(dt.jsxs)("div",{className:n.sideButtons,children:[Object(dt.jsx)(Rt.a,{icon:Dt.t})," ",i?" Cerrar Sesi\xf3n":""]})})})]})}),k&&Object(dt.jsx)($t,{open:k,closeModal:function(){I(!1)}}),R&&Object(dt.jsx)(sn,{open:R,closeModal:function(){N(!1)}}),M&&Object(dt.jsx)(gn,{open:M,closeModal:function(){T(!1)}})]})})})},On=(n(623),Object(S.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}}))),vn=function(){var e=Ot().dictionary,t=(bt().login,Object(r.useState)("")),n=Object(rt.a)(t,2),a=n[0],i=n[1],c=On(),s=Object(u.f)(),o=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,j();case 4:n=e.sent,console.log(n),n.data.status?"no-email"===n.data.status&&alert(n.data.message):(alert(n.data.message),s.replace("/")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("No se pudo obtener el reset");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){return new Promise((function(e){G(a).then((function(t){e(t)})).catch((function(t){e(t)}))}))};return Object(dt.jsx)(Mt.a,{container:!0,style:{padding:20,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(dt.jsx)("form",{onSubmit:o,children:Object(dt.jsxs)(Mt.a,{container:!0,item:!0,spacing:2,children:[Object(dt.jsx)(Mt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(dt.jsx)(Tt.a,{type:"email",name:"email",label:e.login.emailField,value:a,onChange:function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"email":return i(e.target.value)}},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"}})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(dt.jsx)(At.a,{className:c.button,type:"submit",variant:"contained",color:"primary",children:"SOLICITAR"})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:40},children:Object(dt.jsx)(At.a,{className:c.button,variant:"contained",color:"primary",onClick:function(){s.goBack()},children:"VOLVER"})})]})})})},yn=(n(502),Object(S.a)((function(e){return{button:{borderRadius:20,maxWidth:400,minWidth:300,width:"100%"}}}))),wn=function(e){var t=e.id,n=Ot().dictionary,a=Object(r.useState)(""),i=Object(rt.a)(a,2),c=i[0],s=i[1],o=Object(r.useState)(""),j=Object(rt.a)(o,2),b=j[0],h=j[1],m=Object(r.useState)(""),g=Object(rt.a)(m,2),p=g[0],f=g[1],x=Object(r.useState)(!1),O=Object(rt.a)(x,2),v=O[0],y=O[1],w=Object(r.useState)(!1),S=Object(rt.a)(w,2),C=S[0],k=S[1],I=yn(),A=Object(u.f)();Object(r.useEffect)((function(){f(t)}),[]);var D=function(e){var t;switch(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name){case"password":return s(e.target.value);case"confirmPassword":return h(e.target.value)}},R=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c===b?c.length>5?_(c,p).then((function(e){alert("Contrase\xf1a cambiada con \xe9xito"),A.push("/")})):alert("Contrase\xf1a debe contener al menos 6 car\xe1cteres."):alert("Contrase\xf1as ingresadas no coinciden");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){y(c!==b),c.length<6?k(!0):k(!1)};return Object(dt.jsx)(Mt.a,{container:!0,style:{padding:20,height:"50%"},alignItems:"center",justifyContent:"center",children:Object(dt.jsx)("form",{children:Object(dt.jsxs)(Mt.a,{container:!0,item:!0,spacing:2,children:[Object(dt.jsx)(Mt.a,{item:!0,xs:12,container:!0,justifyContent:"center",children:Object(dt.jsx)(Tt.a,{type:"password",name:"password",label:n.restorePassword.passwordField,value:c,onChange:D,onBlur:function(e){return N()},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"},id:"password"})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:Object(dt.jsx)(Tt.a,{type:"password",name:"confirmPassword",label:n.restorePassword.confirmPasswordField,value:b,onChange:D,onBlur:function(e){return N()},variant:"outlined",style:{maxWidth:400,minWidth:300,width:"100%"},id:"c_password"})}),C&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("p",{style:{color:"red"},children:Object(dt.jsx)("strong",{children:"Contrase\xf1as deben ser de 6 car\xe1cteres m\xednimo"})})}),v&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("p",{style:{color:"red"},children:Object(dt.jsx)("strong",{children:"Contrase\xf1as no coinciden"})})}),Object(dt.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[Object(dt.jsx)("p",{children:"Nivel de seguridad"}),Object(dt.jsx)("progress",{max:"100",value:"0",id:"meter"}),Object(dt.jsx)("p",{children:"Si agrega a la contrse\xf1a letras may\xfasculas, n\xfameros y s\xedmbolos, el nivel de seguridad aumenta."})]}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:Object(dt.jsx)(At.a,{className:I.button,variant:"contained",color:"primary",onClick:function(){R()},children:n.restorePassword.button})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,container:!0,justifyContent:"center",style:{paddingTop:10},children:Object(dt.jsx)(At.a,{className:I.button,variant:"contained",color:"primary",onClick:function(){A.replace("/")},children:n.restorePassword.cancel})})]})})})},Sn=n(606),Cn=(Object(S.a)((function(e){return{}})),Object(S.a)((function(e){return{}})),n(503),n(504),n(607)),kn=function(e,t){return console.log(e),"793-F"===t?"Sistema_direccion"===e?[{title:"Sistema Hidraulico Direcci\xf3n",position:"0 1.93 2.5",normal:"0m 0m 0m",orbit:"45.94862deg 45.56856deg 0.06545582m",target:"-0.04384604m 0.07348397m -0.1213202m"}]:"Neumaticos"===e?[{title:"Neum\xe1tico",position:"2.6 2.5 2.5",normal:"0.73 0.05 0.69",orbit:"125deg 90deg 6m",target:"2.3m 1.45m 2.8m"},{title:"Aro",position:"2.6 1.93 2.5",normal:"0.73 0.05 0.69",orbit:"125deg 90deg 3m",target:"2.3m 1.45m 2.6m"}]:"Chasis"===e?[{title:"Articulaci\xf3n Eje Trasero",position:"0 0.5 -0.5",normal:"0 -0.05 -0.69",orbit:"45.94862deg 45.56856deg 0.06545582m",target:"-0.04384604m 0.07348397m -0.1213202m"},{title:"Chasis",position:"1 1.93 2.5",normal:"0 0.05 0.69",orbit:"45.94862deg 45.56856deg 0.06545582m",target:"-0.04384604m 0.07348397m -0.1213202m"}]:"Maza"===e?[{title:"Maza derecha",position:"-1 1.93 2.5",normal:"0 0.05 -1",orbit:"-125deg 90deg 4m",target:"-2.3m 1.45m 2.6m"},{title:"Maza izquierda",position:"1 1.93 2.5",normal:"0 0.05 1",orbit:"125deg 90deg 4m",target:"2.3m 1.45m 2.6m"}]:"Sistema_neumatico"===e?[{title:"Secador de aire",position:"-0.05 2.35 4.65",normal:"0 0.05 1",orbit:"0deg 90deg 4m",target:"-0.05m 2.35m 4.65m"},{title:"Tanque de aire",position:"-0.7 2.45 4",normal:"0 0.05 -1",orbit:"-145deg 90deg 1m",target:"-0.7m 2.3m 4m"},{title:"Compresor de aire",position:"-0.35 2.5 4",normal:"0 0.05 -1",orbit:"125deg 90deg 1m",target:"-0.45m 2.5m 4.2m"}]:"Motor"===e?[{title:"Motor",position:"1 2.5 2",normal:"0 -0.05 2",orbit:"90deg 90deg 5m",target:"1 2.5 2"},{title:"Radiador",position:"0 4.5 4.7",normal:"0 0.05 1",orbit:"45deg 90deg 7m",target:"0m 3m 4.5m"},{title:"Tanque de Combustible",position:"2.3 3.5 0.5",normal:"-1 0.05 -1",orbit:"125deg 90deg 5m",target:"2.3m 2.5m 0.5m"}]:"Cabina"===e?[{title:"Cintur\xf3n de seguridad",position:"2.45 4.5 2.7",normal:"0 -0.05 2",orbit:"-45deg 90deg 0.7m",target:"2.45m 4.5m 2.7m"},{title:"Plumilla 1",position:"2.45 5 4",normal:"0 0.05 1",orbit:"45deg 90deg 1m",target:"2.45m 4.7m 4m"},{title:"Plumilla 2",position:"1.1 5 4",normal:"0 0.05 1",orbit:"-45deg 90deg 1m",target:"1.1m 4.7m 4m"},{title:"Manubrio",position:"2.2 4.5 3.5",normal:"0 0.05 1",orbit:"180deg 55deg 0.7m",target:"2.2m 4.5m 3.5m"},{title:"Asiento chofer",position:"2.2 4.45 3",normal:"0 0.05 1",orbit:"0deg 55deg 0.7m",target:"2.2m 4.45m 3m"},{title:"Asiento copiloto",position:"1.3 4.45 3",normal:"0 0.05 1",orbit:"0deg 55deg 0.7m",target:"1.3m 4.45m 3m"}]:[]:[]},In=function(e){var t=e.machine,n=Object(r.useState)(),a=Object(rt.a)(n,2),i=(a[0],a[1]),c=Object(r.useState)(),s=Object(rt.a)(c,2),o=s[0],u=s[1],j=Object(r.useState)(0),b=Object(rt.a)(j,2),h=b[0],m=b[1],g=Object(r.useState)(!1),p=Object(rt.a)(g,2),f=p[0],x=p[1],O=Object(r.useState)(!1),v=Object(rt.a)(O,2),y=v[0],w=v[1],S=Object(r.useState)([]),C=Object(rt.a)(S,2),k=C[0],I=C[1],A=Object(r.useState)(""),D=Object(rt.a)(A,2),R=D[0],N=D[1],B=Object(r.useState)(""),E=Object(rt.a)(B,2),M=E[0],T=E[1],P=Object(r.useState)(""),F=Object(rt.a)(P,2),z=F[0],L=F[1],W=Object(r.useState)("45deg 81deg 100m"),U=Object(rt.a)(W,2),J=U[0],Y=U[1],G=Object(r.useState)("0.009 0.009 0.009"),_=Object(rt.a)(G,2),Z=_[0],q=_[1],Q=Object(r.useState)("auto auto auto"),H=Object(rt.a)(Q,2),V=H[0],K=H[1],X=Object(r.useState)(!1),$=Object(rt.a)(X,2),ee=$[0],te=$[1],ne=Object(r.useState)([]),ae=Object(rt.a)(ne,2),re=ae[0],ie=ae[1];Object(r.useEffect)((function(){ie([]),oe()}),[]);var ce=function(){var e=Object(d.a)(l.a.mark((function e(){var n,a,r,i,c,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("primary"),x(!0),m(0),e.next=5,Fe.initDb3DFiles();case 5:if(!(n=e.sent)){e.next=15;break}return e.next=9,Fe.buscarPorNombreModelo("Preview_".concat(t.model),n.database);case 9:a=e.sent,r=a.data,i=new Blob([r]),c=URL.createObjectURL(i),u(c),N(se("Preview"));case 15:return e.next=18,Qe.initDb();case 18:if(!(s=e.sent)){e.next=26;break}return o=new Array,e.next=23,Qe.consultar(s.database);case 23:(o=e.sent).forEach((function(e,t){e.isSelected=""})),I(o.filter((function(e){if(e.model===t.model&&"Preview"!=e.name)return e})));case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(e){return"Preview"===e?"Vista General ".concat(t.brand," ").concat(t.model):"Preview_Con_Texturas"===e?"Vista General ".concat(t.brand," ").concat(t.model," Color"):"Sistema_direccion"===e?"Sistema de Direcci\xf3n":"Sistema_hidraulico"===e?"Sistema Hidraulico":"Sistema_neumatico"===e?"Sistema Neumatico":"Mando_de_giro"===e?"Mando de Giro":"Mando_final"===e?"Mando Final":"Sistema_rodado"===e?"Sistema Rodado":e},oe=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(),i(document.querySelector("model-viewer#machine")),(t=document.querySelector("model-viewer#machine")).addEventListener("model-visibility",(function(e){})),t.addEventListener("load",(function(){x(!1),t.cameraControls=!0,document.getElementById("image").style.opacity="0",setTimeout((function(){document.getElementById("machine").style.opacity="1",document.getElementById("image").style.height="0px",document.getElementById("machine").style.height="100%"}),2e3)})),t.addEventListener("click",(function(e){})),t.addEventListener("error",(function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le="undefined"!==typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),de=function(){w(!1)},ue=function(){Y("45deg 81deg 100m"),q("0.009 0.009 0.009"),K("auto auto auto"),te(!1)};return Object(dt.jsxs)(It.a,{style:{height:"100%",width:"100%"},id:"box",children:[Object(dt.jsxs)(Lt.a,{sx:{width:"30%",backgroundColor:"transparent"},disableBackdropTransition:!le,disableDiscovery:le,variant:"persistent",anchor:"top",open:y,children:[Object(dt.jsx)("div",{style:{width:"27vw",textAlign:"right"},children:Object(dt.jsx)(Wt.a,{onClick:function(){return de()},children:Object(dt.jsx)(Ut.a,{})})}),Object(dt.jsxs)("div",{children:[Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)(At.a,{color:M,style:{width:"90%",marginBottom:10},variant:"outlined",onClick:function(){x(!0),de(),T("primary"),m(0),setTimeout((function(){ce()}),1e3)},children:Object(dt.jsx)("p",{children:se("Preview")})})}),k.map((function(e,n){return Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsxs)(At.a,{color:e.isSelected,style:{width:"90%",marginBottom:10},variant:"outlined",onClick:function(){!function(e,n){de(),ue(),ie([]),setTimeout((function(){if(N(se(e.name)),console.log(kn(e.name,t.model)),"CATERPILLAR"===e.brand)if("Preview_Con_Texturas"===e.name)m(0),x(!0);else{console.log(e.brand,e.model,e.name);var a="../assets/transiciones/".concat(e.brand,"/").concat(e.model,"/Pantalla_de_carga_").concat(e.name,".png");L(a),document.getElementById("machine").style.opacity="0",setTimeout((function(){document.getElementById("machine").style.height="0px",document.getElementById("image").style.height="80%",document.getElementById("image").style.opacity="1"}),500)}else m(0),x(!0);k.forEach((function(e,t){e.isSelected=t===n?"primary":"",t===k.length-1&&I(k)})),setTimeout(Object(d.a)(l.a.mark((function n(){var a,r,i,c,s;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fe.initDb3DFiles();case 2:return a=n.sent,n.next=5,Fe.buscarPorNombreModelo(e.nameModel,a.database);case 5:r=n.sent,i=r.data,c=new Blob([i]),s=URL.createObjectURL(c),ie(kn(e.name,t.model)),u(s);case 11:case"end":return n.stop()}}),n)}))),4e3)}),1e3)}(e,n)},children:[Object(dt.jsx)("img",{src:"../assets/no-image.png",style:{width:50,height:50,borderRadius:30,objectFit:"cover",position:"absolute",left:10},alt:""}),Object(dt.jsx)("p",{children:se(e.name)})]})},n)}))]})]}),Object(dt.jsx)("img",{src:z,id:"image",className:"image",height:640,width:480}),Object(dt.jsx)("model-viewer",{id:"machine",src:o,style:{height:"100%",width:"100%",backgroundColor:"#414646",opacity:1,transition:"opacity 0.5s"},"camera-target":V,"camera-orbit":J,scale:Z,alt:"A Material Picking Example","touch-action":"none","min-field-of-view":"45deg","interpolation-decay":"200","min-camera-orbit":"auto auto 10%",oncontextmenu:"return false;",children:re.map((function(e,t){return Object(dt.jsx)("button",{onClick:function(){Y(e.orbit),K(e.target),te(!0)},className:"view-button",slot:"hotspot-".concat(t),"data-position":e.position,"data-normal":e.normal,"data-orbit":e.orbit,"data-target":e.target,children:e.title},t)}))}),Object(dt.jsx)(Xt,{open:f,progress:h,loadingData:"Preparando vista 3D...",withProgress:!0}),Object(dt.jsx)("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"transparent",textAlign:"center"},children:Object(dt.jsxs)("div",{style:{width:"60%",backgroundColor:"transparent",textAlign:"center",marginLeft:"auto",marginRight:"auto"},children:[ee&&Object(dt.jsxs)(Wt.a,{onClick:function(){return ue()},children:[Object(dt.jsx)(Cn.a,{style:{color:"white",fontFamily:"Raleway",marginRight:10}})," ",Object(dt.jsx)("p",{style:{color:"white",fontFamily:"Raleway"},children:"Centrar c\xe1mara"})]}),Object(dt.jsx)("h2",{style:{color:"white",fontFamily:"Raleway"},children:R})]})}),!y&&Object(dt.jsx)(_t.a,{onClick:function(){w(!0)},style:{position:"absolute",left:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:Object(dt.jsx)(Jt.a,{})})]})},An=n(25),Dn=n(423),Rn=n.n(Dn),Nn=(n(520),n(521),n(621)),Bn=n(425),En=n.n(Bn),Mn=n(424),Tn=n.n(Mn),Pn=function(e){var t=e.height,n=e.pauta,a=e.reportAssigned,i=e.setProgress,c=e.reportAssignment,s=e.reportLevel,o=Object(r.useState)([]),u=Object(rt.a)(o,2),j=u[0],b=u[1],h=Object(r.useState)([]),m=Object(rt.a)(h,2),g=m[0],p=m[1],f=Object(r.useState)(),x=Object(rt.a)(f,2),O=x[0],v=x[1],y=Object(r.useState)(),w=Object(rt.a)(y,2),S=w[0],C=w[1],k=Object(r.useState)([]),I=Object(rt.a)(k,2),A=I[0],D=I[1],R=Object(r.useState)(!1),N=Object(rt.a)(R,2),B=N[0],E=N[1],M=Object(r.useState)(!1),T=Object(rt.a)(M,2),P=T[0],F=T[1],z=Object(r.useState)(),L=Object(rt.a)(z,2),W=L[0],U=L[1],J=Object(r.useState)(),Y=Object(rt.a)(J,2),G=Y[0],_=Y[1];Object(r.useEffect)((function(){q()}),[]);var Z=function(e,t){var n=[];e.forEach((function(a,r){var c={data:a,state:!1};if(0==r&&(c.state=!0,_(a)),n.push(c),r==e.length-1){var s=[],o=[],l=t[n[0].data];l.forEach((function(e,t){if(e.obs01||(e.obs01="Sin Observaciones"),e.isChecked?o.push(e.isChecked):e.isChecked=!1,s.push(e.isChecked),t==l.length-1){D(s),b(n),p(l);var a=100*o.length/l.length;i(a)}}))}}))},q=function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,i,c,s,o,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=15;break}return e.next=3,new Promise((function(e){Oe(a).then((function(t){e(t.data[0])}))}));case 3:return i=e.sent,e.next=6,Ze.initDb();case 6:return c=e.sent,e.next=9,Ze.actualizar(i,c.database);case 9:e.sent,new Boolean,(r=i).group?(v(r.group),Z(Object.keys(r.group),r.group),C(r)):(t=n.struct.reduce((function(e,t){return e[t.strpmdesc]=[].concat(Object(An.a)(e[t.strpmdesc]||[]),[t]),e}),{}),v(t),r.group=t,Z(Object.keys(t),t),ve(r),C(r)),e.next=27;break;case 15:return e.next=17,Ze.initDb();case 17:return s=e.sent,o=new Array,e.next=21,Ze.consultar(s.database);case 21:o=e.sent,(d=o.filter((function(e){if(e._id===r._id)return e}))).length>0?(r=d[0],t=r.group):t=n.struct.reduce((function(e,t){return e[t.strpmdesc]=[].concat(Object(An.a)(e[t.strpmdesc]||[]),[t]),e}),{}),v(t),Z(Object.keys(t),t),C(r);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S.group,a.dateInit||(a.dateInit=Date.now()),p([]),n[G][W].readCommits&&navigator.onLine&&(t||(n[G][W].isWarning=!0),r=[],c=[],n[G].forEach((function(e,t){if(console.log(e),e.isChecked?c.push(e.isChecked):e.isChecked=!1,r.push(e.isChecked),t==n[G].length-1){var s=100*c.length/n[G].length;i(s),console.log(s,n[G]),p(n[G]),D(r),navigator.onLine&&(ve(S),de(a)),a.idDatabase=a.idIndex,et(S,a)}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){E(!1),F(!1)},V=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S.group,a.dateInit||(a.dateInit=Date.now()),p([]),n[G][W].writeCommits&&(t||(n[G][W].isWarning=!1),r=[],c=[],n[G].forEach((function(e,t){if(e.isChecked?c.push(e.isChecked):e.isChecked=!1,r.push(e.isChecked),t==n[G].length-1){var s=100*c.length/n[G].length;i(s),p(n[G]),D(r),navigator.onLine&&(ve(S),de(a)),a.idDatabase=a.idIndex,et(S,a)}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K={height:70,borderRadius:10,boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)"},X=function(e){var t=e.className,n=(e.style,e.onClick);return Object(dt.jsx)("div",{className:t,style:{color:"black",background:"grey",borderRadius:20},onClick:n})},$={infinite:!1,speed:500,slidesToShow:7,slidesToScroll:7,nextArrow:Object(dt.jsx)(X,{}),prevArrow:Object(dt.jsx)(X,{})};return Object(dt.jsxs)("div",{children:[Object(dt.jsx)("div",{style:{height:70,borderColor:"#ccc",borderWidth:2,borderStyle:"solid",borderRadius:10},children:Object(dt.jsx)(Rn.a,Object(at.a)(Object(at.a)({},$),{},{children:j.map((function(e,t){return Object(dt.jsxs)("div",{style:{textAlign:"center",height:"100%"},children:[Object(dt.jsx)(At.a,{style:{textAlign:"center",width:"100%",height:70},onClick:function(){return function(e,t){p([]),e.forEach((function(n,a){if(n.state=!1,a==e.length-1){var r=[],c=[],s=O[t.data];s.forEach((function(e,n){if(e.obs01||(e.obs01="Sin Observaciones"),e.isChecked?c.push(e.isChecked):e.isChecked=!1,r.push(e.isChecked),n==s.length-1){D(r),t.state=!0;var a=100*c.length/s.length;i(a),setTimeout((function(){p(s),_(t.data)}),100)}}))}}))}(j,e)},children:Object(dt.jsx)("p",{style:{margin:0},children:e.data})}),e.state&&Object(dt.jsx)("div",{style:{width:"100%",height:6,backgroundColor:"#BB2D2D",position:"relative",bottom:5,borderRadius:5}})]},t)}))}))}),Object(dt.jsxs)("div",{children:[Object(dt.jsxs)(Qt.a,{children:[Object(dt.jsx)("div",{style:{width:"15%",marginLeft:5},children:Object(dt.jsxs)("p",{style:{margin:0},children:[" ",Object(dt.jsx)("strong",{children:"Personal Necesario"})," "]})}),Object(dt.jsx)("div",{style:{width:"30%",marginLeft:5},children:Object(dt.jsxs)("p",{style:{margin:0},children:[" ",Object(dt.jsx)("strong",{children:"Descripcion De Tarea"})," "]})}),Object(dt.jsx)("div",{style:{width:"40%",marginLeft:5},children:Object(dt.jsxs)("p",{style:{margin:0},children:[" ",Object(dt.jsx)("strong",{children:"Observaciones"})," "]})}),Object(dt.jsx)("div",{style:{width:"15%",marginLeft:5},children:Object(dt.jsxs)("p",{style:{margin:0},children:[" ",Object(dt.jsx)("strong",{children:"Acciones"})," "]})})]}),g&&Object(dt.jsx)("div",{style:{height:t,overflowY:"scroll"},children:g.map((function(e,t){return Object(dt.jsxs)(Qt.a,{style:K,children:[Object(dt.jsx)("div",{style:{width:"15%",marginLeft:5},children:e.workteamdesc}),Object(dt.jsx)("div",{style:{width:"30%",marginLeft:5,overflowY:"scroll",textOverflow:"ellipsis",maxHeight:"100%"},children:e.taskdesc}),Object(dt.jsx)("div",{style:{width:"40%",marginLeft:5,overflowY:"scroll",textOverflow:"ellipsis",maxHeight:"100%"},children:e.obs01}),Object(dt.jsx)(Wt.a,{onClick:function(){E(!0),U(t)},children:Object(dt.jsx)(Rt.a,{icon:Dt.h})}),Object(dt.jsx)(Wt.a,{onClick:function(){F(!0),U(t)},children:Object(dt.jsx)(Rt.a,{icon:Dt.o})}),Object(dt.jsx)(Nn.a,{checked:A[t],disabled:!0,style:{transform:"scale(1.2)"},icon:Object(dt.jsx)(Tn.a,{}),checkedIcon:Object(dt.jsx)(En.a,{style:{color:e.isWarning?"#EAD749":"#27AE60"}})})]},t)}))}),B&&Object(dt.jsx)(tn,{reportLevel:s,open:B,closeModal:Q,onlyClose:H,activity:g[W],reportAssignment:c,reportId:S._id}),P&&Object(dt.jsx)(nn,{reportLevel:s,open:P,closeWriteModal:V,onlyClose:H,activity:S.group[G][W],reportAssignment:c,reportId:S._id})]})]})},Fn=function(e){var t=e.height,n=e.hableButton,a=Object(r.useState)([]),i=Object(rt.a)(a,2),c=i[0],s=i[1],o=Object(r.useState)(!1),b=Object(rt.a)(o,2),h=b[0],m=b[1],g=Object(r.useState)({}),p=Object(rt.a)(g,2),f=p[0],x=p[1],O=Object(r.useState)(0),v=Object(rt.a)(O,2),y=v[0],w=v[1],S=Object(r.useState)(!1),C=Object(rt.a)(S,2),k=C[0],I=C[1],A=Object(r.useState)([]),D=Object(rt.a)(A,2),R=D[0],N=D[1],B=Object(r.useState)([]),E=Object(rt.a)(B,2),M=E[0],P=E[1],F=(Object(u.f)(),function(e){ae(e).then((function(e){}))});Object(r.useEffect)((function(){var e=!0;return e&&(re().then((function(t){e&&s(t.data)})),localStorage.removeItem("userDataToSave")),function(){e=!1}}),[]);var z={height:70,borderRadius:10,boxShadow:"4px 4px 12px rgba(0, 0, 0, 0.08)",fontSize:14};return Object(dt.jsx)("div",{style:{height:t},children:Object(dt.jsxs)("div",{style:{height:t},children:[Object(dt.jsxs)(Mt.a,{container:!0,spacing:5,children:[Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:8,lg:8,children:Object(dt.jsx)(Ct.a,{style:{width:"100%"},children:Object(dt.jsx)("h1",{children:"Administrar usuarios"})})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"right"},children:Object(dt.jsx)(j.b,{to:"/new-users",children:Object(dt.jsxs)("button",{disabled:!n,style:{marginTop:20,width:171,height:38,borderRadius:23,fontSize:16},children:[Object(dt.jsx)(Rt.a,{icon:Dt.x,style:{marginRight:10}}),"Crear usuario"]})})})})]}),Object(dt.jsx)("div",{children:Object(dt.jsxs)(Qt.a,{children:[Object(dt.jsx)("div",{style:{width:"5%",marginLeft:5,fontSize:12}}),Object(dt.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:Object(dt.jsxs)("p",{style:{margin:0},children:[" ",Object(dt.jsx)("strong",{children:"Nombre de usuario"})," "]})}),Object(dt.jsx)("div",{style:{width:"20%",marginLeft:5,fontSize:12},children:Object(dt.jsxs)("p",{style:{margin:0},children:[" ",Object(dt.jsx)("strong",{children:"Correo electr\xf3nico"})," "]})}),Object(dt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:Object(dt.jsxs)("p",{style:{margin:0},children:[" ",Object(dt.jsx)("strong",{children:"RUN"})," "]})}),Object(dt.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:Object(dt.jsxs)("p",{style:{margin:0},children:[" ",Object(dt.jsx)("strong",{children:"Rol"})," "]})}),Object(dt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:Object(dt.jsxs)("p",{style:{margin:0},children:[" ",Object(dt.jsx)("strong",{children:"Faena/Obra"})," "]})}),Object(dt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:Object(dt.jsxs)("p",{style:{margin:0},children:[" ",Object(dt.jsx)("strong",{children:"Estado"})," "]})})]})}),n&&Object(dt.jsxs)("div",{style:{overflowY:"auto",height:"53vh"},children:[c.map((function(e,t){return e.imageUrl||(e.imageUrl="../assets/no-profile-image.png"),e.roleTranslated=T(e.role),Object(dt.jsxs)(Qt.a,{style:z,children:[Object(dt.jsx)("div",{style:{width:"5%",marginLeft:5,fontSize:12},children:Object(dt.jsx)("img",{style:{height:50,borderRadius:"50%",objectFit:"cover",width:50},src:e.imageUrl,alt:""})}),Object(dt.jsxs)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:[e.name," ",e.lastName]}),Object(dt.jsx)("div",{style:{width:"20%",marginLeft:5,fontSize:12,wordBreak:"break-all"},children:e.email}),Object(dt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:e.rut}),Object(dt.jsx)("div",{style:{width:"15%",marginLeft:5,fontSize:12},children:e.roleTranslated}),Object(dt.jsx)("div",{style:{width:"10%",marginLeft:5,fontSize:12}}),Object(dt.jsxs)("div",{style:{width:"10%",marginLeft:5,fontSize:12},children:[e.enabled&&Object(dt.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#C3EBD4",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"ACTIVO"}),!e.enabled&&Object(dt.jsx)("p",{style:{borderRadius:5,maxWidth:200,textAlign:"center",backgroundColor:"#F9F9F9",paddingTop:3,paddingRight:28,paddingBottom:3,paddingLeft:28},children:"INACTIVO"})]}),Object(dt.jsx)(Wt.a,{onClick:function(){return a=t,x(n=e),I(n.enabled),N(n.permissionsReports),P(n.permissionsUsers),w(a),void m(!0);var n,a},children:Object(dt.jsx)(Rt.a,{icon:Dt.k})}),Object(dt.jsx)(j.b,{to:"/edit-user/".concat(e._id),children:Object(dt.jsx)(Wt.a,{children:Object(dt.jsx)(Rt.a,{icon:Dt.o})})}),Object(dt.jsx)(Wt.a,{onClick:function(){var t,n,a;t=e._id,n=e.name,a=e.lastName,"admin"===e.role?alert("No es posible eliminar un Administrador."):confirm("Remover\xe1 al usuario ".concat(n," ").concat(a,". Confirme la acci\xf3n."))&&ce(t).then(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.t0=s,e.next=4,new Promise((function(e){re().then((function(t){e(t)}))}));case 4:e.t1=e.sent.data,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:Object(dt.jsx)(Rt.a,{icon:Dt.v})})]},t)})),f&&Object(dt.jsx)(Vt,{open:h,userModal:f,handleChange:function(e){I(e.target.checked),c[y].enabled=e.target.checked},checked:k,permissionsReports:R,permissionsUsers:M,closeModal:function(e){m(!1),F(e)}})]}),!n&&Object(dt.jsx)("div",{style:{textAlign:"center",width:"100%",height:"50%",paddingTop:50},children:Object(dt.jsx)("h1",{children:"Requiere conexi\xf3n a internet para administraci\xf3n de usuarios"})})]})})},zn=n(598),Ln=n(234),Wn=(n(523),function(e,t,n,a,r,i,c,s,o,l,d,u){t(!0);var j=e;j.imageUrl&&u(j.imageUrl),j.rut&&n(j.rut),j.name&&a(j.name),j.lastName&&r(j.lastName),j.email&&i(j.email),j.phone&&(c(j.phone),j.phone.length>0&&(9==e.phone.length?document.getElementById("phone").className="isValid":document.getElementById("phone").className="isInvalid")),j.role&&s(j.role),j.sites&&o(j.sites),j.password&&"Nuevo usuario"===typeDisplay&&l(j.password),j.confirmPassword&&"Nuevo usuario"===typeDisplay&&d(j.confirmPassword),setTimeout((function(){localStorage.setItem("userDataToSave",JSON.stringify(e)),t(!1)}),1e3)}),Un=function(e,t,n,a,r,i,c,s,o,l,d){e&&setTimeout((function(){var u=JSON.parse(e);console.log(u),u.rut&&t(u.rut),u.name&&n(u.name),u.lastName&&a(u.lastName),u.email&&r(u.email),u.phone&&(i(u.phone),u.phone.length>0&&(9==userData.phone.length?document.getElementById("phone").className="isValid":document.getElementById("phone").className="isInvalid")),u.role&&c(u.role),u.sites&&s(u.sites),u.password&&"Nuevo usuario"===typeDisplay&&o(u.password),u.confirmPassword&&"Nuevo usuario"===typeDisplay&&l(u.confirmPassword),u.imageUrl&&d(u.imageUrl)}),500)},Jn=Object(S.a)((function(e){return{inputsStyle:{borderColor:"#C4C4C4"}}})),Yn=function(e){var t,n,a=e.width,i=e.height,c=e.typeDisplay,s=e.uData,o=Object(r.useState)([]),u=Object(rt.a)(o,2),j=(u[0],u[1]),b=Object(r.useState)("password"),h=Object(rt.a)(b,2),m=h[0],g=h[1],p=Object(r.useState)("password"),f=Object(rt.a)(p,2),x=f[0],O=f[1],v=Object(r.useState)(""),w=Object(rt.a)(v,2),S=w[0],C=w[1],k=Object(r.useState)(""),I=Object(rt.a)(k,2),A=I[0],D=I[1],R=Object(r.useState)(""),N=Object(rt.a)(R,2),B=N[0],E=N[1],M=Object(r.useState)(""),T=Object(rt.a)(M,2),P=T[0],F=T[1],z=Object(r.useState)(""),L=Object(rt.a)(z,2),W=L[0],U=L[1],J=Object(r.useState)(""),Y=Object(rt.a)(J,2),G=Y[0],_=Y[1],Z=Object(r.useState)(""),q=Object(rt.a)(Z,2),Q=q[0],H=q[1],V=Object(r.useState)(""),K=Object(rt.a)(V,2),X=K[0],ee=K[1],te=Object(r.useState)(""),ne=Object(rt.a)(te,2),ae=ne[0],re=ne[1],ie=Object(r.useState)([]),ce=Object(rt.a)(ie,2),se=ce[0],oe=ce[1],le=Object(r.useState)([]),de=Object(rt.a)(le,2),ue=de[0],je=de[1],be=Object(r.useState)(!1),he=Object(rt.a)(be,2),me=he[0],ge=he[1],pe=Object(r.useState)(!1),fe=Object(rt.a)(pe,2),xe=fe[0],Oe=fe[1],ve=Object(r.useState)(),ye=Object(rt.a)(ve,2),we=ye[0],Se=ye[1],Ce=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={name:S,lastName:A,rut:B,role:P,email:G,phone:Q,password:X,sites:W,confirmPassword:ae,createdBy:localStorage.getItem("_id"),imageUrl:we},t&&(n.imageUrl=t),n.rut&&(Object(Ln.validate)(n.rut)?document.getElementById("rut").className="isValid":document.getElementById("rut").className="isInvalid"),n.email.length>0&&(n.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?document.getElementById("rut").className="isValid":document.getElementById("rut").className="isInvalid"),n.name.length>0&&(n.name[0]==n.name[0].toUpperCase()||(a=n.name[0].toUpperCase(),n.name=n.name.slice(1),C("".concat(a).concat(n.name)))),n.lastName.length>0&&(n.lastName[0]==n.lastName[0].toUpperCase()||(r=n.lastName[0].toUpperCase(),n.lastName=n.lastName.slice(1),D("".concat(r).concat(n.lastName)))),"Nuevo usuario"===c&&(n.password.length>0&&n.password===n.confirmPassword?(ge(!1),document.getElementById("passw").className="isValid",document.getElementById("c_passw").className="isValid"):(ge(!0),document.getElementById("passw").className="isInvalid",document.getElementById("c_passw").className="isInvalid")),n.phone.length>0&&(9==n.phone.length?document.getElementById("phone").className="isValid":document.getElementById("phone").className="isInvalid"),console.log(n),localStorage.setItem("userDataToSave",JSON.stringify(n));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=(Jn(),function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,De(t);case 3:n=e.sent,Se(n),Ce(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(r.useEffect)((function(){var e=!0,t=localStorage.getItem("userDataToSave");return console.log(s),Wn(s,Oe,E,C,D,_,H,F,U,ee,re,Se),Un(t,E,C,D,_,H,F,U,ee,re,Se),j(se),$().then((function(t){e&&oe(t.data)})),Te.initDbObras().then((function(t){e&&Te.consultar(t.database).then((function(t){e&&je(t)}))})),function(){return e=!1}}),[]),Object(dt.jsxs)("div",{style:{height:i,width:a},children:["Nuevo usuario"===c&&Object(dt.jsx)(Mt.a,{children:Object(dt.jsx)("div",{children:Object(dt.jsx)("h2",{children:"Para enrolar nuevo usuario debe ingresar todos los datos."})})}),Object(dt.jsxs)(Mt.a,{container:!0,style:{padding:0,marginLeft:100},children:[Object(dt.jsxs)(Mt.a,{item:!0,style:{float:"left",marginRight:10},children:[Object(dt.jsx)("p",{children:"Foto de perfil"}),Object(dt.jsx)("button",{style:{height:224,width:190,borderRadius:8,objectFit:"cover"},onClick:function(){s._id?document.getElementById("profileImage").click():alert("Solo puede agregar foto una vez creado el usuario.")},children:we?Object(dt.jsx)("img",{src:we,style:{objectFit:"cover",width:"100%"},height:"100%"}):Object(dt.jsxs)("div",{children:[Object(dt.jsx)(Rt.a,{icon:Dt.n,style:{fontSize:18}}),Object(dt.jsx)("br",{}),Object(dt.jsx)("br",{}),"CARGAR",Object(dt.jsx)("br",{}),"FOTO"]})}),Object(dt.jsx)("input",{autoComplete:"off",type:"file",id:"profileImage",onChange:function(e){ke(e.target.files[0])},hidden:!0})]}),Object(dt.jsxs)(Mt.a,{style:{float:"left",width:"75%",marginRight:10,marginTop:0},children:[Object(dt.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(dt.jsx)("div",{style:{float:"left",marginRight:10},children:Object(dt.jsxs)(zn.a,{fullWidth:!0,children:[Object(dt.jsx)("p",{children:"RUT"}),Object(dt.jsx)("input",(t={autoComplete:"off",required:!0,id:"rut",className:"inputClass",type:"text",minLength:11,maxLength:12,onBlur:function(){return Ce()},onInput:function(e){var t;""===(t=e.target.value)||E(Object(Ln.format)(t))},value:B,placeholder:"11.222.333-K"},Object(y.a)(t,"type","text"),Object(y.a)(t,"style",{width:293,height:44,borderRadius:10,fontSize:20}),t))]})}),Object(dt.jsx)("div",{style:{float:"left"},children:Object(dt.jsxs)(zn.a,{fullWidth:!0,children:[Object(dt.jsx)("p",{children:"Tipo de usuario"}),Object(dt.jsxs)("select",{onBlur:function(){return Ce()},required:!0,name:"userType",id:"userType",style:{width:248,height:44,borderRadius:10,fontSize:20,marginRight:10},onChange:function(e){return F(e.target.value)},value:P,className:"inputClass",children:[Object(dt.jsx)("option",{value:"",children:"Seleccione..."},100),se.filter((function(e){if("superAdmin"!==e.dbName)return e})).map((function(e,t){return Object(dt.jsx)("option",{value:e.dbName,children:e.name},t)}))]})]})}),Object(dt.jsx)("div",{style:{float:"left"},children:Object(dt.jsxs)(zn.a,{fullWidth:!0,children:[Object(dt.jsx)("p",{children:"Obra"}),Object(dt.jsxs)("select",(n={required:!0,onBlur:function(){return Ce()}},Object(y.a)(n,"required",!0),Object(y.a)(n,"name","site"),Object(y.a)(n,"id","site"),Object(y.a)(n,"style",{width:548,height:44,borderRadius:10,fontSize:20}),Object(y.a)(n,"onChange",(function(e){return U(e.target.value)})),Object(y.a)(n,"value",W),Object(y.a)(n,"className","inputClass"),Object(y.a)(n,"children",[Object(dt.jsx)("option",{value:"",children:"Seleccione..."},100),ue.map((function(e,t){return Object(dt.jsx)("option",{value:JSON.stringify(e),children:e.descripcion},t)}))]),n))]})})]}),Object(dt.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(dt.jsx)("div",{style:{float:"left",width:"45%",marginRight:10},children:Object(dt.jsxs)(zn.a,{fullWidth:!0,children:[Object(dt.jsx)("p",{children:"Nombre"}),Object(dt.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"name",onBlur:function(){return Ce()},onChange:function(e){return C(e.target.value)},value:S,placeholder:"John",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(dt.jsx)("div",{style:{float:"left",width:"45%"},children:Object(dt.jsxs)(zn.a,{fullWidth:!0,children:[Object(dt.jsx)("p",{children:"Apellido"}),Object(dt.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"lastName",onBlur:function(){return Ce()},onChange:function(e){return D(e.target.value)},value:A,placeholder:"Doe",type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})]}),Object(dt.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(dt.jsx)("div",{style:{float:"left",width:"60%",marginRight:10},children:Object(dt.jsxs)(zn.a,{fullWidth:!0,children:[Object(dt.jsx)("p",{children:"Correo electr\xf3nico"}),Object(dt.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"email",onBlur:function(){return Ce()},onChange:function(e){return _(e.target.value)},value:G,placeholder:"nombre@correo.cl",type:"email",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(dt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(dt.jsxs)(zn.a,{fullWidth:!0,children:[Object(dt.jsx)("p",{children:"N\xfamero de tel\xe9fono"}),Object(dt.jsx)("input",{autoComplete:"off",required:!0,className:"inputClass",id:"phone",minLength:9,onBlur:function(){return Ce()},onInput:function(e){e.target.value=e.target.value.slice(0,9),console.log(e.target.value)},onChange:function(e){return H(e.target.value)},value:Q,placeholder:"999998888",type:"phone",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})]}),"Nuevo usuario"===c&&Object(dt.jsxs)("div",{style:{width:"70vw",height:"12vh"},children:[Object(dt.jsxs)("div",{style:{float:"left",width:"37%",marginRight:10},children:[Object(dt.jsx)("p",{children:"Contrase\xf1a"}),Object(dt.jsx)("div",{style:{float:"left",width:"100%"},children:Object(dt.jsx)("input",{autoComplete:"off",id:"passw",required:!0,className:"isInvalid",onBlur:function(){return Ce()},onChange:function(e){return ee(e.target.value)},value:X,minLength:6,placeholder:"Min 6 car\xe1cteres",type:m,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),Object(dt.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:Object(dt.jsxs)(Wt.a,{style:{width:40},onClick:function(){g("password"===m?"text":"password")},children:["password"===m&&Object(dt.jsx)(Rt.a,{icon:Dt.h}),"text"===m&&Object(dt.jsx)(Rt.a,{icon:Dt.i})]})})]}),Object(dt.jsxs)("div",{style:{float:"left",width:"37%"},children:[Object(dt.jsx)("p",{children:"Confirmar contrase\xf1a"}),Object(dt.jsx)("div",{style:{float:"left",width:"100%"},children:Object(dt.jsx)("input",{autoComplete:"off",id:"c_passw",required:!0,className:"isInvalid",onBlur:function(){return Ce()},onChange:function(e){return re(e.target.value)},value:ae,minLength:6,placeholder:"Repita contrase\xf1a",type:x,style:{width:"100%",height:44,borderRadius:10,fontSize:20,paddingRight:50}})}),Object(dt.jsx)("div",{style:{float:"left",width:"1%",marginLeft:-50},children:Object(dt.jsxs)(Wt.a,{style:{width:40},onClick:function(){O("password"===x?"text":"password")},children:["password"===x&&Object(dt.jsx)(Rt.a,{icon:Dt.h}),"text"===x&&Object(dt.jsx)(Rt.a,{icon:Dt.i})]})})]})]}),me&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("h3",{style:{color:"red"},children:"Contrase\xf1as no coinciden"})}),Object(dt.jsx)(Xt,{open:xe,withProgress:!1,loadingData:"Espere..."})]})]})]})},Gn=Object(S.a)((function(e){return{inputsStyle:{borderColor:"#C4C4C4"}}})),_n=function(e){e.width;var t=e.height,n=e.typeDisplay,a=e.id,i=Object(r.useState)({}),c=Object(rt.a)(i,2),s=c[0],o=c[1],u=Object(r.useState)(""),j=Object(rt.a)(u,2),b=j[0],h=j[1],m=Object(r.useState)(""),g=Object(rt.a)(m,2),p=g[0],f=g[1],x=Object(r.useState)([]),O=Object(rt.a)(x,2),v=O[0],y=O[1],w=Object(r.useState)([]),S=Object(rt.a)(w,2),C=S[0],k=S[1];Object(r.useEffect)((function(){o(JSON.parse(localStorage.getItem("userDataToSave"))),f(JSON.parse(JSON.parse(localStorage.getItem("userDataToSave")).sites).descripcion),A(),D()}),[]);var I=function(e,t,n,a){n[t].isChecked=e,y([]),k([]),"reportes"===a?(y(n),localStorage.setItem("listaPermisosReportes",JSON.stringify(v)),setTimeout((function(){k(C)}),5)):"usuarios"===a&&(setTimeout((function(){y(v)}),5),localStorage.setItem("listaPermisosUsuarios",JSON.stringify(C)),k(n))},A=function(){var e=Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Nuevo usuario"!==n){e.next=7;break}return e.next=3,ee();case 3:return t=e.sent,e.abrupt("return",new Promise((function(e){t.data.forEach((function(n,a){"reportes"===n.name?y(n.resources):"usuarios"===n.name&&k(n.resources),a==t.data.length-1&&e(!0)}))})));case 7:if("Editar usuario"!==n){e.next=12;break}return e.next=10,te(a);case 10:return r=e.sent,e.abrupt("return",new Promise((function(e){Object.keys(r.data).map((function(t,n){"permissionsReports"===t?y(r.data[t]):"permissionsUsers"===t&&k(r.data[t]),n==Object.keys(r.data).length-1&&e(!0)}))})));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(JSON.parse(localStorage.getItem("userDataToSave")).role);case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Gn();return Object(dt.jsxs)(Mt.a,{container:!0,style:{height:t},children:[s&&Object(dt.jsxs)(Mt.a,{item:!0,xl:3,md:4,style:{padding:20,marginRight:0,backgroundColor:"#F9F9F9",borderRadius:20,overflowY:"auto"},children:[Object(dt.jsx)("h2",{children:"Datos del usuario"}),Object(dt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(dt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"RUT"}),Object(dt.jsx)("p",{style:{margin:0,fontSize:16},children:s.rut})]}),Object(dt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(dt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Nombre y Apellido"}),Object(dt.jsxs)("p",{style:{margin:0,fontSize:16},children:[s.name," ",s.lastName]})]}),Object(dt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(dt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tipo de usuario"}),b&&Object(dt.jsx)("p",{style:{margin:0,fontSize:16},children:b})]}),Object(dt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(dt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Obra"}),Object(dt.jsx)("p",{style:{margin:0,fontSize:16},children:p})]}),Object(dt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(dt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Correo electr\xf3nico"}),Object(dt.jsx)("p",{style:{margin:0,fontSize:16},children:s.email})]}),Object(dt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(dt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Tel\xe9fono"}),Object(dt.jsxs)("p",{style:{margin:0,fontSize:16},children:["+56 ",s.phone]})]}),"Nuevo usuario"===n&&Object(dt.jsxs)("div",{style:{width:"100%",marginBottom:15},children:[Object(dt.jsx)("p",{style:{margin:0,fontSize:12,fontWeight:"bold"},children:"Contrase\xf1a"}),Object(dt.jsxs)("p",{style:{margin:0,fontSize:16},children:[s.password," ",Object(dt.jsx)(Wt.a,{style:{fontSize:16,padding:2},children:Object(dt.jsx)(Rt.a,{icon:Dt.i})})," "]})]})]}),Object(dt.jsx)(Mt.a,{item:!0,xl:9,md:8,style:{paddingLeft:20,height:"100%",borderLeftColor:"#C4C4C4",borderLeftWidth:1,borderLeftStyle:"solid"},children:Object(dt.jsxs)("div",{style:{padding:20,width:"100%"},children:[Object(dt.jsx)("h2",{children:"Admininstrar permisos"}),Object(dt.jsx)("div",{style:{float:"left",width:"45%"},children:v.map((function(e,t,a){return"Nuevo usuario"===n&&("sapExecutive"===JSON.parse(localStorage.getItem("userDataToSave")).role?e.isChecked=!0:"inspectionWorker"===JSON.parse(localStorage.getItem("userDataToSave")).role||"maintenceOperator"===JSON.parse(localStorage.getItem("userDataToSave")).role?1==t&&(e.isChecked=!0):("shiftManager"===JSON.parse(localStorage.getItem("userDataToSave")).role||"chiefMachinery"===JSON.parse(localStorage.getItem("userDataToSave")).role)&&(1!=t&&2!=t&&3!=t&&4!=t||(e.isChecked=!0))),t==v.length-1&&localStorage.setItem("listaPermisosReportes",JSON.stringify(a)),Object(dt.jsxs)("div",{children:["Nuevo usuario"===n&&Object(dt.jsx)(Nn.a,{edge:"start",checked:e.isChecked,onChange:function(e){return I(e.target.checked,t,a,"reportes")}}),"Editar usuario"===n&&Object(dt.jsx)(Nn.a,{edge:"start",checked:e.isChecked,onChange:function(e){return I(e.target.checked,t,a,"reportes")}}),Object(dt.jsxs)("label",{children:[" ",e.name," "]})]},t)}))}),Object(dt.jsx)("div",{style:{float:"left",width:"45%"},children:C.map((function(e,t){return"Nuevo usuario"===n&&("sapExecutive"===JSON.parse(localStorage.getItem("userDataToSave")).role?e.isChecked=!0:"inspectionWorker"===JSON.parse(localStorage.getItem("userDataToSave")).role||"maintenceOperator"===JSON.parse(localStorage.getItem("userDataToSave")).role?1==t&&(e.isChecked=!0):("shiftManager"===JSON.parse(localStorage.getItem("userDataToSave")).role||"chiefMachinery"===JSON.parse(localStorage.getItem("userDataToSave")).role)&&(1!=t&&2!=t||(e.isChecked=!0))),t==C.length-1&&localStorage.setItem("listaPermisosUsuarios",JSON.stringify(C)),Object(dt.jsxs)("div",{children:[Object(dt.jsx)(Nn.a,{edge:"start",checked:e.isChecked,onChange:function(e){return I(e.target.checked,t,C,"usuarios")}}),Object(dt.jsxs)("label",{children:[" ",e.name," "]})]},t)}))})]})})]})},Zn=(n(524),function(e){var t=e.list,n=e.reloadData,a=Object(r.useState)(null),i=Object(rt.a)(a,2),c=i[0],s=i[1],o=Object(r.useState)(null),l=Object(rt.a)(o,2),d=l[0],j=l[1],b=Object(r.useState)(!1),h=Object(rt.a)(b,2),m=h[0],g=h[1],p=Object(r.useState)(!1),f=Object(rt.a)(p,2),x=f[0],O=f[1],v=Object(r.useState)(!1),y=Object(rt.a)(v,2),w=y[0],S=y[1];Object(u.f)();console.log(t);t.forEach((function(e,t){console.log(e),e.date=L(e.datePrev),e.end=L(e.endReport),e.init=L(e.dateInit),xe(e.machine).then((function(t){e.hourMeter=Number(t.data[0].hourMeter)/36e5}))}));var C=t.reverse();return Object(dt.jsxs)("div",{style:{width:"100%"},children:[Object(dt.jsxs)(Mt.a,{container:!0,style:{width:"100%"},children:[Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("strong",{children:"Pauta"})," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsxs)("strong",{children:["Fecha ",Object(dt.jsx)("br",{})," Prevista"]})," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsxs)("strong",{children:["Fecha ",Object(dt.jsx)("br",{})," Inicio"]})," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsxs)("strong",{children:["Fecha ",Object(dt.jsx)("br",{})," T\xe9rmino"]})," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("strong",{children:"Hor\xf3metro"})," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("strong",{children:"ID#"})," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"15%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("strong",{children:"Responsable"})," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("strong",{children:"Obra"})," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("strong",{children:"Acci\xf3n"})," "]})})]}),0==C.length&&Object(dt.jsx)(Mt.a,{container:!0,children:Object(dt.jsxs)("div",{style:{width:"100%",textAlign:"center",height:"50vh"},children:[Object(dt.jsx)("img",{style:{margin:0,top:"50%",left:"calc(100%/1.53)"},src:"../../assets/icons/Arrow.svg",alt:""}),Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center",top:"55%"},children:Object(dt.jsxs)("p",{children:["Selecciona otra opci\xf3n ",Object(dt.jsx)("br",{})," El detalle no cuenta con lista de reportes."]})})]})}),C.map((function(e,t){return Object(dt.jsxs)(Mt.a,{container:!0,style:{width:"100%"},children:[Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",e.guide," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",e.date," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",e.init," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",e.end," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",e.hourMeter," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"5%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",e.idIndex," "]})}),e.enabled?Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"15%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("button",{onClick:function(){return s(e),void g(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Asignar"})," "]})}):Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"15%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("button",{disabled:!0,style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Terminado"})," "]})}),Object(dt.jsx)(Mt.a,{item:!0,style:{textAlign:"center",width:"10%",marginLeft:5},children:Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("a",{title:e.siteName,children:e.site})," "]})}),Object(dt.jsxs)(Mt.a,{item:!0,style:{textAlign:"center",width:"15%",marginLeft:5},children:[Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("button",{onClick:function(){j(e),O(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Ver"})," "]}),!e.enabled&&Object(dt.jsxs)("p",{children:[" ",Object(dt.jsx)("button",{onClick:function(){s(e),S(!0)},style:{backgroundColor:"#F9F9F9",borderRadius:20,borderColor:"#757575",maxWidth:130,height:24,fontSize:12},children:"Descargar PDF"})," "]})]})]},t)})),c&&Object(dt.jsx)(Zt,{open:m,report:c,reportType:c.reportType,onlyClose:function(){g(!1)},closeModal:function(){g(!1),n()}}),d&&Object(dt.jsx)(qt,{open:x,report:d,onlyClose:function(){j(null)}}),c&&Object(dt.jsx)(bn,{open:w,reportData:c,close:function(){S(!1)}})]})}),qn=n(426),Qn=n.n(qn),Hn=function(e){var t=e.width,n=e.height,a=e.setRefCanvas;e.disabled;return Object(dt.jsx)(Qn.a,{ref:function(e){a(e)},penColor:"black",canvasProps:{width:t,height:n,style:{borderStyle:"solid",borderWidth:1,borderColor:"#333",borderRadius:20}}})},Vn=n(608),Kn=function(e){var t=e.route,n=A(),a=Object(r.useState)(!1),i=Object(rt.a)(a,2),c=i[0],s=i[1],o=Object(r.useState)(),j=Object(rt.a)(o,2),b=(j[0],j[1]),h=Object(r.useState)(""),m=Object(rt.a)(h,2),g=(m[0],m[1],Object(r.useState)(0)),p=Object(rt.a)(g,2),f=(p[0],p[1],Object(u.h)().id),x=JSON.parse(f),O=JSON.parse(x.machineData),v=new String;v=t.toString();var y=new String;v.includes("inspection")?y="PI":v.includes("maintenance")&&(y="PM"),O.info||(O.info="Sin informaci\xf3n."),O.lastMant||(O.lastMant="Sin informaci\xf3n"),O.lastOper||(O.lastOper="Sin informaci\xf3n");var w={id:x.id,brand:x.brand,model:x.model,pIDPM:x.pIDPM,type:x.type};Object(r.useEffect)((function(){Ge.initDbReports().then(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Array,e.next=3,Ge.consultar(t.database);case 3:n=e.sent,Ee.initDbPMs().then(function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Array,e.next=3,Ee.consultar(t.database);case 3:a=e.sent,n.forEach((function(e,t){O.equid===e.machine&&a.length>0&&a.forEach((function(t,n){t.typepm===e.guide&&t.typepm.includes(y)&&b(t)}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var S,C=JSON.parse(localStorage.getItem("sitio")).descripcion,k=Object(u.f)();C||k.goBack(),"inspection/machine-detail"===t?S="Inspecci\xf3n":"maintenance/machine-detail"===t?S="Mantenci\xf3n":"machines/machine-detail"===t&&(S="M\xe1quinas");return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:n.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:n.pageContainer,item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:n.pageCard,children:Object(dt.jsxs)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){k.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsxs)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:[S,"/",C,"/",x.type," ",x.brand," ",x.model,"/N\xfamero interno: ",Object(dt.jsx)("b",{children:O.equ})]})]})})}),Object(dt.jsxs)(Mt.a,{container:!0,children:[Object(dt.jsx)(Mt.a,{item:!0,xs:null,sm:2,md:3,lg:4,xl:4}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:8,md:6,lg:4,xl:4,children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsxs)("div",{style:{padding:15,borderTopLeftRadius:20,borderEndStartRadius:20,backgroundColor:"#F9F9F9",borderRadius:10,minHeight:400},children:[Object(dt.jsx)("h3",{style:{marginTop:5,marginBottom:5},children:x.type}),Object(dt.jsx)("div",{style:{position:"relative",zIndex:"1",width:"100%",height:180,backgroundColor:"transparent",textAlign:"center"},children:Object(dt.jsx)("img",{src:"/assets/".concat(x.model,".png"),height:"100%"})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(dt.jsx)("b",{children:"Marca: "})," ",x.brand," "]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(dt.jsx)("b",{children:"Modelo: "})," ",x.model," "]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(dt.jsx)("b",{children:"C\xf3digo: "})," ",O.id," "]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(dt.jsx)("b",{children:"Hor\xf3metro Actual: "})," ",(O.hourMeter/36e5).toFixed(2).toString().replace(".",",")," hrs "]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(dt.jsx)("b",{children:"N\xfamero Interno: "})," ",O.equ," "]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(dt.jsx)("b",{children:"Informaci\xf3n: "})," ",O.info," "]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(dt.jsx)("b",{children:"\xdaltima Mantenci\xf3n: "})," ",O.lastMant," "]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:[Object(dt.jsx)("b",{children:"\xdaltimo Inspector: "})," ",O.lastOper," "]})})]})})}),Object(dt.jsx)(Mt.a,{item:!0,xs:null,sm:2,md:3,lg:4,xl:4}),Object(dt.jsx)("div",{children:Object(dt.jsx)(kt.a,{open:c,close:!c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsxs)("div",{style:{height:"100%",width:"100%",backgroundColor:"#333"},children:[Object(dt.jsx)(In,{machine:w}),Object(dt.jsx)(_t.a,{onClick:function(){setTimeout((function(){s(!c)}),500)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})]})})})]})]})})})})})},Xn=(n(527),function(e){e.image;var t=e.machine,n=e.route,a=Object(u.f)(),r={brand:t.brand,id:t.id,model:t.model,pIDPM:t.pIDPM,type:t.type};return Object(dt.jsxs)(At.a,{className:"buttonContent",style:{borderRadius:20},onClick:function(){a.push("/".concat(n,"/").concat(JSON.stringify(r)))},children:[Object(dt.jsx)("img",{className:"imageMachine",src:"data:".concat(t.image),alt:t.model}),Object(dt.jsx)("div",{style:{position:"absolute",bottom:5,width:"100%",textAlign:"center"},children:"".concat(t.type," ").concat(t.brand," ").concat(t.model)})]})}),$n=(Object(S.a)((function(e){return{root:{display:"inline-block",textAlign:"center"},icon:{marginBottom:15},button:{minWidth:180}}})),Object(S.a)((function(e){return{root:{display:"inline-block",textAlign:"center",padding:10,width:"25%",backgroundColor:"transparent"},icon:{padding:20,width:"100%"},button:{minWidth:"100%"},buttonSelection:{backgroundColor:"#F9F9F9",color:"#505050",width:"100%",minHeight:340,borderRadius:20,fontFamily:"Raleway",textTransform:"none",margin:10},iconButton:{color:"#BE2E26"}}}))),ea=function(e){var t=e.variant,n=e.disableButton,a=Ot().dictionary,r=$n(),i=Object(u.f)();return Object(dt.jsx)(At.a,{onClick:function(){i.push("/".concat(t))},variant:"contained",className:r.buttonSelection,disabled:n,children:Object(dt.jsxs)("div",{className:r.icon,children:[function(){switch(t){case"inspection":return Object(dt.jsx)(Rt.a,{icon:Dt.s,size:"4x",className:r.iconButton});case"assignment":return Object(dt.jsx)(Rt.a,{icon:Dt.l,size:"4x",className:r.iconButton});case"machines":return Object(dt.jsx)(Rt.a,{icon:Dt.w,size:"4x",className:r.iconButton});case"maintenance":return Object(dt.jsx)(Rt.a,{icon:Dt.u,size:"4x",className:r.iconButton});case"reports":return Object(dt.jsx)(Rt.a,{icon:Dt.e,size:"4x",className:r.iconButton});case"administration":return Object(dt.jsx)(Rt.a,{icon:Dt.y,size:"4x",className:r.iconButton});case"users":return Object(dt.jsx)(Rt.a,{icon:Dt.z,size:"4x",className:r.iconButton})}}(),Object(dt.jsx)("br",{}),Object(dt.jsx)("p",{className:"button-font-size",children:function(){switch(t){case"inspection":return a.welcome.inspectionButton;case"assignment":return a.welcome.assignmentButton;case"machines":return a.welcome.machinesButton;case"maintenance":return a.welcome.maintenanceButton;case"reports":return a.welcome.reportsButton;case"administration":return a.welcome.administrationButton;case"users":return a.admin.adminUsersButton}}()})]})})},ta=function(e){var t=e.site,n=Object(r.useState)(!1),a=Object(rt.a)(n,2);a[0],a[1];return Object(dt.jsxs)(Mt.a,{container:!0,style:{borderStyle:"solid",borderWidth:2,borderColor:"#505050",borderRadius:20,padding:20},children:[Object(dt.jsx)("div",{style:{margin:"auto",textAlign:"left"},children:Object(dt.jsxs)("h1",{children:[" ",t.descripcion," "]})}),Object(dt.jsx)("div",{style:{position:"relative",right:20,margin:"auto",marginRight:80,maxWidth:50,textAlign:"right"},children:Object(dt.jsx)(At.a,{onClick:function(){localStorage.setItem("sitio",JSON.stringify(t)),alert(t.descripcion+" seleccionado.")},style:{borderStyle:"solid",borderWidth:2,backgroundColor:"#BE2E26",borderColor:"#BE2E26",color:"#FFF",borderRadius:20,padding:20},children:"Seleccionar"})})]})},na=function(e){var t=e.route,n=A(),a=(Ot().dictionary,Object(r.useState)([])),i=Object(rt.a)(a,2),c=i[0],s=i[1];Object(r.useEffect)((function(){b()}),[]);var o,j,b=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We();case 2:t=e.sent,Ne.initDbMachines().then(function(){var e=Object(d.a)(l.a.mark((function e(n){var a,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.consultar(n.database);case 2:if(!(a=e.sent)){e.next=14;break}r=0;case 5:if(!(r<a.length)){e.next=14;break}return e.next=8,Ue(r,t.database);case 8:(i=e.sent)&&(a[r].image=i.data),r==a.length-1&&s(a);case 11:r++,e.next=5;break;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=Object(u.f)();return localStorage.getItem("sitio")?o=JSON.parse(localStorage.getItem("sitio")).descripcion:h.replace("/"),"inspection"===t?j="Inspecci\xf3n":"maintenance"===t?j="Mantenci\xf3n":"machines"===t&&(j="M\xe1quinas"),Object(dt.jsx)(It.a,{height:"90%",children:Object(dt.jsx)(Mt.a,{className:n.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:n.pageContainer,item:!0,xs:12,children:Object(dt.jsx)("div",{className:n.pageCard,children:Object(dt.jsxs)(Mt.a,{container:!0,alignItems:"flex-start",justifyContent:"flex-start",children:[Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){h.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"".concat(j,"/").concat(o)})]})})}),Object(dt.jsxs)(Mt.a,{container:!0,spacing:5,justifyContent:"flex-start",style:{textAlign:"center",height:"75vh",overflowY:"auto"},children:[Object(dt.jsx)(Mt.a,{item:!0,xs:null,sm:null,md:2,lg:2,xl:2}),c.map((function(e){return Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:4,lg:4,xl:4,style:{margin:10},children:Object(dt.jsx)(Xn,{machine:e,image:e.image,route:t})},e.id)})),Object(dt.jsx)(Mt.a,{item:!0,xs:null,sm:null,md:2,lg:2,xl:2})]})]})})})})})},aa=n(599),ra=function(e){var t=e.route,n=Object(r.useState)(""),a=Object(rt.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)([]),o=Object(rt.a)(s,2),l=o[0],d=o[1],j=Object(r.useState)(!1),b=Object(rt.a)(j,2),h=b[0],m=b[1],g=Object(u.f)(),p=A(),f=JSON.parse(localStorage.getItem("sitio")).descripcion,x=(JSON.parse(localStorage.getItem("sitio")).idobra,Object(u.h)().id),O=JSON.parse(x),v=function(e){var t={id:O.id,brand:O.brand,model:O.model,pIDPM:O.pIDPM,type:O.type,machineData:JSON.stringify(e)};g.push("machine-detail/".concat(JSON.stringify(t)))};return Object(r.useEffect)((function(){var e=!1;return Le.initDbMachines().then((function(t){Le.consultar(t.database).then((function(t){e||d(t.filter((function(e){if(e.model===JSON.parse(x).model)return e})).sort((function(e,t){return e.equ-t.equ})))}))})),f||g.goBack(),"inspection"===t?c("Inspecci\xf3n"):"maintenance"===t?c("Mantenci\xf3n"):"machines"===t&&c("M\xe1quinas"),function(){e=!0}}),[]),Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:p.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:p.pageContainer,item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:p.pageCard,children:Object(dt.jsxs)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){g.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"".concat(i,"/").concat(f,"/").concat(O.type," ").concat(O.brand," ").concat(O.model)})]})})}),Object(dt.jsx)("div",{style:{width:"100%",paddingLeft:20,height:40,textAlign:"center"},children:Object(dt.jsx)("button",{style:{height:30,borderRadius:20,position:"relative",right:10,paddingLeft:30,paddingRight:30},onClick:function(){setTimeout((function(){m(!0)}),500)},children:Object(dt.jsx)("strong",{children:"Ver modelo 3D de ".concat(O.type," ").concat(O.brand," ").concat(O.model)})})}),Object(dt.jsx)(aa.a,{style:{width:"100vw",marginRight:11,overflowY:"scroll",maxHeight:"70vh",paddingLeft:20,paddingRight:20},children:l.map((function(e,t){return Object(dt.jsxs)(Mt.a,{container:!0,style:{minHeight:148,marginBottom:20,padding:20,borderStyle:"solid",borderWidth:2,borderColor:"#CCC",borderRadius:20},children:[Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:3,lg:2,children:Object(dt.jsx)("img",{src:"../assets/no-image.png",style:{height:120,width:"100%",objectFit:"cover"}})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:3,lg:2,children:Object(dt.jsx)("div",{style:{padding:10},children:Object(dt.jsxs)("h1",{style:{margin:0},children:[" ",Object(dt.jsxs)("strong",{children:[e.type," ",e.equ]})," "]})})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:3,lg:3,children:Object(dt.jsxs)("div",{style:{padding:10},children:[Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Marca: ",e.brand.toUpperCase()]}),Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Modelo: ",e.model]}),Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["C\xf3digo: ",e.equid]})]})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:3,lg:3,children:Object(dt.jsxs)("div",{style:{padding:10},children:[Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Hor\xf3metro Actual: ",e.hourMeter]}),Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["N\xfamero Interno: ",e.equ]}),Object(dt.jsxs)("p",{style:{marginTop:5,marginBottom:5},children:["Serie motor: ",e.enginesnr]})]})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:12,lg:2,children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("button",{style:{width:100,height:30,borderRadius:20,marginLeft:6},onClick:function(){return v(e)},children:Object(dt.jsx)("strong",{children:"Ver m\xe1s"})})})})]},t)}))}),Object(dt.jsx)("div",{children:Object(dt.jsx)(kt.a,{open:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsxs)(It.a,{sx:M,children:[Object(dt.jsx)(In,{machine:O}),Object(dt.jsx)(_t.a,{onClick:function(){m(!1)},style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},color:"primary",children:Object(dt.jsx)(Ut.a,{})})]})})})]})})})})})},ia=function(){var e=A();return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:Object(Yt.a)(e.pageCard,e.noNavBarMargin),children:Object(dt.jsx)(Mt.a,{container:!0,style:{height:"100%"},alignItems:"center",justifyContent:"center",children:Object(dt.jsx)(Mt.a,{container:!0,item:!0,spacing:8,justifyContent:"center",children:Object(dt.jsx)(Mt.a,{item:!0,children:Object(dt.jsx)(Kt.a,{size:200})})})})})})})})},ca=n(622),sa=n.p+"static/media/Iniciar sesio\u0301n-1.0c206597.png",oa=n.p+"static/media/ICV-transparent.a120acf7.png",la=function(){var e=A(),t=function(){return Object(dt.jsxs)(Sn.a,{elevation:0,className:Object(Yt.a)(e.pageCard,e.noNavBarMargin),children:[Object(dt.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(dt.jsx)("img",{src:oa,height:100,alt:""}),Object(dt.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(dt.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),Object(dt.jsx)("p",{style:{fontSize:"2em",marginBottom:0},children:"Iniciar sesi\xf3n"}),Object(dt.jsxs)("p",{style:{fontSize:10,marginTop:0},children:[" ",F.version," "]})]}),Object(dt.jsx)(zt,{})]})};Object(r.useEffect)((function(){n()}),[]);var n=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent).length>0&&t.forEach((function(e,t){"3Ds"===e.name||"MachinesParts"===e.name||window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(dt.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(dt.jsx)(ca.a,{smDown:!0,children:Object(dt.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:t()})}),Object(dt.jsx)(ca.a,{smDown:!0,children:Object(dt.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:Object(dt.jsx)("img",{src:sa,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(dt.jsx)(ca.a,{mdUp:!0,children:Object(dt.jsx)("div",{children:t()})})]})},da=(n(528),function(e){return new Promise((function(t){ge(e).then((function(e){console.log(e.data);var n=new Array;n=0==e.data.length?[]:e.data,t(n)}))}))}),ua=function(e){return new Promise(function(){var t=Object(d.a)(l.a.mark((function t(n){var a,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={reportId:e,createdBy:localStorage.getItem("_id")},t.next=3,Oe(a);case 3:return r=t.sent,t.next=6,Ze.initDb();case 6:if(!(i=t.sent)){t.next=10;break}return t.next=10,Ze.actualizar(r.data[0],i.database);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},ja=function(){return new Promise((function(e){V().then((function(t){console.log(t.data),e(t.data)})).catch((function(e){console.log(e)}))}))},ba=function(e){return new Promise((function(t){K(e).then((function(e){t(e.data)})).catch((function(e){}))}))},ha=function(e){return new Promise((function(t){X(e).then((function(e){t(e.data)})).catch((function(e){}))}))},ma=function(e,t){return new Promise((function(n){H().then((function(a){"admin"!==localStorage.getItem("role")&&"sapExecutive"!==localStorage.getItem("role")||(localStorage.setItem("sitio",JSON.stringify(a.data[0])),setTimeout((function(){e(!1),t("Sin notificaciones")}),500)),n(a.data)})).catch((function(e){}))}))},ga=function(){var e=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(d.a)(l.a.mark((function e(a){var r,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=15;break}return r=[],e.next=4,ma(t,n);case 4:return r=e.sent,e.next=7,Te.initDbObras();case 7:if(!(i=e.sent)){e.next=13;break}return e.next=11,Te.consultar(i.database);case 11:(c=e.sent)&&(r.length==c.length?a({state:!0,data:"reload"}):a({state:!0,data:"full"}));case 13:e.next=16;break;case 15:a(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pa={getAssignments:function(e){return new Promise(function(){var t=Object(d.a)(l.a.mark((function t(n){var a,r,i,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new Array,"maintenceOperator"!==localStorage.getItem("role")&&"inspectionWorker"!==localStorage.getItem("role")){t.next=7;break}return t.next=4,da(localStorage.getItem("_id"));case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,new Promise((function(e){be().then((function(t){console.log(t.data),e(t.data)}))}));case 9:a=t.sent;case 10:return console.log(a),r=0,i=100/a.length,t.next=15,Ge.initDbReports();case 15:c=t.sent,0==a.length&&n(!0),c&&a.forEach(function(){var t=Object(d.a)(l.a.mark((function t(s,o){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(r+=i),console.log(s),s.idDatabase=o,Ge.actualizar(s,c.database),ua(s._id),console.log(o,a.length),o==a.length-1&&(e(100),console.log(!0),setTimeout((function(){n(!0)}),100));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},descargarPautas:function(e){return e(0),new Promise(function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ja();case 2:a=t.sent,console.log("Pautas: ",a),a&&a.forEach(function(){var t=Object(d.a)(l.a.mark((function t(r,i){var c,s,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(r),c=0,s=100/a.length/3,t.next=5,ba(r);case 5:o=t.sent,r.header=o,console.log(r.header),r.id=i,"Pauta de Inspecci\xf3n"===r.typepm?r.action="Inspecci\xf3n":r.action="Mantenci\xf3n",i==a.length-1&&(e(c+=s),a.forEach(function(){var t=Object(d.a)(l.a.mark((function t(r,i){var o,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(c+=s),t.next=4,ha(r);case 4:if(o=t.sent,r.struct=o,i!=a.length-1){t.next=11;break}return t.next=9,Ee.initDbPMs();case 9:(u=t.sent)&&a.forEach(function(){var t=Object(d.a)(l.a.mark((function t(r,i){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(c+=s),t.next=4,Ee.actualizar(r,u.database);case 4:i==a.length-1&&(e(100),n({progress:100,state:!0}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getSites:function(e,t,n){return e(0),new Promise(function(){var a=Object(d.a)(l.a.mark((function a(r){var i,c,s,o;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=[],a.next=3,ma(t,n);case 3:return i=a.sent,a.next=6,Te.initDbObras();case 6:(c=a.sent)&&(s=0,o=100/i.length,i.forEach(function(){var t=Object(d.a)(l.a.mark((function t(n,a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(s+=o),n.id=a,t.next=5,Te.actualizar(n,c.database,c.database.version);case 5:if(a!==i.length-1){t.next=10;break}return t.next=8,Te.consultar(c.database);case 8:t.sent&&r(!0);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},getSitesList:ma,setIfNeedReadDataAgain:ga,getPautasInstepctList:function(e,t){e(0);var n=0,a=100/t.length,r=[];return new Promise((function(i){t.forEach(function(){var c=Object(d.a)(l.a.mark((function c(s,o){var d,u,j,b;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e(n+=a),c.next=4,pe(s.idpminspeccion);case 4:return(d=c.sent).data[0].typepm&&(d.data[0].typepm=encodeURIComponent(d.data[0].typepm)),c.next=8,K(d.data[0]);case 8:return u=c.sent,c.next=11,X(d.data[0]);case 11:j=c.sent,(b=d.data[0]).header=u,b.struct=j,b.action="Inspecci\xf3n",r.push(b),o==t.length-1&&(i(r),e(100));case 18:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}())}))},getPautasMaintenanceList:function(e,t){e(0);var n=0,a=100/t.length,r=[];return new Promise((function(i){t.forEach(function(){var c=Object(d.a)(l.a.mark((function c(s,o){var d,u,j,b;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e(n+=a),c.next=4,pe(s.idpmmantencion);case 4:return(d=c.sent).data[0].typepm=encodeURIComponent(d.data[0].typepm),c.next=8,K(d.data[0]);case 8:return u=c.sent,c.next=11,X(d.data[0]);case 11:j=c.sent,(b=d.data[0]).header=u,b.struct=j,b.action="Mantenci\xf3n",r.push(b),o==t.length-1&&(i(r),e(100));case 18:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}())}))}},fa=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.indexedDB.databases();case 2:(t=e.sent).length>0&&t.forEach((function(e,t){"3Ds"===e.name||"MachinesParts"===e.name||window.indexedDB.deleteDatabase(e.name)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xa=function(e,t,n,a,r,i,c,s){localStorage.getItem("sitio")?e(!1):t("Para navegar en la aplicaci\xf3n debe seleccionar una obra"),"admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")?a(!1):(n('Solo Roles "Admin" o "Ejecutivo SAP" puede administrar usuarios.'),"maintenceOperator"===localStorage.getItem("role")?r(!1):r(!0),"inspectionWorker"===localStorage.getItem("role")?i(!1):i(!0)),localStorage.getItem("version")&&localStorage.getItem("version")!=F.version&&(alert("Plataforma requiere actualizaci\xf3n. Se cerrar\xe1 sesi\xf3n para actualizar el servicio."),window.localStorage.clear(),window.location.reload(),fa()),s(function(e){var t,n=new Date(e).getDay();1==n?t="Lunes":2==n?t="Martes":3==n?t="Miercoles":4==n?t="Jueves":5==n?t="Viernes":6==n?t="Sabado":0==n&&(t="Domingo");var a,r=new Date(e).getDate(),i=new Date(e).getMonth();return 0==i?a="Enero":1==i?a="Febrero":2==i?a="Marzo":3==i?a="Abril":4==i?a="Mayo":5==i?a="Junio":6==i?a="Julio":7==i?a="Agosto":8==i?a="Septiembre":9==i?a="Octubre":10==i?a="Noviembre":11==i&&(a="Diciembre"),(t+" "+r+" DE "+a).toUpperCase()}(Date.now()));var o=setInterval((function(){c(function(e){var t,n=new Date(e).getMinutes(),a=new Date(e).getHours();return t=n<10?"0"+n:n,"".concat(a<10?"0"+a:a,":").concat(t)}(Date.now()))}),100);return function(){return clearInterval(o)}},Oa=n(20),va=[{brand:"CATERPILLAR",model:"793-F",type:"camion",group:"camiones",files:[{name:"Preview"},{name:"Preview_Con_Texturas"},{name:"Cabina"},{name:"Chasis"},{name:"Eje"},{name:"Estructura"},{name:"Frenos"},{name:"Maza"},{name:"Motor"},{name:"Neumaticos"},{name:"Sistema_direccion"},{name:"Sistema_hidraulico"},{name:"Sistema_neumatico"},{name:"Suspension"},{name:"Transmision"}]},{brand:"KOMATSU",model:"PC5500",type:"pala",group:"palas",files:[{name:"Cabina"},{name:"Chasis"},{name:"Electrico"},{name:"Estructura"},{name:"Implemento"},{name:"Mando_de_giro"},{name:"Mando_final"},{name:"Motor"},{name:"Preview"},{name:"PTO"},{name:"Sistema_hidraulico"},{name:"Sistema_rodado"}]}],ya=function(){var e=Object(d.a)(l.a.mark((function e(t,n,a,r){var i,c,s,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){var e=Object(d.a)(l.a.mark((function e(c,s,o){var u,j,b,h,m,g,p,f,x,O,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a("Modelos 3D deber\xe1n ser descargados."),u=Number(c),new Array,u!=s.length){e.next=8;break}setTimeout((function(){t(100),a("Recursos descargados"),setTimeout((function(){n(!1),setTimeout((function(){localStorage.getItem("version")||(r(!0),localStorage.setItem("version",F.version))}),500)}),1e3)}),1e3),e.next=19;break;case 8:return j=s[u],b=j.model,h=j.brand,m=j.type,g=j.name,a("Descargando modelo 3D de ".concat(g,", ").concat(h," ").concat(b)),e.next=12,fetch("".concat(F.storageURL).concat(s[u].url));case 12:p=e.sent,f=p.body.getReader(),x=+p.headers.get("Content-Length"),O=0,v=[],t(0),setTimeout(Object(d.a)(l.a.mark((function e(){var n,a,r,c,d,j,p,y;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,f.read();case 3:if(!(n=e.sent).done){e.next=22;break}a=new Uint8Array(O),r=0,c=Object(Oa.a)(v);try{for(c.s();!(d=c.n()).done;)j=d.value,a.set(j,r),r+=j.length}catch(l){c.e(l)}finally{c.f()}if(p=new TextDecoder("utf-8").decode(a),!o){e.next=21;break}return e.next=13,Fe.actualizar({id:u,model:b,brand:h,type:m,name:g,nameModel:"".concat(g,"_").concat(b),data:p},o.database);case 13:if(!e.sent){e.next=21;break}return e.next=17,Qe.initDb();case 17:y=e.sent,Qe.actualizar({id:u,model:b,brand:h,type:m,name:g,nameModel:"".concat(g,"_").concat(b)},y.database),i(u+=1,s,o);case 21:return e.abrupt("break",27);case 22:v.push(n.value),O+=n.value.length,t(100*O/x),e.next=0;break;case 27:case"end":return e.stop()}}),e)}))),1e3);case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),c=function(){return new Promise((function(e){var t=new Array;t=va;var n=new Array;n=[],t.forEach((function(a,r){a.files.forEach((function(e,t){var r="maquinas/".concat(a.group,"/").concat(a.brand.toUpperCase(),"/").concat(a.brand.toUpperCase(),"_").concat(a.model,"_").concat(e.name,".gltf");n.push({name:e.name,brand:a.brand,model:a.model,type:a.type,url:r})})),r===t.length-1&&e(n)}))}))},e.next=4,Fe.initDb3DFiles();case 4:return s=e.sent,e.next=7,Fe.consultar(s.database);case 7:if(o=e.sent,console.log(o),!(o.length>0)){e.next=14;break}a("Modelos 3D descargados."),setTimeout((function(){t(100),setTimeout((function(){n(!1)}),1e3)}),1e3),e.next=20;break;case 14:return u=new Array,e.next=17,c();case 17:u=e.sent,0,i(0,u,s);case 20:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),wa=function(){var e=Object(d.a)(l.a.mark((function e(t,n,a,r,i,c,s,o,u,j){var b,h,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pa.setIfNeedReadDataAgain(s,o);case 2:if(b=e.sent,h=localStorage.getItem("role"),!b.state){e.next=22;break}if("full"!==b.data){e.next=19;break}if(t(!0),"admin"!==h&&"superAdmin"!==h&&"sapExecutive"!==h){e.next=11;break}setTimeout(Object(d.a)(l.a.mark((function e(){var j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("Descargando pautas de mantenimiento e inspecci\xf3n."),e.next=3,pa.descargarPautas(r);case 3:j=e.sent,console.log(j),j.state&&setTimeout(Object(d.a)(l.a.mark((function e(){var j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("Descargando datos de las obras."),e.next=3,pa.getSites(r,s,o);case 3:j=e.sent,setTimeout(Object(d.a)(l.a.mark((function e(){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=10;break}return n("Descargando datos de las m\xe1quinas."),r(65),e.next=5,a();case 5:s=e.sent,console.log(s),setTimeout(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=9;break}return n("Descargando lista de las m\xe1quinas de las obras."),r(100),e.next=5,i();case 5:e.sent&&(ya(r,t,n,u),c()),e.next=10;break;case 9:t(!1);case 10:case"end":return e.stop()}}),e)}))),1e3),e.next=11;break;case 10:t(!1);case 11:case"end":return e.stop()}}),e)}))),1e3);case 5:case"end":return e.stop()}}),e)}))),1e3);case 6:case"end":return e.stop()}}),e)}))),500),e.next=17;break;case 11:return n("Descargando pautas de mantenimiento e inspecci\xf3n."),e.next=14,pa.descargarPautas(r);case 14:m=e.sent,console.log(m),m.state&&setTimeout(Object(d.a)(l.a.mark((function e(){var j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("Descargando datos de las obras."),e.next=3,pa.getSites(r,s,o);case 3:j=e.sent,setTimeout(Object(d.a)(l.a.mark((function e(){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=10;break}return n("Descargando datos de las m\xe1quinas."),r(65),e.next=5,a();case 5:s=e.sent,console.log(s),setTimeout(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=9;break}return n("Descargando lista de las m\xe1quinas de las obras."),r(100),e.next=5,i();case 5:e.sent&&(ya(r,t,n,u),c()),e.next=10;break;case 9:t(!1);case 10:case"end":return e.stop()}}),e)}))),1e3),e.next=11;break;case 10:t(!1);case 11:case"end":return e.stop()}}),e)}))),1e3);case 5:case"end":return e.stop()}}),e)}))),1e3);case 17:e.next=20;break;case 19:b.data;case 20:e.next=23;break;case 22:t(!1);case 23:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,c,s,o,l,d){return e.apply(this,arguments)}}(),Sa=function(){var e=Object(r.useState)(""),t=Object(rt.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),c=Object(rt.a)(i,2),s=c[0],o=c[1],j=Object(r.useState)(!1),b=Object(rt.a)(j,2),h=b[0],m=b[1],g=Object(r.useState)(!1),p=Object(rt.a)(g,2),f=p[0],x=p[1],O=Object(r.useState)(0),v=Object(rt.a)(O,2),y=v[0],w=v[1],S=Object(r.useState)(""),C=Object(rt.a)(S,2),k=C[0],I=C[1],A=Object(r.useState)(!0),D=Object(rt.a)(A,2),R=D[0],N=D[1],B=Object(r.useState)(!0),E=Object(rt.a)(B,2),M=E[0],T=E[1],P=Object(r.useState)(!1),F=Object(rt.a)(P,2),z=(F[0],F[1]),L=Object(r.useState)(!1),W=Object(rt.a)(L,2),U=(W[0],W[1]),J=Object(r.useState)(!0),Y=Object(rt.a)(J,2),G=Y[0],_=Y[1],Q=Object(r.useState)("Sin notificaciones"),H=Object(rt.a)(Q,2),V=H[0],K=H[1],X=Object(r.useState)("Sin notificaciones"),$=Object(rt.a)(X,2),ee=$[0],te=$[1],ne=Object(r.useState)(!0),ae=Object(rt.a)(ne,2),re=ae[0],ie=ae[1];Object(u.f)();window.addEventListener("online",(function(){_(!0);var e=Number(localStorage.getItem("timeOffline"));Date.now()<e+216e5&&(localStorage.setItem("revisado",!0),localStorage.removeItem("timeOffline"))})),window.addEventListener("offline",(function(){_(!1),localStorage.getItem("timeOffline")||ce(Date.now())}));var ce=function(e){localStorage.setItem("timeOffline",e),localStorage.setItem("revisado",!1)},se=function(){localStorage.setItem("ultimaActualizacion",Date.now())};Object(r.useEffect)((function(){return re&&oe(),function(){return ie(!1)}}),[re]);var oe=function(){wa(m,I,de,w,le,se,N,K,x,G),xa(N,K,te,T,z,U,o,a)},le=function(){return new Promise(function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,be();case 3:return n=e.sent,e.next=6,Le.initDbMachines();case 6:(a=e.sent)&&n.forEach(function(){var e=Object(d.a)(l.a.mark((function e(r,i){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.id=i,e.next=3,Le.actualizar(r,a.database);case 3:if(i!==n.length-1){e.next=8;break}return e.next=6,Le.consultar(a.database);case 6:(c=e.sent)&&(pa.getPautasInstepctList(w,c),t(c));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},de=function(){return new Promise(function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,je();case 3:return n=e.sent,console.log(n),e.next=7,Ne.initDbMachines();case 7:a=e.sent,console.log(a),a&&n.forEach(function(){var e=Object(d.a)(l.a.mark((function e(r,i){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r),r.id=i,(c=new XMLHttpRequest).onload=Object(d.a)(l.a.mark((function e(){var s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((s=new FileReader).onload=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We();case 2:if(!(t=e.sent)){e.next=7;break}return n={id:i,data:s.result.replace("data:","")},e.next=7,Je(n,t.database);case 7:return e.next=9,Ne.actualizar(r,a.database);case 9:e.sent;case 10:case"end":return e.stop()}}),e)}))),s.readAsDataURL(c.response),i!=n.length-1){e.next=9;break}return e.next=6,ue(n);case 6:o=e.sent,console.log(o),t(o);case 9:case"end":return e.stop()}}),e)}))),c.open("GET","/assets/".concat(r.model,".png")),c.responseType="blob",c.send();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},ue=function(e){return new Promise(function(){var t=Object(d.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne.initDbMachines();case 2:a=t.sent;case 3:return t.next=5,Ne.consultar(a.database);case 5:r=t.sent;case 6:if(r.length<e.length){t.next=3;break}case 7:r.length===e.length&&n(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},je=function(){return new Promise((function(e){Z().then((function(t){e(t.data)})).catch((function(e){console.log("Error",e)}))}))},be=function(){return new Promise((function(e){q().then((function(t){e(t.data)}))}))};return Object(dt.jsxs)("div",{children:[Object(dt.jsxs)("div",{className:"container",children:[Object(dt.jsx)(Mt.a,{container:!0,spacing:5,children:Object(dt.jsx)("div",{children:Object(dt.jsxs)("p",{className:"titulo",children:["Hola ",localStorage.getItem("name")," \xbfPor d\xf3nde quieres comenzar hoy?"]})})}),Object(dt.jsxs)(Mt.a,{container:!0,spacing:5,children:[Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(dt.jsxs)("div",{className:"notificaciones reloj",children:[Object(dt.jsxs)("p",{className:"reloj-fecha",children:[" ",n," "]}),Object(dt.jsxs)("p",{className:"reloj-hora",children:[" ",s," hs "]})]})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(dt.jsx)("div",{className:"notificaciones alertas",children:Object(dt.jsxs)("p",{className:"notificaciones-texto",children:[" ",V," "]})})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:6,lg:4,children:Object(dt.jsx)("div",{className:"notificaciones alertas",children:Object(dt.jsxs)("p",{className:"notificaciones-texto",children:[" ",ee]})})})]}),Object(dt.jsx)("br",{}),Object(dt.jsxs)(Mt.a,{container:!0,spacing:5,children:[Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(dt.jsx)(ea,{variant:"assignment",disableButton:R})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(dt.jsx)(ea,{variant:"machines",disableButton:R})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(dt.jsx)(ea,{variant:"reports",disableButton:M})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(dt.jsx)(ea,{variant:"administration",disableButton:M})})]})]}),Object(dt.jsx)(Xt,{open:h,progress:y,loadingData:k,withProgress:!0}),Object(dt.jsx)($t,{open:f,closeModal:function(){x(!1)}})]})},Ca=function(){var e=A(),t=function(){return Object(dt.jsxs)(Sn.a,{elevation:0,className:Object(Yt.a)(e.pageCard,e.noNavBarMargin),children:[Object(dt.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(dt.jsx)("img",{src:oa,height:100,alt:""}),Object(dt.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(dt.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]}),Object(dt.jsx)("p",{style:{fontSize:"2em"},children:"Recuperar Contrase\xf1a"})]}),Object(dt.jsx)(vn,{})]})};return Object(dt.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(dt.jsx)(ca.a,{smDown:!0,children:Object(dt.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:t()})}),Object(dt.jsx)(ca.a,{smDown:!0,children:Object(dt.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:Object(dt.jsx)("img",{src:sa,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(dt.jsx)(ca.a,{mdUp:!0,children:Object(dt.jsx)("div",{children:t()})})]})},ka=function(){var e=Object(u.h)().id,t=A(),n=function(){return Object(dt.jsxs)(Sn.a,{elevation:0,className:Object(Yt.a)(t.pageCard,t.noNavBarMargin),children:[Object(dt.jsxs)("div",{style:{textAlign:"center",width:"100%",marginTop:60},children:[Object(dt.jsx)("img",{src:oa,height:100,alt:""}),Object(dt.jsxs)("p",{style:{marginTop:0,fontSize:6.5,textDecoration:"underline"},children:[" ",Object(dt.jsx)("strong",{children:"INGENIER\xcdA CIVIL VICENTE"})," "]})]}),Object(dt.jsx)(wn,{id:e})]})};return Object(dt.jsxs)("div",{style:{height:"100%",display:"block"},children:[Object(dt.jsx)(ca.a,{smDown:!0,children:Object(dt.jsx)("div",{style:{float:"left",width:"50%",height:"100%"},children:n()})}),Object(dt.jsx)(ca.a,{smDown:!0,children:Object(dt.jsx)("div",{style:{float:"left",width:"50%",height:"100vh",display:"block"},children:Object(dt.jsx)("img",{src:sa,style:{objectFit:"cover",width:"100%",height:"100%"}})})}),Object(dt.jsx)(ca.a,{mdUp:!0,children:Object(dt.jsx)("div",{children:n()})})]})},Ia=function(){var e=Object(r.useState)([]),t=Object(rt.a)(e,2),n=(t[0],t[1],Object(r.useState)([])),a=Object(rt.a)(n,2),i=(a[0],a[1]);Object(r.useEffect)((function(){Z().then((function(e){e.data&&i(e.data)}))}),[]);return Object(dt.jsx)(It.a,{children:Object(dt.jsx)("div",{children:Object(dt.jsx)("h1",{children:"Hello!!"})})})},Aa=n(610),Da=Object(S.a)((function(e){return{root:{"& :-webkit-autofill":{"-webkit-transition-delay":"9999s","-webkit-transition":"color 9999s ease-out, background-color 9999s ease-out"}},lightVariant:{"& .Mui-focused":{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"white!important"}},"& .MuiInputBase-input":{color:"white"}},darkVariant:{"& .Mui-focused .MuiInputAdornment-root":{color:e.palette.primary.main}}}})),Ra=function(e){var t=e.value,n=e.onChange,a=e.lightVariant,r=e.fullWidth,i=Ot().dictionary,c=Da();return Object(dt.jsx)(Tt.a,{className:Object(Yt.a)(c.root,a?c.lightVariant:c.darkVariant),fullWidth:r,type:"text",name:"filter",label:i.components.fields.filter.toLocaleUpperCase(),value:t,onChange:n,variant:"outlined",InputProps:{endAdornment:Object(dt.jsx)(Aa.a,{position:"end",children:Object(dt.jsx)(Rt.a,{icon:Dt.s})})}})},Na=Object(S.a)((function(e){return{root:{padding:20,backgroundColor:"rgba(0, 0, 0, 0)",border:"5px solid gray",borderRadius:0,boxShadow:"none"},fichaText:{fontSize:"1.2rem",color:e.palette.primary.main},name:{fontWeight:"bold"}}})),Ba=function(){var e=A(),t=Na(),n=Object(r.useState)(""),a=Object(rt.a)(n,2),i=a[0],c=a[1];return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:e.pageCard,children:Object(dt.jsxs)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(dt.jsx)(Mt.a,{container:!0,item:!0,xs:12,justifyContent:"flex-end",children:Object(dt.jsx)(Ra,{value:i,onChange:function(e){c(e.target.value)}})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,children:Object(dt.jsx)("div",{className:e.pageTitle,children:"DIVISIONES"})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:t.root,children:Object(dt.jsxs)(Mt.a,{container:!0,item:!0,alignContent:"center",spacing:2,children:[Object(dt.jsxs)(Mt.a,{item:!0,xs:12,md:6,children:[Object(dt.jsx)("div",{className:Object(Yt.a)(t.name,t.fichaText),children:"NOMBRE TIPO"}),Object(dt.jsx)("div",{className:t.fichaText,children:"MODELO"}),Object(dt.jsx)("div",{className:t.fichaText,children:"INFORMACI\xd3N"}),Object(dt.jsx)("div",{className:t.fichaText,children:"\xdaLTIMA INSPECCI\xd3N"})]}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,md:6,children:Object(dt.jsx)("div",{style:{height:120,width:"100%"}})})]})})})]})})})})})},Ea=n(627),Ma=[{color:"#27AE60",name:"Completadas",button:"Detalle",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",number:null},{color:"#DE4343",name:"Asignar",button:"Detalle",number:null}],Ta=[{color:"#27AE60",name:"Completadas",button:"Detalle",number:null},{color:"#F2C94C",name:"Por cerrar",button:"Detalle",number:null},{color:"#F2994A",name:"En proceso",button:"Detalle",number:null},{color:"#DE4343",name:"Asignar",button:"Detalle",number:null}],Pa=(n(380),function(){var e=Object(r.useState)([]),t=Object(rt.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),c=Object(rt.a)(i,2),s=c[0],o=c[1],j=Object(r.useState)(!1),b=Object(rt.a)(j,2),h=(b[0],b[1]),m=Object(r.useState)(0),g=Object(rt.a)(m,2),p=g[0],f=g[1],x=Object(r.useState)(0),O=Object(rt.a)(x,2),v=O[0],y=O[1],w=Object(r.useState)(0),S=Object(rt.a)(w,2),C=S[0],k=S[1],I=Object(r.useState)(0),D=Object(rt.a)(I,2),R=D[0],N=D[1],B=Object(r.useState)([]),E=Object(rt.a)(B,2),M=E[0],T=E[1],P=Object(r.useState)(!0),F=Object(rt.a)(P,2),z=F[0],L=F[1],W=Object(r.useState)(!0),U=Object(rt.a)(W,2),J=U[0],Y=U[1],G=Object(u.f)();A();Object(r.useEffect)((function(){return G&&_(),J&&setTimeout((function(){navigator.onLine||(alert("Problemas de red. Revise su conexi\xf3n."),G.goBack())}),1e3),function(){return Y(!1)}}),[J]);var _=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ke(),e.next=3,fe(t[0],t[1],"Inspecci\xf3n");case 3:return n=e.sent,e.next=6,fe(t[0],t[1],"Mantenci\xf3n");case 6:r=e.sent,y(n.data.length),N(r.data.length),Ma.map(function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t.name,"Inspecci\xf3n");case 2:r=e.sent,i=[],r.data.length>0?(t.number=r.data.length,r.data.map(function(){var e=Object(d.a)(l.a.mark((function e(n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Asignar"===n.state&&i.push(n),e.next=3,Z(n.site);case 3:n.siteName=e.sent,xe(n.machine).then((function(e){n.hourMeter=Number(e.data[0].hourMeter)/36e5})),a==r.data.length-1&&(t.lista=r.data.reverse(),f(i.length));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())):(t.lista=[],t.number=0),n==Ma.length-1&&a(Ma);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ta.map(function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t.name,"Mantenci\xf3n");case 2:a=e.sent,r=[],a.data.length>0?(t.number=a.data.length,a.data.map(function(){var e=Object(d.a)(l.a.mark((function e(n,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Asignar"===n.state&&r.push(n),e.next=3,Z(n.site);case 3:n.siteName=e.sent,xe(n.machine).then((function(e){n.hourMeter=Number(e.data[0].hourMeter)/36e5})),i==a.data.length-1&&(t.lista=a.data.reverse(),k(r.length));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())):(t.lista=[],t.number=0),n==Ta.length-1&&o(Ta);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),"admin"!==localStorage.getItem("role")&&"sapExecutive"!==localStorage.getItem("role")||h(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){return new Promise((function(t){Te.initDbObras().then((function(n){Te.consultar(n.database).then((function(n){n.forEach((function(n){n.idobra===e&&t(n.descripcion)}))}))}))}))},q=function(e){L(!1),T(e)};return Object(dt.jsxs)("div",{className:"container-width",children:[Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){G.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Ordenes"}),Object(dt.jsx)(At.a,{onClick:function(){G.push("/reports/create-report")},title:"Nuevo reporte",style:{position:"absolute",right:10,color:"#333"},children:"Nueva orden"})]})})}),Object(dt.jsxs)(Mt.a,{container:!0,children:[Object(dt.jsxs)(Mt.a,{item:!0,xs:12,sm:12,md:5,lg:4,xl:3,children:[Object(dt.jsxs)("div",{className:"menu-card",children:[Object(dt.jsx)("h3",{children:"Inspecciones"}),Object(dt.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(dt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(dt.jsx)("p",{style:{fontSize:32,margin:0},children:p})}),Object(dt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(dt.jsx)("p",{style:{fontSize:10,margin:0},children:"Inspecciones por asignar"})})]}),Object(dt.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(dt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(dt.jsxs)("p",{style:{fontSize:32,margin:0},children:[v," "]})}),Object(dt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(dt.jsx)("p",{style:{fontSize:10,margin:0},children:"Inspecciones completadas en la semana"})})]}),Object(dt.jsx)("div",{style:{paddingLeft:10,paddingRight:10,marginTop:"10vh"},children:n.map((function(e,t){return Object(dt.jsxs)(Mt.a,{container:!0,style:{height:"5vh"},children:[Object(dt.jsx)(Mt.a,{item:!0,style:{width:"15%"},children:Object(dt.jsx)(Rt.a,{icon:Dt.c,size:"2x",style:{marginRight:10},color:e.color})}),Object(dt.jsx)(Mt.a,{item:!0,style:{width:"30%"},children:Object(dt.jsx)("p",{style:{margin:0},children:e.name})}),Object(dt.jsx)(Mt.a,{item:!0,style:{width:"15%"},children:Object(dt.jsx)(Ea.a,{label:e.number,style:{marginLeft:10,marginRight:10}})}),Object(dt.jsx)(Mt.a,{item:!0,style:{width:"40%",textAlign:"right"},children:Object(dt.jsx)("button",{onClick:function(){return q(e.lista)},style:{position:"relative",right:5,width:80,height:30,borderRadius:20},children:e.button})})]},t)}))})]}),Object(dt.jsxs)("div",{className:"menu-card",children:[Object(dt.jsx)("h3",{children:"Mantenciones"}),Object(dt.jsxs)("div",{style:{float:"left",width:"calc(45%)",marginRight:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(dt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(dt.jsx)("p",{style:{fontSize:32,margin:0},children:C})}),Object(dt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(dt.jsx)("p",{style:{fontSize:10,margin:0},children:"Mantenciones por asignar"})})]}),Object(dt.jsxs)("div",{style:{float:"right",width:"calc(45%)",marginLeft:5,padding:10,backgroundColor:"#fff",borderRadius:10},children:[Object(dt.jsx)("div",{style:{float:"left",width:"30%"},children:Object(dt.jsxs)("p",{style:{fontSize:32,margin:0},children:[R," "]})}),Object(dt.jsx)("div",{style:{float:"left",right:5,width:"60%"},children:Object(dt.jsx)("p",{style:{fontSize:10,margin:0},children:"Mantenciones completadas en la semana"})})]}),Object(dt.jsx)("div",{style:{paddingLeft:10,paddingRight:10,marginTop:"10vh"},children:s.map((function(e,t){return Object(dt.jsxs)(Mt.a,{container:!0,style:{height:"5vh"},children:[Object(dt.jsx)(Mt.a,{item:!0,style:{width:"15%"},children:Object(dt.jsx)(Rt.a,{icon:Dt.c,size:"2x",style:{marginRight:10},color:e.color})}),Object(dt.jsx)(Mt.a,{item:!0,style:{width:"30%"},children:Object(dt.jsx)("p",{style:{margin:0},children:e.name})}),Object(dt.jsx)(Mt.a,{item:!0,style:{width:"15%"},children:Object(dt.jsx)(Ea.a,{label:e.number,style:{marginLeft:10,marginRight:10}})}),Object(dt.jsx)(Mt.a,{item:!0,style:{width:"40%",textAlign:"right"},children:Object(dt.jsx)("button",{onClick:function(){return q(e.lista)},style:{position:"relative",right:5,width:80,height:30,borderRadius:20},children:e.button})})]},t)}))})]})]}),Object(dt.jsxs)(Mt.a,{item:!0,xs:12,sm:12,md:7,lg:8,xl:9,children:[z&&Object(dt.jsxs)("div",{children:[Object(dt.jsx)("img",{style:{margin:0,position:"absolute",top:"50%",left:"calc(100%/1.53)",msTransform:"translateY(-50%)",transform:"translateY(-50%)"},src:"../../assets/icons/Arrow.svg",alt:""}),Object(dt.jsx)("div",{style:{textAlign:"center",position:"absolute",top:"55%",left:"calc(100%/1.6)"},children:Object(dt.jsxs)("p",{children:["Selecciona una opci\xf3n ",Object(dt.jsx)("br",{})," para ver el detalle"]})})]}),!z&&Object(dt.jsx)("div",{style:{height:"calc(100% - 50px)",display:"block",overflowY:"auto"},children:Object(dt.jsx)(Zn,{list:M,reloadData:function(){location.reload()}})})]})]})]})}),Fa=function(){var e=Object(r.useState)([]),t=Object(rt.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),c=Object(rt.a)(i,2),s=c[0],o=c[1],j=Object(r.useState)([]),b=Object(rt.a)(j,2),h=b[0],m=b[1],g=Object(r.useState)(""),p=Object(rt.a)(g,2),f=p[0],x=p[1],O=Object(r.useState)(),v=Object(rt.a)(O,2),w=v[0],S=v[1],C=Object(r.useState)(),k=Object(rt.a)(C,2),I=k[0],D=k[1],R=Object(r.useState)(),N=Object(rt.a)(R,2),B=N[0],E=N[1],M=Object(r.useState)(),T=Object(rt.a)(M,2),P=T[0],F=T[1],z=Object(r.useState)(),L=Object(rt.a)(z,2),W=L[0],U=L[1],J=Object(r.useState)(!0),Y=Object(rt.a)(J,2),G=Y[0],_=Y[1],Z=Object(r.useState)(!1),q=Object(rt.a)(Z,2),H=q[0],K=q[1],X=Object(r.useState)(!0),$=Object(rt.a)(X,2),ee=$[0],te=$[1],ne=Object(r.useState)(0),ae=Object(rt.a)(ne,2),re=ae[0],ie=ae[1],ce=Object(r.useState)(""),se=Object(rt.a)(ce,2),oe=se[0],ue=se[1],he=Object(r.useState)(""),me=Object(rt.a)(he,2),ge=me[0],pe=me[1],fe=Object(r.useState)(""),xe=Object(rt.a)(fe,2),Oe=xe[0],ve=xe[1],ye=Object(r.useState)(""),we=Object(rt.a)(ye,2),Se=we[0],Ce=we[1],ke=Object(r.useState)(""),Ie=Object(rt.a)(ke,2),Ae=Ie[0],De=Ie[1],Re=Object(r.useState)(""),Be=Object(rt.a)(Re,2),Me=Be[0],Te=Be[1],Pe=Object(r.useState)(!0),Fe=Object(rt.a)(Pe,2),ze=(Fe[0],Fe[1],Object(r.useState)("")),We=Object(rt.a)(ze,2),Ue=We[0],Je=We[1],Ye=A(),Ge=Object(u.f)(),_e=Object(u.h)().id,Ze=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return _(!0),K(!0),e.next=5,Ke();case 5:n=e.sent,a=n.filter((function(e,t){if(e.header[3].typeDataDesc===f&&e.action.includes(I))return e})),o(a),setTimeout((function(){_(!1),K(!1)}),500);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(e){D(e)},Qe=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(t),e.next=3,Le.initDbMachines();case 3:(n=e.sent)&&Le.consultar(n.database).then((function(e){new Array;var n=e.filter((function(e){if(e.model===t)return e})).sort((function(e,t){return Number(e.equ)-Number(t.equ)}));m(n)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={createdBy:localStorage.getItem("_id"),updatedBy:localStorage.getItem("_id"),state:"Asignar",datePrev:Date.parse(oe),endPrev:Date.parse(ge),machine:P,guide:w,reportType:B},Object(y.a)(t,"machine",JSON.parse(W).equid),Object(y.a)(t,"site",JSON.parse(localStorage.getItem("sitio")).idobra),Object(y.a)(t,"sapId",Me),Object(y.a)(t,"idPm",Ue),(n=t).machine&&n.sapId&&n.guide&&"Selecci\xf3n no cuenta con pautas."!==n.guide&&n.reportType&&"Seleccione..."!==n.reportType){e.next=5;break}alert("Falta informaci\xf3n"),e.next=12;break;case 5:return e.next=7,le(n);case 7:a=e.sent,console.log(a),r={reportId:a.data._id,createdBy:localStorage.getItem("_id")},$e(r),a&&(alert("Reporte ".concat(a.data.idIndex,", para m\xe1quina modelo ").concat(a.data.machine," creado satisfactoriamente.")),Ge.goBack());case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={idIndex:re,updatedBy:localStorage.getItem("_id"),state:"Asignar",datePrev:Date.parse(oe),machine:P,guide:w,reportType:B},Object(y.a)(t,"machine",JSON.parse(W).equid),Object(y.a)(t,"site",JSON.parse(localStorage.getItem("sitio")).idobra),(n=t).machine&&n.guide&&"Selecci\xf3n no cuenta con pautas."!==n.guide&&n.reportType&&"Seleccione..."!==n.reportType){e.next=5;break}alert("Falta informaci\xf3n"),e.next=9;break;case 5:return e.next=7,de(n);case 7:(a=e.sent)&&(alert("Reporte ".concat(a.data.idIndex,", para m\xe1quina modelo ").concat(a.data.machine," editado satisfactoriamente.")),Ge.goBack());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){return new Promise((function(e){Ee.initDbPMs().then(function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.consultar(n.database);case 2:a=t.sent,e(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},Xe=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:t=e.sent,ie(t.data.length);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){Ne.initDbMachines().then(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.consultar(t.database);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),tt(_e),et()}),[]);var et=function(){var e=new Date(Date.now()),t=e.getMonth()+1,n=e.getDate(),a=e.getFullYear();t<10&&(t="0"+t.toString()),n<10&&(n="0"+n.toString()),De(a+"-"+t+"-"+n)},tt=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,r,i,c,s,d,u,j,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke();case 2:if(n=e.sent,!t){e.next=41;break}return a=JSON.parse(t),console.log(a),l=a.reportType,D("Inspecci\xf3n"===l?"PI":"Mantenci\xf3n"===l?"PM":void 0),ie(a.idIndex),r=a.datePrev.toString().replace("T00:00:00.000Z",""),ue(r),E(a.reportType),qe(a.reportType),te(!1),navigator.onLine&&V().then((function(e){console.log(e.data)})),e.next=17,Le.initDbMachines();case 17:return i=e.sent,e.next=20,Le.consultar(i.database);case 20:return c=e.sent,s=new Array,d=(s=c).filter((function(e){if(e.equid===a.machine)return e})),x(d[0].model),u=n.filter((function(e,t){if(e.header[3].typeDataDesc===d[0].model&&e.action===a.reportType)return e})),o(u),S(a.guide),_(!1),j=s.filter((function(e){if(e.model===d[0].model)return d})),e.next=32,Q(d[0].equid);case 32:b=e.sent,ve(Number(b.data[0].hourMeter)/36e5),Ce(d[0].equid),m(j),F(d[0].model),U(JSON.stringify(d[0])),m(j),e.next=42;break;case 41:Xe();case 42:case"end":return e.stop()}var l}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:"root",container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:Ye.pageContainer,item:!0,xs:12,children:Object(dt.jsxs)(Sn.a,{elevation:0,className:Ye.pageCard,children:[Object(dt.jsxs)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(dt.jsx)("div",{className:"navigation-bar",children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){Ge.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:[_e&&"Ordenes / Editar orden de trabajo",!_e&&"Ordenes / Crear nueva orden de trabajo"]})]})})}),Object(dt.jsxs)(Mt.a,{container:!0,className:"form-container",children:[Object(dt.jsxs)(Mt.a,{item:!0,lg:6,children:[Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)(zn.a,{children:[Object(dt.jsx)("p",{children:"#ID"}),Object(dt.jsx)("input",{disabled:!0,value:re,maxLength:12,onBlur:function(){return Ze()},className:Ye.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)(zn.a,{children:[Object(dt.jsx)("p",{children:"ID SAP"}),Object(dt.jsx)("input",{value:Me,onChange:function(e){Te(e.target.value)},maxLength:12,onBlur:function(){return Ze()},className:Ye.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)(zn.a,{children:[Object(dt.jsx)("p",{children:"Fecha Inicio Programado"}),Object(dt.jsx)("input",{value:oe,onChange:function(e){ue(e.target.value)},maxLength:12,onBlur:function(){return Ze()},className:Ye.inputsStyle,type:"date",min:Ae,style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)(zn.a,{children:[Object(dt.jsx)("p",{children:"Fecha T\xe9rmino Programado"}),Object(dt.jsx)("input",{value:ge,onChange:function(e){pe(e.target.value)},maxLength:12,onBlur:function(){return Ze()},className:Ye.inputsStyle,type:"date",min:oe,disabled:!oe,style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(dt.jsxs)("div",{style:{width:"100%"},children:[Object(dt.jsx)("p",{children:"Seleccionar tipo de reporte"}),Object(dt.jsx)(zn.a,{children:Object(dt.jsxs)("select",{onBlur:function(){return Ze(!0)},className:Ye.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){E(e.target.value),qe(e.target.value)},value:B,children:[Object(dt.jsx)("option",{children:"Seleccione..."}),Object(dt.jsx)("option",{children:"Inspecci\xf3n"}),Object(dt.jsx)("option",{children:"Mantenci\xf3n"})]})})]}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)(zn.a,{children:[Object(dt.jsx)("p",{children:"Seleccionar modelo de m\xe1quina"}),Object(dt.jsxs)("select",{onBlur:function(){return Ze(!0)},className:Ye.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){F(e.target.value),_(!1),Qe(e.target.value)},value:P,children:[Object(dt.jsx)("option",{children:"Seleccione..."}),n.map((function(e,t){return Object(dt.jsxs)("option",{value:e.model,children:[e.type," ",e.brand," ",e.model]},t)}))]})]})})]}),Object(dt.jsxs)(Mt.a,{item:!0,lg:6,children:[Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)(zn.a,{children:[Object(dt.jsxs)("p",{children:["Seleccionar Pauta  ",G&&H&&Object(dt.jsx)("b",{children:"ESPERE..."})]}),Object(dt.jsxs)("select",{disabled:G,onBlur:function(){return Ze()},className:Ye.inputsStyle,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){S(e.target.value.split(",")[1]),te(!1),Je(e.target.value.split(",")[0])},value:[Ue,w],children:[Object(dt.jsx)("option",{children:"Seleccione..."}),s.length>0&&s.map((function(e,t){return Object(dt.jsxs)("option",{value:[e.idpm,e.typepm],children:[" ",e.idpm," - ",e.typepm," / ",e.header[1].typeDataDesc," "]},t)})),0==s.length&&Object(dt.jsx)("option",{children:" Selecci\xf3n no cuenta con pautas. "})]})]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)(zn.a,{children:[Object(dt.jsx)("p",{children:"Seleccionar m\xe1quina de obra"}),Object(dt.jsxs)("select",{onBlur:function(){return Ze()},className:Ye.inputsStyle,disabled:ee,name:"userType",id:"userType",style:{width:"100%",minWidth:250,height:44,borderRadius:10,fontSize:20},onChange:function(e){"init"===e.target.value?(ve(""),Ce(""),U("")):(U(e.target.value),Ce(JSON.parse(e.target.value).equid),ve(JSON.parse(e.target.value).hourMeter/36e5))},value:W,defaultValue:"init",children:[Object(dt.jsx)("option",{value:"init",selected:!0,children:"Seleccione..."}),h.sort((function(e,t){return Number(e.equ)-Number(t.equ)})).map((function(e,t){return Object(dt.jsxs)("option",{value:JSON.stringify(e),children:[" ",e.equ," / ",e.type," ",e.brand," - ",e.model," "]},t)}))]})]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)(zn.a,{children:[Object(dt.jsx)("p",{children:"Horas de operaci\xf3n"}),Object(dt.jsx)("input",{disabled:!0,value:Oe,maxLength:12,onBlur:function(){return Ze()},className:Ye.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})}),Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)(zn.a,{children:[Object(dt.jsx)("p",{children:"Equipo ID"}),Object(dt.jsx)("input",{disabled:!0,value:Se,maxLength:12,onBlur:function(){return Ze()},className:Ye.inputsStyle,type:"text",style:{width:"100%",height:44,borderRadius:10,fontSize:20}})]})})]})]})]}),Object(dt.jsxs)(Mt.a,{container:!0,children:[Object(dt.jsx)(Mt.a,{item:!0,lg:6,md:6,sm:!1,xs:!1}),Object(dt.jsx)(Mt.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(dt.jsxs)("div",{style:{width:"100%",paddingTop:30,textAlign:"center"},children:[_e&&Object(dt.jsx)("button",{onClick:function(){return Ve()},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Editar reporte"}),_e&&Object(dt.jsx)("button",{onClick:function(){_e&&confirm("Se borrar\xe1 el reporte permanentemente. \xbfDesea continuar?")&&(console.log(JSON.parse(_e)),je(JSON.parse(_e)._id).then((function(e){alert("Reporte eliminado."),console.log(e),Ge.goBack()})))},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Borrar reporte"}),!_e&&Object(dt.jsx)("button",{onClick:function(){return He()},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Agregar reporte"})]})})]})]})})})})},za=function(){var e=A();return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:e.pageCard,children:[{id:0,description:"Actividad 1 programada",fecha:"12/10/2021"},{id:1,description:"Actividad 1 ejecutada",fecha:"13/10/2021"},{id:2,description:"Actividad 2 programada",fecha:"13/10/2021"},{id:3,description:"Actividad 3 programada",fecha:"14/10/2021"},{id:4,description:"Actividad 2 ejecutada",fecha:"15/10/2021"},{id:5,description:"Actividad 4 programada",fecha:"16/10/2021"},{id:6,description:"Actividad 3 ejecutada",fecha:"16/10/2021"},{id:7,description:"Actividad 4 ejecutada",fecha:"19/10/2021"},{id:8,description:"Actividad 5 programada",fecha:"20/10/2021"},{id:9,description:"Actividad 6 programada",fecha:"20/10/2021"}].reverse().filter((function(e){return e.toString()})).map((function(e){return Object(dt.jsx)(Mt.a,{item:!0,style:{width:"100%",padding:5},children:Object(dt.jsx)("div",{style:{borderRadius:20,backgroundColor:"#fff",padding:10},children:Object(dt.jsxs)("h3",{children:[e.fecha," - ",e.description]})})},e.id)}))})})})})},La=function(){var e=A();return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:e.pageCard})})})})},Wa=function(){var e=A();return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsxs)(Sn.a,{elevation:0,className:e.pageCard,children:[Object(dt.jsx)(Mt.a,{style:{flexShrink:0},children:Object(dt.jsx)("div",{style:{width:"100%",color:"#fff"},children:Object(dt.jsx)("h1",{children:"Configuraci\xf3n"})})}),Object(dt.jsxs)(Mt.a,{container:!0,spacing:1,children:[Object(dt.jsx)("div",{style:{width:"30%"},children:Object(dt.jsxs)("div",{style:{textAlign:"left",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:[Object(dt.jsx)(Qt.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(dt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Perfil"})}),Object(dt.jsx)(Qt.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(dt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Notificaciones"})}),Object(dt.jsx)(Qt.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(dt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Informaci\xf3n"})}),Object(dt.jsx)(Qt.a,{button:!0,style:{width:"100%",textAlign:"left"},children:Object(dt.jsx)("label",{style:{color:"#333",fontSize:20,textAlign:"left",fontWeight:"bold"},children:"Soporte"})})]})}),Object(dt.jsx)("div",{style:{width:"70%",height:"35rem",overflowY:"auto"},children:Object(dt.jsx)("div",{style:{textAlign:"left",height:"100%",width:"100%",backgroundColor:"rgba(255,  255,  255,  0.5)"},children:Object(dt.jsx)("div",{style:{height:"50%"}})})})]})]})})})})},Ua=function(){var e=A(),t=Object(r.useState)([]),n=Object(rt.a)(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Te.initDbObras().then(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.consultar(t.database);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsxs)(Sn.a,{elevation:0,className:e.pageCard,children:[Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsx)("h1",{children:"Para navegar en la plataforma debe seleccionar una obra."})}),Object(dt.jsx)(Mt.a,{container:!0,style:{height:"75vh"},alignItems:"center",justifyContent:"center",children:a.filter((function(e){return e.toString()})).map((function(e){return Object(dt.jsx)(Mt.a,{item:!0,style:{width:"100%",padding:20},children:Object(dt.jsx)(ta,{site:e})},e.id)}))})]})})})})},Ja=function(){var e=A(),t=Object(u.f)();return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsxs)(Sn.a,{elevation:0,className:e.pageCard,children:[Object(dt.jsx)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n"})]})})})}),Object(dt.jsx)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(dt.jsx)(ea,{variant:"users"})})})]})})})})},Ya=(n(529),function(e){e.route;var t=Object(r.useState)(!1),n=Object(rt.a)(t,2),a=n[0],i=n[1],c=A(),s=Object(u.f)();return Object(r.useEffect)((function(){navigator.onLine?i(!0):i(!1)}),[]),Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:"root",container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:c.pageContainer,item:!0,xs:12,children:Object(dt.jsxs)(Sn.a,{elevation:0,className:c.pageCard,children:[Object(dt.jsx)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){s.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Administraci\xf3n / Administrar usuarios"})]})})})}),Object(dt.jsx)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:20,overflowY:"auto",height:"calc(100vh - 200px)"},children:Object(dt.jsx)(Fn,{height:"100%",hableButton:a})})})]})})})})}),Ga=function(e){return new Promise((function(t){"name"===e?t("Nombre de usuario"):"lastName"===e?t("Apellido de usuario"):"rut"===e?t("RUT de usuario"):"role"===e?t("Tipo de usuario"):"email"===e?t("Email / Correo electr\xf3nico de usuario"):"phone"===e?t("Tel\xe9fono"):"password"===e?t("Contrase\xf1a"):"sites"===e?t("Obra"):"confirmPassword"===e&&t("Confirmaci\xf3n de la contrase\xf1a")}))},_a={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",borderRadius:20,boxShadow:24,p:4},Za=function(){var e=A(),t=Object(u.f)(),n=Object(r.useState)(!1),a=Object(rt.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)(!1),o=Object(rt.a)(s,2),j=o[0],b=o[1],h=Object(r.useState)(""),m=Object(rt.a)(h,2),g=m[0],p=m[1],f=Object(r.useState)(""),x=Object(rt.a)(f,2),O=x[0],v=x[1],y=Object(r.useState)(),w=Object(rt.a)(y,2),S=w[0],C=w[1],k=Object(r.useState)({}),I=Object(rt.a)(k,2),D=I[0],R=I[1],N=Object(u.h)().id,B=function(){var e;i?(e=!1,t.goBack(),E()):e=!0,setTimeout((function(){c(e)}),500)};Object(r.useEffect)((function(){N?(v("Editar usuario"),ie(N).then((function(e){R(e.data),C(0)}))):(C(0),v("Nuevo usuario"))}),[]);var E=function(){localStorage.removeItem("userDataToSave"),localStorage.removeItem("listaPermisosReportes"),localStorage.removeItem("listaPermisosUsuarios")},M=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.parse(localStorage.getItem("userDataToSave")),n=!0,t?t.rut?Object(Ln.validate)(t.rut)?(new String,t.phone,t.phone?(a=[],Object.values(t).map(function(){var e=Object(d.a)(l.a.mark((function e(r,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=7;break}return N||(n=!1),e.t0=a,e.next=5,Ga(Object.keys(t)[i]);case 5:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 7:i==Object.values(t).length-2&&(n?N||t.password===t.confirmPassword?C(S+1):alert("Contrase\xf1as no coinciden"):setTimeout((function(){alert("Faltan datos: "+JSON.stringify(a))}),100));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())):alert("Tel\xe9fono debe contar con al menos 9 car\xe1cteres")):alert("Rut inv\xe1lido. Revise los datos."):alert("Falta RUT"):alert("Sin datos");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsxs)(Sn.a,{elevation:0,className:e.pageCard,children:[Object(dt.jsx)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){t.goBack(),E()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsxs)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:["Administraci\xf3n / Administrar usuarios / ",O]})]})})})}),Object(dt.jsx)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(dt.jsxs)("div",{style:{width:"100%",textAlign:"left",padding:10,overflowY:"auto"},children:[0===S&&Object(dt.jsx)(Yn,{width:"calc(100vw - 450px)",height:"calc(100vh - 320px)",typeDisplay:O,uData:D}),1===S&&Object(dt.jsx)(_n,{width:"calc(100vw - 350px)",height:"calc(100vh - 320px)",typeDisplay:O,id:N}),Object(dt.jsx)("div",{style:{position:"absolute",right:40,bottom:40},children:Object(dt.jsx)("div",{style:{width:"100%"},children:Object(dt.jsxs)("div",{style:{float:"right"},children:[1==S&&Object(dt.jsx)("button",{onClick:function(){return C(S-1)},style:{width:189,height:48,marginRight:17,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Modificar Datos"}),Object(dt.jsx)("button",{onClick:function(){t.goBack(),E()},style:{width:189,height:48,borderRadius:23,marginRight:17,fontSize:20,color:"#BB2D2D",borderColor:"#BB2D2D",borderWidth:2},children:"Cancelar"}),0==S&&Object(dt.jsx)("button",{onClick:function(){return M()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Siguiente"}),S>0&&!N&&Object(dt.jsx)("button",{onClick:function(){!function(){var e=JSON.parse(localStorage.getItem("userDataToSave")),t=JSON.parse(localStorage.getItem("listaPermisosReportes")),n=JSON.parse(localStorage.getItem("listaPermisosUsuarios"));t.forEach((function(a,r){a.isChecked||(a.isChecked=!1),r==t.length-1&&n.forEach(function(){var a=Object(d.a)(l.a.mark((function a(r,i){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.isChecked||(r.isChecked=!1),i!=n.length-1){a.next=20;break}if(e.permissionsReports=t,e.permissionsUsers=n,e.confirmPassword=null,b(!0),"Nuevo usuario"!==O){a.next=14;break}return p("Inscribiendo nuevo usuario"),a.next=10,ne(e,e.password);case 10:200==a.sent.status&&(b(!1),B()),a.next=20;break;case 14:if("Editar usuario"!==O){a.next=20;break}return p("Editando usuario"),a.next=18,ae(e);case 18:200==a.sent.status&&(b(!1),B());case 20:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}))}()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Crear usuario"}),S>0&&N&&Object(dt.jsx)("button",{onClick:function(){!function(){var e=JSON.parse(localStorage.getItem("userDataToSave")),t=JSON.parse(localStorage.getItem("listaPermisosReportes")),n=JSON.parse(localStorage.getItem("listaPermisosUsuarios"));t.forEach((function(a,r){a.isChecked||(a.isChecked=!1),r==t.length-1&&n.forEach(function(){var a=Object(d.a)(l.a.mark((function a(r,i){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.isChecked||(r.isChecked=!1),i!=n.length-1){a.next=8;break}return e.permissionsReports=t,e.permissionsUsers=n,a.next=6,ae(e,N);case 6:a.sent&&B();case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}))}()},style:{width:189,height:48,borderRadius:23,fontSize:20,color:"#fff",backgroundColor:"#BB2D2D",borderColor:"#BB2D2D"},children:"Editar usuario"})]})})})]})}),Object(dt.jsxs)("div",{children:[Object(dt.jsx)(kt.a,{open:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(dt.jsxs)(It.a,{sx:_a,children:[Object(dt.jsxs)("div",{style:{textAlign:"center"},children:[Object(dt.jsx)("img",{src:"../../assets/icons/check-green.svg",alt:""}),"Nuevo usuario"===O&&Object(dt.jsx)("h1",{children:"Usuario creado con \xe9xito"}),"Editar usuario"===O&&Object(dt.jsx)("h1",{children:"Usuario editado con \xe9xito"})]}),Object(dt.jsx)(_t.a,{onClick:B,style:{position:"absolute",right:10,top:10,boxShadow:"none",backgroundColor:"transparent"},children:Object(dt.jsx)(Ut.a,{style:{color:"#ccc"}})})]})}),Object(dt.jsx)(Xt,{open:j,loadingData:g,withProgress:!1})]})]})})})})},qa=function(e){e.route;var t=Object(r.useState)(),n=Object(rt.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)([]),s=Object(rt.a)(c,2),o=s[0],l=s[1],d=A(),j=Object(u.f)();return Object(r.useEffect)((function(){var e=localStorage.getItem("_id");navigator.onLine?re().then((function(t){var n=new Array,a=(n=t.data).filter((function(t){if(t._id===e)return t}));i(a[0]);var r=n.filter((function(t){if(t._id!=e&&"admin"!=t.role)return t}));l(r)})):setTimeout((function(){alert("Dispositivo sin conexi\xf3n. Revise si cuenta con internet e intente nuevamente."),j.goBack()}),100)}),[]),Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:d.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:d.pageContainer,item:!0,xs:12,children:Object(dt.jsxs)(Sn.a,{elevation:0,className:d.pageCard,children:[Object(dt.jsx)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){j.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Perfil"})]})})})}),Object(dt.jsx)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:a&&Object(dt.jsxs)(Mt.a,{container:!0,children:[Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(dt.jsx)("div",{style:{padding:20,textAlign:"right"},children:Object(dt.jsx)("img",{src:a.imageUrl,style:{maxHeight:300,maxWidth:300,objectFit:"cover"},width:"100%",alt:""})})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:a&&Object(dt.jsxs)("div",{style:{padding:20},children:[Object(dt.jsxs)("h1",{children:[a.name," ",a.lastName]}),Object(dt.jsx)("h3",{children:T(a.role)}),Object(dt.jsx)("h3",{children:a.rut}),Object(dt.jsx)("h3",{children:a.email}),Object(dt.jsxs)("h3",{children:["+56",a.phone]}),Object(dt.jsxs)("h3",{children:[JSON.parse(a.sites).idobra," - ",JSON.parse(a.sites).descripcion]}),Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsxs)("div",{style:{width:200,height:200},children:[Object(dt.jsx)("h3",{children:"Firma"}),Object(dt.jsx)("img",{src:a.sign,width:200,height:200})]})})]})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:12,md:4,lg:4,children:Object(dt.jsxs)("div",{style:{padding:20},children:[Object(dt.jsx)("h1",{children:"Otros usuarios"}),o.map((function(e,t){return Object(dt.jsxs)("div",{style:{width:"100%"},children:[Object(dt.jsxs)(Mt.a,{container:!0,children:[Object(dt.jsx)(Mt.a,{item:!0,xs:4,sm:3,lg:2,xl:2,children:Object(dt.jsx)("img",{src:e.imageUrl,width:50,height:50,style:{objectFit:"cover",borderRadius:"50%"},alt:""})}),Object(dt.jsx)(Mt.a,{item:!0,xs:6,sm:4,lg:4,xl:4,children:Object(dt.jsxs)("p",{children:[e.name," ",e.lastName]})}),Object(dt.jsx)(Mt.a,{item:!0,xs:12,sm:5,lg:4,xl:4,children:Object(dt.jsx)("p",{children:T(e.role)})})]}),Object(dt.jsx)("br",{})]},t)}))]})})]})})})]})})})})},Qa=(n(626),n(618),n(611),function(){var e=A(),t=Object(r.useState)(),n=Object(rt.a)(t,2),a=n[0],i=n[1],c=Object(u.f)(),s=Object(u.h)().id;return Object(r.useEffect)((function(){Ee.initDbPMs().then(function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.obtener(s,t.database);case 2:(n=e.sent)&&i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(dt.jsx)(It.a,{children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:e.pageCard,children:Object(dt.jsx)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsx)("div",{style:{paddingLeft:0},children:Object(dt.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){c.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:a&&"Listado Pautas / ".concat(a.typepm)})]}),Object(dt.jsx)("div",{style:{height:"90%",width:"98%"},children:a&&Object(dt.jsx)(Pn,{pauta:a})})]})})})})})})})})})}),Ha=function(){var e=A();Object(u.f)();return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:e.pageCard,children:Object(dt.jsx)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsx)("h1",{children:"Sin permiso de acceso"})})})})})})})},Va=n(71),Ka=n(609),Xa=function(e){return new Promise((function(t){ge(e).then((function(e){t(e.data)}))}))},$a=function(){return new Promise((function(e){be().then((function(t){e(t.data)}))}))},er=function(){var e=A(),t=Object(u.f)(),n=(Object(u.h)().id,Object(r.useState)([])),a=Object(rt.a)(n,2),i=a[0],c=a[1],s=Object(Va.a)(),o=Object(Ka.a)(s.breakpoints.down("lg")),j=Object(Ka.a)(s.breakpoints.down("md")),b=Object(Ka.a)(s.breakpoints.down("sm"));Object(r.useEffect)((function(){var e=!0;return navigator.onLine?new Promise(function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Array,"maintenceOperator"!==localStorage.getItem("role")&&"inspectionWorker"!==localStorage.getItem("role")){e.next=7;break}return e.next=4,Xa(localStorage.getItem("_id"));case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,$a();case 9:n=e.sent;case 10:return t(n),e.next=13,Ge.initDbReports();case 13:(a=e.sent)&&n.forEach(function(){var e=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.idDatabase=n,Ge.actualizar(t,a.database);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e.forEach(function(){var t=Object(d.a)(l.a.mark((function t(n,a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.level&&n.level>0&&(n.infoState="Terminado"),n.dateFormat=z(n.datePrev),n.end=z(n.endReport),n.init=z(n.dateInit),t.next=6,m(n.machine);case 6:n.getMachine=t.sent,"PC5500"===n.getMachine.model?n.machineType="Pala":"793-F"===n.getMachine.model&&(n.machineType="Cami\xf3n"),a==e.length-1&&(r=e.filter((function(e){if(e.enabled)return e})),c(r));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})):Ge.initDbReports().then((function(t){e&&Ge.consultar(t.database).then((function(e){e.forEach(function(){var t=Object(d.a)(l.a.mark((function t(n,a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(n.machine);case 2:n.getMachine=t.sent,n.end=z(n.endReport),n.init=z(n.dateInit),"PC5500"===n.getMachine.model?n.machineType="Pala":"793-F"===n.getMachine.model&&(n.machineType="Cami\xf3n"),a==e.length-1&&c(e);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}))})),function(){return e=!1}}),[]);var h=function(e){t.push("/assignment/".concat(e.idIndex))},m=function(e){return new Promise(function(){var t=Object(d.a)(l.a.mark((function t(n){var a,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Le.initDbMachines();case 2:if(!(a=t.sent)){t.next=8;break}return t.next=6,Le.consultar(a.database);case 6:(r=t.sent)&&(i=r.filter((function(t){if(e===t.equid)return t})),n({number:i[0].equ,model:i[0].model}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};return Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:e.pageCard,children:Object(dt.jsxs)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Actividades Asignadas"})]})})}),Object(dt.jsxs)("div",{style:{width:"100%",padding:10},children:[Object(dt.jsx)(Mt.a,{container:!0,direction:"column",children:Object(dt.jsx)("div",{style:{width:"100%",borderRadius:10,borderStyle:"solid",borderWidth:1,borderColor:"#CCC",backgroundColor:"#CCC",marginBottom:10},children:Object(dt.jsxs)(Mt.a,{container:!0,children:[Object(dt.jsx)(Mt.a,{item:!0,lg:1,md:1,sm:1,xs:2,children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"Gu\xeda"})})}),Object(dt.jsx)(Mt.a,{item:!0,lg:2,md:1,sm:6,xs:6,children:Object(dt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"Inicio programado"})}),Object(dt.jsx)(Mt.a,{item:!0,lg:1,md:1,sm:1,xs:1,children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"ID"})})}),!b&&Object(dt.jsx)(Mt.a,{item:!0,lg:2,md:1,sm:3,children:Object(dt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"Inicio ejecuci\xf3n"})}),(!b||!j||!o)&&Object(dt.jsx)(Mt.a,{item:!0,xl:1,lg:2,md:2,children:Object(dt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"M\xe1quina"})}),!b&&Object(dt.jsx)(Mt.a,{item:!0,lg:2,md:1,sm:3,children:Object(dt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"T\xe9rmino ejecuci\xf3n"})}),Object(dt.jsx)(Mt.a,{item:!0,lg:1,md:1,sm:4,xs:3,children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center",paddingRight:20},children:Object(dt.jsx)("p",{style:{fontSize:12,fontWeight:"bold"},children:"Acci\xf3n"})})})]})})}),Object(dt.jsx)(Mt.a,{container:!0,style:{overflowY:"auto",maxHeight:"calc(100vh - 295px)"},children:i.map((function(e,t){return Object(dt.jsx)("div",{style:{width:"100%",borderRadius:10,borderStyle:"solid",borderWidth:1,borderColor:"#CCC",marginBottom:10},children:Object(dt.jsxs)(Mt.a,{container:!0,children:[Object(dt.jsx)(Mt.a,{item:!0,lg:1,md:1,sm:1,xs:2,children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("p",{style:{fontSize:12},children:e.guide})})}),Object(dt.jsx)(Mt.a,{item:!0,lg:2,md:1,sm:6,xs:6,children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left"},children:Object(dt.jsx)("p",{style:{fontSize:12},children:e.dateFormat})})}),Object(dt.jsx)(Mt.a,{item:!0,lg:1,md:1,sm:1,xs:1,children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center"},children:Object(dt.jsx)("p",{style:{fontSize:12},children:e.idIndex})})}),!b&&Object(dt.jsx)(Mt.a,{item:!0,lg:2,md:1,sm:3,children:Object(dt.jsx)("p",{style:{fontSize:12},children:e.init})}),(!b||!j||!o)&&Object(dt.jsx)(Mt.a,{item:!0,xl:2,lg:2,md:2,children:Object(dt.jsxs)("p",{style:{fontSize:12},children:[" ",e.machineType," ",e.getMachine.model," N\xb0: ",e.getMachine.number," "]})}),!b&&Object(dt.jsx)(Mt.a,{item:!0,lg:2,md:1,sm:3,children:Object(dt.jsxs)("p",{style:{fontSize:12},children:[" ",e.end," "]})}),Object(dt.jsxs)(Mt.a,{item:!0,lg:1,md:1,sm:4,xs:3,children:[e.infoState&&Object(dt.jsxs)("div",{style:{width:"100%"},children:[Object(dt.jsx)("div",{style:{float:"left",width:"50%",textAlign:"center",paddingRight:20,marginTop:0},children:Object(dt.jsx)(At.a,{onClick:function(){h(e)},color:"primary",style:{borderRadius:30},children:"Ver"})}),Object(dt.jsx)("div",{style:{float:"left",width:"50%",textAlign:"center",paddingRight:20,marginTop:10},children:Object(dt.jsx)("p",{style:{marginBottom:0,marginTop:0,marginLeft:10},children:Object(dt.jsx)("strong",{children:e.infoState})})})]}),!e.infoState&&Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center",paddingRight:20,marginTop:10},children:Object(dt.jsx)(At.a,{onClick:function(){h(e)},color:"primary",style:{borderRadius:30},children:"Ver"})})]})]})},t)}))})]})]})})})})})},tr=n(612),nr=function(){var e=A(),t=Object(u.f)(),n=Object(u.h)().id,a=Object(r.useState)(),i=Object(rt.a)(a,2),c=i[0],s=i[1],o=Object(r.useState)(),j=Object(rt.a)(o,2),b=j[0],h=j[1],m=Object(r.useState)(0),g=Object(rt.a)(m,2),p=g[0],f=g[1],x=Object(r.useState)(),O=Object(rt.a)(x,2),v=O[0],y=O[1],w=Object(r.useState)(),S=Object(rt.a)(w,2),C=S[0],k=S[1],I=Object(r.useState)(),D=Object(rt.a)(I,2),R=D[0],N=D[1],B=Object(r.useState)(),E=Object(rt.a)(B,2),M=E[0],T=E[1],P=Object(r.useState)(!1),F=Object(rt.a)(P,2),z=F[0],L=F[1];Object(r.useEffect)((function(){he(n).then((function(e){var t,n=e.data;W(n),n.level||(n.level=0),T(n),k(n.level),"inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role")?t=0:"shiftManager"===localStorage.getItem("role")?t=1:"chiefMachinery"===localStorage.getItem("role")?t=2:"sapExecutive"===localStorage.getItem("role")&&(t=3),t===n.level&&N(!0)}))}),[]);var W=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,r,i,c,o,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Ee.initDbPMs();case 3:if(a=e.sent,r=t.idPm,!a){e.next=26;break}return y(n.usersAssigned[0]),e.next=9,Ee.consultar(a.database);case 9:return i=e.sent,c=i.filter((function(e){if(e.typepm===n.guide&&n.idPm===e.idpm||e.typepm===n.guide&&r===e.idpm)return e})),e.next=13,Ze.initDb();case 13:return o=e.sent,e.next=16,Ze.consultar(o.database);case 16:if(0!=(d=e.sent).length||!navigator.onLine){e.next=23;break}return e.next=20,Oe(n);case 20:return e.next=22,e.sent.data;case 22:d=e.sent;case 23:h(d[0]),s(c[0]);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=new Array;e=Object.values(b.group);var t=!0;e.map((function(n,a){n.map((function(r,i){r.isChecked||(t=!1),i==n.length-1&&a==e.length-1&&("inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role")?Y(t,M):J())}))}))},J=function(){L(!0)},Y=function(){var e=Object(d.a)(l.a.mark((function e(a,r){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?confirm("Se enviar\xe1 informaci\xf3n. \xbfDesea confirmar?")&&(i=r||JSON.parse(n),Ge.initDbReports().then((function(e){Ge.consultar(e.database).then(function(){var a=Object(d.a)(l.a.mark((function a(r){var c,s,o;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return new Array,r,c=r.filter((function(e){if(i._id===e._id)return e})),(s=c[0]).level=C+1,i.shiftManagerApprovedCommit&&(s.shiftManagerApprovedCommit=i.shiftManagerApprovedCommit),i.chiefMachineryApprovedCommit&&(s.chiefMachineryApprovedCommit=i.chiefMachineryApprovedCommit),i.sapExecutiveApprovedCommit&&(s.sapExecutiveApprovedCommit=i.sapExecutiveApprovedCommit),s.fullNameWorker="".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),1==s.level?(s.emailing="termino-orden-1",s.endReport=Date.now(),s.endReport=s.endReport):2==s.level?(s.emailing="termino-orden-2",s.shiftManagerApprovedBy=localStorage.getItem("_id"),s.shiftManagerApprovedDate=Date.now()):3==s.level?(s.emailing="termino-orden-3",s.state="Por cerrar",s.chiefMachineryApprovedBy=localStorage.getItem("_id"),s.chiefMachineryApprovedDate=Date.now()):4==s.level&&(s.emailing="termino-orden-4",s.state="Completadas",s.enabled=!1,s.dateClose=Date.now(),s.sapExecutiveApprovedBy=localStorage.getItem("_id")),a.next=12,Ve(s.level);case 12:o=a.sent,s.emailsToSend=o,Ge.actualizar(s,e.database).then(function(){var e=Object(d.a)(l.a.mark((function e(a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=9;break}if(r="https://icv-plataforma-mantencion.azurewebsites.net/activities/".concat(n),!a){e.next=7;break}return e.next=5,ue(s,r);case 5:e.sent&&(alert("Informaci\xf3n enviada"),t.goBack());case 7:e.next=10;break;case 9:alert("Informaci\xf3n actualizada en dispositivo. No olvide sincronizar una vez cuente con conexi\xf3n a internet.");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}))):alert("Orden no se encuantra finalizada. Revise e intente nuevamente.");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(l.a.mark((function e(){var a,r,i,c,s,o,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(n),e.next=3,Ge.initDbReports();case 3:return r=e.sent,e.next=6,Ve();case 6:return i=e.sent,e.next=9,Ge.consultar(r.database);case 9:return c=e.sent,s=c.filter((function(e){if(e._id===a._id)return e})),o=new Array,o=s[0].usersAssigned,d=o.filter((function(e){if(e!==localStorage.getItem("_id"))return e})),a.usersAssigned=d,a.state="Asignar",a.emailing="termino-jornada",a.fullNameWorker="".concat(localStorage.getItem("name")," ").concat(localStorage.getItem("lastName")),a.emailsToSend=i,e.next=21,Ge.actualizar(a,r.database);case 21:if(!e.sent){e.next=30;break}if(!navigator.onLine){e.next=28;break}return e.next=26,de(a);case 26:e.sent&&(alert("Se ha actualizado su reporte. La orden desaparecer\xe1 de su listado."),t.goBack());case 28:e.next=31;break;case 30:alert("Ha ocurrido un error.");case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(dt.jsx)(It.a,{height:"80vh",children:Object(dt.jsx)(Mt.a,{className:e.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:e.pageContainer,item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:e.pageCard,children:Object(dt.jsxs)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"left",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10,width:"100%"},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){t.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsx)("h1",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Actividades Asignadas / Detalle"}),Object(dt.jsx)("div",{style:{position:"absolute",right:10,width:"50%",textAlign:"right"},children:Object(dt.jsxs)("div",{style:{width:"100%",position:"relative",right:10,display:"block"},children:[Object(dt.jsxs)("div",{style:{float:"right",width:"40%",marginTop:10,textAlign:"left"},children:[Object(dt.jsx)(tr.a,{variant:"determinate",value:p,style:{width:"100%"}}),Object(dt.jsxs)("p",{children:[p.toFixed(0),"%"]})]}),"sapExecutive"!=localStorage.getItem("role")&&Object(dt.jsxs)("div",{style:{float:"right",width:"40%",marginTop:10,textAlign:"right",marginRight:20},children:[R&&Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){U()},children:"Enviar"}),!R&&Object(dt.jsx)(At.a,{disabled:!0,variant:"contained",color:"primary",style:{borderRadius:50},children:"Enviar"})]}),"sapExecutive"===localStorage.getItem("role")&&Object(dt.jsxs)("div",{style:{float:"right",width:"40%",marginTop:10,textAlign:"right",marginRight:20},children:[R&&Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){U()},children:"Cerrar Orden"}),!R&&Object(dt.jsx)(At.a,{disabled:!0,variant:"contained",color:"primary",style:{borderRadius:50},children:"Cerrar Orden"})]})]})})]})})}),Object(dt.jsx)("div",{style:{width:"98%"},children:c&&Object(dt.jsx)(Pn,{height:"calc(100vh - 380px)",reportAssigned:M,pauta:c,reportLevel:C,reportAssignment:v,setProgress:function(e){f(e)}})}),z&&Object(dt.jsx)(pn,{open:z,closeModal:function(){L(!1)},report:M,getResponseState:function(e,t){e&&Y(e,t)}}),Object(dt.jsxs)("div",{style:{width:"98%",marginTop:20,textAlign:"right"},children:[("inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role"))&&R&&Object(dt.jsx)(At.a,{variant:"contained",color:"primary",style:{borderRadius:50},onClick:function(){G()},children:"Terminar Jornada"}),("inspectionWorker"===localStorage.getItem("role")||"maintenceOperator"===localStorage.getItem("role"))&&!R&&Object(dt.jsx)(At.a,{disabled:!0,variant:"contained",color:"primary",style:{borderRadius:50},children:"Terminar Jornada"})]})]})})})})})},ar=function(){var e=Object(u.f)(),t=A(),n=Object(r.useState)([]),a=Object(rt.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){Se().then((function(e){e.data.forEach(function(){var t=Object(d.a)(l.a.mark((function t(n,a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,He(n.from);case 2:n.fullName=t.sent,n.index=a,a==e.data.length-1&&c(e.data.reverse());case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}))}),[]),Object(dt.jsx)(It.a,{height:"100%",children:Object(dt.jsx)(Mt.a,{className:t.pageRoot,container:!0,spacing:0,children:Object(dt.jsx)(Mt.a,{className:t.pageContainer,item:!0,xs:12,children:Object(dt.jsx)(Sn.a,{elevation:0,className:t.pageCard,children:Object(dt.jsxs)(Mt.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center",padding:10},children:Object(dt.jsx)("div",{style:{width:"100%",textAlign:"center",color:"#333",backgroundColor:"#fff",borderRadius:20},children:Object(dt.jsxs)(Ct.a,{style:{paddingLeft:0,backgroundColor:"#F9F9F9",borderRadius:10},children:[Object(dt.jsx)(Wt.a,{onClick:function(){return setTimeout((function(){e.goBack()}),500)},children:Object(dt.jsx)(Vn.a,{style:{color:"#333",fontSize:16}})}),Object(dt.jsx)("p",{style:{marginTop:0,marginBottom:0,fontSize:16},children:"Mensajes Internos"})]})})}),Object(dt.jsx)("div",{style:{width:"100vw",marginRight:11,overflowY:"scroll",maxHeight:"70vh",paddingLeft:20,paddingRight:20},children:Object(dt.jsx)(aa.a,{children:i.length>0&&i.map((function(e,t){return Object(dt.jsxs)("div",{children:[Object(dt.jsxs)("h2",{children:[e.index+1,".- ",e.fullName,":"]}),Object(dt.jsx)("p",{children:e.message}),Object(dt.jsx)("br",{})]},t)}))})})]})})})})})},rr=Object(p.a)((function(e){e.graphQLErrors;var t=e.networkError;e.response;null===t||void 0===t||t.statusCode})),ir=x()({uri:"/graphql",credentials:"include"}),cr=b.ApolloLink.from([rr,ir]),sr=new h.a({link:cr,cache:new m.a}),or=function(){var e=bt(),t=e.isAuthenticated,n=e.loading;return Object(r.useEffect)((function(){if(t){window.addEventListener("online",Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),window.addEventListener("offline",(function(){!0}))}}),[]),Object(dt.jsxs)("div",{style:{fontFamily:"Roboto"},children:[t&&Object(dt.jsxs)(u.a,{path:["/"],children:[t&&!n&&Object(dt.jsx)(xn,{})," ",t&&!n&&Object(dt.jsx)(Et,{})]}),Object(dt.jsxs)(u.c,{children:[!t&&Object(dt.jsx)(u.a,{exact:!0,path:["/reset-password"],render:function(){return Object(dt.jsx)(Ca,{})}}),!t&&Object(dt.jsx)(u.a,{exact:!0,path:["/restore-password/:id"],render:function(){return Object(dt.jsx)(ka,{})}}),!t&&Object(dt.jsx)(u.a,{path:["/"],render:function(){return Object(dt.jsx)(la,{})}}),n&&Object(dt.jsx)(u.a,{path:["/"],render:function(){return Object(dt.jsx)(ia,{})}}),Object(dt.jsx)(u.a,{exact:!0,path:["/","/welcome"],render:function(){return Object(dt.jsx)(Sa,{})}}),Object(dt.jsx)(u.a,{path:["/divisions"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/divisions",children:Object(dt.jsx)(Ba,{route:"divisions"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(dt.jsx)(u.a,{path:["/internal-messages"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/internal-messages",children:Object(dt.jsx)(ar,{route:"internal-messages"})})})}),Object(dt.jsx)(u.a,{path:["/reports"],children:Object(dt.jsxs)(u.c,{children:[Object(dt.jsx)(u.a,{exact:!0,path:"/reports",children:Object(dt.jsx)(Pa,{route:"reports"})}),Object(dt.jsx)(u.a,{exact:!0,path:"/reports/create-report",children:Object(dt.jsx)(Fa,{route:"reports"})}),Object(dt.jsx)(u.a,{exact:!0,path:"/reports/edit-report/:id",children:Object(dt.jsx)(Fa,{route:"reports"})})]})}),Object(dt.jsx)(u.a,{path:["/alerts"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/alerts",children:Object(dt.jsx)(za,{route:"alerts"})})})}),Object(dt.jsx)(u.a,{path:["/user-profile"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/user-profile",children:Object(dt.jsx)(qa,{route:"user-profile"})})})}),Object(dt.jsx)(u.a,{path:["/info"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/info",children:Object(dt.jsx)(La,{route:"info"})})})}),Object(dt.jsx)(u.a,{path:["/machines"],children:Object(dt.jsxs)(u.c,{children:[Object(dt.jsx)(u.a,{exact:!0,path:"/machines",children:Object(dt.jsx)(na,{route:"machines"})}),Object(dt.jsx)(u.a,{exact:!0,path:"/machines/:id",children:Object(dt.jsx)(ra,{route:"machines"})}),Object(dt.jsx)(u.a,{exact:!0,path:"/machines/machine-detail/:id",children:Object(dt.jsx)(Kn,{route:"machines/machine-detail"})})]})}),!("maintenceOperator"===localStorage.getItem("role"))&&Object(dt.jsx)(u.a,{path:["/maintenance"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/maintenance",children:Object(dt.jsx)(Ha,{route:"maintenance"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(dt.jsx)(u.a,{path:["/sites"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/sites",children:Object(dt.jsx)(Ua,{route:"sites"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role"))&&Object(dt.jsx)(u.a,{path:["/sites"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/sites",children:Object(dt.jsx)(Ha,{route:"sites"})})})}),Object(dt.jsx)(u.a,{path:["/maintance"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/maintance",children:Object(dt.jsx)(Ia,{route:"maintance"})})})}),Object(dt.jsx)(u.a,{path:["/configuration"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/configuration",children:Object(dt.jsx)(Wa,{route:"configuration"})})})}),Object(dt.jsx)(u.a,{path:["/pauta-detail"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/pauta-detail/:id",children:Object(dt.jsx)(Qa,{route:"pauta-detail"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(dt.jsx)(u.a,{path:["/administration"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/administration",children:Object(dt.jsx)(Ja,{route:"administration"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&Object(dt.jsx)(u.a,{path:["/administration"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/administration",children:Object(dt.jsx)(Ha,{route:"administration"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(dt.jsx)(u.a,{path:["/users"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/users",children:Object(dt.jsx)(Ya,{route:"users"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&Object(dt.jsx)(u.a,{path:["/users"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/users",children:Object(dt.jsx)(Ha,{route:"users"})})})}),("admin"===localStorage.getItem("role")||"sapExecutive"===localStorage.getItem("role")||"superAdmin"===localStorage.getItem("role"))&&Object(dt.jsx)(u.a,{path:["/new-users"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/new-users",children:Object(dt.jsx)(Za,{route:"new-users"})})})}),("admin"!==localStorage.getItem("role")||"sapExecutive"!==localStorage.getItem("role")||"superAdmin"!==localStorage.getItem("role"))&&Object(dt.jsx)(u.a,{path:["/new-users"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/new-users",children:Object(dt.jsx)(Ha,{route:"new-users"})})})}),Object(dt.jsx)(u.a,{path:["/edit-user"],children:Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/edit-user/:id",children:Object(dt.jsx)(Za,{route:"edit-user"})})})}),Object(dt.jsxs)(u.a,{path:["/assignment"],children:[Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{path:"/assignment/:id",children:Object(dt.jsx)(nr,{route:"assignment"})})}),Object(dt.jsx)(u.c,{children:Object(dt.jsx)(u.a,{exact:!0,path:"/assignment",children:Object(dt.jsx)(er,{route:"assignment"})})})]})]})]})},lr=function(){return Object(dt.jsx)(j.a,{children:Object(dt.jsx)(g.a,{client:sr,children:Object(dt.jsx)(jt,{children:Object(dt.jsx)(xt,{children:Object(dt.jsx)(yt,{children:Object(dt.jsxs)(O.a,{theme:k,children:[Object(dt.jsx)(v.a,{}),Object(dt.jsx)(or,{})]})})})})})})},dr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ur(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var jr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,631)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};s.a.render(Object(dt.jsx)(i.a.StrictMode,{children:Object(dt.jsx)(lr,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");dr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ur(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ur(t,e)}))}}({onUpdate:function(e){var t=e.waiting;t&&(t.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.location.reload()})),t.postMessage({type:"SKIP_WAITING"}))}}),jr()}},[[545,1,2]]]);
//# sourceMappingURL=main.b1e22e3c.chunk.js.map